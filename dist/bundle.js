/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={382:function(t,e,n){!function(t,e,n,i){"use strict";var s=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},o=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},r=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var i=n.startTime,s=n.target,o=n.timeConstant;return s+(e-s)*Math.exp((i-t)/o)},c=function(t){return"exponentialRampToValue"===t.type},u=function(t){return"linearRampToValue"===t.type},h=function(t){return c(t)||u(t)},p=function(t){return"setValue"===t.type},d=function(t){return"setValueCurve"===t.type},f=function t(e,n,i,s){var o=e[n];return void 0===o?s:h(o)||p(o)?o.value:d(o)?o.values[o.values.length-1]:l(i,t(e,n-1,o.startTime,s),o)},m=function(t,e,n,i,s){return void 0===n?[i.insertTime,s]:h(n)?[n.endTime,n.value]:p(n)?[n.startTime,n.value]:d(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,s)]},g=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},y=function(t){return g(t)||v(t)?t.cancelTime:c(t)||u(t)?t.endTime:t.startTime},_=function(t,e,n,i){var s=i.endTime,o=i.value;return n===o?o:0<n&&0<o||n<0&&o<0?n*Math.pow(o/n,(t-e)/(s-e)):0},x=function(t,e,n,i){return n+(t-e)/(i.endTime-e)*(i.value-n)},b=function(t,e){var n=e.duration,i=e.startTime,s=e.values;return function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]}(s,(t-i)/n*(s.length-1))},w=function(t){return"setTarget"===t.type},T=function(t){function T(t){n(this,T),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return i(T,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=y(t);if(g(t)||v(t)){var n=this._automationEvents.findIndex((function(n){return v(t)&&d(n)?n.startTime+n.duration>=e:y(n)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&h(i)){if(void 0!==l&&w(l))throw new Error("The internal list is malformed.");var p=void 0===l?i.insertTime:d(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:d(l)?l.values[l.values.length-1]:l.value,m=c(i)?_(e,p,f,i):x(e,p,f,i),b=c(i)?s(m,e,this._currenTime):o(m,e,this._currenTime);this._automationEvents.push(b)}if(void 0!==l&&w(l)&&this._automationEvents.push(r(this.getValue(e),e)),void 0!==l&&d(l)&&l.startTime+l.duration>e){var T=e-l.startTime,S=(l.values.length-1)/l.duration,C=Math.max(2,1+Math.ceil(T*S)),A=T/(C-1)*S,k=l.values.slice(0,C);if(A<1)for(var M=1;M<C;M+=1){var O=A*M%1;k[M]=l.values[M-1]*(1-O)+l.values[M]*O}this._automationEvents[this._automationEvents.length-1]=a(k,l.startTime,T)}}}else{var I=this._automationEvents.findIndex((function(t){return y(t)>e})),E=-1===I?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[I-1];if(void 0!==E&&d(E)&&y(E)+E.duration>e)return!1;var P=c(t)?s(t.value,t.endTime,this._currenTime):u(t)?o(t.value,e,this._currenTime):t;if(-1===I)this._automationEvents.push(P);else{if(d(t)&&e+t.duration>y(this._automationEvents[I]))return!1;this._automationEvents.splice(I,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return y(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];w(i)&&n.unshift(r(f(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return y(e)>t})),i=this._automationEvents[n],s=(-1===n?this._automationEvents.length:n)-1,o=this._automationEvents[s];if(void 0!==o&&w(o)&&(void 0===i||!h(i)||i.insertTime>t))return l(t,f(this._automationEvents,s-1,o.startTime,this._defaultValue),o);if(void 0!==o&&p(o)&&(void 0===i||!h(i)))return o.value;if(void 0!==o&&d(o)&&(void 0===i||!h(i)||o.startTime+o.duration>t))return t<o.startTime+o.duration?b(t,o):o.values[o.values.length-1];if(void 0!==o&&h(o)&&(void 0===i||!h(i)))return o.value;if(void 0!==i&&c(i)){var r=m(this._automationEvents,s,o,i,this._defaultValue),a=e(r,2),g=a[0],v=a[1];return _(t,g,v,i)}if(void 0!==i&&u(i)){var T=m(this._automationEvents,s,o,i,this._defaultValue),S=e(T,2),C=S[0],A=S[1];return x(t,C,A,i)}return this._defaultValue}}]),T}(Symbol.iterator);t.AutomationEventList=T,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=r,t.createSetValueCurveAutomationEvent=a}(e,n(424),n(690),n(728))},842:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){var i={};t.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(t,e){var n,s;"boolean"==typeof e?(n=2,s=e):(n=1,s=!0);for(var o=n;o<arguments.length;o++){var r=arguments[o];if(r)for(var a in r)s&&r[a]&&r[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=r[a]:(t[a]=t[a]||{},i.extend(t[a],s,r[a])):t[a]=r[a]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];if(Object.keys){for(var n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}for(var s in t)e.push(t[s]);return e},i.get=function(t,e,n,i){e=e.split(".").slice(n,i);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},i.set=function(t,e,n,s,o){var r=e.split(".").slice(s,o);return i.get(t,e,0,-1)[r[r.length-1]]=n,n},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(i.random()*(e+1)),s=t[e];t[e]=t[n],t[n]=s}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"==typeof t},i.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===toString.call(t)},i.clamp=function(t,e,n){return t<e?e:t>n?n:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(e,n){return n=void 0!==n?n:1,(e=void 0!==e?e:0)+t()*(n-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[t]||(i.warn(t),i._warnedOnce[t]=!0)},i.deprecated=function(t,e,n){t[e]=i.chain((function(){i.warnOnce("ðŸ”… deprecated ðŸ”…",n)}),t[e])},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i+=1)n.push(e(t[i]));return n},i.topologicalSort=function(t){var e=[],n=[],s=[];for(var o in t)n[o]||s[o]||i._topologicalSort(o,n,s,t,e);return e},i._topologicalSort=function(t,e,n,s,o){var r=s[t]||[];n[t]=!0;for(var a=0;a<r.length;a+=1){var l=r[a];n[l]||e[l]||i._topologicalSort(l,e,n,s,o)}n[t]=!1,e[t]=!0,o.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var n=arguments[e];n._chained?t.push.apply(t,n._chained):t.push(n)}var i=function(){for(var e,n=new Array(arguments.length),i=0,s=arguments.length;i<s;i++)n[i]=arguments[i];for(i=0;i<t.length;i+=1){var o=t[i].apply(e,n);void 0!==o&&(e=o)}return e};return i._chained=t,i},i.chainPathBefore=function(t,e,n){return i.set(t,e,i.chain(n,i.get(t,e)))},i.chainPathAfter=function(t,e,n){return i.set(t,e,i.chain(i.get(t,e),n))},i.setDecomp=function(t){i._decomp=t},i.getDecomp=function(){var t=i._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===n.g||(t=n.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var n={};t.exports=n,n.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&n.update(e,t),e},n.update=function(t,e,n){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var i=0;i<e.length;i++){var s=e[i];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}n&&(n.x>0?t.max.x+=n.x:t.min.x+=n.x,n.y>0?t.max.y+=n.y:t.min.y+=n.y)},n.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},n.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},n.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},n.shift=function(t,e){var n=t.max.x-t.min.x,i=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+n,t.min.y=e.y,t.max.y=e.y+i}},function(t,e){var n={};t.exports=n,n.create=function(t,e){return{x:t||0,y:e||0}},n.clone=function(t){return{x:t.x,y:t.y}},n.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},n.rotate=function(t,e,n){var i=Math.cos(e),s=Math.sin(e);n||(n={});var o=t.x*i-t.y*s;return n.y=t.x*s+t.y*i,n.x=o,n},n.rotateAbout=function(t,e,n,i){var s=Math.cos(e),o=Math.sin(e);i||(i={});var r=n.x+((t.x-n.x)*s-(t.y-n.y)*o);return i.y=n.y+((t.x-n.x)*o+(t.y-n.y)*s),i.x=r,i},n.normalise=function(t){var e=n.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.cross=function(t,e){return t.x*e.y-t.y*e.x},n.cross3=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},n.add=function(t,e,n){return n||(n={}),n.x=t.x+e.x,n.y=t.y+e.y,n},n.sub=function(t,e,n){return n||(n={}),n.x=t.x-e.x,n.y=t.y-e.y,n},n.mult=function(t,e){return{x:t.x*e,y:t.y*e}},n.div=function(t,e){return{x:t.x/e,y:t.y/e}},n.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},n.neg=function(t){return{x:-t.x,y:-t.y}},n.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(0);i.create=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=t[i],o={x:s.x,y:s.y,index:i,body:e,isInternal:!1};n.push(o)}return n},i.fromPath=function(t,e){var n=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,i){n.push({x:parseFloat(e),y:parseFloat(i)})})),i.create(n,e)},i.centre=function(t){for(var e,n,o,r=i.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)o=(l+1)%t.length,e=s.cross(t[l],t[o]),n=s.mult(s.add(t[l],t[o]),e),a=s.add(a,n);return s.div(a,6*r)},i.mean=function(t){for(var e={x:0,y:0},n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y;return s.div(e,t.length)},i.area=function(t,e){for(var n=0,i=t.length-1,s=0;s<t.length;s++)n+=(t[i].x-t[s].x)*(t[i].y+t[s].y),i=s;return e?n/2:Math.abs(n)/2},i.inertia=function(t,e){for(var n,i,o=0,r=0,a=t,l=0;l<a.length;l++)i=(l+1)%a.length,o+=(n=Math.abs(s.cross(a[i],a[l])))*(s.dot(a[i],a[i])+s.dot(a[i],a[l])+s.dot(a[l],a[l])),r+=n;return e/6*(o/r)},i.translate=function(t,e,n){n=void 0!==n?n:1;var i,s=t.length,o=e.x*n,r=e.y*n;for(i=0;i<s;i++)t[i].x+=o,t[i].y+=r;return t},i.rotate=function(t,e,n){if(0!==e){var i,s,o,r,a=Math.cos(e),l=Math.sin(e),c=n.x,u=n.y,h=t.length;for(r=0;r<h;r++)s=(i=t[r]).x-c,o=i.y-u,i.x=c+(s*a-o*l),i.y=u+(s*l+o*a);return t}},i.contains=function(t,e){for(var n,i=e.x,s=e.y,o=t.length,r=t[o-1],a=0;a<o;a++){if(n=t[a],(i-r.x)*(n.y-r.y)+(s-r.y)*(r.x-n.x)>0)return!1;r=n}return!0},i.scale=function(t,e,n,o){if(1===e&&1===n)return t;var r,a;o=o||i.centre(t);for(var l=0;l<t.length;l++)r=t[l],a=s.sub(r,o),t[l].x=o.x+a.x*e,t[l].y=o.y+a.y*n;return t},i.chamfer=function(t,e,n,i,r){e="number"==typeof e?[e]:e||[8],n=void 0!==n?n:-1,i=i||2,r=r||14;for(var a=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],u=t[l],h=t[(l+1)%t.length],p=e[l<e.length?l:e.length-1];if(0!==p){var d=s.normalise({x:u.y-c.y,y:c.x-u.x}),f=s.normalise({x:h.y-u.y,y:u.x-h.x}),m=Math.sqrt(2*Math.pow(p,2)),g=s.mult(o.clone(d),p),v=s.normalise(s.mult(s.add(d,f),.5)),y=s.sub(u,s.mult(v,m)),_=n;-1===n&&(_=1.75*Math.pow(p,.32)),(_=o.clamp(_,i,r))%2==1&&(_+=1);for(var x=Math.acos(s.dot(d,f))/_,b=0;b<_;b++)a.push(s.add(s.rotate(g,x*b),y))}else a.push(u)}return a},i.clockwiseSort=function(t){var e=i.mean(t);return t.sort((function(t,n){return s.angle(e,t)-s.angle(e,n)})),t},i.isConvex=function(t){var e,n,i,s,o=0,r=t.length;if(r<3)return null;for(e=0;e<r;e++)if(i=(e+2)%r,s=(t[n=(e+1)%r].x-t[e].x)*(t[i].y-t[n].y),(s-=(t[n].y-t[e].y)*(t[i].x-t[n].x))<0?o|=1:s>0&&(o|=2),3===o)return!1;return 0!==o||null},i.hull=function(t){var e,n,i=[],o=[];for((t=t.slice(0)).sort((function(t,e){var n=t.x-e.x;return 0!==n?n:t.y-e.y})),n=0;n<t.length;n+=1){for(e=t[n];o.length>=2&&s.cross3(o[o.length-2],o[o.length-1],e)<=0;)o.pop();o.push(e)}for(n=t.length-1;n>=0;n-=1){for(e=t[n];i.length>=2&&s.cross3(i[i.length-2],i[i.length-1],e)<=0;)i.pop();i.push(e)}return i.pop(),o.pop(),i.concat(o)}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(2),r=n(7),a=n(0),l=n(1),c=n(11);!function(){i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(e){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=a.extend(n,e);return t(i,e),i},i.nextGroup=function(t){return t?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var t=function(t,e){e=e||{},i.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),i.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var n=t.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),r=t.isStatic?"#555":"#ccc",u=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||n,t.render.strokeStyle=t.render.strokeStyle||r,t.render.lineWidth=t.render.lineWidth||u,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};i.set=function(t,e,n){var s;for(s in"string"==typeof e&&(s=e,(e={})[s]=n),e)if(Object.prototype.hasOwnProperty.call(e,s))switch(n=e[s],s){case"isStatic":i.setStatic(t,n);break;case"isSleeping":r.set(t,n);break;case"mass":i.setMass(t,n);break;case"density":i.setDensity(t,n);break;case"inertia":i.setInertia(t,n);break;case"vertices":i.setVertices(t,n);break;case"position":i.setPosition(t,n);break;case"angle":i.setAngle(t,n);break;case"velocity":i.setVelocity(t,n);break;case"angularVelocity":i.setAngularVelocity(t,n);break;case"speed":i.setSpeed(t,n);break;case"angularSpeed":i.setAngularSpeed(t,n);break;case"parts":i.setParts(t,n);break;case"centre":i.setCentre(t,n);break;default:t[s]=n}},i.setStatic=function(t,e){for(var n=0;n<t.parts.length;n++){var i=t.parts[n];i.isStatic=e,e?(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia},i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,i._original=null)}},i.setMass=function(t,e){var n=t.inertia/(t.mass/6);t.inertia=n*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},i.setDensity=function(t,e){i.setMass(t,e*t.area),t.density=e},i.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},i.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=s.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=s.area(t.vertices),i.setMass(t,t.density*t.area);var n=s.centre(t.vertices);s.translate(t.vertices,n,-1),i.setInertia(t,i._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},i.setParts=function(t,e,n){var o;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<e.length;o++){var r=e[o];r!==t&&(r.parent=t,t.parts.push(r))}if(1!==t.parts.length){if(n=void 0===n||n){var a=[];for(o=0;o<e.length;o++)a=a.concat(e[o].vertices);s.clockwiseSort(a);var l=s.hull(a),c=s.centre(l);i.setVertices(t,l),s.translate(t.vertices,c)}var u=i._totalProperties(t);t.area=u.area,t.parent=t,t.position.x=u.centre.x,t.position.y=u.centre.y,t.positionPrev.x=u.centre.x,t.positionPrev.y=u.centre.y,i.setMass(t,u.mass),i.setInertia(t,u.inertia),i.setPosition(t,u.centre)}},i.setCentre=function(t,e,n){n?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},i.setPosition=function(t,e,n){var i=o.sub(e,t.position);n?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=i.x,t.velocity.y=i.y,t.speed=o.magnitude(i)):(t.positionPrev.x+=i.x,t.positionPrev.y+=i.y);for(var r=0;r<t.parts.length;r++){var a=t.parts[r];a.position.x+=i.x,a.position.y+=i.y,s.translate(a.vertices,i),l.update(a.bounds,a.vertices,t.velocity)}},i.setAngle=function(t,e,n){var i=e-t.angle;n?(t.anglePrev=t.angle,t.angularVelocity=i,t.angularSpeed=Math.abs(i)):t.anglePrev+=i;for(var r=0;r<t.parts.length;r++){var a=t.parts[r];a.angle+=i,s.rotate(a.vertices,i,t.position),c.rotate(a.axes,i),l.update(a.bounds,a.vertices,t.velocity),r>0&&o.rotateAbout(a.position,i,t.position,a.position)}},i.setVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.positionPrev.x=t.position.x-e.x*n,t.positionPrev.y=t.position.y-e.y*n,t.velocity.x=(t.position.x-t.positionPrev.x)/n,t.velocity.y=(t.position.y-t.positionPrev.y)/n,t.speed=o.magnitude(t.velocity)},i.getVelocity=function(t){var e=i._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},i.getSpeed=function(t){return o.magnitude(i.getVelocity(t))},i.setSpeed=function(t,e){i.setVelocity(t,o.mult(o.normalise(i.getVelocity(t)),e))},i.setAngularVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.anglePrev=t.angle-e*n,t.angularVelocity=(t.angle-t.anglePrev)/n,t.angularSpeed=Math.abs(t.angularVelocity)},i.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*i._baseDelta/t.deltaTime},i.getAngularSpeed=function(t){return Math.abs(i.getAngularVelocity(t))},i.setAngularSpeed=function(t,e){i.setAngularVelocity(t,a.sign(i.getAngularVelocity(t))*e)},i.translate=function(t,e,n){i.setPosition(t,o.add(t.position,e),n)},i.rotate=function(t,e,n,s){if(n){var o=Math.cos(e),r=Math.sin(e),a=t.position.x-n.x,l=t.position.y-n.y;i.setPosition(t,{x:n.x+(a*o-l*r),y:n.y+(a*r+l*o)},s),i.setAngle(t,t.angle+e,s)}else i.setAngle(t,t.angle+e,s)},i.scale=function(t,e,n,o){var r=0,a=0;o=o||t.position;for(var u=0;u<t.parts.length;u++){var h=t.parts[u];s.scale(h.vertices,e,n,o),h.axes=c.fromVertices(h.vertices),h.area=s.area(h.vertices),i.setMass(h,t.density*h.area),s.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),i.setInertia(h,i._inertiaScale*s.inertia(h.vertices,h.mass)),s.translate(h.vertices,{x:h.position.x,y:h.position.y}),u>0&&(r+=h.area,a+=h.inertia),h.position.x=o.x+(h.position.x-o.x)*e,h.position.y=o.y+(h.position.y-o.y)*n,l.update(h.bounds,h.vertices,t.velocity)}t.parts.length>1&&(t.area=r,t.isStatic||(i.setMass(t,t.density*r),i.setInertia(t,a))),t.circleRadius&&(e===n?t.circleRadius*=e:t.circleRadius=null)},i.update=function(t,e){var n=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,r=i._timeCorrection?e/(t.deltaTime||e):1,u=1-t.frictionAir*(e/a._baseDelta),h=(t.position.x-t.positionPrev.x)*r,p=(t.position.y-t.positionPrev.y)*r;t.velocity.x=h*u+t.force.x/t.mass*n,t.velocity.y=p*u+t.force.y/t.mass*n,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*u*r+t.torque/t.inertia*n,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var d=0;d<t.parts.length;d++){var f=t.parts[d];s.translate(f.vertices,t.velocity),d>0&&(f.position.x+=t.velocity.x,f.position.y+=t.velocity.y),0!==t.angularVelocity&&(s.rotate(f.vertices,t.angularVelocity,t.position),c.rotate(f.axes,t.angularVelocity),d>0&&o.rotateAbout(f.position,t.angularVelocity,t.position,f.position)),l.update(f.bounds,f.vertices,t.velocity)}},i.updateVelocities=function(t){var e=i._baseDelta/t.deltaTime,n=t.velocity;n.x=(t.position.x-t.positionPrev.x)*e,n.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(n.x*n.x+n.y*n.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},i.applyForce=function(t,e,n){var i=e.x-t.position.x,s=e.y-t.position.y;t.force.x+=n.x,t.force.y+=n.y,t.torque+=i*n.y-s*n.x},i._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===t.parts.length?0:1;n<t.parts.length;n++){var i=t.parts[n],s=i.mass!==1/0?i.mass:1;e.mass+=s,e.area+=i.area,e.inertia+=i.inertia,e.centre=o.add(e.centre,o.mult(i.position,s))}return e.centre=o.div(e.centre,e.mass),e}}()},function(t,e,n){var i={};t.exports=i;var s=n(0);i.on=function(t,e,n){for(var i,s=e.split(" "),o=0;o<s.length;o++)i=s[o],t.events=t.events||{},t.events[i]=t.events[i]||[],t.events[i].push(n);return n},i.off=function(t,e,n){if(e){"function"==typeof e&&(n=e,e=s.keys(t.events).join(" "));for(var i=e.split(" "),o=0;o<i.length;o++){var r=t.events[i[o]],a=[];if(n&&r)for(var l=0;l<r.length;l++)r[l]!==n&&a.push(r[l]);t.events[i[o]]=a}}else t.events={}},i.trigger=function(t,e,n){var i,o,r,a,l=t.events;if(l&&s.keys(l).length>0){n||(n={}),i=e.split(" ");for(var c=0;c<i.length;c++)if(r=l[o=i[c]]){(a=s.clone(n,!1)).name=o,a.source=t;for(var u=0;u<r.length;u++)r[u].apply(t,[a])}}}},function(t,e,n){var i={};t.exports=i;var s=n(5),o=n(0),r=n(1),a=n(4);i.create=function(t){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},i.setModified=function(t,e,n,s){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),n&&t.parent&&i.setModified(t.parent,e,n,s),s)for(var o=0;o<t.composites.length;o++){var r=t.composites[o];i.setModified(r,e,n,s)}},i.add=function(t,e){var n=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var r=0;r<n.length;r++){var a=n[r];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(t,a);break;case"constraint":i.addConstraint(t,a);break;case"composite":i.addComposite(t,a);break;case"mouseConstraint":i.addConstraint(t,a.constraint)}}return s.trigger(t,"afterAdd",{object:e}),t},i.remove=function(t,e,n){var o=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var r=0;r<o.length;r++){var a=o[r];switch(a.type){case"body":i.removeBody(t,a,n);break;case"constraint":i.removeConstraint(t,a,n);break;case"composite":i.removeComposite(t,a,n);break;case"mouseConstraint":i.removeConstraint(t,a.constraint)}}return s.trigger(t,"afterRemove",{object:e}),t},i.addComposite=function(t,e){return t.composites.push(e),e.parent=t,i.setModified(t,!0,!0,!1),t},i.removeComposite=function(t,e,n){var s=o.indexOf(t.composites,e);if(-1!==s&&i.removeCompositeAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeComposite(t.composites[r],e,!0);return t},i.removeCompositeAt=function(t,e){return t.composites.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addBody=function(t,e){return t.bodies.push(e),i.setModified(t,!0,!0,!1),t},i.removeBody=function(t,e,n){var s=o.indexOf(t.bodies,e);if(-1!==s&&i.removeBodyAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeBody(t.composites[r],e,!0);return t},i.removeBodyAt=function(t,e){return t.bodies.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addConstraint=function(t,e){return t.constraints.push(e),i.setModified(t,!0,!0,!1),t},i.removeConstraint=function(t,e,n){var s=o.indexOf(t.constraints,e);if(-1!==s&&i.removeConstraintAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeConstraint(t.composites[r],e,!0);return t},i.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),i.setModified(t,!0,!0,!1),t},i.clear=function(t,e,n){if(n)for(var s=0;s<t.composites.length;s++)i.clear(t.composites[s],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,i.setModified(t,!0,!0,!1),t},i.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),n=0;n<t.composites.length;n++)e=e.concat(i.allBodies(t.composites[n]));return t.cache&&(t.cache.allBodies=e),e},i.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),n=0;n<t.composites.length;n++)e=e.concat(i.allConstraints(t.composites[n]));return t.cache&&(t.cache.allConstraints=e),e},i.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),n=0;n<t.composites.length;n++)e=e.concat(i.allComposites(t.composites[n]));return t.cache&&(t.cache.allComposites=e),e},i.get=function(t,e,n){var s,o;switch(n){case"body":s=i.allBodies(t);break;case"constraint":s=i.allConstraints(t);break;case"composite":s=i.allComposites(t).concat(t)}return s?0===(o=s.filter((function(t){return t.id.toString()===e.toString()}))).length?null:o[0]:null},i.move=function(t,e,n){return i.remove(t,e),i.add(n,e),t},i.rebase=function(t){for(var e=i.allBodies(t).concat(i.allConstraints(t)).concat(i.allComposites(t)),n=0;n<e.length;n++)e[n].id=o.nextId();return t},i.translate=function(t,e,n){for(var s=n?i.allBodies(t):t.bodies,o=0;o<s.length;o++)a.translate(s[o],e);return t},i.rotate=function(t,e,n,s){for(var o=Math.cos(e),r=Math.sin(e),l=s?i.allBodies(t):t.bodies,c=0;c<l.length;c++){var u=l[c],h=u.position.x-n.x,p=u.position.y-n.y;a.setPosition(u,{x:n.x+(h*o-p*r),y:n.y+(h*r+p*o)}),a.rotate(u,e)}return t},i.scale=function(t,e,n,s,o){for(var r=o?i.allBodies(t):t.bodies,l=0;l<r.length;l++){var c=r[l],u=c.position.x-s.x,h=c.position.y-s.y;a.setPosition(c,{x:s.x+u*e,y:s.y+h*n}),a.scale(c,e,n)}return t},i.bounds=function(t){for(var e=i.allBodies(t),n=[],s=0;s<e.length;s+=1){var o=e[s];n.push(o.bounds.min,o.bounds.max)}return r.create(n)}},function(t,e,n){var i={};t.exports=i;var s=n(4),o=n(5),r=n(0);i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(t,e){for(var n=e/r._baseDelta,o=i._motionSleepThreshold,a=0;a<t.length;a++){var l=t[a],c=s.getSpeed(l),u=s.getAngularSpeed(l),h=c*c+u*u;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,h),d=Math.max(l.motion,h);l.motion=i._minBias*p+(1-i._minBias)*d,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&i.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else i.set(l,!1)}},i.afterCollisions=function(t){for(var e=i._motionSleepThreshold,n=0;n<t.length;n++){var s=t[n];if(s.isActive){var o=s.collision,r=o.bodyA.parent,a=o.bodyB.parent;if(!(r.isSleeping&&a.isSleeping||r.isStatic||a.isStatic)&&(r.isSleeping||a.isSleeping)){var l=r.isSleeping&&!r.isStatic?r:a,c=l===r?a:r;!l.isStatic&&c.motion>e&&i.set(l,!1)}}}},i.set=function(t,e){var n=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,n||o.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,n&&o.trigger(t,"sleepEnd"))}},function(t,e,n){var i={};t.exports=i;var s,o,r,a=n(3),l=n(9);s=[],o={overlap:0,axis:null},r={overlap:0,axis:null},i.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},i.collides=function(t,e,n){if(i._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;if(i._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0)return null;var s,c,u=n&&n.table[l.id(t,e)];u?s=u.collision:((s=i.create(t,e)).collided=!0,s.bodyA=t.id<e.id?t:e,s.bodyB=t.id<e.id?e:t,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),t=s.bodyA,e=s.bodyB,c=o.overlap<r.overlap?o:r;var h=s.normal,p=s.supports,d=c.axis,f=d.x,m=d.y;f*(e.position.x-t.position.x)+m*(e.position.y-t.position.y)<0?(h.x=f,h.y=m):(h.x=-f,h.y=-m),s.tangent.x=-h.y,s.tangent.y=h.x,s.depth=c.overlap,s.penetration.x=h.x*s.depth,s.penetration.y=h.y*s.depth;var g=i._findSupports(t,e,h,1),v=0;if(a.contains(t.vertices,g[0])&&(p[v++]=g[0]),a.contains(t.vertices,g[1])&&(p[v++]=g[1]),v<2){var y=i._findSupports(e,t,h,-1);a.contains(e.vertices,y[0])&&(p[v++]=y[0]),v<2&&a.contains(e.vertices,y[1])&&(p[v++]=y[1])}return 0===v&&(p[v++]=g[0]),p.length=v,s},i._overlapAxes=function(t,e,n,i){var s,o,r,a,l,c,u=e.length,h=n.length,p=e[0].x,d=e[0].y,f=n[0].x,m=n[0].y,g=i.length,v=Number.MAX_VALUE,y=0;for(l=0;l<g;l++){var _=i[l],x=_.x,b=_.y,w=p*x+d*b,T=f*x+m*b,S=w,C=T;for(c=1;c<u;c+=1)(a=e[c].x*x+e[c].y*b)>S?S=a:a<w&&(w=a);for(c=1;c<h;c+=1)(a=n[c].x*x+n[c].y*b)>C?C=a:a<T&&(T=a);if((s=(o=S-T)<(r=C-w)?o:r)<v&&(v=s,y=l,s<=0))break}t.axis=i[y],t.overlap=v},i._projectToAxis=function(t,e,n){for(var i=e[0].x*n.x+e[0].y*n.y,s=i,o=1;o<e.length;o+=1){var r=e[o].x*n.x+e[o].y*n.y;r>s?s=r:r<i&&(i=r)}t.min=i,t.max=s},i._findSupports=function(t,e,n,i){var o,r,a,l,c,u=e.vertices,h=u.length,p=t.position.x,d=t.position.y,f=n.x*i,m=n.y*i,g=Number.MAX_VALUE;for(c=0;c<h;c+=1)(l=f*(p-(r=u[c]).x)+m*(d-r.y))<g&&(g=l,o=r);return g=f*(p-(a=u[(h+o.index-1)%h]).x)+m*(d-a.y),f*(p-(r=u[(o.index+1)%h]).x)+m*(d-r.y)<g?(s[0]=o,s[1]=r,s):(s[0]=o,s[1]=a,s)}},function(t,e,n){var i={};t.exports=i;var s=n(16);i.create=function(t,e){var n=t.bodyA,s=t.bodyB,o={id:i.id(n,s),bodyA:n,bodyB:s,collision:t,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||s.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(o,t,e),o},i.update=function(t,e,n){var i=t.contacts,o=e.supports,r=t.activeContacts,a=e.parentA,l=e.parentB,c=a.vertices.length;t.isActive=!0,t.timeUpdated=n,t.collision=e,t.separation=e.depth,t.inverseMass=a.inverseMass+l.inverseMass,t.friction=a.friction<l.friction?a.friction:l.friction,t.frictionStatic=a.frictionStatic>l.frictionStatic?a.frictionStatic:l.frictionStatic,t.restitution=a.restitution>l.restitution?a.restitution:l.restitution,t.slop=a.slop>l.slop?a.slop:l.slop,e.pair=t,r.length=0;for(var u=0;u<o.length;u++){var h=o[u],p=h.body===a?h.index:c+h.index,d=i[p];d?r.push(d):r.push(i[p]=s.create(h))}},i.setActive=function(t,e,n){e?(t.isActive=!0,t.timeUpdated=n):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(2),r=n(7),a=n(1),l=n(11),c=n(0);i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var n=e.bodyA?o.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?o.add(e.bodyB.position,e.pointB):e.pointB,s=o.magnitude(o.sub(n,i));e.length=void 0!==e.length?e.length:s,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=c.extend(r,e.render),e},i.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var n=t[e],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},i.solveAll=function(t,e){for(var n=c.clamp(e/c._baseDelta,0,1),s=0;s<t.length;s+=1){var o=t[s],r=!o.bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(r||a)&&i.solve(t[s],n)}for(s=0;s<t.length;s+=1)r=!(o=t[s]).bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic,r||a||i.solve(t[s],n)},i.solve=function(t,e){var n=t.bodyA,s=t.bodyB,r=t.pointA,a=t.pointB;if(n||s){n&&!n.isStatic&&(o.rotate(r,n.angle-t.angleA,r),t.angleA=n.angle),s&&!s.isStatic&&(o.rotate(a,s.angle-t.angleB,a),t.angleB=s.angle);var l=r,c=a;if(n&&(l=o.add(n.position,r)),s&&(c=o.add(s.position,a)),l&&c){var u=o.sub(l,c),h=o.magnitude(u);h<i._minLength&&(h=i._minLength);var p,d,f,m,g,v=(h-t.length)/h,y=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,_=t.damping*e,x=o.mult(u,v*y),b=(n?n.inverseMass:0)+(s?s.inverseMass:0),w=b+((n?n.inverseInertia:0)+(s?s.inverseInertia:0));if(_>0){var T=o.create();f=o.div(u,h),g=o.sub(s&&o.sub(s.position,s.positionPrev)||T,n&&o.sub(n.position,n.positionPrev)||T),m=o.dot(f,g)}n&&!n.isStatic&&(d=n.inverseMass/b,n.constraintImpulse.x-=x.x*d,n.constraintImpulse.y-=x.y*d,n.position.x-=x.x*d,n.position.y-=x.y*d,_>0&&(n.positionPrev.x-=_*f.x*m*d,n.positionPrev.y-=_*f.y*m*d),p=o.cross(r,x)/w*i._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),s&&!s.isStatic&&(d=s.inverseMass/b,s.constraintImpulse.x+=x.x*d,s.constraintImpulse.y+=x.y*d,s.position.x+=x.x*d,s.position.y+=x.y*d,_>0&&(s.positionPrev.x+=_*f.x*m*d,s.positionPrev.y+=_*f.y*m*d),p=o.cross(a,x)/w*i._torqueDampen*s.inverseInertia*(1-t.angularStiffness),s.constraintImpulse.angle+=p,s.angle+=p)}}},i.postSolveAll=function(t){for(var e=0;e<t.length;e++){var n=t[e],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){r.set(n,!1);for(var u=0;u<n.parts.length;u++){var h=n.parts[u];s.translate(h.vertices,c),u>0&&(h.position.x+=c.x,h.position.y+=c.y),0!==c.angle&&(s.rotate(h.vertices,c.angle,n.position),l.rotate(h.axes,c.angle),u>0&&o.rotateAbout(h.position,c.angle,n.position,h.position)),a.update(h.bounds,h.vertices,n.velocity)}c.angle*=i._warming,c.x*=i._warming,c.y*=i._warming}}},i.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},i.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}}},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(0);i.fromVertices=function(t){for(var e={},n=0;n<t.length;n++){var i=(n+1)%t.length,r=s.normalise({x:t[i].y-t[n].y,y:t[n].x-t[i].x}),a=0===r.y?1/0:r.x/r.y;e[a=a.toFixed(3).toString()]=r}return o.values(e)},i.rotate=function(t,e){if(0!==e)for(var n=Math.cos(e),i=Math.sin(e),s=0;s<t.length;s++){var o,r=t[s];o=r.x*n-r.y*i,r.y=r.x*i+r.y*n,r.x=o}}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(0),r=n(4),a=n(1),l=n(2);i.rectangle=function(t,e,n,i,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(a.chamfer){var c=a.chamfer;l.vertices=s.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return r.create(o.extend({},l,a))},i.trapezoid=function(t,e,n,i,a,l){l=l||{};var c,u=n*(a*=.5),h=u+(1-2*a)*n,p=h+u;c=a<.5?"L 0 0 L "+u+" "+-i+" L "+h+" "+-i+" L "+p+" 0":"L 0 0 L "+h+" "+-i+" L "+p+" 0";var d={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(c)};if(l.chamfer){var f=l.chamfer;d.vertices=s.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return r.create(o.extend({},d,l))},i.circle=function(t,e,n,s,r){s=s||{};var a={label:"Circle Body",circleRadius:n};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,n)));return l%2==1&&(l+=1),i.polygon(t,e,l,n,o.extend({},a,s))},i.polygon=function(t,e,n,a,l){if(l=l||{},n<3)return i.circle(t,e,a,l);for(var c=2*Math.PI/n,u="",h=.5*c,p=0;p<n;p+=1){var d=h+p*c,f=Math.cos(d)*a,m=Math.sin(d)*a;u+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(u)};if(l.chamfer){var v=l.chamfer;g.vertices=s.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return r.create(o.extend({},g,l))},i.fromVertices=function(t,e,n,i,c,u,h,p){var d,f,m,g,v,y,_,x,b,w,T=o.getDecomp();for(d=Boolean(T&&T.quickDecomp),i=i||{},m=[],c=void 0!==c&&c,u=void 0!==u?u:.01,h=void 0!==h?h:10,p=void 0!==p?p:.01,o.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(v=n[b],!(g=s.isConvex(v))&&!d&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!d)v=g?s.clockwiseSort(v):s.hull(v),m.push({position:{x:t,y:e},vertices:v});else{var S=v.map((function(t){return[t.x,t.y]}));T.makeCCW(S),!1!==u&&T.removeCollinearPoints(S,u),!1!==p&&T.removeDuplicatePoints&&T.removeDuplicatePoints(S,p);var C=T.quickDecomp(S);for(y=0;y<C.length;y++){var A=C[y].map((function(t){return{x:t[0],y:t[1]}}));h>0&&s.area(A)<h||m.push({position:s.centre(A),vertices:A})}}for(y=0;y<m.length;y++)m[y]=r.create(o.extend(m[y],i));if(c)for(y=0;y<m.length;y++){var k=m[y];for(_=y+1;_<m.length;_++){var M=m[_];if(a.overlaps(k.bounds,M.bounds)){var O=k.vertices,I=M.vertices;for(x=0;x<k.vertices.length;x++)for(w=0;w<M.vertices.length;w++){var E=l.magnitudeSquared(l.sub(O[(x+1)%O.length],I[w])),P=l.magnitudeSquared(l.sub(O[x],I[(w+1)%I.length]));E<5&&P<5&&(O[x].isInternal=!0,I[w].isInternal=!0)}}}}return m.length>1?(f=r.create(o.extend({parts:m.slice(0)},i)),r.setPosition(f,{x:t,y:e}),f):m[0]}},function(t,e,n){var i={};t.exports=i;var s=n(0),o=n(8);i.create=function(t){return s.extend({bodies:[],pairs:null},t)},i.setBodies=function(t,e){t.bodies=e.slice(0)},i.clear=function(t){t.bodies=[]},i.collisions=function(t){var e,n,s=[],r=t.pairs,a=t.bodies,l=a.length,c=i.canCollide,u=o.collides;for(a.sort(i._compareBoundsX),e=0;e<l;e++){var h=a[e],p=h.bounds,d=h.bounds.max.x,f=h.bounds.max.y,m=h.bounds.min.y,g=h.isStatic||h.isSleeping,v=h.parts.length,y=1===v;for(n=e+1;n<l;n++){var _=a[n];if((k=_.bounds).min.x>d)break;if(!(f<k.min.y||m>k.max.y)&&(!g||!_.isStatic&&!_.isSleeping)&&c(h.collisionFilter,_.collisionFilter)){var x=_.parts.length;if(y&&1===x)(C=u(h,_,r))&&s.push(C);else for(var b=x>1?1:0,w=v>1?1:0;w<v;w++)for(var T=h.parts[w],S=(p=T.bounds,b);S<x;S++){var C,A=_.parts[S],k=A.bounds;p.min.x>k.max.x||p.max.x<k.min.x||p.max.y<k.min.y||p.min.y>k.max.y||(C=u(T,A,r))&&s.push(C)}}}}return s},i.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)},i._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,n){var i={};t.exports=i;var s=n(0);i.create=function(t){var e={};return t||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},i.setElement(e,e.element),e},i.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},i.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},i.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i._getRelativeMousePosition=function(t,e,n){var i,s,o=e.getBoundingClientRect(),r=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:r.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:r.scrollTop,c=t.changedTouches;return c?(i=c[0].pageX-o.left-a,s=c[0].pageY-o.top-l):(i=t.pageX-o.left-a,s=t.pageY-o.top-l),{x:i/(e.clientWidth/(e.width||e.clientWidth)*n),y:s/(e.clientHeight/(e.height||e.clientHeight)*n)}}},function(t,e,n){var i={};t.exports=i;var s=n(0);i._registry={},i.register=function(t){if(i.isPlugin(t)||s.warn("Plugin.register:",i.toString(t),"does not implement all required fields."),t.name in i._registry){var e=i._registry[t.name],n=i.versionParse(t.version).number,o=i.versionParse(e.version).number;n>o?(s.warn("Plugin.register:",i.toString(e),"was upgraded to",i.toString(t)),i._registry[t.name]=t):n<o?s.warn("Plugin.register:",i.toString(e),"can not be downgraded to",i.toString(t)):t!==e&&s.warn("Plugin.register:",i.toString(t),"is already registered to different plugin object")}else i._registry[t.name]=t;return t},i.resolve=function(t){return i._registry[i.dependencyParse(t).name]},i.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},i.isPlugin=function(t){return t&&t.name&&t.version&&t.install},i.isUsed=function(t,e){return t.used.indexOf(e)>-1},i.isFor=function(t,e){var n=t.for&&i.dependencyParse(t.for);return!t.for||e.name===n.name&&i.versionSatisfies(e.version,n.range)},i.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var n=i.dependencies(t),o=s.topologicalSort(n),r=[],a=0;a<o.length;a+=1)if(o[a]!==t.name){var l=i.resolve(o[a]);l?i.isUsed(t,l.name)||(i.isFor(l,t)||(s.warn("Plugin.use:",i.toString(l),"is for",l.for,"but installed on",i.toString(t)+"."),l._warned=!0),l.install?l.install(t):(s.warn("Plugin.use:",i.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(r.push("ðŸ”¶ "+i.toString(l)),delete l._warned):r.push("âœ… "+i.toString(l)),t.used.push(l.name)):r.push("âŒ "+o[a])}r.length>0&&s.info(r.join("  "))}else s.warn("Plugin.use:",i.toString(t),"does not specify any dependencies to install.")},i.dependencies=function(t,e){var n=i.dependencyParse(t),o=n.name;if(!(o in(e=e||{}))){t=i.resolve(t)||t,e[o]=s.map(t.uses||[],(function(e){i.isPlugin(e)&&i.register(e);var o=i.dependencyParse(e),r=i.resolve(e);return r&&!i.versionSatisfies(r.version,o.range)?(s.warn("Plugin.dependencies:",i.toString(r),"does not satisfy",i.toString(o),"used by",i.toString(n)+"."),r._warned=!0,t._warned=!0):r||(s.warn("Plugin.dependencies:",i.toString(e),"used by",i.toString(n),"could not be resolved."),t._warned=!0),o.name}));for(var r=0;r<e[o].length;r+=1)i.dependencies(e[o][r],e);return e}},i.dependencyParse=function(t){return s.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},i.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||s.warn("Plugin.versionParse:",t,"is not a valid version or range.");var n=e.exec(t),i=Number(n[4]),o=Number(n[5]),r=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:t,operator:n[1]||n[2]||"",major:i,minor:o,patch:r,parts:[i,o,r],prerelease:n[7],number:1e8*i+1e4*o+r}},i.versionSatisfies=function(t,e){e=e||"*";var n=i.versionParse(e),s=i.versionParse(t);if(n.isRange){if("*"===n.operator||"*"===t)return!0;if(">"===n.operator)return s.number>n.number;if(">="===n.operator)return s.number>=n.number;if("~"===n.operator)return s.major===n.major&&s.minor===n.minor&&s.patch>=n.patch;if("^"===n.operator)return n.major>0?s.major===n.major&&s.number>=n.number:n.minor>0?s.minor===n.minor&&s.patch>=n.patch:s.patch===n.patch}return t===e||"*"===t}},function(t,e){var n={};t.exports=n,n.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,n){var i={};t.exports=i;var s=n(7),o=n(18),r=n(13),a=n(19),l=n(5),c=n(6),u=n(10),h=n(0),p=n(4);i.create=function(t){t=t||{};var e=h.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},t);return e.world=t.world||c.create({label:"World"}),e.pairs=t.pairs||a.create(),e.detector=t.detector||r.create(),e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},i.update=function(t,e){var n,p=h.now(),d=t.world,f=t.detector,m=t.pairs,g=t.timing,v=g.timestamp;e=void 0!==e?e:h._baseDelta,e*=g.timeScale,g.timestamp+=e,g.lastDelta=e;var y={timestamp:g.timestamp,delta:e};l.trigger(t,"beforeUpdate",y);var _=c.allBodies(d),x=c.allConstraints(d);for(d.isModified&&(r.setBodies(f,_),c.setModified(d,!1,!1,!0)),t.enableSleeping&&s.update(_,e),i._bodiesApplyGravity(_,t.gravity),e>0&&i._bodiesUpdate(_,e),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);u.postSolveAll(_),f.pairs=t.pairs;var b=r.collisions(f);a.update(m,b,v),t.enableSleeping&&s.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:m.collisionStart});var w=h.clamp(20/t.positionIterations,0,1);for(o.preSolvePosition(m.list),n=0;n<t.positionIterations;n++)o.solvePosition(m.list,e,w);for(o.postSolvePosition(_),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);for(u.postSolveAll(_),o.preSolveVelocity(m.list),n=0;n<t.velocityIterations;n++)o.solveVelocity(m.list,e);return i._bodiesUpdateVelocities(_),m.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:m.collisionEnd}),i._bodiesClearForces(_),l.trigger(t,"afterUpdate",y),t.timing.lastElapsed=h.now()-p,t},i.merge=function(t,e){if(h.extend(t,e),e.world){t.world=e.world,i.clear(t);for(var n=c.allBodies(t.world),o=0;o<n.length;o++){var r=n[o];s.set(r,!1),r.id=h.nextId()}}},i.clear=function(t){a.clear(t.pairs),r.clear(t.detector)},i._bodiesClearForces=function(t){for(var e=t.length,n=0;n<e;n++){var i=t[n];i.force.x=0,i.force.y=0,i.torque=0}},i._bodiesApplyGravity=function(t,e){var n=void 0!==e.scale?e.scale:.001,i=t.length;if((0!==e.x||0!==e.y)&&0!==n)for(var s=0;s<i;s++){var o=t[s];o.isStatic||o.isSleeping||(o.force.y+=o.mass*e.y*n,o.force.x+=o.mass*e.x*n)}},i._bodiesUpdate=function(t,e){for(var n=t.length,i=0;i<n;i++){var s=t[i];s.isStatic||s.isSleeping||p.update(s,e)}},i._bodiesUpdateVelocities=function(t){for(var e=t.length,n=0;n<e;n++)p.updateVelocities(t[n])}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(0),r=n(1);i._restingThresh=2,i._restingThreshTangent=Math.sqrt(6),i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i._frictionMaxStatic=Number.MAX_VALUE,i.preSolvePosition=function(t){var e,n,i,s=t.length;for(e=0;e<s;e++)(n=t[e]).isActive&&(i=n.activeContacts.length,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},i.solvePosition=function(t,e,n){var s,r,a,l,c,u,h,p,d=i._positionDampen*(n||1),f=o.clamp(e/o._baseDelta,0,1),m=t.length;for(s=0;s<m;s++)(r=t[s]).isActive&&!r.isSensor&&(l=(a=r.collision).parentA,c=a.parentB,u=a.normal,r.separation=u.x*(c.positionImpulse.x+a.penetration.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y+a.penetration.y-l.positionImpulse.y));for(s=0;s<m;s++)(r=t[s]).isActive&&!r.isSensor&&(l=(a=r.collision).parentA,c=a.parentB,u=a.normal,p=r.separation-r.slop*f,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(h=d/l.totalContacts,l.positionImpulse.x+=u.x*p*h,l.positionImpulse.y+=u.y*p*h),c.isStatic||c.isSleeping||(h=d/c.totalContacts,c.positionImpulse.x-=u.x*p*h,c.positionImpulse.y-=u.y*p*h))},i.postSolvePosition=function(t){for(var e=i._positionWarming,n=t.length,o=s.translate,a=r.update,l=0;l<n;l++){var c=t[l],u=c.positionImpulse,h=u.x,p=u.y,d=c.velocity;if(c.totalContacts=0,0!==h||0!==p){for(var f=0;f<c.parts.length;f++){var m=c.parts[f];o(m.vertices,u),a(m.bounds,m.vertices,d),m.position.x+=h,m.position.y+=p}c.positionPrev.x+=h,c.positionPrev.y+=p,h*d.x+p*d.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},i.preSolveVelocity=function(t){var e,n,i=t.length;for(e=0;e<i;e++){var s=t[e];if(s.isActive&&!s.isSensor){var o=s.activeContacts,r=o.length,a=s.collision,l=a.parentA,c=a.parentB,u=a.normal,h=a.tangent;for(n=0;n<r;n++){var p=o[n],d=p.vertex,f=p.normalImpulse,m=p.tangentImpulse;if(0!==f||0!==m){var g=u.x*f+h.x*m,v=u.y*f+h.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=v*l.inverseMass,l.anglePrev+=l.inverseInertia*((d.x-l.position.x)*v-(d.y-l.position.y)*g)),c.isStatic||c.isSleeping||(c.positionPrev.x-=g*c.inverseMass,c.positionPrev.y-=v*c.inverseMass,c.anglePrev-=c.inverseInertia*((d.x-c.position.x)*v-(d.y-c.position.y)*g))}}}}},i.solveVelocity=function(t,e){var n,s,r,a,l=e/o._baseDelta,c=l*l*l,u=-i._restingThresh*l,h=i._restingThreshTangent,p=i._frictionNormalMultiplier*l,d=i._frictionMaxStatic,f=t.length;for(r=0;r<f;r++){var m=t[r];if(m.isActive&&!m.isSensor){var g=m.collision,v=g.parentA,y=g.parentB,_=v.velocity,x=y.velocity,b=g.normal.x,w=g.normal.y,T=g.tangent.x,S=g.tangent.y,C=m.activeContacts,A=C.length,k=1/A,M=v.inverseMass+y.inverseMass,O=m.friction*m.frictionStatic*p;for(_.x=v.position.x-v.positionPrev.x,_.y=v.position.y-v.positionPrev.y,x.x=y.position.x-y.positionPrev.x,x.y=y.position.y-y.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,y.angularVelocity=y.angle-y.anglePrev,a=0;a<A;a++){var I=C[a],E=I.vertex,P=E.x-v.position.x,D=E.y-v.position.y,R=E.x-y.position.x,V=E.y-y.position.y,N=_.x-D*v.angularVelocity,B=_.y+P*v.angularVelocity,q=N-(x.x-V*y.angularVelocity),F=B-(x.y+R*y.angularVelocity),L=b*q+w*F,j=T*q+S*F,W=m.separation+L,U=Math.min(W,1),H=(U=W<0?0:U)*O;j<-H||j>H?(s=j>0?j:-j,(n=m.friction*(j>0?1:-1)*c)<-s?n=-s:n>s&&(n=s)):(n=j,s=d);var z=P*w-D*b,G=R*w-V*b,X=k/(M+v.inverseInertia*z*z+y.inverseInertia*G*G),Y=(1+m.restitution)*L*X;if(n*=X,L<u)I.normalImpulse=0;else{var Z=I.normalImpulse;I.normalImpulse+=Y,I.normalImpulse>0&&(I.normalImpulse=0),Y=I.normalImpulse-Z}if(j<-h||j>h)I.tangentImpulse=0;else{var $=I.tangentImpulse;I.tangentImpulse+=n,I.tangentImpulse<-s&&(I.tangentImpulse=-s),I.tangentImpulse>s&&(I.tangentImpulse=s),n=I.tangentImpulse-$}var Q=b*Y+T*n,J=w*Y+S*n;v.isStatic||v.isSleeping||(v.positionPrev.x+=Q*v.inverseMass,v.positionPrev.y+=J*v.inverseMass,v.anglePrev+=(P*J-D*Q)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Q*y.inverseMass,y.positionPrev.y-=J*y.inverseMass,y.anglePrev-=(R*J-V*Q)*y.inverseInertia)}}}}},function(t,e,n){var i={};t.exports=i;var s=n(9),o=n(0);i.create=function(t){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},i.update=function(t,e,n){var i,o,r,a,l=t.list,c=l.length,u=t.table,h=e.length,p=t.collisionStart,d=t.collisionEnd,f=t.collisionActive;for(p.length=0,d.length=0,f.length=0,a=0;a<c;a++)l[a].confirmedActive=!1;for(a=0;a<h;a++)(r=(i=e[a]).pair)?(r.isActive?f.push(r):p.push(r),s.update(r,i,n),r.confirmedActive=!0):(u[(r=s.create(i,n)).id]=r,p.push(r),l.push(r));var m=[];for(c=l.length,a=0;a<c;a++)(r=l[a]).confirmedActive||(s.setActive(r,!1,n),d.push(r),r.collision.bodyA.isSleeping||r.collision.bodyB.isSleeping||m.push(a));for(a=0;a<m.length;a++)r=l[o=m[a]-a],l.splice(o,1),delete u[r.id]},i.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,n){var i=t.exports=n(21);i.Axes=n(11),i.Bodies=n(12),i.Body=n(4),i.Bounds=n(1),i.Collision=n(8),i.Common=n(0),i.Composite=n(6),i.Composites=n(22),i.Constraint=n(10),i.Contact=n(16),i.Detector=n(13),i.Engine=n(17),i.Events=n(5),i.Grid=n(23),i.Mouse=n(14),i.MouseConstraint=n(24),i.Pair=n(9),i.Pairs=n(19),i.Plugin=n(15),i.Query=n(25),i.Render=n(26),i.Resolver=n(18),i.Runner=n(27),i.SAT=n(28),i.Sleeping=n(7),i.Svg=n(29),i.Vector=n(2),i.Vertices=n(3),i.World=n(30),i.Engine.run=i.Runner.run,i.Common.deprecated(i.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(t,e,n){var i={};t.exports=i;var s=n(15),o=n(0);i.name="matter-js",i.version="0.19.0",i.uses=[],i.used=[],i.use=function(){s.use(i,Array.prototype.slice.call(arguments))},i.before=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathBefore(i,t,e)},i.after=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathAfter(i,t,e)}},function(t,e,n){var i={};t.exports=i;var s=n(6),o=n(10),r=n(0),a=n(4),l=n(12),c=r.deprecated;i.stack=function(t,e,n,i,o,r,l){for(var c,u=s.create({label:"Stack"}),h=t,p=e,d=0,f=0;f<i;f++){for(var m=0,g=0;g<n;g++){var v=l(h,p,g,f,c,d);if(v){var y=v.bounds.max.y-v.bounds.min.y,_=v.bounds.max.x-v.bounds.min.x;y>m&&(m=y),a.translate(v,{x:.5*_,y:.5*y}),h=v.bounds.max.x+o,s.addBody(u,v),c=v,d+=1}else h+=o}p+=m+r,h=t}return u},i.chain=function(t,e,n,i,a,l){for(var c=t.bodies,u=1;u<c.length;u++){var h=c[u-1],p=c[u],d=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,m=p.bounds.max.y-p.bounds.min.y,g={bodyA:h,pointA:{x:f*e,y:d*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*i,y:m*a}},v=r.extend(g,l);s.addConstraint(t,o.create(v))}return t.label+=" Chain",t},i.mesh=function(t,e,n,i,a){var l,c,u,h,p,d=t.bodies;for(l=0;l<n;l++){for(c=1;c<e;c++)u=d[c-1+l*e],h=d[c+l*e],s.addConstraint(t,o.create(r.extend({bodyA:u,bodyB:h},a)));if(l>0)for(c=0;c<e;c++)u=d[c+(l-1)*e],h=d[c+l*e],s.addConstraint(t,o.create(r.extend({bodyA:u,bodyB:h},a))),i&&c>0&&(p=d[c-1+(l-1)*e],s.addConstraint(t,o.create(r.extend({bodyA:p,bodyB:h},a)))),i&&c<e-1&&(p=d[c+1+(l-1)*e],s.addConstraint(t,o.create(r.extend({bodyA:p,bodyB:h},a))))}return t.label+=" Mesh",t},i.pyramid=function(t,e,n,s,o,r,l){return i.stack(t,e,n,s,o,r,(function(e,i,r,c,u,h){var p=Math.min(s,Math.ceil(n/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p||r<(c=p-c)||r>n-1-c))return 1===h&&a.translate(u,{x:(r+(n%2==1?1:-1))*d,y:0}),l(t+(u?r*d:0)+r*o,i,r,c,u,h)}))},i.newtonsCradle=function(t,e,n,i,r){for(var a=s.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(t+c*(1.9*i),e+r,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:t+c*(1.9*i),y:e},bodyB:u});s.addBody(a,u),s.addConstraint(a,h)}return a},c(i,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),i.car=function(t,e,n,i,r){var c=a.nextGroup(!0),u=.5*-n+20,h=.5*n-20,p=s.create({label:"Car"}),d=l.rectangle(t,e,n,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),f=l.circle(t+u,e+0,r,{collisionFilter:{group:c},friction:.8}),m=l.circle(t+h,e+0,r,{collisionFilter:{group:c},friction:.8}),g=o.create({bodyB:d,pointB:{x:u,y:0},bodyA:f,stiffness:1,length:0}),v=o.create({bodyB:d,pointB:{x:h,y:0},bodyA:m,stiffness:1,length:0});return s.addBody(p,d),s.addBody(p,f),s.addBody(p,m),s.addConstraint(p,g),s.addConstraint(p,v),p},c(i,"car","Composites.car âž¤ moved to car example"),i.softBody=function(t,e,n,s,o,a,c,u,h,p){h=r.extend({inertia:1/0},h),p=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var d=i.stack(t,e,n,s,o,a,(function(t,e){return l.circle(t,e,u,h)}));return i.mesh(d,n,s,c,p),d.label="Soft Body",d},c(i,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")},function(t,e,n){var i={};t.exports=i;var s=n(9),o=n(0),r=o.deprecated;i.create=function(t){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},i.update=function(t,e,n,s){var o,r,a,l,c,u=n.world,h=t.buckets,p=!1;for(o=0;o<e.length;o++){var d=e[o];if((!d.isSleeping||s)&&(!u.bounds||!(d.bounds.max.x<u.bounds.min.x||d.bounds.min.x>u.bounds.max.x||d.bounds.max.y<u.bounds.min.y||d.bounds.min.y>u.bounds.max.y))){var f=i._getRegion(t,d);if(!d.region||f.id!==d.region.id||s){d.region&&!s||(d.region=f);var m=i._regionUnion(f,d.region);for(r=m.startCol;r<=m.endCol;r++)for(a=m.startRow;a<=m.endRow;a++){l=h[c=i._getBucketId(r,a)];var g=r>=f.startCol&&r<=f.endCol&&a>=f.startRow&&a<=f.endRow,v=r>=d.region.startCol&&r<=d.region.endCol&&a>=d.region.startRow&&a<=d.region.endRow;!g&&v&&v&&l&&i._bucketRemoveBody(t,l,d),(d.region===f||g&&!v||s)&&(l||(l=i._createBucket(h,c)),i._bucketAddBody(t,l,d))}d.region=f,p=!0}}}p&&(t.pairsList=i._createActivePairsList(t))},r(i,"update","Grid.update âž¤ replaced by Matter.Detector"),i.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},r(i,"clear","Grid.clear âž¤ replaced by Matter.Detector"),i._regionUnion=function(t,e){var n=Math.min(t.startCol,e.startCol),s=Math.max(t.endCol,e.endCol),o=Math.min(t.startRow,e.startRow),r=Math.max(t.endRow,e.endRow);return i._createRegion(n,s,o,r)},i._getRegion=function(t,e){var n=e.bounds,s=Math.floor(n.min.x/t.bucketWidth),o=Math.floor(n.max.x/t.bucketWidth),r=Math.floor(n.min.y/t.bucketHeight),a=Math.floor(n.max.y/t.bucketHeight);return i._createRegion(s,o,r,a)},i._createRegion=function(t,e,n,i){return{id:t+","+e+","+n+","+i,startCol:t,endCol:e,startRow:n,endRow:i}},i._getBucketId=function(t,e){return"C"+t+"R"+e},i._createBucket=function(t,e){return t[e]=[]},i._bucketAddBody=function(t,e,n){var i,o=t.pairs,r=s.id,a=e.length;for(i=0;i<a;i++){var l=e[i];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=r(n,l),u=o[c];u?u[2]+=1:o[c]=[n,l,1]}}e.push(n)},i._bucketRemoveBody=function(t,e,n){var i,r=t.pairs,a=s.id;e.splice(o.indexOf(e,n),1);var l=e.length;for(i=0;i<l;i++){var c=r[a(n,e[i])];c&&(c[2]-=1)}},i._createActivePairsList=function(t){var e,n,i=t.pairs,s=o.keys(i),r=s.length,a=[];for(n=0;n<r;n++)(e=i[s[n]])[2]>0?a.push(e):delete i[s[n]];return a}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(7),r=n(14),a=n(5),l=n(13),c=n(10),u=n(6),h=n(0),p=n(1);i.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);n||(t&&t.render&&t.render.canvas?n=r.create(t.render.canvas):e&&e.element?n=r.create(e.element):(n=r.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var s={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=h.extend(s,e);return a.on(t,"beforeUpdate",(function(){var e=u.allBodies(t.world);i.update(o,e),i._triggerEvents(o)})),o},i.update=function(t,e){var n=t.mouse,i=t.constraint,r=t.body;if(0===n.button){if(i.bodyB)o.set(i.bodyB,!1),i.pointA=n.position;else for(var c=0;c<e.length;c++)if(r=e[c],p.contains(r.bounds,n.position)&&l.canCollide(r.collisionFilter,t.collisionFilter))for(var u=r.parts.length>1?1:0;u<r.parts.length;u++){var h=r.parts[u];if(s.contains(h.vertices,n.position)){i.pointA=n.position,i.bodyB=t.body=r,i.pointB={x:n.position.x-r.position.x,y:n.position.y-r.position.y},i.angleB=r.angle,o.set(r,!1),a.trigger(t,"startdrag",{mouse:n,body:r});break}}}else i.bodyB=t.body=null,i.pointB=null,r&&a.trigger(t,"enddrag",{mouse:n,body:r})},i._triggerEvents=function(t){var e=t.mouse,n=e.sourceEvents;n.mousemove&&a.trigger(t,"mousemove",{mouse:e}),n.mousedown&&a.trigger(t,"mousedown",{mouse:e}),n.mouseup&&a.trigger(t,"mouseup",{mouse:e}),r.clearSourceEvents(e)}},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(8),r=n(1),a=n(12),l=n(3);i.collides=function(t,e){for(var n=[],i=e.length,s=t.bounds,a=o.collides,l=r.overlaps,c=0;c<i;c++){var u=e[c],h=u.parts.length,p=1===h?0:1;if(l(u.bounds,s))for(var d=p;d<h;d++){var f=u.parts[d];if(l(f.bounds,s)){var m=a(f,t);if(m){n.push(m);break}}}}return n},i.ray=function(t,e,n,o){o=o||1e-100;for(var r=s.angle(e,n),l=s.magnitude(s.sub(e,n)),c=.5*(n.x+e.x),u=.5*(n.y+e.y),h=a.rectangle(c,u,l,o,{angle:r}),p=i.collides(h,t),d=0;d<p.length;d+=1){var f=p[d];f.body=f.bodyB=f.bodyA}return p},i.region=function(t,e,n){for(var i=[],s=0;s<t.length;s++){var o=t[s],a=r.overlaps(o.bounds,e);(a&&!n||!a&&n)&&i.push(o)}return i},i.point=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=t[i];if(r.contains(s.bounds,e))for(var o=1===s.parts.length?0:1;o<s.parts.length;o++){var a=s.parts[o];if(r.contains(a.bounds,e)&&l.contains(a.vertices,e)){n.push(s);break}}}return n}},function(t,e,n){var i={};t.exports=i;var s=n(4),o=n(0),r=n(6),a=n(1),l=n(5),c=n(2),u=n(14);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(o.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i._goodFps=30,i._goodDelta=1e3/60,i.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=o.extend(e,t);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=t.mouse,n.engine=t.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=i,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&i.setPixelRatio(n,n.options.pixelRatio),o.isElement(n.element)&&n.element.appendChild(n.canvas),n},i.run=function(e){!function s(o){e.frameRequestId=t(s),n(e,o),i.world(e,o),(e.options.showStats||e.options.showDebug)&&i.stats(e,e.context,o),(e.options.showPerformance||e.options.showDebug)&&i.performance(e,e.context,o)}()},i.stop=function(t){e(t.frameRequestId)},i.setPixelRatio=function(t,e){var n=t.options,i=t.canvas;"auto"===e&&(e=d(i)),n.pixelRatio=e,i.setAttribute("data-pixel-ratio",e),i.width=n.width*e,i.height=n.height*e,i.style.width=n.width+"px",i.style.height=n.height+"px"},i.lookAt=function(t,e,n,i){i=void 0===i||i,e=o.isArray(e)?e:[e],n=n||{x:0,y:0};for(var s={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},r=0;r<e.length;r+=1){var a=e[r],l=a.bounds?a.bounds.min:a.min||a.position||a,c=a.bounds?a.bounds.max:a.max||a.position||a;l&&c&&(l.x<s.min.x&&(s.min.x=l.x),c.x>s.max.x&&(s.max.x=c.x),l.y<s.min.y&&(s.min.y=l.y),c.y>s.max.y&&(s.max.y=c.y))}var h=s.max.x-s.min.x+2*n.x,p=s.max.y-s.min.y+2*n.y,d=t.canvas.height,f=t.canvas.width/d,m=h/p,g=1,v=1;m>f?v=m/f:g=f/m,t.options.hasBounds=!0,t.bounds.min.x=s.min.x,t.bounds.max.x=s.min.x+h*g,t.bounds.min.y=s.min.y,t.bounds.max.y=s.min.y+p*v,i&&(t.bounds.min.x+=.5*h-h*g*.5,t.bounds.max.x+=.5*h-h*g*.5,t.bounds.min.y+=.5*p-p*v*.5,t.bounds.max.y+=.5*p-p*v*.5),t.bounds.min.x-=n.x,t.bounds.max.x-=n.x,t.bounds.min.y-=n.y,t.bounds.max.y-=n.y,t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),u.setOffset(t.mouse,t.bounds.min))},i.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,i=e/t.options.width,s=n/t.options.height;t.context.setTransform(t.options.pixelRatio/i,0,0,t.options.pixelRatio/s,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},i.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},i.world=function(t,e){var n,s=o.now(),h=t.engine,p=h.world,d=t.canvas,f=t.context,g=t.options,v=t.timing,y=r.allBodies(p),_=r.allConstraints(p),x=g.wireframes?g.wireframeBackground:g.background,b=[],w=[],T={timestamp:h.timing.timestamp};if(l.trigger(t,"beforeRender",T),t.currentBackground!==x&&m(t,x),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,d.width,d.height),f.globalCompositeOperation="source-over",g.hasBounds){for(n=0;n<y.length;n++){var S=y[n];a.overlaps(S.bounds,t.bounds)&&b.push(S)}for(n=0;n<_.length;n++){var C=_[n],A=C.bodyA,k=C.bodyB,M=C.pointA,O=C.pointB;A&&(M=c.add(A.position,C.pointA)),k&&(O=c.add(k.position,C.pointB)),M&&O&&(a.contains(t.bounds,M)||a.contains(t.bounds,O))&&w.push(C)}i.startViewTransform(t),t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),u.setOffset(t.mouse,t.bounds.min))}else w=_,b=y,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!g.wireframes||h.enableSleeping&&g.showSleeping?i.bodies(t,b,f):(g.showConvexHulls&&i.bodyConvexHulls(t,b,f),i.bodyWireframes(t,b,f)),g.showBounds&&i.bodyBounds(t,b,f),(g.showAxes||g.showAngleIndicator)&&i.bodyAxes(t,b,f),g.showPositions&&i.bodyPositions(t,b,f),g.showVelocity&&i.bodyVelocity(t,b,f),g.showIds&&i.bodyIds(t,b,f),g.showSeparations&&i.separations(t,h.pairs.list,f),g.showCollisions&&i.collisions(t,h.pairs.list,f),g.showVertexNumbers&&i.vertexNumbers(t,b,f),g.showMousePosition&&i.mousePosition(t,t.mouse,f),i.constraints(w,f),g.hasBounds&&i.endViewTransform(t),l.trigger(t,"afterRender",T),v.lastElapsed=o.now()-s},i.stats=function(t,e,n){for(var i=t.engine,s=i.world,o=r.allBodies(s),a=0,l=0,c=0;c<o.length;c+=1)a+=o[c].parts.length;var u={Part:a,Body:o.length,Cons:r.allConstraints(s).length,Comp:r.allComposites(s).length,Pair:i.pairs.list.length};for(var h in e.fillStyle="#0e0f19",e.fillRect(l,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",u){var p=u[h];e.fillStyle="#aaa",e.fillText(h,l+55,8),e.fillStyle="#eee",e.fillText(p,l+55,26),l+=55}},i.performance=function(t,e){var n=t.engine,s=t.timing,o=s.deltaHistory,r=s.elapsedHistory,a=s.timestampElapsedHistory,l=s.engineDeltaHistory,c=s.engineElapsedHistory,u=n.timing.lastDelta,p=h(o),d=h(r),f=h(l),m=h(c),g=h(a)/p||0,v=1e3/p||0;e.fillStyle="#0e0f19",e.fillRect(0,50,370,34),i.status(e,10,69,60,4,o.length,Math.round(v)+" fps",v/i._goodFps,(function(t){return o[t]/p-1})),i.status(e,82,69,60,4,l.length,u.toFixed(2)+" dt",i._goodDelta/u,(function(t){return l[t]/f-1})),i.status(e,154,69,60,4,c.length,m.toFixed(2)+" ut",1-m/i._goodFps,(function(t){return c[t]/m-1})),i.status(e,226,69,60,4,r.length,d.toFixed(2)+" rt",1-d/i._goodFps,(function(t){return r[t]/d-1})),i.status(e,298,69,60,4,a.length,g.toFixed(2)+" x",g*g*g,(function(t){return(a[t]/o[t]/g||0)-1}))},i.status=function(t,e,n,i,s,r,a,l,c){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,n+7,i,1),t.beginPath(),t.moveTo(e,n+7-s*o.clamp(.4*c(0),-2,2));for(var u=0;u<i;u+=1)t.lineTo(e+u,n+7-(u<r?s*o.clamp(.4*c(u),-2,2):0));t.stroke(),t.fillStyle="hsl("+o.clamp(25+95*l,0,120)+",100%,60%)",t.fillRect(e,n-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(a,e+i,n-5)},i.constraints=function(t,e){for(var n=e,i=0;i<t.length;i++){var s=t[i];if(s.render.visible&&s.pointA&&s.pointB){var r,a,l=s.bodyA,u=s.bodyB;if(r=l?c.add(l.position,s.pointA):s.pointA,"pin"===s.render.type)n.beginPath(),n.arc(r.x,r.y,3,0,2*Math.PI),n.closePath();else{if(a=u?c.add(u.position,s.pointB):s.pointB,n.beginPath(),n.moveTo(r.x,r.y),"spring"===s.render.type)for(var h,p=c.sub(a,r),d=c.perp(c.normalise(p)),f=Math.ceil(o.clamp(s.length/5,12,20)),m=1;m<f;m+=1)h=m%2==0?1:-1,n.lineTo(r.x+p.x*(m/f)+d.x*h*4,r.y+p.y*(m/f)+d.y*h*4);n.lineTo(a.x,a.y)}s.render.lineWidth&&(n.lineWidth=s.render.lineWidth,n.strokeStyle=s.render.strokeStyle,n.stroke()),s.render.anchors&&(n.fillStyle=s.render.strokeStyle,n.beginPath(),n.arc(r.x,r.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},i.bodies=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options),c=l.showInternalEdges||!l.wireframes;for(o=0;o<e.length;o++)if((i=e[o]).render.visible)for(r=i.parts.length>1?1:0;r<i.parts.length;r++)if((s=i.parts[r]).render.visible){if(l.showSleeping&&i.isSleeping?a.globalAlpha=.5*s.render.opacity:1!==s.render.opacity&&(a.globalAlpha=s.render.opacity),s.render.sprite&&s.render.sprite.texture&&!l.wireframes){var u=s.render.sprite,h=f(t,u.texture);a.translate(s.position.x,s.position.y),a.rotate(s.angle),a.drawImage(h,h.width*-u.xOffset*u.xScale,h.height*-u.yOffset*u.yScale,h.width*u.xScale,h.height*u.yScale),a.rotate(-s.angle),a.translate(-s.position.x,-s.position.y)}else{if(s.circleRadius)a.beginPath(),a.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(s.vertices[0].x,s.vertices[0].y);for(var p=1;p<s.vertices.length;p++)!s.vertices[p-1].isInternal||c?a.lineTo(s.vertices[p].x,s.vertices[p].y):a.moveTo(s.vertices[p].x,s.vertices[p].y),s.vertices[p].isInternal&&!c&&a.moveTo(s.vertices[(p+1)%s.vertices.length].x,s.vertices[(p+1)%s.vertices.length].y);a.lineTo(s.vertices[0].x,s.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=s.render.fillStyle,s.render.lineWidth&&(a.lineWidth=s.render.lineWidth,a.strokeStyle=s.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},i.bodyWireframes=function(t,e,n){var i,s,o,r,a,l=n,c=t.options.showInternalEdges;for(l.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(a=i.parts.length>1?1:0;a<i.parts.length;a++){for(s=i.parts[a],l.moveTo(s.vertices[0].x,s.vertices[0].y),r=1;r<s.vertices.length;r++)!s.vertices[r-1].isInternal||c?l.lineTo(s.vertices[r].x,s.vertices[r].y):l.moveTo(s.vertices[r].x,s.vertices[r].y),s.vertices[r].isInternal&&!c&&l.moveTo(s.vertices[(r+1)%s.vertices.length].x,s.vertices[(r+1)%s.vertices.length].y);l.lineTo(s.vertices[0].x,s.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},i.bodyConvexHulls=function(t,e,n){var i,s,o,r=n;for(r.beginPath(),s=0;s<e.length;s++)if((i=e[s]).render.visible&&1!==i.parts.length){for(r.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)r.lineTo(i.vertices[o].x,i.vertices[o].y);r.lineTo(i.vertices[0].x,i.vertices[0].y)}r.lineWidth=1,r.strokeStyle="rgba(255,255,255,0.2)",r.stroke()},i.vertexNumbers=function(t,e,n){var i,s,o,r=n;for(i=0;i<e.length;i++){var a=e[i].parts;for(o=a.length>1?1:0;o<a.length;o++){var l=a[o];for(s=0;s<l.vertices.length;s++)r.fillStyle="rgba(255,255,255,0.2)",r.fillText(i+"_"+s,l.position.x+.8*(l.vertices[s].x-l.position.x),l.position.y+.8*(l.vertices[s].y-l.position.y))}}},i.mousePosition=function(t,e,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},i.bodyBounds=function(t,e,n){var i=n,s=(t.engine,t.options);i.beginPath();for(var o=0;o<e.length;o++)if(e[o].render.visible)for(var r=e[o].parts,a=r.length>1?1:0;a<r.length;a++){var l=r[a];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}s.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},i.bodyAxes=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options);for(a.beginPath(),s=0;s<e.length;s++){var c=e[s],u=c.parts;if(c.render.visible)if(l.showAxes)for(o=u.length>1?1:0;o<u.length;o++)for(i=u[o],r=0;r<i.axes.length;r++){var h=i.axes[r];a.moveTo(i.position.x,i.position.y),a.lineTo(i.position.x+20*h.x,i.position.y+20*h.y)}else for(o=u.length>1?1:0;o<u.length;o++)for(i=u[o],r=0;r<i.axes.length;r++)a.moveTo(i.position.x,i.position.y),a.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},i.bodyPositions=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options);for(a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(r=0;r<i.parts.length;r++)s=i.parts[r],a.arc(s.position.x,s.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),o=0;o<e.length;o++)(i=e[o]).render.visible&&(a.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},i.bodyVelocity=function(t,e,n){var i=n;i.beginPath();for(var o=0;o<e.length;o++){var r=e[o];if(r.render.visible){var a=s.getVelocity(r);i.moveTo(r.position.x,r.position.y),i.lineTo(r.position.x+a.x,r.position.y+a.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},i.bodyIds=function(t,e,n){var i,s,o=n;for(i=0;i<e.length;i++)if(e[i].render.visible){var r=e[i].parts;for(s=r.length>1?1:0;s<r.length;s++){var a=r[s];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(a.id,a.position.x+10,a.position.y-10)}}},i.collisions=function(t,e,n){var i,s,o,r,a=n,l=t.options;for(a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive)for(s=i.collision,r=0;r<i.activeContacts.length;r++){var c=i.activeContacts[r].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive&&(s=i.collision,i.activeContacts.length>0)){var u=i.activeContacts[0].vertex.x,h=i.activeContacts[0].vertex.y;2===i.activeContacts.length&&(u=(i.activeContacts[0].vertex.x+i.activeContacts[1].vertex.x)/2,h=(i.activeContacts[0].vertex.y+i.activeContacts[1].vertex.y)/2),s.bodyB===s.supports[0].body||!0===s.bodyA.isStatic?a.moveTo(u-8*s.normal.x,h-8*s.normal.y):a.moveTo(u+8*s.normal.x,h+8*s.normal.y),a.lineTo(u,h)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},i.separations=function(t,e,n){var i,s,o,r,a,l=n,c=t.options;for(l.beginPath(),a=0;a<e.length;a++)if((i=e[a]).isActive){o=(s=i.collision).bodyA;var u=1;(r=s.bodyB).isStatic||o.isStatic||(u=.5),r.isStatic&&(u=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x-s.penetration.x*u,r.position.y-s.penetration.y*u),u=1,r.isStatic||o.isStatic||(u=.5),o.isStatic&&(u=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+s.penetration.x*u,o.position.y+s.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},i.inspector=function(t,e){t.engine;var n,i=t.selected,s=t.render,o=s.options;if(o.hasBounds){var r=s.bounds.max.x-s.bounds.min.x,a=s.bounds.max.y-s.bounds.min.y,l=r/s.options.width,c=a/s.options.height;e.scale(1/l,1/c),e.translate(-s.bounds.min.x,-s.bounds.min.y)}for(var u=0;u<i.length;u++){var h=i[u].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),h.type){case"body":n=h.bounds,e.beginPath(),e.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var p=h.pointA;h.bodyA&&(p=h.pointB),e.beginPath(),e.arc(p.x,p.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",n=t.selectBounds,e.beginPath(),e.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),o.hasBounds&&e.setTransform(1,0,0,1,0,0)};var n=function(t,e){var n=t.engine,s=t.timing,o=s.historySize,r=n.timing.timestamp;s.delta=e-s.lastTime||i._goodDelta,s.lastTime=e,s.timestampElapsed=r-s.lastTimestamp||0,s.lastTimestamp=r,s.deltaHistory.unshift(s.delta),s.deltaHistory.length=Math.min(s.deltaHistory.length,o),s.engineDeltaHistory.unshift(n.timing.lastDelta),s.engineDeltaHistory.length=Math.min(s.engineDeltaHistory.length,o),s.timestampElapsedHistory.unshift(s.timestampElapsed),s.timestampElapsedHistory.length=Math.min(s.timestampElapsedHistory.length,o),s.engineElapsedHistory.unshift(n.timing.lastElapsed),s.engineElapsedHistory.length=Math.min(s.engineElapsedHistory.length,o),s.elapsedHistory.unshift(s.lastElapsed),s.elapsedHistory.length=Math.min(s.elapsedHistory.length,o)},h=function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length||0},p=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},f=function(t,e){var n=t.textures[e];return n||((n=t.textures[e]=new Image).src=e,n)},m=function(t,e){var n=e;/(jpg|gif|png)$/.test(e)&&(n="url("+e+")"),t.canvas.style.background=n,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,n){var i={};t.exports=i;var s,o,r,a=n(5),l=n(17),c=n(0);"undefined"!=typeof window&&(s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s||(s=function(t){r=setTimeout((function(){t(c.now())}),1e3/60)},o=function(){clearTimeout(r)}),i.create=function(t){var e=c.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},t);return e.delta=e.delta||1e3/e.fps,e.deltaMin=e.deltaMin||1e3/e.fps,e.deltaMax=e.deltaMax||1e3/(.5*e.fps),e.fps=1e3/e.delta,e},i.run=function(t,e){return void 0!==t.positionIterations&&(e=t,t=i.create()),function n(o){t.frameRequestId=s(n),o&&t.enabled&&i.tick(t,e,o)}(),t},i.tick=function(t,e,n){var i,s=e.timing;t.isFixed?i=t.delta:(i=n-t.timePrev||t.delta,t.timePrev=n,t.deltaHistory.push(i),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),i=(i=(i=Math.min.apply(null,t.deltaHistory))<t.deltaMin?t.deltaMin:i)>t.deltaMax?t.deltaMax:i,t.delta=i);var o={timestamp:s.timestamp};a.trigger(t,"beforeTick",o),t.frameCounter+=1,n-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((n-t.counterTimestamp)/1e3),t.counterTimestamp=n,t.frameCounter=0),a.trigger(t,"tick",o),a.trigger(t,"beforeUpdate",o),l.update(e,i),a.trigger(t,"afterUpdate",o),a.trigger(t,"afterTick",o)},i.stop=function(t){o(t.frameRequestId)},i.start=function(t,e){i.run(t,e)}},function(t,e,n){var i={};t.exports=i;var s=n(8),o=n(0).deprecated;i.collides=function(t,e){return s.collides(t,e)},o(i,"collides","SAT.collides âž¤ replaced by Collision.collides")},function(t,e,n){var i={};t.exports=i,n(1);var s=n(0);i.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,r,a,l,c,u,h,p,d,f,m=[],g=0,v=0,y=0;e=e||15;var _=function(t,e,n){var i=n%2==1&&n>1;if(!p||t!=p.x||e!=p.y){p&&i?(d=p.x,f=p.y):(d=0,f=0);var s={x:d+t,y:f+e};!i&&p||(p=s),m.push(s),v=d+t,y=f+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":v=t.x,y=t.y;break;case"H":v=t.x;break;case"V":y=t.y}_(v,y,t.pathSegType)}};for(i._svgPathToAbsolute(t),r=t.getTotalLength(),c=[],n=0;n<t.pathSegList.numberOfItems;n+=1)c.push(t.pathSegList.getItem(n));for(u=c.concat();g<r;){if((l=c[t.getPathSegAtLength(g)])!=h){for(;u.length&&u[0]!=l;)x(u.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(g),_(a.x,a.y,0)}g+=e}for(n=0,o=u.length;n<o;++n)x(u[n]);return m},i._svgPathToAbsolute=function(t){for(var e,n,i,s,o,r,a=t.pathSegList,l=0,c=0,u=a.numberOfItems,h=0;h<u;++h){var p=a.getItem(h),d=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(i=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(s=c+p.y1),"y2"in p&&(r=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),d){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,c),h);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,c),h);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),h);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,i,s,o,r),h);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,r),h);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,i,s),h);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),h);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),h);break;case"z":case"Z":l=e,c=n}"M"!=d&&"m"!=d||(e=l,n=c)}}},function(t,e,n){var i={};t.exports=i;var s=n(6);n(0),i.create=s.create,i.add=s.add,i.remove=s.remove,i.clear=s.clear,i.addComposite=s.addComposite,i.addBody=s.addBody,i.addConstraint=s.addConstraint}])},t.exports=i()},897:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},372:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},728:(t,e,n)=>{var i=n(62);function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s)}}t.exports=function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},872:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,s,o,r,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,s=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw s}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},218:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},424:(t,e,n)=>{var i=n(372),s=n(872),o=n(116),r=n(218);t.exports=function(t,e){return i(t)||s(t,e)||o(t,e)||r()},t.exports.__esModule=!0,t.exports.default=t.exports},36:(t,e,n)=>{var i=n(698).default;t.exports=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},62:(t,e,n)=>{var i=n(698).default,s=n(36);t.exports=function(t){var e=s(t,"string");return"symbol"==i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},116:(t,e,n)=>{var i=n(897);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";let t=0,e=0,i=0;function s(n){t=n.accelerationIncludingGravity.x+n.acceleration.x,e=-1*(n.accelerationIncludingGravity.y+n.acceleration.y),i=n.accelerationIncludingGravity.z+n.acceleration.z}window.addEventListener("keydown",(function(n){window.location.href.includes("localhost")&&("ArrowUp"===n.key&&(e=9.8,t=0),"ArrowDown"===n.key&&(e=-9.8,t=0),"ArrowLeft"===n.key&&(t=-9.8,e=0),"ArrowRight"===n.key&&(t=9.8,e=0))}));var o=n(842);const r="14.7.77";var a=n(382);const l=new WeakSet,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y={construct:()=>y},_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,x=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),s=i.match(_);for(;null!==s;){const t=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(o),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(_)}return[n.join(";"),i]},b=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=t=>{if(!(t=>{try{new new Proxy(t,y)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},T=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},S=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},C=(t,e,n,i)=>{const s=T(t,e),o=S(s,(t=>t[0]===n&&t[1]===i));return 0===s.size&&t.delete(e),o},A=t=>T(f,t),k=t=>{if(l.has(t))throw new Error("The AudioNode is already stored.");l.add(t),A(t).forEach((t=>t(!0)))},M=t=>"port"in t,O=t=>{if(!l.has(t))throw new Error("The AudioNode is not stored.");l.delete(t),A(t).forEach((t=>t(!1)))},I=(t,e)=>{!M(t)&&e.every((t=>0===t.size))&&O(t)},E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},P=(t,e)=>t.context===e,D=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},R=()=>new DOMException("","IndexSizeError"),V=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw R();throw t}})},N={numberOfChannels:1},B=-34028234663852886e22,q=-B,F=t=>l.has(t),L={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},j=t=>T(c,t),W=t=>T(h,t),U=(t,e)=>{const{activeInputs:n}=j(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||U(n,[...e,t])}))));const i=(t=>"playbackRate"in t)(t)?[t.playbackRate]:M(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of i){const n=W(t);void 0!==n&&n.activeInputs.forEach((([t])=>U(t,e)))}F(t)&&O(t)},H=t=>{U(t.destination,[])},z=t=>"context"in t,G=t=>z(t[0]),X=(t,e,n,i)=>{for(const e of t)if(n(e)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Y=(t,e,[n,i],s)=>{X(t,[e,n,i],(t=>t[0]===e&&t[1]===n),s)},Z=(t,[e,n,i],s)=>{const o=t.get(e);void 0===o?t.set(e,new Set([[n,i]])):X(o,[n,i],(t=>t[0]===n),s)},$=t=>"inputs"in t,Q=(t,e,n,i)=>{if($(e)){const s=e.inputs[i];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,i),[e,n,i]},J=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},K=(t,e)=>{if(!A(t).delete(e))throw new Error("Missing the expected event listener.")},tt=(t,e,n)=>{const i=T(t,e),s=S(i,(t=>t[0]===n));return 0===i.size&&t.delete(e),s},et=(t,e,n,i)=>{$(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},nt=t=>T(u,t),it=t=>T(p,t),st=t=>m.has(t),ot=t=>!l.has(t),rt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const r=t.createBufferSource();r.buffer=s,r.loop=!0,r.connect(e).connect(t.destination),r.connect(i),r.disconnect(i),e.onaudioprocess=i=>{const s=i.inputBuffer.getChannelData(0);Array.prototype.some.call(s,(t=>1===t))?n(!0):n(!1),r.stop(),e.onaudioprocess=null,r.disconnect(e),e.disconnect(t.destination)},r.start()}})),at=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},lt=t=>"context"in t,ct=t=>{const e=new Map;var n,i;t.connect=(i=t.connect.bind(t),(t,n=0,s=0)=>{const o=lt(t)?i(t,n,s):i(t,n),r=e.get(t);return void 0===r?e.set(t,[{input:s,output:n}]):r.every((t=>t.input!==s||t.output!==n))&&r.push({input:s,output:n}),o}),t.disconnect=(n=t.disconnect,(i,s,o)=>{if(n.apply(t),void 0===i)e.clear();else if("number"==typeof i)for(const[t,n]of e){const s=n.filter((t=>t.output!==i));0===s.length?e.delete(t):e.set(t,s)}else if(e.has(i))if(void 0===s)e.delete(i);else{const t=e.get(i);if(void 0!==t){const n=t.filter((t=>t.output!==s&&(t.input!==o||void 0===o)));0===n.length?e.delete(i):e.set(i,n)}}for(const[n,i]of e)i.forEach((e=>{lt(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})},ut=(t,e,n,i,s)=>{const[o,r]=((t,e,n,i)=>{const{activeInputs:s,passiveInputs:o}=j(e),r=J(s[i],t,n);return null===r?[C(o,t,n,i)[2],!1]:[r[2],!0]})(t,n,i,s);if(null!==o&&(K(t,o),!r||e||st(t)||et(nt(t),nt(n),i,s)),F(n)){const{activeInputs:t}=j(n);I(n,t)}},ht=(t,e,n,i)=>{const[s,o]=((t,e,n)=>{const{activeInputs:i,passiveInputs:s}=W(e),o=J(i,t,n);return null===o?[tt(s,t,n)[1],!1]:[o[2],!0]})(t,n,i);null!==s&&(K(t,s),!o||e||st(t)||nt(t).disconnect(it(n),i))};class pt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,i)=>t.call(e,n,i,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const dt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ft(t,e,n,i,s){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,s);else{const o=t.getChannelData(i);if(0===e[n].byteLength)e[n]=o.slice(s,s+128);else{const t=new Float32Array(o.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const mt=(t,e,n,i,s)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,s):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],s)},gt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],s="number"==typeof e?e:e[i];for(let e=0;e<s;e+=1)t.push(new Float32Array(128));n.push(t)}return n},vt=async(t,e,n,i,s,o,r)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=i.channelCount*i.numberOfInputs,c=s.reduce(((t,e)=>t+e),0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const h=j(t),p=await((t,e)=>{const n=T(v,t),i=nt(e);return T(n,i)})(n,t),d=gt(i.numberOfInputs,i.channelCount),f=gt(i.numberOfOutputs,s),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<a;c+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)ft(e,d[t],n,n,c);void 0!==o.parameterDescriptors&&null!==e&&o.parameterDescriptors.forEach((({name:t},n)=>{ft(e,m,t,l+n,c)}));for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<s[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=d.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=r(c/n.sampleRate,n.sampleRate,(()=>p.process(t,f,m)));if(null!==u)for(let t=0,e=0;t<i.numberOfOutputs;t+=1){for(let n=0;n<s[t];n+=1)mt(u,f[t],n,e+n,c);e+=s[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return u},yt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},xt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},bt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},wt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Tt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((i=>{const s=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}}))},St={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ct=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},At={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},kt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Mt=()=>new DOMException("","InvalidStateError"),Ot=()=>new DOMException("","InvalidAccessError"),It={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Et=(t,e,n,i,s,o,r,a,l,c,u)=>{const h=c.length;let p=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<s;e+=1){const i=p-e&l-1;h+=n[e]*o[i],h-=t[e]*r[i]}for(let t=s;t<i;t+=1)h+=n[t]*o[p-t&l-1];for(let n=s;n<e;n+=1)h-=t[n]*r[p-n&l-1];o[p]=c[a],r[p]=h,p=p+1&l-1,u[a]=h}return p},Pt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Dt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Rt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},Vt=(t,e)=>{Rt(t,e,"channelCount"),Rt(t,e,"channelCountMode"),Rt(t,e,"channelInterpretation")},Nt=t=>"function"==typeof t.getFloatTimeDomainData,Bt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},qt=t=>{var e;t.start=(e=t.start,(n=0,i=0,s)=>{if("number"==typeof s&&s<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,s)})},Ft=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Lt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),jt=(t,e)=>{const n=t.createBiquadFilter();return Vt(n,e),Bt(n,e,"Q"),Bt(n,e,"detune"),Bt(n,e,"frequency"),Bt(n,e,"gain"),Rt(n,e,"type"),n},Wt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Vt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Mt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Mt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Mt()}})})(n),n},Ut=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ht=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Vt(n,e),Bt(n,e,"delayTime"),n},zt=(t,e)=>{const n=t.createGain();return Vt(n,e),Bt(n,e,"gain"),n};function Gt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Xt(t,e){let n=[0,0];for(let o=t.length-1;o>=0;o-=1)s=e,n=[(i=n)[0]*s[0]-i[1]*s[1],i[0]*s[1]+i[1]*s[0]],n[0]+=t[o];var i,s;return n}const Yt=(t,e,n,i)=>t.createScriptProcessor(e,n,i),Zt=()=>new DOMException("","NotSupportedError"),$t={numberOfChannels:1},Qt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Jt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Kt={disableNormalization:!1},te={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},ee=()=>new DOMException("","UnknownError"),ne={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ie=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),se=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},oe=(t,e,n,i)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:o,set:r}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(o),set:i(r)})},re=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(9!==i.code)throw i;re(t,e,n+1e-7)}},ae=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},le=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},ce=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},ue=(t,e)=>{const n=e.createGain();t.connect(n);const i=(s=t.disconnect,()=>{s.call(t,n),t.removeEventListener("ended",i)});var s;t.addEventListener("ended",i),Ut(t,n),t.stop=(e=>{let i=!1;return(s=0)=>{if(i)try{e.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else e.call(t,s),i=!0}})(t.stop)},he=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},pe=(t=>(e,n,[i,s,o],r)=>{t(e[s],[n,i,o],(t=>t[0]===n&&t[1]===i),r)})(X),de=(t=>(e,n,[i,s,o],r)=>{const a=e.get(i);void 0===a?e.set(i,new Set([[s,n,o]])):t(a,[s,n,o],(t=>t[0]===s&&t[1]===n),r)})(X),fe=(t=>(e,n,i,s)=>t(e[s],(t=>t[0]===n&&t[1]===i)))(S),me=new WeakMap,ge=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(me),ve=(ye=new Map,_e=new WeakMap,(t,e)=>{const n=_e.get(t);if(void 0!==n)return n;const i=ye.get(t);if(void 0!==i)return i;try{const n=e();return n instanceof Promise?(ye.set(t,n),n.catch((()=>!1)).then((e=>(ye.delete(t),_e.set(t,e),e)))):(_e.set(t,n),n)}catch{return _e.set(t,!1),!1}});var ye,_e;const xe="undefined"==typeof window?null:window,be=((t,e)=>(n,i)=>{const s=n.createAnalyser();if(Vt(s,i),!(i.maxDecibels>i.minDecibels))throw e();return Rt(s,i,"fftSize"),Rt(s,i,"maxDecibels"),Rt(s,i,"minDecibels"),Rt(s,i,"smoothingTimeConstant"),t(Nt,(()=>Nt(s)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}})(s),s})(ve,R),we=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(j),Te=((t,e,n)=>async(i,s,o)=>{const r=t(i);await Promise.all(r.activeInputs.map(((t,r)=>Array.from(t).map((async([t,a])=>{const l=e(t),c=await l.render(t,s),u=i.context.destination;n(t)||i===u&&n(i)||c.connect(o,a,r)})))).reduce(((t,e)=>[...t,...e]),[]))})(j,we,st),Se=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(be,nt,Te),Ce=(Ae=d,t=>{const e=Ae.get(t);if(void 0===e)throw Mt();return e});var Ae;const ke=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(xe),Me=(t=>e=>null!==t&&e instanceof t)(ke),Oe=new WeakMap,Ie=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}})(he),Ee=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(xe),Pe=(t=>e=>null!==t&&e instanceof t)(Ee),De=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(xe),Re=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(xe),Ve=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(xe),Ne=((t,e,n,i,s,o,r,a,l,c,h,p,d,m,g,v)=>class extends c{constructor(e,i,s,o){super(s),this._context=e,this._nativeAudioNode=s;const r=h(e);p(r)&&!0!==n(rt,(()=>rt(r,v)))&&ct(s),u.set(this,s),f.set(this,new Set),"closed"!==e.state&&i&&k(this),t(this,o,s)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw s();const c=h(this._context),u=g(c);if(d(t)||m(t))throw o();if(z(t)){const s=nt(t);try{const e=Q(this._nativeAudioNode,s,n,a),i=ot(this);(u||i)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!i&&ot(t)&&k(t)}catch(t){if(12===t.code)throw o();throw t}if(e(this,t,n,a,u)){const e=l([this],t);at(e,i(u))}return t}const p=it(t);if("playbackRate"===p.name&&1024===p.maxValue)throw r();try{this._nativeAudioNode.connect(p,n),(u||ot(this))&&this._nativeAudioNode.disconnect(p,n)}catch(t){if(12===t.code)throw o();throw t}if(((t,e,n,i)=>{const{activeInputs:s,passiveInputs:o}=W(e),{outputs:r}=j(t),a=A(t),l=r=>{const a=nt(t),l=it(e);if(r){const e=tt(o,t,n);Y(s,t,e,!1),i||st(t)||a.connect(l,n)}else{const e=((t,e,n)=>S(t,(t=>t[0]===e&&t[1]===n)))(s,t,n);Z(o,e,!1),i||st(t)||a.disconnect(l,n)}};return!!X(r,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),F(t)?Y(s,t,[n,l],!0):Z(o,[t,n,l],!0),!0)})(this,t,n,u)){const e=l([this],t);at(e,i(u))}}disconnect(t,e,n){let i;const r=h(this._context),c=g(r);if(void 0===t)i=((t,e)=>{const n=j(t),i=[];for(const s of n.outputs)G(s)?ut(t,e,...s):ht(t,e,...s),i.push(s[0]);return n.outputs.clear(),i})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw s();i=((t,e,n)=>{const i=j(t),s=[];for(const o of i.outputs)o[1]===n&&(G(o)?ut(t,e,...o):ht(t,e,...o),s.push(o[0]),i.outputs.delete(o));return s})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw s();if(z(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw s();if(i=((t,e,n,i,s)=>{const o=j(t);return Array.from(o.outputs).filter((t=>!(t[0]!==n||void 0!==i&&t[1]!==i||void 0!==s&&t[2]!==s))).map((n=>(G(n)?ut(t,e,...n):ht(t,e,...n),o.outputs.delete(n),n[0])))})(this,c,t,e,n),0===i.length)throw o()}for(const t of i){const e=l([this],t);at(e,a)}}})((Be=c,(t,e,n)=>{const i=[];for(let t=0;t<n.numberOfInputs;t+=1)i.push(new Set);Be.set(t,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,i,s,o,r,a,l,c,u,h,p)=>{const d=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:x}=o(m),{outputs:b}=o(f),w=a(f),T=o=>{const a=l(m),c=l(f);if(o){const e=C(x,f,g,v);t(_,f,e,!1),y||h(f)||n(c,a,g,v),p(m)&&k(m)}else{const t=i(_,f,g,v);e(x,v,t,!1),y||h(f)||s(c,a,g,v);const n=r(m);if(0===n)u(m)&&I(m,_);else{const t=d.get(m);void 0!==t&&clearTimeout(t),d.set(m,setTimeout((()=>{u(m)&&I(m,_)}),1e3*n))}}};return!!c(b,[m,g,v],(t=>t[0]===m&&t[1]===g&&t[2]===v),!0)&&(w.add(T),u(f)?t(_,f,[g,v,T],!0):e(x,v,[f,g,T],!0),!0)}})(pe,de,Q,fe,et,j,ge,A,nt,X,F,st,ot),ve,((t,e,n,i,s,o)=>r=>(a,l)=>{const c=t.get(a);if(void 0===c){if(!r&&o(a)){const t=i(a),{outputs:o}=n(a);for(const n of o)if(G(n)){const s=i(n[0]);e(t,s,n[1],n[2])}else{const e=s(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,c+l)})(m,et,j,nt,it,F),R,Ot,Zt,((t,e,n,i,s,o,r,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=o(l.context),p=a(h);if(u===c){if(e.delete(l),!p&&r(l)){const e=i(l),{outputs:o}=n(l);for(const n of o)if(G(n)){const s=i(n[0]);t(e,s,n[1],n[2])}else{const t=s(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)})(Q,m,j,nt,it,Ce,F,Me),((t,e,n)=>function i(s,o){const r=z(o)?o:n(t,o);if((t=>"delayTime"in t)(r))return[];if(s[0]===r)return[s];if(s.includes(r))return[];const{outputs:a}=e(r);return Array.from(a).map((t=>i([...s,r],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Oe,j,T),Ie,Ce,Pe,De,Re,Me,Ve);var Be;const qe=((t,e,n,i,s,o)=>class extends t{constructor(t,n){const r=s(t),a={...E,...n},l=i(r,a);super(t,!1,l,o(r)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Ne,Se,R,be,Ce,Me),Fe=new WeakSet,Le=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(xe),je=(We=new Uint32Array(1),t=>(We[0]=t,We[0]));var We;const Ue=((t,e)=>n=>{n.copyFromChannel=(i,s,o=0)=>{const r=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=r<0?-r:0;t+r<l&&t<u;t+=1)i[t]=c[t+r]},n.copyToChannel=(i,s,o=0)=>{const r=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=r<0?-r:0;t+r<l&&t<u;t+=1)c[t+r]=i[t]}})(je,R),He=(t=>e=>{e.copyFromChannel=(n=>(i,s,o=0)=>{const r=t(o),a=t(s);if(r<e.length)return n.call(e,i,a,r)})(e.copyFromChannel),e.copyToChannel=(n=>(i,s,o=0)=>{const r=t(o),a=t(s);if(r<e.length)return n.call(e,i,a,r)})(e.copyToChannel)})(je),ze=((t,e,n,i,s,o,r,a)=>{let l=null;return class c{constructor(c){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:p}={...N,...c};null===l&&(l=new s(1,1,44100));const d=null!==i&&e(o,o)?new i({length:u,numberOfChannels:h,sampleRate:p}):l.createBuffer(h,u,p);if(0===d.numberOfChannels)throw n();return"function"!=typeof d.copyFromChannel?(r(d),V(d)):e(D,(()=>D(d)))||a(d),t.add(d),d}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(Fe,ve,Zt,Le,ke,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(Le),Ue,He),Ge=(t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(i),i.disconnect()};n.addEventListener("ended",s)})(zt),Xe=((t,e,n)=>async(i,s,o)=>{const r=e(i);await Promise.all(Array.from(r.activeInputs).map((async([e,i])=>{const r=t(e),a=await r.render(e,s);n(e)||a.connect(o,i)})))})(we,W,st),Ye=(t=>(e,n,i)=>t(n,e,i))(Xe),Ze=((t,e,n,i,s,o,r,a,l,c,u)=>(l,h)=>{const p=l.createBufferSource();return Vt(p,h),Bt(p,h,"playbackRate"),Rt(p,h,"buffer"),Rt(p,h,"loop"),Rt(p,h,"loopEnd"),Rt(p,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(i=0,s=0,o)=>{if(n)throw Mt();e.call(t,i,s,o),n=!0}})(t.start)})(p),e(i,(()=>i(l)))||(t=>{t.start=(e=t.start,(n=0,i=0,s)=>{const o=t.buffer,r=null===o?i:Math.min(o.duration,i);null!==o&&r>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,r,s)});var e})(p),e(s,(()=>s(l)))||c(p,l),e(o,(()=>o(l)))||qt(p),e(r,(()=>r(l)))||u(p,l),e(a,(()=>a(l)))||Ft(p),t(l,p),p})(Ge,ve,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),ae,le,ce,0,(t=>(e,n)=>{const i=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=i),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===i?null:n}),(t=>n=>t.call(e,null===n?i:n)))})(oe),ue),$e=((t,e)=>(n,i,s)=>(t(i).replay(s),e(i,n,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(W),Xe),Qe=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=P(u,c);if(!h){const t={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(c,t),null!==r&&u.start(...r),null!==a&&u.stop(a)}return o.set(c,u),h?await t(c,l.playbackRate,u.playbackRate):await i(c,l.playbackRate,u.playbackRate),await s(l,c,u),u})(l,c)}}})(Ye,Ze,nt,$e,Te),Je=((t,e,n,i,s,o,r,l,c,u,h,p,d)=>(i,f,m,g=null,v=null)=>{const y=m.value,_=new a.AutomationEventList(y),x=f?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:s}=n;e.setTargetAtTime(i,t,s)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,t)}}}}))(_):null,b={get defaultValue(){return y},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(t){m.value=t,b.setValueAtTime(t,i.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof m.cancelAndHoldAtTime)null===x&&_.flush(i.context.currentTime),_.add(s(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===x&&_.flush(i.context.currentTime),_.add(s(t));const n=Array.from(_).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:t=>(null===x&&_.flush(i.context.currentTime),_.add(o(t)),m.cancelScheduledValues(t),b),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=i.context.currentTime;return null===x&&_.flush(n),0===Array.from(_).length&&(_.add(u(y,n)),m.setValueAtTime(y,n)),_.add(r(t,e)),m.exponentialRampToValueAtTime(t,e),b},linearRampToValueAtTime(t,e){const n=i.context.currentTime;return null===x&&_.flush(n),0===Array.from(_).length&&(_.add(u(y,n)),m.setValueAtTime(y,n)),_.add(l(t,e)),m.linearRampToValueAtTime(t,e),b},setTargetAtTime:(t,e,n)=>(null===x&&_.flush(i.context.currentTime),_.add(c(t,e,n)),m.setTargetAtTime(t,e,n),b),setValueAtTime:(t,e)=>(null===x&&_.flush(i.context.currentTime),_.add(u(t,e)),m.setValueAtTime(t,e),b),setValueCurveAtTime(t,e,n){const s=t instanceof Float32Array?t:new Float32Array(t);if(null!==p&&"webkitAudioContext"===p.name){const t=e+n,o=i.context.sampleRate,r=Math.ceil(e*o),a=Math.floor(t*o),l=a-r,c=new Float32Array(l);for(let t=0;t<l;t+=1){const i=(s.length-1)/n*((r+t)/o-e),a=Math.floor(i),l=Math.ceil(i);c[t]=a===l?s[a]:(1-(i-a))*s[a]+(1-(l-i))*s[l]}null===x&&_.flush(i.context.currentTime),_.add(h(c,e,n)),m.setValueCurveAtTime(c,e,n);const u=a/o;u<t&&d(b,c[c.length-1],u),d(b,s[s.length-1],t)}else null===x&&_.flush(i.context.currentTime),_.add(h(s,e,n)),m.setValueCurveAtTime(s,e,n);return b}};return n.set(b,m),e.set(b,i),t(b,x),b})((Ke=h,(t,e)=>{Ke.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Oe,p,0,a.createCancelAndHoldAutomationEvent,a.createCancelScheduledValuesAutomationEvent,a.createExponentialRampToValueAutomationEvent,a.createLinearRampToValueAutomationEvent,a.createSetTargetAutomationEvent,a.createSetValueAutomationEvent,a.createSetValueCurveAutomationEvent,Ee,re);var Ke;const tn=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,i){const a=o(t),l={...L,...i},c=s(a,l),u=r(a),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,q,B)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){k(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Ne,Qe,Je,Mt,Ze,Ce,Me,he),en=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,e){const n=o(t),i=r(n),l=s(n,e,i);super(t,!1,l,i?(t=>{const e=new WeakMap;return{render(n,i){const s=e.get(i);return void 0!==s?Promise.resolve(s):(async(n,i)=>{const s=i.destination;return e.set(i,s),await t(n,i,s),s})(n,i)}}})(a):null),this._isNodeOfNativeOfflineAudioContext=i,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ne,0,R,Mt,((t,e)=>(n,i,s)=>{const o=n.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}s&&"explicit"!==o.channelCountMode&&(o.channelCountMode="explicit"),0===o.maxChannelCount&&Object.defineProperty(o,"maxChannelCount",{value:i});const r=t(n,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(r,"channelCount",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e);try{o.channelCount=e}catch(t){if(e>o.maxChannelCount)throw t}})),e(r,"channelCountMode",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),o.channelCountMode=e})),e(r,"channelInterpretation",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),o.channelInterpretation=e})),Object.defineProperty(r,"maxChannelCount",{get:()=>o.maxChannelCount}),r.connect(o),r})(zt,oe),Ce,Me,Te),nn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return o.set(a,l),c?(await t(a,r.Q,l.Q),await t(a,r.detune,l.detune),await t(a,r.frequency,l.frequency),await t(a,r.gain,l.gain)):(await i(a,r.Q,l.Q),await i(a,r.detune,l.detune),await i(a,r.frequency,l.frequency),await i(a,r.gain,l.gain)),await s(r,a,l),l})(r,a)}}})(Ye,jt,nt,$e,Te),sn=(t=>(e,n)=>t.set(e,n))(me),on=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,i){const l=o(t),c={...yt,...i},u=s(l,c),h=r(l);super(t,!1,u,h?n():null),this._Q=e(this,h,u.Q,q,B),this._detune=e(this,h,u.detune,1200*Math.log2(q),-1200*Math.log2(q)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10(q),B),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw i();throw t}if(t.length!==e.length||e.length!==n.length)throw i()}})(Ne,Je,nn,Ot,jt,Ce,Me,sn),rn=((t,e)=>(n,i,s)=>{const o=new Set;return n.connect=(a=n.connect,(s,r=0,l=0)=>{const c=0===o.size;if(e(s))return a.call(n,s,r,l),t(o,[s,r,l],(t=>t[0]===s&&t[1]===r&&t[2]===l),!0),c&&i(),s;a.call(n,s,r),t(o,[s,r],(t=>t[0]===s&&t[1]===r),!0),c&&i()}),n.disconnect=(r=n.disconnect,(t,i,a)=>{const l=o.size>0;if(void 0===t)r.apply(n),o.clear();else if("number"==typeof t){r.call(n,t);for(const e of o)e[1]===t&&o.delete(e)}else{e(t)?r.call(n,t,i,a):r.call(n,t,i);for(const e of o)e[0]!==t||void 0!==i&&e[1]!==i||void 0!==a&&e[2]!==a||o.delete(e)}const c=0===o.size;l&&c&&s()}),n;var r,a})(X,De),an=((t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(i,(()=>{const t=i.numberOfInputs;for(let e=0;e<t;e+=1)s.connect(i,0,e)}),(()=>s.disconnect(i)))})(Mt,rn),ln=((t,e)=>(n,i)=>{const s=n.createChannelMerger(i.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,s),Vt(s,i),s})(Ee,an),cn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,numberOfInputs:r.numberOfInputs};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(ln,nt,Te),un=((t,e,n,i,s)=>class extends t{constructor(t,o){const r=i(t),a={..._t,...o};super(t,!1,n(r,a),s(r)?e():null)}})(Ne,cn,ln,Ce,Me),hn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,numberOfOutputs:r.numberOfOutputs};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(Wt,nt,Te),pn=((t,e,n,i,s,o)=>class extends t{constructor(t,o){const r=i(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...xt,...o});super(t,!1,n(r,a),s(r)?e():null)}})(Ne,hn,Wt,Ce,Me),dn=((t,e,n,i)=>(s,{offset:o,...r})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...r,gain:o}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(s,l),i(Ut(h,c),(()=>l.connect(c)),(()=>l.disconnect(c)))})(Ge,Ze,zt,rn),fn=((t,e,n,i,s)=>(o,r)=>{if(void 0===o.createConstantSource)return n(o,r);const a=o.createConstantSource();return Vt(a,r),Bt(a,r,"offset"),e(i,(()=>i(o)))||qt(a),e(s,(()=>s(o)))||Ft(a),t(o,a),a})(Ge,ve,dn,ae,ce),mn=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=P(u,c);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(c,t),null!==r&&u.start(r),null!==a&&u.stop(a)}return o.set(c,u),h?await t(c,l.offset,u.offset):await i(c,l.offset,u.offset),await s(l,c,u),u})(l,c)}}})(Ye,fn,nt,$e,Te),gn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,r){const a=s(t),l={...bt,...r},c=i(a,l),u=o(a),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,q,B),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?r(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){k(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Ne,Je,mn,fn,Ce,Me,he),vn=((t,e)=>(n,i)=>{const s=n.createConvolver();if(Vt(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),Rt(s,i,"buffer"),i.channelCount>2)throw t();if(e(s,"channelCount",(t=>()=>t.call(s)),(e=>n=>{if(n>2)throw t();return e.call(s,n)})),"max"===i.channelCountMode)throw t();return e(s,"channelCountMode",(t=>()=>t.call(s)),(e=>n=>{if("max"===n)throw t();return e.call(s,n)})),s})(Zt,oe),yn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={buffer:r.buffer,channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,disableNormalization:!r.normalize};r=t(o,e)}return i.set(o,r),$(r)?await n(s,o,r.inputs[0]):await n(s,o,r),r})(s,o)}}})(vn,nt,Te),_n=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=i(t),l={...wt,...r},c=n(a,l);super(t,!1,c,s(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&o(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Ne,yn,vn,Ce,Me,sn),xn=((t,e,n,i,s)=>o=>{const r=new WeakMap;return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):(async(a,l)=>{let c=n(a);const u=P(c,l);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:o};c=e(l,t)}return r.set(l,c),u?await t(l,a.delayTime,c.delayTime):await i(l,a.delayTime,c.delayTime),await s(a,l,c),c})(a,l)}}})(Ye,Ht,nt,$e,Te),bn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,a){const l=s(t),c={...St,...a},u=i(l,c),h=o(l);super(t,!1,u,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),r(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Ne,Je,xn,Ht,Ce,Me,sn),wn=(t=>(e,n)=>{const i=e.createDynamicsCompressor();if(Vt(i,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Bt(i,n,"attack"),Bt(i,n,"knee"),Bt(i,n,"ratio"),Bt(i,n,"release"),Bt(i,n,"threshold"),i})(Zt),Tn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return o.set(a,l),c?(await t(a,r.attack,l.attack),await t(a,r.knee,l.knee),await t(a,r.ratio,l.ratio),await t(a,r.release,l.release),await t(a,r.threshold,l.threshold)):(await i(a,r.attack,l.attack),await i(a,r.knee,l.knee),await i(a,r.ratio,l.ratio),await i(a,r.release,l.release),await i(a,r.threshold,l.threshold)),await s(r,a,l),l})(r,a)}}})(Ye,wn,nt,$e,Te),Sn=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,s){const l=o(t),c={...At,...s},u=i(l,c),h=r(l);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ne,Je,Tn,wn,Zt,Ce,Me,sn),Cn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return o.set(a,l),c?await t(a,r.gain,l.gain):await i(a,r.gain,l.gain),await s(r,a,l),l})(r,a)}}})(Ye,zt,nt,$e,Te),An=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=s(t),l={...kt,...r},c=i(a,l),u=o(a);super(t,!1,c,u?n():null),this._gain=e(this,u,c.gain,q,B)}get gain(){return this._gain}})(Ne,Je,Cn,zt,Ce,Me),kn=((t,e,n,i)=>(s,o,{channelCount:r,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=Lt(o,s.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),d=u instanceof Float64Array?u:new Float64Array(u),f=p.length,m=d.length,g=Math.min(f,m);if(0===f||f>20)throw i();if(0===p[0])throw e();if(0===m||m>20)throw i();if(0===d[0])throw e();if(1!==p[0]){for(let t=0;t<m;t+=1)d[t]/=p[0];for(let t=1;t<f;t+=1)p[t]/=p[0]}const v=n(s,h,r,r);v.channelCount=r,v.channelCountMode=a,v.channelInterpretation=l;const y=[],_=[],x=[];for(let t=0;t<r;t+=1){y.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),x.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let t=0;t<i;t+=1){const i=e.getChannelData(t),s=n.getChannelData(t);y[t]=Et(p,f,d,m,g,_[t],x[t],y[t],32,i,s)}};const b=s.sampleRate/2,w={get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const s=e.length;for(let t=0;t<s;t+=1){const s=-Math.PI*(e[t]/b),o=[Math.cos(s),Math.sin(s)],r=Gt(Xt(d,o),Xt(p,o));n[t]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i[t]=Math.atan2(r[1],r[0])}},removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])};return Ut(w,v)})(Ot,Mt,Yt,Zt),Mn=((t,e,n,i)=>s=>t(Dt,(()=>Dt(s)))?Promise.resolve(t(i,i)).then((t=>{if(!t){const t=n(s,512,0,1);s.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>s.currentTime,t.connect(s.destination)}return s.startRendering()})):new Promise((t=>{const n=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(s.destination),s.startRendering()})))(ve,zt,Yt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(zt,ke)),On=((t,e,n,i,s)=>(o,r)=>{const a=new WeakMap;let l=null;return{render(c,u){const h=a.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=null,p=e(c);const d=P(p,u);if(void 0===u.createIIRFilter?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(p=u.createIIRFilter(r,o)),a.set(u,null===h?p:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>(await i(c,t,t.destination),((t,e,n,i)=>{const s=n instanceof Float64Array?n:new Float64Array(n),o=i instanceof Float64Array?i:new Float64Array(i),r=s.length,a=o.length,l=Math.min(r,a);if(1!==s[0]){for(let t=0;t<r;t+=1)o[t]/=s[0];for(let t=1;t<a;t+=1)s[t]/=s[0]}const c=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let e=0;e<p;e+=1){const n=t.getChannelData(e),i=h.getChannelData(e);c.fill(0),u.fill(0),Et(s,r,o,a,l,c,u,0,32,n,i)}return h})(await s(t),u,o,r)))()}const t=await l;return h.buffer=t,h.start(0),h}return await i(c,u,p),p})(c,u)}}})(Ze,nt,ke,Te,Mn),In=(t=>(e,n,i)=>{if(void 0===e.createIIRFilter)return t(e,n,i);const s=e.createIIRFilter(i.feedforward,i.feedback);return Vt(s,i),s})(kn),En=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=i(t),l=s(a),c={...It,...r},u=e(a,l?null:t.baseLatency,c);super(t,!1,u,l?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,i,s)=>{if(n.length!==i.length||i.length!==s.length)throw Ot();return e.call(t,n,i,s)})})(u),this._nativeIIRFilterNode=u,o(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Ne,In,On,Ce,Me,sn),Pn=((t,e,n,i,s,o,r,a)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:p,forwardZ:d,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),p=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),d=r(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const t=i(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[o(t,h,0),o(t,h,1),o(t,h,2),o(t,h,3),o(t,h,4),o(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(u.setOrientation(...e),m=e);const n=[o(t,h,6),o(t,h,7),o(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(u.setPosition(...n),g=n)},p.connect(t)},y=t=>e=>{e!==m[t]&&(m[t]=e,u.setOrientation(...m))},_=t=>e=>{e!==g[t]&&(g[t]=e,u.setPosition(...g))},x=(e,i,o)=>{const r=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});r.connect(p,0,e),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>i});const u=t({context:l},d,r.offset,q,B);var h,f,m,g,y,_,x;return a(u,"value",(t=>()=>t.call(u)),(t=>e=>{try{t.call(u,e)}catch(t){if(9!==t.code)throw t}v(),d&&o(e)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,d?()=>{throw s()}:(...t)=>{const e=h.apply(u,t);return v(),e}),u.cancelScheduledValues=(f=u.cancelScheduledValues,d?()=>{throw s()}:(...t)=>{const e=f.apply(u,t);return v(),e}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,d?()=>{throw s()}:(...t)=>{const e=m.apply(u,t);return v(),e}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,d?()=>{throw s()}:(...t)=>{const e=g.apply(u,t);return v(),e}),u.setTargetAtTime=(y=u.setTargetAtTime,d?()=>{throw s()}:(...t)=>{const e=y.apply(u,t);return v(),e}),u.setValueAtTime=(_=u.setValueAtTime,d?()=>{throw s()}:(...t)=>{const e=_.apply(u,t);return v(),e}),u.setValueCurveAtTime=(x=u.setValueCurveAtTime,d?()=>{throw s()}:(...t)=>{const e=x.apply(u,t);return v(),e}),u};return{forwardX:x(0,0,y(0)),forwardY:x(1,0,y(1)),forwardZ:x(2,-1,y(2)),positionX:x(6,0,_(0)),positionY:x(7,0,_(1)),positionZ:x(8,0,_(2)),upX:x(3,0,y(3)),upY:x(4,1,y(4)),upZ:x(5,0,y(5))}})():u;return{get forwardX(){return h},get forwardY(){return p},get forwardZ(){return d},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(Je,ln,fn,Yt,Zt,ie,Me,oe),Dn=new WeakMap,Rn=((t,e,n,i,s,o)=>class extends n{constructor(n,o){super(n),this._nativeContext=n,d.set(this,n),i(n)&&s.set(n,new Set),this._destination=new t(this,o),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?o(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(en,Pn,Ie,Me,Dn,he),Vn=((t,e,n,i,s,o)=>(r,a)=>{const l=r.createOscillator();return Vt(l,a),Bt(l,a,"detune"),Bt(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Rt(l,a,"type"),e(n,(()=>n(r)))||qt(l),e(i,(()=>i(r)))||o(l,r),e(s,(()=>s(r)))||Ft(l),t(r,l),l})(Ge,ve,ae,le,ce,ue),Nn=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null,l=null;return{set periodicWave(t){r=t},set start(t){a=t},set stop(t){l=t},render(c,u){const h=o.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const p=P(h,u);if(!p){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===r?void 0:r,type:h.type};h=e(u,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return o.set(u,h),p?(await t(u,c.detune,h.detune),await t(u,c.frequency,h.frequency)):(await i(u,c.detune,h.detune),await i(u,c.frequency,h.frequency)),await s(c,u,h),h})(c,u)}}})(Ye,Vn,nt,$e,Te),Bn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,r){const a=s(t),l={...Qt,...r},c=n(a,l),u=o(a),h=u?i():null,p=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,p,-p),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?r(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){k(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Ne,Je,Vn,Nn,Ce,Me,he),qn=(t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}})(Ze),Fn=((t,e,n,i,s)=>(o,{curve:r,oversample:a,...l})=>{const c=o.createWaveShaper(),u=o.createWaveShaper();Vt(c,l),Vt(u,l);const h=n(o,{...l,gain:1}),p=n(o,{...l,gain:-1}),d=n(o,{...l,gain:1}),f=n(o,{...l,gain:-1});let m=null,g=!1,v=null;const y={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,p.channelCount=t,c.channelCount=t,d.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const s=Math.ceil((t+1)/2),o=(t+1)/2-1;for(let r=1;r<s;r+=1){const a=r/s*o,l=Math.floor(a),c=Math.ceil(a);e[r]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],i[r]=l===c?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(c-a))*n[t-1-c]}e[s]=t%2==1?n[s-1]:(n[s-2]+n[s-1])/2,c.curve=e,u.curve=i}v=n,g&&(i(v)&&null===m?m=t(o,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==r&&(y.curve=r instanceof Float32Array?r:new Float32Array(r)),a!==y.oversample&&(y.oversample=a),s(Ut(y,d),(()=>{h.connect(c).connect(d),h.connect(p).connect(u).connect(f).connect(d),g=!0,i(v)&&(m=t(o,h))}),(()=>{h.disconnect(c),c.disconnect(d),h.disconnect(p),p.disconnect(u),u.disconnect(f),f.disconnect(d),g=!1,null!==m&&(m(),m=null)}))})(qn,Mt,zt,se,rn),Ln=((t,e,n,i,s,o,r)=>(a,l)=>{const c=a.createWaveShaper();if(null!==o&&"webkitAudioContext"===o.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Vt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();Rt(c,{curve:u},"curve"),Rt(c,l,"oversample");let h=null,p=!1;return r(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),p&&(i(n)&&null===h?h=t(a,c):i(n)||null===h||(h(),h=null)),n))),s(c,(()=>{p=!0,i(c.curve)&&(h=t(a,c))}),(()=>{p=!1,null!==h&&(h(),h=null)}))})(qn,Mt,Fn,se,rn,Ee,oe),jn=((t,e,n,i,s,o,r,a,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:d,distanceModel:f,maxDistance:m,orientationX:g,orientationY:v,orientationZ:y,panningModel:_,positionX:x,positionY:b,positionZ:w,refDistance:T,rolloffFactor:S,...C})=>{const A=u.createPanner();if(C.channelCount>2)throw r();if("max"===C.channelCountMode)throw r();Vt(A,C);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},M=n(u,{...k,channelInterpretation:"speakers",numberOfInputs:6}),O=i(u,{...C,gain:1}),I=i(u,{...k,gain:1}),E=i(u,{...k,gain:0}),P=i(u,{...k,gain:0}),D=i(u,{...k,gain:0}),R=i(u,{...k,gain:0}),V=i(u,{...k,gain:0}),N=s(u,256,6,1),B=o(u,{...k,curve:new Float32Array([1,1]),oversample:"none"});let q=[g,v,y],F=[x,b,w];const L=new Float32Array(1);N.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,L,0),l(t,L,1),l(t,L,2)];e.some(((t,e)=>t!==q[e]))&&(A.setOrientation(...e),q=e);const n=[l(t,L,3),l(t,L,4),l(t,L,5)];n.some(((t,e)=>t!==F[e]))&&(A.setPosition(...n),F=n)},Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const j={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(t){if(t>2)throw r();O.channelCount=t,A.channelCount=t},get channelCountMode(){return A.channelCountMode},set channelCountMode(t){if("max"===t)throw r();O.channelCountMode=t,A.channelCountMode=t},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,A.channelInterpretation=t},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(t){A.coneInnerAngle=t},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(t){A.coneOuterAngle=t},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();A.coneOuterGain=t},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(t){A.distanceModel=t},get inputs(){return[O]},get maxDistance(){return A.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;A.maxDistance=t},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return E.gain},get orientationZ(){return P.gain},get panningModel(){return A.panningModel},set panningModel(t){A.panningModel=t},get positionX(){return D.gain},get positionY(){return R.gain},get positionZ(){return V.gain},get refDistance(){return A.refDistance},set refDistance(t){if(t<0)throw new RangeError;A.refDistance=t},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;A.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return h!==j.coneInnerAngle&&(j.coneInnerAngle=h),p!==j.coneOuterAngle&&(j.coneOuterAngle=p),d!==j.coneOuterGain&&(j.coneOuterGain=d),f!==j.distanceModel&&(j.distanceModel=f),m!==j.maxDistance&&(j.maxDistance=m),g!==j.orientationX.value&&(j.orientationX.value=g),v!==j.orientationY.value&&(j.orientationY.value=v),y!==j.orientationZ.value&&(j.orientationZ.value=y),_!==j.panningModel&&(j.panningModel=_),x!==j.positionX.value&&(j.positionX.value=x),b!==j.positionY.value&&(j.positionY.value=b),w!==j.positionZ.value&&(j.positionZ.value=w),T!==j.refDistance&&(j.refDistance=T),S!==j.rolloffFactor&&(j.rolloffFactor=S),1===q[0]&&0===q[1]&&0===q[2]||A.setOrientation(...q),0===F[0]&&0===F[1]&&0===F[2]||A.setPosition(...F),c(Ut(j,A),(()=>{O.connect(A),t(O,B,0,0),B.connect(I).connect(M,0,0),B.connect(E).connect(M,0,1),B.connect(P).connect(M,0,2),B.connect(D).connect(M,0,3),B.connect(R).connect(M,0,4),B.connect(V).connect(M,0,5),M.connect(N).connect(u.destination)}),(()=>{O.disconnect(A),a(O,B,0,0),B.disconnect(I),I.disconnect(M),B.disconnect(E),E.disconnect(M),B.disconnect(P),P.disconnect(M),B.disconnect(D),D.disconnect(M),B.disconnect(R),R.disconnect(M),B.disconnect(V),V.disconnect(M),M.disconnect(N),N.disconnect(u.destination)}))})(Q,Mt,ln,zt,Yt,Ln,Zt,et,ie,rn),Wn=(t=>(e,n)=>{const i=e.createPanner();return void 0===i.orientationX?t(e,n):(Vt(i,n),Bt(i,n,"orientationX"),Bt(i,n,"orientationY"),Bt(i,n,"orientationZ"),Bt(i,n,"positionX"),Bt(i,n,"positionY"),Bt(i,n,"positionZ"),Rt(i,n,"coneInnerAngle"),Rt(i,n,"coneOuterAngle"),Rt(i,n,"coneOuterGain"),Rt(i,n,"distanceModel"),Rt(i,n,"maxDistance"),Rt(i,n,"panningModel"),Rt(i,n,"refDistance"),Rt(i,n,"rolloffFactor"),i)})(jn),Un=((t,e,n,i,s,o,r,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(p,d){const f=u.get(d);return void 0!==f?Promise.resolve(f):(async(p,d)=>{let f=null,m=o(p);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=P(m,d);if("bufferSize"in m)f=i(d,{...g,gain:1});else if(!y){const t={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=s(d,t)}if(u.set(d,null===f?m:f),null!==f){if(null===h){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new r(6,p.context.length,d.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map((async(e,i)=>{const s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(t,e,s.offset),s})));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return c(t)})()}const t=await h,o=i(d,{...g,gain:1});await l(p,d,o);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let m=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],_=i(d,{...g,gain:1}),x=s(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});o.connect(_).connect(x.inputs[0]),x.connect(f);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==y[e]))){m=t,y=n;const r=e/d.sampleRate;_.gain.setValueAtTime(0,r),_=i(d,{...g,gain:0}),x=s(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,r),o.connect(_).connect(x.inputs[0]),x.connect(f)}}return f}return y?(await t(d,p.orientationX,m.orientationX),await t(d,p.orientationY,m.orientationY),await t(d,p.orientationZ,m.orientationZ),await t(d,p.positionX,m.positionX),await t(d,p.positionY,m.positionY),await t(d,p.positionZ,m.positionZ)):(await a(d,p.orientationX,m.orientationX),await a(d,p.orientationY,m.orientationY),await a(d,p.orientationZ,m.orientationZ),await a(d,p.positionX,m.positionX),await a(d,p.positionY,m.positionY),await a(d,p.positionZ,m.positionZ)),$(m)?await l(p,d,m.inputs[0]):await l(p,d,m),m})(p,d)}}})(Ye,ln,fn,zt,Wn,nt,ke,$e,Te,Mn),Hn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,a){const l=s(t),c={...Jt,...a},u=n(l,c),h=o(l);super(t,!1,u,h?i():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,q,B),this._orientationY=e(this,h,u.orientationY,q,B),this._orientationZ=e(this,h,u.orientationZ,q,B),this._positionX=e(this,h,u.positionX,q,B),this._positionY=e(this,h,u.positionY,q,B),this._positionZ=e(this,h,u.positionZ,q,B),r(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Ne,Je,Wn,Un,Ce,Me,sn),zn=(t=>(e,{disableNormalization:n,imag:i,real:s})=>{const o=i instanceof Float32Array?i:new Float32Array(i),r=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(r,o,{disableNormalization:n});if(Array.from(i).length<2)throw t();return a})(R),Gn=((t,e,n,i)=>class i{constructor(i,s){const o=e(i),r=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Kt,...s}),a=t(o,r);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(zn,Ce,new WeakSet),Xn=((t,e,n,i,s,o)=>{const r=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(t,o,h,p,d)=>{if(1===o)return((t,e,s,o)=>{const h=new Float32Array(r),p=new Float32Array(r);for(let t=0;t<r;t+=1){const e=t/16384*l;h[t]=Math.cos(e),p[t]=Math.sin(e)}const d=n(t,{...c,gain:0}),f=i(t,{...u,curve:h}),m=i(t,{...u,curve:a}),g=n(t,{...c,gain:0}),v=i(t,{...u,curve:p});return{connectGraph(){e.connect(d),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(s),s.connect(void 0===f.inputs?f:f.inputs[0]),s.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(d.gain),v.connect(g.gain),d.connect(o,0,0),g.connect(o,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(s),s.disconnect(void 0===f.inputs?f:f.inputs[0]),s.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(d.gain),v.disconnect(g.gain),d.disconnect(o,0,0),g.disconnect(o,0,1)}}})(t,h,p,d);if(2===o)return((t,s,o,h)=>{const p=new Float32Array(r),d=new Float32Array(r),f=new Float32Array(r),m=new Float32Array(r),g=Math.floor(8192.5);for(let t=0;t<r;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;p[t]=Math.cos(e),d[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;p[t]=1,d[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(t,{...c,gain:0}),_=i(t,{...u,curve:p}),x=n(t,{...c,gain:0}),b=i(t,{...u,curve:d}),w=i(t,{...u,curve:a}),T=n(t,{...c,gain:0}),S=i(t,{...u,curve:f}),C=n(t,{...c,gain:0}),A=i(t,{...u,curve:m});return{connectGraph(){s.connect(v),s.connect(void 0===w.inputs?w:w.inputs[0]),v.connect(y,0),v.connect(x,0),v.connect(T,1),v.connect(C,1),w.connect(o),o.connect(void 0===_.inputs?_:_.inputs[0]),o.connect(void 0===b.inputs?b:b.inputs[0]),o.connect(void 0===S.inputs?S:S.inputs[0]),o.connect(void 0===A.inputs?A:A.inputs[0]),_.connect(y.gain),b.connect(x.gain),S.connect(T.gain),A.connect(C.gain),y.connect(h,0,0),T.connect(h,0,0),x.connect(h,0,1),C.connect(h,0,1)},disconnectGraph(){s.disconnect(v),s.disconnect(void 0===w.inputs?w:w.inputs[0]),v.disconnect(y,0),v.disconnect(x,0),v.disconnect(T,1),v.disconnect(C,1),w.disconnect(o),o.disconnect(void 0===_.inputs?_:_.inputs[0]),o.disconnect(void 0===b.inputs?b:b.inputs[0]),o.disconnect(void 0===S.inputs?S:S.inputs[0]),o.disconnect(void 0===A.inputs?A:A.inputs[0]),_.disconnect(y.gain),b.disconnect(x.gain),S.disconnect(T.gain),A.disconnect(C.gain),y.disconnect(h,0,0),T.disconnect(h,0,0),x.disconnect(h,0,1),C.disconnect(h,0,1)}}})(t,h,p,d);throw s()};return(e,{channelCount:i,channelCountMode:r,pan:a,...l})=>{if("max"===r)throw s();const c=t(e,{...l,channelCount:1,channelCountMode:r,numberOfInputs:2}),u=n(e,{...l,channelCount:i,channelCountMode:r,gain:1}),p=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:d,disconnectGraph:f}=h(e,i,u,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(g&&f(),({connectGraph:d,disconnectGraph:f}=h(e,t,u,p,c)),g&&d()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw s();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return p.gain},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2])};let g=!1;return o(Ut(m,c),(()=>{d(),g=!0}),(()=>{f(),g=!1}))}})(ln,Wt,zt,Ln,Zt,rn),Yn=((t,e)=>(n,i)=>{const s=i.channelCountMode;if("clamped-max"===s)throw e();if(void 0===n.createStereoPanner)return t(n,i);const o=n.createStereoPanner();return Vt(o,i),Bt(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>s,set:t=>{if(t!==s)throw e()}}),o})(Xn,Zt),Zn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return o.set(a,l),c?await t(a,r.pan,l.pan):await i(a,r.pan,l.pan),$(l)?await s(r,a,l.inputs[0]):await s(r,a,l),l})(r,a)}}})(Ye,Yn,nt,$e,Te),$n=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=s(t),l={...te,...r},c=n(a,l),u=o(a);super(t,!1,c,u?i():null),this._pan=e(this,u,c.pan)}get pan(){return this._pan}})(Ne,Je,Yn,Zn,Ce,Me),Qn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,curve:r.curve,oversample:r.oversample};r=t(o,e)}return i.set(o,r),$(r)?await n(s,o,r.inputs[0]):await n(s,o,r),r})(s,o)}}})(Ln,nt,Te),Jn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,e){const a=s(t),l={...ne,...e},c=n(a,l);super(t,!0,c,o(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,r(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Ne,Mt,Ln,Qn,Ce,Me,sn),Kn=(t=>null!==t&&t.isSecureContext)(xe),ti=(t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(xe),ei=new WeakMap,ni=((t,e)=>n=>{let i=t.get(n);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i})(ei,ke),ii=Kn?((t,e,n,i,s,o,r,a,l,c,u,h,p)=>{let d=0;return(f,m,v={credentials:"omit"})=>{const y=u.get(f);if(void 0!==y&&y.has(m))return Promise.resolve();const _=c.get(f);if(void 0!==_){const t=_.get(m);if(void 0!==t)return t}const T=o(f),S=void 0===T.audioWorklet?s(m).then((([t,e])=>{const[i,s]=x(t,e);return n(`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${s}\n})})(window,'_AWGS')`)})).then((()=>{const t=p._AWGS.pop();if(void 0===t)throw new SyntaxError;i(T.currentTime,T.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const i=g.get(T);if(void 0!==i){if(i.has(t))throw e();w(n),b(n.parameterDescriptors),i.set(t,n)}else w(n),b(n.parameterDescriptors),g.set(T,new Map([[t,n]]))}),T.sampleRate,void 0,void 0)))})):Promise.all([s(m),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const i=d+1;d=i;const[s,o]=x(t,e),c=new Blob([`${s};((AudioWorkletProcessor,registerProcessor)=>{${o}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${i}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(c);return T.audioWorklet.addModule(u,v).then((()=>{if(a(T))return T;const t=r(T);return t.audioWorklet.addModule(u,v).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${i}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));return void 0===_?c.set(f,new Map([[m,S]])):_.set(m,S),S.then((()=>{const t=u.get(f);void 0===t?u.set(f,new Set([m])):t.add(m)})).finally((()=>{const t=c.get(f);void 0!==t&&t.delete(m)})),S}})(ve,Zt,(t=>e=>new Promise(((n,i)=>{if(null===t)return void i(new SyntaxError);const s=t.document.head;if(null===s)i(new SyntaxError);else{const o=t.document.createElement("script"),r=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(r),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,s,o,r)=>n===a||n===t.location.href&&1===s&&1===o?(c(),i(r),!1):null!==l?l(e,n,s,o,r):void 0,o.onerror=()=>{c(),i(new SyntaxError)},o.onload=()=>{c(),n()},o.src=a,o.type="module",s.appendChild(o)}})))(xe),ti,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),Ce,ni,Me,Ve,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),s=URL.createObjectURL(n);let o=!1,r=!1;try{await i.audioWorklet.addModule(s);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>o=!0,e.onprocessorerror=()=>r=!0,n.connect(e),n.start(0),await i.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(s)}return o&&!r})(Ve,ke),xe):void 0,si=((t,e)=>n=>t(n)||e(n))(Pe,Me),oi=((t,e,n,i,s,o,r,a,l,c,u)=>(n,i)=>{const h=r(n)?n:o(n);if(s.has(i)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{s.add(i)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(i).then((n=>(Tt(i).catch((()=>{})),e(a,(()=>a(n)))||u(n),t.add(n),n))):new Promise(((e,n)=>{const s=async()=>{try{await Tt(i)}catch{}},o=t=>{n(t),s()};try{h.decodeAudioData(i,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),V(n)),t.add(n),s().then((()=>e(n)))}),(t=>{o(null===t?new DOMException("","EncodingError"):t)}))}catch(t){o(t)}}))})(Fe,ve,0,0,new WeakSet,Ce,si,D,Dt,Ue,He),ri=((t,e,n,i,s,o,r,a,l,c,u,h,p,d,f,m,g,v,y,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(t=6){return new o(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new r(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(t,e){return new d(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(ii,qe,ze,tn,on,un,pn,gn,_n,oi,bn,Sn,An,En,Rn,Bn,Hn,Gn,$n,Jn),ai=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),o=((t,e)=>t.createMediaElementSource(e.mediaElement))(s,e);if(i(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ne,0,Ce,Me),li=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t);if(i(s))throw new TypeError;const o=((t,e)=>{const n=t.createMediaStreamDestination();return Vt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(s,{...Pt,...e});super(t,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ne,0,Ce,Me),ci=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),o=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const i=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:e}),s})(s,e);if(i(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ne,0,Ce,Me),ui=((t,e)=>(n,{mediaStreamTrack:i})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),o=n.createMediaStreamSource(s);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return o})(Mt,Me),hi=((t,e,n)=>class extends t{constructor(t,i){const s=n(t);super(t,!0,e(s,i),null)}})(Ne,ui,Ce),pi=((t,e,n,i,s,o,r,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw i();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:s}=t,{sampleRate:o}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===s?512/o:"interactive"===s||void 0===s?256/o:"playback"===s?1024/o:128*Math.max(2,Math.min(128,Math.round(s*o/128)))/o,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),H(this)})))}createMediaElementSource(t){return new s(this,{mediaElement:t})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(t){return new r(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(ri,Mt,Zt,ee,ai,li,ci,hi,Ee),di=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Dn),fi=(t=>(e,n)=>{t(e).add(n)})(di),mi=(t=>(e,n,i=0,s=0)=>{const o=e[i];if(void 0===o)throw t();return lt(n)?o.connect(n,0,s):o.connect(n,0)})(R),gi=(t=>(e,n)=>{t(e).delete(n)})(di),vi=(t=>(e,n=void 0,i=void 0,s=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?Ct(t,e,n).disconnect():lt(n)?void 0===i?e.forEach((t=>t.disconnect(n))):void 0===s?Ct(t,e,i).disconnect(n,0):Ct(t,e,i).disconnect(n,0,s):void 0===i?e.forEach((t=>t.disconnect(n))):Ct(t,e,i).disconnect(n,0))(R),yi=new WeakMap,_i=((t,e)=>n=>e(t,n))(yi,T),xi=((t,e,n,i,s,o,r,a,l,c,u,h,p)=>(d,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((t=>t<1)))throw l();if(y.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw l();const _=g.channelCount*g.numberOfInputs,x=y.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+b>6||x>6)throw l();const w=new MessageChannel,T=[],S=[];for(let t=0;t<g.numberOfInputs;t+=1)T.push(r(d,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),S.push(s(d,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const s=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[i]?g.parameterData[i]:void 0===t?0:t});Object.defineProperties(s.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?q:e},minValue:{get:()=>void 0===n?B:n}}),C.push(s)}const A=i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+b)}),k=Lt(f,d.sampleRate),M=a(d,k,_+b,Math.max(1,x)),O=s(d,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),I=[];for(let t=0;t<g.numberOfOutputs;t+=1)I.push(i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<g.numberOfInputs;t+=1){T[t].connect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[t].connect(A,e,t*g.channelCount+e)}const E=new pt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=C[e];return n.connect(A,0,_+e),n.start(0),[t,n.offset]})));A.connect(M);let P=g.channelInterpretation,D=null;const R=0===g.numberOfOutputs?[M]:I,V={get bufferSize(){return k},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return P},set channelInterpretation(t){for(const e of T)e.channelInterpretation=t;P=t},get context(){return M.context},get inputs(){return T},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(t){"function"==typeof D&&V.removeEventListener("processorerror",D),D="function"==typeof t?t:null,"function"==typeof D&&V.addEventListener("processorerror",D)},get parameters(){return E},get port(){return w.port2},addEventListener:(...t)=>M.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,R),disconnect:c.bind(null,R),dispatchEvent:(...t)=>M.dispatchEvent(t[0]),removeEventListener:(...t)=>M.removeEventListener(t[0],t[1],t[2])},N=new Map;var F,L;w.port1.addEventListener=(F=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(d.currentTime,d.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return F.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(L=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return L.call(w.port1,t[0],t[1],t[2])});let j=null;Object.defineProperty(w.port1,"onmessage",{get:()=>j,set:t=>{"function"==typeof j&&w.port1.removeEventListener("message",j),j="function"==typeof t?t:null,"function"==typeof j&&(w.port1.addEventListener("message",j),w.port1.start())}}),m.prototype.port=w.port1;let W=null;const U=((t,e,n,i)=>{let s=v.get(t);void 0===s&&(s=new WeakMap,v.set(t,s));const o=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:t})=>{i.close(),s.close(),e(t)},i.onmessageerror=({data:t})=>{i.close(),s.close(),n(t)},s.postMessage(t)})))(e);return new t(n)})(n,i);return s.set(e,o),o})(d,V,m,g);U.then((t=>W=t));const H=gt(g.numberOfInputs,g.channelCount),z=gt(g.numberOfOutputs,y),G=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let X=!0;const Y=()=>{g.numberOfOutputs>0&&M.disconnect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=I[t];for(let i=0;i<y[t];i+=1)O.disconnect(n,e+i,i);e+=y[t]}},Z=new Map;M.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==W){const n=h(V);for(let i=0;i<k;i+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)ft(t,H[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{ft(t,G,e,_+n,i)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const t=H.map(((t,e)=>{if(n[e].size>0)return Z.set(e,k/128),t;const i=Z.get(e);return void 0===i?[]:(t.every((t=>t.every((t=>0===t))))&&(1===i?Z.delete(e):Z.set(e,i-1)),t)})),s=u(d.currentTime+i/d.sampleRate,d.sampleRate,(()=>W.process(t,z,G)));X=s;for(let t=0,n=0;t<g.numberOfOutputs;t+=1){for(let s=0;s<y[t];s+=1)mt(e,z[t],s,n+s,i);n+=y[t]}}catch(t){X=!1,V.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!X){for(let t=0;t<g.numberOfInputs;t+=1){T[t].disconnect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[i].disconnect(A,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(A,0,_+e),t.stop()}}A.disconnect(M),M.onaudioprocess=null,$?Y():K();break}}}};let $=!1;const Q=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),J=()=>M.connect(Q).connect(d.destination),K=()=>{M.disconnect(Q),Q.disconnect()};return J(),p(V,(()=>{if(X){K(),g.numberOfOutputs>0&&M.connect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=I[t];for(let i=0;i<y[t];i+=1)O.connect(n,e+i,i);e+=y[t]}}$=!0}),(()=>{X&&(J(),Y()),$=!1}))})(mi,R,Mt,ln,Wt,fn,zt,Yt,Zt,vi,ti,_i,rn),bi=((t,e,n,i,s)=>(o,r,a,l,c,u)=>{if(null!==a)try{const e=new a(o,l,u),i=new Map;let r=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>r,set:t=>{"function"==typeof r&&e.removeEventListener("processorerror",r),r="function"==typeof t?t:null,"function"==typeof r&&e.addEventListener("processorerror",r)}}}),e.addEventListener=(p=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=i.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},i.set(e,t[1]))}}return p.call(e,"error",t[1],t[2]),p.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=i.get(t[1]);void 0!==e&&(i.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(o.destination),s(e,(()=>t.disconnect()),(()=>t.connect(o.destination)))}return e}catch(t){if(11===t.code)throw i();throw t}var h,p;if(void 0===c)throw i();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(o,r,c,u)})(Mt,xi,zt,Zt,rn),wi=((t,e,n,i,s,o,r,a,l,c,u,h,p,d,f,m)=>(g,v,y)=>{const _=new WeakMap;let x=null;return{render(b,w){a(w,b);const T=_.get(w);return void 0!==T?Promise.resolve(T):(async(a,b)=>{let w=u(a),T=null;const S=P(w,b),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=s(b,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),o=[];for(let t=0;t<a.numberOfOutputs;t+=1)o.push(i(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const c=r(b,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=e.bind(null,o),c.disconnect=l.bind(null,o),T=[n,o,c]}else S||(w=new h(b,g));if(_.set(b,null===T?w:T[2]),null!==T){if(null===x){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===p)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=t+e,l=async()=>{const l=new p(n,128*Math.ceil(a.context.length/128),b.sampleRate),c=[],u=[];for(let t=0;t<v.numberOfInputs;t+=1)c.push(r(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(s(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=o(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await d(l,t,e.offset),e}))),g=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<v.channelCount;e+=1)u[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(c.map((t=>f(a,l,t)))),m(l)};x=vt(a,0===n?null:await l(),b,v,C,y,c)}const t=await x,e=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=T;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=u[t];for(let i=0;i<C[t];i+=1)l.connect(n,e+i,i);e+=C[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(b,n,w.parameters.get(e));else for(const[t,e]of a.parameters.entries())await d(b,e,w.parameters.get(t));return await f(a,b,w),w})(b,w)}}})(Ye,mi,Ze,ln,Wt,fn,zt,gi,vi,ti,nt,Ve,ke,$e,Te,Mn),Ti=(t=>e=>t.get(e))(ei),Si=(t=>(e,n)=>{t.set(e,n)})(yi),Ci=Kn?((t,e,n,i,s,o,r,a,l,c,u,h,p,d)=>class extends e{constructor(e,u,p){var d;const f=a(e),m=l(f),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...dt,...p});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(v);const y=g.get(f),_=null==y?void 0:y.get(u),x=m||"closed"!==f.state?f:null!==(d=r(f))&&void 0!==d?d:f,b=s(x,m?null:e.baseLatency,c,u,_,v);super(e,!0,b,m?i(u,v,_):null);const w=[];b.parameters.forEach(((t,e)=>{const i=n(this,m,t);w.push([e,i])})),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new pt(w),m&&t(f,this);const{activeInputs:T}=o(this);h(b,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(fi,Ne,Je,wi,bi,j,Ti,Ce,Me,Ve,0,Si,0,he):void 0,Ai=((t,e)=>(n,i,s)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,s)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Zt,ke),ki=((t,e,n,i,s,o,r,a)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(i(c)).map((t=>n(t).render(t,c)))))).then((()=>s(c))).then((n=>("function"!=typeof n.copyFromChannel?(r(n),V(n)):e(o,(()=>o(n)))||a(n),t.add(n),n))))(Fe,ve,we,di,Mn,D,Ue,He),Mi=((t,e,n,i,s)=>class extends t{constructor(t,n,s){let o;if("number"==typeof t&&void 0!==n&&void 0!==s)o={length:n,numberOfChannels:t,sampleRate:s};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");o=t}const{length:r,numberOfChannels:a,sampleRate:l}={...$t,...o},c=i(a,r,l);e(Dt,(()=>Dt(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=r,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,H(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(ri,ve,Mt,Ai,ki),Oi=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Pe),Ii=((t,e)=>n=>t.has(n)||e(n))(u,De),Ei=((t,e)=>n=>t.has(n)||e(n))(p,Re),Pi=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Me);function Di(t,e){if(!t)throw new Error(e)}function Ri(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vi(t){t.isOffline||"running"===t.state||Bi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ni=console;function Bi(...t){Ni.warn(...t)}function qi(t){return void 0===t}function Fi(t){return!qi(t)}function Li(t){return"number"==typeof t}function ji(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Wi(t){return Array.isArray(t)}function Ui(t){return"string"==typeof t}function Hi(t){return Ui(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const zi="object"==typeof self?self:null,Gi=zi&&(zi.hasOwnProperty("AudioContext")||zi.hasOwnProperty("webkitAudioContext"));function Xi(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}function Yi(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((i=i.apply(t,e||[])).next())}))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class Zi{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function $i(t){return Ei(t)}function Qi(t){return Ii(t)}function Ji(t){return Pi(t)}function Ki(t){return Oi(t)}function ts(t){return t instanceof AudioBuffer}function es(t,e){return"value"===t||$i(e)||Qi(e)||ts(e)}function ns(t,...e){if(!e.length)return t;const n=e.shift();if(ji(t)&&ji(n))for(const e in n)es(e,n[e])?t[e]=n[e]:ji(n[e])?(t[e]||Object.assign(t,{[e]:{}}),ns(t[e],n[e])):Object.assign(t,{[e]:n[e]});return ns(t,...e)}function is(t,e,n=[],i){const s={},o=Array.from(e);if(ji(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some((e=>Reflect.has(t,e)))||(ns(s,{[i]:o[0]}),n.splice(n.indexOf(i),1),o.shift())),1===o.length&&ji(o[0]))ns(s,o[0]);else for(let t=0;t<n.length;t++)Fi(o[t])&&(s[n[t]]=o[t]);return ns(t,s)}function ss(t,e){return qi(t)?e:t}function os(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class rs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||zi&&this.toString()===zi.TONE_DEBUG_CLASS)&&function(...t){Ni.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}rs.version=r;const as=1e-6;function ls(t,e){return t>e+as}function cs(t,e){return ls(t,e)||hs(t,e)}function us(t,e){return t+as<e}function hs(t,e){return Math.abs(t-e)<as}class ps extends rs{constructor(){super(),this.name="Timeline",this._timeline=[];const t=is(ps.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Di(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Di(cs(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(hs(this._timeline[e].time,t)){for(let n=e;n>=0&&hs(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&cs(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;for(;n<s;){let i=Math.floor(n+(s-n)/2);const o=this._timeline[i],r=this._timeline[i+1];if(hs(o[e],t)){for(let n=i;n<this._timeline.length&&hs(this._timeline[n][e],t);n++)i=n;return i}if(us(o[e],t)&&ls(r[e],t))return i;ls(o[e],t)?s=i:n=i+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),s=this._search(e);return-1!==i&&-1!==s?(this._timeline[i].time!==t&&(i+=1),this._timeline[s].time===e&&(s-=1),this._iterate(n,i,s)):-1===i&&this._iterate(n,0,s),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&hs(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0&&hs(this._timeline[e].time,t);e--)i=e;this._iterate((t=>{e(t)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ds=[];function fs(t){ds.push(t)}const ms=[];function gs(t){ms.push(t)}class vs extends rs{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...i)=>{e(...i),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(qi(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,i=n.length;t<i;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(vs.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class ys extends vs{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class _s extends ys{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new ps,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=is(_s.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new pi(t)}({latencyHint:t.latencyHint}),this._ticker=new Zi(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,ds.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Di(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Di(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Di(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Di(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Di(Fi(Ci),"This node only works in a secure context (https or localhost)"),new Ci(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Yi(this,void 0,void 0,(function*(){Di(Fi(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Yi(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Ui(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ki(this._context)?this._context.resume():Promise.resolve()}close(){return Yi(this,void 0,void 0,(function*(){var t;Ki(this._context)&&(yield this._context.close()),this._initialized&&(t=this,ms.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:s+e})};return i(),n}}function xs(t,e){Wi(e)?e.forEach((e=>xs(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function bs(t,e){Wi(e)?e.forEach((e=>bs(t,e))):Object.defineProperty(t,e,{writable:!0})}const ws=()=>{};class Ts extends rs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ws;const t=is(Ts.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ts(t.url)||t.url instanceof Ts?this.set(t.url):Ui(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:ws,onload:ws,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ks().sampleRate}set(t){return t instanceof Ts?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Yi(this,void 0,void 0,(function*(){const e=Ts.load(t).then((t=>{this.set(t),this.onload(this)}));Ts.downloads.push(e);try{yield e}finally{const t=Ts.downloads.indexOf(e);Ts.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Wi(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,s=ks(),o=s.createBuffer(n,i,s.sampleRate),r=e||1!==n?t:[t];for(let t=0;t<n;t++)o.copyToChannel(r[t],t);return this._buffer=o,this}toMono(t){if(Li(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Li(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);Di(n<i,"The start time must be less than the end time");const s=i-n,o=ks().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)o.copyToChannel(this.getChannelData(t).subarray(n,i),t);return new Ts(o)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Ts).fromArray(t)}static fromUrl(t){return Yi(this,void 0,void 0,(function*(){const e=new Ts;return yield e.load(t)}))}static load(t){return Yi(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(Ts.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===Ts.baseUrl||Ts.baseUrl.endsWith("/")?Ts.baseUrl:Ts.baseUrl+"/",i=yield fetch(n+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const s=yield i.arrayBuffer();return yield ks().decodeAudioData(s)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Yi(this,void 0,void 0,(function*(){for(yield Promise.resolve();Ts.downloads.length;)yield Ts.downloads[0]}))}}Ts.baseUrl="",Ts.downloads=[];class Ss extends _s{constructor(){var t,e,n;super({clockSource:"offline",context:Ji(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Mi(t,e,n)),lookAhead:0,updateInterval:Ji(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ji(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Yi(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return Yi(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Ts(e)}))}close(){return Promise.resolve()}}const Cs=new class extends ys{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Yi(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let As=Cs;function ks(){return As===Cs&&Gi&&(t=new _s,As=Ki(t)?new _s(t):Ji(t)?new Ss(t):t),As;var t}if(zi&&!zi.TONE_SILENCE_LOGGING){const t=` * Tone.js ${"v"}${r} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Ms(t){return Math.pow(2,t/12)}let Os=440;function Is(t){return Math.round(Es(t))}function Es(t){return 69+12*Math.log2(t/Os)}class Ps extends rs{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ps&&this.fromType(this._val),qi(this._val))return this._noArg();if(Ui(this._val)&&qi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ji(this._val)){let t=0;for(const e in this._val)if(Fi(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Fi(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Ui(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Ds extends Ps{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Ds(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],i=new Ds(this.context,e[0]).toSeconds();return e.forEach((e=>{const s=new Ds(this.context,e).toSeconds();Math.abs(s-t)<Math.abs(i-t)&&(n=e,i=s)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[n,e,i].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Is(this.toFrequency())}_now(){return this.context.now()}}class Rs extends Ds{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Os}static set A4(t){!function(t){Os=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Rs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Vs[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Rs.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new Rs(this.context,this.valueOf()*Ms(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Is(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Rs.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);return i<0&&(n+=-12*i),Ns[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return Os*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return Is(t)}}const Vs={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Ns=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Bs extends Ds{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qs extends rs{constructor(){super();const t=is(qs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ks()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Ds(this.context,t).toSeconds()}toFrequency(t){return new Rs(this.context,t).toFrequency()}toTicks(t){return new Bs(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{qi(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Fi(n)&&Fi(n.value)&&Fi(n.setValueAtTime)?t[e]=n.value:n instanceof qs?t[e]=n._getPartialProperties(t[e]):Wi(n)||Li(n)||Ui(n)||"boolean"==typeof n?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Fi(this[e])&&(this[e]&&Fi(this[e].value)&&Fi(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof qs?this[e].set(t[e]):this[e]=t[e])})),this}}class Fs extends ps{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ri(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class Ls extends qs{constructor(){super(is(Ls.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=is(Ls.getDefaults(),arguments,["param","units","convert"]);for(Di(Fi(t.param)&&($i(t.param)||t.param instanceof Ls),"param must be an AudioParam");!$i(t.param);)t.param=t.param._param;this._swappable=!!Fi(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new ps(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Fi(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qs.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Fi(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Fi(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Fi(this.maxValue)&&Fi(this.minValue)&&Ri(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?(e=t,Math.log(e)/Math.LN10*20):t;var e}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return Di(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let s=this._initialValue;if(null===i)s=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)s=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}s="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else s=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(s=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(s)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=hs(n,0)?this._minOutput:n,this._assertRange(n);const i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);Di(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(e);return this._assertRange(i),Di(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,s,n),this._param.setTargetAtTime(i,s,n),this}setValueCurveAtTime(t,e,n,i=1){n=this.toSeconds(n),e=this.toSeconds(e);const s=this._fromType(t[0])*i;this.setValueAtTime(this._toType(s),e);const o=n/(t.length-1);for(let n=1;n<t.length;n++){const s=this._fromType(t[n])*i;this.linearRampToValueAtTime(this._toType(s),e+n*o)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Di(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Di(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),s=this._events.getAfter(e);return i&&hs(i.time,e)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),"linearRampToValueAtTime"===s.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===s.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),s=i?i.time:e+2,o=(s-e)/10;for(let n=e;n<s;n+=o)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Di(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,s){return n+(e-n)*Math.exp(-(s-t)/i)}_linearInterpolate(t,e,n,i,s){return e+(s-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,s){return e*Math.pow(i/e,(s-t)/(n-t))}}class js extends qs{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Fi(this.input)?$i(this.input)||this.input instanceof Ls?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Fi(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Fi(t)&&(t instanceof js||Qi(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Di(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Us(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Bi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,i=0){if(Fi(e))for(;e instanceof js;)e=e.input;for(;!Qi(t);)Fi(t.output)&&(t=t.output);$i(e)?t.disconnect(e,n):Qi(e)?t.disconnect(e,n,i):t.disconnect()}(this,t,e,n),this}chain(...t){return Ws(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Fi(this.input)&&(this.input instanceof js?this.input.dispose():Qi(this.input)&&this.input.disconnect()),Fi(this.output)&&(this.output instanceof js?this.output.dispose():Qi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ws(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof js?t.connect(e):Qi(t)&&Us(t,e),e)),e)}function Us(t,e,n=0,i=0){for(Di(Fi(t),"Cannot connect from undefined node"),Di(Fi(e),"Cannot connect to undefined node"),(e instanceof js||Qi(e))&&Di(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Di(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof js||e instanceof Ls;)Fi(e.input)&&(e=e.input);for(;t instanceof js;)Fi(t.output)&&(t=t.output);$i(e)?t.connect(e,n):t.connect(e,n,i)}class Hs extends js{constructor(){super(is(Hs.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=is(Hs.getDefaults(),arguments,["gain","units"]);this.gain=new Ls({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),xs(this,"gain")}static getDefaults(){return Object.assign(js.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class zs extends js{constructor(t){super(t),this.onended=ws,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Hs({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(js.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ws})}_startGain(t,e=1){Di(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Di(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ws&&(this.onended(this),this.onended=ws,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Di(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Gs extends zs{constructor(){super(is(Gs.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=is(Gs.getDefaults(),arguments,["offset"]);Us(this._source,this._gainNode),this.offset=new Ls({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(zs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Xs extends js{constructor(){super(is(Xs.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=is(Xs.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Gs({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(js.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Ys(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Ys(t,e,n,i){(e instanceof Ls||$i(e)||e instanceof Xs&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Xs&&(e.overridden=!0)),Us(t,e,n,i)}class Zs extends Ls{constructor(){super(is(Zs.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new ps(1/0),this._multiplier=1;const t=is(Zs.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ls.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),s=this._events.get(e),o=Math.round(Math.max(1/n,1));for(let t=0;t<=o;t++){const o=n*t+e,r=this._exponentialApproach(s.time,s.value,i,n,o);this.linearRampToValueAtTime(this._toType(r),o)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(10*(e-i.time),1)),o=(e-i.time)/s;for(let t=0;t<=s;t++){const s=o*t+i.time,r=this._exponentialInterpolate(i.time,i.value,e,n,s);this.linearRampToValueAtTime(this._toType(r),s)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(qi(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const s=this._events.get(e);return s&&s.time===e&&"setValueAtTime"===s.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),s=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-e.time),o=Math.sqrt(Math.pow(i,2)-2*s*(e.ticks-t)),r=(-i+o)/s;return(r>0?r:(-i-o)/s)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),s=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-s}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class $s extends Xs{constructor(){super(is($s.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=is($s.getDefaults(),arguments,["value"]);this.input=this._param=new Zs({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Xs.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Qs extends qs{constructor(){super(is(Qs.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Fs,this._tickOffset=new ps;const t=is(Qs.getDefaults(),arguments,["frequency"]);this.frequency=new $s({context:this.context,units:t.units,value:t.frequency}),xs(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Fi(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let s=n,o=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(o=n.ticks,e=n.time),"started"===s.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),s=t})),this._state.remove(i),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let i=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.seconds,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=t.time-e),i=t})),this._state.remove(n),s}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),i=this._state.get(e),s=Math.max(n.time,i.time),o=this.frequency.getTicksAtTime(s)+t-n.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,(e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e}));let s=null;if(i&&"started"===i.state){const o=Math.max(i.time,t),r=this.frequency.getTicksAtTime(o),a=r-this.frequency.getTicksAtTime(i.time);let l=Math.ceil(a)-a;l=hs(l,1)?0:l;let c=this.frequency.getTimeOfTick(r+l);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){s=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Js extends qs{constructor(){super(is(Js.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ws,this._lastUpdate=0,this._state=new Fs("stopped"),this._boundLoop=this._loop.bind(this);const t=is(Js.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Qs({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xs(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qs.getDefaults(),{callback:ws,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Vi(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}vs.mixin(Js);class Ks extends rs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=is(Ks.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:ws,onload:ws,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Di(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=ws,i=ws){return Ui(e)?this._buffers.set(t.toString(),new Ts(this.baseUrl+e,n,i)):this._buffers.set(t.toString(),new Ts(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class to extends Bs{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class eo extends qs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ps,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}fs((t=>{t.draw=new eo({context:t})})),gs((t=>{t.draw.dispose()}));class no extends rs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Di(Fi(t.time),"Events must have a time property"),Di(Fi(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new io(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class io{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class so extends js{constructor(){super(is(so.getDefaults(),arguments,["volume"])),this.name="Volume";const t=is(so.getDefaults(),arguments,["volume"]);this.input=this.output=new Hs({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,xs(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class oo extends js{constructor(){super(is(oo.getDefaults(),arguments)),this.name="Destination",this.input=new so({context:this.context}),this.output=new Hs({context:this.context}),this.volume=this.input.volume;const t=is(oo.getDefaults(),arguments);Ws(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Ws(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}fs((t=>{t.destination=new oo({context:t})})),gs((t=>{t.destination.dispose()}));class ro extends rs{constructor(t){super(),this.name="TimelineValue",this._timeline=new ps({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ao{constructor(t,e){this.id=ao._eventId++;const n=Object.assign(ao.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:ws,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ao._eventId=0;class lo extends ao{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(lo.getDefaults(),e);this.duration=new to(t.context,n.duration).valueOf(),this._interval=new to(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ao.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class co extends qs{constructor(){super(is(co.getDefaults(),arguments)),this.name="Transport",this._loop=new ro(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ps,this._repeatedEvents=new no,this._syncedSignals=[],this._swingAmount=0;const t=is(co.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Js({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),xs(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new to(this.context,2*this._swingTicks/3).toSeconds()*i}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new ao(this,{callback:t,time:new Bs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,i=1/0){const s=new lo(this,{callback:t,duration:new Ds(this.context,i).toTicks(),interval:new Ds(this.context,e).toTicks(),time:new Bs(this.context,n).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(t,e){const n=new ao(this,{callback:t,once:!0,time:new Bs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new to(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Fi(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Wi(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Ds(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Ds(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new to(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new to(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new Hs(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bs(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}vs.mixin(co),fs((t=>{t.transport=new co({context:t})})),gs((t=>{t.transport.dispose()}));class uo extends js{constructor(t){super(t),this.input=void 0,this._state=new Fs("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ws,this._syncedStop=ws,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new so({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,xs(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,onstop:ws,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(ss(e,0)),t.duration=n?this.toSeconds(n):void 0);const s=this.context.transport.schedule((t=>{this._start(t,e,n)}),i);this._scheduled.push(s),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vi(this.context),this._start(i,e,n);else Di(ls(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Fi(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let s;n.duration&&(s=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,s)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ws,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ho extends zs{constructor(){super(is(ho.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=is(ho.getDefaults(),arguments,["url","onload"]);Us(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ls({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Ts(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(zs.getDefaults(),{url:new Ts,loop:!1,loopEnd:0,loopStart:0,onload:ws,onerror:ws,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,i=1){Di(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(t);this._startGain(s,i),e=this.loop?ss(e,this.loopStart):ss(e,0);let o=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;cs(o,t)&&(o=(o-e)%n+e),hs(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,us(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,o)),Fi(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(s+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function po(t,e){return Yi(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new Ss(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)}))}class fo extends zs{constructor(){super(is(fo.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=is(fo.getDefaults(),arguments,["frequency","type"]);Us(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ls({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ls({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),xs(this,["frequency","detune"])}static getDefaults(){return Object.assign(zs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class mo extends uo{constructor(){super(is(mo.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=is(mo.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),xs(this,"frequency"),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),xs(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new fo({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return mo._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=mo._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Fi(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),mo._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),mo._periodicWaveCache.length>100&&mo._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ri(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const i=new Float32Array(n),s=new Float32Array(n);let o=1;if("custom"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,n=o,0===this._partials.length)return[i,s]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),n=o):this._partialCount=0,this._partials=[]}for(let r=1;r<n;++r){const n=2/(r*Math.PI);let a;switch(t){case"sine":a=r<=o?1:0,this._partials[r-1]=a;break;case"square":a=1&r?2*n:0,this._partials[r-1]=a;break;case"sawtooth":a=n*(1&r?1:-1),this._partials[r-1]=a;break;case"triangle":a=1&r?n*n*2*(r-1>>1&1?-1:1):0,this._partials[r-1]=a;break;case"custom":a=this._partials[r-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(i[r]=-a*Math.sin(e*r),s[r]=a*Math.cos(e*r)):(i[r]=0,s[r]=0)}return[i,s]}_inverseFFT(t,e,n){let i=0;const s=t.length;for(let o=0;o<s;o++)i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let s=0;s<32;s++)n=Math.max(this._inverseFFT(t,e,s/32*i),n);return s=-this._inverseFFT(t,e,this._phase)/n,-1,1,Math.max(Math.min(s,1),-1);var s}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}mo._periodicWaveCache=[];class go extends js{constructor(){super(Object.assign(is(go.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Ys(this,t,e,n),this}}class vo extends go{constructor(){super(Object.assign(is(vo.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=is(vo.getDefaults(),arguments,["mapping","length"]);Wi(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Xs.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let i=0,s=e;i<s;i++){const e=i/(s-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Di(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class yo extends go{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new vo({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class _o extends Xs{constructor(){super(Object.assign(is(_o.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=is(_o.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Hs({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Xs.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class xo extends uo{constructor(){super(is(xo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new yo({context:this.context}),this._modulationNode=new Hs({context:this.context});const t=is(xo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new mo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new _o({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xs(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(mo.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class bo extends uo{constructor(){super(is(bo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Hs({context:this.context,gain:0});const t=is(bo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new mo({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new mo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new _o({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new _o({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xs(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(mo.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class wo extends uo{constructor(){super(is(wo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Hs({context:this.context,gain:0}),this._thresh=new vo({context:this.context,mapping:t=>t<=0?-1:1});const t=is(wo.getDefaults(),arguments,["frequency","width"]);this.width=new Xs({context:this.context,units:"audioRange",value:t.width}),this._triangle=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xs(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class To extends uo{constructor(){super(is(To.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=is(To.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,xs(this,["frequency","detune"])}static getDefaults(){return Object.assign(mo.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+n*i))}}get count(){return this._oscillators.length}set count(t){if(Ri(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new mo({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):ws});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class So extends uo{constructor(){super(is(So.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new _o({context:this.context,value:2});const t=is(So.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new wo({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xs(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Co={am:xo,fat:To,fm:bo,oscillator:mo,pulse:wo,pwm:So};class Ao extends uo{constructor(){super(is(Ao.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=is(Ao.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),xs(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(mo.getDefaults(),bo.getDefaults(),xo.getDefaults(),To.getDefaults(),wo.getDefaults(),So.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Co[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Co[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Li(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Li(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ui(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function ko(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(i,t,e),n.set(this,i)}})}}function Mo(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(this.toSeconds(i),t,e),n.set(this,i)}})}}class Oo extends uo{constructor(){super(is(Oo.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=is(Oo.getDefaults(),arguments,["url","onload"]);this._buffer=new Ts({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(uo.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ws,onerror:ws,playbackRate:1,reverse:!1})}load(t){return Yi(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=ws){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?ss(e,this._loopStart):ss(e,0);const i=this.toSeconds(e),s=n;n=ss(n,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(n);o/=this._playbackRate,t=this.toSeconds(t);const r=new ho({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+o),this._state.setStateAtTime("stopped",t+o,{implicitEnd:!0})),this._activeSources.add(r),this._loop&&qi(s)?r.start(t,i):r.start(t,i,o-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Xi([Mo(0)],Oo.prototype,"fadeIn",void 0),Xi([Mo(0)],Oo.prototype,"fadeOut",void 0);class Io extends js{constructor(){super(is(Io.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Xs({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=is(Io.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(js.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Ui(t))return t;{let n;for(n in Eo)if(Eo[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Ui(n)&&Reflect.has(Eo,n)){const i=Eo[n];ji(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!Wi(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Di(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),s=this.getValueAtTime(t);if(s>0&&(n=(1-s)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let t=1;t<i.length;t++)if(i[t-1]<=s&&s<=i[t]){i=this._attackCurve.slice(t),i[0]=s;break}this._sig.setValueCurveAtTime(i,t,n,e)}if(i&&this.sustain<1){const s=e*this.sustain,o=t+n;this.log("decay",o),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(s,i+o):this._sig.exponentialApproachValueAtTime(s,o,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Di(Wi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Ys(this,t,e,n),this}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Ss(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),o=.1*s,r=s+o,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/r,decay:e*this.toSeconds(this.decay)/r,release:e*this.toSeconds(this.release)/r,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(i+o)/r,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Xi([Mo(0)],Io.prototype,"attack",void 0),Xi([Mo(0)],Io.prototype,"decay",void 0),Xi([ko(0,1)],Io.prototype,"sustain",void 0),Xi([Mo(0)],Io.prototype,"release",void 0);const Eo=(()=>{const t=128;let e,n;const i=[];for(e=0;e<t;e++)i[e]=Math.sin(e/127*(Math.PI/2));const s=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;s[e]=t/10+.83*n}s[127]=1;const o=[];for(e=0;e<t;e++)o[e]=Math.ceil(e/127*5)/5;const r=[];for(e=0;e<t;e++)n=e/127,r[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,i=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(i*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:i,Out:(c=i,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:s,Out:l(s)},sine:{In:r,Out:l(r)},step:{In:o,Out:l(o)}};var c})();class Po extends js{constructor(){super(is(Po.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=is(Po.getDefaults(),arguments);this._volume=this.output=new so({context:this.context,volume:t.volume}),this.volume=this._volume.volume,xs(this,"volume")}static getDefaults(){return Object.assign(js.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const i=t[e],s=this.context.transport.schedule((i=>{t[e]=i,n.apply(this,t)}),i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,i){const s=this.toSeconds(n),o=this.toSeconds(e);return this.triggerAttack(t,s,i),this.triggerRelease(s+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Do extends Po{constructor(){super(is(Do.getDefaults(),arguments));const t=is(Do.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Po.getDefaults(),{detune:0,onsilence:ws,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof Rs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}Xi([Mo(0)],Do.prototype,"portamento",void 0);class Ro extends Io{constructor(){super(is(Ro.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Hs({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Vo extends Do{constructor(){super(is(Vo.getDefaults(),arguments)),this.name="Synth";const t=is(Vo.getDefaults(),arguments);this.oscillator=new Ao(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ro(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),xs(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Do.getDefaults(),{envelope:Object.assign(os(Io.getDefaults(),Object.keys(js.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(os(Ao.getDefaults(),[...Object.keys(uo.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class No extends Vo{constructor(){super(is(No.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=is(No.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,xs(this,["oscillator","envelope"])}static getDefaults(){return ns(Do.getDefaults(),Vo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof Rs?t.toFrequency():t),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xi([ko(0)],No.prototype,"octaves",void 0),Xi([Mo(0)],No.prototype,"pitchDecay",void 0);const Bo=new Set;function qo(t){Bo.add(t)}function Fo(t,e){const n=`registerProcessor("${t}", ${e})`;Bo.add(n)}qo('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),qo("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),qo("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),Fo("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Lo extends Po{constructor(){super(is(Lo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=is(Lo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const i=parseInt(n,10);if(Di(Hi(n)||Li(i)&&isFinite(i),`url key is neither a note or midi pitch: ${n}`),Hi(n)){const i=new Rs(this.context,n).toMidi();e[i]=t.urls[n]}else Li(i)&&isFinite(i)&&(e[i]=t.urls[i])})),this._buffers=new Ks({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Po.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ws,onerror:ws,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const i=Es(new Rs(this.context,t).toFrequency()),s=Math.round(i),o=i-s,r=this._findClosest(s),a=s-r,l=this._buffers.get(a),c=Ms(r+o),u=new ho({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(e,0,l.duration/c,n),Wi(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){const t=this._activeSources.get(s),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Rs(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,i=1){const s=this.toSeconds(n);return this.triggerAttack(t,s,i),Wi(e)?(Di(Wi(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,s+this.toSeconds(i))}))):this.triggerRelease(t,s+this.toSeconds(e)),this}add(t,e,n){if(Di(Hi(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Hi(t)){const i=new Rs(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Xi([Mo(0)],Lo.prototype,"attack",void 0),Xi([Mo(0)],Lo.prototype,"release",void 0);class jo extends js{constructor(){super(Object.assign(is(jo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=is(jo.getDefaults(),arguments,["pan"]);this.pan=new Ls({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",xs(this,"pan")}static getDefaults(){return Object.assign(js.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}Fo("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Wo extends js{constructor(){super(is(Wo.getDefaults(),arguments,["solo"])),this.name="Solo";const t=is(Wo.getDefaults(),arguments,["solo"]);this.input=this.output=new Hs({context:this.context}),Wo._allSolos.has(this.context)||Wo._allSolos.set(this.context,new Set),Wo._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(js.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Wo._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Wo._soloed.has(this.context)||Wo._soloed.set(this.context,new Set),Wo._soloed.get(this.context).add(this)}_removeSolo(){Wo._soloed.has(this.context)&&Wo._soloed.get(this.context).delete(this)}_isSoloed(){return Wo._soloed.has(this.context)&&Wo._soloed.get(this.context).has(this)}_noSolos(){return!Wo._soloed.has(this.context)||Wo._soloed.has(this.context)&&0===Wo._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Wo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Wo._allSolos=new Map,Wo._soloed=new Map;class Uo extends js{constructor(){super(is(Uo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=is(Uo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new jo({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new so({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,xs(this,["pan","volume"])}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ho extends js{constructor(){super(is(Ho.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=is(Ho.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Wo({solo:t.solo,context:this.context}),this._panVol=this.output=new Uo({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xs(this,["pan","volume"])}static getDefaults(){return Object.assign(js.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Ho.buses.has(t)||Ho.buses.set(t,new Hs({context:this.context})),Ho.buses.get(t)}send(t,e=0){const n=this._getBus(t),i=new Hs({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ho.buses=new Map;class zo extends js{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ls({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ls({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ls({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ls({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ls({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ls({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ls({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ls({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ls({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(js.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}fs((t=>{t.listener=new zo({context:t})})),gs((t=>{t.listener.dispose()})),ks().transport,ks().destination,ks().destination,ks().listener,ks().draw,ks();let Go,Xo=!1;const Yo=o.Engine,Zo=o.Render,$o=o.Runner,Qo=o.Bodies,Jo=o.Composite,Ko=o.Events;let tr,er;function nr(t,e,n,i,s,o){const r=Qo.rectangle(t,e,n,i,{isStatic:!0,label:o,render:{fillStyle:s}});Jo.add(tr.world,[r])}function ir(t){const{label:e,speed:n}=function(t){const e=t.source;let n="";if(null==e)return{label:"",speed:0};const i=e.pairs.list;return null==i?{label:"",speed:0}:Array.isArray(i)?i.length?i[0].bodyA?i[0].bodyB?(n=i[0].bodyB.label,{label:n,speed:i[0].bodyA.speed}):(console.log("collisions: BodyB is null",i[0]),{label:"",speed:0}):(console.log("collisions: BodyA is null",i[0]),{label:"",speed:0}):(console.log("collisions: Empty array"),{label:"",speed:0}):(console.log("collisions: Not an array"),{label:"",speed:0})}(t);console.log(t),function(t,e){if(!Xo)return void console.log("not initiated");const n=Math.min(1,Math.max(.1,e/40)),i=t.split("-"),s=i[0];switch(i.length>1&&i[1],s){case"Left":Go.triggerAttackRelease(["Eb4"],4,void 0,n);break;case"Right":Go.triggerAttackRelease(["G3"],4,void 0,n);break;case"Top":Go.triggerAttackRelease(["G4"],4,void 0,n);break;case"Bottom":Go.triggerAttackRelease(["Bb4"],4,void 0,n);break;default:console.log(`unexpected wall ${s}`)}}(e,n)}function sr(t,e){const n=document.getElementById(t);n&&(n.innerHTML=`${e}`)}function or(t){const e=document.getElementById(t);e&&e.remove()}window.addEventListener("resize",(function(){er.canvas.width=window.innerWidth,er.canvas.height=window.innerHeight})),function n(){const i={x:t,y:e};sr("x1",`x: ${i.x}`),sr("y1",`y: ${i.y}`),function(t,e){tr&&(tr.gravity.x=t,tr.gravity.y=e)}(i.x,i.y),requestAnimationFrame(n)}(),window.onload=function(){const t=document.getElementById("start-btn");t&&(sr("msg","Registered click handler"),t.onclick=function(t){sr("msg","Requesting permission"),t.preventDefault(),sr("msg",`rp: ${function(){try{DeviceMotionEvent&&"function"==typeof DeviceMotionEvent.requestPermission&&DeviceMotionEvent.requestPermission()}catch(t){return`${t}`}window.addEventListener("devicemotion",s)}()}`),or("start-btn"),or("msg"),async function(){Go=new Lo({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination(),await Ts.loaded(),Xo=!0}(),function(){tr=Yo.create(),tr.gravity.scale=5e-4,er=Zo.create({element:document.body,engine:tr,options:{width:window.innerWidth,height:window.innerHeight,wireframes:!1}});const t=Qo.circle(400,200,80,{restitution:.6,label:"Ball",render:{fillStyle:"red"}});Jo.add(tr.world,[t]);nr(window.innerWidth/2,5,window.innerWidth,10,"red","Top"),nr(window.innerWidth/2,window.innerHeight-5,window.innerWidth,10,"blue","Bottom"),nr(5,window.innerHeight/2,10,window.innerHeight,"green","Left"),nr(window.innerWidth-5,window.innerHeight/2,10,window.innerHeight,"yellow","Right"),Ko.on(tr,"collisionStart",ir),Zo.run(er);const e=$o.create();$o.run(e,tr),console.log("Physics loaded")}()})}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxJQUFJLGlCQUNoQixDQ25CWWd3RixFQUNKLEVBRVIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9hdXRvbWF0aW9uLWV2ZW50cy9idWlsZC9lczUvYnVuZGxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL21hdHRlci1qcy9idWlsZC9tYXR0ZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9QcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b1Byb3BlcnR5S2V5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8va2xpbmsvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9rbGluay8uL3NyYy9zZW5zb3JzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hYm9ydC1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9pcy1jb25zdHJ1Y3RpYmxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3NwbGl0LWltcG9ydC1zdGF0ZW1lbnRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYWRkLWF1ZGlvLXdvcmtsZXQtbW9kdWxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2dldC12YWx1ZS1mb3Ita2V5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3BpY2stZWxlbWVudC1mcm9tLXNldC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWxldGUtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1hY3RpdmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9hdWRpby13b3JrbGV0LW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUtd2hlbi1uZWNlc3NhcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hbmFseXNlci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcy1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaW5kZXgtc2l6ZS1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1nZXQtY2hhbm5lbC1kYXRhLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLWJ1ZmZlci1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLWFjdGl2ZS1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2dldC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2dldC1hdWRpby1wYXJhbS1jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWFjdGl2YXRlLWFjdGl2ZS1hdWRpby1ub2RlLWlucHV0LWNvbm5lY3Rpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvYmlxdWFkLWZpbHRlci1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvY29uc3RhbnQtc291cmNlLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9nYWluLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9vc2NpbGxhdG9yLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9zdGVyZW8tcGFubmVyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZGVhY3RpdmF0ZS1hdWRpby1ncmFwaC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL2F1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9hdWRpby1ub2RlLW91dHB1dC1jb25uZWN0aW9uLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2luc2VydC1lbGVtZW50LWluLXNldC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9hZGQtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvYWRkLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1wYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlLWZha2VyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2Nvbm5lY3QtbmF0aXZlLWF1ZGlvLW5vZGUtdG8tbmF0aXZlLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2RlbGV0ZS1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWxldGUtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2Rpc2Nvbm5lY3QtbmF0aXZlLWF1ZGlvLW5vZGUtZnJvbS1uYXRpdmUtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9nZXQtbmF0aXZlLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LW5hdGl2ZS1hdWRpby1wYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9pcy1wYXJ0LW9mLWEtY3ljbGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaXMtcGFzc2l2ZS1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8tbm9kZS1kaXNjb25uZWN0LW1ldGhvZC1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Zpc2l0LWVhY2gtYXVkaW8tbm9kZS1vbmNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1hdWRpby1ub2RlLWRpc2Nvbm5lY3QtbWV0aG9kLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvcmVhZC1vbmx5LW1hcC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLXdvcmtsZXQtbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9jb3B5LWZyb20tY2hhbm5lbC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9jb3B5LXRvLWNoYW5uZWwuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY3JlYXRlLW5lc3RlZC1hcnJheXMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby13b3JrbGV0LW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9nZXQtYXVkaW8td29ya2xldC1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9iaXF1YWQtZmlsdGVyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jaGFubmVsLW1lcmdlci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY2hhbm5lbC1zcGxpdHRlci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY29uc3RhbnQtc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb252b2x2ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZXRhY2gtYXJyYXktYnVmZmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZGVsYXktbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2Rpc2Nvbm5lY3QtbXVsdGlwbGUtb3V0cHV0cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2R5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dhaW4tbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2ludmFsaWQtc3RhdGUtZXJyb3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pbnZhbGlkLWFjY2Vzcy1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lpci1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9maWx0ZXItYnVmZmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbWVkaWEtc3RyZWFtLWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1wcm9taXNlLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWFuYWx5c2VyLW5vZGUtZ2V0LWZsb2F0LXRpbWUtZG9tYWluLWRhdGEtbWV0aG9kLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY29tcHV0ZS1idWZmZXItc2l6ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1iaXF1YWQtZmlsdGVyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtY2hhbm5lbC1zcGxpdHRlci1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtY2hhbm5lbC1zcGxpdHRlci1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2ludGVyY2VwdC1jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1kZWxheS1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWdhaW4tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1paXItZmlsdGVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1zY3JpcHQtcHJvY2Vzc29yLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9ub3Qtc3VwcG9ydGVkLWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvb2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvb3NjaWxsYXRvci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvcGFubmVyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9wZXJpb2RpYy13YXZlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvc3RlcmVvLXBhbm5lci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvdW5rbm93bi1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3dhdmUtc2hhcGVyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LWZpcnN0LXNhbXBsZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9pcy1kYy1jdXJ2ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9vdmVyd3JpdGUtYWNjZXNzb3JzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3NldC12YWx1ZS1hdC10aW1lLXVudGlsLXBvc3NpYmxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1ldmVudC1saXN0ZW5lci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvbW9kdWxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYWRkLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZWxldGUtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC1hdWRpby1ub2RlLXRhaWwtdGltZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2NhY2hlLXRlc3QtcmVzdWx0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvd2luZG93LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWFuYWx5c2VyLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWFuYWx5c2VyLW5vZGUtZ2V0LWZsb2F0LXRpbWUtZG9tYWluLWRhdGEtbWV0aG9kLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2V0LWF1ZGlvLW5vZGUtcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hbmFseXNlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtbmF0aXZlLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2V2ZW50LXRhcmdldC1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtbmF0aXZlLWF1ZGlvLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1uYXRpdmUtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lzLW5hdGl2ZS1hdWRpby1wYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYWRkLWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaW5jcmVtZW50LWN5Y2xlLWNvdW50ZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RlY3JlbWVudC1jeWNsZS1jb3VudGVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZGV0ZWN0LWN5Y2xlcy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL2RlbGF5LW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY29udmVydC1udW1iZXItdG8tdW5zaWduZWQtbG9uZy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3dyYXAtYXVkaW8tYnVmZmVyLWNvcHktY2hhbm5lbC1tZXRob2RzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3Rlc3QtYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtc2lsZW50LWNvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY29ubmVjdC1hdWRpby1wYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1idWZmZXItc291cmNlLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW9mZnNldC1jbGFtcGluZy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbnVsbGlmaWVkLWJ1ZmZlci1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbnVsbGlmaWVkLWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3JlbmRlci1hdXRvbWF0aW9uLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2V0LWF1ZGlvLXBhcmFtLXJlbmRlcmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1wYXJhbS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tcGFyYW0tcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1kZXN0aW5hdGlvbi1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tZGVzdGluYXRpb24tbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9iaXF1YWQtZmlsdGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3NldC1hdWRpby1ub2RlLXRhaWwtdGltZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL21vbml0b3ItY29ubmVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy93cmFwLWNoYW5uZWwtbWVyZ2VyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtY2hhbm5lbC1tZXJnZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY2hhbm5lbC1tZXJnZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY2hhbm5lbC1zcGxpdHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2FuaXRpemUtY2hhbm5lbC1zcGxpdHRlci1vcHRpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWNvbnN0YW50LXNvdXJjZS1ub2RlLWZha2VyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtY29uc3RhbnQtc291cmNlLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2NvbnN0YW50LXNvdXJjZS1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtY29udm9sdmVyLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2NvbnZvbHZlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZWxheS1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtZHluYW1pY3MtY29tcHJlc3Nvci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9keW5hbWljcy1jb21wcmVzc29yLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dhaW4tbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvcmVuZGVyLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy90ZXN0LW9mZmxpbmUtYXVkaW8tY29udGV4dC1jdXJyZW50LXRpbWUtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lpci1maWx0ZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWlpci1maWx0ZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtaWlyLWZpbHRlci1ub2RlLWdldC1mcmVxdWVuY3ktcmVzcG9uc2UtbWV0aG9kLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tbGlzdGVuZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL21pbmltYWwtYmFzZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLW9zY2lsbGF0b3Itbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvb3NjaWxsYXRvci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb25uZWN0ZWQtbmF0aXZlLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXdhdmUtc2hhcGVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS13YXZlLXNoYXBlci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtcGFubmVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1wYW5uZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvcGFubmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1wZXJpb2RpYy13YXZlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2FuaXRpemUtcGVyaW9kaWMtd2F2ZS1vcHRpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXN0ZXJlby1wYW5uZXItbm9kZS1mYWtlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXN0ZXJlby1wYW5uZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvc3RlcmVvLXBhbm5lci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy93YXZlLXNoYXBlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1zZWN1cmUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2V4cG9zZS1jdXJyZW50LWZyYW1lLWFuZC1jdXJyZW50LXRpbWUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtb3ItY3JlYXRlLWJhY2t1cC1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9ldmFsdWF0ZS1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9mZXRjaC1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yLXBvc3QtbWVzc2FnZS1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtbmF0aXZlLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZWNvZGUtYXVkaW8tZGF0YS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RhdGEtY2xvbmUtZXJyb3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9lbmNvZGluZy1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2Jhc2UtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL21lZGlhLWVsZW1lbnQtYXVkaW8tc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtbWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1zdHJlYW0tYXVkaW8tZGVzdGluYXRpb24tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL21lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1zdHJlYW0tYXVkaW8tc291cmNlLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtbWVkaWEtc3RyZWFtLXRyYWNrLWF1ZGlvLXNvdXJjZS1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9tZWRpYS1zdHJlYW0tdHJhY2stYXVkaW8tc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLXZhbGlkLWxhdGVuY3ktaGludC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZXMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb25uZWN0LW11bHRpcGxlLW91dHB1dHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZWxldGUtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtYWN0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1pbnB1dHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZha2VyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY3JlYXRlLWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2NyZWF0ZS1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci1wcm9taXNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2Nsb25lLWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtY2xvbmFiaWxpdHktb2YtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3NldC1hY3RpdmUtYXVkaW8td29ya2xldC1ub2RlLWlucHV0cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9zYW5pdGl6ZS1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zLWNsb25hYmlsaXR5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY3JlYXRlLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9zdGFydC1yZW5kZXJpbmcuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1hbnktYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lzLWFueS1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtYW55LWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtYW55LW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvRGVidWcuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL1R5cGVDaGVjay5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvQXVkaW9Db250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9UaWNrZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0FkdmFuY2VkVHlwZUNoZWNrLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdXRpbC9EZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL1RvbmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL01hdGguanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL1RpbWVsaW5lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9Db250ZXh0SW5pdGlhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0VtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0Jhc2VDb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9Db250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdXRpbC9JbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L1RvbmVBdWRpb0J1ZmZlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvT2ZmbGluZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9HbG9iYWwuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0R1bW15Q29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3R5cGUvQ29udmVyc2lvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS90eXBlL1RpbWVCYXNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdHlwZS9UaW1lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdHlwZS9GcmVxdWVuY3kuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS90eXBlL1RyYW5zcG9ydFRpbWUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L1RvbmVXaXRoQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvU3RhdGVUaW1lbGluZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvUGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0dhaW4uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL09uZVNob3RTb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc2lnbmFsL1RvbmVDb25zdGFudFNvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zaWduYWwvU2lnbmFsLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY2xvY2svVGlja1BhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY2xvY2svVGlja1NpZ25hbC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2Nsb2NrL1RpY2tTb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9DbG9jay5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVycy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3R5cGUvVGlja3MuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0RyYXcuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0ludGVydmFsVGltZWxpbmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29tcG9uZW50L2NoYW5uZWwvVm9sdW1lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9EZXN0aW5hdGlvbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvVGltZWxpbmVWYWx1ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2Nsb2NrL1RyYW5zcG9ydEV2ZW50LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY2xvY2svVHJhbnNwb3J0UmVwZWF0RXZlbnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9UcmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2UvYnVmZmVyL1RvbmVCdWZmZXJTb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvT3NjaWxsYXRvckludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9Ub25lT3NjaWxsYXRvck5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvT3NjaWxsYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zaWduYWwvU2lnbmFsT3BlcmF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc2lnbmFsL1dhdmVTaGFwZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc2lnbmFsL0F1ZGlvVG9HYWluLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NpZ25hbC9NdWx0aXBseS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9BTU9zY2lsbGF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvRk1Pc2NpbGxhdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9vc2NpbGxhdG9yL1B1bHNlT3NjaWxsYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9GYXRPc2NpbGxhdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9vc2NpbGxhdG9yL1BXTU9zY2lsbGF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvT21uaU9zY2lsbGF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0RlY29yYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2UvYnVmZmVyL1BsYXllci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvZW52ZWxvcGUvRW52ZWxvcGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vaW5zdHJ1bWVudC9JbnN0cnVtZW50LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2luc3RydW1lbnQvTW9ub3Bob25pYy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvZW52ZWxvcGUvQW1wbGl0dWRlRW52ZWxvcGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vaW5zdHJ1bWVudC9TeW50aC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9pbnN0cnVtZW50L01lbWJyYW5lU3ludGguanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS93b3JrbGV0L1dvcmtsZXRHbG9iYWxTY29wZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3dvcmtsZXQvVG9uZUF1ZGlvV29ya2xldFByb2Nlc3Nvci53b3JrbGV0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvd29ya2xldC9TaW5nbGVJT1Byb2Nlc3Nvci53b3JrbGV0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvd29ya2xldC9EZWxheUxpbmUud29ya2xldC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvZmlsdGVyL0ZlZWRiYWNrQ29tYkZpbHRlci53b3JrbGV0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2luc3RydW1lbnQvU2FtcGxlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvY2hhbm5lbC9QYW5uZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vZWZmZWN0L0JpdENydXNoZXIud29ya2xldC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvY2hhbm5lbC9Tb2xvLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9jaGFubmVsL1BhblZvbC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvY2hhbm5lbC9DaGFubmVsLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9MaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL3NyYy9zb3VuZC50cyIsIndlYnBhY2s6Ly9rbGluay8uL3NyYy9waHlzaWNzLnRzIiwid2VicGFjazovL2tsaW5rLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheScpLCByZXF1aXJlKCdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyksIHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKSkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5JywgJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snLCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyddLCBmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwuYXV0b21hdGlvbkV2ZW50cyA9IHt9LCBnbG9iYWwuX3NsaWNlZFRvQXJyYXksIGdsb2JhbC5fY2xhc3NDYWxsQ2hlY2ssIGdsb2JhbC5fY3JlYXRlQ2xhc3MpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cywgX3NsaWNlZFRvQXJyYXksIF9jbGFzc0NhbGxDaGVjaywgX2NyZWF0ZUNsYXNzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjcmVhdGVFeHRlbmRlZEV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFeHRlbmRlZEV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUsIGluc2VydFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgIGluc2VydFRpbWU6IGluc2VydFRpbWUsXG4gICAgICAgIHR5cGU6ICdleHBvbmVudGlhbFJhbXBUb1ZhbHVlJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRXh0ZW5kZWRMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV4dGVuZGVkTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUsIGluc2VydFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgIGluc2VydFRpbWU6IGluc2VydFRpbWUsXG4gICAgICAgIHR5cGU6ICdsaW5lYXJSYW1wVG9WYWx1ZScsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgIHR5cGU6ICdzZXRWYWx1ZScsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KHZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgdHlwZTogJ3NldFZhbHVlQ3VydmUnLFxuICAgICAgICB2YWx1ZXM6IHZhbHVlc1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFRhcmdldFZhbHVlQXRUaW1lID0gZnVuY3Rpb24gZ2V0VGFyZ2V0VmFsdWVBdFRpbWUodGltZSwgdmFsdWVBdFN0YXJ0VGltZSwgX3JlZikge1xuICAgICAgdmFyIHN0YXJ0VGltZSA9IF9yZWYuc3RhcnRUaW1lLFxuICAgICAgICB0YXJnZXQgPSBfcmVmLnRhcmdldCxcbiAgICAgICAgdGltZUNvbnN0YW50ID0gX3JlZi50aW1lQ29uc3RhbnQ7XG4gICAgICByZXR1cm4gdGFyZ2V0ICsgKHZhbHVlQXRTdGFydFRpbWUgLSB0YXJnZXQpICogTWF0aC5leHAoKHN0YXJ0VGltZSAtIHRpbWUpIC8gdGltZUNvbnN0YW50KTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ2V4cG9uZW50aWFsUmFtcFRvVmFsdWUnO1xuICAgIH07XG5cbiAgICB2YXIgaXNMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGlzTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICByZXR1cm4gYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdsaW5lYXJSYW1wVG9WYWx1ZSc7XG4gICAgfTtcblxuICAgIHZhciBpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBpc0V4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB8fCBpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCk7XG4gICAgfTtcblxuICAgIHZhciBpc1NldFZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ3NldFZhbHVlJztcbiAgICB9O1xuXG4gICAgdmFyIGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ3NldFZhbHVlQ3VydmUnO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VmFsdWVPZkF1dG9tYXRpb25FdmVudEF0SW5kZXhBdFRpbWUgPSBmdW5jdGlvbiBnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZShhdXRvbWF0aW9uRXZlbnRzLCBpbmRleCwgdGltZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgYXV0b21hdGlvbkV2ZW50ID0gYXV0b21hdGlvbkV2ZW50c1tpbmRleF07XG4gICAgICByZXR1cm4gYXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiBpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgfHwgaXNTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpID8gYXV0b21hdGlvbkV2ZW50LnZhbHVlIDogaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgPyBhdXRvbWF0aW9uRXZlbnQudmFsdWVzW2F1dG9tYXRpb25FdmVudC52YWx1ZXMubGVuZ3RoIC0gMV0gOiBnZXRUYXJnZXRWYWx1ZUF0VGltZSh0aW1lLCBnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZShhdXRvbWF0aW9uRXZlbnRzLCBpbmRleCAtIDEsIGF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIGRlZmF1bHRWYWx1ZSksIGF1dG9tYXRpb25FdmVudCk7XG4gICAgfTtcblxuICAgIHZhciBnZXRFbmRUaW1lQW5kVmFsdWVPZlByZXZpb3VzQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gZ2V0RW5kVGltZUFuZFZhbHVlT2ZQcmV2aW91c0F1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnRzLCBpbmRleCwgY3VycmVudEF1dG9tYXRpb25FdmVudCwgbmV4dEF1dG9tYXRpb25FdmVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gY3VycmVudEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkID8gW25leHRBdXRvbWF0aW9uRXZlbnQuaW5zZXJ0VGltZSwgZGVmYXVsdFZhbHVlXSA6IGlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgPyBbY3VycmVudEF1dG9tYXRpb25FdmVudC5lbmRUaW1lLCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnZhbHVlXSA6IGlzU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgPyBbY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWVdIDogaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpID8gW2N1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lICsgY3VycmVudEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbiwgY3VycmVudEF1dG9tYXRpb25FdmVudC52YWx1ZXNbY3VycmVudEF1dG9tYXRpb25FdmVudC52YWx1ZXMubGVuZ3RoIC0gMV1dIDogW2N1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lLCBnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZShhdXRvbWF0aW9uRXZlbnRzLCBpbmRleCAtIDEsIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lLCBkZWZhdWx0VmFsdWUpXTtcbiAgICB9O1xuXG4gICAgdmFyIGlzQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGlzQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ2NhbmNlbEFuZEhvbGQnO1xuICAgIH07XG5cbiAgICB2YXIgaXNDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBpc0NhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ2NhbmNlbFNjaGVkdWxlZFZhbHVlcyc7XG4gICAgfTtcblxuICAgIHZhciBnZXRFdmVudFRpbWUgPSBmdW5jdGlvbiBnZXRFdmVudFRpbWUoYXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICBpZiAoaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgfHwgaXNDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICByZXR1cm4gYXV0b21hdGlvbkV2ZW50LmNhbmNlbFRpbWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgfHwgaXNMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQuZW5kVGltZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RXhwb25lbnRpYWxSYW1wVmFsdWVBdFRpbWUgPSBmdW5jdGlvbiBnZXRFeHBvbmVudGlhbFJhbXBWYWx1ZUF0VGltZSh0aW1lLCBzdGFydFRpbWUsIHZhbHVlQXRTdGFydFRpbWUsIF9yZWYpIHtcbiAgICAgIHZhciBlbmRUaW1lID0gX3JlZi5lbmRUaW1lLFxuICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7XG4gICAgICBpZiAodmFsdWVBdFN0YXJ0VGltZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKDAgPCB2YWx1ZUF0U3RhcnRUaW1lICYmIDAgPCB2YWx1ZSB8fCB2YWx1ZUF0U3RhcnRUaW1lIDwgMCAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlQXRTdGFydFRpbWUgKiBNYXRoLnBvdyh2YWx1ZSAvIHZhbHVlQXRTdGFydFRpbWUsICh0aW1lIC0gc3RhcnRUaW1lKSAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgdmFyIGdldExpbmVhclJhbXBWYWx1ZUF0VGltZSA9IGZ1bmN0aW9uIGdldExpbmVhclJhbXBWYWx1ZUF0VGltZSh0aW1lLCBzdGFydFRpbWUsIHZhbHVlQXRTdGFydFRpbWUsIF9yZWYpIHtcbiAgICAgIHZhciBlbmRUaW1lID0gX3JlZi5lbmRUaW1lLFxuICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWVBdFN0YXJ0VGltZSArICh0aW1lIC0gc3RhcnRUaW1lKSAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSAqICh2YWx1ZSAtIHZhbHVlQXRTdGFydFRpbWUpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVWYWx1ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlVmFsdWUodmFsdWVzLCB0aGVvcmV0aWNJbmRleCkge1xuICAgICAgdmFyIGxvd2VySW5kZXggPSBNYXRoLmZsb29yKHRoZW9yZXRpY0luZGV4KTtcbiAgICAgIHZhciB1cHBlckluZGV4ID0gTWF0aC5jZWlsKHRoZW9yZXRpY0luZGV4KTtcbiAgICAgIGlmIChsb3dlckluZGV4ID09PSB1cHBlckluZGV4KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXNbbG93ZXJJbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gKDEgLSAodGhlb3JldGljSW5kZXggLSBsb3dlckluZGV4KSkgKiB2YWx1ZXNbbG93ZXJJbmRleF0gKyAoMSAtICh1cHBlckluZGV4IC0gdGhlb3JldGljSW5kZXgpKSAqIHZhbHVlc1t1cHBlckluZGV4XTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFZhbHVlQ3VydmVWYWx1ZUF0VGltZSA9IGZ1bmN0aW9uIGdldFZhbHVlQ3VydmVWYWx1ZUF0VGltZSh0aW1lLCBfcmVmKSB7XG4gICAgICB2YXIgZHVyYXRpb24gPSBfcmVmLmR1cmF0aW9uLFxuICAgICAgICBzdGFydFRpbWUgPSBfcmVmLnN0YXJ0VGltZSxcbiAgICAgICAgdmFsdWVzID0gX3JlZi52YWx1ZXM7XG4gICAgICB2YXIgdGhlb3JldGljSW5kZXggPSAodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiAqICh2YWx1ZXMubGVuZ3RoIC0gMSk7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGVWYWx1ZSh2YWx1ZXMsIHRoZW9yZXRpY0luZGV4KTtcbiAgICB9O1xuXG4gICAgdmFyIGlzU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICByZXR1cm4gYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdzZXRUYXJnZXQnO1xuICAgIH07XG5cbiAgICB2YXIgQXV0b21hdGlvbkV2ZW50TGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N5bWJvbCRpdGVyYXRvcikge1xuICAgICAgZnVuY3Rpb24gQXV0b21hdGlvbkV2ZW50TGlzdChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dG9tYXRpb25FdmVudExpc3QpO1xuICAgICAgICB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuX2N1cnJlblRpbWUgPSAwO1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBfY3JlYXRlQ2xhc3MoQXV0b21hdGlvbkV2ZW50TGlzdCwgW3tcbiAgICAgICAga2V5OiBfU3ltYm9sJGl0ZXJhdG9yLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpb25FdmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZGRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgICAgICB2YXIgZXZlbnRUaW1lID0gZ2V0RXZlbnRUaW1lKGF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgaWYgKGlzQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHx8IGlzQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChpc0NhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpICYmIGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSArIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQuZHVyYXRpb24gPj0gZXZlbnRUaW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBnZXRFdmVudFRpbWUoY3VycmVudEF1dG9tYXRpb25FdmVudCkgPj0gZXZlbnRUaW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcmVtb3ZlZEF1dG9tYXRpb25FdmVudCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzID0gdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkpIHtcbiAgICAgICAgICAgICAgdmFyIGxhc3RBdXRvbWF0aW9uRXZlbnQgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW3RoaXMuX2F1dG9tYXRpb25FdmVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgIGlmIChyZW1vdmVkQXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChyZW1vdmVkQXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQobGFzdEF1dG9tYXRpb25FdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGludGVybmFsIGxpc3QgaXMgbWFsZm9ybWVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gbGFzdEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkID8gcmVtb3ZlZEF1dG9tYXRpb25FdmVudC5pbnNlcnRUaW1lIDogaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGxhc3RBdXRvbWF0aW9uRXZlbnQpID8gbGFzdEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUgKyBsYXN0QXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uIDogZ2V0RXZlbnRUaW1lKGxhc3RBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydFZhbHVlID0gbGFzdEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGxhc3RBdXRvbWF0aW9uRXZlbnQpID8gbGFzdEF1dG9tYXRpb25FdmVudC52YWx1ZXNbbGFzdEF1dG9tYXRpb25FdmVudC52YWx1ZXMubGVuZ3RoIC0gMV0gOiBsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChyZW1vdmVkQXV0b21hdGlvbkV2ZW50KSA/IGdldEV4cG9uZW50aWFsUmFtcFZhbHVlQXRUaW1lKGV2ZW50VGltZSwgc3RhcnRUaW1lLCBzdGFydFZhbHVlLCByZW1vdmVkQXV0b21hdGlvbkV2ZW50KSA6IGdldExpbmVhclJhbXBWYWx1ZUF0VGltZShldmVudFRpbWUsIHN0YXJ0VGltZSwgc3RhcnRWYWx1ZSwgcmVtb3ZlZEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHRydW5jYXRlZEF1dG9tYXRpb25FdmVudCA9IGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChyZW1vdmVkQXV0b21hdGlvbkV2ZW50KSA/IGNyZWF0ZUV4dGVuZGVkRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZXZlbnRUaW1lLCB0aGlzLl9jdXJyZW5UaW1lKSA6IGNyZWF0ZUV4dGVuZGVkTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGV2ZW50VGltZSwgdGhpcy5fY3VycmVuVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5wdXNoKHRydW5jYXRlZEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxhc3RBdXRvbWF0aW9uRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBpc1NldFRhcmdldEF1dG9tYXRpb25FdmVudChsYXN0QXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHMucHVzaChjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCh0aGlzLmdldFZhbHVlKGV2ZW50VGltZSksIGV2ZW50VGltZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsYXN0QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGxhc3RBdXRvbWF0aW9uRXZlbnQpICYmIGxhc3RBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lICsgbGFzdEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbiA+IGV2ZW50VGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IGV2ZW50VGltZSAtIGxhc3RBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIHZhciByYXRpbyA9IChsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlcy5sZW5ndGggLSAxKSAvIGxhc3RBdXRvbWF0aW9uRXZlbnQuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KDIsIDEgKyBNYXRoLmNlaWwoZHVyYXRpb24gKiByYXRpbykpO1xuICAgICAgICAgICAgICAgIHZhciBmcmFjdGlvbiA9IGR1cmF0aW9uIC8gKGxlbmd0aCAtIDEpICogcmF0aW87XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGxhc3RBdXRvbWF0aW9uRXZlbnQudmFsdWVzLnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWN0aW9uIDwgMSkge1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFjdG9yID0gZnJhY3Rpb24gKiBpICUgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gbGFzdEF1dG9tYXRpb25FdmVudC52YWx1ZXNbaSAtIDFdICogKDEgLSBmYWN0b3IpICsgbGFzdEF1dG9tYXRpb25FdmVudC52YWx1ZXNbaV0gKiBmYWN0b3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHNbdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5sZW5ndGggLSAxXSA9IGNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQodmFsdWVzLCBsYXN0QXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfaW5kZXggPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleChmdW5jdGlvbiAoY3VycmVudEF1dG9tYXRpb25FdmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXZlbnRUaW1lKGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpID4gZXZlbnRUaW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNBdXRvbWF0aW9uRXZlbnQgPSBfaW5kZXggPT09IC0xID8gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1t0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmxlbmd0aCAtIDFdIDogdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tfaW5kZXggLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0F1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChwcmV2aW91c0F1dG9tYXRpb25FdmVudCkgJiYgZ2V0RXZlbnRUaW1lKHByZXZpb3VzQXV0b21hdGlvbkV2ZW50KSArIHByZXZpb3VzQXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uID4gZXZlbnRUaW1lKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwZXJzaXN0ZW50QXV0b21hdGlvbkV2ZW50ID0gaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgPyBjcmVhdGVFeHRlbmRlZEV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50LnZhbHVlLCBhdXRvbWF0aW9uRXZlbnQuZW5kVGltZSwgdGhpcy5fY3VycmVuVGltZSkgOiBpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgPyBjcmVhdGVFeHRlbmRlZExpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudC52YWx1ZSwgZXZlbnRUaW1lLCB0aGlzLl9jdXJyZW5UaW1lKSA6IGF1dG9tYXRpb25FdmVudDtcbiAgICAgICAgICAgIGlmIChfaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHMucHVzaChwZXJzaXN0ZW50QXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSAmJiBldmVudFRpbWUgKyBhdXRvbWF0aW9uRXZlbnQuZHVyYXRpb24gPiBnZXRFdmVudFRpbWUodGhpcy5fYXV0b21hdGlvbkV2ZW50c1tfaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLnNwbGljZShfaW5kZXgsIDAsIHBlcnNpc3RlbnRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiZmx1c2hcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsdXNoKHRpbWUpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleChmdW5jdGlvbiAoY3VycmVudEF1dG9tYXRpb25FdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEV2ZW50VGltZShjdXJyZW50QXV0b21hdGlvbkV2ZW50KSA+IHRpbWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMSkge1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0F1dG9tYXRpb25FdmVudHMgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLnNsaWNlKGluZGV4IC0gMSk7XG4gICAgICAgICAgICB2YXIgZmlyc3RSZW1haW5pbmdBdXRvbWF0aW9uRXZlbnQgPSByZW1haW5pbmdBdXRvbWF0aW9uRXZlbnRzWzBdO1xuICAgICAgICAgICAgaWYgKGlzU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50KGZpcnN0UmVtYWluaW5nQXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICByZW1haW5pbmdBdXRvbWF0aW9uRXZlbnRzLnVuc2hpZnQoY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQoZ2V0VmFsdWVPZkF1dG9tYXRpb25FdmVudEF0SW5kZXhBdFRpbWUodGhpcy5fYXV0b21hdGlvbkV2ZW50cywgaW5kZXggLSAyLCBmaXJzdFJlbWFpbmluZ0F1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIHRoaXMuX2RlZmF1bHRWYWx1ZSksIGZpcnN0UmVtYWluaW5nQXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXV0b21hdGlvbkV2ZW50cyA9IHJlbWFpbmluZ0F1dG9tYXRpb25FdmVudHM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJnZXRWYWx1ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUodGltZSkge1xuICAgICAgICAgIGlmICh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4T2ZOZXh0RXZlbnQgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleChmdW5jdGlvbiAoYXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXZlbnRUaW1lKGF1dG9tYXRpb25FdmVudCkgPiB0aW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBuZXh0QXV0b21hdGlvbkV2ZW50ID0gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tpbmRleE9mTmV4dEV2ZW50XTtcbiAgICAgICAgICB2YXIgaW5kZXhPZkN1cnJlbnRFdmVudCA9IChpbmRleE9mTmV4dEV2ZW50ID09PSAtMSA/IHRoaXMuX2F1dG9tYXRpb25FdmVudHMubGVuZ3RoIDogaW5kZXhPZk5leHRFdmVudCkgLSAxO1xuICAgICAgICAgIHZhciBjdXJyZW50QXV0b21hdGlvbkV2ZW50ID0gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tpbmRleE9mQ3VycmVudEV2ZW50XTtcbiAgICAgICAgICBpZiAoY3VycmVudEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50KGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpICYmIChuZXh0QXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgfHwgIWlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQobmV4dEF1dG9tYXRpb25FdmVudCkgfHwgbmV4dEF1dG9tYXRpb25FdmVudC5pbnNlcnRUaW1lID4gdGltZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRUYXJnZXRWYWx1ZUF0VGltZSh0aW1lLCBnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZSh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLCBpbmRleE9mQ3VycmVudEV2ZW50IC0gMSwgY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIHRoaXMuX2RlZmF1bHRWYWx1ZSksIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgJiYgKG5leHRBdXRvbWF0aW9uRXZlbnQgPT09IHVuZGVmaW5lZCB8fCAhaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChuZXh0QXV0b21hdGlvbkV2ZW50KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSAmJiAobmV4dEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkIHx8ICFpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KG5leHRBdXRvbWF0aW9uRXZlbnQpIHx8IGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lICsgY3VycmVudEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbiA+IHRpbWUpKSB7XG4gICAgICAgICAgICBpZiAodGltZSA8IGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lICsgY3VycmVudEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbikge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWVDdXJ2ZVZhbHVlQXRUaW1lKHRpbWUsIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWVzW2N1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgJiYgKG5leHRBdXRvbWF0aW9uRXZlbnQgPT09IHVuZGVmaW5lZCB8fCAhaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChuZXh0QXV0b21hdGlvbkV2ZW50KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmV4dEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChuZXh0QXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIF9nZXRFbmRUaW1lQW5kVmFsdWVPZiA9IGdldEVuZFRpbWVBbmRWYWx1ZU9mUHJldmlvdXNBdXRvbWF0aW9uRXZlbnQodGhpcy5fYXV0b21hdGlvbkV2ZW50cywgaW5kZXhPZkN1cnJlbnRFdmVudCwgY3VycmVudEF1dG9tYXRpb25FdmVudCwgbmV4dEF1dG9tYXRpb25FdmVudCwgdGhpcy5fZGVmYXVsdFZhbHVlKSxcbiAgICAgICAgICAgICAgX2dldEVuZFRpbWVBbmRWYWx1ZU9mMiA9IF9zbGljZWRUb0FycmF5KF9nZXRFbmRUaW1lQW5kVmFsdWVPZiwgMiksXG4gICAgICAgICAgICAgIHN0YXJ0VGltZSA9IF9nZXRFbmRUaW1lQW5kVmFsdWVPZjJbMF0sXG4gICAgICAgICAgICAgIHZhbHVlID0gX2dldEVuZFRpbWVBbmRWYWx1ZU9mMlsxXTtcbiAgICAgICAgICAgIHJldHVybiBnZXRFeHBvbmVudGlhbFJhbXBWYWx1ZUF0VGltZSh0aW1lLCBzdGFydFRpbWUsIHZhbHVlLCBuZXh0QXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5leHRBdXRvbWF0aW9uRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KG5leHRBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICB2YXIgX2dldEVuZFRpbWVBbmRWYWx1ZU9mMyA9IGdldEVuZFRpbWVBbmRWYWx1ZU9mUHJldmlvdXNBdXRvbWF0aW9uRXZlbnQodGhpcy5fYXV0b21hdGlvbkV2ZW50cywgaW5kZXhPZkN1cnJlbnRFdmVudCwgY3VycmVudEF1dG9tYXRpb25FdmVudCwgbmV4dEF1dG9tYXRpb25FdmVudCwgdGhpcy5fZGVmYXVsdFZhbHVlKSxcbiAgICAgICAgICAgICAgX2dldEVuZFRpbWVBbmRWYWx1ZU9mNCA9IF9zbGljZWRUb0FycmF5KF9nZXRFbmRUaW1lQW5kVmFsdWVPZjMsIDIpLFxuICAgICAgICAgICAgICBfc3RhcnRUaW1lID0gX2dldEVuZFRpbWVBbmRWYWx1ZU9mNFswXSxcbiAgICAgICAgICAgICAgX3ZhbHVlID0gX2dldEVuZFRpbWVBbmRWYWx1ZU9mNFsxXTtcbiAgICAgICAgICAgIHJldHVybiBnZXRMaW5lYXJSYW1wVmFsdWVBdFRpbWUodGltZSwgX3N0YXJ0VGltZSwgX3ZhbHVlLCBuZXh0QXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIEF1dG9tYXRpb25FdmVudExpc3Q7XG4gICAgfShTeW1ib2wuaXRlcmF0b3IpO1xuXG4gICAgdmFyIGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50KGNhbmNlbFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbFRpbWU6IGNhbmNlbFRpbWUsXG4gICAgICAgIHR5cGU6ICdjYW5jZWxBbmRIb2xkJ1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUNhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudChjYW5jZWxUaW1lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYW5jZWxUaW1lOiBjYW5jZWxUaW1lLFxuICAgICAgICB0eXBlOiAnY2FuY2VsU2NoZWR1bGVkVmFsdWVzJ1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHZhbHVlLCBlbmRUaW1lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxuICAgICAgICB0eXBlOiAnZXhwb25lbnRpYWxSYW1wVG9WYWx1ZScsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgIHR5cGU6ICdsaW5lYXJSYW1wVG9WYWx1ZScsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNldFRhcmdldEF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZVNldFRhcmdldEF1dG9tYXRpb25FdmVudCh0YXJnZXQsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIHRpbWVDb25zdGFudDogdGltZUNvbnN0YW50LFxuICAgICAgICB0eXBlOiAnc2V0VGFyZ2V0J1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5BdXRvbWF0aW9uRXZlbnRMaXN0ID0gQXV0b21hdGlvbkV2ZW50TGlzdDtcbiAgICBleHBvcnRzLmNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQgPSBjcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50O1xuICAgIGV4cG9ydHMuY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50ID0gY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50O1xuICAgIGV4cG9ydHMuY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQ7XG4gICAgZXhwb3J0cy5jcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50O1xuICAgIGV4cG9ydHMuY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50ID0gY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50O1xuICAgIGV4cG9ydHMuY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudDtcbiAgICBleHBvcnRzLmNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQgPSBjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50O1xuXG59KSk7XG4iLCIvKiFcbiAqIG1hdHRlci1qcyAwLjE5LjAgYnkgQGxpYWJydVxuICogaHR0cDovL2JybS5pby9tYXR0ZXItanMvXG4gKiBMaWNlbnNlIE1JVFxuICogXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqIFxuICogQ29weXJpZ2h0IChjKSBMaWFtIEJydW1taXR0IGFuZCBjb250cmlidXRvcnMuXG4gKiBcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJNYXR0ZXJcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiTWF0dGVyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIk1hdHRlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQ29tbW9uYCBtb2R1bGUgY29udGFpbnMgdXRpbGl0eSBmdW5jdGlvbnMgdGhhdCBhcmUgY29tbW9uIHRvIGFsbCBtb2R1bGVzLlxuKlxuKiBAY2xhc3MgQ29tbW9uXG4qL1xuXG52YXIgQ29tbW9uID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tbW9uO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBDb21tb24uX2Jhc2VEZWx0YSA9IDEwMDAgLyA2MDtcbiAgICBDb21tb24uX25leHRJZCA9IDA7XG4gICAgQ29tbW9uLl9zZWVkID0gMDtcbiAgICBDb21tb24uX25vd1N0YXJ0VGltZSA9ICsobmV3IERhdGUoKSk7XG4gICAgQ29tbW9uLl93YXJuZWRPbmNlID0ge307XG4gICAgQ29tbW9uLl9kZWNvbXAgPSBudWxsO1xuICAgIFxuICAgIC8qKlxuICAgICAqIEV4dGVuZHMgdGhlIG9iamVjdCBpbiB0aGUgZmlyc3QgYXJndW1lbnQgdXNpbmcgdGhlIG9iamVjdCBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgICAqIEBtZXRob2QgZXh0ZW5kXG4gICAgICogQHBhcmFtIHt9IG9ialxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVlcFxuICAgICAqIEByZXR1cm4ge30gb2JqIGV4dGVuZGVkXG4gICAgICovXG4gICAgQ29tbW9uLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaiwgZGVlcCkge1xuICAgICAgICB2YXIgYXJnc1N0YXJ0LFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIGRlZXBDbG9uZTtcblxuICAgICAgICBpZiAodHlwZW9mIGRlZXAgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgYXJnc1N0YXJ0ID0gMjtcbiAgICAgICAgICAgIGRlZXBDbG9uZSA9IGRlZXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcmdzU3RhcnQgPSAxO1xuICAgICAgICAgICAgZGVlcENsb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBhcmdzU3RhcnQ7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcENsb25lICYmIHNvdXJjZVtwcm9wXSAmJiBzb3VyY2VbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmpbcHJvcF0gfHwgb2JqW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBvYmpbcHJvcF0gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbW9uLmV4dGVuZChvYmpbcHJvcF0sIGRlZXBDbG9uZSwgc291cmNlW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNsb25lIG9mIHRoZSBvYmplY3QsIGlmIGRlZXAgaXMgdHJ1ZSByZWZlcmVuY2VzIHdpbGwgYWxzbyBiZSBjbG9uZWQuXG4gICAgICogQG1ldGhvZCBjbG9uZVxuICAgICAqIEBwYXJhbSB7fSBvYmpcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGRlZXBcbiAgICAgKiBAcmV0dXJuIHt9IG9iaiBjbG9uZWRcbiAgICAgKi9cbiAgICBDb21tb24uY2xvbmUgPSBmdW5jdGlvbihvYmosIGRlZXApIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoe30sIGRlZXAsIG9iaik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2Yga2V5cyBmb3IgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGtleXNcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHJldHVybiB7c3RyaW5nW119IGtleXNcbiAgICAgKi9cbiAgICBDb21tb24ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcblxuICAgICAgICAvLyBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iailcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBvYmplY3QuXG4gICAgICogQG1ldGhvZCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHJldHVybiB7YXJyYXl9IEFycmF5IG9mIHRoZSBvYmplY3RzIHByb3BlcnR5IHZhbHVlc1xuICAgICAqL1xuICAgIENvbW1vbi52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5c1tpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gYXZvaWQgaGFzT3duUHJvcGVydHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5XSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB2YWx1ZSBmcm9tIGBiYXNlYCByZWxhdGl2ZSB0byB0aGUgYHBhdGhgIHN0cmluZy5cbiAgICAgKiBAbWV0aG9kIGdldFxuICAgICAqIEBwYXJhbSB7fSBvYmogVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgLCBlLmcuICdGb28uQmFyLmJheidcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luXSBQYXRoIHNsaWNlIGJlZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIFBhdGggc2xpY2UgZW5kXG4gICAgICogQHJldHVybiB7fSBUaGUgb2JqZWN0IGF0IHRoZSBnaXZlbiBwYXRoXG4gICAgICovXG4gICAgQ29tbW9uLmdldCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgYmVnaW4sIGVuZCkge1xuICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLicpLnNsaWNlKGJlZ2luLCBlbmQpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIG9uIGBiYXNlYCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gYHBhdGhgIHN0cmluZy5cbiAgICAgKiBAbWV0aG9kIHNldFxuICAgICAqIEBwYXJhbSB7fSBvYmogVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgLCBlLmcuICdGb28uQmFyLmJheidcbiAgICAgKiBAcGFyYW0ge30gdmFsIFRoZSB2YWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luXSBQYXRoIHNsaWNlIGJlZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIFBhdGggc2xpY2UgZW5kXG4gICAgICogQHJldHVybiB7fSBQYXNzIHRocm91Z2ggYHZhbGAgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQ29tbW9uLnNldCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgdmFsLCBiZWdpbiwgZW5kKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKS5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgICAgQ29tbW9uLmdldChvYmosIHBhdGgsIDAsIC0xKVtwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXV0gPSB2YWw7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNodWZmbGVzIHRoZSBnaXZlbiBhcnJheSBpbi1wbGFjZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLlxuICAgICAqIEBtZXRob2Qgc2h1ZmZsZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5XG4gICAgICogQHJldHVybiB7YXJyYXl9IGFycmF5IHNodWZmbGVkIHJhbmRvbWx5XG4gICAgICovXG4gICAgQ29tbW9uLnNodWZmbGUgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKENvbW1vbi5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBhcnJheVtpXTtcbiAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgICBhcnJheVtqXSA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSYW5kb21seSBjaG9vc2VzIGEgdmFsdWUgZnJvbSBhIGxpc3Qgd2l0aCBlcXVhbCBwcm9iYWJpbGl0eS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLlxuICAgICAqIEBtZXRob2QgY2hvb3NlXG4gICAgICogQHBhcmFtIHthcnJheX0gY2hvaWNlc1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gQSByYW5kb20gY2hvaWNlIG9iamVjdCBmcm9tIHRoZSBhcnJheVxuICAgICAqL1xuICAgIENvbW1vbi5jaG9vc2UgPSBmdW5jdGlvbihjaG9pY2VzKSB7XG4gICAgICAgIHJldHVybiBjaG9pY2VzW01hdGguZmxvb3IoQ29tbW9uLnJhbmRvbSgpICogY2hvaWNlcy5sZW5ndGgpXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBIVE1MRWxlbWVudCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBtZXRob2QgaXNFbGVtZW50XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIEhUTUxFbGVtZW50LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSAmJiBvYmoubm9kZU5hbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheS5cbiAgICAgKiBAbWV0aG9kIGlzQXJyYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGFuIGFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNBcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgZnVuY3Rpb24uXG4gICAgICogQG1ldGhvZCBpc0Z1bmN0aW9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHBsYWluIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGlzUGxhaW5PYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgcGxhaW4gb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgc3RyaW5nLlxuICAgICAqIEBtZXRob2QgaXNTdHJpbmdcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgc3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNTdHJpbmcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnaXZlbiB2YWx1ZSBjbGFtcGVkIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBtZXRob2QgY2xhbXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZhbHVlIGNsYW1wZWQgYmV0d2VlbiBtaW4gYW5kIG1heCBpbmNsdXNpdmVcbiAgICAgKi9cbiAgICBDb21tb24uY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgbWluKVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgaWYgKHZhbHVlID4gbWF4KVxuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2lnbiBvZiB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAgICogQG1ldGhvZCBzaWduXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSAtMSBpZiBuZWdhdGl2ZSwgKzEgaWYgMCBvciBwb3NpdGl2ZVxuICAgICAqL1xuICAgIENvbW1vbi5zaWduID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIDwgMCA/IC0xIDogMTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHNpbmNlIHRoZSB0aW1lIG9yaWdpbiAoZS5nLiBmcm9tIHBhZ2UgbG9hZCkuXG4gICAgICogVGhlIHJlc3VsdCBpcyBpbiBtaWxsaXNlY29uZHMgYW5kIHdpbGwgdXNlIGhpZ2gtcmVzb2x1dGlvbiB0aW1pbmcgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBtZXRob2Qgbm93XG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgQ29tbW9uLm5vdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZS53ZWJraXROb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLndlYmtpdE5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKERhdGUubm93KSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobmV3IERhdGUoKSkgLSBDb21tb24uX25vd1N0YXJ0VGltZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBhIG1pbmltdW0gYW5kIGEgbWF4aW11bSB2YWx1ZSBpbmNsdXNpdmUuXG4gICAgICogVGhlIGZ1bmN0aW9uIHVzZXMgYSBzZWVkZWQgcmFuZG9tIGdlbmVyYXRvci5cbiAgICAgKiBAbWV0aG9kIHJhbmRvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heCBpbmNsdXNpdmVcbiAgICAgKi9cbiAgICBDb21tb24ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICAgICAgbWluID0gKHR5cGVvZiBtaW4gIT09IFwidW5kZWZpbmVkXCIpID8gbWluIDogMDtcbiAgICAgICAgbWF4ID0gKHR5cGVvZiBtYXggIT09IFwidW5kZWZpbmVkXCIpID8gbWF4IDogMTtcbiAgICAgICAgcmV0dXJuIG1pbiArIF9zZWVkZWRSYW5kb20oKSAqIChtYXggLSBtaW4pO1xuICAgIH07XG5cbiAgICB2YXIgX3NlZWRlZFJhbmRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaW5lYXJfY29uZ3J1ZW50aWFsX2dlbmVyYXRvclxuICAgICAgICBDb21tb24uX3NlZWQgPSAoQ29tbW9uLl9zZWVkICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5fc2VlZCAvIDIzMzI4MDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBDU1MgaGV4IGNvbG91ciBzdHJpbmcgaW50byBhbiBpbnRlZ2VyLlxuICAgICAqIEBtZXRob2QgY29sb3JUb051bWJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvclN0cmluZ1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW4gaW50ZWdlciByZXByZXNlbnRpbmcgdGhlIENTUyBoZXggc3RyaW5nXG4gICAgICovXG4gICAgQ29tbW9uLmNvbG9yVG9OdW1iZXIgPSBmdW5jdGlvbihjb2xvclN0cmluZykge1xuICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nLnJlcGxhY2UoJyMnLCcnKTtcblxuICAgICAgICBpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgIGNvbG9yU3RyaW5nID0gY29sb3JTdHJpbmcuY2hhckF0KDApICsgY29sb3JTdHJpbmcuY2hhckF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICArIGNvbG9yU3RyaW5nLmNoYXJBdCgxKSArIGNvbG9yU3RyaW5nLmNoYXJBdCgxKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvclN0cmluZy5jaGFyQXQoMikgKyBjb2xvclN0cmluZy5jaGFyQXQoMik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoY29sb3JTdHJpbmcsIDE2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnNvbGUgbG9nZ2luZyBsZXZlbCB0byB1c2UsIHdoZXJlIGVhY2ggbGV2ZWwgaW5jbHVkZXMgYWxsIGxldmVscyBhYm92ZSBhbmQgZXhjbHVkZXMgdGhlIGxldmVscyBiZWxvdy5cbiAgICAgKiBUaGUgZGVmYXVsdCBsZXZlbCBpcyAnZGVidWcnIHdoaWNoIHNob3dzIGFsbCBjb25zb2xlIG1lc3NhZ2VzLiAgXG4gICAgICpcbiAgICAgKiBQb3NzaWJsZSBsZXZlbCB2YWx1ZXMgYXJlOlxuICAgICAqIC0gMCA9IE5vbmVcbiAgICAgKiAtIDEgPSBEZWJ1Z1xuICAgICAqIC0gMiA9IEluZm9cbiAgICAgKiAtIDMgPSBXYXJuXG4gICAgICogLSA0ID0gRXJyb3JcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByb3BlcnR5IGxvZ0xldmVsXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgQ29tbW9uLmxvZ0xldmVsID0gMTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgYGNvbnNvbGUubG9nYCBtZXNzYWdlIG9ubHkgaWYgdGhlIGN1cnJlbnQgYENvbW1vbi5sb2dMZXZlbGAgYWxsb3dzIGl0LlxuICAgICAqIFRoZSBtZXNzYWdlIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnbWF0dGVyLWpzJyB0byBtYWtlIGl0IGVhc2lseSBpZGVudGlmaWFibGUuXG4gICAgICogQG1ldGhvZCBsb2dcbiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuXG4gICAgICovXG4gICAgQ29tbW9uLmxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY29uc29sZSAmJiBDb21tb24ubG9nTGV2ZWwgPiAwICYmIENvbW1vbi5sb2dMZXZlbCA8PSAzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBbJ21hdHRlci1qczonXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgYGNvbnNvbGUuaW5mb2AgbWVzc2FnZSBvbmx5IGlmIHRoZSBjdXJyZW50IGBDb21tb24ubG9nTGV2ZWxgIGFsbG93cyBpdC5cbiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ21hdHRlci1qcycgdG8gbWFrZSBpdCBlYXNpbHkgaWRlbnRpZmlhYmxlLlxuICAgICAqIEBtZXRob2QgaW5mb1xuICAgICAqIEBwYXJhbSAuLi5vYmpzIHt9IFRoZSBvYmplY3RzIHRvIGxvZy5cbiAgICAgKi9cbiAgICBDb21tb24uaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY29uc29sZSAmJiBDb21tb24ubG9nTGV2ZWwgPiAwICYmIENvbW1vbi5sb2dMZXZlbCA8PSAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSwgWydtYXR0ZXItanM6J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGBjb25zb2xlLndhcm5gIG1lc3NhZ2Ugb25seSBpZiB0aGUgY3VycmVudCBgQ29tbW9uLmxvZ0xldmVsYCBhbGxvd3MgaXQuXG4gICAgICogVGhlIG1lc3NhZ2Ugd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdtYXR0ZXItanMnIHRvIG1ha2UgaXQgZWFzaWx5IGlkZW50aWZpYWJsZS5cbiAgICAgKiBAbWV0aG9kIHdhcm5cbiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuXG4gICAgICovXG4gICAgQ29tbW9uLndhcm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIFsnbWF0dGVyLWpzOiddLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlcyBgQ29tbW9uLndhcm5gIHRvIGxvZyB0aGUgZ2l2ZW4gbWVzc2FnZSBvbmUgdGltZSBvbmx5LlxuICAgICAqIEBtZXRob2Qgd2Fybk9uY2VcbiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuXG4gICAgICovXG4gICAgQ29tbW9uLndhcm5PbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCcgJyk7XG5cbiAgICAgICAgaWYgKCFDb21tb24uX3dhcm5lZE9uY2VbbWVzc2FnZV0pIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgQ29tbW9uLl93YXJuZWRPbmNlW21lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGRlcHJlY2F0ZWQgY29uc29sZSB3YXJuaW5nIHdoZW4gdGhlIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBvYmplY3QgaXMgY2FsbGVkLlxuICAgICAqIFRoZSB0YXJnZXQgZnVuY3Rpb24gd2lsbCBiZSByZXBsYWNlZCB3aXRoIGEgbmV3IGZ1bmN0aW9uIHRoYXQgZmlyc3Qgc2hvd3MgdGhlIHdhcm5pbmdcbiAgICAgKiBhbmQgdGhlbiBjYWxscyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gICAgICogQG1ldGhvZCBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBUaGUgb2JqZWN0IG9yIG1vZHVsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBmdW5jdGlvbiBvbiBvYmpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd2FybmluZyBUaGUgb25lLXRpbWUgbWVzc2FnZSB0byBzaG93IGlmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWRcbiAgICAgKi9cbiAgICBDb21tb24uZGVwcmVjYXRlZCA9IGZ1bmN0aW9uKG9iaiwgcHJvcCwgd2FybmluZykge1xuICAgICAgICBvYmpbcHJvcF0gPSBDb21tb24uY2hhaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoJ/CflIUgZGVwcmVjYXRlZCDwn5SFJywgd2FybmluZyk7XG4gICAgICAgIH0sIG9ialtwcm9wXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIHNlcXVlbnRpYWwgSUQuXG4gICAgICogQG1ldGhvZCBuZXh0SWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFVuaXF1ZSBzZXF1ZW50aWFsIElEXG4gICAgICovXG4gICAgQ29tbW9uLm5leHRJZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQ29tbW9uLl9uZXh0SWQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBjcm9zcyBicm93c2VyIGNvbXBhdGlibGUgaW5kZXhPZiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAbWV0aG9kIGluZGV4T2ZcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBoYXlzdGFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBuZWVkbGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb3NpdGlvbiBvZiBuZWVkbGUgaW4gaGF5c3RhY2ssIG90aGVyd2lzZSAtMS5cbiAgICAgKi9cbiAgICBDb21tb24uaW5kZXhPZiA9IGZ1bmN0aW9uKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICAgICAgaWYgKGhheXN0YWNrLmluZGV4T2YpXG4gICAgICAgICAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGF5c3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChoYXlzdGFja1tpXSA9PT0gbmVlZGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGNyb3NzIGJyb3dzZXIgY29tcGF0aWJsZSBhcnJheSBtYXAgaW1wbGVtZW50YXRpb24uXG4gICAgICogQG1ldGhvZCBtYXBcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaXN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1xuICAgICAqIEByZXR1cm4ge2FycmF5fSBWYWx1ZXMgZnJvbSBsaXN0IHRyYW5zZm9ybWVkIGJ5IGZ1bmMuXG4gICAgICovXG4gICAgQ29tbW9uLm1hcCA9IGZ1bmN0aW9uKGxpc3QsIGZ1bmMpIHtcbiAgICAgICAgaWYgKGxpc3QubWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdC5tYXAoZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFwcGVkID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBtYXBwZWQucHVzaChmdW5jKGxpc3RbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZGlyZWN0ZWQgZ3JhcGggYW5kIHJldHVybnMgdGhlIHBhcnRpYWxseSBvcmRlcmVkIHNldCBvZiB2ZXJ0aWNlcyBpbiB0b3BvbG9naWNhbCBvcmRlci5cbiAgICAgKiBDaXJjdWxhciBkZXBlbmRlbmNpZXMgYXJlIGFsbG93ZWQuXG4gICAgICogQG1ldGhvZCB0b3BvbG9naWNhbFNvcnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZ3JhcGhcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gUGFydGlhbGx5IG9yZGVyZWQgc2V0IG9mIHZlcnRpY2VzIGluIHRvcG9sb2dpY2FsIG9yZGVyLlxuICAgICAqL1xuICAgIENvbW1vbi50b3BvbG9naWNhbFNvcnQgPSBmdW5jdGlvbihncmFwaCkge1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWdlY2hldi9qYXZhc2NyaXB0LWFsZ29yaXRobXNcbiAgICAgICAgLy8gQ29weXJpZ2h0IChjKSBNaW5rbyBHZWNoZXYgKE1JVCBsaWNlbnNlKVxuICAgICAgICAvLyBNb2RpZmljYXRpb25zOiB0aWR5IGZvcm1hdHRpbmcgYW5kIG5hbWluZ1xuICAgICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgICB2aXNpdGVkID0gW10sXG4gICAgICAgICAgICB0ZW1wID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgbm9kZSBpbiBncmFwaCkge1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkW25vZGVdICYmICF0ZW1wW25vZGVdKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLl90b3BvbG9naWNhbFNvcnQobm9kZSwgdmlzaXRlZCwgdGVtcCwgZ3JhcGgsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBDb21tb24uX3RvcG9sb2dpY2FsU29ydCA9IGZ1bmN0aW9uKG5vZGUsIHZpc2l0ZWQsIHRlbXAsIGdyYXBoLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IGdyYXBoW25vZGVdIHx8IFtdO1xuICAgICAgICB0ZW1wW25vZGVdID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGVtcFtuZWlnaGJvcl0pIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZpc2l0ZWRbbmVpZ2hib3JdKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLl90b3BvbG9naWNhbFNvcnQobmVpZ2hib3IsIHZpc2l0ZWQsIHRlbXAsIGdyYXBoLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGVtcFtub2RlXSA9IGZhbHNlO1xuICAgICAgICB2aXNpdGVkW25vZGVdID0gdHJ1ZTtcblxuICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgX25fIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGVtIGluIG9yZGVyLlxuICAgICAqIFRoZSBhcmd1bWVudHMgYXBwbGllZCB3aGVuIGNhbGxpbmcgdGhlIG5ldyBmdW5jdGlvbiB3aWxsIGFsc28gYmUgYXBwbGllZCB0byBldmVyeSBmdW5jdGlvbiBwYXNzZWQuXG4gICAgICogVGhlIHZhbHVlIG9mIGB0aGlzYCByZWZlcnMgdG8gdGhlIGxhc3QgdmFsdWUgcmV0dXJuZWQgaW4gdGhlIGNoYWluIHRoYXQgd2FzIG5vdCBgdW5kZWZpbmVkYC5cbiAgICAgKiBUaGVyZWZvcmUgaWYgYSBwYXNzZWQgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWUsIHRoZSBwcmV2aW91c2x5IHJldHVybmVkIHZhbHVlIGlzIG1haW50YWluZWQuXG4gICAgICogQWZ0ZXIgYWxsIHBhc3NlZCBmdW5jdGlvbnMgaGF2ZSBiZWVuIGNhbGxlZCB0aGUgbmV3IGZ1bmN0aW9uIHJldHVybnMgdGhlIGxhc3QgcmV0dXJuZWQgdmFsdWUgKGlmIGFueSkuXG4gICAgICogSWYgYW55IG9mIHRoZSBwYXNzZWQgZnVuY3Rpb25zIGFyZSBhIGNoYWluLCB0aGVuIHRoZSBjaGFpbiB3aWxsIGJlIGZsYXR0ZW5lZC5cbiAgICAgKiBAbWV0aG9kIGNoYWluXG4gICAgICogQHBhcmFtIC4uLmZ1bmNzIHtmdW5jdGlvbn0gVGhlIGZ1bmN0aW9ucyB0byBjaGFpbi5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGUgcGFzc2VkIGZ1bmN0aW9ucyBpbiBvcmRlci5cbiAgICAgKi9cbiAgICBDb21tb24uY2hhaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZ1bmNzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZnVuYy5fY2hhaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gYWxyZWFkeSBjaGFpbmVkIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIGZ1bmNzLnB1c2guYXBwbHkoZnVuY3MsIGZ1bmMuX2NoYWluZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdW5jcy5wdXNoKGZ1bmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2RldnRvb2xzLWRvY3MvaXNzdWVzLzUzI2lzc3VlY29tbWVudC01MTk0MTM1OFxuICAgICAgICAgICAgdmFyIGxhc3RSZXN1bHQsXG4gICAgICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmNzW2ldLmFwcGx5KGxhc3RSZXN1bHQsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBjaGFpbi5fY2hhaW5lZCA9IGZ1bmNzO1xuXG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGJlZm9yZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgYmFzZWAuXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXG4gICAgICogQG1ldGhvZCBjaGFpblBhdGhCZWZvcmVcbiAgICAgKiBAcGFyYW0ge30gYmFzZSBUaGUgYmFzZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBiZWZvcmUgdGhlIG9yaWdpbmFsXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsXG4gICAgICovXG4gICAgQ29tbW9uLmNoYWluUGF0aEJlZm9yZSA9IGZ1bmN0aW9uKGJhc2UsIHBhdGgsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5zZXQoYmFzZSwgcGF0aCwgQ29tbW9uLmNoYWluKFxuICAgICAgICAgICAgZnVuYyxcbiAgICAgICAgICAgIENvbW1vbi5nZXQoYmFzZSwgcGF0aClcbiAgICAgICAgKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBhZnRlciB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgYmFzZWAuXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXG4gICAgICogQG1ldGhvZCBjaGFpblBhdGhBZnRlclxuICAgICAqIEBwYXJhbSB7fSBiYXNlIFRoZSBiYXNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGFmdGVyIHRoZSBvcmlnaW5hbFxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxuICAgICAqL1xuICAgIENvbW1vbi5jaGFpblBhdGhBZnRlciA9IGZ1bmN0aW9uKGJhc2UsIHBhdGgsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5zZXQoYmFzZSwgcGF0aCwgQ29tbW9uLmNoYWluKFxuICAgICAgICAgICAgQ29tbW9uLmdldChiYXNlLCBwYXRoKSxcbiAgICAgICAgICAgIGZ1bmNcbiAgICAgICAgKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIFtwb2x5LWRlY29tcF0oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBsaWJyYXJ5IG1vZHVsZSB0byBlbmFibGVcbiAgICAgKiBjb25jYXZlIHZlcnRleCBkZWNvbXBvc2l0aW9uIHN1cHBvcnQgd2hlbiB1c2luZyBgQm9kaWVzLmZyb21WZXJ0aWNlc2AgZS5nLiBgQ29tbW9uLnNldERlY29tcChyZXF1aXJlKCdwb2x5LWRlY29tcCcpKWAuXG4gICAgICogQG1ldGhvZCBzZXREZWNvbXBcbiAgICAgKiBAcGFyYW0ge30gZGVjb21wIFRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgbGlicmFyeSBtb2R1bGUuXG4gICAgICovXG4gICAgQ29tbW9uLnNldERlY29tcCA9IGZ1bmN0aW9uKGRlY29tcCkge1xuICAgICAgICBDb21tb24uX2RlY29tcCA9IGRlY29tcDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgW3BvbHktZGVjb21wXShodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvcG9seS1kZWNvbXAuanMpIGxpYnJhcnkgbW9kdWxlIHByb3ZpZGVkIHRocm91Z2ggYENvbW1vbi5zZXREZWNvbXBgLFxuICAgICAqIG90aGVyd2lzZSByZXR1cm5zIHRoZSBnbG9iYWwgYGRlY29tcGAgaWYgc2V0LlxuICAgICAqIEBtZXRob2QgZ2V0RGVjb21wXG4gICAgICogQHJldHVybiB7fSBUaGUgW3BvbHktZGVjb21wXShodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvcG9seS1kZWNvbXAuanMpIGxpYnJhcnkgbW9kdWxlIGlmIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIENvbW1vbi5nZXREZWNvbXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gZ2V0IHVzZXIgcHJvdmlkZWQgZGVjb21wIGlmIHNldFxuICAgICAgICB2YXIgZGVjb21wID0gQ29tbW9uLl9kZWNvbXA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBmcm9tIHdpbmRvdyBnbG9iYWxcbiAgICAgICAgICAgIGlmICghZGVjb21wICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZGVjb21wID0gd2luZG93LmRlY29tcDtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBmcm9tIG5vZGUgZ2xvYmFsXG4gICAgICAgICAgICBpZiAoIWRlY29tcCAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGRlY29tcCA9IGdsb2JhbC5kZWNvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGRlY29tcCBub3QgYXZhaWxhYmxlXG4gICAgICAgICAgICBkZWNvbXAgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlY29tcDtcbiAgICB9O1xufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkJvdW5kc2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveGVzIChBQUJCKS5cbipcbiogQGNsYXNzIEJvdW5kc1xuKi9cblxudmFyIEJvdW5kcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvdW5kcztcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94IChBQUJCKSBmb3IgdGhlIGdpdmVuIHZlcnRpY2VzLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHtib3VuZHN9IEEgbmV3IGJvdW5kcyBvYmplY3RcbiAgICAgKi9cbiAgICBCb3VuZHMuY3JlYXRlID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHsgXG4gICAgICAgICAgICBtaW46IHsgeDogMCwgeTogMCB9LCBcbiAgICAgICAgICAgIG1heDogeyB4OiAwLCB5OiAwIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodmVydGljZXMpXG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKGJvdW5kcywgdmVydGljZXMpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBib3VuZHMgdXNpbmcgdGhlIGdpdmVuIHZlcnRpY2VzIGFuZCBleHRlbmRzIHRoZSBib3VuZHMgZ2l2ZW4gYSB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWxvY2l0eVxuICAgICAqL1xuICAgIEJvdW5kcy51cGRhdGUgPSBmdW5jdGlvbihib3VuZHMsIHZlcnRpY2VzLCB2ZWxvY2l0eSkge1xuICAgICAgICBib3VuZHMubWluLnggPSBJbmZpbml0eTtcbiAgICAgICAgYm91bmRzLm1heC54ID0gLUluZmluaXR5O1xuICAgICAgICBib3VuZHMubWluLnkgPSBJbmZpbml0eTtcbiAgICAgICAgYm91bmRzLm1heC55ID0gLUluZmluaXR5O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXgueCA+IGJvdW5kcy5tYXgueCkgYm91bmRzLm1heC54ID0gdmVydGV4Lng7XG4gICAgICAgICAgICBpZiAodmVydGV4LnggPCBib3VuZHMubWluLngpIGJvdW5kcy5taW4ueCA9IHZlcnRleC54O1xuICAgICAgICAgICAgaWYgKHZlcnRleC55ID4gYm91bmRzLm1heC55KSBib3VuZHMubWF4LnkgPSB2ZXJ0ZXgueTtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXgueSA8IGJvdW5kcy5taW4ueSkgYm91bmRzLm1pbi55ID0gdmVydGV4Lnk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5LnggPiAwKSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1heC54ICs9IHZlbG9jaXR5Lng7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueCArPSB2ZWxvY2l0eS54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodmVsb2NpdHkueSA+IDApIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWF4LnkgKz0gdmVsb2NpdHkueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi55ICs9IHZlbG9jaXR5Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBib3VuZHMgY29udGFpbnMgdGhlIGdpdmVuIHBvaW50LlxuICAgICAqIEBtZXRob2QgY29udGFpbnNcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYm91bmRzIGNvbnRhaW4gdGhlIHBvaW50LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBCb3VuZHMuY29udGFpbnMgPSBmdW5jdGlvbihib3VuZHMsIHBvaW50KSB7XG4gICAgICAgIHJldHVybiBwb2ludC54ID49IGJvdW5kcy5taW4ueCAmJiBwb2ludC54IDw9IGJvdW5kcy5tYXgueCBcbiAgICAgICAgICAgICAgICYmIHBvaW50LnkgPj0gYm91bmRzLm1pbi55ICYmIHBvaW50LnkgPD0gYm91bmRzLm1heC55O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBib3VuZHMgaW50ZXJzZWN0LlxuICAgICAqIEBtZXRob2Qgb3ZlcmxhcHNcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzQVxuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNCXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYm91bmRzIG92ZXJsYXAsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIEJvdW5kcy5vdmVybGFwcyA9IGZ1bmN0aW9uKGJvdW5kc0EsIGJvdW5kc0IpIHtcbiAgICAgICAgcmV0dXJuIChib3VuZHNBLm1pbi54IDw9IGJvdW5kc0IubWF4LnggJiYgYm91bmRzQS5tYXgueCA+PSBib3VuZHNCLm1pbi54XG4gICAgICAgICAgICAgICAgJiYgYm91bmRzQS5tYXgueSA+PSBib3VuZHNCLm1pbi55ICYmIGJvdW5kc0EubWluLnkgPD0gYm91bmRzQi5tYXgueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIGJvdW5kcyBieSB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgICAqIEBtZXRob2QgdHJhbnNsYXRlXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKi9cbiAgICBCb3VuZHMudHJhbnNsYXRlID0gZnVuY3Rpb24oYm91bmRzLCB2ZWN0b3IpIHtcbiAgICAgICAgYm91bmRzLm1pbi54ICs9IHZlY3Rvci54O1xuICAgICAgICBib3VuZHMubWF4LnggKz0gdmVjdG9yLng7XG4gICAgICAgIGJvdW5kcy5taW4ueSArPSB2ZWN0b3IueTtcbiAgICAgICAgYm91bmRzLm1heC55ICs9IHZlY3Rvci55O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaGlmdHMgdGhlIGJvdW5kcyB0byB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICogQG1ldGhvZCBzaGlmdFxuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9zaXRpb25cbiAgICAgKi9cbiAgICBCb3VuZHMuc2hpZnQgPSBmdW5jdGlvbihib3VuZHMsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBib3VuZHMubWF4LnggLSBib3VuZHMubWluLngsXG4gICAgICAgICAgICBkZWx0YVkgPSBib3VuZHMubWF4LnkgLSBib3VuZHMubWluLnk7XG4gICAgICAgICAgICBcbiAgICAgICAgYm91bmRzLm1pbi54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgYm91bmRzLm1heC54ID0gcG9zaXRpb24ueCArIGRlbHRhWDtcbiAgICAgICAgYm91bmRzLm1pbi55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgYm91bmRzLm1heC55ID0gcG9zaXRpb24ueSArIGRlbHRhWTtcbiAgICB9O1xuICAgIFxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlZlY3RvcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgdmVjdG9ycy5cbiogVmVjdG9ycyBhcmUgdGhlIGJhc2lzIG9mIGFsbCB0aGUgZ2VvbWV0cnkgcmVsYXRlZCBvcGVyYXRpb25zIGluIHRoZSBlbmdpbmUuXG4qIEEgYE1hdHRlci5WZWN0b3JgIG9iamVjdCBpcyBvZiB0aGUgZm9ybSBgeyB4OiAwLCB5OiAwIH1gLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgVmVjdG9yXG4qL1xuXG4vLyBUT0RPOiBjb25zaWRlciBwYXJhbXMgZm9yIHJldXNpbmcgdmVjdG9yIG9iamVjdHNcblxudmFyIFZlY3RvciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvcjtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB2ZWN0b3IuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IuY3JlYXRlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICByZXR1cm4geyB4OiB4IHx8IDAsIHk6IHkgfHwgMCB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHZlY3RvciB3aXRoIGB4YCBhbmQgYHlgIGNvcGllZCBmcm9tIHRoZSBnaXZlbiBgdmVjdG9yYC5cbiAgICAgKiBAbWV0aG9kIGNsb25lXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgY2xvbmVkIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5jbG9uZSA9IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCwgeTogdmVjdG9yLnkgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIGEgdmVjdG9yLlxuICAgICAqIEBtZXRob2QgbWFnbml0dWRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLm1hZ25pdHVkZSA9IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KCh2ZWN0b3IueCAqIHZlY3Rvci54KSArICh2ZWN0b3IueSAqIHZlY3Rvci55KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiBhIHZlY3RvciAodGhlcmVmb3JlIHNhdmluZyBhIGBzcXJ0YCBvcGVyYXRpb24pLlxuICAgICAqIEBtZXRob2QgbWFnbml0dWRlU3F1YXJlZFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcXVhcmVkIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLm1hZ25pdHVkZVNxdWFyZWQgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuICh2ZWN0b3IueCAqIHZlY3Rvci54KSArICh2ZWN0b3IueSAqIHZlY3Rvci55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgdmVjdG9yIGFib3V0ICgwLCAwKSBieSBzcGVjaWZpZWQgYW5nbGUuXG4gICAgICogQG1ldGhvZCByb3RhdGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtvdXRwdXRdXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgdmVjdG9yIHJvdGF0ZWQgYWJvdXQgKDAsIDApXG4gICAgICovXG4gICAgVmVjdG9yLnJvdGF0ZSA9IGZ1bmN0aW9uKHZlY3RvciwgYW5nbGUsIG91dHB1dCkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTtcbiAgICAgICAgdmFyIHggPSB2ZWN0b3IueCAqIGNvcyAtIHZlY3Rvci55ICogc2luO1xuICAgICAgICBvdXRwdXQueSA9IHZlY3Rvci54ICogc2luICsgdmVjdG9yLnkgKiBjb3M7XG4gICAgICAgIG91dHB1dC54ID0geDtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgdmVjdG9yIGFib3V0IGEgc3BlY2lmaWVkIHBvaW50IGJ5IHNwZWNpZmllZCBhbmdsZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZUFib3V0XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbb3V0cHV0XVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIHJvdGF0ZWQgYWJvdXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVmVjdG9yLnJvdGF0ZUFib3V0ID0gZnVuY3Rpb24odmVjdG9yLCBhbmdsZSwgcG9pbnQsIG91dHB1dCkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTtcbiAgICAgICAgdmFyIHggPSBwb2ludC54ICsgKCh2ZWN0b3IueCAtIHBvaW50LngpICogY29zIC0gKHZlY3Rvci55IC0gcG9pbnQueSkgKiBzaW4pO1xuICAgICAgICBvdXRwdXQueSA9IHBvaW50LnkgKyAoKHZlY3Rvci54IC0gcG9pbnQueCkgKiBzaW4gKyAodmVjdG9yLnkgLSBwb2ludC55KSAqIGNvcyk7XG4gICAgICAgIG91dHB1dC54ID0geDtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXNlcyBhIHZlY3RvciAoc3VjaCB0aGF0IGl0cyBtYWduaXR1ZGUgaXMgYDFgKS5cbiAgICAgKiBAbWV0aG9kIG5vcm1hbGlzZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBub3JtYWxpc2VkXG4gICAgICovXG4gICAgVmVjdG9yLm5vcm1hbGlzZSA9IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgICAgICB2YXIgbWFnbml0dWRlID0gVmVjdG9yLm1hZ25pdHVkZSh2ZWN0b3IpO1xuICAgICAgICBpZiAobWFnbml0dWRlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAvIG1hZ25pdHVkZSwgeTogdmVjdG9yLnkgLyBtYWduaXR1ZGUgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90LXByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBkb3RcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZG90IHByb2R1Y3Qgb2YgdGhlIHR3byB2ZWN0b3JzXG4gICAgICovXG4gICAgVmVjdG9yLmRvdCA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIpIHtcbiAgICAgICAgcmV0dXJuICh2ZWN0b3JBLnggKiB2ZWN0b3JCLngpICsgKHZlY3RvckEueSAqIHZlY3RvckIueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBjcm9zc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB0d28gdmVjdG9yc1xuICAgICAqL1xuICAgIFZlY3Rvci5jcm9zcyA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIpIHtcbiAgICAgICAgcmV0dXJuICh2ZWN0b3JBLnggKiB2ZWN0b3JCLnkpIC0gKHZlY3RvckEueSAqIHZlY3RvckIueCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIGNyb3NzM1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQ1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNyb3NzIHByb2R1Y3Qgb2YgdGhlIHRocmVlIHZlY3RvcnNcbiAgICAgKi9cbiAgICBWZWN0b3IuY3Jvc3MzID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQiwgdmVjdG9yQykge1xuICAgICAgICByZXR1cm4gKHZlY3RvckIueCAtIHZlY3RvckEueCkgKiAodmVjdG9yQy55IC0gdmVjdG9yQS55KSAtICh2ZWN0b3JCLnkgLSB2ZWN0b3JBLnkpICogKHZlY3RvckMueCAtIHZlY3RvckEueCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgYWRkXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbb3V0cHV0XVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG9mIHZlY3RvckEgYW5kIHZlY3RvckIgYWRkZWRcbiAgICAgKi9cbiAgICBWZWN0b3IuYWRkID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQiwgb3V0cHV0KSB7XG4gICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTtcbiAgICAgICAgb3V0cHV0LnggPSB2ZWN0b3JBLnggKyB2ZWN0b3JCLng7XG4gICAgICAgIG91dHB1dC55ID0gdmVjdG9yQS55ICsgdmVjdG9yQi55O1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2Qgc3ViXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbb3V0cHV0XVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG9mIHZlY3RvckEgYW5kIHZlY3RvckIgc3VidHJhY3RlZFxuICAgICAqL1xuICAgIFZlY3Rvci5zdWIgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCLCBvdXRwdXQpIHtcbiAgICAgICAgaWYgKCFvdXRwdXQpIG91dHB1dCA9IHt9O1xuICAgICAgICBvdXRwdXQueCA9IHZlY3RvckEueCAtIHZlY3RvckIueDtcbiAgICAgICAgb3V0cHV0LnkgPSB2ZWN0b3JBLnkgLSB2ZWN0b3JCLnk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgYSB2ZWN0b3IgYW5kIGEgc2NhbGFyLlxuICAgICAqIEBtZXRob2QgbXVsdFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3IgbXVsdGlwbGllZCBieSBzY2FsYXJcbiAgICAgKi9cbiAgICBWZWN0b3IubXVsdCA9IGZ1bmN0aW9uKHZlY3Rvciwgc2NhbGFyKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54ICogc2NhbGFyLCB5OiB2ZWN0b3IueSAqIHNjYWxhciB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIGEgdmVjdG9yIGFuZCBhIHNjYWxhci5cbiAgICAgKiBAbWV0aG9kIGRpdlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3IgZGl2aWRlZCBieSBzY2FsYXJcbiAgICAgKi9cbiAgICBWZWN0b3IuZGl2ID0gZnVuY3Rpb24odmVjdG9yLCBzY2FsYXIpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLnggLyBzY2FsYXIsIHk6IHZlY3Rvci55IC8gc2NhbGFyIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlcnBlbmRpY3VsYXIgdmVjdG9yLiBTZXQgYG5lZ2F0ZWAgdG8gdHJ1ZSBmb3IgdGhlIHBlcnBlbmRpY3VsYXIgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICAgKiBAbWV0aG9kIHBlcnBcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtib29sfSBbbmVnYXRlPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIHBlcnBlbmRpY3VsYXIgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLnBlcnAgPSBmdW5jdGlvbih2ZWN0b3IsIG5lZ2F0ZSkge1xuICAgICAgICBuZWdhdGUgPSBuZWdhdGUgPT09IHRydWUgPyAtMSA6IDE7XG4gICAgICAgIHJldHVybiB7IHg6IG5lZ2F0ZSAqIC12ZWN0b3IueSwgeTogbmVnYXRlICogdmVjdG9yLnggfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmVnYXRlcyBib3RoIGNvbXBvbmVudHMgb2YgYSB2ZWN0b3Igc3VjaCB0aGF0IGl0IHBvaW50cyBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLlxuICAgICAqIEBtZXRob2QgbmVnXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIG5lZ2F0ZWQgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLm5lZyA9IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4geyB4OiAtdmVjdG9yLngsIHk6IC12ZWN0b3IueSB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSB2ZWN0b3IgYHZlY3RvckIgLSB2ZWN0b3JBYCBhbmQgdGhlIHgtYXhpcyBpbiByYWRpYW5zLlxuICAgICAqIEBtZXRob2QgYW5nbGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICAgICAqL1xuICAgIFZlY3Rvci5hbmdsZSA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodmVjdG9yQi55IC0gdmVjdG9yQS55LCB2ZWN0b3JCLnggLSB2ZWN0b3JBLngpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZW1wb3JhcnkgdmVjdG9yIHBvb2wgKG5vdCB0aHJlYWQtc2FmZSkuXG4gICAgICogQHByb3BlcnR5IF90ZW1wXG4gICAgICogQHR5cGUge3ZlY3RvcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yLl90ZW1wID0gW1xuICAgICAgICBWZWN0b3IuY3JlYXRlKCksIFZlY3Rvci5jcmVhdGUoKSwgXG4gICAgICAgIFZlY3Rvci5jcmVhdGUoKSwgVmVjdG9yLmNyZWF0ZSgpLCBcbiAgICAgICAgVmVjdG9yLmNyZWF0ZSgpLCBWZWN0b3IuY3JlYXRlKClcbiAgICBdO1xuXG59KSgpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlZlcnRpY2VzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBzZXRzIG9mIHZlcnRpY2VzLlxuKiBBIHNldCBvZiB2ZXJ0aWNlcyBpcyBhbiBhcnJheSBvZiBgTWF0dGVyLlZlY3RvcmAgd2l0aCBhZGRpdGlvbmFsIGluZGV4aW5nIHByb3BlcnRpZXMgaW5zZXJ0ZWQgYnkgYFZlcnRpY2VzLmNyZWF0ZWAuXG4qIEEgYE1hdHRlci5Cb2R5YCBtYWludGFpbnMgYSBzZXQgb2YgdmVydGljZXMgdG8gcmVwcmVzZW50IHRoZSBzaGFwZSBvZiB0aGUgb2JqZWN0IChpdHMgY29udmV4IGh1bGwpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgVmVydGljZXNcbiovXG5cbnZhciBWZXJ0aWNlcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlcnRpY2VzO1xuXG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNldCBvZiBgTWF0dGVyLkJvZHlgIGNvbXBhdGlibGUgdmVydGljZXMuXG4gICAgICogVGhlIGBwb2ludHNgIGFyZ3VtZW50IGFjY2VwdHMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHBvaW50cyBvcmllbnRhdGVkIGFyb3VuZCB0aGUgb3JpZ2luIGAoMCwgMClgLCBmb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgICBbeyB4OiAwLCB5OiAwIH0sIHsgeDogMjUsIHk6IDUwIH0sIHsgeDogNTAsIHk6IDAgfV1cbiAgICAgKlxuICAgICAqIFRoZSBgVmVydGljZXMuY3JlYXRlYCBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheSBvZiB2ZXJ0aWNlcywgd2hpY2ggYXJlIHNpbWlsYXIgdG8gTWF0dGVyLlZlY3RvciBvYmplY3RzLFxuICAgICAqIGJ1dCB3aXRoIHNvbWUgYWRkaXRpb25hbCByZWZlcmVuY2VzIHJlcXVpcmVkIGZvciBlZmZpY2llbnQgY29sbGlzaW9uIGRldGVjdGlvbiByb3V0aW5lcy5cbiAgICAgKlxuICAgICAqIFZlcnRpY2VzIG11c3QgYmUgc3BlY2lmaWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgYGJvZHlgIGFyZ3VtZW50IGlzIG5vdCBvcHRpb25hbCwgYSBgTWF0dGVyLkJvZHlgIHJlZmVyZW5jZSBtdXN0IGJlIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge3ZlY3RvcltdfSBwb2ludHNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jcmVhdGUgPSBmdW5jdGlvbihwb2ludHMsIGJvZHkpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXggPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICAgICAgICBpc0ludGVybmFsOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2godmVydGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3JkZXJlZCB4IHkgcGFpcnMgc2VwYXJhdGVkIGJ5IHNwYWNlcyAoYW5kIG9wdGlvbmFsbHkgY29tbWFzKSwgXG4gICAgICogaW50byBhIGBNYXR0ZXIuVmVydGljZXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIGBNYXR0ZXIuQm9keWAuXG4gICAgICogRm9yIHBhcnNpbmcgU1ZHIHBhdGhzLCBzZWUgYFN2Zy5wYXRoVG9WZXJ0aWNlc2AuXG4gICAgICogQG1ldGhvZCBmcm9tUGF0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICovXG4gICAgVmVydGljZXMuZnJvbVBhdGggPSBmdW5jdGlvbihwYXRoLCBib2R5KSB7XG4gICAgICAgIHZhciBwYXRoUGF0dGVybiA9IC9MP1xccyooWy1cXGQuZV0rKVtcXHMsXSooWy1cXGQuZV0rKSovaWcsXG4gICAgICAgICAgICBwb2ludHMgPSBbXTtcblxuICAgICAgICBwYXRoLnJlcGxhY2UocGF0aFBhdHRlcm4sIGZ1bmN0aW9uKG1hdGNoLCB4LCB5KSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHBhcnNlRmxvYXQoeCksIHk6IHBhcnNlRmxvYXQoeSkgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBWZXJ0aWNlcy5jcmVhdGUocG9pbnRzLCBib2R5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2VudHJlIChjZW50cm9pZCkgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGNlbnRyZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgY2VudHJlIHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMuY2VudHJlID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGFyZWEgPSBWZXJ0aWNlcy5hcmVhKHZlcnRpY2VzLCB0cnVlKSxcbiAgICAgICAgICAgIGNlbnRyZSA9IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgY3Jvc3MsXG4gICAgICAgICAgICB0ZW1wLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBqID0gKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGNyb3NzID0gVmVjdG9yLmNyb3NzKHZlcnRpY2VzW2ldLCB2ZXJ0aWNlc1tqXSk7XG4gICAgICAgICAgICB0ZW1wID0gVmVjdG9yLm11bHQoVmVjdG9yLmFkZCh2ZXJ0aWNlc1tpXSwgdmVydGljZXNbal0pLCBjcm9zcyk7XG4gICAgICAgICAgICBjZW50cmUgPSBWZWN0b3IuYWRkKGNlbnRyZSwgdGVtcCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVmVjdG9yLmRpdihjZW50cmUsIDYgKiBhcmVhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXZlcmFnZSAobWVhbikgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIG1lYW5cbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIGF2ZXJhZ2UgcG9pbnRcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5tZWFuID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGF2ZXJhZ2UgPSB7IHg6IDAsIHk6IDAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhdmVyYWdlLnggKz0gdmVydGljZXNbaV0ueDtcbiAgICAgICAgICAgIGF2ZXJhZ2UueSArPSB2ZXJ0aWNlc1tpXS55O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFZlY3Rvci5kaXYoYXZlcmFnZSwgdmVydGljZXMubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXJlYSBvZiB0aGUgc2V0IG9mIHZlcnRpY2VzLlxuICAgICAqIEBtZXRob2QgYXJlYVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtib29sfSBzaWduZWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhcmVhXG4gICAgICovXG4gICAgVmVydGljZXMuYXJlYSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBzaWduZWQpIHtcbiAgICAgICAgdmFyIGFyZWEgPSAwLFxuICAgICAgICAgICAgaiA9IHZlcnRpY2VzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJlYSArPSAodmVydGljZXNbal0ueCAtIHZlcnRpY2VzW2ldLngpICogKHZlcnRpY2VzW2pdLnkgKyB2ZXJ0aWNlc1tpXS55KTtcbiAgICAgICAgICAgIGogPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpZ25lZClcbiAgICAgICAgICAgIHJldHVybiBhcmVhIC8gMjtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoYXJlYSkgLyAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtb21lbnQgb2YgaW5lcnRpYSAoc2Vjb25kIG1vbWVudCBvZiBhcmVhKSBvZiB0aGUgc2V0IG9mIHZlcnRpY2VzIGdpdmVuIHRoZSB0b3RhbCBtYXNzLlxuICAgICAqIEBtZXRob2QgaW5lcnRpYVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb2x5Z29uJ3MgbW9tZW50IG9mIGluZXJ0aWFcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5pbmVydGlhID0gZnVuY3Rpb24odmVydGljZXMsIG1hc3MpIHtcbiAgICAgICAgdmFyIG51bWVyYXRvciA9IDAsXG4gICAgICAgICAgICBkZW5vbWluYXRvciA9IDAsXG4gICAgICAgICAgICB2ID0gdmVydGljZXMsXG4gICAgICAgICAgICBjcm9zcyxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgcG9seWdvbidzIG1vbWVudCBvZiBpbmVydGlhLCB1c2luZyBzZWNvbmQgbW9tZW50IG9mIGFyZWFcbiAgICAgICAgLy8gZnJvbSBlcXVhdGlvbnMgYXQgaHR0cDovL3d3dy5waHlzaWNzZm9ydW1zLmNvbS9zaG93dGhyZWFkLnBocD90PTI1MjkzXG4gICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdi5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgaiA9IChuICsgMSkgJSB2Lmxlbmd0aDtcbiAgICAgICAgICAgIGNyb3NzID0gTWF0aC5hYnMoVmVjdG9yLmNyb3NzKHZbal0sIHZbbl0pKTtcbiAgICAgICAgICAgIG51bWVyYXRvciArPSBjcm9zcyAqIChWZWN0b3IuZG90KHZbal0sIHZbal0pICsgVmVjdG9yLmRvdCh2W2pdLCB2W25dKSArIFZlY3Rvci5kb3QodltuXSwgdltuXSkpO1xuICAgICAgICAgICAgZGVub21pbmF0b3IgKz0gY3Jvc3M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKG1hc3MgLyA2KSAqIChudW1lcmF0b3IgLyBkZW5vbWluYXRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIHNldCBvZiB2ZXJ0aWNlcyBpbi1wbGFjZS5cbiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsYXJcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy50cmFuc2xhdGUgPSBmdW5jdGlvbih2ZXJ0aWNlcywgdmVjdG9yLCBzY2FsYXIpIHtcbiAgICAgICAgc2NhbGFyID0gdHlwZW9mIHNjYWxhciAhPT0gJ3VuZGVmaW5lZCcgPyBzY2FsYXIgOiAxO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlc0xlbmd0aCA9IHZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVggPSB2ZWN0b3IueCAqIHNjYWxhcixcbiAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSB2ZWN0b3IueSAqIHNjYWxhcixcbiAgICAgICAgICAgIGk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueCArPSB0cmFuc2xhdGVYO1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueSArPSB0cmFuc2xhdGVZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBzZXQgb2YgdmVydGljZXMgaW4tcGxhY2UuXG4gICAgICogQG1ldGhvZCByb3RhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLnJvdGF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBhbmdsZSwgcG9pbnQpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgICAgICBwb2ludFggPSBwb2ludC54LFxuICAgICAgICAgICAgcG9pbnRZID0gcG9pbnQueSxcbiAgICAgICAgICAgIHZlcnRpY2VzTGVuZ3RoID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgdmVydGV4LFxuICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICBkeSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRpY2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgZHggPSB2ZXJ0ZXgueCAtIHBvaW50WDtcbiAgICAgICAgICAgIGR5ID0gdmVydGV4LnkgLSBwb2ludFk7XG4gICAgICAgICAgICB2ZXJ0ZXgueCA9IHBvaW50WCArIChkeCAqIGNvcyAtIGR5ICogc2luKTtcbiAgICAgICAgICAgIHZlcnRleC55ID0gcG9pbnRZICsgKGR4ICogc2luICsgZHkgKiBjb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHBvaW50YCBpcyBpbnNpZGUgdGhlIHNldCBvZiBgdmVydGljZXNgLlxuICAgICAqIEBtZXRob2QgY29udGFpbnNcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZlcnRpY2VzIGNvbnRhaW5zIHBvaW50LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jb250YWlucyA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBwb2ludCkge1xuICAgICAgICB2YXIgcG9pbnRYID0gcG9pbnQueCxcbiAgICAgICAgICAgIHBvaW50WSA9IHBvaW50LnksXG4gICAgICAgICAgICB2ZXJ0aWNlc0xlbmd0aCA9IHZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW3ZlcnRpY2VzTGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBuZXh0VmVydGV4O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV4dFZlcnRleCA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICBpZiAoKHBvaW50WCAtIHZlcnRleC54KSAqIChuZXh0VmVydGV4LnkgLSB2ZXJ0ZXgueSkgXG4gICAgICAgICAgICAgICAgKyAocG9pbnRZIC0gdmVydGV4LnkpICogKHZlcnRleC54IC0gbmV4dFZlcnRleC54KSA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleCA9IG5leHRWZXJ0ZXg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIHRoZSB2ZXJ0aWNlcyBmcm9tIGEgcG9pbnQgKGRlZmF1bHQgaXMgY2VudHJlKSBpbi1wbGFjZS5cbiAgICAgKiBAbWV0aG9kIHNjYWxlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLnNjYWxlID0gZnVuY3Rpb24odmVydGljZXMsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCkge1xuICAgICAgICBpZiAoc2NhbGVYID09PSAxICYmIHNjYWxlWSA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0aWNlcztcblxuICAgICAgICBwb2ludCA9IHBvaW50IHx8IFZlcnRpY2VzLmNlbnRyZSh2ZXJ0aWNlcyk7XG5cbiAgICAgICAgdmFyIHZlcnRleCxcbiAgICAgICAgICAgIGRlbHRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgZGVsdGEgPSBWZWN0b3Iuc3ViKHZlcnRleCwgcG9pbnQpO1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueCA9IHBvaW50LnggKyBkZWx0YS54ICogc2NhbGVYO1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueSA9IHBvaW50LnkgKyBkZWx0YS55ICogc2NhbGVZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFtZmVycyBhIHNldCBvZiB2ZXJ0aWNlcyBieSBnaXZpbmcgdGhlbSByb3VuZGVkIGNvcm5lcnMsIHJldHVybnMgYSBuZXcgc2V0IG9mIHZlcnRpY2VzLlxuICAgICAqIFRoZSByYWRpdXMgcGFyYW1ldGVyIGlzIGEgc2luZ2xlIG51bWJlciBvciBhbiBhcnJheSB0byBzcGVjaWZ5IHRoZSByYWRpdXMgZm9yIGVhY2ggdmVydGV4LlxuICAgICAqIEBtZXRob2QgY2hhbWZlclxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eU1pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5TWF4XG4gICAgICovXG4gICAgVmVydGljZXMuY2hhbWZlciA9IGZ1bmN0aW9uKHZlcnRpY2VzLCByYWRpdXMsIHF1YWxpdHksIHF1YWxpdHlNaW4sIHF1YWxpdHlNYXgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByYWRpdXMgPSBbcmFkaXVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyB8fCBbOF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBxdWFsaXR5IGRlZmF1bHRzIHRvIC0xLCB3aGljaCBpcyBhdXRvXG4gICAgICAgIHF1YWxpdHkgPSAodHlwZW9mIHF1YWxpdHkgIT09ICd1bmRlZmluZWQnKSA/IHF1YWxpdHkgOiAtMTtcbiAgICAgICAgcXVhbGl0eU1pbiA9IHF1YWxpdHlNaW4gfHwgMjtcbiAgICAgICAgcXVhbGl0eU1heCA9IHF1YWxpdHlNYXggfHwgMTQ7XG5cbiAgICAgICAgdmFyIG5ld1ZlcnRpY2VzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByZXZWZXJ0ZXggPSB2ZXJ0aWNlc1tpIC0gMSA+PSAwID8gaSAtIDEgOiB2ZXJ0aWNlcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXSxcbiAgICAgICAgICAgICAgICBuZXh0VmVydGV4ID0gdmVydGljZXNbKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aF0sXG4gICAgICAgICAgICAgICAgY3VycmVudFJhZGl1cyA9IHJhZGl1c1tpIDwgcmFkaXVzLmxlbmd0aCA/IGkgOiByYWRpdXMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3VmVydGljZXMucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJldk5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoeyBcbiAgICAgICAgICAgICAgICB4OiB2ZXJ0ZXgueSAtIHByZXZWZXJ0ZXgueSwgXG4gICAgICAgICAgICAgICAgeTogcHJldlZlcnRleC54IC0gdmVydGV4LnhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV4dE5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoeyBcbiAgICAgICAgICAgICAgICB4OiBuZXh0VmVydGV4LnkgLSB2ZXJ0ZXgueSwgXG4gICAgICAgICAgICAgICAgeTogdmVydGV4LnggLSBuZXh0VmVydGV4LnhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZGlhZ29uYWxSYWRpdXMgPSBNYXRoLnNxcnQoMiAqIE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDIpKSxcbiAgICAgICAgICAgICAgICByYWRpdXNWZWN0b3IgPSBWZWN0b3IubXVsdChDb21tb24uY2xvbmUocHJldk5vcm1hbCksIGN1cnJlbnRSYWRpdXMpLFxuICAgICAgICAgICAgICAgIG1pZE5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoVmVjdG9yLm11bHQoVmVjdG9yLmFkZChwcmV2Tm9ybWFsLCBuZXh0Tm9ybWFsKSwgMC41KSksXG4gICAgICAgICAgICAgICAgc2NhbGVkVmVydGV4ID0gVmVjdG9yLnN1Yih2ZXJ0ZXgsIFZlY3Rvci5tdWx0KG1pZE5vcm1hbCwgZGlhZ29uYWxSYWRpdXMpKTtcblxuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IHF1YWxpdHk7XG5cbiAgICAgICAgICAgIGlmIChxdWFsaXR5ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgZGVjaWRlIHByZWNpc2lvblxuICAgICAgICAgICAgICAgIHByZWNpc2lvbiA9IE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDAuMzIpICogMS43NTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJlY2lzaW9uID0gQ29tbW9uLmNsYW1wKHByZWNpc2lvbiwgcXVhbGl0eU1pbiwgcXVhbGl0eU1heCk7XG5cbiAgICAgICAgICAgIC8vIHVzZSBhbiBldmVuIHZhbHVlIGZvciBwcmVjaXNpb24sIG1vcmUgbGlrZWx5IHRvIHJlZHVjZSBheGVzIGJ5IHVzaW5nIHN5bW1ldHJ5XG4gICAgICAgICAgICBpZiAocHJlY2lzaW9uICUgMiA9PT0gMSlcbiAgICAgICAgICAgICAgICBwcmVjaXNpb24gKz0gMTtcblxuICAgICAgICAgICAgdmFyIGFscGhhID0gTWF0aC5hY29zKFZlY3Rvci5kb3QocHJldk5vcm1hbCwgbmV4dE5vcm1hbCkpLFxuICAgICAgICAgICAgICAgIHRoZXRhID0gYWxwaGEgLyBwcmVjaXNpb247XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlY2lzaW9uOyBqKyspIHtcbiAgICAgICAgICAgICAgICBuZXdWZXJ0aWNlcy5wdXNoKFZlY3Rvci5hZGQoVmVjdG9yLnJvdGF0ZShyYWRpdXNWZWN0b3IsIHRoZXRhICogaiksIHNjYWxlZFZlcnRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1ZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyB0aGUgaW5wdXQgdmVydGljZXMgaW50byBjbG9ja3dpc2Ugb3JkZXIgaW4gcGxhY2UuXG4gICAgICogQG1ldGhvZCBjbG9ja3dpc2VTb3J0XG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0ID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGNlbnRyZSA9IFZlcnRpY2VzLm1lYW4odmVydGljZXMpO1xuXG4gICAgICAgIHZlcnRpY2VzLnNvcnQoZnVuY3Rpb24odmVydGV4QSwgdmVydGV4Qikge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3Rvci5hbmdsZShjZW50cmUsIHZlcnRleEEpIC0gVmVjdG9yLmFuZ2xlKGNlbnRyZSwgdmVydGV4Qik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB2ZXJ0aWNlcyBmb3JtIGEgY29udmV4IHNoYXBlICh2ZXJ0aWNlcyBtdXN0IGJlIGluIGNsb2Nrd2lzZSBvcmRlcikuXG4gICAgICogQG1ldGhvZCBpc0NvbnZleFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7Ym9vbH0gYHRydWVgIGlmIHRoZSBgdmVydGljZXNgIGFyZSBjb252ZXgsIGBmYWxzZWAgaWYgbm90IChvciBgbnVsbGAgaWYgbm90IGNvbXB1dGFibGUpLlxuICAgICAqL1xuICAgIFZlcnRpY2VzLmlzQ29udmV4ID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgLy8gaHR0cDovL3BhdWxib3Vya2UubmV0L2dlb21ldHJ5L3BvbHlnb25tZXNoL1xuICAgICAgICAvLyBDb3B5cmlnaHQgKGMpIFBhdWwgQm91cmtlICh1c2UgcGVybWl0dGVkKVxuXG4gICAgICAgIHZhciBmbGFnID0gMCxcbiAgICAgICAgICAgIG4gPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICB6O1xuXG4gICAgICAgIGlmIChuIDwgMylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGogPSAoaSArIDEpICUgbjtcbiAgICAgICAgICAgIGsgPSAoaSArIDIpICUgbjtcbiAgICAgICAgICAgIHogPSAodmVydGljZXNbal0ueCAtIHZlcnRpY2VzW2ldLngpICogKHZlcnRpY2VzW2tdLnkgLSB2ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgIHogLT0gKHZlcnRpY2VzW2pdLnkgLSB2ZXJ0aWNlc1tpXS55KSAqICh2ZXJ0aWNlc1trXS54IC0gdmVydGljZXNbal0ueCk7XG5cbiAgICAgICAgICAgIGlmICh6IDwgMCkge1xuICAgICAgICAgICAgICAgIGZsYWcgfD0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeiA+IDApIHtcbiAgICAgICAgICAgICAgICBmbGFnIHw9IDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZsYWcgIT09IDApe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgaW5wdXQgdmVydGljZXMgYXMgYSBuZXcgYXJyYXkgb2YgcG9pbnRzLlxuICAgICAqIEBtZXRob2QgaHVsbFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiBbdmVydGV4XSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIFZlcnRpY2VzLmh1bGwgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICAvLyBodHRwOi8vZ2VvbWFsZ29yaXRobXMuY29tL2ExMC1faHVsbC0xLmh0bWxcblxuICAgICAgICB2YXIgdXBwZXIgPSBbXSxcbiAgICAgICAgICAgIGxvd2VyID0gW10sIFxuICAgICAgICAgICAgdmVydGV4LFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyBzb3J0IHZlcnRpY2VzIG9uIHgtYXhpcyAoeS1heGlzIGZvciB0aWVzKVxuICAgICAgICB2ZXJ0aWNlcyA9IHZlcnRpY2VzLnNsaWNlKDApO1xuICAgICAgICB2ZXJ0aWNlcy5zb3J0KGZ1bmN0aW9uKHZlcnRleEEsIHZlcnRleEIpIHtcbiAgICAgICAgICAgIHZhciBkeCA9IHZlcnRleEEueCAtIHZlcnRleEIueDtcbiAgICAgICAgICAgIHJldHVybiBkeCAhPT0gMCA/IGR4IDogdmVydGV4QS55IC0gdmVydGV4Qi55O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBidWlsZCBsb3dlciBodWxsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07XG5cbiAgICAgICAgICAgIHdoaWxlIChsb3dlci5sZW5ndGggPj0gMiBcbiAgICAgICAgICAgICAgICAgICAmJiBWZWN0b3IuY3Jvc3MzKGxvd2VyW2xvd2VyLmxlbmd0aCAtIDJdLCBsb3dlcltsb3dlci5sZW5ndGggLSAxXSwgdmVydGV4KSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgbG93ZXIucG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvd2VyLnB1c2godmVydGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIHVwcGVyIGh1bGxcbiAgICAgICAgZm9yIChpID0gdmVydGljZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICB3aGlsZSAodXBwZXIubGVuZ3RoID49IDIgXG4gICAgICAgICAgICAgICAgICAgJiYgVmVjdG9yLmNyb3NzMyh1cHBlclt1cHBlci5sZW5ndGggLSAyXSwgdXBwZXJbdXBwZXIubGVuZ3RoIC0gMV0sIHZlcnRleCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cHBlci5wdXNoKHZlcnRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25jYXRlbmF0aW9uIG9mIHRoZSBsb3dlciBhbmQgdXBwZXIgaHVsbHMgZ2l2ZXMgdGhlIGNvbnZleCBodWxsXG4gICAgICAgIC8vIG9taXQgbGFzdCBwb2ludHMgYmVjYXVzZSB0aGV5IGFyZSByZXBlYXRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBvdGhlciBsaXN0XG4gICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICBsb3dlci5wb3AoKTtcblxuICAgICAgICByZXR1cm4gdXBwZXIuY29uY2F0KGxvd2VyKTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgcmlnaWQgYm9kaWVzLlxuKiBGb3IgY3JlYXRpbmcgYm9kaWVzIHdpdGggY29tbW9uIGNvbmZpZ3VyYXRpb25zIHN1Y2ggYXMgcmVjdGFuZ2xlcywgY2lyY2xlcyBhbmQgb3RoZXIgcG9seWdvbnMgc2VlIHRoZSBtb2R1bGUgYE1hdHRlci5Cb2RpZXNgLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuXG4qIEBjbGFzcyBCb2R5XG4qL1xuXG52YXIgQm9keSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvZHk7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBTbGVlcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEF4ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgQm9keS5fdGltZUNvcnJlY3Rpb24gPSB0cnVlO1xuICAgIEJvZHkuX2luZXJ0aWFTY2FsZSA9IDQ7XG4gICAgQm9keS5fbmV4dENvbGxpZGluZ0dyb3VwSWQgPSAxO1xuICAgIEJvZHkuX25leHROb25Db2xsaWRpbmdHcm91cElkID0gLTE7XG4gICAgQm9keS5fbmV4dENhdGVnb3J5ID0gMHgwMDAxO1xuICAgIEJvZHkuX2Jhc2VEZWx0YSA9IDEwMDAgLyA2MDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbC4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBWZXJ0aWNlcyBtdXN0IGJlIHNwZWNpZmllZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Ym9keX0gYm9keVxuICAgICAqL1xuICAgIEJvZHkuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBpZDogQ29tbW9uLm5leHRJZCgpLFxuICAgICAgICAgICAgdHlwZTogJ2JvZHknLFxuICAgICAgICAgICAgbGFiZWw6ICdCb2R5JyxcbiAgICAgICAgICAgIHBhcnRzOiBbXSxcbiAgICAgICAgICAgIHBsdWdpbjoge30sXG4gICAgICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aCgnTCAwIDAgTCA0MCAwIEwgNDAgNDAgTCAwIDQwJyksXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBmb3JjZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICB0b3JxdWU6IDAsXG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2U6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgY29uc3RyYWludEltcHVsc2U6IHsgeDogMCwgeTogMCwgYW5nbGU6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsQ29udGFjdHM6IDAsXG4gICAgICAgICAgICBzcGVlZDogMCxcbiAgICAgICAgICAgIGFuZ3VsYXJTcGVlZDogMCxcbiAgICAgICAgICAgIHZlbG9jaXR5OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogMCxcbiAgICAgICAgICAgIGlzU2Vuc29yOiBmYWxzZSxcbiAgICAgICAgICAgIGlzU3RhdGljOiBmYWxzZSxcbiAgICAgICAgICAgIGlzU2xlZXBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgbW90aW9uOiAwLFxuICAgICAgICAgICAgc2xlZXBUaHJlc2hvbGQ6IDYwLFxuICAgICAgICAgICAgZGVuc2l0eTogMC4wMDEsXG4gICAgICAgICAgICByZXN0aXR1dGlvbjogMCxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjEsXG4gICAgICAgICAgICBmcmljdGlvblN0YXRpYzogMC41LFxuICAgICAgICAgICAgZnJpY3Rpb25BaXI6IDAuMDEsXG4gICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogMHgwMDAxLFxuICAgICAgICAgICAgICAgIG1hc2s6IDB4RkZGRkZGRkYsXG4gICAgICAgICAgICAgICAgZ3JvdXA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG9wOiAwLjA1LFxuICAgICAgICAgICAgdGltZVNjYWxlOiAxLFxuICAgICAgICAgICAgcmVuZGVyOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIHhTY2FsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgeVNjYWxlOiAxLFxuICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50czogbnVsbCxcbiAgICAgICAgICAgIGJvdW5kczogbnVsbCxcbiAgICAgICAgICAgIGNoYW1mZXI6IG51bGwsXG4gICAgICAgICAgICBjaXJjbGVSYWRpdXM6IDAsXG4gICAgICAgICAgICBwb3NpdGlvblByZXY6IG51bGwsXG4gICAgICAgICAgICBhbmdsZVByZXY6IDAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBheGVzOiBudWxsLFxuICAgICAgICAgICAgYXJlYTogMCxcbiAgICAgICAgICAgIG1hc3M6IDAsXG4gICAgICAgICAgICBpbmVydGlhOiAwLFxuICAgICAgICAgICAgZGVsdGFUaW1lOiAxMDAwIC8gNjAsXG4gICAgICAgICAgICBfb3JpZ2luYWw6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYm9keSA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIF9pbml0UHJvcGVydGllcyhib2R5LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmV4dCB1bmlxdWUgZ3JvdXAgaW5kZXggZm9yIHdoaWNoIGJvZGllcyB3aWxsIGNvbGxpZGUuXG4gICAgICogSWYgYGlzTm9uQ29sbGlkaW5nYCBpcyBgdHJ1ZWAsIHJldHVybnMgdGhlIG5leHQgdW5pcXVlIGdyb3VwIGluZGV4IGZvciB3aGljaCBib2RpZXMgd2lsbCBfbm90XyBjb2xsaWRlLlxuICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBtZXRob2QgbmV4dEdyb3VwXG4gICAgICogQHBhcmFtIHtib29sfSBbaXNOb25Db2xsaWRpbmc9ZmFsc2VdXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBVbmlxdWUgZ3JvdXAgaW5kZXhcbiAgICAgKi9cbiAgICBCb2R5Lm5leHRHcm91cCA9IGZ1bmN0aW9uKGlzTm9uQ29sbGlkaW5nKSB7XG4gICAgICAgIGlmIChpc05vbkNvbGxpZGluZylcbiAgICAgICAgICAgIHJldHVybiBCb2R5Ll9uZXh0Tm9uQ29sbGlkaW5nR3JvdXBJZC0tO1xuXG4gICAgICAgIHJldHVybiBCb2R5Ll9uZXh0Q29sbGlkaW5nR3JvdXBJZCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBjYXRlZ29yeSBiaXRmaWVsZCAoc3RhcnRpbmcgYWZ0ZXIgdGhlIGluaXRpYWwgZGVmYXVsdCBjYXRlZ29yeSBgMHgwMDAxYCkuXG4gICAgICogVGhlcmUgYXJlIDMyIGF2YWlsYWJsZS4gU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQG1ldGhvZCBuZXh0Q2F0ZWdvcnlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFVuaXF1ZSBjYXRlZ29yeSBiaXRmaWVsZFxuICAgICAqL1xuICAgIEJvZHkubmV4dENhdGVnb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIEJvZHkuX25leHRDYXRlZ29yeSA9IEJvZHkuX25leHRDYXRlZ29yeSA8PCAxO1xuICAgICAgICByZXR1cm4gQm9keS5fbmV4dENhdGVnb3J5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlcyBib2R5IHByb3BlcnRpZXMuXG4gICAgICogQG1ldGhvZCBfaW5pdFByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7fSBbb3B0aW9uc11cbiAgICAgKi9cbiAgICB2YXIgX2luaXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYm9keSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvLyBpbml0IHJlcXVpcmVkIHByb3BlcnRpZXMgKG9yZGVyIGlzIGltcG9ydGFudClcbiAgICAgICAgQm9keS5zZXQoYm9keSwge1xuICAgICAgICAgICAgYm91bmRzOiBib2R5LmJvdW5kcyB8fCBCb3VuZHMuY3JlYXRlKGJvZHkudmVydGljZXMpLFxuICAgICAgICAgICAgcG9zaXRpb25QcmV2OiBib2R5LnBvc2l0aW9uUHJldiB8fCBWZWN0b3IuY2xvbmUoYm9keS5wb3NpdGlvbiksXG4gICAgICAgICAgICBhbmdsZVByZXY6IGJvZHkuYW5nbGVQcmV2IHx8IGJvZHkuYW5nbGUsXG4gICAgICAgICAgICB2ZXJ0aWNlczogYm9keS52ZXJ0aWNlcyxcbiAgICAgICAgICAgIHBhcnRzOiBib2R5LnBhcnRzIHx8IFtib2R5XSxcbiAgICAgICAgICAgIGlzU3RhdGljOiBib2R5LmlzU3RhdGljLFxuICAgICAgICAgICAgaXNTbGVlcGluZzogYm9keS5pc1NsZWVwaW5nLFxuICAgICAgICAgICAgcGFyZW50OiBib2R5LnBhcmVudCB8fCBib2R5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFZlcnRpY2VzLnJvdGF0ZShib2R5LnZlcnRpY2VzLCBib2R5LmFuZ2xlLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgQXhlcy5yb3RhdGUoYm9keS5heGVzLCBib2R5LmFuZ2xlKTtcbiAgICAgICAgQm91bmRzLnVwZGF0ZShib2R5LmJvdW5kcywgYm9keS52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG5cbiAgICAgICAgLy8gYWxsb3cgb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIHByb3BlcnRpZXNcbiAgICAgICAgQm9keS5zZXQoYm9keSwge1xuICAgICAgICAgICAgYXhlczogb3B0aW9ucy5heGVzIHx8IGJvZHkuYXhlcyxcbiAgICAgICAgICAgIGFyZWE6IG9wdGlvbnMuYXJlYSB8fCBib2R5LmFyZWEsXG4gICAgICAgICAgICBtYXNzOiBvcHRpb25zLm1hc3MgfHwgYm9keS5tYXNzLFxuICAgICAgICAgICAgaW5lcnRpYTogb3B0aW9ucy5pbmVydGlhIHx8IGJvZHkuaW5lcnRpYVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW5kZXIgcHJvcGVydGllc1xuICAgICAgICB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9IChib2R5LmlzU3RhdGljID8gJyMxNDE1MWYnIDogQ29tbW9uLmNob29zZShbJyNmMTk2NDgnLCAnI2Y1ZDI1OScsICcjZjU1YTNjJywgJyMwNjNlN2InLCAnI2VjZWNkMSddKSksXG4gICAgICAgICAgICBkZWZhdWx0U3Ryb2tlU3R5bGUgPSBib2R5LmlzU3RhdGljID8gJyM1NTUnIDogJyNjY2MnLFxuICAgICAgICAgICAgZGVmYXVsdExpbmVXaWR0aCA9IGJvZHkuaXNTdGF0aWMgJiYgYm9keS5yZW5kZXIuZmlsbFN0eWxlID09PSBudWxsID8gMSA6IDA7XG4gICAgICAgIGJvZHkucmVuZGVyLmZpbGxTdHlsZSA9IGJvZHkucmVuZGVyLmZpbGxTdHlsZSB8fCBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgICBib2R5LnJlbmRlci5zdHJva2VTdHlsZSA9IGJvZHkucmVuZGVyLnN0cm9rZVN0eWxlIHx8IGRlZmF1bHRTdHJva2VTdHlsZTtcbiAgICAgICAgYm9keS5yZW5kZXIubGluZVdpZHRoID0gYm9keS5yZW5kZXIubGluZVdpZHRoIHx8IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICAgIGJvZHkucmVuZGVyLnNwcml0ZS54T2Zmc2V0ICs9IC0oYm9keS5ib3VuZHMubWluLnggLSBib2R5LnBvc2l0aW9uLngpIC8gKGJvZHkuYm91bmRzLm1heC54IC0gYm9keS5ib3VuZHMubWluLngpO1xuICAgICAgICBib2R5LnJlbmRlci5zcHJpdGUueU9mZnNldCArPSAtKGJvZHkuYm91bmRzLm1pbi55IC0gYm9keS5wb3NpdGlvbi55KSAvIChib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkuYm91bmRzLm1pbi55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBwcm9wZXJ0eSBhbmQgYSB2YWx1ZSAob3IgbWFwIG9mKSwgc2V0cyB0aGUgcHJvcGVydHkocykgb24gdGhlIGJvZHksIHVzaW5nIHRoZSBhcHByb3ByaWF0ZSBzZXR0ZXIgZnVuY3Rpb25zIGlmIHRoZXkgZXhpc3QuXG4gICAgICogUHJlZmVyIHRvIHVzZSB0aGUgYWN0dWFsIHNldHRlciBmdW5jdGlvbnMgaW4gcGVyZm9ybWFuY2UgY3JpdGljYWwgc2l0dWF0aW9ucy5cbiAgICAgKiBAbWV0aG9kIHNldFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7fSBzZXR0aW5ncyBBIHByb3BlcnR5IG5hbWUgKG9yIG1hcCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMpIHRvIHNldCBvbiB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0ge30gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCBpZiBgc2V0dGluZ3NgIGlzIGEgc2luZ2xlIHByb3BlcnR5IG5hbWUuXG4gICAgICovXG4gICAgQm9keS5zZXQgPSBmdW5jdGlvbihib2R5LCBzZXR0aW5ncywgdmFsdWUpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5O1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHNldHRpbmdzO1xuICAgICAgICAgICAgc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgICAgIHNldHRpbmdzW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2V0dGluZ3MsIHByb3BlcnR5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFsdWUgPSBzZXR0aW5nc1twcm9wZXJ0eV07XG4gICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2lzU3RhdGljJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFN0YXRpYyhib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc1NsZWVwaW5nJzpcbiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWFzcyc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RlbnNpdHknOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0RGVuc2l0eShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbmVydGlhJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndmVydGljZXMnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0VmVydGljZXMoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYW5nbGUnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0QW5nbGUoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndmVsb2NpdHknOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0VmVsb2NpdHkoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYW5ndWxhclZlbG9jaXR5JzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzcGVlZCc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRTcGVlZChib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhbmd1bGFyU3BlZWQnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0QW5ndWxhclNwZWVkKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BhcnRzJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFBhcnRzKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NlbnRyZSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRDZW50cmUoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBib2R5W3Byb3BlcnR5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYm9keSBhcyBzdGF0aWMsIGluY2x1ZGluZyBpc1N0YXRpYyBmbGFnIGFuZCBzZXR0aW5nIG1hc3MgYW5kIGluZXJ0aWEgdG8gSW5maW5pdHkuXG4gICAgICogQG1ldGhvZCBzZXRTdGF0aWNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzU3RhdGljXG4gICAgICovXG4gICAgQm9keS5zZXRTdGF0aWMgPSBmdW5jdGlvbihib2R5LCBpc1N0YXRpYykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcbiAgICAgICAgICAgIHBhcnQuaXNTdGF0aWMgPSBpc1N0YXRpYztcblxuICAgICAgICAgICAgaWYgKGlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgcGFydC5fb3JpZ2luYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiBwYXJ0LnJlc3RpdHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmcmljdGlvbjogcGFydC5mcmljdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWFzczogcGFydC5tYXNzLFxuICAgICAgICAgICAgICAgICAgICBpbmVydGlhOiBwYXJ0LmluZXJ0aWEsXG4gICAgICAgICAgICAgICAgICAgIGRlbnNpdHk6IHBhcnQuZGVuc2l0eSxcbiAgICAgICAgICAgICAgICAgICAgaW52ZXJzZU1hc3M6IHBhcnQuaW52ZXJzZU1hc3MsXG4gICAgICAgICAgICAgICAgICAgIGludmVyc2VJbmVydGlhOiBwYXJ0LmludmVyc2VJbmVydGlhXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHBhcnQucmVzdGl0dXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuZnJpY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuaW5lcnRpYSA9IHBhcnQuZGVuc2l0eSA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZU1hc3MgPSBwYXJ0LmludmVyc2VJbmVydGlhID0gMDtcblxuICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb25QcmV2LnggPSBwYXJ0LnBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvblByZXYueSA9IHBhcnQucG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICBwYXJ0LmFuZ2xlUHJldiA9IHBhcnQuYW5nbGU7XG4gICAgICAgICAgICAgICAgcGFydC5hbmd1bGFyVmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuc3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuYW5ndWxhclNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICBwYXJ0Lm1vdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQuX29yaWdpbmFsKSB7XG4gICAgICAgICAgICAgICAgcGFydC5yZXN0aXR1dGlvbiA9IHBhcnQuX29yaWdpbmFsLnJlc3RpdHV0aW9uO1xuICAgICAgICAgICAgICAgIHBhcnQuZnJpY3Rpb24gPSBwYXJ0Ll9vcmlnaW5hbC5mcmljdGlvbjtcbiAgICAgICAgICAgICAgICBwYXJ0Lm1hc3MgPSBwYXJ0Ll9vcmlnaW5hbC5tYXNzO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5lcnRpYSA9IHBhcnQuX29yaWdpbmFsLmluZXJ0aWE7XG4gICAgICAgICAgICAgICAgcGFydC5kZW5zaXR5ID0gcGFydC5fb3JpZ2luYWwuZGVuc2l0eTtcbiAgICAgICAgICAgICAgICBwYXJ0LmludmVyc2VNYXNzID0gcGFydC5fb3JpZ2luYWwuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgcGFydC5pbnZlcnNlSW5lcnRpYSA9IHBhcnQuX29yaWdpbmFsLmludmVyc2VJbmVydGlhO1xuXG4gICAgICAgICAgICAgICAgcGFydC5fb3JpZ2luYWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hc3Mgb2YgdGhlIGJvZHkuIEludmVyc2UgbWFzcywgZGVuc2l0eSBhbmQgaW5lcnRpYSBhcmUgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS5cbiAgICAgKiBAbWV0aG9kIHNldE1hc3NcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICAgICAqL1xuICAgIEJvZHkuc2V0TWFzcyA9IGZ1bmN0aW9uKGJvZHksIG1hc3MpIHtcbiAgICAgICAgdmFyIG1vbWVudCA9IGJvZHkuaW5lcnRpYSAvIChib2R5Lm1hc3MgLyA2KTtcbiAgICAgICAgYm9keS5pbmVydGlhID0gbW9tZW50ICogKG1hc3MgLyA2KTtcbiAgICAgICAgYm9keS5pbnZlcnNlSW5lcnRpYSA9IDEgLyBib2R5LmluZXJ0aWE7XG5cbiAgICAgICAgYm9keS5tYXNzID0gbWFzcztcbiAgICAgICAgYm9keS5pbnZlcnNlTWFzcyA9IDEgLyBib2R5Lm1hc3M7XG4gICAgICAgIGJvZHkuZGVuc2l0eSA9IGJvZHkubWFzcyAvIGJvZHkuYXJlYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGVuc2l0eSBvZiB0aGUgYm9keS4gTWFzcyBhbmQgaW5lcnRpYSBhcmUgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS5cbiAgICAgKiBAbWV0aG9kIHNldERlbnNpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVuc2l0eVxuICAgICAqL1xuICAgIEJvZHkuc2V0RGVuc2l0eSA9IGZ1bmN0aW9uKGJvZHksIGRlbnNpdHkpIHtcbiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIGRlbnNpdHkgKiBib2R5LmFyZWEpO1xuICAgICAgICBib2R5LmRlbnNpdHkgPSBkZW5zaXR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb21lbnQgb2YgaW5lcnRpYSBvZiB0aGUgYm9keS4gVGhpcyBpcyB0aGUgc2Vjb25kIG1vbWVudCBvZiBhcmVhIGluIHR3byBkaW1lbnNpb25zLlxuICAgICAqIEludmVyc2UgaW5lcnRpYSBpcyBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgY2hhbmdlLiBNYXNzIGlzIG5vdCBjaGFuZ2VkLlxuICAgICAqIEBtZXRob2Qgc2V0SW5lcnRpYVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmVydGlhXG4gICAgICovXG4gICAgQm9keS5zZXRJbmVydGlhID0gZnVuY3Rpb24oYm9keSwgaW5lcnRpYSkge1xuICAgICAgICBib2R5LmluZXJ0aWEgPSBpbmVydGlhO1xuICAgICAgICBib2R5LmludmVyc2VJbmVydGlhID0gMSAvIGJvZHkuaW5lcnRpYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYm9keSdzIHZlcnRpY2VzIGFuZCB1cGRhdGVzIGJvZHkgcHJvcGVydGllcyBhY2NvcmRpbmdseSwgaW5jbHVkaW5nIGluZXJ0aWEsIGFyZWEgYW5kIG1hc3MgKHdpdGggcmVzcGVjdCB0byBgYm9keS5kZW5zaXR5YCkuXG4gICAgICogVmVydGljZXMgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHRyYW5zZm9ybWVkIHRvIGJlIG9yaWVudGF0ZWQgYXJvdW5kIHRoZWlyIGNlbnRyZSBvZiBtYXNzIGFzIHRoZSBvcmlnaW4uXG4gICAgICogVGhleSBhcmUgdGhlbiBhdXRvbWF0aWNhbGx5IHRyYW5zbGF0ZWQgdG8gd29ybGQgc3BhY2UgYmFzZWQgb24gYGJvZHkucG9zaXRpb25gLlxuICAgICAqXG4gICAgICogVGhlIGB2ZXJ0aWNlc2AgYXJndW1lbnQgc2hvdWxkIGJlIHBhc3NlZCBhcyBhbiBhcnJheSBvZiBgTWF0dGVyLlZlY3RvcmAgcG9pbnRzIChvciBhIGBNYXR0ZXIuVmVydGljZXNgIGFycmF5KS5cbiAgICAgKiBWZXJ0aWNlcyBtdXN0IGZvcm0gYSBjb252ZXggaHVsbC4gQ29uY2F2ZSB2ZXJ0aWNlcyBtdXN0IGJlIGRlY29tcG9zZWQgaW50byBjb252ZXggcGFydHMuXG4gICAgICogXG4gICAgICogQG1ldGhvZCBzZXRWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yW119IHZlcnRpY2VzXG4gICAgICovXG4gICAgQm9keS5zZXRWZXJ0aWNlcyA9IGZ1bmN0aW9uKGJvZHksIHZlcnRpY2VzKSB7XG4gICAgICAgIC8vIGNoYW5nZSB2ZXJ0aWNlc1xuICAgICAgICBpZiAodmVydGljZXNbMF0uYm9keSA9PT0gYm9keSkge1xuICAgICAgICAgICAgYm9keS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNyZWF0ZSh2ZXJ0aWNlcywgYm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgcHJvcGVydGllc1xuICAgICAgICBib2R5LmF4ZXMgPSBBeGVzLmZyb21WZXJ0aWNlcyhib2R5LnZlcnRpY2VzKTtcbiAgICAgICAgYm9keS5hcmVhID0gVmVydGljZXMuYXJlYShib2R5LnZlcnRpY2VzKTtcbiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIGJvZHkuZGVuc2l0eSAqIGJvZHkuYXJlYSk7XG5cbiAgICAgICAgLy8gb3JpZW50IHZlcnRpY2VzIGFyb3VuZCB0aGUgY2VudHJlIG9mIG1hc3MgYXQgb3JpZ2luICgwLCAwKVxuICAgICAgICB2YXIgY2VudHJlID0gVmVydGljZXMuY2VudHJlKGJvZHkudmVydGljZXMpO1xuICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUoYm9keS52ZXJ0aWNlcywgY2VudHJlLCAtMSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGluZXJ0aWEgd2hpbGUgdmVydGljZXMgYXJlIGF0IG9yaWdpbiAoMCwgMClcbiAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIEJvZHkuX2luZXJ0aWFTY2FsZSAqIFZlcnRpY2VzLmluZXJ0aWEoYm9keS52ZXJ0aWNlcywgYm9keS5tYXNzKSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGdlb21ldHJ5XG4gICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgQm91bmRzLnVwZGF0ZShib2R5LmJvdW5kcywgYm9keS52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBhcnRzIG9mIHRoZSBgYm9keWAgYW5kIHVwZGF0ZXMgbWFzcywgaW5lcnRpYSBhbmQgY2VudHJvaWQuXG4gICAgICogRWFjaCBwYXJ0IHdpbGwgaGF2ZSBpdHMgcGFyZW50IHNldCB0byBgYm9keWAuXG4gICAgICogQnkgZGVmYXVsdCB0aGUgY29udmV4IGh1bGwgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGNvbXB1dGVkIGFuZCBzZXQgb24gYGJvZHlgLCB1bmxlc3MgYGF1dG9IdWxsYCBpcyBzZXQgdG8gYGZhbHNlLmBcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgd2lsbCBlbnN1cmUgdGhhdCB0aGUgZmlyc3QgcGFydCBpbiBgYm9keS5wYXJ0c2Agd2lsbCBhbHdheXMgYmUgdGhlIGBib2R5YC5cbiAgICAgKiBAbWV0aG9kIHNldFBhcnRzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib2R5W119IHBhcnRzXG4gICAgICogQHBhcmFtIHtib29sfSBbYXV0b0h1bGw9dHJ1ZV1cbiAgICAgKi9cbiAgICBCb2R5LnNldFBhcnRzID0gZnVuY3Rpb24oYm9keSwgcGFydHMsIGF1dG9IdWxsKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIC8vIGFkZCBhbGwgdGhlIHBhcnRzLCBlbnN1cmluZyB0aGF0IHRoZSBmaXJzdCBwYXJ0IGlzIGFsd2F5cyB0aGUgcGFyZW50IGJvZHlcbiAgICAgICAgcGFydHMgPSBwYXJ0cy5zbGljZSgwKTtcbiAgICAgICAgYm9keS5wYXJ0cy5sZW5ndGggPSAwO1xuICAgICAgICBib2R5LnBhcnRzLnB1c2goYm9keSk7XG4gICAgICAgIGJvZHkucGFyZW50ID0gYm9keTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gYm9keSkge1xuICAgICAgICAgICAgICAgIHBhcnQucGFyZW50ID0gYm9keTtcbiAgICAgICAgICAgICAgICBib2R5LnBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm9keS5wYXJ0cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgYXV0b0h1bGwgPSB0eXBlb2YgYXV0b0h1bGwgIT09ICd1bmRlZmluZWQnID8gYXV0b0h1bGwgOiB0cnVlO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIGNvbnZleCBodWxsIG9mIGFsbCBwYXJ0cyB0byBzZXQgb24gdGhlIHBhcmVudCBib2R5XG4gICAgICAgIGlmIChhdXRvSHVsbCkge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IHZlcnRpY2VzLmNvbmNhdChwYXJ0c1tpXS52ZXJ0aWNlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFZlcnRpY2VzLmNsb2Nrd2lzZVNvcnQodmVydGljZXMpO1xuXG4gICAgICAgICAgICB2YXIgaHVsbCA9IFZlcnRpY2VzLmh1bGwodmVydGljZXMpLFxuICAgICAgICAgICAgICAgIGh1bGxDZW50cmUgPSBWZXJ0aWNlcy5jZW50cmUoaHVsbCk7XG5cbiAgICAgICAgICAgIEJvZHkuc2V0VmVydGljZXMoYm9keSwgaHVsbCk7XG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUoYm9keS52ZXJ0aWNlcywgaHVsbENlbnRyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdW0gdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICB2YXIgdG90YWwgPSBCb2R5Ll90b3RhbFByb3BlcnRpZXMoYm9keSk7XG5cbiAgICAgICAgYm9keS5hcmVhID0gdG90YWwuYXJlYTtcbiAgICAgICAgYm9keS5wYXJlbnQgPSBib2R5O1xuICAgICAgICBib2R5LnBvc2l0aW9uLnggPSB0b3RhbC5jZW50cmUueDtcbiAgICAgICAgYm9keS5wb3NpdGlvbi55ID0gdG90YWwuY2VudHJlLnk7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSB0b3RhbC5jZW50cmUueDtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IHRvdGFsLmNlbnRyZS55O1xuXG4gICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCB0b3RhbC5tYXNzKTtcbiAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHRvdGFsLmluZXJ0aWEpO1xuICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHRvdGFsLmNlbnRyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2VudHJlIG9mIG1hc3Mgb2YgdGhlIGJvZHkuIFxuICAgICAqIFRoZSBgY2VudHJlYCBpcyBhIHZlY3RvciBpbiB3b3JsZC1zcGFjZSB1bmxlc3MgYHJlbGF0aXZlYCBpcyBzZXQsIGluIHdoaWNoIGNhc2UgaXQgaXMgYSB0cmFuc2xhdGlvbi5cbiAgICAgKiBUaGUgY2VudHJlIG9mIG1hc3MgaXMgdGhlIHBvaW50IHRoZSBib2R5IHJvdGF0ZXMgYWJvdXQgYW5kIGNhbiBiZSB1c2VkIHRvIHNpbXVsYXRlIG5vbi11bmlmb3JtIGRlbnNpdHkuXG4gICAgICogVGhpcyBpcyBlcXVhbCB0byBtb3ZpbmcgYGJvZHkucG9zaXRpb25gIGJ1dCBub3QgdGhlIGBib2R5LnZlcnRpY2VzYC5cbiAgICAgKiBJbnZhbGlkIGlmIHRoZSBgY2VudHJlYCBmYWxscyBvdXRzaWRlIHRoZSBib2R5J3MgY29udmV4IGh1bGwuXG4gICAgICogQG1ldGhvZCBzZXRDZW50cmVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gY2VudHJlXG4gICAgICogQHBhcmFtIHtib29sfSByZWxhdGl2ZVxuICAgICAqL1xuICAgIEJvZHkuc2V0Q2VudHJlID0gZnVuY3Rpb24oYm9keSwgY2VudHJlLCByZWxhdGl2ZSkge1xuICAgICAgICBpZiAoIXJlbGF0aXZlKSB7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gY2VudHJlLnggLSAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCk7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gY2VudHJlLnkgLSAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSk7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnggPSBjZW50cmUueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueSA9IGNlbnRyZS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCArPSBjZW50cmUueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgKz0gY2VudHJlLnk7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnggKz0gY2VudHJlLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnkgKz0gY2VudHJlLnk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkuIEJ5IGRlZmF1bHQgdmVsb2NpdHkgaXMgdW5jaGFuZ2VkLlxuICAgICAqIElmIGB1cGRhdGVWZWxvY2l0eWAgaXMgYHRydWVgIHRoZW4gdmVsb2NpdHkgaXMgaW5mZXJyZWQgZnJvbSB0aGUgY2hhbmdlIGluIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2Qgc2V0UG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVWZWxvY2l0eT1mYWxzZV1cbiAgICAgKi9cbiAgICBCb2R5LnNldFBvc2l0aW9uID0gZnVuY3Rpb24oYm9keSwgcG9zaXRpb24sIHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgIHZhciBkZWx0YSA9IFZlY3Rvci5zdWIocG9zaXRpb24sIGJvZHkucG9zaXRpb24pO1xuXG4gICAgICAgIGlmICh1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBib2R5LnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBib2R5LnZlbG9jaXR5LnggPSBkZWx0YS54O1xuICAgICAgICAgICAgYm9keS52ZWxvY2l0eS55ID0gZGVsdGEueTtcbiAgICAgICAgICAgIGJvZHkuc3BlZWQgPSBWZWN0b3IubWFnbml0dWRlKGRlbHRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gZGVsdGEueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgKz0gZGVsdGEueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldO1xuICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGRlbHRhLng7XG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gZGVsdGEueTtcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBkZWx0YSk7XG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbmdsZSBvZiB0aGUgYm9keS4gQnkgZGVmYXVsdCBhbmd1bGFyIHZlbG9jaXR5IGlzIHVuY2hhbmdlZC5cbiAgICAgKiBJZiBgdXBkYXRlVmVsb2NpdHlgIGlzIGB0cnVlYCB0aGVuIGFuZ3VsYXIgdmVsb2NpdHkgaXMgaW5mZXJyZWQgZnJvbSB0aGUgY2hhbmdlIGluIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgc2V0QW5nbGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVWZWxvY2l0eT1mYWxzZV1cbiAgICAgKi9cbiAgICBCb2R5LnNldEFuZ2xlID0gZnVuY3Rpb24oYm9keSwgYW5nbGUsIHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gYm9keS5hbmdsZTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlO1xuICAgICAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkgPSBkZWx0YTtcbiAgICAgICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gTWF0aC5hYnMoZGVsdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5hbmdsZVByZXYgKz0gZGVsdGE7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcbiAgICAgICAgICAgIHBhcnQuYW5nbGUgKz0gZGVsdGE7XG4gICAgICAgICAgICBWZXJ0aWNlcy5yb3RhdGUocGFydC52ZXJ0aWNlcywgZGVsdGEsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBkZWx0YSk7XG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBkZWx0YSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBsaW5lYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBBZmZlY3RzIGJvZHkgc3BlZWQuXG4gICAgICogQG1ldGhvZCBzZXRWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWxvY2l0eVxuICAgICAqL1xuICAgIEJvZHkuc2V0VmVsb2NpdHkgPSBmdW5jdGlvbihib2R5LCB2ZWxvY2l0eSkge1xuICAgICAgICB2YXIgdGltZVNjYWxlID0gYm9keS5kZWx0YVRpbWUgLyBCb2R5Ll9iYXNlRGVsdGE7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLnggLSB2ZWxvY2l0eS54ICogdGltZVNjYWxlO1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55IC0gdmVsb2NpdHkueSAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpIC8gdGltZVNjYWxlO1xuICAgICAgICBib2R5LnZlbG9jaXR5LnkgPSAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSkgLyB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkuc3BlZWQgPSBWZWN0b3IubWFnbml0dWRlKGJvZHkudmVsb2NpdHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IGxpbmVhciB2ZWxvY2l0eSBvZiB0aGUgYm9keS5cbiAgICAgKiBAbWV0aG9kIGdldFZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7dmVjdG9yfSB2ZWxvY2l0eVxuICAgICAqL1xuICAgIEJvZHkuZ2V0VmVsb2NpdHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBCb2R5Ll9iYXNlRGVsdGEgLyBib2R5LmRlbHRhVGltZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpICogdGltZVNjYWxlLFxuICAgICAgICAgICAgeTogKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpICogdGltZVNjYWxlXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgbGluZWFyIHNwZWVkIG9mIHRoZSBib2R5LiAgXG4gICAgICogRXF1aXZhbGVudCB0byB0aGUgbWFnbml0dWRlIG9mIGl0cyB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIGdldFNwZWVkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBzcGVlZFxuICAgICAqL1xuICAgIEJvZHkuZ2V0U3BlZWQgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IubWFnbml0dWRlKEJvZHkuZ2V0VmVsb2NpdHkoYm9keSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGxpbmVhciBzcGVlZCBvZiB0aGUgYm9keS4gIFxuICAgICAqIERpcmVjdGlvbiBpcyBtYWludGFpbmVkLiBBZmZlY3RzIGJvZHkgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCBzZXRTcGVlZFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFxuICAgICAqL1xuICAgIEJvZHkuc2V0U3BlZWQgPSBmdW5jdGlvbihib2R5LCBzcGVlZCkge1xuICAgICAgICBCb2R5LnNldFZlbG9jaXR5KGJvZHksIFZlY3Rvci5tdWx0KFZlY3Rvci5ub3JtYWxpc2UoQm9keS5nZXRWZWxvY2l0eShib2R5KSksIHNwZWVkKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiB0aGUgYm9keS4gIFxuICAgICAqIEFmZmVjdHMgYm9keSBhbmd1bGFyIHNwZWVkLlxuICAgICAqIEBtZXRob2Qgc2V0QW5ndWxhclZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkgPSBmdW5jdGlvbihib2R5LCB2ZWxvY2l0eSkge1xuICAgICAgICB2YXIgdGltZVNjYWxlID0gYm9keS5kZWx0YVRpbWUgLyBCb2R5Ll9iYXNlRGVsdGE7XG4gICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZSAtIHZlbG9jaXR5ICogdGltZVNjYWxlO1xuICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IChib2R5LmFuZ2xlIC0gYm9keS5hbmdsZVByZXYpIC8gdGltZVNjYWxlO1xuICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IE1hdGguYWJzKGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCByb3RhdGlvbmFsIHZlbG9jaXR5IG9mIHRoZSBib2R5LlxuICAgICAqIEBtZXRob2QgZ2V0QW5ndWxhclZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBhbmd1bGFyIHZlbG9jaXR5XG4gICAgICovXG4gICAgQm9keS5nZXRBbmd1bGFyVmVsb2NpdHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIHJldHVybiAoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAqIEJvZHkuX2Jhc2VEZWx0YSAvIGJvZHkuZGVsdGFUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBFcXVpdmFsZW50IHRvIHRoZSBtYWduaXR1ZGUgb2YgaXRzIGFuZ3VsYXIgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCBnZXRBbmd1bGFyU3BlZWRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGFuZ3VsYXIgc3BlZWRcbiAgICAgKi9cbiAgICBCb2R5LmdldEFuZ3VsYXJTcGVlZCA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKEJvZHkuZ2V0QW5ndWxhclZlbG9jaXR5KGJvZHkpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBib2R5LiAgXG4gICAgICogRGlyZWN0aW9uIGlzIG1haW50YWluZWQuIEFmZmVjdHMgYm9keSBhbmd1bGFyIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2Qgc2V0QW5ndWxhclNwZWVkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkXG4gICAgICovXG4gICAgQm9keS5zZXRBbmd1bGFyU3BlZWQgPSBmdW5jdGlvbihib2R5LCBzcGVlZCkge1xuICAgICAgICBCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eShib2R5LCBDb21tb24uc2lnbihCb2R5LmdldEFuZ3VsYXJWZWxvY2l0eShib2R5KSkgKiBzcGVlZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgYm9keSBieSBhIGdpdmVuIHZlY3RvciByZWxhdGl2ZSB0byBpdHMgY3VycmVudCBwb3NpdGlvbi4gQnkgZGVmYXVsdCB2ZWxvY2l0eSBpcyB1bmNoYW5nZWQuXG4gICAgICogSWYgYHVwZGF0ZVZlbG9jaXR5YCBpcyBgdHJ1ZWAgdGhlbiB2ZWxvY2l0eSBpcyBpbmZlcnJlZCBmcm9tIHRoZSBjaGFuZ2UgaW4gcG9zaXRpb24uXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVWZWxvY2l0eT1mYWxzZV1cbiAgICAgKi9cbiAgICBCb2R5LnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGJvZHksIHRyYW5zbGF0aW9uLCB1cGRhdGVWZWxvY2l0eSkge1xuICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIFZlY3Rvci5hZGQoYm9keS5wb3NpdGlvbiwgdHJhbnNsYXRpb24pLCB1cGRhdGVWZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYSBib2R5IGJ5IGEgZ2l2ZW4gYW5nbGUgcmVsYXRpdmUgdG8gaXRzIGN1cnJlbnQgYW5nbGUuIEJ5IGRlZmF1bHQgYW5ndWxhciB2ZWxvY2l0eSBpcyB1bmNoYW5nZWQuXG4gICAgICogSWYgYHVwZGF0ZVZlbG9jaXR5YCBpcyBgdHJ1ZWAgdGhlbiBhbmd1bGFyIHZlbG9jaXR5IGlzIGluZmVycmVkIGZyb20gdGhlIGNoYW5nZSBpbiBhbmdsZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbcG9pbnRdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlVmVsb2NpdHk9ZmFsc2VdXG4gICAgICovXG4gICAgQm9keS5yb3RhdGUgPSBmdW5jdGlvbihib2R5LCByb3RhdGlvbiwgcG9pbnQsIHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIEJvZHkuc2V0QW5nbGUoYm9keSwgYm9keS5hbmdsZSArIHJvdGF0aW9uLCB1cGRhdGVWZWxvY2l0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocm90YXRpb24pLFxuICAgICAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKHJvdGF0aW9uKSxcbiAgICAgICAgICAgICAgICBkeCA9IGJvZHkucG9zaXRpb24ueCAtIHBvaW50LngsXG4gICAgICAgICAgICAgICAgZHkgPSBib2R5LnBvc2l0aW9uLnkgLSBwb2ludC55O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCArIChkeCAqIGNvcyAtIGR5ICogc2luKSxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC55ICsgKGR4ICogc2luICsgZHkgKiBjb3MpXG4gICAgICAgICAgICB9LCB1cGRhdGVWZWxvY2l0eSk7XG5cbiAgICAgICAgICAgIEJvZHkuc2V0QW5nbGUoYm9keSwgYm9keS5hbmdsZSArIHJvdGF0aW9uLCB1cGRhdGVWZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIHRoZSBib2R5LCBpbmNsdWRpbmcgdXBkYXRpbmcgcGh5c2ljYWwgcHJvcGVydGllcyAobWFzcywgYXJlYSwgYXhlcywgaW5lcnRpYSksIGZyb20gYSB3b3JsZC1zcGFjZSBwb2ludCAoZGVmYXVsdCBpcyBib2R5IGNlbnRyZSkuXG4gICAgICogQG1ldGhvZCBzY2FsZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtwb2ludF1cbiAgICAgKi9cbiAgICBCb2R5LnNjYWxlID0gZnVuY3Rpb24oYm9keSwgc2NhbGVYLCBzY2FsZVksIHBvaW50KSB7XG4gICAgICAgIHZhciB0b3RhbEFyZWEgPSAwLFxuICAgICAgICAgICAgdG90YWxJbmVydGlhID0gMDtcblxuICAgICAgICBwb2ludCA9IHBvaW50IHx8IGJvZHkucG9zaXRpb247XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG5cbiAgICAgICAgICAgIC8vIHNjYWxlIHZlcnRpY2VzXG4gICAgICAgICAgICBWZXJ0aWNlcy5zY2FsZShwYXJ0LnZlcnRpY2VzLCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgcHJvcGVydGllc1xuICAgICAgICAgICAgcGFydC5heGVzID0gQXhlcy5mcm9tVmVydGljZXMocGFydC52ZXJ0aWNlcyk7XG4gICAgICAgICAgICBwYXJ0LmFyZWEgPSBWZXJ0aWNlcy5hcmVhKHBhcnQudmVydGljZXMpO1xuICAgICAgICAgICAgQm9keS5zZXRNYXNzKHBhcnQsIGJvZHkuZGVuc2l0eSAqIHBhcnQuYXJlYSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBpbmVydGlhIChyZXF1aXJlcyB2ZXJ0aWNlcyB0byBiZSBhdCBvcmlnaW4pXG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgeyB4OiAtcGFydC5wb3NpdGlvbi54LCB5OiAtcGFydC5wb3NpdGlvbi55IH0pO1xuICAgICAgICAgICAgQm9keS5zZXRJbmVydGlhKHBhcnQsIEJvZHkuX2luZXJ0aWFTY2FsZSAqIFZlcnRpY2VzLmluZXJ0aWEocGFydC52ZXJ0aWNlcywgcGFydC5tYXNzKSk7XG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgeyB4OiBwYXJ0LnBvc2l0aW9uLngsIHk6IHBhcnQucG9zaXRpb24ueSB9KTtcblxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdG90YWxBcmVhICs9IHBhcnQuYXJlYTtcbiAgICAgICAgICAgICAgICB0b3RhbEluZXJ0aWEgKz0gcGFydC5pbmVydGlhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzY2FsZSBwb3NpdGlvblxuICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ID0gcG9pbnQueCArIChwYXJ0LnBvc2l0aW9uLnggLSBwb2ludC54KSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSA9IHBvaW50LnkgKyAocGFydC5wb3NpdGlvbi55IC0gcG9pbnQueSkgKiBzY2FsZVk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBib3VuZHNcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIHBhcmVudCBib2R5XG4gICAgICAgIGlmIChib2R5LnBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGJvZHkuYXJlYSA9IHRvdGFsQXJlYTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LmlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIGJvZHkuZGVuc2l0eSAqIHRvdGFsQXJlYSk7XG4gICAgICAgICAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHRvdGFsSW5lcnRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgY2lyY2xlc1xuICAgICAgICBpZiAoYm9keS5jaXJjbGVSYWRpdXMpIHsgXG4gICAgICAgICAgICBpZiAoc2NhbGVYID09PSBzY2FsZVkpIHtcbiAgICAgICAgICAgICAgICBib2R5LmNpcmNsZVJhZGl1cyAqPSBzY2FsZVg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJvZHkgaXMgbm8gbG9uZ2VyIGEgY2lyY2xlXG4gICAgICAgICAgICAgICAgYm9keS5jaXJjbGVSYWRpdXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIHVwZGF0ZSBieSBpbnRlZ3JhdGluZyB0aGUgZXF1YXRpb25zIG9mIG1vdGlvbiBvbiB0aGUgYGJvZHlgLlxuICAgICAqIFRoaXMgaXMgYXBwbGllZCBldmVyeSB1cGRhdGUgYnkgYE1hdHRlci5FbmdpbmVgIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0xNi42NjZdXG4gICAgICovXG4gICAgQm9keS51cGRhdGUgPSBmdW5jdGlvbihib2R5LCBkZWx0YVRpbWUpIHtcbiAgICAgICAgZGVsdGFUaW1lID0gKHR5cGVvZiBkZWx0YVRpbWUgIT09ICd1bmRlZmluZWQnID8gZGVsdGFUaW1lIDogKDEwMDAgLyA2MCkpICogYm9keS50aW1lU2NhbGU7XG5cbiAgICAgICAgdmFyIGRlbHRhVGltZVNxdWFyZWQgPSBkZWx0YVRpbWUgKiBkZWx0YVRpbWUsXG4gICAgICAgICAgICBjb3JyZWN0aW9uID0gQm9keS5fdGltZUNvcnJlY3Rpb24gPyBkZWx0YVRpbWUgLyAoYm9keS5kZWx0YVRpbWUgfHwgZGVsdGFUaW1lKSA6IDE7XG5cbiAgICAgICAgLy8gZnJvbSB0aGUgcHJldmlvdXMgc3RlcFxuICAgICAgICB2YXIgZnJpY3Rpb25BaXIgPSAxIC0gYm9keS5mcmljdGlvbkFpciAqIChkZWx0YVRpbWUgLyBDb21tb24uX2Jhc2VEZWx0YSksXG4gICAgICAgICAgICB2ZWxvY2l0eVByZXZYID0gKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpICogY29ycmVjdGlvbixcbiAgICAgICAgICAgIHZlbG9jaXR5UHJldlkgPSAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSkgKiBjb3JyZWN0aW9uO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB2ZWxvY2l0eSB3aXRoIFZlcmxldCBpbnRlZ3JhdGlvblxuICAgICAgICBib2R5LnZlbG9jaXR5LnggPSAodmVsb2NpdHlQcmV2WCAqIGZyaWN0aW9uQWlyKSArIChib2R5LmZvcmNlLnggLyBib2R5Lm1hc3MpICogZGVsdGFUaW1lU3F1YXJlZDtcbiAgICAgICAgYm9keS52ZWxvY2l0eS55ID0gKHZlbG9jaXR5UHJldlkgKiBmcmljdGlvbkFpcikgKyAoYm9keS5mb3JjZS55IC8gYm9keS5tYXNzKSAqIGRlbHRhVGltZVNxdWFyZWQ7XG5cbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueDtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueTtcbiAgICAgICAgYm9keS5wb3NpdGlvbi54ICs9IGJvZHkudmVsb2NpdHkueDtcbiAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGJvZHkudmVsb2NpdHkueTtcbiAgICAgICAgYm9keS5kZWx0YVRpbWUgPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgLy8gdXBkYXRlIGFuZ3VsYXIgdmVsb2NpdHkgd2l0aCBWZXJsZXQgaW50ZWdyYXRpb25cbiAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkgPSAoKGJvZHkuYW5nbGUgLSBib2R5LmFuZ2xlUHJldikgKiBmcmljdGlvbkFpciAqIGNvcnJlY3Rpb24pICsgKGJvZHkudG9ycXVlIC8gYm9keS5pbmVydGlhKSAqIGRlbHRhVGltZVNxdWFyZWQ7XG4gICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZTtcbiAgICAgICAgYm9keS5hbmdsZSArPSBib2R5LmFuZ3VsYXJWZWxvY2l0eTtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGJvZHkgZ2VvbWV0cnlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG5cbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGJvZHkudmVsb2NpdHkueDtcbiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gYm9keS52ZWxvY2l0eS55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm9keS5hbmd1bGFyVmVsb2NpdHkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBWZXJ0aWNlcy5yb3RhdGUocGFydC52ZXJ0aWNlcywgYm9keS5hbmd1bGFyVmVsb2NpdHksIGJvZHkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIEF4ZXMucm90YXRlKHBhcnQuYXhlcywgYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgYm9keS5hbmd1bGFyVmVsb2NpdHksIGJvZHkucG9zaXRpb24sIHBhcnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBwcm9wZXJ0aWVzIGBib2R5LnZlbG9jaXR5YCwgYGJvZHkuc3BlZWRgLCBgYm9keS5hbmd1bGFyVmVsb2NpdHlgIGFuZCBgYm9keS5hbmd1bGFyU3BlZWRgIHdoaWNoIGFyZSBub3JtYWxpc2VkIGluIHJlbGF0aW9uIHRvIGBCb2R5Ll9iYXNlRGVsdGFgLlxuICAgICAqIEBtZXRob2QgdXBkYXRlVmVsb2NpdGllc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqL1xuICAgIEJvZHkudXBkYXRlVmVsb2NpdGllcyA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IEJvZHkuX2Jhc2VEZWx0YSAvIGJvZHkuZGVsdGFUaW1lLFxuICAgICAgICAgICAgYm9keVZlbG9jaXR5ID0gYm9keS52ZWxvY2l0eTtcblxuICAgICAgICBib2R5VmVsb2NpdHkueCA9IChib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54KSAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keVZlbG9jaXR5LnkgPSAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSkgKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkuc3BlZWQgPSBNYXRoLnNxcnQoKGJvZHlWZWxvY2l0eS54ICogYm9keVZlbG9jaXR5LngpICsgKGJvZHlWZWxvY2l0eS55ICogYm9keVZlbG9jaXR5LnkpKTtcblxuICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IChib2R5LmFuZ2xlIC0gYm9keS5hbmdsZVByZXYpICogdGltZVNjYWxlO1xuICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IE1hdGguYWJzKGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgYGZvcmNlYCB0byB0aGUgYGJvZHlgIGZyb20gdGhlIGZvcmNlIG9yaWdpbiBgcG9zaXRpb25gIGluIHdvcmxkLXNwYWNlLCBvdmVyIGEgc2luZ2xlIHRpbWVzdGVwLCBpbmNsdWRpbmcgYXBwbHlpbmcgYW55IHJlc3VsdGluZyBhbmd1bGFyIHRvcnF1ZS5cbiAgICAgKiBcbiAgICAgKiBGb3JjZXMgYXJlIHVzZWZ1bCBmb3IgZWZmZWN0cyBsaWtlIGdyYXZpdHksIHdpbmQgb3Igcm9ja2V0IHRocnVzdCwgYnV0IGNhbiBiZSBkaWZmaWN1bHQgaW4gcHJhY3RpY2Ugd2hlbiBwcmVjaXNlIGNvbnRyb2wgaXMgbmVlZGVkLiBJbiB0aGVzZSBjYXNlcyBzZWUgYEJvZHkuc2V0VmVsb2NpdHlgIGFuZCBgQm9keS5zZXRQb3NpdGlvbmAgYXMgYW4gYWx0ZXJuYXRpdmUuXG4gICAgICogXG4gICAgICogVGhlIGZvcmNlIGZyb20gdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGFwcGxpZWQgb25jZSBmb3IgdGhlIGR1cmF0aW9uIG9mIGEgc2luZ2xlIHRpbWVzdGVwLCBpbiBvdGhlciB3b3JkcyB0aGUgZHVyYXRpb24gZGVwZW5kcyBkaXJlY3RseSBvbiB0aGUgY3VycmVudCBlbmdpbmUgdXBkYXRlIGBkZWx0YWAgYW5kIHRoZSByYXRlIG9mIGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24uXG4gICAgICogXG4gICAgICogVGhlcmVmb3JlIHRvIGFjY291bnQgZm9yIHRpbWUsIHlvdSBzaG91bGQgYXBwbHkgdGhlIGZvcmNlIGNvbnN0YW50bHkgb3ZlciBhcyBtYW55IGVuZ2luZSB1cGRhdGVzIGFzIGVxdWl2YWxlbnQgdG8gdGhlIGludGVuZGVkIGR1cmF0aW9uLlxuICAgICAqIFxuICAgICAqIElmIGFsbCBvciBwYXJ0IG9mIHRoZSBmb3JjZSBkdXJhdGlvbiBpcyBzb21lIGZyYWN0aW9uIG9mIGEgdGltZXN0ZXAsIGZpcnN0IG11bHRpcGx5IHRoZSBmb3JjZSBieSBgZHVyYXRpb24gLyB0aW1lc3RlcGAuXG4gICAgICogXG4gICAgICogVGhlIGZvcmNlIG9yaWdpbiBgcG9zaXRpb25gIGluIHdvcmxkLXNwYWNlIG11c3QgYWxzbyBiZSBzcGVjaWZpZWQuIFBhc3NpbmcgYGJvZHkucG9zaXRpb25gIHdpbGwgcmVzdWx0IGluIHplcm8gYW5ndWxhciBlZmZlY3QgYXMgdGhlIGZvcmNlIG9yaWdpbiB3b3VsZCBiZSBhdCB0aGUgY2VudHJlIG9mIG1hc3MuXG4gICAgICogXG4gICAgICogVGhlIGBib2R5YCB3aWxsIHRha2UgdGltZSB0byBhY2NlbGVyYXRlIHVuZGVyIGEgZm9yY2UsIHRoZSByZXN1bHRpbmcgZWZmZWN0IGRlcGVuZHMgb24gZHVyYXRpb24gb2YgdGhlIGZvcmNlLCB0aGUgYm9keSBtYXNzIGFuZCBvdGhlciBmb3JjZXMgb24gdGhlIGJvZHkgaW5jbHVkaW5nIGZyaWN0aW9uIGNvbWJpbmVkLlxuICAgICAqIEBtZXRob2QgYXBwbHlGb3JjZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvbiBUaGUgZm9yY2Ugb3JpZ2luIGluIHdvcmxkLXNwYWNlLiBQYXNzIGBib2R5LnBvc2l0aW9uYCB0byBhdm9pZCBhbmd1bGFyIHRvcnF1ZS5cbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZm9yY2VcbiAgICAgKi9cbiAgICBCb2R5LmFwcGx5Rm9yY2UgPSBmdW5jdGlvbihib2R5LCBwb3NpdGlvbiwgZm9yY2UpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHsgeDogcG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb24ueCwgeTogcG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb24ueSB9O1xuICAgICAgICBib2R5LmZvcmNlLnggKz0gZm9yY2UueDtcbiAgICAgICAgYm9keS5mb3JjZS55ICs9IGZvcmNlLnk7XG4gICAgICAgIGJvZHkudG9ycXVlICs9IG9mZnNldC54ICogZm9yY2UueSAtIG9mZnNldC55ICogZm9yY2UueDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3VtcyBvZiB0aGUgcHJvcGVydGllcyBvZiBhbGwgY29tcG91bmQgcGFydHMgb2YgdGhlIHBhcmVudCBib2R5LlxuICAgICAqIEBtZXRob2QgX3RvdGFsUHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7fVxuICAgICAqL1xuICAgIEJvZHkuX3RvdGFsUHJvcGVydGllcyA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgLy8gZnJvbSBlcXVhdGlvbnMgYXQ6XG4gICAgICAgIC8vIGh0dHBzOi8vZWNvdXJzZXMub3UuZWR1L2NnaS1iaW4vZWJvb2suY2dpP2RvYz0mdG9waWM9c3QmY2hhcF9zZWM9MDcuMiZwYWdlPXRoZW9yeVxuICAgICAgICAvLyBodHRwOi8vb3V0cHV0LnRvL3NpZGV3YXkvZGVmYXVsdC5hc3A/cW5vPTEyMTEwMDA4N1xuXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgbWFzczogMCxcbiAgICAgICAgICAgIGFyZWE6IDAsXG4gICAgICAgICAgICBpbmVydGlhOiAwLFxuICAgICAgICAgICAgY2VudHJlOiB7IHg6IDAsIHk6IDAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHN1bSB0aGUgcHJvcGVydGllcyBvZiBhbGwgY29tcG91bmQgcGFydHMgb2YgdGhlIHBhcmVudCBib2R5XG4gICAgICAgIGZvciAodmFyIGkgPSBib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSA/IDAgOiAxOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldLFxuICAgICAgICAgICAgICAgIG1hc3MgPSBwYXJ0Lm1hc3MgIT09IEluZmluaXR5ID8gcGFydC5tYXNzIDogMTtcblxuICAgICAgICAgICAgcHJvcGVydGllcy5tYXNzICs9IG1hc3M7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmFyZWEgKz0gcGFydC5hcmVhO1xuICAgICAgICAgICAgcHJvcGVydGllcy5pbmVydGlhICs9IHBhcnQuaW5lcnRpYTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuY2VudHJlID0gVmVjdG9yLmFkZChwcm9wZXJ0aWVzLmNlbnRyZSwgVmVjdG9yLm11bHQocGFydC5wb3NpdGlvbiwgbWFzcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5jZW50cmUgPSBWZWN0b3IuZGl2KHByb3BlcnRpZXMuY2VudHJlLCBwcm9wZXJ0aWVzLm1hc3MpO1xuXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgYm9keSBzdGFydHMgc2xlZXBpbmcgKHdoZXJlIGB0aGlzYCBpcyB0aGUgYm9keSkuXG4gICAgKlxuICAgICogQGV2ZW50IHNsZWVwU3RhcnRcbiAgICAqIEB0aGlzIHtib2R5fSBUaGUgYm9keSB0aGF0IGhhcyBzdGFydGVkIHNsZWVwaW5nXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGJvZHkgZW5kcyBzbGVlcGluZyAod2hlcmUgYHRoaXNgIGlzIHRoZSBib2R5KS5cbiAgICAqXG4gICAgKiBAZXZlbnQgc2xlZXBFbmRcbiAgICAqIEB0aGlzIHtib2R5fSBUaGUgYm9keSB0aGF0IGhhcyBlbmRlZCBzbGVlcGluZ1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQm9keS5jcmVhdGVgIGJ5IGBDb21tb24ubmV4dElkYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFNldCBieSBgQm9keS5jcmVhdGVgLlxuICAgICAqIFxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImJvZHlcIlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJiaXRyYXJ5IGBTdHJpbmdgIG5hbWUgdG8gaGVscCB0aGUgdXNlciBpZGVudGlmeSBhbmQgbWFuYWdlIGJvZGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsYWJlbFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiQm9keVwiXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFBhcnRzYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEFuIGFycmF5IG9mIGJvZGllcyB0aGF0IG1ha2UgdXAgdGhpcyBib2R5LiBcbiAgICAgKiBUaGUgZmlyc3QgYm9keSBpbiB0aGUgYXJyYXkgbXVzdCBhbHdheXMgYmUgYSBzZWxmIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBib2R5IGluc3RhbmNlLlxuICAgICAqIEFsbCBib2RpZXMgaW4gdGhlIGBwYXJ0c2AgYXJyYXkgdG9nZXRoZXIgZm9ybSBhIHNpbmdsZSByaWdpZCBjb21wb3VuZCBib2R5LlxuICAgICAqIFBhcnRzIGFyZSBhbGxvd2VkIHRvIG92ZXJsYXAsIGhhdmUgZ2FwcyBvciBob2xlcyBvciBldmVuIGZvcm0gY29uY2F2ZSBib2RpZXMuXG4gICAgICogUGFydHMgdGhlbXNlbHZlcyBzaG91bGQgbmV2ZXIgYmUgYWRkZWQgdG8gYSBgV29ybGRgLCBvbmx5IHRoZSBwYXJlbnQgYm9keSBzaG91bGQgYmUuXG4gICAgICogVXNlIGBCb2R5LnNldFBhcnRzYCB3aGVuIHNldHRpbmcgcGFydHMgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcyBvZiBhbGwgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBwYXJ0c1xuICAgICAqIEB0eXBlIGJvZHlbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlc2VydmVkIGZvciBzdG9yaW5nIHBsdWdpbi1zcGVjaWZpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBsdWdpblxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXBkYXRlZCBieSBgQm9keS5zZXRQYXJ0c2AuXG4gICAgICogXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGJvZHkgdGhhdCB0aGlzIGlzIGEgcGFydCBvZi4gU2VlIGBib2R5LnBhcnRzYC5cbiAgICAgKiBUaGlzIGlzIGEgc2VsZiByZWZlcmVuY2UgaWYgdGhlIGJvZHkgaXMgbm90IGEgcGFydCBvZiBhbm90aGVyIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50XG4gICAgICogQHR5cGUgYm9keVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCBzcGVjaWZ5aW5nIHRoZSBhbmdsZSBvZiB0aGUgYm9keSwgaW4gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBhbmdsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0VmVydGljZXNgIG9yIGBCb2R5LnNldFBhcnRzYCB0byBzZXQuIFNlZSBhbHNvIGBCb2RpZXMuZnJvbVZlcnRpY2VzYC5cbiAgICAgKiBcbiAgICAgKiBBbiBhcnJheSBvZiBgVmVjdG9yYCBvYmplY3RzIHRoYXQgc3BlY2lmeSB0aGUgY29udmV4IGh1bGwgb2YgdGhlIHJpZ2lkIGJvZHkuXG4gICAgICogVGhlc2Ugc2hvdWxkIGJlIHByb3ZpZGVkIGFib3V0IHRoZSBvcmlnaW4gYCgwLCAwKWAuIEUuZy5cbiAgICAgKlxuICAgICAqIGBbeyB4OiAwLCB5OiAwIH0sIHsgeDogMjUsIHk6IDUwIH0sIHsgeDogNTAsIHk6IDAgfV1gXG4gICAgICogXG4gICAgICogVmVydGljZXMgbXVzdCBhbHdheXMgYmUgY29udmV4LCBpbiBjbG9ja3dpc2Ugb3JkZXIgYW5kIG11c3Qgbm90IGNvbnRhaW4gYW55IGR1cGxpY2F0ZSBwb2ludHMuXG4gICAgICogXG4gICAgICogQ29uY2F2ZSB2ZXJ0aWNlcyBzaG91bGQgYmUgZGVjb21wb3NlZCBpbnRvIGNvbnZleCBgcGFydHNgLCBzZWUgYEJvZGllcy5mcm9tVmVydGljZXNgIGFuZCBgQm9keS5zZXRQYXJ0c2AuXG4gICAgICpcbiAgICAgKiBXaGVuIHNldCB0aGUgdmVydGljZXMgYXJlIHRyYW5zbGF0ZWQgc3VjaCB0aGF0IGBib2R5LnBvc2l0aW9uYCBpcyBhdCB0aGUgY2VudHJlIG9mIG1hc3MuXG4gICAgICogTWFueSBvdGhlciBib2R5IHByb3BlcnRpZXMgYXJlIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBmcm9tIHRoZXNlIHZlcnRpY2VzIHdoZW4gc2V0IGluY2x1ZGluZyBgZGVuc2l0eWAsIGBhcmVhYCBhbmQgYGluZXJ0aWFgLlxuICAgICAqIFxuICAgICAqIFRoZSBtb2R1bGUgYE1hdHRlci5WZXJ0aWNlc2AgY29udGFpbnMgdXNlZnVsIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSB2ZXJ0aWNlc1xuICAgICAqIEB0eXBlIHZlY3RvcltdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldFBvc2l0aW9uYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCBzcGVjaWZpZXMgdGhlIGN1cnJlbnQgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCBhY2N1bXVsYXRlcyB0aGUgdG90YWwgZm9yY2UgYXBwbGllZCB0byB0aGUgYm9keSBmb3IgYSBzaW5nbGUgdXBkYXRlLlxuICAgICAqIEZvcmNlIGlzIHplcm9lZCBhZnRlciBldmVyeSBgRW5naW5lLnVwZGF0ZWAsIHNvIGNvbnN0YW50IGZvcmNlcyBzaG91bGQgYmUgYXBwbGllZCBmb3IgZXZlcnkgdXBkYXRlIHRoZXkgYXJlIG5lZWRlZC4gU2VlIGFsc28gYEJvZHkuYXBwbHlGb3JjZWAuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGZvcmNlXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBhY2N1bXVsYXRlcyB0aGUgdG90YWwgdG9ycXVlICh0dXJuaW5nIGZvcmNlKSBhcHBsaWVkIHRvIHRoZSBib2R5IGZvciBhIHNpbmdsZSB1cGRhdGUuIFNlZSBhbHNvIGBCb2R5LmFwcGx5Rm9yY2VgLlxuICAgICAqIFRvcnF1ZSBpcyB6ZXJvZWQgYWZ0ZXIgZXZlcnkgYEVuZ2luZS51cGRhdGVgLCBzbyBjb25zdGFudCB0b3JxdWVzIHNob3VsZCBiZSBhcHBsaWVkIGZvciBldmVyeSB1cGRhdGUgdGhleSBhcmUgbmVlZGVkLlxuICAgICAqXG4gICAgICogVG9ycXVlcyByZXN1bHQgaW4gYW5ndWxhciBhY2NlbGVyYXRpb24gb24gZXZlcnkgdXBkYXRlLCB3aGljaCBkZXBlbmRzIG9uIGJvZHkgaW5lcnRpYSBhbmQgdGhlIGVuZ2luZSB1cGRhdGUgZGVsdGEuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IHRvcnF1ZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0U3BlZWRgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogU2VlIGBCb2R5LmdldFNwZWVkYCBmb3IgZGV0YWlscy5cbiAgICAgKiBcbiAgICAgKiBFcXVpdmFsZW50IHRvIHRoZSBtYWduaXR1ZGUgb2YgYGJvZHkudmVsb2NpdHlgIChhbHdheXMgcG9zaXRpdmUpLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBzcGVlZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0VmVsb2NpdHlgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogU2VlIGBCb2R5LmdldFZlbG9jaXR5YCBmb3IgZGV0YWlscy5cbiAgICAgKiBcbiAgICAgKiBFcXVpdmFsZW50IHRvIHRoZSBtYWduaXR1ZGUgb2YgYGJvZHkuYW5ndWxhclZlbG9jaXR5YCAoYWx3YXlzIHBvc2l0aXZlKS5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgdmVsb2NpdHlcbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRBbmd1bGFyU3BlZWRgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogU2VlIGBCb2R5LmdldEFuZ3VsYXJTcGVlZGAgZm9yIGRldGFpbHMuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGFuZ3VsYXJTcGVlZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0QW5ndWxhclZlbG9jaXR5YCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIFNlZSBgQm9keS5nZXRBbmd1bGFyVmVsb2NpdHlgIGZvciBkZXRhaWxzLlxuICAgICAqIFxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGFuZ3VsYXJWZWxvY2l0eVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0U3RhdGljYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGEgYm9keSBpcyBjb25zaWRlcmVkIHN0YXRpYy4gQSBzdGF0aWMgYm9keSBjYW4gbmV2ZXIgY2hhbmdlIHBvc2l0aW9uIG9yIGFuZ2xlIGFuZCBpcyBjb21wbGV0ZWx5IGZpeGVkLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGlzU3RhdGljXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBhIGJvZHkgaXMgYSBzZW5zb3IuIFNlbnNvciB0cmlnZ2VycyBjb2xsaXNpb24gZXZlbnRzLCBidXQgZG9lc24ndCByZWFjdCB3aXRoIGNvbGxpZGluZyBib2R5IHBoeXNpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaXNTZW5zb3JcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYFNsZWVwaW5nLnNldGAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLiBBIHNsZWVwaW5nIGJvZHkgYWN0cyBzaW1pbGFyIHRvIGEgc3RhdGljIGJvZHksIGV4Y2VwdCBpdCBpcyBvbmx5IHRlbXBvcmFyeSBhbmQgY2FuIGJlIGF3b2tlbi5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBpc1NsZWVwaW5nXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gQ2FsY3VsYXRlZCBkdXJpbmcgZW5naW5lIHVwZGF0ZSBvbmx5IHdoZW4gc2xlZXBpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgbG9vc2VseSBtZWFzdXJlcyB0aGUgYW1vdW50IG9mIG1vdmVtZW50IGEgYm9keSBjdXJyZW50bHkgaGFzLlxuICAgICAqXG4gICAgICogRGVyaXZlZCBmcm9tIGBib2R5LnNwZWVkXjIgKyBib2R5LmFuZ3VsYXJTcGVlZF4yYC4gU2VlIGBTbGVlcGluZy51cGRhdGVgLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBtb3Rpb25cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbGVuZ3RoIG9mIHRpbWUgZHVyaW5nIHdoaWNoIHRoaXMgYm9keSBtdXN0IGhhdmUgbmVhci16ZXJvIHZlbG9jaXR5IGJlZm9yZSBpdCBpcyBzZXQgYXMgc2xlZXBpbmcgYnkgdGhlIGBNYXR0ZXIuU2xlZXBpbmdgIG1vZHVsZSAoaWYgc2xlZXBpbmcgaXMgZW5hYmxlZCBieSB0aGUgZW5naW5lKS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgc2xlZXBUaHJlc2hvbGRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA2MFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXREZW5zaXR5YCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBkZW5zaXR5IG9mIHRoZSBib2R5IChtYXNzIHBlciB1bml0IGFyZWEpLlxuICAgICAqIFxuICAgICAqIE1hc3Mgd2lsbCBhbHNvIGJlIHVwZGF0ZWQgd2hlbiBzZXQuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgZGVuc2l0eVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuMDAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldE1hc3NgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG1hc3Mgb2YgdGhlIGJvZHkuXG4gICAgICogXG4gICAgICogRGVuc2l0eSB3aWxsIGFsc28gYmUgdXBkYXRlZCB3aGVuIHNldC5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgbWFzc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRNYXNzYCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBpbnZlcnNlIG1hc3Mgb2YgdGhlIGJvZHkgKGAxIC8gbWFzc2ApLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGludmVyc2VNYXNzXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gQXV0b21hdGljYWxseSBjYWxjdWxhdGVkIHdoZW4gdmVydGljZXMsIG1hc3Mgb3IgZGVuc2l0eSBhcmUgc2V0IG9yIHNldCB0aHJvdWdoIGBCb2R5LnNldEluZXJ0aWFgLlxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBtb21lbnQgb2YgaW5lcnRpYSBvZiB0aGUgYm9keS4gVGhpcyBpcyB0aGUgc2Vjb25kIG1vbWVudCBvZiBhcmVhIGluIHR3byBkaW1lbnNpb25zLlxuICAgICAqIFxuICAgICAqIENhbiBiZSBtYW51YWxseSBzZXQgdG8gYEluZmluaXR5YCB0byBwcmV2ZW50IHJvdGF0aW9uIG9mIHRoZSBib2R5LiBTZWUgYEJvZHkuc2V0SW5lcnRpYWAuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGluZXJ0aWFcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBBdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgd2hlbiB2ZXJ0aWNlcywgbWFzcyBvciBkZW5zaXR5IGFyZSBzZXQgb3IgY2FsY3VsYXRlZCBieSBgQm9keS5zZXRJbmVydGlhYC5cbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgaW52ZXJzZSBtb21lbnQgb2YgaW5lcnRpYSBvZiB0aGUgYm9keSAoYDEgLyBpbmVydGlhYCkuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGludmVyc2VJbmVydGlhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgcmVzdGl0dXRpb24gKGVsYXN0aWNpdHkpIG9mIHRoZSBib2R5LiBUaGUgdmFsdWUgaXMgYWx3YXlzIHBvc2l0aXZlIGFuZCBpcyBpbiB0aGUgcmFuZ2UgYCgwLCAxKWAuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgY29sbGlzaW9ucyBtYXkgYmUgcGVyZmVjdGx5IGluZWxhc3RpYyBhbmQgbm8gYm91bmNpbmcgbWF5IG9jY3VyLiBcbiAgICAgKiBBIHZhbHVlIG9mIGAwLjhgIG1lYW5zIHRoZSBib2R5IG1heSBib3VuY2UgYmFjayB3aXRoIGFwcHJveGltYXRlbHkgODAlIG9mIGl0cyBraW5ldGljIGVuZXJneS5cbiAgICAgKiBOb3RlIHRoYXQgY29sbGlzaW9uIHJlc3BvbnNlIGlzIGJhc2VkIG9uIF9wYWlyc18gb2YgYm9kaWVzLCBhbmQgdGhhdCBgcmVzdGl0dXRpb25gIHZhbHVlcyBhcmUgX2NvbWJpbmVkXyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybXVsYTpcbiAgICAgKlxuICAgICAqIGBNYXRoLm1heChib2R5QS5yZXN0aXR1dGlvbiwgYm9keUIucmVzdGl0dXRpb24pYFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlc3RpdHV0aW9uXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGZyaWN0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmFsdWUgaXMgYWx3YXlzIHBvc2l0aXZlIGFuZCBpcyBpbiB0aGUgcmFuZ2UgYCgwLCAxKWAuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgdGhhdCB0aGUgYm9keSBtYXkgc2xpZGUgaW5kZWZpbml0ZWx5LlxuICAgICAqIEEgdmFsdWUgb2YgYDFgIG1lYW5zIHRoZSBib2R5IG1heSBjb21lIHRvIGEgc3RvcCBhbG1vc3QgaW5zdGFudGx5IGFmdGVyIGEgZm9yY2UgaXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFRoZSBlZmZlY3RzIG9mIHRoZSB2YWx1ZSBtYXkgYmUgbm9uLWxpbmVhci4gXG4gICAgICogSGlnaCB2YWx1ZXMgbWF5IGJlIHVuc3RhYmxlIGRlcGVuZGluZyBvbiB0aGUgYm9keS5cbiAgICAgKiBUaGUgZW5naW5lIHVzZXMgYSBDb3Vsb21iIGZyaWN0aW9uIG1vZGVsIGluY2x1ZGluZyBzdGF0aWMgYW5kIGtpbmV0aWMgZnJpY3Rpb24uXG4gICAgICogTm90ZSB0aGF0IGNvbGxpc2lvbiByZXNwb25zZSBpcyBiYXNlZCBvbiBfcGFpcnNfIG9mIGJvZGllcywgYW5kIHRoYXQgYGZyaWN0aW9uYCB2YWx1ZXMgYXJlIF9jb21iaW5lZF8gd2l0aCB0aGUgZm9sbG93aW5nIGZvcm11bGE6XG4gICAgICpcbiAgICAgKiBgTWF0aC5taW4oYm9keUEuZnJpY3Rpb24sIGJvZHlCLmZyaWN0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHN0YXRpYyBmcmljdGlvbiBvZiB0aGUgYm9keSAoaW4gdGhlIENvdWxvbWIgZnJpY3Rpb24gbW9kZWwpLiBcbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGUgYm9keSB3aWxsIG5ldmVyICdzdGljaycgd2hlbiBpdCBpcyBuZWFybHkgc3RhdGlvbmFyeSBhbmQgb25seSBkeW5hbWljIGBmcmljdGlvbmAgaXMgdXNlZC5cbiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSAoZS5nLiBgMTBgKSwgdGhlIG1vcmUgZm9yY2UgaXQgd2lsbCB0YWtlIHRvIGluaXRpYWxseSBnZXQgdGhlIGJvZHkgbW92aW5nIHdoZW4gbmVhcmx5IHN0YXRpb25hcnkuXG4gICAgICogVGhpcyB2YWx1ZSBpcyBtdWx0aXBsaWVkIHdpdGggdGhlIGBmcmljdGlvbmAgcHJvcGVydHkgdG8gbWFrZSBpdCBlYXNpZXIgdG8gY2hhbmdlIGBmcmljdGlvbmAgYW5kIG1haW50YWluIGFuIGFwcHJvcHJpYXRlIGFtb3VudCBvZiBzdGF0aWMgZnJpY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25TdGF0aWNcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBhaXIgZnJpY3Rpb24gb2YgdGhlIGJvZHkgKGFpciByZXNpc3RhbmNlKS4gXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgdGhlIGJvZHkgd2lsbCBuZXZlciBzbG93IGFzIGl0IG1vdmVzIHRocm91Z2ggc3BhY2UuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBmYXN0ZXIgYSBib2R5IHNsb3dzIHdoZW4gbW92aW5nIHRocm91Z2ggc3BhY2UuXG4gICAgICogVGhlIGVmZmVjdHMgb2YgdGhlIHZhbHVlIGFyZSBub24tbGluZWFyLiBcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvbkFpclxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuMDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gZmlsdGVyaW5nIHByb3BlcnRpZXMgb2YgdGhpcyBib2R5LlxuICAgICAqXG4gICAgICogQ29sbGlzaW9ucyBiZXR3ZWVuIHR3byBib2RpZXMgd2lsbCBvYmV5IHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gICAgICogLSBJZiB0aGUgdHdvIGJvZGllcyBoYXZlIHRoZSBzYW1lIG5vbi16ZXJvIHZhbHVlIG9mIGBjb2xsaXNpb25GaWx0ZXIuZ3JvdXBgLFxuICAgICAqICAgdGhleSB3aWxsIGFsd2F5cyBjb2xsaWRlIGlmIHRoZSB2YWx1ZSBpcyBwb3NpdGl2ZSwgYW5kIHRoZXkgd2lsbCBuZXZlciBjb2xsaWRlXG4gICAgICogICBpZiB0aGUgdmFsdWUgaXMgbmVnYXRpdmUuXG4gICAgICogLSBJZiB0aGUgdHdvIGJvZGllcyBoYXZlIGRpZmZlcmVudCB2YWx1ZXMgb2YgYGNvbGxpc2lvbkZpbHRlci5ncm91cGAgb3IgaWYgb25lXG4gICAgICogICAob3IgYm90aCkgb2YgdGhlIGJvZGllcyBoYXMgYSB2YWx1ZSBvZiAwLCB0aGVuIHRoZSBjYXRlZ29yeS9tYXNrIHJ1bGVzIGFwcGx5IGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBFYWNoIGJvZHkgYmVsb25ncyB0byBhIGNvbGxpc2lvbiBjYXRlZ29yeSwgZ2l2ZW4gYnkgYGNvbGxpc2lvbkZpbHRlci5jYXRlZ29yeWAuIFRoaXNcbiAgICAgKiB2YWx1ZSBpcyB1c2VkIGFzIGEgYml0IGZpZWxkIGFuZCB0aGUgY2F0ZWdvcnkgc2hvdWxkIGhhdmUgb25seSBvbmUgYml0IHNldCwgbWVhbmluZyB0aGF0XG4gICAgICogdGhlIHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXMgYSBwb3dlciBvZiB0d28gaW4gdGhlIHJhbmdlIFsxLCAyXjMxXS4gVGh1cywgdGhlcmUgYXJlIDMyXG4gICAgICogZGlmZmVyZW50IGNvbGxpc2lvbiBjYXRlZ29yaWVzIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIEVhY2ggYm9keSBhbHNvIGRlZmluZXMgYSBjb2xsaXNpb24gYml0bWFzaywgZ2l2ZW4gYnkgYGNvbGxpc2lvbkZpbHRlci5tYXNrYCB3aGljaCBzcGVjaWZpZXNcbiAgICAgKiB0aGUgY2F0ZWdvcmllcyBpdCBjb2xsaWRlcyB3aXRoICh0aGUgdmFsdWUgaXMgdGhlIGJpdHdpc2UgQU5EIHZhbHVlIG9mIGFsbCB0aGVzZSBjYXRlZ29yaWVzKS5cbiAgICAgKlxuICAgICAqIFVzaW5nIHRoZSBjYXRlZ29yeS9tYXNrIHJ1bGVzLCB0d28gYm9kaWVzIGBBYCBhbmQgYEJgIGNvbGxpZGUgaWYgZWFjaCBpbmNsdWRlcyB0aGUgb3RoZXInc1xuICAgICAqIGNhdGVnb3J5IGluIGl0cyBtYXNrLCBpLmUuIGAoY2F0ZWdvcnlBICYgbWFza0IpICE9PSAwYCBhbmQgYChjYXRlZ29yeUIgJiBtYXNrQSkgIT09IDBgXG4gICAgICogYXJlIGJvdGggdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIEludGVnZXIgYE51bWJlcmAsIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gZ3JvdXAgdGhpcyBib2R5IGJlbG9uZ3MgdG8uXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyLmdyb3VwXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiaXQgZmllbGQgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBjYXRlZ29yeSB0aGlzIGJvZHkgYmVsb25ncyB0by5cbiAgICAgKiBUaGUgY2F0ZWdvcnkgdmFsdWUgc2hvdWxkIGhhdmUgb25seSBvbmUgYml0IHNldCwgZm9yIGV4YW1wbGUgYDB4MDAwMWAuXG4gICAgICogVGhpcyBtZWFucyB0aGVyZSBhcmUgdXAgdG8gMzIgdW5pcXVlIGNvbGxpc2lvbiBjYXRlZ29yaWVzIGF2YWlsYWJsZS5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIuY2F0ZWdvcnlcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGJpdCBtYXNrIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gY2F0ZWdvcmllcyB0aGlzIGJvZHkgbWF5IGNvbGxpZGUgd2l0aC5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIubWFza1xuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIGEgdGhpbiBib3VuZGFyeSBhcm91bmQgdGhlIGJvZHkgd2hlcmUgaXQgaXMgYWxsb3dlZCB0byBzbGlnaHRseSBzaW5rIGludG8gb3RoZXIgYm9kaWVzLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHByb3BlciBjb2xsaXNpb24gcmVzcG9uc2UsIGluY2x1ZGluZyBmcmljdGlvbiBhbmQgcmVzdGl0dXRpb24gZWZmZWN0cy5cbiAgICAgKiBcbiAgICAgKiBUaGUgZGVmYXVsdCBzaG91bGQgZ2VuZXJhbGx5IHN1ZmZpY2UgaW4gbW9zdCBjYXNlcy4gWW91IG1heSBuZWVkIHRvIGRlY3JlYXNlIHRoaXMgdmFsdWUgZm9yIHZlcnkgc21hbGwgYm9kaWVzIHRoYXQgYXJlIG5lYXJpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaW4gc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc2xvcFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuMDVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgcGVyLWJvZHkgdGltZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRpbWVTY2FsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVcGRhdGVkIGR1cmluZyBlbmdpbmUgdXBkYXRlLlxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCByZWNvcmRzIHRoZSBsYXN0IGRlbHRhIHRpbWUgdmFsdWUgdXNlZCB0byB1cGRhdGUgdGhpcyBib2R5LlxuICAgICAqIFVzZWQgdG8gY2FsY3VsYXRlIHNwZWVkIGFuZCB2ZWxvY2l0eS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBkZWx0YVRpbWVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxMDAwIC8gNjBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgZGVmaW5lcyB0aGUgcmVuZGVyaW5nIHByb3BlcnRpZXMgdG8gYmUgY29uc3VtZWQgYnkgdGhlIG1vZHVsZSBgTWF0dGVyLlJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGJvZHkgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci52aXNpYmxlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9wYWNpdHkgdG8gdXNlIHdoZW4gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5vcGFjaXR5XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IGRlZmluZXMgdGhlIHNwcml0ZSBwcm9wZXJ0aWVzIHRvIHVzZSB3aGVuIHJlbmRlcmluZywgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGVcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgcGF0aCB0byB0aGUgaW1hZ2UgdG8gdXNlIGFzIHRoZSBzcHJpdGUgdGV4dHVyZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUudGV4dHVyZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqL1xuICAgICBcbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc2NhbGluZyBpbiB0aGUgeC1heGlzIGZvciB0aGUgc3ByaXRlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS54U2NhbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc2NhbGluZyBpbiB0aGUgeS1heGlzIGZvciB0aGUgc3ByaXRlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS55U2NhbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgeC1heGlzIGZvciB0aGUgc3ByaXRlIChub3JtYWxpc2VkIGJ5IHRleHR1cmUgd2lkdGgpLlxuICAgICAgKlxuICAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS54T2Zmc2V0XG4gICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAqL1xuXG4gICAgLyoqXG4gICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHktYXhpcyBmb3IgdGhlIHNwcml0ZSAobm9ybWFsaXNlZCBieSB0ZXh0dXJlIGhlaWdodCkuXG4gICAgICAqXG4gICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnlPZmZzZXRcbiAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbGluZSB3aWR0aCB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGJvZHkgb3V0bGluZSAoaWYgYSBzcHJpdGUgaXMgbm90IGRlZmluZWQpLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIG5vIG91dGxpbmUgd2lsbCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIubGluZVdpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIGZpbGwgc3R5bGUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IChpZiBhIHNwcml0ZSBpcyBub3QgZGVmaW5lZCkuXG4gICAgICogSXQgaXMgdGhlIHNhbWUgYXMgd2hlbiB1c2luZyBhIGNhbnZhcywgc28gaXQgYWNjZXB0cyBDU1Mgc3R5bGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5maWxsU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBzdHJva2Ugc3R5bGUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IG91dGxpbmUgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS5cbiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnN0cm9rZVN0eWxlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgYSByYW5kb20gY29sb3VyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gQ2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdmVydGljZXMgYXJlIHNldC5cbiAgICAgKiBcbiAgICAgKiBBbiBhcnJheSBvZiB1bmlxdWUgYXhpcyB2ZWN0b3JzIChlZGdlIG5vcm1hbHMpIHVzZWQgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICogVGhlc2UgYXJlIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCB3aGVuIHZlcnRpY2VzIGFyZSBzZXQuXG4gICAgICogVGhleSBhcmUgY29uc3RhbnRseSB1cGRhdGVkIGJ5IGBCb2R5LnVwZGF0ZWAgZHVyaW5nIHRoZSBzaW11bGF0aW9uLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGF4ZXNcbiAgICAgKiBAdHlwZSB2ZWN0b3JbXVxuICAgICAqL1xuICAgICBcbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gQ2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdmVydGljZXMgYXJlIHNldC5cbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgbWVhc3VyZXMgdGhlIGFyZWEgb2YgdGhlIGJvZHkncyBjb252ZXggaHVsbC5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgYXJlYVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgQm91bmRzYCBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBBQUJCIHJlZ2lvbiBmb3IgdGhlIGJvZHkuXG4gICAgICogSXQgaXMgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIHdoZW4gdmVydGljZXMgYXJlIHNldCBhbmQgY29uc3RhbnRseSB1cGRhdGVkIGJ5IGBCb2R5LnVwZGF0ZWAgZHVyaW5nIHNpbXVsYXRpb24uXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGJvdW5kc1xuICAgICAqIEB0eXBlIGJvdW5kc1xuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuRXZlbnRzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyB0byBmaXJlIGFuZCBsaXN0ZW4gdG8gZXZlbnRzIG9uIG90aGVyIG9iamVjdHMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBFdmVudHNcbiovXG5cbnZhciBFdmVudHMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudHM7XG5cbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLlxuICAgICAqIEBtZXRob2Qgb25cbiAgICAgKiBAcGFyYW0ge30gb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG9iamVjdCwgZXZlbnROYW1lcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgnICcpLFxuICAgICAgICAgICAgbmFtZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzID0gb2JqZWN0LmV2ZW50cyB8fCB7fTtcbiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZV0gPSBvYmplY3QuZXZlbnRzW25hbWVdIHx8IFtdO1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gZXZlbnQgY2FsbGJhY2suIElmIG5vIGNhbGxiYWNrLCBjbGVhcnMgYWxsIGNhbGxiYWNrcyBpbiBgZXZlbnROYW1lc2AuIElmIG5vIGBldmVudE5hbWVzYCwgY2xlYXJzIGFsbCBldmVudHMuXG4gICAgICogQG1ldGhvZCBvZmZcbiAgICAgKiBAcGFyYW0ge30gb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIEV2ZW50cy5vZmYgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghZXZlbnROYW1lcykge1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50cyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIEV2ZW50cy5vZmYob2JqZWN0LCBjYWxsYmFjaylcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGV2ZW50TmFtZXM7XG4gICAgICAgICAgICBldmVudE5hbWVzID0gQ29tbW9uLmtleXMob2JqZWN0LmV2ZW50cykuam9pbignICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBvYmplY3QuZXZlbnRzW25hbWVzW2ldXSxcbiAgICAgICAgICAgICAgICBuZXdDYWxsYmFja3MgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3Nbal0gIT09IGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2tzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZXNbaV1dID0gbmV3Q2FsbGJhY2tzO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIGFsbCB0aGUgY2FsbGJhY2tzIHN1YnNjcmliZWQgdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLCBpbiB0aGUgb3JkZXIgdGhleSBzdWJzY3JpYmVkLCBpZiBhbnkuXG4gICAgICogQG1ldGhvZCB0cmlnZ2VyXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVzXG4gICAgICogQHBhcmFtIHt9IGV2ZW50XG4gICAgICovXG4gICAgRXZlbnRzLnRyaWdnZXIgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGV2ZW50KSB7XG4gICAgICAgIHZhciBuYW1lcyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgICAgICBldmVudENsb25lO1xuXG4gICAgICAgIHZhciBldmVudHMgPSBvYmplY3QuZXZlbnRzO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50cyAmJiBDb21tb24ua2V5cyhldmVudHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghZXZlbnQpXG4gICAgICAgICAgICAgICAgZXZlbnQgPSB7fTtcblxuICAgICAgICAgICAgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gZXZlbnRzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgICAgICBldmVudENsb25lID0gQ29tbW9uLmNsb25lKGV2ZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUuc291cmNlID0gb2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Nbal0uYXBwbHkob2JqZWN0LCBbZXZlbnRDbG9uZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIEEgY29tcG9zaXRlIGlzIGEgY29sbGVjdGlvbiBvZiBgTWF0dGVyLkJvZHlgLCBgTWF0dGVyLkNvbnN0cmFpbnRgIGFuZCBvdGhlciBgTWF0dGVyLkNvbXBvc2l0ZWAgb2JqZWN0cy5cbipcbiogVGhleSBhcmUgYSBjb250YWluZXIgdGhhdCBjYW4gcmVwcmVzZW50IGNvbXBsZXggb2JqZWN0cyBtYWRlIG9mIG11bHRpcGxlIHBhcnRzLCBldmVuIGlmIHRoZXkgYXJlIG5vdCBwaHlzaWNhbGx5IGNvbm5lY3RlZC5cbiogQSBjb21wb3NpdGUgY291bGQgY29udGFpbiBhbnl0aGluZyBmcm9tIGEgc2luZ2xlIGJvZHkgYWxsIHRoZSB3YXkgdXAgdG8gYSB3aG9sZSB3b3JsZC5cbiogXG4qIFdoZW4gbWFraW5nIGFueSBjaGFuZ2VzIHRvIGNvbXBvc2l0ZXMsIHVzZSB0aGUgaW5jbHVkZWQgZnVuY3Rpb25zIHJhdGhlciB0aGFuIGNoYW5naW5nIHRoZWlyIHByb3BlcnRpZXMgZGlyZWN0bHkuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBDb21wb3NpdGVcbiovXG5cbnZhciBDb21wb3NpdGUgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGU7XG5cbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb21wb3NpdGUuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVyaXRlcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGVcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZCh7IFxuICAgICAgICAgICAgaWQ6IENvbW1vbi5uZXh0SWQoKSxcbiAgICAgICAgICAgIHR5cGU6ICdjb21wb3NpdGUnLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgaXNNb2RpZmllZDogZmFsc2UsXG4gICAgICAgICAgICBib2RpZXM6IFtdLCBcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbXSwgXG4gICAgICAgICAgICBjb21wb3NpdGVzOiBbXSxcbiAgICAgICAgICAgIGxhYmVsOiAnQ29tcG9zaXRlJyxcbiAgICAgICAgICAgIHBsdWdpbjoge30sXG4gICAgICAgICAgICBjYWNoZToge1xuICAgICAgICAgICAgICAgIGFsbEJvZGllczogbnVsbCxcbiAgICAgICAgICAgICAgICBhbGxDb25zdHJhaW50czogbnVsbCxcbiAgICAgICAgICAgICAgICBhbGxDb21wb3NpdGVzOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wb3NpdGUncyBgaXNNb2RpZmllZGAgZmxhZy4gXG4gICAgICogSWYgYHVwZGF0ZVBhcmVudHNgIGlzIHRydWUsIGFsbCBwYXJlbnRzIHdpbGwgYmUgc2V0IChkZWZhdWx0OiBmYWxzZSkuXG4gICAgICogSWYgYHVwZGF0ZUNoaWxkcmVuYCBpcyB0cnVlLCBhbGwgY2hpbGRyZW4gd2lsbCBiZSBzZXQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc2V0TW9kaWZpZWRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc01vZGlmaWVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlUGFyZW50cz1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVDaGlsZHJlbj1mYWxzZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5pc01vZGlmaWVkID0gaXNNb2RpZmllZDtcblxuICAgICAgICBpZiAoaXNNb2RpZmllZCAmJiBjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxCb2RpZXMgPSBudWxsO1xuICAgICAgICAgICAgY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzID0gbnVsbDtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cGRhdGVQYXJlbnRzICYmIGNvbXBvc2l0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUucGFyZW50LCBpc01vZGlmaWVkLCB1cGRhdGVQYXJlbnRzLCB1cGRhdGVDaGlsZHJlbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXBkYXRlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb21wb3NpdGUgPSBjb21wb3NpdGUuY29tcG9zaXRlc1tpXTtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY2hpbGRDb21wb3NpdGUsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIHNpbmdsZSBvciBtdWx0aS1hZGQgZnVuY3Rpb24uIEFkZHMgYSBzaW5nbGUgb3IgYW4gYXJyYXkgb2YgYm9keShzKSwgY29uc3RyYWludChzKSBvciBjb21wb3NpdGUocykgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlQWRkYCBhbmQgYGFmdGVyQWRkYCBldmVudHMgb24gdGhlIGBjb21wb3NpdGVgLlxuICAgICAqIEBtZXRob2QgYWRkXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBvYmplY3QgQSBzaW5nbGUgb3IgYW4gYXJyYXkgb2YgYm9keShzKSwgY29uc3RyYWludChzKSBvciBjb21wb3NpdGUocylcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgb2JqZWN0cyBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGQgPSBmdW5jdGlvbihjb21wb3NpdGUsIG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqZWN0cyA9IFtdLmNvbmNhdChvYmplY3QpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGNvbXBvc2l0ZSwgJ2JlZm9yZUFkZCcsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gb2JqZWN0c1tpXTtcblxuICAgICAgICAgICAgc3dpdGNoIChvYmoudHlwZSkge1xuXG4gICAgICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgICAgICAgICAvLyBza2lwIGFkZGluZyBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgICAgIGlmIChvYmoucGFyZW50ICE9PSBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ0NvbXBvc2l0ZS5hZGQ6IHNraXBwZWQgYWRkaW5nIGEgY29tcG91bmQgYm9keSBwYXJ0ICh5b3UgbXVzdCBhZGQgaXRzIHBhcmVudCBpbnN0ZWFkKScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25zdHJhaW50JzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb21wb3NpdGUnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb21wb3NpdGUoY29tcG9zaXRlLCBvYmopO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW91c2VDb25zdHJhaW50JzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIG9iai5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYWZ0ZXJBZGQnLCB7IG9iamVjdDogb2JqZWN0IH0pO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgcmVtb3ZlIGZ1bmN0aW9uLiBSZW1vdmVzIG9uZSBvciBtYW55IGJvZHkocyksIGNvbnN0cmFpbnQocykgb3IgYSBjb21wb3NpdGUocykgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBPcHRpb25hbGx5IHNlYXJjaGluZyBpdHMgY2hpbGRyZW4gcmVjdXJzaXZlbHkuXG4gICAgICogVHJpZ2dlcnMgYGJlZm9yZVJlbW92ZWAgYW5kIGBhZnRlclJlbW92ZWAgZXZlbnRzIG9uIHRoZSBgY29tcG9zaXRlYC5cbiAgICAgKiBAbWV0aG9kIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdHxhcnJheX0gb2JqZWN0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgb2JqZWN0cyByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgb2JqZWN0LCBkZWVwKSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gW10uY29uY2F0KG9iamVjdCk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYmVmb3JlUmVtb3ZlJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBvYmplY3RzW2ldO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZShjb21wb3NpdGUsIG9iaiwgZGVlcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb3VzZUNvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlclJlbW92ZScsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNvbXBvc2l0ZSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBhZGRDb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVCXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlQSB3aXRoIHRoZSBvYmplY3RzIGZyb20gY29tcG9zaXRlQiBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGRDb21wb3NpdGUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBjb21wb3NpdGVCKSB7XG4gICAgICAgIGNvbXBvc2l0ZUEuY29tcG9zaXRlcy5wdXNoKGNvbXBvc2l0ZUIpO1xuICAgICAgICBjb21wb3NpdGVCLnBhcmVudCA9IGNvbXBvc2l0ZUE7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGVBLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUFcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlQSB3aXRoIHRoZSBjb21wb3NpdGUgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBjb21wb3NpdGVCLCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZUEuY29tcG9zaXRlcywgY29tcG9zaXRlQik7XG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGVBdChjb21wb3NpdGVBLCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGVBLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGUoY29tcG9zaXRlQS5jb21wb3NpdGVzW2ldLCBjb21wb3NpdGVCLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29tcG9zaXRlQXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbXBvc2l0ZSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29tcG9zaXRlcy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBib2R5IHRvIHRoZSBnaXZlbiBjb21wb3NpdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGFkZEJvZHlcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgYWRkZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWRkQm9keSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgYm9keSkge1xuICAgICAgICBjb21wb3NpdGUuYm9kaWVzLnB1c2goYm9keSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVCb2R5XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBib2R5LCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZS5ib2RpZXMsIGJvZHkpO1xuICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBib2R5LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQm9keUF0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBib2R5IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuYm9kaWVzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNvbnN0cmFpbnQgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgY29uc3RyYWludCBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBjb25zdHJhaW50KSB7XG4gICAgICAgIGNvbXBvc2l0ZS5jb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjb25zdHJhaW50IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29uc3RyYWludCwgZGVlcCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBDb21tb24uaW5kZXhPZihjb21wb3NpdGUuY29uc3RyYWludHMsIGNvbnN0cmFpbnQpO1xuICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBjb25zdHJhaW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludEF0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29uc3RyYWludHMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBjb21wb3NpdGVzIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBPcHRpb25hbGx5IGNsZWFyaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2VlcFN0YXRpY1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmNsZWFyID0gZnVuY3Rpb24oY29tcG9zaXRlLCBrZWVwU3RhdGljLCBkZWVwKSB7XG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuY2xlYXIoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGtlZXBTdGF0aWMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoa2VlcFN0YXRpYykge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXMuZmlsdGVyKGZ1bmN0aW9uKGJvZHkpIHsgcmV0dXJuIGJvZHkuaXNTdGF0aWM7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGJvZGllcyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQm9kaWVzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge2JvZHlbXX0gQWxsIHRoZSBib2RpZXNcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWxsQm9kaWVzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUgJiYgY29tcG9zaXRlLmNhY2hlLmFsbEJvZGllcykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZS5jYWNoZS5hbGxCb2RpZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm9kaWVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5ib2RpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBib2RpZXMgPSBib2RpZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTtcblxuICAgICAgICBpZiAoY29tcG9zaXRlLmNhY2hlKSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuY2FjaGUuYWxsQm9kaWVzID0gYm9kaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvZGllcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgY29uc3RyYWludHMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIGFsbCBjb25zdHJhaW50cyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQ29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHJldHVybiB7Y29uc3RyYWludFtdfSBBbGwgdGhlIGNvbnN0cmFpbnRzXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUgJiYgY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb25zdHJhaW50cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBjb21wb3NpdGVzIGluIHRoZSBnaXZlbiBjb21wb3NpdGUsIGluY2x1ZGluZyBhbGwgY29tcG9zaXRlcyBpbiBpdHMgY2hpbGRyZW4sIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgYWxsQ29tcG9zaXRlc1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGVbXX0gQWxsIHRoZSBjb21wb3NpdGVzXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5jYWNoZSAmJiBjb21wb3NpdGUuY2FjaGUuYWxsQ29tcG9zaXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbXBvc2l0ZXMgPSBbXS5jb25jYXQoY29tcG9zaXRlLmNvbXBvc2l0ZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBjb21wb3NpdGVzID0gY29tcG9zaXRlcy5jb25jYXQoQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTtcblxuICAgICAgICBpZiAoY29tcG9zaXRlLmNhY2hlKSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuY2FjaGUuYWxsQ29tcG9zaXRlcyA9IGNvbXBvc2l0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgdGhlIGNvbXBvc2l0ZSByZWN1cnNpdmVseSBmb3IgYW4gb2JqZWN0IG1hdGNoaW5nIHRoZSB0eXBlIGFuZCBpZCBzdXBwbGllZCwgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICogQG1ldGhvZCBnZXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSByZXF1ZXN0ZWQgb2JqZWN0LCBpZiBmb3VuZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5nZXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGlkLCB0eXBlKSB7XG4gICAgICAgIHZhciBvYmplY3RzLFxuICAgICAgICAgICAgb2JqZWN0O1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG4gICAgICAgICAgICBvYmplY3RzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKGNvbXBvc2l0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29tcG9zaXRlJzpcbiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUpLmNvbmNhdChjb21wb3NpdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9iamVjdHMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBvYmplY3QgPSBvYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmplY3QpIHsgXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlkLnRvU3RyaW5nKCkgPT09IGlkLnRvU3RyaW5nKCk7IFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqZWN0Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiBvYmplY3RbMF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBnaXZlbiBvYmplY3QocykgZnJvbSBjb21wb3NpdGVBIHRvIGNvbXBvc2l0ZUIgKGVxdWFsIHRvIGEgcmVtb3ZlIGZvbGxvd2VkIGJ5IGFuIGFkZCkuXG4gICAgICogQG1ldGhvZCBtb3ZlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGVBfSBjb21wb3NpdGVBXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlQn0gY29tcG9zaXRlQlxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gUmV0dXJucyBjb21wb3NpdGVBXG4gICAgICovXG4gICAgQ29tcG9zaXRlLm1vdmUgPSBmdW5jdGlvbihjb21wb3NpdGVBLCBvYmplY3RzLCBjb21wb3NpdGVCKSB7XG4gICAgICAgIENvbXBvc2l0ZS5yZW1vdmUoY29tcG9zaXRlQSwgb2JqZWN0cyk7XG4gICAgICAgIENvbXBvc2l0ZS5hZGQoY29tcG9zaXRlQiwgb2JqZWN0cyk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG5ldyBpZHMgZm9yIGFsbCBvYmplY3RzIGluIHRoZSBjb21wb3NpdGUsIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgcmViYXNlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gUmV0dXJucyBjb21wb3NpdGVcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmViYXNlID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpXG4gICAgICAgICAgICAuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUpKVxuICAgICAgICAgICAgLmNvbmNhdChDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUpKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG9iamVjdHNbaV0uaWQgPSBDb21tb24ubmV4dElkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIHRoZWlyIGN1cnJlbnQgcG9zaXRpb25zLCBcbiAgICAgKiB3aXRob3V0IGltcGFydGluZyBhbnkgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtib29sfSBbcmVjdXJzaXZlPXRydWVdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgdHJhbnNsYXRpb24sIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQm9keS50cmFuc2xhdGUoYm9kaWVzW2ldLCB0cmFuc2xhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIGdpdmVuIHBvaW50LCB3aXRob3V0IGltcGFydGluZyBhbnkgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUucm90YXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCByb3RhdGlvbiwgcG9pbnQsIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocm90YXRpb24pLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4ocm90YXRpb24pLFxuICAgICAgICAgICAgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAoZHggKiBjb3MgLSBkeSAqIHNpbiksXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEJvZHkucm90YXRlKGJvZHksIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbGwgY2hpbGRyZW4gaW4gdGhlIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIHVwZGF0aW5nIHBoeXNpY2FsIHByb3BlcnRpZXMgKG1hc3MsIGFyZWEsIGF4ZXMsIGluZXJ0aWEpLCBmcm9tIGEgd29ybGQtc3BhY2UgcG9pbnQuXG4gICAgICogQG1ldGhvZCBzY2FsZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW3JlY3Vyc2l2ZT10cnVlXVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5zY2FsZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgc2NhbGVYLCBzY2FsZVksIHBvaW50LCByZWN1cnNpdmUpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IHJlY3Vyc2l2ZSA/IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSA6IGNvbXBvc2l0ZS5ib2RpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGR4ID0gYm9keS5wb3NpdGlvbi54IC0gcG9pbnQueCxcbiAgICAgICAgICAgICAgICBkeSA9IGJvZHkucG9zaXRpb24ueSAtIHBvaW50Lnk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC54ICsgZHggKiBzY2FsZVgsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIGR5ICogc2NhbGVZXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgQm9keS5zY2FsZShib2R5LCBzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmlvbiBvZiB0aGUgYm91bmRzIG9mIGFsbCBvZiB0aGUgY29tcG9zaXRlJ3MgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgYm91bmRzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZSBUaGUgY29tcG9zaXRlLlxuICAgICAqIEByZXR1cm5zIHtib3VuZHN9IFRoZSBjb21wb3NpdGUgYm91bmRzLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5ib3VuZHMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSxcbiAgICAgICAgICAgIHZlcnRpY2VzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgdmVydGljZXMucHVzaChib2R5LmJvdW5kcy5taW4sIGJvZHkuYm91bmRzLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm91bmRzLmNyZWF0ZSh2ZXJ0aWNlcyk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gYSBjYWxsIHRvIGBDb21wb3NpdGUuYWRkYCBpcyBtYWRlLCBiZWZvcmUgb2JqZWN0cyBoYXZlIGJlZW4gYWRkZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZUFkZFxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRvIGJlIGFkZGVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5hZGRgIGlzIG1hZGUsIGFmdGVyIG9iamVjdHMgaGF2ZSBiZWVuIGFkZGVkLlxuICAgICpcbiAgICAqIEBldmVudCBhZnRlckFkZFxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5yZW1vdmVgIGlzIG1hZGUsIGJlZm9yZSBvYmplY3RzIGhhdmUgYmVlbiByZW1vdmVkLlxuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVSZW1vdmVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5vYmplY3QgVGhlIG9iamVjdChzKSB0byBiZSByZW1vdmVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5yZW1vdmVgIGlzIG1hZGUsIGFmdGVyIG9iamVjdHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyUmVtb3ZlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCAobWF5IGJlIGEgc2luZ2xlIGJvZHksIGNvbnN0cmFpbnQsIGNvbXBvc2l0ZSBvciBhIG1peGVkIGFycmF5IG9mIHRoZXNlKVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJjb21wb3NpdGVcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJiaXRyYXJ5IGBTdHJpbmdgIG5hbWUgdG8gaGVscCB0aGUgdXNlciBpZGVudGlmeSBhbmQgbWFuYWdlIGNvbXBvc2l0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGFiZWxcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcIkNvbXBvc2l0ZVwiXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBzcGVjaWZpZXMgd2hldGhlciB0aGUgY29tcG9zaXRlIGhhcyBiZWVuIG1vZGlmaWVkIGR1cmluZyB0aGUgY3VycmVudCBzdGVwLlxuICAgICAqIFRoaXMgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkIHdoZW4gYm9kaWVzLCBjb25zdHJhaW50cyBvciBjb21wb3NpdGVzIGFyZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlzTW9kaWZpZWRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBgQ29tcG9zaXRlYCB0aGF0IGlzIHRoZSBwYXJlbnQgb2YgdGhpcyBjb21wb3NpdGUuIEl0IGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZCBieSB0aGUgYE1hdHRlci5Db21wb3NpdGVgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50XG4gICAgICogQHR5cGUgY29tcG9zaXRlXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYEJvZHlgIHRoYXQgYXJlIF9kaXJlY3RfIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9zaXRlLlxuICAgICAqIFRvIGFkZCBvciByZW1vdmUgYm9kaWVzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICogSWYgeW91IHdpc2ggdG8gcmVjdXJzaXZlbHkgZmluZCBhbGwgZGVzY2VuZGFudHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgQ29tcG9zaXRlLmFsbEJvZGllc2AgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvZGllc1xuICAgICAqIEB0eXBlIGJvZHlbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBgQ29uc3RyYWludGAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuXG4gICAgICogVG8gYWRkIG9yIHJlbW92ZSBjb25zdHJhaW50cyB5b3Ugc2hvdWxkIHVzZSBgQ29tcG9zaXRlLmFkZGAgYW5kIGBDb21wb3NpdGUucmVtb3ZlYCBtZXRob2RzIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxDb25zdHJhaW50c2AgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbnN0cmFpbnRzXG4gICAgICogQHR5cGUgY29uc3RyYWludFtdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGBDb21wb3NpdGVgIHRoYXQgYXJlIF9kaXJlY3RfIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9zaXRlLlxuICAgICAqIFRvIGFkZCBvciByZW1vdmUgY29tcG9zaXRlcyB5b3Ugc2hvdWxkIHVzZSBgQ29tcG9zaXRlLmFkZGAgYW5kIGBDb21wb3NpdGUucmVtb3ZlYCBtZXRob2RzIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29tcG9zaXRlc1xuICAgICAqIEB0eXBlIGNvbXBvc2l0ZVtdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHVzZWQgZm9yIHN0b3JpbmcgY2FjaGVkIHJlc3VsdHMgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICogVGhpcyBpcyB1c2VkIGludGVybmFsbHkgb25seSBhbmQgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkgY2FjaGVcbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuU2xlZXBpbmdgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIHRvIG1hbmFnZSB0aGUgc2xlZXBpbmcgc3RhdGUgb2YgYm9kaWVzLlxuKlxuKiBAY2xhc3MgU2xlZXBpbmdcbiovXG5cbnZhciBTbGVlcGluZyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNsZWVwaW5nO1xuXG52YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBTbGVlcGluZy5fbW90aW9uV2FrZVRocmVzaG9sZCA9IDAuMTg7XG4gICAgU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkID0gMC4wODtcbiAgICBTbGVlcGluZy5fbWluQmlhcyA9IDAuOTtcblxuICAgIC8qKlxuICAgICAqIFB1dHMgYm9kaWVzIHRvIHNsZWVwIG9yIHdha2VzIHRoZW0gdXAgZGVwZW5kaW5nIG9uIHRoZWlyIG1vdGlvbi5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKi9cbiAgICBTbGVlcGluZy51cGRhdGUgPSBmdW5jdGlvbihib2RpZXMsIGRlbHRhKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLFxuICAgICAgICAgICAgbW90aW9uU2xlZXBUaHJlc2hvbGQgPSBTbGVlcGluZy5fbW90aW9uU2xlZXBUaHJlc2hvbGQ7XG4gICAgICAgIFxuICAgICAgICAvLyB1cGRhdGUgYm9kaWVzIHNsZWVwaW5nIHN0YXR1c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgc3BlZWQgPSBCb2R5LmdldFNwZWVkKGJvZHkpLFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJTcGVlZCA9IEJvZHkuZ2V0QW5ndWxhclNwZWVkKGJvZHkpLFxuICAgICAgICAgICAgICAgIG1vdGlvbiA9IHNwZWVkICogc3BlZWQgKyBhbmd1bGFyU3BlZWQgKiBhbmd1bGFyU3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIHdha2UgdXAgYm9kaWVzIGlmIHRoZXkgaGF2ZSBhIGZvcmNlIGFwcGxpZWRcbiAgICAgICAgICAgIGlmIChib2R5LmZvcmNlLnggIT09IDAgfHwgYm9keS5mb3JjZS55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1pbk1vdGlvbiA9IE1hdGgubWluKGJvZHkubW90aW9uLCBtb3Rpb24pLFxuICAgICAgICAgICAgICAgIG1heE1vdGlvbiA9IE1hdGgubWF4KGJvZHkubW90aW9uLCBtb3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIGJpYXNlZCBhdmVyYWdlIG1vdGlvbiBlc3RpbWF0aW9uIGJldHdlZW4gZnJhbWVzXG4gICAgICAgICAgICBib2R5Lm1vdGlvbiA9IFNsZWVwaW5nLl9taW5CaWFzICogbWluTW90aW9uICsgKDEgLSBTbGVlcGluZy5fbWluQmlhcykgKiBtYXhNb3Rpb247XG5cbiAgICAgICAgICAgIGlmIChib2R5LnNsZWVwVGhyZXNob2xkID4gMCAmJiBib2R5Lm1vdGlvbiA8IG1vdGlvblNsZWVwVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYm9keS5zbGVlcENvdW50ZXIgPj0gYm9keS5zbGVlcFRocmVzaG9sZCAvIHRpbWVTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChib2R5LnNsZWVwQ291bnRlciA+IDApIHtcbiAgICAgICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIGNvbGxpZGluZyBwYWlycywgd2FrZXMgdGhlIHNsZWVwaW5nIGJvZGllcyBpbnZvbHZlZC5cbiAgICAgKiBAbWV0aG9kIGFmdGVyQ29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFNsZWVwaW5nLmFmdGVyQ29sbGlzaW9ucyA9IGZ1bmN0aW9uKHBhaXJzKSB7XG4gICAgICAgIHZhciBtb3Rpb25TbGVlcFRocmVzaG9sZCA9IFNsZWVwaW5nLl9tb3Rpb25TbGVlcFRocmVzaG9sZDtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaW5hY3RpdmUgcGFpcnNcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBLnBhcmVudCwgXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUIucGFyZW50O1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaWYgYXQgbGVhc3Qgb25lIGJvZHkgaXMgc3RhdGljXG4gICAgICAgICAgICBpZiAoKGJvZHlBLmlzU2xlZXBpbmcgJiYgYm9keUIuaXNTbGVlcGluZykgfHwgYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU2xlZXBpbmcgfHwgYm9keUIuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbGVlcGluZ0JvZHkgPSAoYm9keUEuaXNTbGVlcGluZyAmJiAhYm9keUEuaXNTdGF0aWMpID8gYm9keUEgOiBib2R5QixcbiAgICAgICAgICAgICAgICAgICAgbW92aW5nQm9keSA9IHNsZWVwaW5nQm9keSA9PT0gYm9keUEgPyBib2R5QiA6IGJvZHlBO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzbGVlcGluZ0JvZHkuaXNTdGF0aWMgJiYgbW92aW5nQm9keS5tb3Rpb24gPiBtb3Rpb25TbGVlcFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoc2xlZXBpbmdCb2R5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgXG4gICAgLyoqXG4gICAgICogU2V0IGEgYm9keSBhcyBzbGVlcGluZyBvciBhd2FrZS5cbiAgICAgKiBAbWV0aG9kIHNldFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTbGVlcGluZ1xuICAgICAqL1xuICAgIFNsZWVwaW5nLnNldCA9IGZ1bmN0aW9uKGJvZHksIGlzU2xlZXBpbmcpIHtcbiAgICAgICAgdmFyIHdhc1NsZWVwaW5nID0gYm9keS5pc1NsZWVwaW5nO1xuXG4gICAgICAgIGlmIChpc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICBib2R5LmlzU2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgPSBib2R5LnNsZWVwVGhyZXNob2xkO1xuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS54ID0gMDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnkgPSAwO1xuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gYm9keS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlO1xuICAgICAgICAgICAgYm9keS5zcGVlZCA9IDA7XG4gICAgICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IDA7XG4gICAgICAgICAgICBib2R5Lm1vdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIGlmICghd2FzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihib2R5LCAnc2xlZXBTdGFydCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5pc1NsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciA9IDA7XG5cbiAgICAgICAgICAgIGlmICh3YXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGJvZHksICdzbGVlcEVuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkNvbGxpc2lvbmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGRldGVjdGluZyBjb2xsaXNpb25zIGJldHdlZW4gYSBnaXZlbiBwYWlyIG9mIGJvZGllcy5cbipcbiogRm9yIGVmZmljaWVudCBkZXRlY3Rpb24gYmV0d2VlbiBhIGxpc3Qgb2YgYm9kaWVzLCBzZWUgYE1hdHRlci5EZXRlY3RvcmAgYW5kIGBNYXR0ZXIuUXVlcnlgLlxuKlxuKiBTZWUgYE1hdHRlci5FbmdpbmVgIGZvciBjb2xsaXNpb24gZXZlbnRzLlxuKlxuKiBAY2xhc3MgQ29sbGlzaW9uXG4qL1xuXG52YXIgQ29sbGlzaW9uID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGlzaW9uO1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIFBhaXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9zdXBwb3J0cyA9IFtdO1xuXG4gICAgdmFyIF9vdmVybGFwQUIgPSB7XG4gICAgICAgIG92ZXJsYXA6IDAsXG4gICAgICAgIGF4aXM6IG51bGxcbiAgICB9O1xuXG4gICAgdmFyIF9vdmVybGFwQkEgPSB7XG4gICAgICAgIG92ZXJsYXA6IDAsXG4gICAgICAgIGF4aXM6IG51bGxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xsaXNpb24gcmVjb3JkLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QSBUaGUgZmlyc3QgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gcmVjb3JkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QiBUaGUgc2Vjb25kIGJvZHkgcGFydCByZXByZXNlbnRlZCBieSB0aGUgY29sbGlzaW9uIHJlY29yZFxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbn0gQSBuZXcgY29sbGlzaW9uIHJlY29yZFxuICAgICAqL1xuICAgIENvbGxpc2lvbi5jcmVhdGUgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpIHtcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBwYWlyOiBudWxsLFxuICAgICAgICAgICAgY29sbGlkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYm9keUE6IGJvZHlBLFxuICAgICAgICAgICAgYm9keUI6IGJvZHlCLFxuICAgICAgICAgICAgcGFyZW50QTogYm9keUEucGFyZW50LFxuICAgICAgICAgICAgcGFyZW50QjogYm9keUIucGFyZW50LFxuICAgICAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgICAgICBub3JtYWw6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgdGFuZ2VudDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBwZW5ldHJhdGlvbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBzdXBwb3J0czogW11cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGNvbGxpc2lvbiBiZXR3ZWVuIHR3byBib2RpZXMuXG4gICAgICogQG1ldGhvZCBjb2xsaWRlc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHBhcmFtIHtwYWlyc30gW3BhaXJzXSBPcHRpb25hbGx5IHJldXNlIGNvbGxpc2lvbiByZWNvcmRzIGZyb20gZXhpc3RpbmcgcGFpcnMuXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9ufG51bGx9IEEgY29sbGlzaW9uIHJlY29yZCBpZiBkZXRlY3RlZCwgb3RoZXJ3aXNlIG51bGxcbiAgICAgKi9cbiAgICBDb2xsaXNpb24uY29sbGlkZXMgPSBmdW5jdGlvbihib2R5QSwgYm9keUIsIHBhaXJzKSB7XG4gICAgICAgIENvbGxpc2lvbi5fb3ZlcmxhcEF4ZXMoX292ZXJsYXBBQiwgYm9keUEudmVydGljZXMsIGJvZHlCLnZlcnRpY2VzLCBib2R5QS5heGVzKTtcblxuICAgICAgICBpZiAoX292ZXJsYXBBQi5vdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29sbGlzaW9uLl9vdmVybGFwQXhlcyhfb3ZlcmxhcEJBLCBib2R5Qi52ZXJ0aWNlcywgYm9keUEudmVydGljZXMsIGJvZHlCLmF4ZXMpO1xuXG4gICAgICAgIGlmIChfb3ZlcmxhcEJBLm92ZXJsYXAgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXVzZSBjb2xsaXNpb24gcmVjb3JkcyBmb3IgZ2MgZWZmaWNpZW5jeVxuICAgICAgICB2YXIgcGFpciA9IHBhaXJzICYmIHBhaXJzLnRhYmxlW1BhaXIuaWQoYm9keUEsIGJvZHlCKV0sXG4gICAgICAgICAgICBjb2xsaXNpb247XG5cbiAgICAgICAgaWYgKCFwYWlyKSB7XG4gICAgICAgICAgICBjb2xsaXNpb24gPSBDb2xsaXNpb24uY3JlYXRlKGJvZHlBLCBib2R5Qik7XG4gICAgICAgICAgICBjb2xsaXNpb24uY29sbGlkZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29sbGlzaW9uLmJvZHlBID0gYm9keUEuaWQgPCBib2R5Qi5pZCA/IGJvZHlBIDogYm9keUI7XG4gICAgICAgICAgICBjb2xsaXNpb24uYm9keUIgPSBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUIgOiBib2R5QTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5wYXJlbnRBID0gY29sbGlzaW9uLmJvZHlBLnBhcmVudDtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5wYXJlbnRCID0gY29sbGlzaW9uLmJvZHlCLnBhcmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keUEgPSBjb2xsaXNpb24uYm9keUE7XG4gICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCO1xuXG4gICAgICAgIHZhciBtaW5PdmVybGFwO1xuXG4gICAgICAgIGlmIChfb3ZlcmxhcEFCLm92ZXJsYXAgPCBfb3ZlcmxhcEJBLm92ZXJsYXApIHtcbiAgICAgICAgICAgIG1pbk92ZXJsYXAgPSBfb3ZlcmxhcEFCO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluT3ZlcmxhcCA9IF9vdmVybGFwQkE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9ybWFsID0gY29sbGlzaW9uLm5vcm1hbCxcbiAgICAgICAgICAgIHN1cHBvcnRzID0gY29sbGlzaW9uLnN1cHBvcnRzLFxuICAgICAgICAgICAgbWluQXhpcyA9IG1pbk92ZXJsYXAuYXhpcyxcbiAgICAgICAgICAgIG1pbkF4aXNYID0gbWluQXhpcy54LFxuICAgICAgICAgICAgbWluQXhpc1kgPSBtaW5BeGlzLnk7XG5cbiAgICAgICAgLy8gZW5zdXJlIG5vcm1hbCBpcyBmYWNpbmcgYXdheSBmcm9tIGJvZHlBXG4gICAgICAgIGlmIChtaW5BeGlzWCAqIChib2R5Qi5wb3NpdGlvbi54IC0gYm9keUEucG9zaXRpb24ueCkgKyBtaW5BeGlzWSAqIChib2R5Qi5wb3NpdGlvbi55IC0gYm9keUEucG9zaXRpb24ueSkgPCAwKSB7XG4gICAgICAgICAgICBub3JtYWwueCA9IG1pbkF4aXNYO1xuICAgICAgICAgICAgbm9ybWFsLnkgPSBtaW5BeGlzWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1hbC54ID0gLW1pbkF4aXNYO1xuICAgICAgICAgICAgbm9ybWFsLnkgPSAtbWluQXhpc1k7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50LnggPSAtbm9ybWFsLnk7XG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50LnkgPSBub3JtYWwueDtcblxuICAgICAgICBjb2xsaXNpb24uZGVwdGggPSBtaW5PdmVybGFwLm92ZXJsYXA7XG5cbiAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnggPSBub3JtYWwueCAqIGNvbGxpc2lvbi5kZXB0aDtcbiAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnkgPSBub3JtYWwueSAqIGNvbGxpc2lvbi5kZXB0aDtcblxuICAgICAgICAvLyBmaW5kIHN1cHBvcnQgcG9pbnRzLCB0aGVyZSBpcyBhbHdheXMgZWl0aGVyIGV4YWN0bHkgb25lIG9yIHR3b1xuICAgICAgICB2YXIgc3VwcG9ydHNCID0gQ29sbGlzaW9uLl9maW5kU3VwcG9ydHMoYm9keUEsIGJvZHlCLCBub3JtYWwsIDEpLFxuICAgICAgICAgICAgc3VwcG9ydENvdW50ID0gMDtcblxuICAgICAgICAvLyBmaW5kIHRoZSBzdXBwb3J0cyBmcm9tIGJvZHlCIHRoYXQgYXJlIGluc2lkZSBib2R5QVxuICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMoYm9keUEudmVydGljZXMsIHN1cHBvcnRzQlswXSkpIHtcbiAgICAgICAgICAgIHN1cHBvcnRzW3N1cHBvcnRDb3VudCsrXSA9IHN1cHBvcnRzQlswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5QS52ZXJ0aWNlcywgc3VwcG9ydHNCWzFdKSkge1xuICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNCWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluZCB0aGUgc3VwcG9ydHMgZnJvbSBib2R5QSB0aGF0IGFyZSBpbnNpZGUgYm9keUJcbiAgICAgICAgaWYgKHN1cHBvcnRDb3VudCA8IDIpIHtcbiAgICAgICAgICAgIHZhciBzdXBwb3J0c0EgPSBDb2xsaXNpb24uX2ZpbmRTdXBwb3J0cyhib2R5QiwgYm9keUEsIG5vcm1hbCwgLTEpO1xuXG4gICAgICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMoYm9keUIudmVydGljZXMsIHN1cHBvcnRzQVswXSkpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0c1tzdXBwb3J0Q291bnQrK10gPSBzdXBwb3J0c0FbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdXBwb3J0Q291bnQgPCAyICYmIFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlCLnZlcnRpY2VzLCBzdXBwb3J0c0FbMV0pKSB7XG4gICAgICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNBWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWNjb3VudCBmb3IgdGhlIGVkZ2UgY2FzZSBvZiBvdmVybGFwcGluZyBidXQgbm8gdmVydGV4IGNvbnRhaW5tZW50XG4gICAgICAgIGlmIChzdXBwb3J0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHN1cHBvcnRzW3N1cHBvcnRDb3VudCsrXSA9IHN1cHBvcnRzQlswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBzdXBwb3J0cyBhcnJheSBzaXplXG4gICAgICAgIHN1cHBvcnRzLmxlbmd0aCA9IHN1cHBvcnRDb3VudDtcblxuICAgICAgICByZXR1cm4gY29sbGlzaW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBvdmVybGFwIGJldHdlZW4gdHdvIHNldHMgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBfb3ZlcmxhcEF4ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXN1bHRcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc0FcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc0JcbiAgICAgKiBAcGFyYW0ge2F4ZXN9IGF4ZXNcbiAgICAgKi9cbiAgICBDb2xsaXNpb24uX292ZXJsYXBBeGVzID0gZnVuY3Rpb24ocmVzdWx0LCB2ZXJ0aWNlc0EsIHZlcnRpY2VzQiwgYXhlcykge1xuICAgICAgICB2YXIgdmVydGljZXNBTGVuZ3RoID0gdmVydGljZXNBLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRpY2VzQkxlbmd0aCA9IHZlcnRpY2VzQi5sZW5ndGgsXG4gICAgICAgICAgICB2ZXJ0aWNlc0FYID0gdmVydGljZXNBWzBdLngsXG4gICAgICAgICAgICB2ZXJ0aWNlc0FZID0gdmVydGljZXNBWzBdLnksXG4gICAgICAgICAgICB2ZXJ0aWNlc0JYID0gdmVydGljZXNCWzBdLngsXG4gICAgICAgICAgICB2ZXJ0aWNlc0JZID0gdmVydGljZXNCWzBdLnksXG4gICAgICAgICAgICBheGVzTGVuZ3RoID0gYXhlcy5sZW5ndGgsXG4gICAgICAgICAgICBvdmVybGFwTWluID0gTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICAgIG92ZXJsYXBBeGlzTnVtYmVyID0gMCxcbiAgICAgICAgICAgIG92ZXJsYXAsXG4gICAgICAgICAgICBvdmVybGFwQUIsXG4gICAgICAgICAgICBvdmVybGFwQkEsXG4gICAgICAgICAgICBkb3QsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXhlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXhpcyA9IGF4ZXNbaV0sXG4gICAgICAgICAgICAgICAgYXhpc1ggPSBheGlzLngsXG4gICAgICAgICAgICAgICAgYXhpc1kgPSBheGlzLnksXG4gICAgICAgICAgICAgICAgbWluQSA9IHZlcnRpY2VzQVggKiBheGlzWCArIHZlcnRpY2VzQVkgKiBheGlzWSxcbiAgICAgICAgICAgICAgICBtaW5CID0gdmVydGljZXNCWCAqIGF4aXNYICsgdmVydGljZXNCWSAqIGF4aXNZLFxuICAgICAgICAgICAgICAgIG1heEEgPSBtaW5BLFxuICAgICAgICAgICAgICAgIG1heEIgPSBtaW5CO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgdmVydGljZXNBTGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSB2ZXJ0aWNlc0Fbal0ueCAqIGF4aXNYICsgdmVydGljZXNBW2pdLnkgKiBheGlzWTtcblxuICAgICAgICAgICAgICAgIGlmIChkb3QgPiBtYXhBKSB7IFxuICAgICAgICAgICAgICAgICAgICBtYXhBID0gZG90O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG90IDwgbWluQSkgeyBcbiAgICAgICAgICAgICAgICAgICAgbWluQSA9IGRvdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCB2ZXJ0aWNlc0JMZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IHZlcnRpY2VzQltqXS54ICogYXhpc1ggKyB2ZXJ0aWNlc0Jbal0ueSAqIGF4aXNZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvdCA+IG1heEIpIHsgXG4gICAgICAgICAgICAgICAgICAgIG1heEIgPSBkb3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb3QgPCBtaW5CKSB7IFxuICAgICAgICAgICAgICAgICAgICBtaW5CID0gZG90O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3ZlcmxhcEFCID0gbWF4QSAtIG1pbkI7XG4gICAgICAgICAgICBvdmVybGFwQkEgPSBtYXhCIC0gbWluQTtcbiAgICAgICAgICAgIG92ZXJsYXAgPSBvdmVybGFwQUIgPCBvdmVybGFwQkEgPyBvdmVybGFwQUIgOiBvdmVybGFwQkE7XG5cbiAgICAgICAgICAgIGlmIChvdmVybGFwIDwgb3ZlcmxhcE1pbikge1xuICAgICAgICAgICAgICAgIG92ZXJsYXBNaW4gPSBvdmVybGFwO1xuICAgICAgICAgICAgICAgIG92ZXJsYXBBeGlzTnVtYmVyID0gaTtcblxuICAgICAgICAgICAgICAgIGlmIChvdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIG5vdCBiZSBpbnRlcnNlY3RpbmdcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdC5heGlzID0gYXhlc1tvdmVybGFwQXhpc051bWJlcl07XG4gICAgICAgIHJlc3VsdC5vdmVybGFwID0gb3ZlcmxhcE1pbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvamVjdHMgdmVydGljZXMgb24gYW4gYXhpcyBhbmQgcmV0dXJucyBhbiBpbnRlcnZhbC5cbiAgICAgKiBAbWV0aG9kIF9wcm9qZWN0VG9BeGlzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gcHJvamVjdGlvblxuICAgICAqIEBwYXJhbSB7fSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7fSBheGlzXG4gICAgICovXG4gICAgQ29sbGlzaW9uLl9wcm9qZWN0VG9BeGlzID0gZnVuY3Rpb24ocHJvamVjdGlvbiwgdmVydGljZXMsIGF4aXMpIHtcbiAgICAgICAgdmFyIG1pbiA9IHZlcnRpY2VzWzBdLnggKiBheGlzLnggKyB2ZXJ0aWNlc1swXS55ICogYXhpcy55LFxuICAgICAgICAgICAgbWF4ID0gbWluO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBkb3QgPSB2ZXJ0aWNlc1tpXS54ICogYXhpcy54ICsgdmVydGljZXNbaV0ueSAqIGF4aXMueTtcblxuICAgICAgICAgICAgaWYgKGRvdCA+IG1heCkgeyBcbiAgICAgICAgICAgICAgICBtYXggPSBkb3Q7IFxuICAgICAgICAgICAgfSBlbHNlIGlmIChkb3QgPCBtaW4pIHsgXG4gICAgICAgICAgICAgICAgbWluID0gZG90OyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2plY3Rpb24ubWluID0gbWluO1xuICAgICAgICBwcm9qZWN0aW9uLm1heCA9IG1heDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgc3VwcG9ydGluZyB2ZXJ0aWNlcyBnaXZlbiB0d28gYm9kaWVzIGFsb25nIGEgZ2l2ZW4gZGlyZWN0aW9uIHVzaW5nIGhpbGwtY2xpbWJpbmcuXG4gICAgICogQG1ldGhvZCBfZmluZFN1cHBvcnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBub3JtYWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uXG4gICAgICogQHJldHVybiBbdmVjdG9yXVxuICAgICAqL1xuICAgIENvbGxpc2lvbi5fZmluZFN1cHBvcnRzID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBub3JtYWwsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgdmVydGljZXMgPSBib2R5Qi52ZXJ0aWNlcyxcbiAgICAgICAgICAgIHZlcnRpY2VzTGVuZ3RoID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgYm9keUFQb3NpdGlvblggPSBib2R5QS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgYm9keUFQb3NpdGlvblkgPSBib2R5QS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgbm9ybWFsWCA9IG5vcm1hbC54ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgbm9ybWFsWSA9IG5vcm1hbC55ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICAgIHZlcnRleEEsXG4gICAgICAgICAgICB2ZXJ0ZXhCLFxuICAgICAgICAgICAgdmVydGV4QyxcbiAgICAgICAgICAgIGRpc3RhbmNlLFxuICAgICAgICAgICAgajtcblxuICAgICAgICAvLyBmaW5kIGRlZXBlc3QgdmVydGV4IHJlbGF0aXZlIHRvIHRoZSBheGlzXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCB2ZXJ0aWNlc0xlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCID0gdmVydGljZXNbal07XG4gICAgICAgICAgICBkaXN0YW5jZSA9IG5vcm1hbFggKiAoYm9keUFQb3NpdGlvblggLSB2ZXJ0ZXhCLngpICsgbm9ybWFsWSAqIChib2R5QVBvc2l0aW9uWSAtIHZlcnRleEIueSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnZleCBoaWxsLWNsaW1iaW5nXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBuZWFyZXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBID0gdmVydGV4QjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1lYXN1cmUgbmV4dCB2ZXJ0ZXhcbiAgICAgICAgdmVydGV4QyA9IHZlcnRpY2VzWyh2ZXJ0aWNlc0xlbmd0aCArIHZlcnRleEEuaW5kZXggLSAxKSAlIHZlcnRpY2VzTGVuZ3RoXTtcbiAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gbm9ybWFsWCAqIChib2R5QVBvc2l0aW9uWCAtIHZlcnRleEMueCkgKyBub3JtYWxZICogKGJvZHlBUG9zaXRpb25ZIC0gdmVydGV4Qy55KTtcblxuICAgICAgICAvLyBjb21wYXJlIHdpdGggcHJldmlvdXMgdmVydGV4XG4gICAgICAgIHZlcnRleEIgPSB2ZXJ0aWNlc1sodmVydGV4QS5pbmRleCArIDEpICUgdmVydGljZXNMZW5ndGhdO1xuICAgICAgICBpZiAobm9ybWFsWCAqIChib2R5QVBvc2l0aW9uWCAtIHZlcnRleEIueCkgKyBub3JtYWxZICogKGJvZHlBUG9zaXRpb25ZIC0gdmVydGV4Qi55KSA8IG5lYXJlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgX3N1cHBvcnRzWzBdID0gdmVydGV4QTtcbiAgICAgICAgICAgIF9zdXBwb3J0c1sxXSA9IHZlcnRleEI7XG5cbiAgICAgICAgICAgIHJldHVybiBfc3VwcG9ydHM7XG4gICAgICAgIH1cblxuICAgICAgICBfc3VwcG9ydHNbMF0gPSB2ZXJ0ZXhBO1xuICAgICAgICBfc3VwcG9ydHNbMV0gPSB2ZXJ0ZXhDO1xuXG4gICAgICAgIHJldHVybiBfc3VwcG9ydHM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIHBhaXIgdXNpbmcgdGhpcyBjb2xsaXNpb24gcmVjb3JkLCBpZiB0aGVyZSBpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGFpclxuICAgICAqIEB0eXBlIHtwYWlyfG51bGx9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBib2RpZXMgd2VyZSBjb2xsaWRpbmcgd2hlbiB0aGUgY29sbGlzaW9uIHdhcyBsYXN0IHVwZGF0ZWQuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGNvbGxpZGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlyc3QgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKHNlZSBhbHNvIGBjb2xsaXNpb24ucGFyZW50QWApLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZWNvbmQgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKHNlZSBhbHNvIGBjb2xsaXNpb24ucGFyZW50QmApLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBib2R5QlxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBib2R5IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKGkuZS4gYGNvbGxpc2lvbi5ib2R5QS5wYXJlbnRgKS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZWNvbmQgYm9keSByZXByZXNlbnRlZCBieSB0aGUgY29sbGlzaW9uIChpLmUuIGBjb2xsaXNpb24uYm9keUIucGFyZW50YCkuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IHBhcmVudEJcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgcmVwcmVzZW50cyB0aGUgbWluaW11bSBzZXBhcmF0aW5nIGRpc3RhbmNlIGJldHdlZW4gdGhlIGJvZGllcyBhbG9uZyB0aGUgY29sbGlzaW9uIG5vcm1hbC5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBkZXB0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgbm9ybWFsaXNlZCBgVmVjdG9yYCB0aGF0IHJlcHJlc2VudHMgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHRoZSBib2RpZXMgdGhhdCBwcm92aWRlcyB0aGUgbWluaW11bSBzZXBhcmF0aW5nIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG5vcm1hbFxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIG5vcm1hbGlzZWQgYFZlY3RvcmAgdGhhdCBpcyB0aGUgdGFuZ2VudCBkaXJlY3Rpb24gdG8gdGhlIGNvbGxpc2lvbiBub3JtYWwuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGFuZ2VudFxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgcmVwcmVzZW50cyB0aGUgZGlyZWN0aW9uIGFuZCBkZXB0aCBvZiB0aGUgY29sbGlzaW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBlbmV0cmF0aW9uXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGJvZHkgdmVydGljZXMgdGhhdCByZXByZXNlbnQgdGhlIHN1cHBvcnQgcG9pbnRzIGluIHRoZSBjb2xsaXNpb24uXG4gICAgICogVGhlc2UgYXJlIHRoZSBkZWVwZXN0IHZlcnRpY2VzIChhbG9uZyB0aGUgY29sbGlzaW9uIG5vcm1hbCkgb2YgZWFjaCBib2R5IHRoYXQgYXJlIGNvbnRhaW5lZCBieSB0aGUgb3RoZXIgYm9keSdzIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHN1cHBvcnRzXG4gICAgICogQHR5cGUgdmVjdG9yW11cbiAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUGFpcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXJzLlxuKlxuKiBAY2xhc3MgUGFpclxuKi9cblxudmFyIFBhaXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWlyO1xuXG52YXIgQ29udGFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBhaXIuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqIEByZXR1cm4ge3BhaXJ9IEEgbmV3IHBhaXJcbiAgICAgKi9cbiAgICBQYWlyLmNyZWF0ZSA9IGZ1bmN0aW9uKGNvbGxpc2lvbiwgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QSxcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCO1xuXG4gICAgICAgIHZhciBwYWlyID0ge1xuICAgICAgICAgICAgaWQ6IFBhaXIuaWQoYm9keUEsIGJvZHlCKSxcbiAgICAgICAgICAgIGJvZHlBOiBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCOiBib2R5QixcbiAgICAgICAgICAgIGNvbGxpc2lvbjogY29sbGlzaW9uLFxuICAgICAgICAgICAgY29udGFjdHM6IFtdLFxuICAgICAgICAgICAgYWN0aXZlQ29udGFjdHM6IFtdLFxuICAgICAgICAgICAgc2VwYXJhdGlvbjogMCxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlybWVkQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgaXNTZW5zb3I6IGJvZHlBLmlzU2Vuc29yIHx8IGJvZHlCLmlzU2Vuc29yLFxuICAgICAgICAgICAgdGltZUNyZWF0ZWQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIHRpbWVVcGRhdGVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICBpbnZlcnNlTWFzczogMCxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLFxuICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IDAsXG4gICAgICAgICAgICByZXN0aXR1dGlvbjogMCxcbiAgICAgICAgICAgIHNsb3A6IDBcbiAgICAgICAgfTtcblxuICAgICAgICBQYWlyLnVwZGF0ZShwYWlyLCBjb2xsaXNpb24sIHRpbWVzdGFtcCk7XG5cbiAgICAgICAgcmV0dXJuIHBhaXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYSBwYWlyIGdpdmVuIGEgY29sbGlzaW9uLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtwYWlyfSBwYWlyXG4gICAgICogQHBhcmFtIHtjb2xsaXNpb259IGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBQYWlyLnVwZGF0ZSA9IGZ1bmN0aW9uKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBjb250YWN0cyA9IHBhaXIuY29udGFjdHMsXG4gICAgICAgICAgICBzdXBwb3J0cyA9IGNvbGxpc2lvbi5zdXBwb3J0cyxcbiAgICAgICAgICAgIGFjdGl2ZUNvbnRhY3RzID0gcGFpci5hY3RpdmVDb250YWN0cyxcbiAgICAgICAgICAgIHBhcmVudEEgPSBjb2xsaXNpb24ucGFyZW50QSxcbiAgICAgICAgICAgIHBhcmVudEIgPSBjb2xsaXNpb24ucGFyZW50QixcbiAgICAgICAgICAgIHBhcmVudEFWZXJ0aWNlc0xlbmd0aCA9IHBhcmVudEEudmVydGljZXMubGVuZ3RoO1xuICAgICAgICBcbiAgICAgICAgcGFpci5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHBhaXIudGltZVVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgIHBhaXIuY29sbGlzaW9uID0gY29sbGlzaW9uO1xuICAgICAgICBwYWlyLnNlcGFyYXRpb24gPSBjb2xsaXNpb24uZGVwdGg7XG4gICAgICAgIHBhaXIuaW52ZXJzZU1hc3MgPSBwYXJlbnRBLmludmVyc2VNYXNzICsgcGFyZW50Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgcGFpci5mcmljdGlvbiA9IHBhcmVudEEuZnJpY3Rpb24gPCBwYXJlbnRCLmZyaWN0aW9uID8gcGFyZW50QS5mcmljdGlvbiA6IHBhcmVudEIuZnJpY3Rpb247XG4gICAgICAgIHBhaXIuZnJpY3Rpb25TdGF0aWMgPSBwYXJlbnRBLmZyaWN0aW9uU3RhdGljID4gcGFyZW50Qi5mcmljdGlvblN0YXRpYyA/IHBhcmVudEEuZnJpY3Rpb25TdGF0aWMgOiBwYXJlbnRCLmZyaWN0aW9uU3RhdGljO1xuICAgICAgICBwYWlyLnJlc3RpdHV0aW9uID0gcGFyZW50QS5yZXN0aXR1dGlvbiA+IHBhcmVudEIucmVzdGl0dXRpb24gPyBwYXJlbnRBLnJlc3RpdHV0aW9uIDogcGFyZW50Qi5yZXN0aXR1dGlvbjtcbiAgICAgICAgcGFpci5zbG9wID0gcGFyZW50QS5zbG9wID4gcGFyZW50Qi5zbG9wID8gcGFyZW50QS5zbG9wIDogcGFyZW50Qi5zbG9wO1xuXG4gICAgICAgIGNvbGxpc2lvbi5wYWlyID0gcGFpcjtcbiAgICAgICAgYWN0aXZlQ29udGFjdHMubGVuZ3RoID0gMDtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3VwcG9ydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdXBwb3J0ID0gc3VwcG9ydHNbaV0sXG4gICAgICAgICAgICAgICAgY29udGFjdElkID0gc3VwcG9ydC5ib2R5ID09PSBwYXJlbnRBID8gc3VwcG9ydC5pbmRleCA6IHBhcmVudEFWZXJ0aWNlc0xlbmd0aCArIHN1cHBvcnQuaW5kZXgsXG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGNvbnRhY3RzW2NvbnRhY3RJZF07XG5cbiAgICAgICAgICAgIGlmIChjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29udGFjdHMucHVzaChjb250YWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29udGFjdHMucHVzaChjb250YWN0c1tjb250YWN0SWRdID0gQ29udGFjdC5jcmVhdGUoc3VwcG9ydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBTZXQgYSBwYWlyIGFzIGFjdGl2ZSBvciBpbmFjdGl2ZS5cbiAgICAgKiBAbWV0aG9kIHNldEFjdGl2ZVxuICAgICAqIEBwYXJhbSB7cGFpcn0gcGFpclxuICAgICAqIEBwYXJhbSB7Ym9vbH0gaXNBY3RpdmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG4gICAgUGFpci5zZXRBY3RpdmUgPSBmdW5jdGlvbihwYWlyLCBpc0FjdGl2ZSwgdGltZXN0YW1wKSB7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgcGFpci5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICBwYWlyLnRpbWVVcGRhdGVkID0gdGltZXN0YW1wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFpci5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWQgZm9yIHRoZSBnaXZlbiBwYWlyLlxuICAgICAqIEBtZXRob2QgaWRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVW5pcXVlIHBhaXJJZFxuICAgICAqL1xuICAgIFBhaXIuaWQgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpIHtcbiAgICAgICAgaWYgKGJvZHlBLmlkIDwgYm9keUIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnQScgKyBib2R5QS5pZCArICdCJyArIGJvZHlCLmlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdBJyArIGJvZHlCLmlkICsgJ0InICsgYm9keUEuaWQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkNvbnN0cmFpbnRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbnN0cmFpbnRzLlxuKiBDb25zdHJhaW50cyBhcmUgdXNlZCBmb3Igc3BlY2lmeWluZyB0aGF0IGEgZml4ZWQgZGlzdGFuY2UgbXVzdCBiZSBtYWludGFpbmVkIGJldHdlZW4gdHdvIGJvZGllcyAob3IgYSBib2R5IGFuZCBhIGZpeGVkIHdvcmxkLXNwYWNlIHBvc2l0aW9uKS5cbiogVGhlIHN0aWZmbmVzcyBvZiBjb25zdHJhaW50cyBjYW4gYmUgbW9kaWZpZWQgdG8gY3JlYXRlIHNwcmluZ3Mgb3IgZWxhc3RpYy5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIENvbnN0cmFpbnRcbiovXG5cbnZhciBDb25zdHJhaW50ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQ29uc3RyYWludDtcblxudmFyIFZlcnRpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIFNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEF4ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBDb25zdHJhaW50Ll93YXJtaW5nID0gMC40O1xuICAgIENvbnN0cmFpbnQuX3RvcnF1ZURhbXBlbiA9IDE7XG4gICAgQ29uc3RyYWludC5fbWluTGVuZ3RoID0gMC4wMDAwMDE7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnN0cmFpbnQuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBUbyBzaW11bGF0ZSBhIHJldm9sdXRlIGNvbnN0cmFpbnQgKG9yIHBpbiBqb2ludCkgc2V0IGBsZW5ndGg6IDBgIGFuZCBhIGhpZ2ggYHN0aWZmbmVzc2AgdmFsdWUgKGUuZy4gYDAuN2Agb3IgYWJvdmUpLlxuICAgICAqIElmIHRoZSBjb25zdHJhaW50IGlzIHVuc3RhYmxlLCB0cnkgbG93ZXJpbmcgdGhlIGBzdGlmZm5lc3NgIHZhbHVlIGFuZCAvIG9yIGluY3JlYXNpbmcgYGVuZ2luZS5jb25zdHJhaW50SXRlcmF0aW9uc2AuXG4gICAgICogRm9yIGNvbXBvdW5kIGJvZGllcywgY29uc3RyYWludHMgbXVzdCBiZSBhcHBsaWVkIHRvIHRoZSBwYXJlbnQgYm9keSAobm90IG9uZSBvZiBpdHMgcGFydHMpLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBvcHRpb25zO1xuXG4gICAgICAgIC8vIGlmIGJvZGllcyBkZWZpbmVkIGJ1dCBubyBwb2ludHMsIHVzZSBib2R5IGNlbnRyZVxuICAgICAgICBpZiAoY29uc3RyYWludC5ib2R5QSAmJiAhY29uc3RyYWludC5wb2ludEEpXG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QSA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBpZiAoY29uc3RyYWludC5ib2R5QiAmJiAhY29uc3RyYWludC5wb2ludEIpXG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IHsgeDogMCwgeTogMCB9O1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzdGF0aWMgbGVuZ3RoIHVzaW5nIGluaXRpYWwgd29ybGQgc3BhY2UgcG9pbnRzXG4gICAgICAgIHZhciBpbml0aWFsUG9pbnRBID0gY29uc3RyYWludC5ib2R5QSA/IFZlY3Rvci5hZGQoY29uc3RyYWludC5ib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpIDogY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICBpbml0aWFsUG9pbnRCID0gY29uc3RyYWludC5ib2R5QiA/IFZlY3Rvci5hZGQoY29uc3RyYWludC5ib2R5Qi5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEIpIDogY29uc3RyYWludC5wb2ludEIsXG4gICAgICAgICAgICBsZW5ndGggPSBWZWN0b3IubWFnbml0dWRlKFZlY3Rvci5zdWIoaW5pdGlhbFBvaW50QSwgaW5pdGlhbFBvaW50QikpO1xuICAgIFxuICAgICAgICBjb25zdHJhaW50Lmxlbmd0aCA9IHR5cGVvZiBjb25zdHJhaW50Lmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgPyBjb25zdHJhaW50Lmxlbmd0aCA6IGxlbmd0aDtcblxuICAgICAgICAvLyBvcHRpb24gZGVmYXVsdHNcbiAgICAgICAgY29uc3RyYWludC5pZCA9IGNvbnN0cmFpbnQuaWQgfHwgQ29tbW9uLm5leHRJZCgpO1xuICAgICAgICBjb25zdHJhaW50LmxhYmVsID0gY29uc3RyYWludC5sYWJlbCB8fCAnQ29uc3RyYWludCc7XG4gICAgICAgIGNvbnN0cmFpbnQudHlwZSA9ICdjb25zdHJhaW50JztcbiAgICAgICAgY29uc3RyYWludC5zdGlmZm5lc3MgPSBjb25zdHJhaW50LnN0aWZmbmVzcyB8fCAoY29uc3RyYWludC5sZW5ndGggPiAwID8gMSA6IDAuNyk7XG4gICAgICAgIGNvbnN0cmFpbnQuZGFtcGluZyA9IGNvbnN0cmFpbnQuZGFtcGluZyB8fCAwO1xuICAgICAgICBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgPSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgfHwgMDtcbiAgICAgICAgY29uc3RyYWludC5hbmdsZUEgPSBjb25zdHJhaW50LmJvZHlBID8gY29uc3RyYWludC5ib2R5QS5hbmdsZSA6IGNvbnN0cmFpbnQuYW5nbGVBO1xuICAgICAgICBjb25zdHJhaW50LmFuZ2xlQiA9IGNvbnN0cmFpbnQuYm9keUIgPyBjb25zdHJhaW50LmJvZHlCLmFuZ2xlIDogY29uc3RyYWludC5hbmdsZUI7XG4gICAgICAgIGNvbnN0cmFpbnQucGx1Z2luID0ge307XG5cbiAgICAgICAgLy8gcmVuZGVyXG4gICAgICAgIHZhciByZW5kZXIgPSB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgbGluZVdpZHRoOiAyLFxuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgIGFuY2hvcnM6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29uc3RyYWludC5sZW5ndGggPT09IDAgJiYgY29uc3RyYWludC5zdGlmZm5lc3MgPiAwLjEpIHtcbiAgICAgICAgICAgIHJlbmRlci50eXBlID0gJ3Bpbic7XG4gICAgICAgICAgICByZW5kZXIuYW5jaG9ycyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnQuc3RpZmZuZXNzIDwgMC45KSB7XG4gICAgICAgICAgICByZW5kZXIudHlwZSA9ICdzcHJpbmcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RyYWludC5yZW5kZXIgPSBDb21tb24uZXh0ZW5kKHJlbmRlciwgY29uc3RyYWludC5yZW5kZXIpO1xuXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBmb3Igc29sdmluZyBieSBjb25zdHJhaW50IHdhcm1pbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHByZVNvbHZlQWxsXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIENvbnN0cmFpbnQucHJlU29sdmVBbGwgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGltcHVsc2UgPSBib2R5LmNvbnN0cmFpbnRJbXB1bHNlO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCAoaW1wdWxzZS54ID09PSAwICYmIGltcHVsc2UueSA9PT0gMCAmJiBpbXB1bHNlLmFuZ2xlID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnggKz0gaW1wdWxzZS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGltcHVsc2UueTtcbiAgICAgICAgICAgIGJvZHkuYW5nbGUgKz0gaW1wdWxzZS5hbmdsZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb2x2ZXMgYWxsIGNvbnN0cmFpbnRzIGluIGEgbGlzdCBvZiBjb2xsaXNpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzb2x2ZUFsbFxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludFtdfSBjb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICAgICAqL1xuICAgIENvbnN0cmFpbnQuc29sdmVBbGwgPSBmdW5jdGlvbihjb25zdHJhaW50cywgZGVsdGEpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IENvbW1vbi5jbGFtcChkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLCAwLCAxKTtcblxuICAgICAgICAvLyBTb2x2ZSBmaXhlZCBjb25zdHJhaW50cyBmaXJzdC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXSxcbiAgICAgICAgICAgICAgICBmaXhlZEEgPSAhY29uc3RyYWludC5ib2R5QSB8fCAoY29uc3RyYWludC5ib2R5QSAmJiBjb25zdHJhaW50LmJvZHlBLmlzU3RhdGljKSxcbiAgICAgICAgICAgICAgICBmaXhlZEIgPSAhY29uc3RyYWludC5ib2R5QiB8fCAoY29uc3RyYWludC5ib2R5QiAmJiBjb25zdHJhaW50LmJvZHlCLmlzU3RhdGljKTtcblxuICAgICAgICAgICAgaWYgKGZpeGVkQSB8fCBmaXhlZEIpIHtcbiAgICAgICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlKGNvbnN0cmFpbnRzW2ldLCB0aW1lU2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29sdmUgZnJlZSBjb25zdHJhaW50cyBsYXN0LlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXTtcbiAgICAgICAgICAgIGZpeGVkQSA9ICFjb25zdHJhaW50LmJvZHlBIHx8IChjb25zdHJhaW50LmJvZHlBICYmIGNvbnN0cmFpbnQuYm9keUEuaXNTdGF0aWMpO1xuICAgICAgICAgICAgZml4ZWRCID0gIWNvbnN0cmFpbnQuYm9keUIgfHwgKGNvbnN0cmFpbnQuYm9keUIgJiYgY29uc3RyYWludC5ib2R5Qi5pc1N0YXRpYyk7XG5cbiAgICAgICAgICAgIGlmICghZml4ZWRBICYmICFmaXhlZEIpIHtcbiAgICAgICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlKGNvbnN0cmFpbnRzW2ldLCB0aW1lU2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNvbHZlcyBhIGRpc3RhbmNlIGNvbnN0cmFpbnQgd2l0aCBHYXVzcy1TaWVkZWwgbWV0aG9kLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzb2x2ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGVcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnNvbHZlID0gZnVuY3Rpb24oY29uc3RyYWludCwgdGltZVNjYWxlKSB7XG4gICAgICAgIHZhciBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsXG4gICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsXG4gICAgICAgICAgICBwb2ludEEgPSBjb25zdHJhaW50LnBvaW50QSxcbiAgICAgICAgICAgIHBvaW50QiA9IGNvbnN0cmFpbnQucG9pbnRCO1xuXG4gICAgICAgIGlmICghYm9keUEgJiYgIWJvZHlCKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIHVwZGF0ZSByZWZlcmVuY2UgYW5nbGVcbiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykge1xuICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZShwb2ludEEsIGJvZHlBLmFuZ2xlIC0gY29uc3RyYWludC5hbmdsZUEsIHBvaW50QSk7XG4gICAgICAgICAgICBjb25zdHJhaW50LmFuZ2xlQSA9IGJvZHlBLmFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyB1cGRhdGUgcmVmZXJlbmNlIGFuZ2xlXG4gICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIFZlY3Rvci5yb3RhdGUocG9pbnRCLCBib2R5Qi5hbmdsZSAtIGNvbnN0cmFpbnQuYW5nbGVCLCBwb2ludEIpO1xuICAgICAgICAgICAgY29uc3RyYWludC5hbmdsZUIgPSBib2R5Qi5hbmdsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludEFXb3JsZCA9IHBvaW50QSxcbiAgICAgICAgICAgIHBvaW50QldvcmxkID0gcG9pbnRCO1xuXG4gICAgICAgIGlmIChib2R5QSkgcG9pbnRBV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlBLnBvc2l0aW9uLCBwb2ludEEpO1xuICAgICAgICBpZiAoYm9keUIpIHBvaW50QldvcmxkID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgcG9pbnRCKTtcblxuICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKHBvaW50QVdvcmxkLCBwb2ludEJXb3JsZCksXG4gICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShkZWx0YSk7XG5cbiAgICAgICAgLy8gcHJldmVudCBzaW5ndWxhcml0eVxuICAgICAgICBpZiAoY3VycmVudExlbmd0aCA8IENvbnN0cmFpbnQuX21pbkxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudExlbmd0aCA9IENvbnN0cmFpbnQuX21pbkxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNvbHZlIGRpc3RhbmNlIGNvbnN0cmFpbnQgd2l0aCBHYXVzcy1TaWVkZWwgbWV0aG9kXG4gICAgICAgIHZhciBkaWZmZXJlbmNlID0gKGN1cnJlbnRMZW5ndGggLSBjb25zdHJhaW50Lmxlbmd0aCkgLyBjdXJyZW50TGVuZ3RoLFxuICAgICAgICAgICAgaXNSaWdpZCA9IGNvbnN0cmFpbnQuc3RpZmZuZXNzID49IDEgfHwgY29uc3RyYWludC5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBzdGlmZm5lc3MgPSBpc1JpZ2lkID8gY29uc3RyYWludC5zdGlmZm5lc3MgKiB0aW1lU2NhbGUgXG4gICAgICAgICAgICAgICAgOiBjb25zdHJhaW50LnN0aWZmbmVzcyAqIHRpbWVTY2FsZSAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIGRhbXBpbmcgPSBjb25zdHJhaW50LmRhbXBpbmcgKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICBmb3JjZSA9IFZlY3Rvci5tdWx0KGRlbHRhLCBkaWZmZXJlbmNlICogc3RpZmZuZXNzKSxcbiAgICAgICAgICAgIG1hc3NUb3RhbCA9IChib2R5QSA/IGJvZHlBLmludmVyc2VNYXNzIDogMCkgKyAoYm9keUIgPyBib2R5Qi5pbnZlcnNlTWFzcyA6IDApLFxuICAgICAgICAgICAgaW5lcnRpYVRvdGFsID0gKGJvZHlBID8gYm9keUEuaW52ZXJzZUluZXJ0aWEgOiAwKSArIChib2R5QiA/IGJvZHlCLmludmVyc2VJbmVydGlhIDogMCksXG4gICAgICAgICAgICByZXNpc3RhbmNlVG90YWwgPSBtYXNzVG90YWwgKyBpbmVydGlhVG90YWwsXG4gICAgICAgICAgICB0b3JxdWUsXG4gICAgICAgICAgICBzaGFyZSxcbiAgICAgICAgICAgIG5vcm1hbCxcbiAgICAgICAgICAgIG5vcm1hbFZlbG9jaXR5LFxuICAgICAgICAgICAgcmVsYXRpdmVWZWxvY2l0eTtcbiAgICBcbiAgICAgICAgaWYgKGRhbXBpbmcgPiAwKSB7XG4gICAgICAgICAgICB2YXIgemVybyA9IFZlY3Rvci5jcmVhdGUoKTtcbiAgICAgICAgICAgIG5vcm1hbCA9IFZlY3Rvci5kaXYoZGVsdGEsIGN1cnJlbnRMZW5ndGgpO1xuXG4gICAgICAgICAgICByZWxhdGl2ZVZlbG9jaXR5ID0gVmVjdG9yLnN1YihcbiAgICAgICAgICAgICAgICBib2R5QiAmJiBWZWN0b3Iuc3ViKGJvZHlCLnBvc2l0aW9uLCBib2R5Qi5wb3NpdGlvblByZXYpIHx8IHplcm8sXG4gICAgICAgICAgICAgICAgYm9keUEgJiYgVmVjdG9yLnN1Yihib2R5QS5wb3NpdGlvbiwgYm9keUEucG9zaXRpb25QcmV2KSB8fCB6ZXJvXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBub3JtYWxWZWxvY2l0eSA9IFZlY3Rvci5kb3Qobm9ybWFsLCByZWxhdGl2ZVZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5QSAmJiAhYm9keUEuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIHNoYXJlID0gYm9keUEuaW52ZXJzZU1hc3MgLyBtYXNzVG90YWw7XG5cbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgYXBwbGllZCBpbXB1bHNlcyBmb3IgcG9zdCBzb2x2aW5nXG4gICAgICAgICAgICBib2R5QS5jb25zdHJhaW50SW1wdWxzZS54IC09IGZvcmNlLnggKiBzaGFyZTtcbiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLnkgLT0gZm9yY2UueSAqIHNoYXJlO1xuXG4gICAgICAgICAgICAvLyBhcHBseSBmb3JjZXNcbiAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uLnggLT0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUEucG9zaXRpb24ueSAtPSBmb3JjZS55ICogc2hhcmU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGRhbXBpbmdcbiAgICAgICAgICAgIGlmIChkYW1waW5nID4gMCkge1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54IC09IGRhbXBpbmcgKiBub3JtYWwueCAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnkgLT0gZGFtcGluZyAqIG5vcm1hbC55ICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXBwbHkgdG9ycXVlXG4gICAgICAgICAgICB0b3JxdWUgPSAoVmVjdG9yLmNyb3NzKHBvaW50QSwgZm9yY2UpIC8gcmVzaXN0YW5jZVRvdGFsKSAqIENvbnN0cmFpbnQuX3RvcnF1ZURhbXBlbiAqIGJvZHlBLmludmVyc2VJbmVydGlhICogKDEgLSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MpO1xuICAgICAgICAgICAgYm9keUEuY29uc3RyYWludEltcHVsc2UuYW5nbGUgLT0gdG9ycXVlO1xuICAgICAgICAgICAgYm9keUEuYW5nbGUgLT0gdG9ycXVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlCICYmICFib2R5Qi5pc1N0YXRpYykge1xuICAgICAgICAgICAgc2hhcmUgPSBib2R5Qi5pbnZlcnNlTWFzcyAvIG1hc3NUb3RhbDtcblxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBhcHBsaWVkIGltcHVsc2VzIGZvciBwb3N0IHNvbHZpbmdcbiAgICAgICAgICAgIGJvZHlCLmNvbnN0cmFpbnRJbXB1bHNlLnggKz0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUIuY29uc3RyYWludEltcHVsc2UueSArPSBmb3JjZS55ICogc2hhcmU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGFwcGx5IGZvcmNlc1xuICAgICAgICAgICAgYm9keUIucG9zaXRpb24ueCArPSBmb3JjZS54ICogc2hhcmU7XG4gICAgICAgICAgICBib2R5Qi5wb3NpdGlvbi55ICs9IGZvcmNlLnkgKiBzaGFyZTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgZGFtcGluZ1xuICAgICAgICAgICAgaWYgKGRhbXBpbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnggKz0gZGFtcGluZyAqIG5vcm1hbC54ICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueSArPSBkYW1waW5nICogbm9ybWFsLnkgKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSB0b3JxdWVcbiAgICAgICAgICAgIHRvcnF1ZSA9IChWZWN0b3IuY3Jvc3MocG9pbnRCLCBmb3JjZSkgLyByZXNpc3RhbmNlVG90YWwpICogQ29uc3RyYWludC5fdG9ycXVlRGFtcGVuICogYm9keUIuaW52ZXJzZUluZXJ0aWEgKiAoMSAtIGNvbnN0cmFpbnQuYW5ndWxhclN0aWZmbmVzcyk7XG4gICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS5hbmdsZSArPSB0b3JxdWU7XG4gICAgICAgICAgICBib2R5Qi5hbmdsZSArPSB0b3JxdWU7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBib2R5IHVwZGF0ZXMgcmVxdWlyZWQgYWZ0ZXIgc29sdmluZyBjb25zdHJhaW50cy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcG9zdFNvbHZlQWxsXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBpbXB1bHNlID0gYm9keS5jb25zdHJhaW50SW1wdWxzZTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgKGltcHVsc2UueCA9PT0gMCAmJiBpbXB1bHNlLnkgPT09IDAgJiYgaW1wdWxzZS5hbmdsZSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGdlb21ldHJ5IGFuZCByZXNldFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBpbXB1bHNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gaW1wdWxzZS54O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gaW1wdWxzZS55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbXB1bHNlLmFuZ2xlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFZlcnRpY2VzLnJvdGF0ZShwYXJ0LnZlcnRpY2VzLCBpbXB1bHNlLmFuZ2xlLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBpbXB1bHNlLmFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgaW1wdWxzZS5hbmdsZSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGFtcGVuIHRoZSBjYWNoZWQgaW1wdWxzZSBmb3Igd2FybWluZyBuZXh0IHN0ZXBcbiAgICAgICAgICAgIGltcHVsc2UuYW5nbGUgKj0gQ29uc3RyYWludC5fd2FybWluZztcbiAgICAgICAgICAgIGltcHVsc2UueCAqPSBDb25zdHJhaW50Ll93YXJtaW5nO1xuICAgICAgICAgICAgaW1wdWxzZS55ICo9IENvbnN0cmFpbnQuX3dhcm1pbmc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgYGNvbnN0cmFpbnQucG9pbnRBYCwgYWNjb3VudGluZyBmb3IgYGNvbnN0cmFpbnQuYm9keUFgLlxuICAgICAqIEBtZXRob2QgcG9pbnRBV29ybGRcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcmV0dXJucyB7dmVjdG9yfSB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb25cbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnBvaW50QVdvcmxkID0gZnVuY3Rpb24oY29uc3RyYWludCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKGNvbnN0cmFpbnQuYm9keUEgPyBjb25zdHJhaW50LmJvZHlBLnBvc2l0aW9uLnggOiAwKSBcbiAgICAgICAgICAgICAgICArIChjb25zdHJhaW50LnBvaW50QSA/IGNvbnN0cmFpbnQucG9pbnRBLnggOiAwKSxcbiAgICAgICAgICAgIHk6IChjb25zdHJhaW50LmJvZHlBID8gY29uc3RyYWludC5ib2R5QS5wb3NpdGlvbi55IDogMCkgXG4gICAgICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEEgPyBjb25zdHJhaW50LnBvaW50QS55IDogMClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gb2YgYGNvbnN0cmFpbnQucG9pbnRCYCwgYWNjb3VudGluZyBmb3IgYGNvbnN0cmFpbnQuYm9keUJgLlxuICAgICAqIEBtZXRob2QgcG9pbnRCV29ybGRcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcmV0dXJucyB7dmVjdG9yfSB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb25cbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnBvaW50QldvcmxkID0gZnVuY3Rpb24oY29uc3RyYWludCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKGNvbnN0cmFpbnQuYm9keUIgPyBjb25zdHJhaW50LmJvZHlCLnBvc2l0aW9uLnggOiAwKSBcbiAgICAgICAgICAgICAgICArIChjb25zdHJhaW50LnBvaW50QiA/IGNvbnN0cmFpbnQucG9pbnRCLnggOiAwKSxcbiAgICAgICAgICAgIHk6IChjb25zdHJhaW50LmJvZHlCID8gY29uc3RyYWludC5ib2R5Qi5wb3NpdGlvbi55IDogMCkgXG4gICAgICAgICAgICAgICAgKyAoY29uc3RyYWludC5wb2ludEIgPyBjb25zdHJhaW50LnBvaW50Qi55IDogMClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIG51bWJlciBnZW5lcmF0ZWQgaW4gYENvbXBvc2l0ZS5jcmVhdGVgIGJ5IGBDb21tb24ubmV4dElkYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCBkZW5vdGluZyB0aGUgdHlwZSBvZiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdHlwZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiY29uc3RyYWludFwiXG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgYm9kaWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGxhYmVsXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJDb25zdHJhaW50XCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgZGVmaW5lcyB0aGUgcmVuZGVyaW5nIHByb3BlcnRpZXMgdG8gYmUgY29uc3VtZWQgYnkgdGhlIG1vZHVsZSBgTWF0dGVyLlJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci52aXNpYmxlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBsaW5lIHdpZHRoIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgY29uc3RyYWludCBvdXRsaW5lLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIG5vIG91dGxpbmUgd2lsbCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIubGluZVdpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGNvbnN0cmFpbnQgb3V0bGluZS5cbiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnN0cm9rZVN0eWxlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgYSByYW5kb20gY29sb3VyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgY29uc3RyYWludCByZW5kZXJpbmcgdHlwZS4gXG4gICAgICogVGhlIHBvc3NpYmxlIHZhbHVlcyBhcmUgJ2xpbmUnLCAncGluJywgJ3NwcmluZycuXG4gICAgICogQW4gYXBwcm9wcmlhdGUgcmVuZGVyIHR5cGUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGNob3NlbiB1bmxlc3Mgb25lIGlzIGdpdmVuIGluIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnbGluZSdcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvb2xlYW5gIHRoYXQgZGVmaW5lcyBpZiB0aGUgY29uc3RyYWludCdzIGFuY2hvciBwb2ludHMgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5hbmNob3JzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBwb3NzaWJsZSBgQm9keWAgdGhhdCB0aGlzIGNvbnN0cmFpbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keUFcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlY29uZCBwb3NzaWJsZSBgQm9keWAgdGhhdCB0aGlzIGNvbnN0cmFpbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keUJcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb25zdHJhaW50IGZyb20gY2VudGVyIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QWAgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGEgd29ybGQtc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcG9pbnRBXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG9mZnNldCBvZiB0aGUgY29uc3RyYWludCBmcm9tIGNlbnRlciBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUJgIGlmIGRlZmluZWQsIG90aGVyd2lzZSBhIHdvcmxkLXNwYWNlIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvaW50QlxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBzdGlmZm5lc3Mgb2YgdGhlIGNvbnN0cmFpbnQsIGkuZS4gdGhlIHJhdGUgYXQgd2hpY2ggaXQgcmV0dXJucyB0byBpdHMgcmVzdGluZyBgY29uc3RyYWludC5sZW5ndGhgLlxuICAgICAqIEEgdmFsdWUgb2YgYDFgIG1lYW5zIHRoZSBjb25zdHJhaW50IHNob3VsZCBiZSB2ZXJ5IHN0aWZmLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMmAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgYWN0cyBsaWtlIGEgc29mdCBzcHJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3RpZmZuZXNzXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgZGFtcGluZyBvZiB0aGUgY29uc3RyYWludCwgXG4gICAgICogaS5lLiB0aGUgYW1vdW50IG9mIHJlc2lzdGFuY2UgYXBwbGllZCB0byBlYWNoIGJvZHkgYmFzZWQgb24gdGhlaXIgdmVsb2NpdGllcyB0byBsaW1pdCB0aGUgYW1vdW50IG9mIG9zY2lsbGF0aW9uLlxuICAgICAqIERhbXBpbmcgd2lsbCBvbmx5IGJlIGFwcGFyZW50IHdoZW4gdGhlIGNvbnN0cmFpbnQgYWxzbyBoYXMgYSB2ZXJ5IGxvdyBgc3RpZmZuZXNzYC5cbiAgICAgKiBBIHZhbHVlIG9mIGAwLjFgIG1lYW5zIHRoZSBjb25zdHJhaW50IHdpbGwgYXBwbHkgaGVhdnkgZGFtcGluZywgcmVzdWx0aW5nIGluIGxpdHRsZSB0byBubyBvc2NpbGxhdGlvbi5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGUgY29uc3RyYWludCB3aWxsIGFwcGx5IG5vIGRhbXBpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZGFtcGluZ1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHRhcmdldCByZXN0aW5nIGxlbmd0aCBvZiB0aGUgY29uc3RyYWludC4gXG4gICAgICogSXQgaXMgY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGluIGBDb25zdHJhaW50LmNyZWF0ZWAgZnJvbSBpbml0aWFsIHBvc2l0aW9ucyBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUFgIGFuZCBgY29uc3RyYWludC5ib2R5QmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGVuZ3RoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGx1Z2luXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5BeGVzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBzZXRzIG9mIGF4ZXMuXG4qXG4qIEBjbGFzcyBBeGVzXG4qL1xuXG52YXIgQXhlcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4ZXM7XG5cbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc2V0IG9mIGF4ZXMgZnJvbSB0aGUgZ2l2ZW4gdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBmcm9tVmVydGljZXNcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge2F4ZXN9IEEgbmV3IGF4ZXMgZnJvbSB0aGUgZ2l2ZW4gdmVydGljZXNcbiAgICAgKi9cbiAgICBBeGVzLmZyb21WZXJ0aWNlcyA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBheGVzID0ge307XG5cbiAgICAgICAgLy8gZmluZCB0aGUgdW5pcXVlIGF4ZXMsIHVzaW5nIGVkZ2Ugbm9ybWFsIGdyYWRpZW50c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaiA9IChpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGgsIFxuICAgICAgICAgICAgICAgIG5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoeyBcbiAgICAgICAgICAgICAgICAgICAgeDogdmVydGljZXNbal0ueSAtIHZlcnRpY2VzW2ldLnksIFxuICAgICAgICAgICAgICAgICAgICB5OiB2ZXJ0aWNlc1tpXS54IC0gdmVydGljZXNbal0ueFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGdyYWRpZW50ID0gKG5vcm1hbC55ID09PSAwKSA/IEluZmluaXR5IDogKG5vcm1hbC54IC8gbm9ybWFsLnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBsaW1pdCBwcmVjaXNpb25cbiAgICAgICAgICAgIGdyYWRpZW50ID0gZ3JhZGllbnQudG9GaXhlZCgzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgYXhlc1tncmFkaWVudF0gPSBub3JtYWw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29tbW9uLnZhbHVlcyhheGVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBhIHNldCBvZiBheGVzIGJ5IHRoZSBnaXZlbiBhbmdsZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7YXhlc30gYXhlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIEF4ZXMucm90YXRlID0gZnVuY3Rpb24oYXhlcywgYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBheGlzID0gYXhlc1tpXSxcbiAgICAgICAgICAgICAgICB4eDtcbiAgICAgICAgICAgIHh4ID0gYXhpcy54ICogY29zIC0gYXhpcy55ICogc2luO1xuICAgICAgICAgICAgYXhpcy55ID0gYXhpcy54ICogc2luICsgYXhpcy55ICogY29zO1xuICAgICAgICAgICAgYXhpcy54ID0geHg7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkJvZGllc2AgbW9kdWxlIGNvbnRhaW5zIGZhY3RvcnkgbWV0aG9kcyBmb3IgY3JlYXRpbmcgcmlnaWQgYm9keSBtb2RlbHMgXG4qIHdpdGggY29tbW9ubHkgdXNlZCBib2R5IGNvbmZpZ3VyYXRpb25zIChzdWNoIGFzIHJlY3RhbmdsZXMsIGNpcmNsZXMgYW5kIG90aGVyIHBvbHlnb25zKS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIEJvZGllc1xuKi9cblxuLy8gVE9ETzogdHJ1ZSBjaXJjbGUgYm9kaWVzXG5cbnZhciBCb2RpZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb2RpZXM7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgcmVjdGFuZ2xlIGh1bGwuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7Ym9keX0gQSBuZXcgcmVjdGFuZ2xlIGJvZHlcbiAgICAgKi9cbiAgICBCb2RpZXMucmVjdGFuZ2xlID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgcmVjdGFuZ2xlID0geyBcbiAgICAgICAgICAgIGxhYmVsOiAnUmVjdGFuZ2xlIEJvZHknLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogeCwgeTogeSB9LFxuICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKCdMIDAgMCBMICcgKyB3aWR0aCArICcgMCBMICcgKyB3aWR0aCArICcgJyArIGhlaWdodCArICcgTCAwICcgKyBoZWlnaHQpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbWZlcikge1xuICAgICAgICAgICAgdmFyIGNoYW1mZXIgPSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgICAgICByZWN0YW5nbGUudmVydGljZXMgPSBWZXJ0aWNlcy5jaGFtZmVyKHJlY3RhbmdsZS52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIFxuICAgICAgICAgICAgICAgIGNoYW1mZXIucXVhbGl0eSwgY2hhbWZlci5xdWFsaXR5TWluLCBjaGFtZmVyLnF1YWxpdHlNYXgpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHt9LCByZWN0YW5nbGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgdHJhcGV6b2lkIGh1bGwuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgdHJhcGV6b2lkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2xvcGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7Ym9keX0gQSBuZXcgdHJhcGV6b2lkIGJvZHlcbiAgICAgKi9cbiAgICBCb2RpZXMudHJhcGV6b2lkID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgc2xvcGUsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgc2xvcGUgKj0gMC41O1xuICAgICAgICB2YXIgcm9vZiA9ICgxIC0gKHNsb3BlICogMikpICogd2lkdGg7XG4gICAgICAgIFxuICAgICAgICB2YXIgeDEgPSB3aWR0aCAqIHNsb3BlLFxuICAgICAgICAgICAgeDIgPSB4MSArIHJvb2YsXG4gICAgICAgICAgICB4MyA9IHgyICsgeDEsXG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGg7XG5cbiAgICAgICAgaWYgKHNsb3BlIDwgMC41KSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGggPSAnTCAwIDAgTCAnICsgeDEgKyAnICcgKyAoLWhlaWdodCkgKyAnIEwgJyArIHgyICsgJyAnICsgKC1oZWlnaHQpICsgJyBMICcgKyB4MyArICcgMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1BhdGggPSAnTCAwIDAgTCAnICsgeDIgKyAnICcgKyAoLWhlaWdodCkgKyAnIEwgJyArIHgzICsgJyAwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFwZXpvaWQgPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdUcmFwZXpvaWQgQm9keScsXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgodmVydGljZXNQYXRoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHtcbiAgICAgICAgICAgIHZhciBjaGFtZmVyID0gb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICAgICAgdHJhcGV6b2lkLnZlcnRpY2VzID0gVmVydGljZXMuY2hhbWZlcih0cmFwZXpvaWQudmVydGljZXMsIGNoYW1mZXIucmFkaXVzLCBcbiAgICAgICAgICAgICAgICBjaGFtZmVyLnF1YWxpdHksIGNoYW1mZXIucXVhbGl0eU1pbiwgY2hhbWZlci5xdWFsaXR5TWF4KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7fSwgdHJhcGV6b2lkLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgY2lyY2xlIGh1bGwuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaWRlc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyBjaXJjbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5jaXJjbGUgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIG9wdGlvbnMsIG1heFNpZGVzKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBjaXJjbGUgPSB7XG4gICAgICAgICAgICBsYWJlbDogJ0NpcmNsZSBCb2R5JyxcbiAgICAgICAgICAgIGNpcmNsZVJhZGl1czogcmFkaXVzXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBhcHByb3hpbWF0ZSBjaXJjbGVzIHdpdGggcG9seWdvbnMgdW50aWwgdHJ1ZSBjaXJjbGVzIGltcGxlbWVudGVkIGluIFNBVFxuICAgICAgICBtYXhTaWRlcyA9IG1heFNpZGVzIHx8IDI1O1xuICAgICAgICB2YXIgc2lkZXMgPSBNYXRoLmNlaWwoTWF0aC5tYXgoMTAsIE1hdGgubWluKG1heFNpZGVzLCByYWRpdXMpKSk7XG5cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uOiBhbHdheXMgdXNlIGV2ZW4gbnVtYmVyIG9mIHNpZGVzIChoYWxmIHRoZSBudW1iZXIgb2YgdW5pcXVlIGF4ZXMpXG4gICAgICAgIGlmIChzaWRlcyAlIDIgPT09IDEpXG4gICAgICAgICAgICBzaWRlcyArPSAxO1xuXG4gICAgICAgIHJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBDb21tb24uZXh0ZW5kKHt9LCBjaXJjbGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWd1bGFyIHBvbHlnb24gaHVsbCB3aXRoIHRoZSBnaXZlbiBudW1iZXIgb2Ygc2lkZXMuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgcG9seWdvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lkZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IHJlZ3VsYXIgcG9seWdvbiBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLnBvbHlnb24gPSBmdW5jdGlvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmIChzaWRlcyA8IDMpXG4gICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCByYWRpdXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gc2lkZXMsXG4gICAgICAgICAgICBwYXRoID0gJycsXG4gICAgICAgICAgICBvZmZzZXQgPSB0aGV0YSAqIDAuNTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IG9mZnNldCArIChpICogdGhldGEpLFxuICAgICAgICAgICAgICAgIHh4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHl5ID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgICAgICBwYXRoICs9ICdMICcgKyB4eC50b0ZpeGVkKDMpICsgJyAnICsgeXkudG9GaXhlZCgzKSArICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2x5Z29uID0geyBcbiAgICAgICAgICAgIGxhYmVsOiAnUG9seWdvbiBCb2R5JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aChwYXRoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHtcbiAgICAgICAgICAgIHZhciBjaGFtZmVyID0gb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICAgICAgcG9seWdvbi52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocG9seWdvbi52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIFxuICAgICAgICAgICAgICAgIGNoYW1mZXIucXVhbGl0eSwgY2hhbWZlci5xdWFsaXR5TWluLCBjaGFtZmVyLnF1YWxpdHlNYXgpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHt9LCBwb2x5Z29uLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgdG8gY3JlYXRlIGEgY29tcG91bmQgYm9keSBiYXNlZCBvbiBzZXQocykgb2YgdmVydGljZXMuXG4gICAgICogXG4gICAgICogX05vdGU6XyBUbyBvcHRpb25hbGx5IGVuYWJsZSBhdXRvbWF0aWMgY29uY2F2ZSB2ZXJ0aWNlcyBkZWNvbXBvc2l0aW9uIHRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgXG4gICAgICogcGFja2FnZSBtdXN0IGJlIGZpcnN0IGluc3RhbGxlZCBhbmQgcHJvdmlkZWQgc2VlIGBDb21tb24uc2V0RGVjb21wYCwgb3RoZXJ3aXNlIHRoZSBjb252ZXggaHVsbCBvZiBlYWNoIHZlcnRleCBzZXQgd2lsbCBiZSB1c2VkLlxuICAgICAqIFxuICAgICAqIFRoZSByZXN1bHRpbmcgdmVydGljZXMgYXJlIHJlb3JpZW50YXRlZCBhYm91dCB0aGVpciBjZW50cmUgb2YgbWFzcyxcbiAgICAgKiBhbmQgb2Zmc2V0IHN1Y2ggdGhhdCBgYm9keS5wb3NpdGlvbmAgY29ycmVzcG9uZHMgdG8gdGhpcyBwb2ludC5cbiAgICAgKiBcbiAgICAgKiBUaGUgcmVzdWx0aW5nIG9mZnNldCBtYXkgYmUgZm91bmQgaWYgbmVlZGVkIGJ5IHN1YnRyYWN0aW5nIGBib2R5LmJvdW5kc2AgZnJvbSB0aGUgb3JpZ2luYWwgaW5wdXQgYm91bmRzLlxuICAgICAqIFRvIGxhdGVyIG1vdmUgdGhlIGNlbnRyZSBvZiBtYXNzIHNlZSBgQm9keS5zZXRDZW50cmVgLlxuICAgICAqIFxuICAgICAqIE5vdGUgdGhhdCBhdXRvbWF0aWMgY29uY29uY2F2ZSBkZWNvbXBvc2l0aW9uIHJlc3VsdHMgYXJlIG5vdCBhbHdheXMgb3B0aW1hbC4gXG4gICAgICogRm9yIGJlc3QgcmVzdWx0cywgc2ltcGxpZnkgdGhlIGlucHV0IHZlcnRpY2VzIGFzIG11Y2ggYXMgcG9zc2libGUgZmlyc3QuXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGZ1bmN0aW9uIGFwcGxpZXMgc29tZSBhZGR0aW9uYWwgc2ltcGxpZmljYXRpb24gdG8gaGVscC5cbiAgICAgKiBcbiAgICAgKiBTb21lIG91dHB1dHMgbWF5IGFsc28gcmVxdWlyZSBmdXJ0aGVyIG1hbnVhbCBwcm9jZXNzaW5nIGFmdGVyd2FyZHMgdG8gYmUgcm9idXN0LlxuICAgICAqIEluIHBhcnRpY3VsYXIgc29tZSBwYXJ0cyBtYXkgbmVlZCB0byBiZSBvdmVybGFwcGVkIHRvIGF2b2lkIGNvbGxpc2lvbiBnYXBzLlxuICAgICAqIFRoaW4gcGFydHMgYW5kIHNoYXJwIHBvaW50cyBzaG91bGQgYmUgYXZvaWRlZCBvciByZW1vdmVkIHdoZXJlIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIG9iamVjdCBzcGVjaWZpZXMgYW55IGBNYXR0ZXIuQm9keWAgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBmcm9tVmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHthcnJheX0gdmVydGV4U2V0cyBPbmUgb3IgbW9yZSBhcnJheXMgb2YgdmVydGV4IHBvaW50cyBlLmcuIGBbW3sgeDogMCwgeTogMCB9Li4uXSwgLi4uXWAuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBUaGUgYm9keSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2ZsYWdJbnRlcm5hbD1mYWxzZV0gT3B0aW9uYWxseSBtYXJrcyBpbnRlcm5hbCBlZGdlcyB3aXRoIGBpc0ludGVybmFsYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JlbW92ZUNvbGxpbmVhcj0wLjAxXSBUaHJlc2hvbGQgd2hlbiBzaW1wbGlmeWluZyB2ZXJ0aWNlcyBhbG9uZyB0aGUgc2FtZSBlZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluaW11bUFyZWE9MTBdIFRocmVzaG9sZCB3aGVuIHJlbW92aW5nIHNtYWxsIHBhcnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVtb3ZlRHVwbGljYXRlUG9pbnRzPTAuMDFdIFRocmVzaG9sZCB3aGVuIHNpbXBsaWZ5aW5nIG5lYXJieSB2ZXJ0aWNlcy5cbiAgICAgKiBAcmV0dXJuIHtib2R5fVxuICAgICAqL1xuICAgIEJvZGllcy5mcm9tVmVydGljZXMgPSBmdW5jdGlvbih4LCB5LCB2ZXJ0ZXhTZXRzLCBvcHRpb25zLCBmbGFnSW50ZXJuYWwsIHJlbW92ZUNvbGxpbmVhciwgbWluaW11bUFyZWEsIHJlbW92ZUR1cGxpY2F0ZVBvaW50cykge1xuICAgICAgICB2YXIgZGVjb21wID0gQ29tbW9uLmdldERlY29tcCgpLFxuICAgICAgICAgICAgY2FuRGVjb21wLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnRzLFxuICAgICAgICAgICAgaXNDb252ZXgsXG4gICAgICAgICAgICBpc0NvbmNhdmUsXG4gICAgICAgICAgICB2ZXJ0aWNlcyxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICB6O1xuXG4gICAgICAgIC8vIGNoZWNrIGRlY29tcCBpcyBhcyBleHBlY3RlZFxuICAgICAgICBjYW5EZWNvbXAgPSBCb29sZWFuKGRlY29tcCAmJiBkZWNvbXAucXVpY2tEZWNvbXApO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJ0cyA9IFtdO1xuXG4gICAgICAgIGZsYWdJbnRlcm5hbCA9IHR5cGVvZiBmbGFnSW50ZXJuYWwgIT09ICd1bmRlZmluZWQnID8gZmxhZ0ludGVybmFsIDogZmFsc2U7XG4gICAgICAgIHJlbW92ZUNvbGxpbmVhciA9IHR5cGVvZiByZW1vdmVDb2xsaW5lYXIgIT09ICd1bmRlZmluZWQnID8gcmVtb3ZlQ29sbGluZWFyIDogMC4wMTtcbiAgICAgICAgbWluaW11bUFyZWEgPSB0eXBlb2YgbWluaW11bUFyZWEgIT09ICd1bmRlZmluZWQnID8gbWluaW11bUFyZWEgOiAxMDtcbiAgICAgICAgcmVtb3ZlRHVwbGljYXRlUG9pbnRzID0gdHlwZW9mIHJlbW92ZUR1cGxpY2F0ZVBvaW50cyAhPT0gJ3VuZGVmaW5lZCcgPyByZW1vdmVEdXBsaWNhdGVQb2ludHMgOiAwLjAxO1xuXG4gICAgICAgIC8vIGVuc3VyZSB2ZXJ0ZXhTZXRzIGlzIGFuIGFycmF5IG9mIGFycmF5c1xuICAgICAgICBpZiAoIUNvbW1vbi5pc0FycmF5KHZlcnRleFNldHNbMF0pKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhTZXRzID0gW3ZlcnRleFNldHNdO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2ID0gMDsgdiA8IHZlcnRleFNldHMubGVuZ3RoOyB2ICs9IDEpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gdmVydGV4U2V0c1t2XTtcbiAgICAgICAgICAgIGlzQ29udmV4ID0gVmVydGljZXMuaXNDb252ZXgodmVydGljZXMpO1xuICAgICAgICAgICAgaXNDb25jYXZlID0gIWlzQ29udmV4O1xuXG4gICAgICAgICAgICBpZiAoaXNDb25jYXZlICYmICFjYW5EZWNvbXApIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgICAgICdCb2RpZXMuZnJvbVZlcnRpY2VzOiBJbnN0YWxsIHRoZSBcXCdwb2x5LWRlY29tcFxcJyBsaWJyYXJ5IGFuZCB1c2UgQ29tbW9uLnNldERlY29tcCBvciBwcm92aWRlIFxcJ2RlY29tcFxcJyBhcyBhIGdsb2JhbCB0byBkZWNvbXBvc2UgY29uY2F2ZSB2ZXJ0aWNlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQ29udmV4IHx8ICFjYW5EZWNvbXApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb252ZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMgPSBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0KHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFjayB0byBjb252ZXggaHVsbCB3aGVuIGRlY29tcG9zaXRpb24gaXMgbm90IHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gVmVydGljZXMuaHVsbCh2ZXJ0aWNlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpc2UgYSBkZWNvbXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGNvbmNhdmUgPSB2ZXJ0aWNlcy5tYXAoZnVuY3Rpb24odmVydGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmVydGV4LngsIHZlcnRleC55XTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHZlcnRpY2VzIGFyZSBjb25jYXZlIGFuZCBzaW1wbGUsIHdlIGNhbiBkZWNvbXBvc2UgaW50byBwYXJ0c1xuICAgICAgICAgICAgICAgIGRlY29tcC5tYWtlQ0NXKGNvbmNhdmUpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVDb2xsaW5lYXIgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBkZWNvbXAucmVtb3ZlQ29sbGluZWFyUG9pbnRzKGNvbmNhdmUsIHJlbW92ZUNvbGxpbmVhcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZUR1cGxpY2F0ZVBvaW50cyAhPT0gZmFsc2UgJiYgZGVjb21wLnJlbW92ZUR1cGxpY2F0ZVBvaW50cylcbiAgICAgICAgICAgICAgICAgICAgZGVjb21wLnJlbW92ZUR1cGxpY2F0ZVBvaW50cyhjb25jYXZlLCByZW1vdmVEdXBsaWNhdGVQb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBxdWljayBkZWNvbXBvc2l0aW9uIGFsZ29yaXRobSAoQmF5YXppdClcbiAgICAgICAgICAgICAgICB2YXIgZGVjb21wb3NlZCA9IGRlY29tcC5xdWlja0RlY29tcChjb25jYXZlKTtcblxuICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGRlY29tcG9zZWQgY2h1bmtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVjb21wb3NlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBkZWNvbXBvc2VkW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdmVydGljZXMgaW50byB0aGUgY29ycmVjdCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNodW5rVmVydGljZXMgPSBjaHVuay5tYXAoZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdmVydGljZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdmVydGljZXNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgc21hbGwgY2h1bmtzXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW5pbXVtQXJlYSA+IDAgJiYgVmVydGljZXMuYXJlYShjaHVua1ZlcnRpY2VzKSA8IG1pbmltdW1BcmVhKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgY29tcG91bmQgcGFydFxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBWZXJ0aWNlcy5jZW50cmUoY2h1bmtWZXJ0aWNlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogY2h1bmtWZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgYm9keSBwYXJ0c1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhcnRzW2ldID0gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZChwYXJ0c1tpXSwgb3B0aW9ucykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyBpbnRlcm5hbCBlZGdlcyAoY29pbmNpZGVudCBwYXJ0IGVkZ2VzKVxuICAgICAgICBpZiAoZmxhZ0ludGVybmFsKSB7XG4gICAgICAgICAgICB2YXIgY29pbmNpZGVudF9tYXhfZGlzdCA9IDU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0QSA9IHBhcnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEIgPSBwYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKHBhcnRBLmJvdW5kcywgcGFydEIuYm91bmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdiA9IHBhcnRBLnZlcnRpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBidiA9IHBhcnRCLnZlcnRpY2VzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIHZlcnRpY2VzIG9mIGJvdGggcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwYXJ0QS52ZXJ0aWNlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeiA9IDA7IHogPCBwYXJ0Qi52ZXJ0aWNlcy5sZW5ndGg7IHorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGEgPSBWZWN0b3IubWFnbml0dWRlU3F1YXJlZChWZWN0b3Iuc3ViKHBhdlsoayArIDEpICUgcGF2Lmxlbmd0aF0sIHBidlt6XSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIgPSBWZWN0b3IubWFnbml0dWRlU3F1YXJlZChWZWN0b3Iuc3ViKHBhdltrXSwgcGJ2Wyh6ICsgMSkgJSBwYnYubGVuZ3RoXSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGJvdGggdmVydGljZXMgYXJlIHZlcnkgY2xvc2UsIGNvbnNpZGVyIHRoZSBlZGdlIGNvbmNpZGVudCAoaW50ZXJuYWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYSA8IGNvaW5jaWRlbnRfbWF4X2Rpc3QgJiYgZGIgPCBjb2luY2lkZW50X21heF9kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXZba10uaXNJbnRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYnZbel0uaXNJbnRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHBhcmVudCBib2R5IHRvIGJlIHJldHVybmVkLCB0aGF0IGNvbnRhaW5zIGdlbmVyYXRlZCBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgYm9keSA9IEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBwYXJ0czogcGFydHMuc2xpY2UoMCkgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAvLyBvZmZzZXQgc3VjaCB0aGF0IGJvZHkucG9zaXRpb24gaXMgYXQgdGhlIGNlbnRyZSBvZmYgbWFzc1xuICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7IHg6IHgsIHk6IHkgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRzWzBdO1xuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5EZXRlY3RvcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGVmZmljaWVudGx5IGRldGVjdGluZyBjb2xsaXNpb25zIGJldHdlZW4gYSBsaXN0IG9mIGJvZGllcyB1c2luZyBhIGJyb2FkcGhhc2UgYWxnb3JpdGhtLlxuKlxuKiBAY2xhc3MgRGV0ZWN0b3JcbiovXG5cbnZhciBEZXRlY3RvciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERldGVjdG9yO1xuXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBDb2xsaXNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpc2lvbiBkZXRlY3Rvci5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7ZGV0ZWN0b3J9IEEgbmV3IGNvbGxpc2lvbiBkZXRlY3RvclxuICAgICAqL1xuICAgIERldGVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgYm9kaWVzOiBbXSxcbiAgICAgICAgICAgIHBhaXJzOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IG9mIGJvZGllcyBpbiB0aGUgZGV0ZWN0b3IuXG4gICAgICogQG1ldGhvZCBzZXRCb2RpZXNcbiAgICAgKiBAcGFyYW0ge2RldGVjdG9yfSBkZXRlY3RvclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5zZXRCb2RpZXMgPSBmdW5jdGlvbihkZXRlY3RvciwgYm9kaWVzKSB7XG4gICAgICAgIGRldGVjdG9yLmJvZGllcyA9IGJvZGllcy5zbGljZSgwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBkZXRlY3RvciBpbmNsdWRpbmcgaXRzIGxpc3Qgb2YgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge2RldGVjdG9yfSBkZXRlY3RvclxuICAgICAqL1xuICAgIERldGVjdG9yLmNsZWFyID0gZnVuY3Rpb24oZGV0ZWN0b3IpIHtcbiAgICAgICAgZGV0ZWN0b3IuYm9kaWVzID0gW107XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVmZmljaWVudGx5IGZpbmRzIGFsbCBjb2xsaXNpb25zIGFtb25nIGFsbCB0aGUgYm9kaWVzIGluIGBkZXRlY3Rvci5ib2RpZXNgIHVzaW5nIGEgYnJvYWRwaGFzZSBhbGdvcml0aG0uXG4gICAgICogXG4gICAgICogX05vdGU6XyBUaGUgc3BlY2lmaWMgb3JkZXJpbmcgb2YgY29sbGlzaW9ucyByZXR1cm5lZCBpcyBub3QgZ3VhcmFudGVlZCBiZXR3ZWVuIHJlbGVhc2VzIGFuZCBtYXkgY2hhbmdlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAqIElmIGEgc3BlY2lmaWMgb3JkZXJpbmcgaXMgcmVxdWlyZWQgdGhlbiBhcHBseSBhIHNvcnQgdG8gdGhlIHJlc3VsdGluZyBhcnJheS5cbiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvbnNcbiAgICAgKiBAcGFyYW0ge2RldGVjdG9yfSBkZXRlY3RvclxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbltdfSBjb2xsaXNpb25zXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY29sbGlzaW9ucyA9IGZ1bmN0aW9uKGRldGVjdG9yKSB7XG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gW10sXG4gICAgICAgICAgICBwYWlycyA9IGRldGVjdG9yLnBhaXJzLFxuICAgICAgICAgICAgYm9kaWVzID0gZGV0ZWN0b3IuYm9kaWVzLFxuICAgICAgICAgICAgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGNhbkNvbGxpZGUgPSBEZXRlY3Rvci5jYW5Db2xsaWRlLFxuICAgICAgICAgICAgY29sbGlkZXMgPSBDb2xsaXNpb24uY29sbGlkZXMsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBib2RpZXMuc29ydChEZXRlY3Rvci5fY29tcGFyZUJvdW5kc1gpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGJvdW5kc0EgPSBib2R5QS5ib3VuZHMsXG4gICAgICAgICAgICAgICAgYm91bmRYTWF4ID0gYm9keUEuYm91bmRzLm1heC54LFxuICAgICAgICAgICAgICAgIGJvdW5kWU1heCA9IGJvZHlBLmJvdW5kcy5tYXgueSxcbiAgICAgICAgICAgICAgICBib3VuZFlNaW4gPSBib2R5QS5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgYm9keUFTdGF0aWMgPSBib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nLFxuICAgICAgICAgICAgICAgIHBhcnRzQUxlbmd0aCA9IGJvZHlBLnBhcnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBwYXJ0c0FTaW5nbGUgPSBwYXJ0c0FMZW5ndGggPT09IDE7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgYm9kaWVzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keUIgPSBib2RpZXNbal0sXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kc0IgPSBib2R5Qi5ib3VuZHM7XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmRzQi5taW4ueCA+IGJvdW5kWE1heCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmRZTWF4IDwgYm91bmRzQi5taW4ueSB8fCBib3VuZFlNaW4gPiBib3VuZHNCLm1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChib2R5QVN0YXRpYyAmJiAoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjYW5Db2xsaWRlKGJvZHlBLmNvbGxpc2lvbkZpbHRlciwgYm9keUIuY29sbGlzaW9uRmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFydHNCTGVuZ3RoID0gYm9keUIucGFydHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzQVNpbmdsZSAmJiBwYXJ0c0JMZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IGNvbGxpZGVzKGJvZHlBLCBib2R5QiwgcGFpcnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnMucHVzaChjb2xsaXNpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzQVN0YXJ0ID0gcGFydHNBTGVuZ3RoID4gMSA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNCU3RhcnQgPSBwYXJ0c0JMZW5ndGggPiAxID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gcGFydHNBU3RhcnQ7IGsgPCBwYXJ0c0FMZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRBID0gYm9keUEucGFydHNba10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzQSA9IHBhcnRBLmJvdW5kcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IHBhcnRzQlN0YXJ0OyB6IDwgcGFydHNCTGVuZ3RoOyB6KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEIgPSBib2R5Qi5wYXJ0c1t6XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzQiA9IHBhcnRCLmJvdW5kcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHNBLm1pbi54ID4gYm91bmRzQi5tYXgueCB8fCBib3VuZHNBLm1heC54IDwgYm91bmRzQi5taW4ueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBib3VuZHNBLm1heC55IDwgYm91bmRzQi5taW4ueSB8fCBib3VuZHNBLm1pbi55ID4gYm91bmRzQi5tYXgueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gY29sbGlkZXMocGFydEEsIHBhcnRCLCBwYWlycyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnMucHVzaChjb2xsaXNpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBib3RoIHN1cHBsaWVkIGNvbGxpc2lvbiBmaWx0ZXJzIHdpbGwgYWxsb3cgYSBjb2xsaXNpb24gdG8gb2NjdXIuXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQG1ldGhvZCBjYW5Db2xsaWRlXG4gICAgICogQHBhcmFtIHt9IGZpbHRlckFcbiAgICAgKiBAcGFyYW0ge30gZmlsdGVyQlxuICAgICAqIEByZXR1cm4ge2Jvb2x9IGB0cnVlYCBpZiBjb2xsaXNpb24gY2FuIG9jY3VyXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY2FuQ29sbGlkZSA9IGZ1bmN0aW9uKGZpbHRlckEsIGZpbHRlckIpIHtcbiAgICAgICAgaWYgKGZpbHRlckEuZ3JvdXAgPT09IGZpbHRlckIuZ3JvdXAgJiYgZmlsdGVyQS5ncm91cCAhPT0gMClcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJBLmdyb3VwID4gMDtcblxuICAgICAgICByZXR1cm4gKGZpbHRlckEubWFzayAmIGZpbHRlckIuY2F0ZWdvcnkpICE9PSAwICYmIChmaWx0ZXJCLm1hc2sgJiBmaWx0ZXJBLmNhdGVnb3J5KSAhPT0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gdXNlZCBpbiB0aGUgYnJvYWRwaGFzZSBhbGdvcml0aG0uXG4gICAgICogUmV0dXJucyB0aGUgc2lnbmVkIGRlbHRhIG9mIHRoZSBib2RpZXMgYm91bmRzIG9uIHRoZSB4LWF4aXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIF9zb3J0Q29tcGFyZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgc2lnbmVkIGRlbHRhIHVzZWQgZm9yIHNvcnRpbmdcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5fY29tcGFyZUJvdW5kc1ggPSBmdW5jdGlvbihib2R5QSwgYm9keUIpIHtcbiAgICAgICAgcmV0dXJuIGJvZHlBLmJvdW5kcy5taW4ueCAtIGJvZHlCLmJvdW5kcy5taW4ueDtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgYE1hdHRlci5Cb2R5YCBiZXR3ZWVuIHdoaWNoIHRoZSBkZXRlY3RvciBmaW5kcyBjb2xsaXNpb25zLlxuICAgICAqIFxuICAgICAqIF9Ob3RlOl8gVGhlIG9yZGVyIG9mIGJvZGllcyBpbiB0aGlzIGFycmF5IF9pcyBub3QgZml4ZWRfIGFuZCB3aWxsIGJlIGNvbnRpbnVhbGx5IG1hbmFnZWQgYnkgdGhlIGRldGVjdG9yLlxuICAgICAqIEBwcm9wZXJ0eSBib2RpZXNcbiAgICAgKiBAdHlwZSBib2R5W11cbiAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwuIEEgYE1hdHRlci5QYWlyc2Agb2JqZWN0IGZyb20gd2hpY2ggcHJldmlvdXMgY29sbGlzaW9uIG9iamVjdHMgbWF5IGJlIHJldXNlZC4gSW50ZW5kZWQgZm9yIGludGVybmFsIGBNYXR0ZXIuRW5naW5lYCB1c2FnZS5cbiAgICAgKiBAcHJvcGVydHkgcGFpcnNcbiAgICAgKiBAdHlwZSB7cGFpcnN8bnVsbH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuTW91c2VgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIG1vdXNlIGlucHV0cy5cbipcbiogQGNsYXNzIE1vdXNlXG4qL1xuXG52YXIgTW91c2UgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZTtcblxudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtb3VzZSBpbnB1dC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHttb3VzZX0gQSBuZXcgbW91c2VcbiAgICAgKi9cbiAgICBNb3VzZS5jcmVhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBtb3VzZSA9IHt9O1xuXG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgQ29tbW9uLmxvZygnTW91c2UuY3JlYXRlOiBlbGVtZW50IHdhcyB1bmRlZmluZWQsIGRlZmF1bHRpbmcgdG8gZG9jdW1lbnQuYm9keScsICd3YXJuJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIG1vdXNlLmVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIG1vdXNlLmFic29sdXRlID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLm1vdXNlZG93blBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLm1vdXNldXBQb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5vZmZzZXQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2Uuc2NhbGUgPSB7IHg6IDEsIHk6IDEgfTtcbiAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IDA7XG4gICAgICAgIG1vdXNlLmJ1dHRvbiA9IC0xO1xuICAgICAgICBtb3VzZS5waXhlbFJhdGlvID0gcGFyc2VJbnQobW91c2UuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGl4ZWwtcmF0aW8nKSwgMTApIHx8IDE7XG5cbiAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzID0ge1xuICAgICAgICAgICAgbW91c2Vtb3ZlOiBudWxsLFxuICAgICAgICAgICAgbW91c2Vkb3duOiBudWxsLFxuICAgICAgICAgICAgbW91c2V1cDogbnVsbCxcbiAgICAgICAgICAgIG1vdXNld2hlZWw6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7IFxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gTW91c2UuX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IDA7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2Vtb3ZlID0gZXZlbnQ7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBtb3VzZS5tb3VzZWRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gTW91c2UuX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IDA7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICAgICAgICAgIG1vdXNlLm1vdXNlZG93blBvc2l0aW9uLnggPSBtb3VzZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2Vkb3duID0gZXZlbnQ7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBtb3VzZS5tb3VzZXVwID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IE1vdXNlLl9nZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24oZXZlbnQsIG1vdXNlLmVsZW1lbnQsIG1vdXNlLnBpeGVsUmF0aW8pLFxuICAgICAgICAgICAgICAgIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcztcblxuICAgICAgICAgICAgaWYgKHRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtb3VzZS5idXR0b24gPSAtMTtcbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgICAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uLnggPSBtb3VzZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uLnkgPSBtb3VzZS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNldXAgPSBldmVudDtcbiAgICAgICAgfTtcblxuICAgICAgICBtb3VzZS5tb3VzZXdoZWVsID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIG1vdXNlLndoZWVsRGVsdGEgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZXZlbnQud2hlZWxEZWx0YSB8fCAtZXZlbnQuZGV0YWlsKSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1vdXNlLnNldEVsZW1lbnQobW91c2UsIG1vdXNlLmVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiBtb3VzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZWxlbWVudCB0aGUgbW91c2UgaXMgYm91bmQgdG8gKGFuZCByZWxhdGl2ZSB0bykuXG4gICAgICogQG1ldGhvZCBzZXRFbGVtZW50XG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgTW91c2Uuc2V0RWxlbWVudCA9IGZ1bmN0aW9uKG1vdXNlLCBlbGVtZW50KSB7XG4gICAgICAgIG1vdXNlLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2UubW91c2Vtb3ZlKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZS5tb3VzZWRvd24pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZS5tb3VzZXVwKTtcbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIG1vdXNlLm1vdXNld2hlZWwpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgbW91c2UubW91c2V3aGVlbCk7XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBtb3VzZS5tb3VzZW1vdmUpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBtb3VzZS5tb3VzZWRvd24pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgbW91c2UubW91c2V1cCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY2FwdHVyZWQgc291cmNlIGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIGNsZWFyU291cmNlRXZlbnRzXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKi9cbiAgICBNb3VzZS5jbGVhclNvdXJjZUV2ZW50cyA9IGZ1bmN0aW9uKG1vdXNlKSB7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2Vkb3duID0gbnVsbDtcbiAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNldXAgPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V3aGVlbCA9IG51bGw7XG4gICAgICAgIG1vdXNlLndoZWVsRGVsdGEgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiBvZmZzZXQuXG4gICAgICogQG1ldGhvZCBzZXRPZmZzZXRcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBvZmZzZXRcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRPZmZzZXQgPSBmdW5jdGlvbihtb3VzZSwgb2Zmc2V0KSB7XG4gICAgICAgIG1vdXNlLm9mZnNldC54ID0gb2Zmc2V0Lng7XG4gICAgICAgIG1vdXNlLm9mZnNldC55ID0gb2Zmc2V0Lnk7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbW91c2UgcG9zaXRpb24gc2NhbGUuXG4gICAgICogQG1ldGhvZCBzZXRTY2FsZVxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHNjYWxlXG4gICAgICovXG4gICAgTW91c2Uuc2V0U2NhbGUgPSBmdW5jdGlvbihtb3VzZSwgc2NhbGUpIHtcbiAgICAgICAgbW91c2Uuc2NhbGUueCA9IHNjYWxlLng7XG4gICAgICAgIG1vdXNlLnNjYWxlLnkgPSBzY2FsZS55O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBhbiBlbGVtZW50IGdpdmVuIGEgc2NyZWVuIHBpeGVsIHJhdGlvLlxuICAgICAqIEBtZXRob2QgX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGV2ZW50XG4gICAgICogQHBhcmFtIHt9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpb1xuICAgICAqIEByZXR1cm4ge31cbiAgICAgKi9cbiAgICBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQsIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIGVsZW1lbnRCb3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgcm9vdE5vZGUgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgIHNjcm9sbFggPSAod2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VYT2Zmc2V0IDogcm9vdE5vZGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHNjcm9sbFkgPSAod2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogcm9vdE5vZGUuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICAgICAgeCwgeTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICB4ID0gdG91Y2hlc1swXS5wYWdlWCAtIGVsZW1lbnRCb3VuZHMubGVmdCAtIHNjcm9sbFg7XG4gICAgICAgICAgICB5ID0gdG91Y2hlc1swXS5wYWdlWSAtIGVsZW1lbnRCb3VuZHMudG9wIC0gc2Nyb2xsWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBldmVudC5wYWdlWCAtIGVsZW1lbnRCb3VuZHMubGVmdCAtIHNjcm9sbFg7XG4gICAgICAgICAgICB5ID0gZXZlbnQucGFnZVkgLSBlbGVtZW50Qm91bmRzLnRvcCAtIHNjcm9sbFk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIHg6IHggLyAoZWxlbWVudC5jbGllbnRXaWR0aCAvIChlbGVtZW50LndpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGgpICogcGl4ZWxSYXRpbyksXG4gICAgICAgICAgICB5OiB5IC8gKGVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gKGVsZW1lbnQuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0KSAqIHBpeGVsUmF0aW8pXG4gICAgICAgIH07XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5QbHVnaW5gIG1vZHVsZSBjb250YWlucyBmdW5jdGlvbnMgZm9yIHJlZ2lzdGVyaW5nIGFuZCBpbnN0YWxsaW5nIHBsdWdpbnMgb24gbW9kdWxlcy5cbipcbiogQGNsYXNzIFBsdWdpblxuKi9cblxudmFyIFBsdWdpbiA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBsdWdpbjtcblxudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIFBsdWdpbi5fcmVnaXN0cnkgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHBsdWdpbiBvYmplY3Qgc28gaXQgY2FuIGJlIHJlc29sdmVkIGxhdGVyIGJ5IG5hbWUuXG4gICAgICogQG1ldGhvZCByZWdpc3RlclxuICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUGx1Z2luLnJlZ2lzdGVyID0gZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgIGlmICghUGx1Z2luLmlzUGx1Z2luKHBsdWdpbikpIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdkb2VzIG5vdCBpbXBsZW1lbnQgYWxsIHJlcXVpcmVkIGZpZWxkcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbHVnaW4ubmFtZSBpbiBQbHVnaW4uX3JlZ2lzdHJ5KSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZCA9IFBsdWdpbi5fcmVnaXN0cnlbcGx1Z2luLm5hbWVdLFxuICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb24gPSBQbHVnaW4udmVyc2lvblBhcnNlKHBsdWdpbi52ZXJzaW9uKS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZFZlcnNpb24gPSBQbHVnaW4udmVyc2lvblBhcnNlKHJlZ2lzdGVyZWQudmVyc2lvbikubnVtYmVyO1xuXG4gICAgICAgICAgICBpZiAocGx1Z2luVmVyc2lvbiA+IHJlZ2lzdGVyZWRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocmVnaXN0ZXJlZCksICd3YXMgdXBncmFkZWQgdG8nLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICAgICAgUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0gPSBwbHVnaW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsdWdpblZlcnNpb24gPCByZWdpc3RlcmVkVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHJlZ2lzdGVyZWQpLCAnY2FuIG5vdCBiZSBkb3duZ3JhZGVkIHRvJywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gIT09IHJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnJlZ2lzdGVyOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnaXMgYWxyZWFkeSByZWdpc3RlcmVkIHRvIGRpZmZlcmVudCBwbHVnaW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBQbHVnaW4uX3JlZ2lzdHJ5W3BsdWdpbi5uYW1lXSA9IHBsdWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbHVnaW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGEgZGVwZW5kZW5jeSB0byBhIHBsdWdpbiBvYmplY3QgZnJvbSB0aGUgcmVnaXN0cnkgaWYgaXQgZXhpc3RzLiBcbiAgICAgKiBUaGUgYGRlcGVuZGVuY3lgIG1heSBjb250YWluIGEgdmVyc2lvbiwgYnV0IG9ubHkgdGhlIG5hbWUgbWF0dGVycyB3aGVuIHJlc29sdmluZy5cbiAgICAgKiBAbWV0aG9kIHJlc29sdmVcbiAgICAgKiBAcGFyYW0gZGVwZW5kZW5jeSB7c3RyaW5nfSBUaGUgZGVwZW5kZW5jeS5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBwbHVnaW4gaWYgcmVzb2x2ZWQsIG90aGVyd2lzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBQbHVnaW4ucmVzb2x2ZSA9IGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgcmV0dXJuIFBsdWdpbi5fcmVnaXN0cnlbUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShkZXBlbmRlbmN5KS5uYW1lXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByZXR0eSBwcmludGVkIHBsdWdpbiBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgICAqIEBtZXRob2QgdG9TdHJpbmdcbiAgICAgKiBAcGFyYW0gcGx1Z2luIHt9IFRoZSBwbHVnaW4uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBQcmV0dHkgcHJpbnRlZCBwbHVnaW4gbmFtZSBhbmQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBQbHVnaW4udG9TdHJpbmcgPSBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwbHVnaW4gPT09ICdzdHJpbmcnID8gcGx1Z2luIDogKHBsdWdpbi5uYW1lIHx8ICdhbm9ueW1vdXMnKSArICdAJyArIChwbHVnaW4udmVyc2lvbiB8fCBwbHVnaW4ucmFuZ2UgfHwgJzAuMC4wJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgbWVldHMgdGhlIG1pbmltdW0gc3RhbmRhcmQgdG8gYmUgY29uc2lkZXJlZCBhIHBsdWdpbi5cbiAgICAgKiBUaGlzIG1lYW5zIGl0IG11c3QgZGVmaW5lIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAtIGBuYW1lYFxuICAgICAqIC0gYHZlcnNpb25gXG4gICAgICogLSBgaW5zdGFsbGBcbiAgICAgKiBAbWV0aG9kIGlzUGx1Z2luXG4gICAgICogQHBhcmFtIG9iaiB7fSBUaGUgb2JqIHRvIHRlc3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgY2FuIGJlIGNvbnNpZGVyZWQgYSBwbHVnaW4gb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgUGx1Z2luLmlzUGx1Z2luID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLm5hbWUgJiYgb2JqLnZlcnNpb24gJiYgb2JqLmluc3RhbGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGEgcGx1Z2luIHdpdGggdGhlIGdpdmVuIGBuYW1lYCBiZWVuIGluc3RhbGxlZCBvbiBgbW9kdWxlYC5cbiAgICAgKiBAbWV0aG9kIGlzVXNlZFxuICAgICAqIEBwYXJhbSBtb2R1bGUge30gVGhlIG1vZHVsZS5cbiAgICAgKiBAcGFyYW0gbmFtZSB7c3RyaW5nfSBUaGUgcGx1Z2luIG5hbWUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGEgcGx1Z2luIHdpdGggdGhlIGdpdmVuIGBuYW1lYCBiZWVuIGluc3RhbGxlZCBvbiBgbW9kdWxlYCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgUGx1Z2luLmlzVXNlZCA9IGZ1bmN0aW9uKG1vZHVsZSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlLnVzZWQuaW5kZXhPZihuYW1lKSA+IC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgcGx1Z2luLmZvcmAgaXMgYXBwbGljYWJsZSB0byBgbW9kdWxlYCBieSBjb21wYXJpbmcgYWdhaW5zdCBgbW9kdWxlLm5hbWVgIGFuZCBgbW9kdWxlLnZlcnNpb25gLlxuICAgICAqIElmIGBwbHVnaW4uZm9yYCBpcyBub3Qgc3BlY2lmaWVkIHRoZW4gaXQgaXMgYXNzdW1lZCB0byBiZSBhcHBsaWNhYmxlLlxuICAgICAqIFRoZSB2YWx1ZSBvZiBgcGx1Z2luLmZvcmAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuXG4gICAgICogQG1ldGhvZCBpc0ZvclxuICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGBwbHVnaW4uZm9yYCBpcyBhcHBsaWNhYmxlIHRvIGBtb2R1bGVgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4uaXNGb3IgPSBmdW5jdGlvbihwbHVnaW4sIG1vZHVsZSkge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGx1Z2luLmZvciAmJiBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKHBsdWdpbi5mb3IpO1xuICAgICAgICByZXR1cm4gIXBsdWdpbi5mb3IgfHwgKG1vZHVsZS5uYW1lID09PSBwYXJzZWQubmFtZSAmJiBQbHVnaW4udmVyc2lvblNhdGlzZmllcyhtb2R1bGUudmVyc2lvbiwgcGFyc2VkLnJhbmdlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbGxzIHRoZSBwbHVnaW5zIGJ5IGNhbGxpbmcgYHBsdWdpbi5pbnN0YWxsYCBvbiBlYWNoIHBsdWdpbiBzcGVjaWZpZWQgaW4gYHBsdWdpbnNgIGlmIHBhc3NlZCwgb3RoZXJ3aXNlIGBtb2R1bGUudXNlc2AuXG4gICAgICogRm9yIGluc3RhbGxpbmcgcGx1Z2lucyBvbiBgTWF0dGVyYCBzZWUgdGhlIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGBNYXR0ZXIudXNlYC5cbiAgICAgKiBQbHVnaW5zIG1heSBiZSBzcGVjaWZpZWQgZWl0aGVyIGJ5IHRoZWlyIG5hbWUgb3IgYSByZWZlcmVuY2UgdG8gdGhlIHBsdWdpbiBvYmplY3QuXG4gICAgICogUGx1Z2lucyB0aGVtc2VsdmVzIG1heSBzcGVjaWZ5IGZ1cnRoZXIgZGVwZW5kZW5jaWVzLCBidXQgZWFjaCBwbHVnaW4gaXMgaW5zdGFsbGVkIG9ubHkgb25jZS5cbiAgICAgKiBPcmRlciBpcyBpbXBvcnRhbnQsIGEgdG9wb2xvZ2ljYWwgc29ydCBpcyBwZXJmb3JtZWQgdG8gZmluZCB0aGUgYmVzdCByZXN1bHRpbmcgb3JkZXIgb2YgaW5zdGFsbGF0aW9uLlxuICAgICAqIFRoaXMgc29ydGluZyBhdHRlbXB0cyB0byBzYXRpc2Z5IGV2ZXJ5IGRlcGVuZGVuY3kncyByZXF1ZXN0ZWQgb3JkZXJpbmcsIGJ1dCBtYXkgbm90IGJlIGV4YWN0IGluIGFsbCBjYXNlcy5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvZ3MgdGhlIHJlc3VsdGluZyBzdGF0dXMgb2YgZWFjaCBkZXBlbmRlbmN5IGluIHRoZSBjb25zb2xlLCBhbG9uZyB3aXRoIGFueSB3YXJuaW5ncy5cbiAgICAgKiAtIEEgZ3JlZW4gdGljayDinIUgaW5kaWNhdGVzIGEgZGVwZW5kZW5jeSB3YXMgcmVzb2x2ZWQgYW5kIGluc3RhbGxlZC5cbiAgICAgKiAtIEFuIG9yYW5nZSBkaWFtb25kIPCflLYgaW5kaWNhdGVzIGEgZGVwZW5kZW5jeSB3YXMgcmVzb2x2ZWQgYnV0IGEgd2FybmluZyB3YXMgdGhyb3duIGZvciBpdCBvciBvbmUgaWYgaXRzIGRlcGVuZGVuY2llcy5cbiAgICAgKiAtIEEgcmVkIGNyb3NzIOKdjCBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IGNvdWxkIG5vdCBiZSByZXNvbHZlZC5cbiAgICAgKiBBdm9pZCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgbW9kdWxlIHVubGVzcyB5b3UgaW50ZW5kIHRvIG1hbnVhbGx5IGNvbnRyb2wgaW5zdGFsbGF0aW9uIG9yZGVyLlxuICAgICAqIEBtZXRob2QgdXNlXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlIGluc3RhbGwgcGx1Z2lucyBvbi5cbiAgICAgKiBAcGFyYW0gW3BsdWdpbnM9bW9kdWxlLnVzZXNdIHt9IFRoZSBwbHVnaW5zIHRvIGluc3RhbGwgb24gbW9kdWxlIChvcHRpb25hbCwgZGVmYXVsdHMgdG8gYG1vZHVsZS51c2VzYCkuXG4gICAgICovXG4gICAgUGx1Z2luLnVzZSA9IGZ1bmN0aW9uKG1vZHVsZSwgcGx1Z2lucykge1xuICAgICAgICBtb2R1bGUudXNlcyA9IChtb2R1bGUudXNlcyB8fCBbXSkuY29uY2F0KHBsdWdpbnMgfHwgW10pO1xuXG4gICAgICAgIGlmIChtb2R1bGUudXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udXNlOicsIFBsdWdpbi50b1N0cmluZyhtb2R1bGUpLCAnZG9lcyBub3Qgc3BlY2lmeSBhbnkgZGVwZW5kZW5jaWVzIHRvIGluc3RhbGwuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gUGx1Z2luLmRlcGVuZGVuY2llcyhtb2R1bGUpLFxuICAgICAgICAgICAgc29ydGVkRGVwZW5kZW5jaWVzID0gQ29tbW9uLnRvcG9sb2dpY2FsU29ydChkZXBlbmRlbmNpZXMpLFxuICAgICAgICAgICAgc3RhdHVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmIChzb3J0ZWREZXBlbmRlbmNpZXNbaV0gPT09IG1vZHVsZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBQbHVnaW4ucmVzb2x2ZShzb3J0ZWREZXBlbmRlbmNpZXNbaV0pO1xuXG4gICAgICAgICAgICBpZiAoIXBsdWdpbikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5wdXNoKCfinYwgJyArIHNvcnRlZERlcGVuZGVuY2llc1tpXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbHVnaW4uaXNVc2VkKG1vZHVsZSwgcGx1Z2luLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghUGx1Z2luLmlzRm9yKHBsdWdpbiwgbW9kdWxlKSkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udXNlOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnaXMgZm9yJywgcGx1Z2luLmZvciwgJ2J1dCBpbnN0YWxsZWQgb24nLCBQbHVnaW4udG9TdHJpbmcobW9kdWxlKSArICcuJyk7XG4gICAgICAgICAgICAgICAgcGx1Z2luLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChtb2R1bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2RvZXMgbm90IHNwZWNpZnkgYW4gaW5zdGFsbCBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgICAgICBwbHVnaW4uX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW4uX3dhcm5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5wdXNoKCfwn5S2ICcgKyBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBsdWdpbi5fd2FybmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn4pyFICcgKyBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZHVsZS51c2VkLnB1c2gocGx1Z2luLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBDb21tb24uaW5mbyhzdGF0dXMuam9pbignICAnKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmluZHMgYWxsIG9mIGEgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzIGFuZCByZXR1cm5zIGEgZmxhdCBkZXBlbmRlbmN5IGdyYXBoLlxuICAgICAqIEBtZXRob2QgZGVwZW5kZW5jaWVzXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gQSBkZXBlbmRlbmN5IGdyYXBoLlxuICAgICAqL1xuICAgIFBsdWdpbi5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbihtb2R1bGUsIHRyYWNrZWQpIHtcbiAgICAgICAgdmFyIHBhcnNlZEJhc2UgPSBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKG1vZHVsZSksXG4gICAgICAgICAgICBuYW1lID0gcGFyc2VkQmFzZS5uYW1lO1xuXG4gICAgICAgIHRyYWNrZWQgPSB0cmFja2VkIHx8IHt9O1xuXG4gICAgICAgIGlmIChuYW1lIGluIHRyYWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vZHVsZSA9IFBsdWdpbi5yZXNvbHZlKG1vZHVsZSkgfHwgbW9kdWxlO1xuXG4gICAgICAgIHRyYWNrZWRbbmFtZV0gPSBDb21tb24ubWFwKG1vZHVsZS51c2VzIHx8IFtdLCBmdW5jdGlvbihkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICBpZiAoUGx1Z2luLmlzUGx1Z2luKGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgICAgUGx1Z2luLnJlZ2lzdGVyKGRlcGVuZGVuY3kpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShkZXBlbmRlbmN5KSxcbiAgICAgICAgICAgICAgICByZXNvbHZlZCA9IFBsdWdpbi5yZXNvbHZlKGRlcGVuZGVuY3kpO1xuXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWQgJiYgIVBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzKHJlc29sdmVkLnZlcnNpb24sIHBhcnNlZC5yYW5nZSkpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybihcbiAgICAgICAgICAgICAgICAgICAgJ1BsdWdpbi5kZXBlbmRlbmNpZXM6JywgUGx1Z2luLnRvU3RyaW5nKHJlc29sdmVkKSwgJ2RvZXMgbm90IHNhdGlzZnknLFxuICAgICAgICAgICAgICAgICAgICBQbHVnaW4udG9TdHJpbmcocGFyc2VkKSwgJ3VzZWQgYnknLCBQbHVnaW4udG9TdHJpbmcocGFyc2VkQmFzZSkgKyAnLidcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWQuX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbW9kdWxlLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybihcbiAgICAgICAgICAgICAgICAgICAgJ1BsdWdpbi5kZXBlbmRlbmNpZXM6JywgUGx1Z2luLnRvU3RyaW5nKGRlcGVuZGVuY3kpLCAndXNlZCBieScsXG4gICAgICAgICAgICAgICAgICAgIFBsdWdpbi50b1N0cmluZyhwYXJzZWRCYXNlKSwgJ2NvdWxkIG5vdCBiZSByZXNvbHZlZC4nXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG1vZHVsZS5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZC5uYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrZWRbbmFtZV0ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIFBsdWdpbi5kZXBlbmRlbmNpZXModHJhY2tlZFtuYW1lXVtpXSwgdHJhY2tlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhY2tlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZGVwZW5kZW5jeSBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy5cbiAgICAgKiBUaGUgYGRlcGVuZGVuY3lgIGlzIGEgc3RyaW5nIG9mIHRoZSBmb3JtYXQgYCdtb2R1bGUtbmFtZSdgIG9yIGAnbW9kdWxlLW5hbWVAdmVyc2lvbidgLlxuICAgICAqIFNlZSBkb2N1bWVudGF0aW9uIGZvciBgUGx1Z2luLnZlcnNpb25QYXJzZWAgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBhbHNvIGhhbmRsZSBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgYWxyZWFkeSByZXNvbHZlZCAoZS5nLiBhIG1vZHVsZSBvYmplY3QpLlxuICAgICAqIEBtZXRob2QgZGVwZW5kZW5jeVBhcnNlXG4gICAgICogQHBhcmFtIGRlcGVuZGVuY3kge3N0cmluZ30gVGhlIGRlcGVuZGVuY3kgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgZGVwZW5kZW5jeSBwYXJzZWQgaW50byBpdHMgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlID0gZnVuY3Rpb24oZGVwZW5kZW5jeSkge1xuICAgICAgICBpZiAoQ29tbW9uLmlzU3RyaW5nKGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IC9eW1xcdy1dKyhAKFxcKnxbXFxefl0/XFxkK1xcLlxcZCtcXC5cXGQrKC1bMC05QS1aYS16LStdKyk/KSk/JC87XG5cbiAgICAgICAgICAgIGlmICghcGF0dGVybi50ZXN0KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5kZXBlbmRlbmN5UGFyc2U6JywgZGVwZW5kZW5jeSwgJ2lzIG5vdCBhIHZhbGlkIGRlcGVuZGVuY3kgc3RyaW5nLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGRlcGVuZGVuY3kuc3BsaXQoJ0AnKVswXSxcbiAgICAgICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5zcGxpdCgnQCcpWzFdIHx8ICcqJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBkZXBlbmRlbmN5Lm5hbWUsXG4gICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5yYW5nZSB8fCBkZXBlbmRlbmN5LnZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgdmVyc2lvbiBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy4gIFxuICAgICAqIFZlcnNpb25zIGFyZSBzdHJpY3RseSBvZiB0aGUgZm9ybWF0IGB4LnkuemAgKGFzIGluIFtzZW12ZXJdKGh0dHA6Ly9zZW12ZXIub3JnLykpLlxuICAgICAqIFZlcnNpb25zIG1heSBvcHRpb25hbGx5IGhhdmUgYSBwcmVyZWxlYXNlIHRhZyBpbiB0aGUgZm9ybWF0IGB4Lnkuei1hbHBoYWAuXG4gICAgICogUmFuZ2VzIGFyZSBhIHN0cmljdCBzdWJzZXQgb2YgW25wbSByYW5nZXNdKGh0dHBzOi8vZG9jcy5ucG1qcy5jb20vbWlzYy9zZW12ZXIjYWR2YW5jZWQtcmFuZ2Utc3ludGF4KS5cbiAgICAgKiBPbmx5IHRoZSBmb2xsb3dpbmcgcmFuZ2UgdHlwZXMgYXJlIHN1cHBvcnRlZDpcbiAgICAgKiAtIFRpbGRlIHJhbmdlcyBlLmcuIGB+MS4yLjNgXG4gICAgICogLSBDYXJldCByYW5nZXMgZS5nLiBgXjEuMi4zYFxuICAgICAqIC0gR3JlYXRlciB0aGFuIHJhbmdlcyBlLmcuIGA+MS4yLjNgXG4gICAgICogLSBHcmVhdGVyIHRoYW4gb3IgZXF1YWwgcmFuZ2VzIGUuZy4gYD49MS4yLjNgXG4gICAgICogLSBFeGFjdCB2ZXJzaW9uIGUuZy4gYDEuMi4zYFxuICAgICAqIC0gQW55IHZlcnNpb24gYCpgXG4gICAgICogQG1ldGhvZCB2ZXJzaW9uUGFyc2VcbiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHZlcnNpb24gc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHZlcnNpb24gcmFuZ2UgcGFyc2VkIGludG8gaXRzIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgUGx1Z2luLnZlcnNpb25QYXJzZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gL14oXFwqKXwoXFxefH58Pj18Pik/XFxzKigoXFxkKylcXC4oXFxkKylcXC4oXFxkKykpKC1bMC05QS1aYS16LStdKyk/JC87XG5cbiAgICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QocmFuZ2UpKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnZlcnNpb25QYXJzZTonLCByYW5nZSwgJ2lzIG5vdCBhIHZhbGlkIHZlcnNpb24gb3IgcmFuZ2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFydHMgPSBwYXR0ZXJuLmV4ZWMocmFuZ2UpO1xuICAgICAgICB2YXIgbWFqb3IgPSBOdW1iZXIocGFydHNbNF0pO1xuICAgICAgICB2YXIgbWlub3IgPSBOdW1iZXIocGFydHNbNV0pO1xuICAgICAgICB2YXIgcGF0Y2ggPSBOdW1iZXIocGFydHNbNl0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1JhbmdlOiBCb29sZWFuKHBhcnRzWzFdIHx8IHBhcnRzWzJdKSxcbiAgICAgICAgICAgIHZlcnNpb246IHBhcnRzWzNdLFxuICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgb3BlcmF0b3I6IHBhcnRzWzFdIHx8IHBhcnRzWzJdIHx8ICcnLFxuICAgICAgICAgICAgbWFqb3I6IG1ham9yLFxuICAgICAgICAgICAgbWlub3I6IG1pbm9yLFxuICAgICAgICAgICAgcGF0Y2g6IHBhdGNoLFxuICAgICAgICAgICAgcGFydHM6IFttYWpvciwgbWlub3IsIHBhdGNoXSxcbiAgICAgICAgICAgIHByZXJlbGVhc2U6IHBhcnRzWzddLFxuICAgICAgICAgICAgbnVtYmVyOiBtYWpvciAqIDFlOCArIG1pbm9yICogMWU0ICsgcGF0Y2hcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYHZlcnNpb25gIHNhdGlzZmllcyB0aGUgZ2l2ZW4gYHJhbmdlYC5cbiAgICAgKiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgYFBsdWdpbi52ZXJzaW9uUGFyc2VgIGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBmb3JtYXQuXG4gICAgICogSWYgYSB2ZXJzaW9uIG9yIHJhbmdlIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gYW55IHZlcnNpb24gKGAqYCkgaXMgYXNzdW1lZCB0byBzYXRpc2Z5LlxuICAgICAqIEBtZXRob2QgdmVyc2lvblNhdGlzZmllc1xuICAgICAqIEBwYXJhbSB2ZXJzaW9uIHtzdHJpbmd9IFRoZSB2ZXJzaW9uIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHJhbmdlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYHZlcnNpb25gIHNhdGlzZmllcyBgcmFuZ2VgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4udmVyc2lvblNhdGlzZmllcyA9IGZ1bmN0aW9uKHZlcnNpb24sIHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gcmFuZ2UgfHwgJyonO1xuXG4gICAgICAgIHZhciByID0gUGx1Z2luLnZlcnNpb25QYXJzZShyYW5nZSksXG4gICAgICAgICAgICB2ID0gUGx1Z2luLnZlcnNpb25QYXJzZSh2ZXJzaW9uKTtcblxuICAgICAgICBpZiAoci5pc1JhbmdlKSB7XG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJyonIHx8IHZlcnNpb24gPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubnVtYmVyID4gci5udW1iZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnPj0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubnVtYmVyID49IHIubnVtYmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoci5vcGVyYXRvciA9PT0gJ34nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubWFqb3IgPT09IHIubWFqb3IgJiYgdi5taW5vciA9PT0gci5taW5vciAmJiB2LnBhdGNoID49IHIucGF0Y2g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnXicpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5tYWpvciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYubWFqb3IgPT09IHIubWFqb3IgJiYgdi5udW1iZXIgPj0gci5udW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHIubWlub3IgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2Lm1pbm9yID09PSByLm1pbm9yICYmIHYucGF0Y2ggPj0gci5wYXRjaDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdi5wYXRjaCA9PT0gci5wYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJzaW9uID09PSByYW5nZSB8fCB2ZXJzaW9uID09PSAnKic7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Db250YWN0YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gY29udGFjdHMuXG4qXG4qIEBjbGFzcyBDb250YWN0XG4qL1xuXG52YXIgQ29udGFjdCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRhY3Q7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29udGFjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGV4fSB2ZXJ0ZXhcbiAgICAgKiBAcmV0dXJuIHtjb250YWN0fSBBIG5ldyBjb250YWN0XG4gICAgICovXG4gICAgQ29udGFjdC5jcmVhdGUgPSBmdW5jdGlvbih2ZXJ0ZXgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnRleDogdmVydGV4LFxuICAgICAgICAgICAgbm9ybWFsSW1wdWxzZTogMCxcbiAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlOiAwXG4gICAgICAgIH07XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5FbmdpbmVgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGVuZ2luZXMuXG4qIEFuIGVuZ2luZSBpcyBhIGNvbnRyb2xsZXIgdGhhdCBtYW5hZ2VzIHVwZGF0aW5nIHRoZSBzaW11bGF0aW9uIG9mIHRoZSB3b3JsZC5cbiogU2VlIGBNYXR0ZXIuUnVubmVyYCBmb3IgYW4gb3B0aW9uYWwgZ2FtZSBsb29wIHV0aWxpdHkuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBFbmdpbmVcbiovXG5cbnZhciBFbmdpbmUgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBFbmdpbmU7XG5cbnZhciBTbGVlcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgUmVzb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBEZXRlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIFBhaXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGVuZ2luZS4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgRW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgcG9zaXRpb25JdGVyYXRpb25zOiA2LFxuICAgICAgICAgICAgdmVsb2NpdHlJdGVyYXRpb25zOiA0LFxuICAgICAgICAgICAgY29uc3RyYWludEl0ZXJhdGlvbnM6IDIsXG4gICAgICAgICAgICBlbmFibGVTbGVlcGluZzogZmFsc2UsXG4gICAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgICAgcGx1Z2luOiB7fSxcbiAgICAgICAgICAgIGdyYXZpdHk6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDEsXG4gICAgICAgICAgICAgICAgc2NhbGU6IDAuMDAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGltaW5nOiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgICAgICAgICAgICBsYXN0RGVsdGE6IDAsXG4gICAgICAgICAgICAgICAgbGFzdEVsYXBzZWQ6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZW5naW5lID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgZW5naW5lLndvcmxkID0gb3B0aW9ucy53b3JsZCB8fCBDb21wb3NpdGUuY3JlYXRlKHsgbGFiZWw6ICdXb3JsZCcgfSk7XG4gICAgICAgIGVuZ2luZS5wYWlycyA9IG9wdGlvbnMucGFpcnMgfHwgUGFpcnMuY3JlYXRlKCk7XG4gICAgICAgIGVuZ2luZS5kZXRlY3RvciA9IG9wdGlvbnMuZGV0ZWN0b3IgfHwgRGV0ZWN0b3IuY3JlYXRlKCk7XG5cbiAgICAgICAgLy8gZm9yIHRlbXBvcmFyeSBiYWNrIGNvbXBhdGliaWxpdHkgb25seVxuICAgICAgICBlbmdpbmUuZ3JpZCA9IHsgYnVja2V0czogW10gfTtcbiAgICAgICAgZW5naW5lLndvcmxkLmdyYXZpdHkgPSBlbmdpbmUuZ3Jhdml0eTtcbiAgICAgICAgZW5naW5lLmJyb2FkcGhhc2UgPSBlbmdpbmUuZ3JpZDtcbiAgICAgICAgZW5naW5lLm1ldHJpY3MgPSB7fTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBlbmdpbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBzaW11bGF0aW9uIGZvcndhcmQgaW4gdGltZSBieSBgZGVsdGFgIG1pbGxpc2Vjb25kcy5cbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlVXBkYXRlYCBhbmQgYGFmdGVyVXBkYXRlYCBldmVudHMuXG4gICAgICogVHJpZ2dlcnMgYGNvbGxpc2lvblN0YXJ0YCwgYGNvbGxpc2lvbkFjdGl2ZWAgYW5kIGBjb2xsaXNpb25FbmRgIGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhPTE2LjY2Nl1cbiAgICAgKi9cbiAgICBFbmdpbmUudXBkYXRlID0gZnVuY3Rpb24oZW5naW5lLCBkZWx0YSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gQ29tbW9uLm5vdygpO1xuXG4gICAgICAgIHZhciB3b3JsZCA9IGVuZ2luZS53b3JsZCxcbiAgICAgICAgICAgIGRldGVjdG9yID0gZW5naW5lLmRldGVjdG9yLFxuICAgICAgICAgICAgcGFpcnMgPSBlbmdpbmUucGFpcnMsXG4gICAgICAgICAgICB0aW1pbmcgPSBlbmdpbmUudGltaW5nLFxuICAgICAgICAgICAgdGltZXN0YW1wID0gdGltaW5nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZGVsdGEgPSB0eXBlb2YgZGVsdGEgIT09ICd1bmRlZmluZWQnID8gZGVsdGEgOiBDb21tb24uX2Jhc2VEZWx0YTtcbiAgICAgICAgZGVsdGEgKj0gdGltaW5nLnRpbWVTY2FsZTtcblxuICAgICAgICAvLyBpbmNyZW1lbnQgdGltZXN0YW1wXG4gICAgICAgIHRpbWluZy50aW1lc3RhbXAgKz0gZGVsdGE7XG4gICAgICAgIHRpbWluZy5sYXN0RGVsdGEgPSBkZWx0YTtcblxuICAgICAgICAvLyBjcmVhdGUgYW4gZXZlbnQgb2JqZWN0XG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGRlbHRhOiBkZWx0YVxuICAgICAgICB9O1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGV2ZW50KTtcblxuICAgICAgICAvLyBnZXQgYWxsIGJvZGllcyBhbmQgYWxsIGNvbnN0cmFpbnRzIGluIHRoZSB3b3JsZFxuICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksXG4gICAgICAgICAgICBhbGxDb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHdvcmxkIGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmICh3b3JsZC5pc01vZGlmaWVkKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRldGVjdG9yIGJvZGllc1xuICAgICAgICAgICAgRGV0ZWN0b3Iuc2V0Qm9kaWVzKGRldGVjdG9yLCBhbGxCb2RpZXMpO1xuXG4gICAgICAgICAgICAvLyByZXNldCBhbGwgY29tcG9zaXRlIG1vZGlmaWVkIGZsYWdzXG4gICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQod29ybGQsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgc2xlZXBpbmcgaWYgZW5hYmxlZFxuICAgICAgICBpZiAoZW5naW5lLmVuYWJsZVNsZWVwaW5nKVxuICAgICAgICAgICAgU2xlZXBpbmcudXBkYXRlKGFsbEJvZGllcywgZGVsdGEpO1xuXG4gICAgICAgIC8vIGFwcGx5IGdyYXZpdHkgdG8gYWxsIGJvZGllc1xuICAgICAgICBFbmdpbmUuX2JvZGllc0FwcGx5R3Jhdml0eShhbGxCb2RpZXMsIGVuZ2luZS5ncmF2aXR5KTtcblxuICAgICAgICAvLyB1cGRhdGUgYWxsIGJvZHkgcG9zaXRpb24gYW5kIHJvdGF0aW9uIGJ5IGludGVncmF0aW9uXG4gICAgICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgICAgICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlKGFsbEJvZGllcywgZGVsdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGFsbCBjb25zdHJhaW50cyAoZmlyc3QgcGFzcylcbiAgICAgICAgQ29uc3RyYWludC5wcmVTb2x2ZUFsbChhbGxCb2RpZXMpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLmNvbnN0cmFpbnRJdGVyYXRpb25zOyBpKyspIHtcbiAgICAgICAgICAgIENvbnN0cmFpbnQuc29sdmVBbGwoYWxsQ29uc3RyYWludHMsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJhaW50LnBvc3RTb2x2ZUFsbChhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIGZpbmQgYWxsIGNvbGxpc2lvbnNcbiAgICAgICAgZGV0ZWN0b3IucGFpcnMgPSBlbmdpbmUucGFpcnM7XG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gRGV0ZWN0b3IuY29sbGlzaW9ucyhkZXRlY3Rvcik7XG5cbiAgICAgICAgLy8gdXBkYXRlIGNvbGxpc2lvbiBwYWlyc1xuICAgICAgICBQYWlycy51cGRhdGUocGFpcnMsIGNvbGxpc2lvbnMsIHRpbWVzdGFtcCk7XG5cbiAgICAgICAgLy8gd2FrZSB1cCBib2RpZXMgaW52b2x2ZWQgaW4gY29sbGlzaW9uc1xuICAgICAgICBpZiAoZW5naW5lLmVuYWJsZVNsZWVwaW5nKVxuICAgICAgICAgICAgU2xlZXBpbmcuYWZ0ZXJDb2xsaXNpb25zKHBhaXJzLmxpc3QpO1xuXG4gICAgICAgIC8vIHRyaWdnZXIgY29sbGlzaW9uIGV2ZW50c1xuICAgICAgICBpZiAocGFpcnMuY29sbGlzaW9uU3RhcnQubGVuZ3RoID4gMClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2NvbGxpc2lvblN0YXJ0JywgeyBwYWlyczogcGFpcnMuY29sbGlzaW9uU3RhcnQgfSk7XG5cbiAgICAgICAgLy8gaXRlcmF0aXZlbHkgcmVzb2x2ZSBwb3NpdGlvbiBiZXR3ZWVuIGNvbGxpc2lvbnNcbiAgICAgICAgdmFyIHBvc2l0aW9uRGFtcGluZyA9IENvbW1vbi5jbGFtcCgyMCAvIGVuZ2luZS5wb3NpdGlvbkl0ZXJhdGlvbnMsIDAsIDEpO1xuICAgICAgICBcbiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVQb3NpdGlvbihwYWlycy5saXN0KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS5wb3NpdGlvbkl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgUmVzb2x2ZXIuc29sdmVQb3NpdGlvbihwYWlycy5saXN0LCBkZWx0YSwgcG9zaXRpb25EYW1waW5nKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNvbHZlci5wb3N0U29sdmVQb3NpdGlvbihhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBhbGwgY29uc3RyYWludHMgKHNlY29uZCBwYXNzKVxuICAgICAgICBDb25zdHJhaW50LnByZVNvbHZlQWxsKGFsbEJvZGllcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbmdpbmUuY29uc3RyYWludEl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZUFsbChhbGxDb25zdHJhaW50cywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsKGFsbEJvZGllcyk7XG5cbiAgICAgICAgLy8gaXRlcmF0aXZlbHkgcmVzb2x2ZSB2ZWxvY2l0eSBiZXR3ZWVuIGNvbGxpc2lvbnNcbiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVWZWxvY2l0eShwYWlycy5saXN0KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS52ZWxvY2l0eUl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgUmVzb2x2ZXIuc29sdmVWZWxvY2l0eShwYWlycy5saXN0LCBkZWx0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgYm9keSBzcGVlZCBhbmQgdmVsb2NpdHkgcHJvcGVydGllc1xuICAgICAgICBFbmdpbmUuX2JvZGllc1VwZGF0ZVZlbG9jaXRpZXMoYWxsQm9kaWVzKTtcblxuICAgICAgICAvLyB0cmlnZ2VyIGNvbGxpc2lvbiBldmVudHNcbiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnY29sbGlzaW9uQWN0aXZlJywgeyBwYWlyczogcGFpcnMuY29sbGlzaW9uQWN0aXZlIH0pO1xuXG4gICAgICAgIGlmIChwYWlycy5jb2xsaXNpb25FbmQubGVuZ3RoID4gMClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2NvbGxpc2lvbkVuZCcsIHsgcGFpcnM6IHBhaXJzLmNvbGxpc2lvbkVuZCB9KTtcblxuICAgICAgICAvLyBjbGVhciBmb3JjZSBidWZmZXJzXG4gICAgICAgIEVuZ2luZS5fYm9kaWVzQ2xlYXJGb3JjZXMoYWxsQm9kaWVzKTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdhZnRlclVwZGF0ZScsIGV2ZW50KTtcblxuICAgICAgICAvLyBsb2cgdGhlIHRpbWUgZWxhcHNlZCBjb21wdXRpbmcgdGhpcyB1cGRhdGVcbiAgICAgICAgZW5naW5lLnRpbWluZy5sYXN0RWxhcHNlZCA9IENvbW1vbi5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgICByZXR1cm4gZW5naW5lO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHR3byBlbmdpbmVzIGJ5IGtlZXBpbmcgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYGVuZ2luZUFgIGJ1dCByZXBsYWNpbmcgdGhlIHdvcmxkIHdpdGggdGhlIG9uZSBmcm9tIGBlbmdpbmVCYC5cbiAgICAgKiBAbWV0aG9kIG1lcmdlXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZUFcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lQlxuICAgICAqL1xuICAgIEVuZ2luZS5tZXJnZSA9IGZ1bmN0aW9uKGVuZ2luZUEsIGVuZ2luZUIpIHtcbiAgICAgICAgQ29tbW9uLmV4dGVuZChlbmdpbmVBLCBlbmdpbmVCKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbmdpbmVCLndvcmxkKSB7XG4gICAgICAgICAgICBlbmdpbmVBLndvcmxkID0gZW5naW5lQi53b3JsZDtcblxuICAgICAgICAgICAgRW5naW5lLmNsZWFyKGVuZ2luZUEpO1xuXG4gICAgICAgICAgICB2YXIgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhlbmdpbmVBLndvcmxkKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcbiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJvZHkuaWQgPSBDb21tb24ubmV4dElkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBlbmdpbmUgcGFpcnMgYW5kIGRldGVjdG9yLlxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgRW5naW5lLmNsZWFyID0gZnVuY3Rpb24oZW5naW5lKSB7XG4gICAgICAgIFBhaXJzLmNsZWFyKGVuZ2luZS5wYWlycyk7XG4gICAgICAgIERldGVjdG9yLmNsZWFyKGVuZ2luZS5kZXRlY3Rvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFplcm9lcyB0aGUgYGJvZHkuZm9yY2VgIGFuZCBgYm9keS50b3JxdWVgIGZvcmNlIGJ1ZmZlcnMuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzQ2xlYXJGb3JjZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBFbmdpbmUuX2JvZGllc0NsZWFyRm9yY2VzID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIHZhciBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICAvLyByZXNldCBmb3JjZSBidWZmZXJzXG4gICAgICAgICAgICBib2R5LmZvcmNlLnggPSAwO1xuICAgICAgICAgICAgYm9keS5mb3JjZS55ID0gMDtcbiAgICAgICAgICAgIGJvZHkudG9ycXVlID0gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGdyYXZpdGF0aW9uYWwgYWNjZWxlcmF0aW9uIHRvIGFsbCBgYm9kaWVzYC5cbiAgICAgKiBUaGlzIG1vZGVscyBhIFt1bmlmb3JtIGdyYXZpdGF0aW9uYWwgZmllbGRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dyYXZpdHlfb2ZfRWFydGgpLCBzaW1pbGFyIHRvIG5lYXIgdGhlIHN1cmZhY2Ugb2YgYSBwbGFuZXQuXG4gICAgICogXG4gICAgICogQG1ldGhvZCBfYm9kaWVzQXBwbHlHcmF2aXR5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IGdyYXZpdHlcbiAgICAgKi9cbiAgICBFbmdpbmUuX2JvZGllc0FwcGx5R3Jhdml0eSA9IGZ1bmN0aW9uKGJvZGllcywgZ3Jhdml0eSkge1xuICAgICAgICB2YXIgZ3Jhdml0eVNjYWxlID0gdHlwZW9mIGdyYXZpdHkuc2NhbGUgIT09ICd1bmRlZmluZWQnID8gZ3Jhdml0eS5zY2FsZSA6IDAuMDAxLFxuICAgICAgICAgICAgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoKGdyYXZpdHkueCA9PT0gMCAmJiBncmF2aXR5LnkgPT09IDApIHx8IGdyYXZpdHlTY2FsZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgYm9keS5pc1NsZWVwaW5nKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHJlc3VsdGFudCBmb3JjZSBvZiBncmF2aXR5XG4gICAgICAgICAgICBib2R5LmZvcmNlLnkgKz0gYm9keS5tYXNzICogZ3Jhdml0eS55ICogZ3Jhdml0eVNjYWxlO1xuICAgICAgICAgICAgYm9keS5mb3JjZS54ICs9IGJvZHkubWFzcyAqIGdyYXZpdHkueCAqIGdyYXZpdHlTY2FsZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGBCb2R5LnVwZGF0ZWAgdG8gYWxsIGdpdmVuIGBib2RpZXNgLlxuICAgICAqIEBtZXRob2QgX2JvZGllc1VwZGF0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBUaGUgYW1vdW50IG9mIHRpbWUgZWxhcHNlZCBiZXR3ZWVuIHVwZGF0ZXNcbiAgICAgKi9cbiAgICBFbmdpbmUuX2JvZGllc1VwZGF0ZSA9IGZ1bmN0aW9uKGJvZGllcywgZGVsdGEpIHtcbiAgICAgICAgdmFyIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChib2R5LmlzU3RhdGljIHx8IGJvZHkuaXNTbGVlcGluZylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgQm9keS51cGRhdGUoYm9keSwgZGVsdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYEJvZHkudXBkYXRlVmVsb2NpdGllc2AgdG8gYWxsIGdpdmVuIGBib2RpZXNgLlxuICAgICAqIEBtZXRob2QgX2JvZGllc1VwZGF0ZVZlbG9jaXRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBFbmdpbmUuX2JvZGllc1VwZGF0ZVZlbG9jaXRpZXMgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgdmFyIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQm9keS51cGRhdGVWZWxvY2l0aWVzKGJvZGllc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBkZXByZWNhdGVkIGFsaWFzIGZvciBgUnVubmVyLnJ1bmAsIHVzZSBgTWF0dGVyLlJ1bm5lci5ydW4oZW5naW5lKWAgaW5zdGVhZCBhbmQgc2VlIGBNYXR0ZXIuUnVubmVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgTWF0dGVyLlJ1bm5lci5ydW4oZW5naW5lKSBpbnN0ZWFkXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIGFuIHVwZGF0ZVxuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVVcGRhdGVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LmRlbHRhIFRoZSBkZWx0YSB0aW1lIGluIG1pbGxpc2Vjb25kcyB2YWx1ZSB1c2VkIGluIHRoZSB1cGRhdGVcbiAgICAqIEBwYXJhbSB7ZW5naW5lfSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciBlbmdpbmUgdXBkYXRlIGFuZCBhbGwgY29sbGlzaW9uIGV2ZW50c1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclVwZGF0ZVxuICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBoYXZlIHN0YXJ0ZWQgdG8gY29sbGlkZSBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpXG4gICAgKlxuICAgICogQGV2ZW50IGNvbGxpc2lvblN0YXJ0XG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge3BhaXJbXX0gZXZlbnQucGFpcnMgTGlzdCBvZiBhZmZlY3RlZCBwYWlyc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBhcmUgY29sbGlkaW5nIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uQWN0aXZlXG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge3BhaXJbXX0gZXZlbnQucGFpcnMgTGlzdCBvZiBhZmZlY3RlZCBwYWlyc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBoYXZlIGVuZGVkIGNvbGxpc2lvbiBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpXG4gICAgKlxuICAgICogQGV2ZW50IGNvbGxpc2lvbkVuZFxuICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtwYWlyW119IGV2ZW50LnBhaXJzIExpc3Qgb2YgYWZmZWN0ZWQgcGFpcnNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LmRlbHRhIFRoZSBkZWx0YSB0aW1lIGluIG1pbGxpc2Vjb25kcyB2YWx1ZSB1c2VkIGluIHRoZSB1cGRhdGVcbiAgICAqIEBwYXJhbSB7ZW5naW5lfSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgcG9zaXRpb24gaXRlcmF0aW9ucyB0byBwZXJmb3JtIGVhY2ggdXBkYXRlLlxuICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlLCB0aGUgaGlnaGVyIHF1YWxpdHkgdGhlIHNpbXVsYXRpb24gd2lsbCBiZSBhdCB0aGUgZXhwZW5zZSBvZiBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvbkl0ZXJhdGlvbnNcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA2XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgdmVsb2NpdHkgaXRlcmF0aW9ucyB0byBwZXJmb3JtIGVhY2ggdXBkYXRlLlxuICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlLCB0aGUgaGlnaGVyIHF1YWxpdHkgdGhlIHNpbXVsYXRpb24gd2lsbCBiZSBhdCB0aGUgZXhwZW5zZSBvZiBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB2ZWxvY2l0eUl0ZXJhdGlvbnNcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgY29uc3RyYWludCBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIG9mIGAyYCBpcyB1c3VhbGx5IHZlcnkgYWRlcXVhdGUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludEl0ZXJhdGlvbnNcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBzcGVjaWZpZXMgd2hldGhlciB0aGUgZW5naW5lIHNob3VsZCBhbGxvdyBzbGVlcGluZyB2aWEgdGhlIGBNYXR0ZXIuU2xlZXBpbmdgIG1vZHVsZS5cbiAgICAgKiBTbGVlcGluZyBjYW4gaW1wcm92ZSBzdGFiaWxpdHkgYW5kIHBlcmZvcm1hbmNlLCBidXQgb2Z0ZW4gYXQgdGhlIGV4cGVuc2Ugb2YgYWNjdXJhY3kuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZW5hYmxlU2xlZXBpbmdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIGNvbnRhaW5pbmcgcHJvcGVydGllcyByZWdhcmRpbmcgdGhlIHRpbWluZyBzeXN0ZW1zIG9mIHRoZSBlbmdpbmUuIFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRpbWluZ1xuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgZ2xvYmFsIHNjYWxpbmcgZmFjdG9yIG9mIHRpbWUgZm9yIGFsbCBib2RpZXMuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgZnJlZXplcyB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBBIHZhbHVlIG9mIGAwLjFgIGdpdmVzIGEgc2xvdy1tb3Rpb24gZWZmZWN0LlxuICAgICAqIEEgdmFsdWUgb2YgYDEuMmAgZ2l2ZXMgYSBzcGVlZC11cCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nLnRpbWVTY2FsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIGN1cnJlbnQgc2ltdWxhdGlvbi10aW1lIGluIG1pbGxpc2Vjb25kcyBzdGFydGluZyBmcm9tIGAwYC4gXG4gICAgICogSXQgaXMgaW5jcmVtZW50ZWQgb24gZXZlcnkgYEVuZ2luZS51cGRhdGVgIGJ5IHRoZSBnaXZlbiBgZGVsdGFgIGFyZ3VtZW50LiBcbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nLnRpbWVzdGFtcFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCByZXByZXNlbnRzIHRoZSB0b3RhbCBleGVjdXRpb24gdGltZSBlbGFwc2VkIGR1cmluZyB0aGUgbGFzdCBgRW5naW5lLnVwZGF0ZWAgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAqIEl0IGlzIHVwZGF0ZWQgYnkgdGltaW5nIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBsYXN0IGBFbmdpbmUudXBkYXRlYCBjYWxsIHVudGlsIGl0IGVuZHMuXG4gICAgICpcbiAgICAgKiBUaGlzIHZhbHVlIHdpbGwgYWxzbyBpbmNsdWRlIHRoZSB0b3RhbCBleGVjdXRpb24gdGltZSBvZiBhbGwgZXZlbnQgaGFuZGxlcnMgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSB0cmlnZ2VyZWQgYnkgdGhlIGVuZ2luZSB1cGRhdGUuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IHRpbWluZy5sYXN0RWxhcHNlZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCByZXByZXNlbnRzIHRoZSBgZGVsdGFgIHZhbHVlIHVzZWQgaW4gdGhlIGxhc3QgZW5naW5lIHVwZGF0ZS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nLmxhc3REZWx0YVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE1hdHRlci5EZXRlY3RvcmAgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZGV0ZWN0b3JcbiAgICAgKiBAdHlwZSBkZXRlY3RvclxuICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkRldGVjdG9yIGluc3RhbmNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBNYXR0ZXIuR3JpZGAgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBgZW5naW5lLmRldGVjdG9yYFxuICAgICAqIEBwcm9wZXJ0eSBncmlkXG4gICAgICogQHR5cGUgZ3JpZFxuICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkdyaWQgaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VkIGJ5IGFuZCBub3cgYWxpYXMgZm9yIGBlbmdpbmUuZ3JpZGAuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBgZW5naW5lLmRldGVjdG9yYFxuICAgICAqIEBwcm9wZXJ0eSBicm9hZHBoYXNlXG4gICAgICogQHR5cGUgZ3JpZFxuICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkdyaWQgaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSByb290IGBNYXR0ZXIuQ29tcG9zaXRlYCBpbnN0YW5jZSB0aGF0IHdpbGwgY29udGFpbiBhbGwgYm9kaWVzLCBjb25zdHJhaW50cyBhbmQgb3RoZXIgY29tcG9zaXRlcyB0byBiZSBzaW11bGF0ZWQgYnkgdGhpcyBlbmdpbmUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgd29ybGRcbiAgICAgKiBAdHlwZSBjb21wb3NpdGVcbiAgICAgKiBAZGVmYXVsdCBhIE1hdHRlci5Db21wb3NpdGUgaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgZ3Jhdml0YXRpb25hbCBhY2NlbGVyYXRpb24gYXBwbGllZCB0byBhbGwgYm9kaWVzIGluIGBlbmdpbmUud29ybGRgIG9uIGV2ZXJ5IHVwZGF0ZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1vZGVscyBhIFt1bmlmb3JtIGdyYXZpdGF0aW9uYWwgZmllbGRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dyYXZpdHlfb2ZfRWFydGgpLCBzaW1pbGFyIHRvIG5lYXIgdGhlIHN1cmZhY2Ugb2YgYSBwbGFuZXQuIEZvciBncmF2aXR5IGluIG90aGVyIGNvbnRleHRzLCBkaXNhYmxlIHRoaXMgYW5kIGFwcGx5IGZvcmNlcyBhcyBuZWVkZWQuXG4gICAgICogXG4gICAgICogVG8gZGlzYWJsZSBzZXQgdGhlIGBzY2FsZWAgY29tcG9uZW50IHRvIGAwYC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHNwbGl0IGludG8gdGhyZWUgY29tcG9uZW50cyBmb3IgZWFzZSBvZiB1c2U6ICBcbiAgICAgKiBhIG5vcm1hbGlzZWQgZGlyZWN0aW9uIChgeGAgYW5kIGB5YCkgYW5kIG1hZ25pdHVkZSAoYHNjYWxlYCkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdyYXZpdGF0aW9uYWwgZGlyZWN0aW9uIG5vcm1hbCBgeGAgY29tcG9uZW50LCB0byBiZSBtdWx0aXBsaWVkIGJ5IGBncmF2aXR5LnNjYWxlYC5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eS54XG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdyYXZpdGF0aW9uYWwgZGlyZWN0aW9uIG5vcm1hbCBgeWAgY29tcG9uZW50LCB0byBiZSBtdWx0aXBsaWVkIGJ5IGBncmF2aXR5LnNjYWxlYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnlcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFnbml0dWRlIG9mIHRoZSBncmF2aXRhdGlvbmFsIGFjY2VsZXJhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eS5zY2FsZVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDAuMDAxXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUmVzb2x2ZXJgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciByZXNvbHZpbmcgY29sbGlzaW9uIHBhaXJzLlxuKlxuKiBAY2xhc3MgUmVzb2x2ZXJcbiovXG5cbnZhciBSZXNvbHZlciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc29sdmVyO1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2ggPSAyO1xuICAgIFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCA9IE1hdGguc3FydCg2KTtcbiAgICBSZXNvbHZlci5fcG9zaXRpb25EYW1wZW4gPSAwLjk7XG4gICAgUmVzb2x2ZXIuX3Bvc2l0aW9uV2FybWluZyA9IDAuODtcbiAgICBSZXNvbHZlci5fZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyID0gNTtcbiAgICBSZXNvbHZlci5fZnJpY3Rpb25NYXhTdGF0aWMgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBwYWlycyBmb3IgcG9zaXRpb24gc29sdmluZy5cbiAgICAgKiBAbWV0aG9kIHByZVNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKi9cbiAgICBSZXNvbHZlci5wcmVTb2x2ZVBvc2l0aW9uID0gZnVuY3Rpb24ocGFpcnMpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgYWN0aXZlQ291bnQsXG4gICAgICAgICAgICBwYWlyc0xlbmd0aCA9IHBhaXJzLmxlbmd0aDtcblxuICAgICAgICAvLyBmaW5kIHRvdGFsIGNvbnRhY3RzIG9uIGVhY2ggYm9keVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFjdGl2ZUNvdW50ID0gcGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGg7XG4gICAgICAgICAgICBwYWlyLmNvbGxpc2lvbi5wYXJlbnRBLnRvdGFsQ29udGFjdHMgKz0gYWN0aXZlQ291bnQ7XG4gICAgICAgICAgICBwYWlyLmNvbGxpc2lvbi5wYXJlbnRCLnRvdGFsQ29udGFjdHMgKz0gYWN0aXZlQ291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNvbHV0aW9uIGZvciBwYWlyIHBvc2l0aW9ucy5cbiAgICAgKiBAbWV0aG9kIHNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RhbXBpbmc9MV1cbiAgICAgKi9cbiAgICBSZXNvbHZlci5zb2x2ZVBvc2l0aW9uID0gZnVuY3Rpb24ocGFpcnMsIGRlbHRhLCBkYW1waW5nKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICBjb250YWN0U2hhcmUsXG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UsXG4gICAgICAgICAgICBwb3NpdGlvbkRhbXBlbiA9IFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiAqIChkYW1waW5nIHx8IDEpLFxuICAgICAgICAgICAgc2xvcERhbXBlbiA9IENvbW1vbi5jbGFtcChkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLCAwLCAxKSxcbiAgICAgICAgICAgIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGZpbmQgaW1wdWxzZXMgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwZW5ldHJhdGlvblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG5cbiAgICAgICAgICAgIC8vIGdldCBjdXJyZW50IHNlcGFyYXRpb24gYmV0d2VlbiBib2R5IGVkZ2VzIGludm9sdmVkIGluIGNvbGxpc2lvblxuICAgICAgICAgICAgcGFpci5zZXBhcmF0aW9uID0gXG4gICAgICAgICAgICAgICAgbm9ybWFsLnggKiAoYm9keUIucG9zaXRpb25JbXB1bHNlLnggKyBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCAtIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS54KVxuICAgICAgICAgICAgICAgICsgbm9ybWFsLnkgKiAoYm9keUIucG9zaXRpb25JbXB1bHNlLnkgKyBjb2xsaXNpb24ucGVuZXRyYXRpb24ueSAtIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS55KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlIHx8IHBhaXIuaXNTZW5zb3IpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24ucGFyZW50QTtcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLnBhcmVudEI7XG4gICAgICAgICAgICBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsO1xuICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlID0gcGFpci5zZXBhcmF0aW9uIC0gcGFpci5zbG9wICogc2xvcERhbXBlbjtcblxuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlCLmlzU3RhdGljKVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSAqPSAyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IHBvc2l0aW9uRGFtcGVuIC8gYm9keUEudG90YWxDb250YWN0cztcbiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvbkltcHVsc2UueCArPSBub3JtYWwueCAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvbkltcHVsc2UueSArPSBub3JtYWwueSAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICBjb250YWN0U2hhcmUgPSBwb3NpdGlvbkRhbXBlbiAvIGJvZHlCLnRvdGFsQ29udGFjdHM7XG4gICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25JbXB1bHNlLnggLT0gbm9ybWFsLnggKiBwb3NpdGlvbkltcHVsc2UgKiBjb250YWN0U2hhcmU7XG4gICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25JbXB1bHNlLnkgLT0gbm9ybWFsLnkgKiBwb3NpdGlvbkltcHVsc2UgKiBjb250YWN0U2hhcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbHkgcG9zaXRpb24gcmVzb2x1dGlvbi5cbiAgICAgKiBAbWV0aG9kIHBvc3RTb2x2ZVBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnBvc3RTb2x2ZVBvc2l0aW9uID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbldhcm1pbmcgPSBSZXNvbHZlci5fcG9zaXRpb25XYXJtaW5nLFxuICAgICAgICAgICAgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRpY2VzVHJhbnNsYXRlID0gVmVydGljZXMudHJhbnNsYXRlLFxuICAgICAgICAgICAgYm91bmRzVXBkYXRlID0gQm91bmRzLnVwZGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UgPSBib2R5LnBvc2l0aW9uSW1wdWxzZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2VYID0gcG9zaXRpb25JbXB1bHNlLngsXG4gICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlWSA9IHBvc2l0aW9uSW1wdWxzZS55LFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gYm9keS52ZWxvY2l0eTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgY29udGFjdCBjb3VudFxuICAgICAgICAgICAgYm9keS50b3RhbENvbnRhY3RzID0gMDtcblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW1wdWxzZVggIT09IDAgfHwgcG9zaXRpb25JbXB1bHNlWSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBib2R5IGdlb21ldHJ5XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNUcmFuc2xhdGUocGFydC52ZXJ0aWNlcywgcG9zaXRpb25JbXB1bHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzVXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCB2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCArPSBwb3NpdGlvbkltcHVsc2VYO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gcG9zaXRpb25JbXB1bHNlWTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBtb3ZlIHRoZSBib2R5IHdpdGhvdXQgY2hhbmdpbmcgdmVsb2NpdHlcbiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ICs9IHBvc2l0aW9uSW1wdWxzZVg7XG4gICAgICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSArPSBwb3NpdGlvbkltcHVsc2VZO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW1wdWxzZVggKiB2ZWxvY2l0eS54ICsgcG9zaXRpb25JbXB1bHNlWSAqIHZlbG9jaXR5LnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGNhY2hlZCBpbXB1bHNlIGlmIHRoZSBib2R5IGhhcyB2ZWxvY2l0eSBhbG9uZyBpdFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UueCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS55ID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB3YXJtIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UueCAqPSBwb3NpdGlvbldhcm1pbmc7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS55ICo9IHBvc2l0aW9uV2FybWluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBwYWlycyBmb3IgdmVsb2NpdHkgc29sdmluZy5cbiAgICAgKiBAbWV0aG9kIHByZVNvbHZlVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKi9cbiAgICBSZXNvbHZlci5wcmVTb2x2ZVZlbG9jaXR5ID0gZnVuY3Rpb24ocGFpcnMpIHtcbiAgICAgICAgdmFyIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGo7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlIHx8IHBhaXIuaXNTZW5zb3IpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjb250YWN0cyA9IHBhaXIuYWN0aXZlQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgY29udGFjdHNMZW5ndGggPSBjb250YWN0cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24ucGFyZW50QSxcbiAgICAgICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5wYXJlbnRCLFxuICAgICAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWwsXG4gICAgICAgICAgICAgICAgdGFuZ2VudCA9IGNvbGxpc2lvbi50YW5nZW50O1xuICAgIFxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBlYWNoIGNvbnRhY3RcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb250YWN0c0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBjb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFZlcnRleCA9IGNvbnRhY3QudmVydGV4LFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlLFxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2U7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbEltcHVsc2UgIT09IDAgfHwgdGFuZ2VudEltcHVsc2UgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG90YWwgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltcHVsc2VYID0gbm9ybWFsLnggKiBub3JtYWxJbXB1bHNlICsgdGFuZ2VudC54ICogdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXB1bHNlWSA9IG5vcm1hbC55ICogbm9ybWFsSW1wdWxzZSArIHRhbmdlbnQueSAqIHRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYm9keUEuaXNTdGF0aWMgfHwgYm9keUEuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2VYICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSArPSBpbXB1bHNlWSAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUEuYW5nbGVQcmV2ICs9IGJvZHlBLmludmVyc2VJbmVydGlhICogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWN0VmVydGV4LnggLSBib2R5QS5wb3NpdGlvbi54KSAqIGltcHVsc2VZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSAoY29udGFjdFZlcnRleC55IC0gYm9keUEucG9zaXRpb24ueSkgKiBpbXB1bHNlWFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnggLT0gaW1wdWxzZVggKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2VZICogYm9keUIuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5Qi5hbmdsZVByZXYgLT0gYm9keUIuaW52ZXJzZUluZXJ0aWEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhY3RWZXJ0ZXgueCAtIGJvZHlCLnBvc2l0aW9uLngpICogaW1wdWxzZVkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSAoY29udGFjdFZlcnRleC55IC0gYm9keUIucG9zaXRpb24ueSkgKiBpbXB1bHNlWFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc29sdXRpb24gZm9yIHBhaXIgdmVsb2NpdGllcy5cbiAgICAgKiBAbWV0aG9kIHNvbHZlVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAgICAgKi9cbiAgICBSZXNvbHZlci5zb2x2ZVZlbG9jaXR5ID0gZnVuY3Rpb24ocGFpcnMsIGRlbHRhKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBkZWx0YSAvIENvbW1vbi5fYmFzZURlbHRhLFxuICAgICAgICAgICAgdGltZVNjYWxlU3F1YXJlZCA9IHRpbWVTY2FsZSAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHRpbWVTY2FsZUN1YmVkID0gdGltZVNjYWxlU3F1YXJlZCAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHJlc3RpbmdUaHJlc2ggPSAtUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2ggKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICByZXN0aW5nVGhyZXNoVGFuZ2VudCA9IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCxcbiAgICAgICAgICAgIGZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciA9IFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIgKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICBmcmljdGlvbk1heFN0YXRpYyA9IFJlc29sdmVyLl9mcmljdGlvbk1heFN0YXRpYyxcbiAgICAgICAgICAgIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICBtYXhGcmljdGlvbixcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLnBhcmVudEEsXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QixcbiAgICAgICAgICAgICAgICBib2R5QVZlbG9jaXR5ID0gYm9keUEudmVsb2NpdHksXG4gICAgICAgICAgICAgICAgYm9keUJWZWxvY2l0eSA9IGJvZHlCLnZlbG9jaXR5LFxuICAgICAgICAgICAgICAgIG5vcm1hbFggPSBjb2xsaXNpb24ubm9ybWFsLngsXG4gICAgICAgICAgICAgICAgbm9ybWFsWSA9IGNvbGxpc2lvbi5ub3JtYWwueSxcbiAgICAgICAgICAgICAgICB0YW5nZW50WCA9IGNvbGxpc2lvbi50YW5nZW50LngsXG4gICAgICAgICAgICAgICAgdGFuZ2VudFkgPSBjb2xsaXNpb24udGFuZ2VudC55LFxuICAgICAgICAgICAgICAgIGNvbnRhY3RzID0gcGFpci5hY3RpdmVDb250YWN0cyxcbiAgICAgICAgICAgICAgICBjb250YWN0c0xlbmd0aCA9IGNvbnRhY3RzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjb250YWN0U2hhcmUgPSAxIC8gY29udGFjdHNMZW5ndGgsXG4gICAgICAgICAgICAgICAgaW52ZXJzZU1hc3NUb3RhbCA9IGJvZHlBLmludmVyc2VNYXNzICsgYm9keUIuaW52ZXJzZU1hc3MsXG4gICAgICAgICAgICAgICAgZnJpY3Rpb24gPSBwYWlyLmZyaWN0aW9uICogcGFpci5mcmljdGlvblN0YXRpYyAqIGZyaWN0aW9uTm9ybWFsTXVsdGlwbGllcjtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgdmVsb2NpdGllc1xuICAgICAgICAgICAgYm9keUFWZWxvY2l0eS54ID0gYm9keUEucG9zaXRpb24ueCAtIGJvZHlBLnBvc2l0aW9uUHJldi54O1xuICAgICAgICAgICAgYm9keUFWZWxvY2l0eS55ID0gYm9keUEucG9zaXRpb24ueSAtIGJvZHlBLnBvc2l0aW9uUHJldi55O1xuICAgICAgICAgICAgYm9keUJWZWxvY2l0eS54ID0gYm9keUIucG9zaXRpb24ueCAtIGJvZHlCLnBvc2l0aW9uUHJldi54O1xuICAgICAgICAgICAgYm9keUJWZWxvY2l0eS55ID0gYm9keUIucG9zaXRpb24ueSAtIGJvZHlCLnBvc2l0aW9uUHJldi55O1xuICAgICAgICAgICAgYm9keUEuYW5ndWxhclZlbG9jaXR5ID0gYm9keUEuYW5nbGUgLSBib2R5QS5hbmdsZVByZXY7XG4gICAgICAgICAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkgPSBib2R5Qi5hbmdsZSAtIGJvZHlCLmFuZ2xlUHJldjtcblxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBlYWNoIGNvbnRhY3RcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb250YWN0c0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBjb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFZlcnRleCA9IGNvbnRhY3QudmVydGV4O1xuXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldEFYID0gY29udGFjdFZlcnRleC54IC0gYm9keUEucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0QVkgPSBjb250YWN0VmVydGV4LnkgLSBib2R5QS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRCWCA9IGNvbnRhY3RWZXJ0ZXgueCAtIGJvZHlCLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldEJZID0gY29udGFjdFZlcnRleC55IC0gYm9keUIucG9zaXRpb24ueTtcbiBcbiAgICAgICAgICAgICAgICB2YXIgdmVsb2NpdHlQb2ludEFYID0gYm9keUFWZWxvY2l0eS54IC0gb2Zmc2V0QVkgKiBib2R5QS5hbmd1bGFyVmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5UG9pbnRBWSA9IGJvZHlBVmVsb2NpdHkueSArIG9mZnNldEFYICogYm9keUEuYW5ndWxhclZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eVBvaW50QlggPSBib2R5QlZlbG9jaXR5LnggLSBvZmZzZXRCWSAqIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHlQb2ludEJZID0gYm9keUJWZWxvY2l0eS55ICsgb2Zmc2V0QlggKiBib2R5Qi5hbmd1bGFyVmVsb2NpdHk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpdmVWZWxvY2l0eVggPSB2ZWxvY2l0eVBvaW50QVggLSB2ZWxvY2l0eVBvaW50QlgsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlVmVsb2NpdHlZID0gdmVsb2NpdHlQb2ludEFZIC0gdmVsb2NpdHlQb2ludEJZO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbFZlbG9jaXR5ID0gbm9ybWFsWCAqIHJlbGF0aXZlVmVsb2NpdHlYICsgbm9ybWFsWSAqIHJlbGF0aXZlVmVsb2NpdHlZLFxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50VmVsb2NpdHkgPSB0YW5nZW50WCAqIHJlbGF0aXZlVmVsb2NpdHlYICsgdGFuZ2VudFkgKiByZWxhdGl2ZVZlbG9jaXR5WTtcblxuICAgICAgICAgICAgICAgIC8vIGNvdWxvbWIgZnJpY3Rpb25cbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsT3ZlcmxhcCA9IHBhaXIuc2VwYXJhdGlvbiArIG5vcm1hbFZlbG9jaXR5O1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxGb3JjZSA9IE1hdGgubWluKG5vcm1hbE92ZXJsYXAsIDEpO1xuICAgICAgICAgICAgICAgIG5vcm1hbEZvcmNlID0gbm9ybWFsT3ZlcmxhcCA8IDAgPyAwIDogbm9ybWFsRm9yY2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgZnJpY3Rpb25MaW1pdCA9IG5vcm1hbEZvcmNlICogZnJpY3Rpb247XG5cbiAgICAgICAgICAgICAgICBpZiAodGFuZ2VudFZlbG9jaXR5IDwgLWZyaWN0aW9uTGltaXQgfHwgdGFuZ2VudFZlbG9jaXR5ID4gZnJpY3Rpb25MaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhGcmljdGlvbiA9ICh0YW5nZW50VmVsb2NpdHkgPiAwID8gdGFuZ2VudFZlbG9jaXR5IDogLXRhbmdlbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gcGFpci5mcmljdGlvbiAqICh0YW5nZW50VmVsb2NpdHkgPiAwID8gMSA6IC0xKSAqIHRpbWVTY2FsZUN1YmVkO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRJbXB1bHNlIDwgLW1heEZyaWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IC1tYXhGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YW5nZW50SW1wdWxzZSA+IG1heEZyaWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IG1heEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSB0YW5nZW50VmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgICAgIG1heEZyaWN0aW9uID0gZnJpY3Rpb25NYXhTdGF0aWM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgbWFzcywgaW5lcnRpYSBhbmQgY29udGFjdCBvZmZzZXRcbiAgICAgICAgICAgICAgICB2YXIgb0FjTiA9IG9mZnNldEFYICogbm9ybWFsWSAtIG9mZnNldEFZICogbm9ybWFsWCxcbiAgICAgICAgICAgICAgICAgICAgb0JjTiA9IG9mZnNldEJYICogbm9ybWFsWSAtIG9mZnNldEJZICogbm9ybWFsWCxcbiAgICAgICAgICAgICAgICAgICAgc2hhcmUgPSBjb250YWN0U2hhcmUgLyAoaW52ZXJzZU1hc3NUb3RhbCArIGJvZHlBLmludmVyc2VJbmVydGlhICogb0FjTiAqIG9BY04gKyBib2R5Qi5pbnZlcnNlSW5lcnRpYSAqIG9CY04gKiBvQmNOKTtcblxuICAgICAgICAgICAgICAgIC8vIHJhdyBpbXB1bHNlc1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxJbXB1bHNlID0gKDEgKyBwYWlyLnJlc3RpdHV0aW9uKSAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgKj0gc2hhcmU7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgaGlnaCB2ZWxvY2l0eSBhbmQgcmVzdGluZyBjb2xsaXNpb25zIHNlcGFyYXRlbHlcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsVmVsb2NpdHkgPCByZXN0aW5nVGhyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZ2ggbm9ybWFsIHZlbG9jaXR5IHNvIGNsZWFyIGNhY2hlZCBjb250YWN0IG5vcm1hbCBpbXB1bHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3Qubm9ybWFsSW1wdWxzZSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc29sdmUgcmVzdGluZyBjb2xsaXNpb24gY29uc3RyYWludHMgdXNpbmcgRXJpbiBDYXR0bydzIG1ldGhvZCAoR0RDMDgpXG4gICAgICAgICAgICAgICAgICAgIC8vIGltcHVsc2UgY29uc3RyYWludCB0ZW5kcyB0byAwXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0Tm9ybWFsSW1wdWxzZSA9IGNvbnRhY3Qubm9ybWFsSW1wdWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC5ub3JtYWxJbXB1bHNlICs9IG5vcm1hbEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0Lm5vcm1hbEltcHVsc2UgPiAwKSBjb250YWN0Lm5vcm1hbEltcHVsc2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlIC0gY29udGFjdE5vcm1hbEltcHVsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGhpZ2ggdmVsb2NpdHkgYW5kIHJlc3RpbmcgY29sbGlzaW9ucyBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRWZWxvY2l0eSA8IC1yZXN0aW5nVGhyZXNoVGFuZ2VudCB8fCB0YW5nZW50VmVsb2NpdHkgPiByZXN0aW5nVGhyZXNoVGFuZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWdoIHRhbmdlbnQgdmVsb2NpdHkgc28gY2xlYXIgY2FjaGVkIGNvbnRhY3QgdGFuZ2VudCBpbXB1bHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QudGFuZ2VudEltcHVsc2UgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbHZlIHJlc3RpbmcgY29sbGlzaW9uIGNvbnN0cmFpbnRzIHVzaW5nIEVyaW4gQ2F0dG8ncyBtZXRob2QgKEdEQzA4KVxuICAgICAgICAgICAgICAgICAgICAvLyB0YW5nZW50IGltcHVsc2UgdGVuZHMgdG8gLXRhbmdlbnRTcGVlZCBvciArdGFuZ2VudFNwZWVkXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0VGFuZ2VudEltcHVsc2UgPSBjb250YWN0LnRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0LnRhbmdlbnRJbXB1bHNlICs9IHRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdC50YW5nZW50SW1wdWxzZSA8IC1tYXhGcmljdGlvbikgY29udGFjdC50YW5nZW50SW1wdWxzZSA9IC1tYXhGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QudGFuZ2VudEltcHVsc2UgPiBtYXhGcmljdGlvbikgY29udGFjdC50YW5nZW50SW1wdWxzZSA9IG1heEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2UgLSBjb250YWN0VGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdG90YWwgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICB2YXIgaW1wdWxzZVggPSBub3JtYWxYICogbm9ybWFsSW1wdWxzZSArIHRhbmdlbnRYICogdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICAgICAgICAgIGltcHVsc2VZID0gbm9ybWFsWSAqIG5vcm1hbEltcHVsc2UgKyB0YW5nZW50WSAqIHRhbmdlbnRJbXB1bHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGFwcGx5IGltcHVsc2UgZnJvbSBjb250YWN0XG4gICAgICAgICAgICAgICAgaWYgKCEoYm9keUEuaXNTdGF0aWMgfHwgYm9keUEuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnggKz0gaW1wdWxzZVggKiBib2R5QS5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnkgKz0gaW1wdWxzZVkgKiBib2R5QS5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgYm9keUEuYW5nbGVQcmV2ICs9IChvZmZzZXRBWCAqIGltcHVsc2VZIC0gb2Zmc2V0QVkgKiBpbXB1bHNlWCkgKiBib2R5QS5pbnZlcnNlSW5lcnRpYTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueCAtPSBpbXB1bHNlWCAqIGJvZHlCLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueSAtPSBpbXB1bHNlWSAqIGJvZHlCLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5Qi5hbmdsZVByZXYgLT0gKG9mZnNldEJYICogaW1wdWxzZVkgLSBvZmZzZXRCWSAqIGltcHVsc2VYKSAqIGJvZHlCLmludmVyc2VJbmVydGlhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUGFpcnNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbGxpc2lvbiBwYWlyIHNldHMuXG4qXG4qIEBjbGFzcyBQYWlyc1xuKi9cblxudmFyIFBhaXJzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUGFpcnM7XG5cbnZhciBQYWlyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBhaXJzIHN0cnVjdHVyZS5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7cGFpcnN9IEEgbmV3IHBhaXJzIHN0cnVjdHVyZVxuICAgICAqL1xuICAgIFBhaXJzLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoeyBcbiAgICAgICAgICAgIHRhYmxlOiB7fSxcbiAgICAgICAgICAgIGxpc3Q6IFtdLFxuICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQ6IFtdLFxuICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlOiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkVuZDogW11cbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgcGFpcnMgZ2l2ZW4gYSBsaXN0IG9mIGNvbGxpc2lvbnMuXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbltdfSBjb2xsaXNpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqL1xuICAgIFBhaXJzLnVwZGF0ZSA9IGZ1bmN0aW9uKHBhaXJzLCBjb2xsaXNpb25zLCB0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIHBhaXJzTGlzdCA9IHBhaXJzLmxpc3QsXG4gICAgICAgICAgICBwYWlyc0xpc3RMZW5ndGggPSBwYWlyc0xpc3QubGVuZ3RoLFxuICAgICAgICAgICAgcGFpcnNUYWJsZSA9IHBhaXJzLnRhYmxlLFxuICAgICAgICAgICAgY29sbGlzaW9uc0xlbmd0aCA9IGNvbGxpc2lvbnMubGVuZ3RoLFxuICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQgPSBwYWlycy5jb2xsaXNpb25TdGFydCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkVuZCA9IHBhaXJzLmNvbGxpc2lvbkVuZCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZSA9IHBhaXJzLmNvbGxpc2lvbkFjdGl2ZSxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHBhaXJJbmRleCxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIGNsZWFyIGNvbGxpc2lvbiBzdGF0ZSBhcnJheXMsIGJ1dCBtYWludGFpbiBvbGQgcmVmZXJlbmNlXG4gICAgICAgIGNvbGxpc2lvblN0YXJ0Lmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbGxpc2lvbkVuZC5sZW5ndGggPSAwO1xuICAgICAgICBjb2xsaXNpb25BY3RpdmUubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXJzTGlzdFtpXS5jb25maXJtZWRBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb2xsaXNpb25zTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IGNvbGxpc2lvbnNbaV07XG4gICAgICAgICAgICBwYWlyID0gY29sbGlzaW9uLnBhaXI7XG5cbiAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFpciBhbHJlYWR5IGV4aXN0cyAoYnV0IG1heSBvciBtYXkgbm90IGJlIGFjdGl2ZSlcbiAgICAgICAgICAgICAgICBpZiAocGFpci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGV4aXN0cyBhbmQgaXMgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZS5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhaXIgZXhpc3RzIGJ1dCB3YXMgaW5hY3RpdmUsIHNvIGEgY29sbGlzaW9uIGhhcyBqdXN0IHN0YXJ0ZWQgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQucHVzaChwYWlyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHBhaXJcbiAgICAgICAgICAgICAgICBQYWlyLnVwZGF0ZShwYWlyLCBjb2xsaXNpb24sIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgcGFpci5jb25maXJtZWRBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBwYWlyIGRpZCBub3QgZXhpc3QsIGNyZWF0ZSBhIG5ldyBwYWlyXG4gICAgICAgICAgICAgICAgcGFpciA9IFBhaXIuY3JlYXRlKGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICBwYWlyc1RhYmxlW3BhaXIuaWRdID0gcGFpcjtcblxuICAgICAgICAgICAgICAgIC8vIHB1c2ggdGhlIG5ldyBwYWlyXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQucHVzaChwYWlyKTtcbiAgICAgICAgICAgICAgICBwYWlyc0xpc3QucHVzaChwYWlyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmQgcGFpcnMgdGhhdCBhcmUgbm8gbG9uZ2VyIGFjdGl2ZVxuICAgICAgICB2YXIgcmVtb3ZlUGFpckluZGV4ID0gW107XG4gICAgICAgIHBhaXJzTGlzdExlbmd0aCA9IHBhaXJzTGlzdC5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGlzdExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNMaXN0W2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuY29uZmlybWVkQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgUGFpci5zZXRBY3RpdmUocGFpciwgZmFsc2UsIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgY29sbGlzaW9uRW5kLnB1c2gocGFpcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBhaXIuY29sbGlzaW9uLmJvZHlBLmlzU2xlZXBpbmcgJiYgIXBhaXIuY29sbGlzaW9uLmJvZHlCLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUGFpckluZGV4LnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGluYWN0aXZlIHBhaXJzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByZW1vdmVQYWlySW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXJJbmRleCA9IHJlbW92ZVBhaXJJbmRleFtpXSAtIGk7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNMaXN0W3BhaXJJbmRleF07XG4gICAgICAgICAgICBwYWlyc0xpc3Quc3BsaWNlKHBhaXJJbmRleCwgMSk7XG4gICAgICAgICAgICBkZWxldGUgcGFpcnNUYWJsZVtwYWlyLmlkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdpdmVuIHBhaXJzIHN0cnVjdHVyZS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtwYWlyc30gcGFpcnNcbiAgICAgKiBAcmV0dXJuIHtwYWlyc30gcGFpcnNcbiAgICAgKi9cbiAgICBQYWlycy5jbGVhciA9IGZ1bmN0aW9uKHBhaXJzKSB7XG4gICAgICAgIHBhaXJzLnRhYmxlID0ge307XG4gICAgICAgIHBhaXJzLmxpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgcGFpcnMuY29sbGlzaW9uU3RhcnQubGVuZ3RoID0gMDtcbiAgICAgICAgcGFpcnMuY29sbGlzaW9uQWN0aXZlLmxlbmd0aCA9IDA7XG4gICAgICAgIHBhaXJzLmNvbGxpc2lvbkVuZC5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBNYXR0ZXIgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xyXG5cclxuTWF0dGVyLkF4ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxuTWF0dGVyLkJvZGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5NYXR0ZXIuQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbk1hdHRlci5Cb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5NYXR0ZXIuQ29sbGlzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuTWF0dGVyLkNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbk1hdHRlci5Db21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5NYXR0ZXIuQ29tcG9zaXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xyXG5NYXR0ZXIuQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5NYXR0ZXIuQ29udGFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5NYXR0ZXIuRGV0ZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcclxuTWF0dGVyLkVuZ2luZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xyXG5NYXR0ZXIuRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuTWF0dGVyLkdyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcclxuTWF0dGVyLk1vdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XHJcbk1hdHRlci5Nb3VzZUNvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcclxuTWF0dGVyLlBhaXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG5NYXR0ZXIuUGFpcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxuTWF0dGVyLlBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG5NYXR0ZXIuUXVlcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcclxuTWF0dGVyLlJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xyXG5NYXR0ZXIuUmVzb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcclxuTWF0dGVyLlJ1bm5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xyXG5NYXR0ZXIuU0FUID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XHJcbk1hdHRlci5TbGVlcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbk1hdHRlci5TdmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcclxuTWF0dGVyLlZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbk1hdHRlci5WZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbk1hdHRlci5Xb3JsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xyXG5cclxuLy8gdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eVxyXG5NYXR0ZXIuRW5naW5lLnJ1biA9IE1hdHRlci5SdW5uZXIucnVuO1xyXG5NYXR0ZXIuQ29tbW9uLmRlcHJlY2F0ZWQoTWF0dGVyLkVuZ2luZSwgJ3J1bicsICdFbmdpbmUucnVuIOKepCB1c2UgTWF0dGVyLlJ1bm5lci5ydW4oZW5naW5lKSBpbnN0ZWFkJyk7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxyXG4qIFRoZSBgTWF0dGVyYCBtb2R1bGUgaXMgdGhlIHRvcCBsZXZlbCBuYW1lc3BhY2UuIEl0IGFsc28gaW5jbHVkZXMgYSBmdW5jdGlvbiBmb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIHRvcCBvZiB0aGUgbGlicmFyeS5cclxuKlxyXG4qIEBjbGFzcyBNYXR0ZXJcclxuKi9cclxuXHJcbnZhciBNYXR0ZXIgPSB7fTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWF0dGVyO1xyXG5cclxudmFyIFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBsaWJyYXJ5IG5hbWUuXHJcbiAgICAgKiBAcHJvcGVydHkgbmFtZVxyXG4gICAgICogQHJlYWRPbmx5XHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIubmFtZSA9ICdtYXR0ZXItanMnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGxpYnJhcnkgdmVyc2lvbi5cclxuICAgICAqIEBwcm9wZXJ0eSB2ZXJzaW9uXHJcbiAgICAgKiBAcmVhZE9ubHlcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE1hdHRlci52ZXJzaW9uID0gIHRydWUgPyBcIjAuMTkuMFwiIDogdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBsaXN0IG9mIHBsdWdpbiBkZXBlbmRlbmNpZXMgdG8gYmUgaW5zdGFsbGVkLiBUaGVzZSBhcmUgbm9ybWFsbHkgc2V0IGFuZCBpbnN0YWxsZWQgdGhyb3VnaCBgTWF0dGVyLnVzZWAuXHJcbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgc2V0IGBNYXR0ZXIudXNlc2AgbWFudWFsbHkgYW5kIGluc3RhbGwgdGhlbSBieSBjYWxsaW5nIGBQbHVnaW4udXNlKE1hdHRlcilgLlxyXG4gICAgICogQHByb3BlcnR5IHVzZXNcclxuICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnVzZXMgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwbHVnaW5zIHRoYXQgaGF2ZSBiZWVuIGluc3RhbGxlZCB0aHJvdWdoIGBNYXR0ZXIuUGx1Z2luLmluc3RhbGxgLiBSZWFkIG9ubHkuXHJcbiAgICAgKiBAcHJvcGVydHkgdXNlZFxyXG4gICAgICogQHJlYWRPbmx5XHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIE1hdHRlci51c2VkID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YWxscyB0aGUgZ2l2ZW4gcGx1Z2lucyBvbiB0aGUgYE1hdHRlcmAgbmFtZXNwYWNlLlxyXG4gICAgICogVGhpcyBpcyBhIHNob3J0LWhhbmQgZm9yIGBQbHVnaW4udXNlYCwgc2VlIGl0IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgYXQgdGhlIHN0YXJ0IG9mIHlvdXIgY29kZSwgd2l0aCBhbGwgb2YgdGhlIHBsdWdpbnMgeW91IHdpc2ggdG8gaW5zdGFsbCBhcyBhcmd1bWVudHMuXHJcbiAgICAgKiBBdm9pZCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgdW5sZXNzIHlvdSBpbnRlbmQgdG8gbWFudWFsbHkgY29udHJvbCBpbnN0YWxsYXRpb24gb3JkZXIuXHJcbiAgICAgKiBAbWV0aG9kIHVzZVxyXG4gICAgICogQHBhcmFtIC4uLnBsdWdpbiB7RnVuY3Rpb259IFRoZSBwbHVnaW4ocykgdG8gaW5zdGFsbCBvbiBgYmFzZWAgKG11bHRpLWFyZ3VtZW50KS5cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnVzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFBsdWdpbi51c2UoTWF0dGVyLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYmVmb3JlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBNYXR0ZXJgLlxyXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXHJcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYE1hdHRlcmBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGJlZm9yZSB0aGUgb3JpZ2luYWxcclxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIuYmVmb3JlID0gZnVuY3Rpb24ocGF0aCwgZnVuYykge1xyXG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15NYXR0ZXIuLywgJycpO1xyXG4gICAgICAgIHJldHVybiBDb21tb24uY2hhaW5QYXRoQmVmb3JlKE1hdHRlciwgcGF0aCwgZnVuYyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGFmdGVyIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBNYXR0ZXJgLlxyXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXHJcbiAgICAgKiBAbWV0aG9kIGFmdGVyXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgTWF0dGVyYFxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgdGhlIG9yaWdpbmFsXHJcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWxcclxuICAgICAqL1xyXG4gICAgTWF0dGVyLmFmdGVyID0gZnVuY3Rpb24ocGF0aCwgZnVuYykge1xyXG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15NYXR0ZXIuLywgJycpO1xyXG4gICAgICAgIHJldHVybiBDb21tb24uY2hhaW5QYXRoQWZ0ZXIoTWF0dGVyLCBwYXRoLCBmdW5jKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQ29tcG9zaXRlc2AgbW9kdWxlIGNvbnRhaW5zIGZhY3RvcnkgbWV0aG9kcyBmb3IgY3JlYXRpbmcgY29tcG9zaXRlIGJvZGllc1xuKiB3aXRoIGNvbW1vbmx5IHVzZWQgY29uZmlndXJhdGlvbnMgKHN1Y2ggYXMgc3RhY2tzIGFuZCBjaGFpbnMpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQ29tcG9zaXRlc1xuKi9cblxudmFyIENvbXBvc2l0ZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGVzO1xuXG52YXIgQ29tcG9zaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBCb2RpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBkZXByZWNhdGVkID0gQ29tbW9uLmRlcHJlY2F0ZWQ7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBib2RpZXMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2sgaW4gYSBncmlkIGFycmFuZ2VtZW50LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgYm9keSdzIGJvdW5kcyB0byBwcmV2ZW50IG92ZXJsYXBzLlxuICAgICAqIEBtZXRob2Qgc3RhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjcmVhdGVkIGluIHRoZSBjYWxsYmFja1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMuc3RhY2sgPSBmdW5jdGlvbih4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc3RhY2sgPSBDb21wb3NpdGUuY3JlYXRlKHsgbGFiZWw6ICdTdGFjaycgfSksXG4gICAgICAgICAgICB4ID0geHgsXG4gICAgICAgICAgICB5ID0geXksXG4gICAgICAgICAgICBsYXN0Qm9keSxcbiAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XG4gICAgICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGNhbGxiYWNrKHgsIHksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5SGVpZ2h0ID0gYm9keS5ib3VuZHMubWF4LnkgLSBib2R5LmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlXaWR0aCA9IGJvZHkuYm91bmRzLm1heC54IC0gYm9keS5ib3VuZHMubWluLng7IFxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5SGVpZ2h0ID4gbWF4SGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gYm9keUhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIEJvZHkudHJhbnNsYXRlKGJvZHksIHsgeDogYm9keVdpZHRoICogMC41LCB5OiBib2R5SGVpZ2h0ICogMC41IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHggPSBib2R5LmJvdW5kcy5tYXgueCArIGNvbHVtbkdhcDtcblxuICAgICAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQm9keShzdGFjaywgYm9keSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsYXN0Qm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4ICs9IGNvbHVtbkdhcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHkgKz0gbWF4SGVpZ2h0ICsgcm93R2FwO1xuICAgICAgICAgICAgeCA9IHh4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ2hhaW5zIGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSB0b2dldGhlciB1c2luZyBjb25zdHJhaW50cy5cbiAgICAgKiBAbWV0aG9kIGNoYWluXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4T2Zmc2V0QVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5T2Zmc2V0QVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4T2Zmc2V0QlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5T2Zmc2V0QlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIGNoYWluZWQgdG9nZXRoZXIgd2l0aCBjb25zdHJhaW50c1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMuY2hhaW4gPSBmdW5jdGlvbihjb21wb3NpdGUsIHhPZmZzZXRBLCB5T2Zmc2V0QSwgeE9mZnNldEIsIHlPZmZzZXRCLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSBjb21wb3NpdGUuYm9kaWVzO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5QSA9IGJvZGllc1tpIC0gMV0sXG4gICAgICAgICAgICAgICAgYm9keUIgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgYm9keUFIZWlnaHQgPSBib2R5QS5ib3VuZHMubWF4LnkgLSBib2R5QS5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgYm9keUFXaWR0aCA9IGJvZHlBLmJvdW5kcy5tYXgueCAtIGJvZHlBLmJvdW5kcy5taW4ueCwgXG4gICAgICAgICAgICAgICAgYm9keUJIZWlnaHQgPSBib2R5Qi5ib3VuZHMubWF4LnkgLSBib2R5Qi5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgYm9keUJXaWR0aCA9IGJvZHlCLmJvdW5kcy5tYXgueCAtIGJvZHlCLmJvdW5kcy5taW4ueDtcbiAgICAgICAgXG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgYm9keUE6IGJvZHlBLFxuICAgICAgICAgICAgICAgIHBvaW50QTogeyB4OiBib2R5QVdpZHRoICogeE9mZnNldEEsIHk6IGJvZHlBSGVpZ2h0ICogeU9mZnNldEEgfSxcbiAgICAgICAgICAgICAgICBib2R5QjogYm9keUIsXG4gICAgICAgICAgICAgICAgcG9pbnRCOiB7IHg6IGJvZHlCV2lkdGggKiB4T2Zmc2V0QiwgeTogYm9keUJIZWlnaHQgKiB5T2Zmc2V0QiB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoY29uc3RyYWludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9zaXRlLmxhYmVsICs9ICcgQ2hhaW4nO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgYm9kaWVzIGluIHRoZSBjb21wb3NpdGUgd2l0aCBjb25zdHJhaW50cyBpbiBhIGdyaWQgcGF0dGVybiwgd2l0aCBvcHRpb25hbCBjcm9zcyBicmFjZXMuXG4gICAgICogQG1ldGhvZCBtZXNoXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNyb3NzQnJhY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgbWVzaGVkIHRvZ2V0aGVyIHdpdGggY29uc3RyYWludHNcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLm1lc2ggPSBmdW5jdGlvbihjb21wb3NpdGUsIGNvbHVtbnMsIHJvd3MsIGNyb3NzQnJhY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXMsXG4gICAgICAgICAgICByb3csXG4gICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCLFxuICAgICAgICAgICAgYm9keUM7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XG4gICAgICAgICAgICBmb3IgKGNvbCA9IDE7IGNvbCA8IGNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgYm9keUEgPSBib2RpZXNbKGNvbCAtIDEpICsgKHJvdyAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tjb2wgKyAocm93ICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QSwgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb2wgPSAwOyBjb2wgPCBjb2x1bW5zOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICBib2R5QSA9IGJvZGllc1tjb2wgKyAoKHJvdyAtIDEpICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tjb2wgKyAocm93ICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBib2R5QTogYm9keUEsIGJvZHlCOiBib2R5QiB9LCBvcHRpb25zKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcm9zc0JyYWNlICYmIGNvbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlDID0gYm9kaWVzWyhjb2wgLSAxKSArICgocm93IC0gMSkgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBib2R5QTogYm9keUMsIGJvZHlCOiBib2R5QiB9LCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3NzQnJhY2UgJiYgY29sIDwgY29sdW1ucyAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlDID0gYm9kaWVzWyhjb2wgKyAxKSArICgocm93IC0gMSkgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBib2R5QTogYm9keUMsIGJvZHlCOiBib2R5QiB9LCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9zaXRlLmxhYmVsICs9ICcgTWVzaCc7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIGJvZGllcyBjcmVhdGVkIGluIHRoZSBjYWxsYmFjayBpbiBhIHB5cmFtaWQgYXJyYW5nZW1lbnQuXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBib2R5J3MgYm91bmRzIHRvIHByZXZlbnQgb3ZlcmxhcHMuXG4gICAgICogQG1ldGhvZCBweXJhbWlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHh4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHl5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5HYXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93R2FwXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLnB5cmFtaWQgPSBmdW5jdGlvbih4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlcy5zdGFjayh4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBmdW5jdGlvbih4LCB5LCBjb2x1bW4sIHJvdywgbGFzdEJvZHksIGkpIHtcbiAgICAgICAgICAgIHZhciBhY3R1YWxSb3dzID0gTWF0aC5taW4ocm93cywgTWF0aC5jZWlsKGNvbHVtbnMgLyAyKSksXG4gICAgICAgICAgICAgICAgbGFzdEJvZHlXaWR0aCA9IGxhc3RCb2R5ID8gbGFzdEJvZHkuYm91bmRzLm1heC54IC0gbGFzdEJvZHkuYm91bmRzLm1pbi54IDogMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJvdyA+IGFjdHVhbFJvd3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyByZXZlcnNlIHJvdyBvcmRlclxuICAgICAgICAgICAgcm93ID0gYWN0dWFsUm93cyAtIHJvdztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcm93LFxuICAgICAgICAgICAgICAgIGVuZCA9IGNvbHVtbnMgLSAxIC0gcm93O1xuXG4gICAgICAgICAgICBpZiAoY29sdW1uIDwgc3RhcnQgfHwgY29sdW1uID4gZW5kKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gcmV0cm9hY3RpdmVseSBmaXggdGhlIGZpcnN0IGJvZHkncyBwb3NpdGlvbiwgc2luY2Ugd2lkdGggd2FzIHVua25vd25cbiAgICAgICAgICAgIGlmIChpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgQm9keS50cmFuc2xhdGUobGFzdEJvZHksIHsgeDogKGNvbHVtbiArIChjb2x1bW5zICUgMiA9PT0gMSA/IDEgOiAtMSkpICogbGFzdEJvZHlXaWR0aCwgeTogMCB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHhPZmZzZXQgPSBsYXN0Qm9keSA/IGNvbHVtbiAqIGxhc3RCb2R5V2lkdGggOiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soeHggKyB4T2Zmc2V0ICsgY29sdW1uICogY29sdW1uR2FwLCB5LCBjb2x1bW4sIHJvdywgbGFzdEJvZHksIGkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYXMgbm93IG1vdmVkIHRvIHRoZSBbbmV3dG9uc0NyYWRsZSBleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9uZXd0b25zQ3JhZGxlLmpzKSwgZm9sbG93IHRoYXQgaW5zdGVhZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaGVyZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBtb3ZlZCB0byBuZXd0b25zQ3JhZGxlIGV4YW1wbGVcbiAgICAgKiBAbWV0aG9kIG5ld3RvbnNDcmFkbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgbmV3dG9uc0NyYWRsZSBib2R5XG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5uZXd0b25zQ3JhZGxlID0gZnVuY3Rpb24oeHgsIHl5LCBudW1iZXIsIHNpemUsIGxlbmd0aCkge1xuICAgICAgICB2YXIgbmV3dG9uc0NyYWRsZSA9IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ05ld3RvbnMgQ3JhZGxlJyB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdGlvbiA9IDEuOSxcbiAgICAgICAgICAgICAgICBjaXJjbGUgPSBCb2RpZXMuY2lyY2xlKHh4ICsgaSAqIChzaXplICogc2VwYXJhdGlvbiksIHl5ICsgbGVuZ3RoLCBzaXplLCBcbiAgICAgICAgICAgICAgICAgICAgeyBpbmVydGlhOiBJbmZpbml0eSwgcmVzdGl0dXRpb246IDEsIGZyaWN0aW9uOiAwLCBmcmljdGlvbkFpcjogMC4wMDAxLCBzbG9wOiAxIH0pLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBDb25zdHJhaW50LmNyZWF0ZSh7IHBvaW50QTogeyB4OiB4eCArIGkgKiAoc2l6ZSAqIHNlcGFyYXRpb24pLCB5OiB5eSB9LCBib2R5QjogY2lyY2xlIH0pO1xuXG4gICAgICAgICAgICBDb21wb3NpdGUuYWRkQm9keShuZXd0b25zQ3JhZGxlLCBjaXJjbGUpO1xuICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQobmV3dG9uc0NyYWRsZSwgY29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3dG9uc0NyYWRsZTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChDb21wb3NpdGVzLCAnbmV3dG9uc0NyYWRsZScsICdDb21wb3NpdGVzLm5ld3RvbnNDcmFkbGUg4p6kIG1vdmVkIHRvIG5ld3RvbnNDcmFkbGUgZXhhbXBsZScpO1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRoaXMgaGFzIG5vdyBtb3ZlZCB0byB0aGUgW2NhciBleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9jYXIuanMpLCBmb2xsb3cgdGhhdCBpbnN0ZWFkIGFzIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBoZXJlLlxuICAgICAqIEBkZXByZWNhdGVkIG1vdmVkIHRvIGNhciBleGFtcGxlXG4gICAgICogQG1ldGhvZCBjYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdoZWVsU2l6ZVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNhciBib2R5XG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5jYXIgPSBmdW5jdGlvbih4eCwgeXksIHdpZHRoLCBoZWlnaHQsIHdoZWVsU2l6ZSkge1xuICAgICAgICB2YXIgZ3JvdXAgPSBCb2R5Lm5leHRHcm91cCh0cnVlKSxcbiAgICAgICAgICAgIHdoZWVsQmFzZSA9IDIwLFxuICAgICAgICAgICAgd2hlZWxBT2Zmc2V0ID0gLXdpZHRoICogMC41ICsgd2hlZWxCYXNlLFxuICAgICAgICAgICAgd2hlZWxCT2Zmc2V0ID0gd2lkdGggKiAwLjUgLSB3aGVlbEJhc2UsXG4gICAgICAgICAgICB3aGVlbFlPZmZzZXQgPSAwO1xuICAgIFxuICAgICAgICB2YXIgY2FyID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnQ2FyJyB9KSxcbiAgICAgICAgICAgIGJvZHkgPSBCb2RpZXMucmVjdGFuZ2xlKHh4LCB5eSwgd2lkdGgsIGhlaWdodCwgeyBcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGFtZmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogaGVpZ2h0ICogMC41XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiAwLjAwMDJcbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB2YXIgd2hlZWxBID0gQm9kaWVzLmNpcmNsZSh4eCArIHdoZWVsQU9mZnNldCwgeXkgKyB3aGVlbFlPZmZzZXQsIHdoZWVsU2l6ZSwgeyBcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjhcbiAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB2YXIgd2hlZWxCID0gQm9kaWVzLmNpcmNsZSh4eCArIHdoZWVsQk9mZnNldCwgeXkgKyB3aGVlbFlPZmZzZXQsIHdoZWVsU2l6ZSwgeyBcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjhcbiAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB2YXIgYXhlbEEgPSBDb25zdHJhaW50LmNyZWF0ZSh7XG4gICAgICAgICAgICBib2R5QjogYm9keSxcbiAgICAgICAgICAgIHBvaW50QjogeyB4OiB3aGVlbEFPZmZzZXQsIHk6IHdoZWVsWU9mZnNldCB9LFxuICAgICAgICAgICAgYm9keUE6IHdoZWVsQSxcbiAgICAgICAgICAgIHN0aWZmbmVzczogMSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB2YXIgYXhlbEIgPSBDb25zdHJhaW50LmNyZWF0ZSh7XG4gICAgICAgICAgICBib2R5QjogYm9keSxcbiAgICAgICAgICAgIHBvaW50QjogeyB4OiB3aGVlbEJPZmZzZXQsIHk6IHdoZWVsWU9mZnNldCB9LFxuICAgICAgICAgICAgYm9keUE6IHdoZWVsQixcbiAgICAgICAgICAgIHN0aWZmbmVzczogMSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNhciwgYm9keSk7XG4gICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNhciwgd2hlZWxBKTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCB3aGVlbEIpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjYXIsIGF4ZWxBKTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY2FyLCBheGVsQik7XG5cbiAgICAgICAgcmV0dXJuIGNhcjtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChDb21wb3NpdGVzLCAnY2FyJywgJ0NvbXBvc2l0ZXMuY2FyIOKepCBtb3ZlZCB0byBjYXIgZXhhbXBsZScpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYXMgbm93IG1vdmVkIHRvIHRoZSBbc29mdEJvZHkgZXhhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvc29mdEJvZHkuanMpXG4gICAgICogYW5kIHRoZSBbY2xvdGggZXhhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvY2xvdGguanMpLCBmb2xsb3cgdGhvc2UgaW5zdGVhZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaGVyZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBtb3ZlZCB0byBzb2Z0Qm9keSBhbmQgY2xvdGggZXhhbXBsZXNcbiAgICAgKiBAbWV0aG9kIHNvZnRCb2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHh4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHl5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5HYXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93R2FwXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjcm9zc0JyYWNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpY2xlUmFkaXVzXG4gICAgICogQHBhcmFtIHt9IHBhcnRpY2xlT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7fSBjb25zdHJhaW50T3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIHNvZnRCb2R5XG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5zb2Z0Qm9keSA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNyb3NzQnJhY2UsIHBhcnRpY2xlUmFkaXVzLCBwYXJ0aWNsZU9wdGlvbnMsIGNvbnN0cmFpbnRPcHRpb25zKSB7XG4gICAgICAgIHBhcnRpY2xlT3B0aW9ucyA9IENvbW1vbi5leHRlbmQoeyBpbmVydGlhOiBJbmZpbml0eSB9LCBwYXJ0aWNsZU9wdGlvbnMpO1xuICAgICAgICBjb25zdHJhaW50T3B0aW9ucyA9IENvbW1vbi5leHRlbmQoeyBzdGlmZm5lc3M6IDAuMiwgcmVuZGVyOiB7IHR5cGU6ICdsaW5lJywgYW5jaG9yczogZmFsc2UgfSB9LCBjb25zdHJhaW50T3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHNvZnRCb2R5ID0gQ29tcG9zaXRlcy5zdGFjayh4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCBwYXJ0aWNsZVJhZGl1cywgcGFydGljbGVPcHRpb25zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQ29tcG9zaXRlcy5tZXNoKHNvZnRCb2R5LCBjb2x1bW5zLCByb3dzLCBjcm9zc0JyYWNlLCBjb25zdHJhaW50T3B0aW9ucyk7XG5cbiAgICAgICAgc29mdEJvZHkubGFiZWwgPSAnU29mdCBCb2R5JztcblxuICAgICAgICByZXR1cm4gc29mdEJvZHk7XG4gICAgfTtcblxuICAgIGRlcHJlY2F0ZWQoQ29tcG9zaXRlcywgJ3NvZnRCb2R5JywgJ0NvbXBvc2l0ZXMuc29mdEJvZHkg4p6kIG1vdmVkIHRvIHNvZnRCb2R5IGFuZCBjbG90aCBleGFtcGxlcycpO1xufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGlzIG1vZHVsZSBoYXMgbm93IGJlZW4gcmVwbGFjZWQgYnkgYE1hdHRlci5EZXRlY3RvcmAuXG4qXG4qIEFsbCB1c2FnZSBzaG91bGQgYmUgbWlncmF0ZWQgdG8gYE1hdHRlci5EZXRlY3RvcmAgb3IgYW5vdGhlciBhbHRlcm5hdGl2ZS5cbiogRm9yIGJhY2stY29tcGF0aWJpbGl0eSBwdXJwb3NlcyB0aGlzIG1vZHVsZSB3aWxsIHJlbWFpbiBmb3IgYSBzaG9ydCB0ZXJtIGFuZCB0aGVuIGxhdGVyIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cbipcbiogVGhlIGBNYXR0ZXIuR3JpZGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIGJyb2FkcGhhc2UgZ3JpZCBzdHJ1Y3R1cmVzLlxuKlxuKiBAY2xhc3MgR3JpZFxuKiBAZGVwcmVjYXRlZFxuKi9cblxudmFyIEdyaWQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBHcmlkO1xuXG52YXIgUGFpciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBkZXByZWNhdGVkID0gQ29tbW9uLmRlcHJlY2F0ZWQ7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZ3JpZC5cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Z3JpZH0gQSBuZXcgZ3JpZFxuICAgICAqL1xuICAgIEdyaWQuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBidWNrZXRzOiB7fSxcbiAgICAgICAgICAgIHBhaXJzOiB7fSxcbiAgICAgICAgICAgIHBhaXJzTGlzdDogW10sXG4gICAgICAgICAgICBidWNrZXRXaWR0aDogNDgsXG4gICAgICAgICAgICBidWNrZXRIZWlnaHQ6IDQ4XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgYSBzaW5nbGUgZ3JpZCBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYnVja2V0V2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA0OFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiBhIHNpbmdsZSBncmlkIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBidWNrZXRIZWlnaHRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA0OFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ3JpZC5cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Z3JpZH0gZ3JpZFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZVxuICAgICAqL1xuICAgIEdyaWQudXBkYXRlID0gZnVuY3Rpb24oZ3JpZCwgYm9kaWVzLCBlbmdpbmUsIGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciBpLCBjb2wsIHJvdyxcbiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLFxuICAgICAgICAgICAgYnVja2V0cyA9IGdyaWQuYnVja2V0cyxcbiAgICAgICAgICAgIGJ1Y2tldCxcbiAgICAgICAgICAgIGJ1Y2tldElkLFxuICAgICAgICAgICAgZ3JpZENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTbGVlcGluZyAmJiAhZm9yY2VVcGRhdGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBiYWNrIGNvbXBhdGliaWxpdHkgYm91bmRzIGNoZWNrXG4gICAgICAgICAgICBpZiAod29ybGQuYm91bmRzICYmIChib2R5LmJvdW5kcy5tYXgueCA8IHdvcmxkLmJvdW5kcy5taW4ueCB8fCBib2R5LmJvdW5kcy5taW4ueCA+IHdvcmxkLmJvdW5kcy5tYXgueFxuICAgICAgICAgICAgICAgIHx8IGJvZHkuYm91bmRzLm1heC55IDwgd29ybGQuYm91bmRzLm1pbi55IHx8IGJvZHkuYm91bmRzLm1pbi55ID4gd29ybGQuYm91bmRzLm1heC55KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIG5ld1JlZ2lvbiA9IEdyaWQuX2dldFJlZ2lvbihncmlkLCBib2R5KTtcblxuICAgICAgICAgICAgLy8gaWYgdGhlIGJvZHkgaGFzIGNoYW5nZWQgZ3JpZCByZWdpb25cbiAgICAgICAgICAgIGlmICghYm9keS5yZWdpb24gfHwgbmV3UmVnaW9uLmlkICE9PSBib2R5LnJlZ2lvbi5pZCB8fCBmb3JjZVVwZGF0ZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFib2R5LnJlZ2lvbiB8fCBmb3JjZVVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgYm9keS5yZWdpb24gPSBuZXdSZWdpb247XG5cbiAgICAgICAgICAgICAgICB2YXIgdW5pb24gPSBHcmlkLl9yZWdpb25VbmlvbihuZXdSZWdpb24sIGJvZHkucmVnaW9uKTtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBncmlkIGJ1Y2tldHMgYWZmZWN0ZWQgYnkgcmVnaW9uIGNoYW5nZVxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgdW5pb24gb2YgYm90aCByZWdpb25zXG4gICAgICAgICAgICAgICAgZm9yIChjb2wgPSB1bmlvbi5zdGFydENvbDsgY29sIDw9IHVuaW9uLmVuZENvbDsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChyb3cgPSB1bmlvbi5zdGFydFJvdzsgcm93IDw9IHVuaW9uLmVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldElkID0gR3JpZC5fZ2V0QnVja2V0SWQoY29sLCByb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gYnVja2V0c1tidWNrZXRJZF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0luc2lkZU5ld1JlZ2lvbiA9IChjb2wgPj0gbmV3UmVnaW9uLnN0YXJ0Q29sICYmIGNvbCA8PSBuZXdSZWdpb24uZW5kQ29sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiByb3cgPj0gbmV3UmVnaW9uLnN0YXJ0Um93ICYmIHJvdyA8PSBuZXdSZWdpb24uZW5kUm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW5zaWRlT2xkUmVnaW9uID0gKGNvbCA+PSBib2R5LnJlZ2lvbi5zdGFydENvbCAmJiBjb2wgPD0gYm9keS5yZWdpb24uZW5kQ29sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiByb3cgPj0gYm9keS5yZWdpb24uc3RhcnRSb3cgJiYgcm93IDw9IGJvZHkucmVnaW9uLmVuZFJvdyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIG9sZCByZWdpb24gYnVja2V0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0luc2lkZU5ld1JlZ2lvbiAmJiBpc0luc2lkZU9sZFJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0luc2lkZU9sZFJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVja2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JpZC5fYnVja2V0UmVtb3ZlQm9keShncmlkLCBidWNrZXQsIGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG5ldyByZWdpb24gYnVja2V0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkucmVnaW9uID09PSBuZXdSZWdpb24gfHwgKGlzSW5zaWRlTmV3UmVnaW9uICYmICFpc0luc2lkZU9sZFJlZ2lvbikgfHwgZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJ1Y2tldClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gR3JpZC5fY3JlYXRlQnVja2V0KGJ1Y2tldHMsIGJ1Y2tldElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmlkLl9idWNrZXRBZGRCb2R5KGdyaWQsIGJ1Y2tldCwgYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIG5ldyByZWdpb25cbiAgICAgICAgICAgICAgICBib2R5LnJlZ2lvbiA9IG5ld1JlZ2lvbjtcblxuICAgICAgICAgICAgICAgIC8vIGZsYWcgY2hhbmdlcyBzbyB3ZSBjYW4gdXBkYXRlIHBhaXJzXG4gICAgICAgICAgICAgICAgZ3JpZENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHBhaXJzIGxpc3Qgb25seSBpZiBwYWlycyBjaGFuZ2VkIChpLmUuIGEgYm9keSBjaGFuZ2VkIHJlZ2lvbilcbiAgICAgICAgaWYgKGdyaWRDaGFuZ2VkKVxuICAgICAgICAgICAgZ3JpZC5wYWlyc0xpc3QgPSBHcmlkLl9jcmVhdGVBY3RpdmVQYWlyc0xpc3QoZ3JpZCk7XG4gICAgfTtcblxuICAgIGRlcHJlY2F0ZWQoR3JpZCwgJ3VwZGF0ZScsICdHcmlkLnVwZGF0ZSDinqQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyaWQuXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7Z3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIEdyaWQuY2xlYXIgPSBmdW5jdGlvbihncmlkKSB7XG4gICAgICAgIGdyaWQuYnVja2V0cyA9IHt9O1xuICAgICAgICBncmlkLnBhaXJzID0ge307XG4gICAgICAgIGdyaWQucGFpcnNMaXN0ID0gW107XG4gICAgfTtcblxuICAgIGRlcHJlY2F0ZWQoR3JpZCwgJ2NsZWFyJywgJ0dyaWQuY2xlYXIg4p6kIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvcicpO1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHVuaW9uIG9mIHR3byByZWdpb25zLlxuICAgICAqIEBtZXRob2QgX3JlZ2lvblVuaW9uXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gcmVnaW9uQVxuICAgICAqIEBwYXJhbSB7fSByZWdpb25CXG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9yZWdpb25VbmlvbiA9IGZ1bmN0aW9uKHJlZ2lvbkEsIHJlZ2lvbkIpIHtcbiAgICAgICAgdmFyIHN0YXJ0Q29sID0gTWF0aC5taW4ocmVnaW9uQS5zdGFydENvbCwgcmVnaW9uQi5zdGFydENvbCksXG4gICAgICAgICAgICBlbmRDb2wgPSBNYXRoLm1heChyZWdpb25BLmVuZENvbCwgcmVnaW9uQi5lbmRDb2wpLFxuICAgICAgICAgICAgc3RhcnRSb3cgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Um93LCByZWdpb25CLnN0YXJ0Um93KSxcbiAgICAgICAgICAgIGVuZFJvdyA9IE1hdGgubWF4KHJlZ2lvbkEuZW5kUm93LCByZWdpb25CLmVuZFJvdyk7XG5cbiAgICAgICAgcmV0dXJuIEdyaWQuX2NyZWF0ZVJlZ2lvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmVnaW9uIGEgZ2l2ZW4gYm9keSBmYWxscyBpbiBmb3IgYSBnaXZlbiBncmlkLlxuICAgICAqIEBtZXRob2QgX2dldFJlZ2lvblxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGdyaWRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqIEByZXR1cm4ge30gcmVnaW9uXG4gICAgICovXG4gICAgR3JpZC5fZ2V0UmVnaW9uID0gZnVuY3Rpb24oZ3JpZCwgYm9keSkge1xuICAgICAgICB2YXIgYm91bmRzID0gYm9keS5ib3VuZHMsXG4gICAgICAgICAgICBzdGFydENvbCA9IE1hdGguZmxvb3IoYm91bmRzLm1pbi54IC8gZ3JpZC5idWNrZXRXaWR0aCksXG4gICAgICAgICAgICBlbmRDb2wgPSBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAvIGdyaWQuYnVja2V0V2lkdGgpLFxuICAgICAgICAgICAgc3RhcnRSb3cgPSBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSAvIGdyaWQuYnVja2V0SGVpZ2h0KSxcbiAgICAgICAgICAgIGVuZFJvdyA9IE1hdGguZmxvb3IoYm91bmRzLm1heC55IC8gZ3JpZC5idWNrZXRIZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiBHcmlkLl9jcmVhdGVSZWdpb24oc3RhcnRDb2wsIGVuZENvbCwgc3RhcnRSb3csIGVuZFJvdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZWdpb24uXG4gICAgICogQG1ldGhvZCBfY3JlYXRlUmVnaW9uXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gc3RhcnRDb2xcbiAgICAgKiBAcGFyYW0ge30gZW5kQ29sXG4gICAgICogQHBhcmFtIHt9IHN0YXJ0Um93XG4gICAgICogQHBhcmFtIHt9IGVuZFJvd1xuICAgICAqIEByZXR1cm4ge30gcmVnaW9uXG4gICAgICovXG4gICAgR3JpZC5fY3JlYXRlUmVnaW9uID0gZnVuY3Rpb24oc3RhcnRDb2wsIGVuZENvbCwgc3RhcnRSb3csIGVuZFJvdykge1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIGlkOiBzdGFydENvbCArICcsJyArIGVuZENvbCArICcsJyArIHN0YXJ0Um93ICsgJywnICsgZW5kUm93LFxuICAgICAgICAgICAgc3RhcnRDb2w6IHN0YXJ0Q29sLCBcbiAgICAgICAgICAgIGVuZENvbDogZW5kQ29sLCBcbiAgICAgICAgICAgIHN0YXJ0Um93OiBzdGFydFJvdywgXG4gICAgICAgICAgICBlbmRSb3c6IGVuZFJvdyBcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYnVja2V0IGlkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKiBAbWV0aG9kIF9nZXRCdWNrZXRJZFxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGNvbHVtblxuICAgICAqIEBwYXJhbSB7fSByb3dcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGJ1Y2tldCBpZFxuICAgICAqL1xuICAgIEdyaWQuX2dldEJ1Y2tldElkID0gZnVuY3Rpb24oY29sdW1uLCByb3cpIHtcbiAgICAgICAgcmV0dXJuICdDJyArIGNvbHVtbiArICdSJyArIHJvdztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVCdWNrZXRcbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRzXG4gICAgICogQHBhcmFtIHt9IGJ1Y2tldElkXG4gICAgICogQHJldHVybiB7fSBidWNrZXRcbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVCdWNrZXQgPSBmdW5jdGlvbihidWNrZXRzLCBidWNrZXRJZCkge1xuICAgICAgICB2YXIgYnVja2V0ID0gYnVja2V0c1tidWNrZXRJZF0gPSBbXTtcbiAgICAgICAgcmV0dXJuIGJ1Y2tldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGJvZHkgdG8gYSBidWNrZXQuXG4gICAgICogQG1ldGhvZCBfYnVja2V0QWRkQm9keVxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGdyaWRcbiAgICAgKiBAcGFyYW0ge30gYnVja2V0XG4gICAgICogQHBhcmFtIHt9IGJvZHlcbiAgICAgKi9cbiAgICBHcmlkLl9idWNrZXRBZGRCb2R5ID0gZnVuY3Rpb24oZ3JpZCwgYnVja2V0LCBib2R5KSB7XG4gICAgICAgIHZhciBncmlkUGFpcnMgPSBncmlkLnBhaXJzLFxuICAgICAgICAgICAgcGFpcklkID0gUGFpci5pZCxcbiAgICAgICAgICAgIGJ1Y2tldExlbmd0aCA9IGJ1Y2tldC5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIGFkZCBuZXcgcGFpcnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJ1Y2tldExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keUIgPSBidWNrZXRbaV07XG5cbiAgICAgICAgICAgIGlmIChib2R5LmlkID09PSBib2R5Qi5pZCB8fCAoYm9keS5pc1N0YXRpYyAmJiBib2R5Qi5pc1N0YXRpYykpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBidWNrZXRzIHRoZSBwYWlyIGV4aXN0cyBpblxuICAgICAgICAgICAgLy8gaW1wb3J0YW50IGZvciBHcmlkLnVwZGF0ZSB0byB3b3JrXG4gICAgICAgICAgICB2YXIgaWQgPSBwYWlySWQoYm9keSwgYm9keUIpLFxuICAgICAgICAgICAgICAgIHBhaXIgPSBncmlkUGFpcnNbaWRdO1xuXG4gICAgICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgICAgIHBhaXJbMl0gKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JpZFBhaXJzW2lkXSA9IFtib2R5LCBib2R5QiwgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdG8gYm9kaWVzIChhZnRlciBwYWlycywgb3RoZXJ3aXNlIHBhaXJzIHdpdGggc2VsZilcbiAgICAgICAgYnVja2V0LnB1c2goYm9keSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gYSBidWNrZXQuXG4gICAgICogQG1ldGhvZCBfYnVja2V0UmVtb3ZlQm9keVxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGdyaWRcbiAgICAgKiBAcGFyYW0ge30gYnVja2V0XG4gICAgICogQHBhcmFtIHt9IGJvZHlcbiAgICAgKi9cbiAgICBHcmlkLl9idWNrZXRSZW1vdmVCb2R5ID0gZnVuY3Rpb24oZ3JpZCwgYnVja2V0LCBib2R5KSB7XG4gICAgICAgIHZhciBncmlkUGFpcnMgPSBncmlkLnBhaXJzLFxuICAgICAgICAgICAgcGFpcklkID0gUGFpci5pZCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gYnVja2V0XG4gICAgICAgIGJ1Y2tldC5zcGxpY2UoQ29tbW9uLmluZGV4T2YoYnVja2V0LCBib2R5KSwgMSk7XG5cbiAgICAgICAgdmFyIGJ1Y2tldExlbmd0aCA9IGJ1Y2tldC5sZW5ndGg7XG5cbiAgICAgICAgLy8gdXBkYXRlIHBhaXIgY291bnRzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBidWNrZXRMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGJ1Y2tldHMgdGhlIHBhaXIgZXhpc3RzIGluXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIF9jcmVhdGVBY3RpdmVQYWlyc0xpc3QgdG8gd29ya1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBncmlkUGFpcnNbcGFpcklkKGJvZHksIGJ1Y2tldFtpXSldO1xuXG4gICAgICAgICAgICBpZiAocGFpcilcbiAgICAgICAgICAgICAgICBwYWlyWzJdIC09IDE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbGlzdCBvZiB0aGUgYWN0aXZlIHBhaXJzIGluIHRoZSBncmlkLlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdFxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGdyaWRcbiAgICAgKiBAcmV0dXJuIFtdIHBhaXJzXG4gICAgICovXG4gICAgR3JpZC5fY3JlYXRlQWN0aXZlUGFpcnNMaXN0ID0gZnVuY3Rpb24oZ3JpZCkge1xuICAgICAgICB2YXIgcGFpcixcbiAgICAgICAgICAgIGdyaWRQYWlycyA9IGdyaWQucGFpcnMsXG4gICAgICAgICAgICBwYWlyS2V5cyA9IENvbW1vbi5rZXlzKGdyaWRQYWlycyksXG4gICAgICAgICAgICBwYWlyS2V5c0xlbmd0aCA9IHBhaXJLZXlzLmxlbmd0aCxcbiAgICAgICAgICAgIHBhaXJzID0gW10sXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBncmlkLnBhaXJzXG4gICAgICAgIGZvciAoayA9IDA7IGsgPCBwYWlyS2V5c0xlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBwYWlyID0gZ3JpZFBhaXJzW3BhaXJLZXlzW2tdXTtcblxuICAgICAgICAgICAgLy8gaWYgcGFpciBleGlzdHMgaW4gYXQgbGVhc3Qgb25lIGJ1Y2tldFxuICAgICAgICAgICAgLy8gaXQgaXMgYSBwYWlyIHRoYXQgbmVlZHMgZnVydGhlciBjb2xsaXNpb24gdGVzdGluZyBzbyBwdXNoIGl0XG4gICAgICAgICAgICBpZiAocGFpclsyXSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZ3JpZFBhaXJzW3BhaXJLZXlzW2tdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWlycztcbiAgICB9O1xuICAgIFxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Nb3VzZUNvbnN0cmFpbnRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBtb3VzZSBjb25zdHJhaW50cy5cbiogTW91c2UgY29uc3RyYWludHMgYXJlIHVzZWQgZm9yIGFsbG93aW5nIHVzZXIgaW50ZXJhY3Rpb24sIHByb3ZpZGluZyB0aGUgYWJpbGl0eSB0byBtb3ZlIGJvZGllcyB2aWEgdGhlIG1vdXNlIG9yIHRvdWNoLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgTW91c2VDb25zdHJhaW50XG4qL1xuXG52YXIgTW91c2VDb25zdHJhaW50ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gTW91c2VDb25zdHJhaW50O1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIFNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBNb3VzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xudmFyIEV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgRGV0ZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgQ29tcG9zaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbW91c2UgY29uc3RyYWludC5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtNb3VzZUNvbnN0cmFpbnR9IEEgbmV3IE1vdXNlQ29uc3RyYWludFxuICAgICAqL1xuICAgIE1vdXNlQ29uc3RyYWludC5jcmVhdGUgPSBmdW5jdGlvbihlbmdpbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gKGVuZ2luZSA/IGVuZ2luZS5tb3VzZSA6IG51bGwpIHx8IChvcHRpb25zID8gb3B0aW9ucy5tb3VzZSA6IG51bGwpO1xuXG4gICAgICAgIGlmICghbW91c2UpIHtcbiAgICAgICAgICAgIGlmIChlbmdpbmUgJiYgZW5naW5lLnJlbmRlciAmJiBlbmdpbmUucmVuZGVyLmNhbnZhcykge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKGVuZ2luZS5yZW5kZXIuY2FudmFzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBtb3VzZSA9IE1vdXNlLmNyZWF0ZShvcHRpb25zLmVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3VzZSA9IE1vdXNlLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdNb3VzZUNvbnN0cmFpbnQuY3JlYXRlOiBvcHRpb25zLm1vdXNlIHdhcyB1bmRlZmluZWQsIG9wdGlvbnMuZWxlbWVudCB3YXMgdW5kZWZpbmVkLCBtYXkgbm90IGZ1bmN0aW9uIGFzIGV4cGVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29uc3RyYWludCA9IENvbnN0cmFpbnQuY3JlYXRlKHsgXG4gICAgICAgICAgICBsYWJlbDogJ01vdXNlIENvbnN0cmFpbnQnLFxuICAgICAgICAgICAgcG9pbnRBOiBtb3VzZS5wb3NpdGlvbixcbiAgICAgICAgICAgIHBvaW50QjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBsZW5ndGg6IDAuMDEsIFxuICAgICAgICAgICAgc3RpZmZuZXNzOiAwLjEsXG4gICAgICAgICAgICBhbmd1bGFyU3RpZmZuZXNzOiAxLFxuICAgICAgICAgICAgcmVuZGVyOiB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6ICcjOTBFRTkwJyxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgdHlwZTogJ21vdXNlQ29uc3RyYWludCcsXG4gICAgICAgICAgICBtb3VzZTogbW91c2UsXG4gICAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgYm9keTogbnVsbCxcbiAgICAgICAgICAgIGNvbnN0cmFpbnQ6IGNvbnN0cmFpbnQsXG4gICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogMHgwMDAxLFxuICAgICAgICAgICAgICAgIG1hc2s6IDB4RkZGRkZGRkYsXG4gICAgICAgICAgICAgICAgZ3JvdXA6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgbW91c2VDb25zdHJhaW50ID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgRXZlbnRzLm9uKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFsbEJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lLndvcmxkKTtcbiAgICAgICAgICAgIE1vdXNlQ29uc3RyYWludC51cGRhdGUobW91c2VDb25zdHJhaW50LCBhbGxCb2RpZXMpO1xuICAgICAgICAgICAgTW91c2VDb25zdHJhaW50Ll90cmlnZ2VyRXZlbnRzKG1vdXNlQ29uc3RyYWludCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtb3VzZUNvbnN0cmFpbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGdpdmVuIG1vdXNlIGNvbnN0cmFpbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VDb25zdHJhaW50fSBtb3VzZUNvbnN0cmFpbnRcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgTW91c2VDb25zdHJhaW50LnVwZGF0ZSA9IGZ1bmN0aW9uKG1vdXNlQ29uc3RyYWludCwgYm9kaWVzKSB7XG4gICAgICAgIHZhciBtb3VzZSA9IG1vdXNlQ29uc3RyYWludC5tb3VzZSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBtb3VzZUNvbnN0cmFpbnQuY29uc3RyYWludCxcbiAgICAgICAgICAgIGJvZHkgPSBtb3VzZUNvbnN0cmFpbnQuYm9keTtcblxuICAgICAgICBpZiAobW91c2UuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnN0cmFpbnQuYm9keUIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKGJvZHkuYm91bmRzLCBtb3VzZS5wb3NpdGlvbikgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgRGV0ZWN0b3IuY2FuQ29sbGlkZShib2R5LmNvbGxpc2lvbkZpbHRlciwgbW91c2VDb25zdHJhaW50LmNvbGxpc2lvbkZpbHRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFZlcnRpY2VzLmNvbnRhaW5zKHBhcnQudmVydGljZXMsIG1vdXNlLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QSA9IG1vdXNlLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50LmJvZHlCID0gbW91c2VDb25zdHJhaW50LmJvZHkgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IHsgeDogbW91c2UucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb24ueCwgeTogbW91c2UucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb24ueSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50LmFuZ2xlQiA9IGJvZHkuYW5nbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIobW91c2VDb25zdHJhaW50LCAnc3RhcnRkcmFnJywgeyBtb3VzZTogbW91c2UsIGJvZHk6IGJvZHkgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoY29uc3RyYWludC5ib2R5QiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0gbW91c2UucG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdHJhaW50LmJvZHlCID0gbW91c2VDb25zdHJhaW50LmJvZHkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoYm9keSlcbiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdlbmRkcmFnJywgeyBtb3VzZTogbW91c2UsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgbW91c2UgY29uc3RyYWludCBldmVudHMuXG4gICAgICogQG1ldGhvZCBfdHJpZ2dlckV2ZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VDb25zdHJhaW50XG4gICAgICovXG4gICAgTW91c2VDb25zdHJhaW50Ll90cmlnZ2VyRXZlbnRzID0gZnVuY3Rpb24obW91c2VDb25zdHJhaW50KSB7XG4gICAgICAgIHZhciBtb3VzZSA9IG1vdXNlQ29uc3RyYWludC5tb3VzZSxcbiAgICAgICAgICAgIG1vdXNlRXZlbnRzID0gbW91c2Uuc291cmNlRXZlbnRzO1xuXG4gICAgICAgIGlmIChtb3VzZUV2ZW50cy5tb3VzZW1vdmUpXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdtb3VzZW1vdmUnLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICBpZiAobW91c2VFdmVudHMubW91c2Vkb3duKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIobW91c2VDb25zdHJhaW50LCAnbW91c2Vkb3duJywgeyBtb3VzZTogbW91c2UgfSk7XG5cbiAgICAgICAgaWYgKG1vdXNlRXZlbnRzLm1vdXNldXApXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdtb3VzZXVwJywgeyBtb3VzZTogbW91c2UgfSk7XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIG1vdXNlIHN0YXRlIHJlYWR5IGZvciB0aGUgbmV4dCBzdGVwXG4gICAgICAgIE1vdXNlLmNsZWFyU291cmNlRXZlbnRzKG1vdXNlKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaGFzIG1vdmVkIChvciBhIHRvdWNoIG1vdmVzKSBkdXJpbmcgdGhlIGxhc3Qgc3RlcFxuICAgICpcbiAgICAqIEBldmVudCBtb3VzZW1vdmVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gdGhlIG1vdXNlIGlzIGRvd24gKG9yIGEgdG91Y2ggaGFzIHN0YXJ0ZWQpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNlZG93blxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHttb3VzZX0gZXZlbnQubW91c2UgVGhlIGVuZ2luZSdzIG1vdXNlIGluc3RhbmNlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaXMgdXAgKG9yIGEgdG91Y2ggaGFzIGVuZGVkKSBkdXJpbmcgdGhlIGxhc3Qgc3RlcFxuICAgICpcbiAgICAqIEBldmVudCBtb3VzZXVwXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIHN0YXJ0cyBkcmFnZ2luZyBhIGJvZHlcbiAgICAqXG4gICAgKiBAZXZlbnQgc3RhcnRkcmFnXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7Ym9keX0gZXZlbnQuYm9keSBUaGUgYm9keSBiZWluZyBkcmFnZ2VkXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgdXNlciBlbmRzIGRyYWdnaW5nIGEgYm9keVxuICAgICpcbiAgICAqIEBldmVudCBlbmRkcmFnXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7Ym9keX0gZXZlbnQuYm9keSBUaGUgYm9keSB0aGF0IGhhcyBzdG9wcGVkIGJlaW5nIGRyYWdnZWRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJjb25zdHJhaW50XCJcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBgTW91c2VgIGluc3RhbmNlIGluIHVzZS4gSWYgbm90IHN1cHBsaWVkIGluIGBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlYCwgb25lIHdpbGwgYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBtb3VzZVxuICAgICAqIEB0eXBlIG1vdXNlXG4gICAgICogQGRlZmF1bHQgbW91c2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBgQm9keWAgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgbW92ZWQgYnkgdGhlIHVzZXIsIG9yIGBudWxsYCBpZiBubyBib2R5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvZHlcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBDb25zdHJhaW50YCBvYmplY3QgdGhhdCBpcyB1c2VkIHRvIG1vdmUgdGhlIGJvZHkgZHVyaW5nIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbnN0cmFpbnRcbiAgICAgKiBAdHlwZSBjb25zdHJhaW50XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGZpbHRlciBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBjb2xsaXNpb24gZmlsdGVyIGFsbG93cyB0aGUgdXNlciB0byBkZWZpbmUgd2hpY2ggdHlwZXMgb2YgYm9keSB0aGlzIG1vdXNlIGNvbnN0cmFpbnQgY2FuIGludGVyYWN0IHdpdGguXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUXVlcnlgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBwZXJmb3JtaW5nIGNvbGxpc2lvbiBxdWVyaWVzLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgUXVlcnlcbiovXG5cbnZhciBRdWVyeSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXJ5O1xuXG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBDb2xsaXNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQm9kaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBjb2xsaXNpb25zIGJldHdlZW4gYGJvZHlgIGFuZCBgYm9kaWVzYC5cbiAgICAgKiBAbWV0aG9kIGNvbGxpZGVzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbltdfSBDb2xsaXNpb25zXG4gICAgICovXG4gICAgUXVlcnkuY29sbGlkZXMgPSBmdW5jdGlvbihib2R5LCBib2RpZXMpIHtcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBbXSxcbiAgICAgICAgICAgIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGgsXG4gICAgICAgICAgICBib3VuZHMgPSBib2R5LmJvdW5kcyxcbiAgICAgICAgICAgIGNvbGxpZGVzID0gQ29sbGlzaW9uLmNvbGxpZGVzLFxuICAgICAgICAgICAgb3ZlcmxhcHMgPSBCb3VuZHMub3ZlcmxhcHM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIHBhcnRzQUxlbmd0aCA9IGJvZHlBLnBhcnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBwYXJ0c0FTdGFydCA9IHBhcnRzQUxlbmd0aCA9PT0gMSA/IDAgOiAxO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAob3ZlcmxhcHMoYm9keUEuYm91bmRzLCBib3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHBhcnRzQVN0YXJ0OyBqIDwgcGFydHNBTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5QS5wYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxhcHMocGFydC5ib3VuZHMsIGJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaWRlcyhwYXJ0LCBib2R5KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbnMucHVzaChjb2xsaXNpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGEgcmF5IHNlZ21lbnQgYWdhaW5zdCBhIHNldCBvZiBib2RpZXMgYW5kIHJldHVybnMgYWxsIGNvbGxpc2lvbnMsIHJheSB3aWR0aCBpcyBvcHRpb25hbC4gSW50ZXJzZWN0aW9uIHBvaW50cyBhcmUgbm90IHByb3ZpZGVkLlxuICAgICAqIEBtZXRob2QgcmF5XG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBzdGFydFBvaW50XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IGVuZFBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYXlXaWR0aF1cbiAgICAgKiBAcmV0dXJuIHtjb2xsaXNpb25bXX0gQ29sbGlzaW9uc1xuICAgICAqL1xuICAgIFF1ZXJ5LnJheSA9IGZ1bmN0aW9uKGJvZGllcywgc3RhcnRQb2ludCwgZW5kUG9pbnQsIHJheVdpZHRoKSB7XG4gICAgICAgIHJheVdpZHRoID0gcmF5V2lkdGggfHwgMWUtMTAwO1xuXG4gICAgICAgIHZhciByYXlBbmdsZSA9IFZlY3Rvci5hbmdsZShzdGFydFBvaW50LCBlbmRQb2ludCksXG4gICAgICAgICAgICByYXlMZW5ndGggPSBWZWN0b3IubWFnbml0dWRlKFZlY3Rvci5zdWIoc3RhcnRQb2ludCwgZW5kUG9pbnQpKSxcbiAgICAgICAgICAgIHJheVggPSAoZW5kUG9pbnQueCArIHN0YXJ0UG9pbnQueCkgKiAwLjUsXG4gICAgICAgICAgICByYXlZID0gKGVuZFBvaW50LnkgKyBzdGFydFBvaW50LnkpICogMC41LFxuICAgICAgICAgICAgcmF5ID0gQm9kaWVzLnJlY3RhbmdsZShyYXlYLCByYXlZLCByYXlMZW5ndGgsIHJheVdpZHRoLCB7IGFuZ2xlOiByYXlBbmdsZSB9KSxcbiAgICAgICAgICAgIGNvbGxpc2lvbnMgPSBRdWVyeS5jb2xsaWRlcyhyYXksIGJvZGllcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xsaXNpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gY29sbGlzaW9uc1tpXTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5ib2R5ID0gY29sbGlzaW9uLmJvZHlCID0gY29sbGlzaW9uLmJvZHlBOyAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJvZGllcyB3aG9zZSBib3VuZHMgYXJlIGluc2lkZSAob3Igb3V0c2lkZSBpZiBzZXQpIHRoZSBnaXZlbiBzZXQgb2YgYm91bmRzLCBmcm9tIHRoZSBnaXZlbiBzZXQgb2YgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgcmVnaW9uXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtvdXRzaWRlPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2JvZHlbXX0gVGhlIGJvZGllcyBtYXRjaGluZyB0aGUgcXVlcnlcbiAgICAgKi9cbiAgICBRdWVyeS5yZWdpb24gPSBmdW5jdGlvbihib2RpZXMsIGJvdW5kcywgb3V0c2lkZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIG92ZXJsYXBzID0gQm91bmRzLm92ZXJsYXBzKGJvZHkuYm91bmRzLCBib3VuZHMpO1xuICAgICAgICAgICAgaWYgKChvdmVybGFwcyAmJiAhb3V0c2lkZSkgfHwgKCFvdmVybGFwcyAmJiBvdXRzaWRlKSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChib2R5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJvZGllcyB3aG9zZSB2ZXJ0aWNlcyBjb250YWluIHRoZSBnaXZlbiBwb2ludCwgZnJvbSB0aGUgZ2l2ZW4gc2V0IG9mIGJvZGllcy5cbiAgICAgKiBAbWV0aG9kIHBvaW50XG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEByZXR1cm4ge2JvZHlbXX0gVGhlIGJvZGllcyBtYXRjaGluZyB0aGUgcXVlcnlcbiAgICAgKi9cbiAgICBRdWVyeS5wb2ludCA9IGZ1bmN0aW9uKGJvZGllcywgcG9pbnQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKEJvdW5kcy5jb250YWlucyhib2R5LmJvdW5kcywgcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID09PSAxID8gMCA6IDE7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHBhcnQuYm91bmRzLCBwb2ludClcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIFZlcnRpY2VzLmNvbnRhaW5zKHBhcnQudmVydGljZXMsIHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5SZW5kZXJgIG1vZHVsZSBpcyBhIHNpbXBsZSBjYW52YXMgYmFzZWQgcmVuZGVyZXIgZm9yIHZpc3VhbGlzaW5nIGluc3RhbmNlcyBvZiBgTWF0dGVyLkVuZ2luZWAuXG4qIEl0IGlzIGludGVuZGVkIGZvciBkZXZlbG9wbWVudCBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLCBidXQgbWF5IGFsc28gYmUgc3VpdGFibGUgZm9yIHNpbXBsZSBnYW1lcy5cbiogSXQgaW5jbHVkZXMgYSBudW1iZXIgb2YgZHJhd2luZyBvcHRpb25zIGluY2x1ZGluZyB3aXJlZnJhbWUsIHZlY3RvciB3aXRoIHN1cHBvcnQgZm9yIHNwcml0ZXMgYW5kIHZpZXdwb3J0cy5cbipcbiogQGNsYXNzIFJlbmRlclxuKi9cblxudmFyIFJlbmRlciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbmRlcjtcblxudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQ29tcG9zaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBNb3VzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSxcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZnVuY3Rpb24oY2FsbGJhY2speyB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soQ29tbW9uLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcblxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICB9XG5cbiAgICBSZW5kZXIuX2dvb2RGcHMgPSAzMDtcbiAgICBSZW5kZXIuX2dvb2REZWx0YSA9IDEwMDAgLyA2MDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmVuZGVyZXIuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtyZW5kZXJ9IEEgbmV3IHJlbmRlcmVyXG4gICAgICovXG4gICAgUmVuZGVyLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZW5naW5lOiBudWxsLFxuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIGNhbnZhczogbnVsbCxcbiAgICAgICAgICAgIG1vdXNlOiBudWxsLFxuICAgICAgICAgICAgZnJhbWVSZXF1ZXN0SWQ6IG51bGwsXG4gICAgICAgICAgICB0aW1pbmc6IHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5U2l6ZTogNjAsXG4gICAgICAgICAgICAgICAgZGVsdGE6IDAsXG4gICAgICAgICAgICAgICAgZGVsdGFIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgICAgICBsYXN0VGltZTogMCxcbiAgICAgICAgICAgICAgICBsYXN0VGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgICAgIGxhc3RFbGFwc2VkOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcEVsYXBzZWQ6IDAsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wRWxhcHNlZEhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgICAgIGVuZ2luZURlbHRhSGlzdG9yeTogW10sXG4gICAgICAgICAgICAgICAgZW5naW5lRWxhcHNlZEhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgICAgIGVsYXBzZWRIaXN0b3J5OiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IDEsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMxNDE1MWYnLFxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZUJhY2tncm91bmQ6ICcjMTQxNTFmJyxcbiAgICAgICAgICAgICAgICBoYXNCb3VuZHM6ICEhb3B0aW9ucy5ib3VuZHMsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3aXJlZnJhbWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTbGVlcGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93RGVidWc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dTdGF0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1BlcmZvcm1hbmNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Qm91bmRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93VmVsb2NpdHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93U2VwYXJhdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dBeGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93UG9zaXRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93QW5nbGVJbmRpY2F0b3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dJZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dWZXJ0ZXhOdW1iZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Q29udmV4SHVsbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93TW91c2VQb3NpdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVuZGVyID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHJlbmRlci5jYW52YXMpIHtcbiAgICAgICAgICAgIHJlbmRlci5jYW52YXMud2lkdGggPSByZW5kZXIub3B0aW9ucy53aWR0aCB8fCByZW5kZXIuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgcmVuZGVyLmNhbnZhcy5oZWlnaHQgPSByZW5kZXIub3B0aW9ucy5oZWlnaHQgfHwgcmVuZGVyLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIubW91c2UgPSBvcHRpb25zLm1vdXNlO1xuICAgICAgICByZW5kZXIuZW5naW5lID0gb3B0aW9ucy5lbmdpbmU7XG4gICAgICAgIHJlbmRlci5jYW52YXMgPSByZW5kZXIuY2FudmFzIHx8IF9jcmVhdGVDYW52YXMocmVuZGVyLm9wdGlvbnMud2lkdGgsIHJlbmRlci5vcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHJlbmRlci5jb250ZXh0ID0gcmVuZGVyLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICByZW5kZXIudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICByZW5kZXIuYm91bmRzID0gcmVuZGVyLmJvdW5kcyB8fCB7XG4gICAgICAgICAgICBtaW46IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgICAgICB4OiByZW5kZXIuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHJlbmRlci5jYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZm9yIHRlbXBvcmFyeSBiYWNrIGNvbXBhdGliaWxpdHkgb25seVxuICAgICAgICByZW5kZXIuY29udHJvbGxlciA9IFJlbmRlcjtcbiAgICAgICAgcmVuZGVyLm9wdGlvbnMuc2hvd0Jyb2FkcGhhc2UgPSBmYWxzZTtcblxuICAgICAgICBpZiAocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyAhPT0gMSkge1xuICAgICAgICAgICAgUmVuZGVyLnNldFBpeGVsUmF0aW8ocmVuZGVyLCByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChDb21tb24uaXNFbGVtZW50KHJlbmRlci5lbGVtZW50KSkge1xuICAgICAgICAgICAgcmVuZGVyLmVsZW1lbnQuYXBwZW5kQ2hpbGQocmVuZGVyLmNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb250aW51b3VzbHkgdXBkYXRlcyB0aGUgcmVuZGVyIGNhbnZhcyBvbiB0aGUgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgZXZlbnQuXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICovXG4gICAgUmVuZGVyLnJ1biA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICAoZnVuY3Rpb24gbG9vcCh0aW1lKXtcbiAgICAgICAgICAgIHJlbmRlci5mcmFtZVJlcXVlc3RJZCA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIF91cGRhdGVUaW1pbmcocmVuZGVyLCB0aW1lKTtcblxuICAgICAgICAgICAgUmVuZGVyLndvcmxkKHJlbmRlciwgdGltZSk7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5zaG93U3RhdHMgfHwgcmVuZGVyLm9wdGlvbnMuc2hvd0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgUmVuZGVyLnN0YXRzKHJlbmRlciwgcmVuZGVyLmNvbnRleHQsIHRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVuZGVyLm9wdGlvbnMuc2hvd1BlcmZvcm1hbmNlIHx8IHJlbmRlci5vcHRpb25zLnNob3dEZWJ1Zykge1xuICAgICAgICAgICAgICAgIFJlbmRlci5wZXJmb3JtYW5jZShyZW5kZXIsIHJlbmRlci5jb250ZXh0LCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5kcyBleGVjdXRpb24gb2YgYFJlbmRlci5ydW5gIG9uIHRoZSBnaXZlbiBgcmVuZGVyYCwgYnkgY2FuY2VsaW5nIHRoZSBhbmltYXRpb24gZnJhbWUgcmVxdWVzdCBldmVudCBsb29wLlxuICAgICAqIEBtZXRob2Qgc3RvcFxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIuc3RvcCA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVuZGVyLmZyYW1lUmVxdWVzdElkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyIGFuZCB1cGRhdGVzIHRoZSBjYW52YXMuXG4gICAgICogVG8gYXV0b21hdGljYWxseSBkZXRlY3QgdGhlIGNvcnJlY3QgcmF0aW8sIHBhc3MgdGhlIHN0cmluZyBgJ2F1dG8nYCBmb3IgYHBpeGVsUmF0aW9gLlxuICAgICAqIEBtZXRob2Qgc2V0UGl4ZWxSYXRpb1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpb1xuICAgICAqL1xuICAgIFJlbmRlci5zZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24ocmVuZGVyLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBjYW52YXMgPSByZW5kZXIuY2FudmFzO1xuXG4gICAgICAgIGlmIChwaXhlbFJhdGlvID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBfZ2V0UGl4ZWxSYXRpbyhjYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnZGF0YS1waXhlbC1yYXRpbycsIHBpeGVsUmF0aW8pO1xuICAgICAgICBjYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogcGl4ZWxSYXRpbztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogcGl4ZWxSYXRpbztcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArICdweCc7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCArICdweCc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9ucyBhbmQgc2l6ZXMgdGhlIHZpZXdwb3J0IGFyb3VuZCB0aGUgZ2l2ZW4gb2JqZWN0IGJvdW5kcy5cbiAgICAgKiBPYmplY3RzIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIC0gYG9iamVjdC5ib3VuZHNgXG4gICAgICogLSBgb2JqZWN0LnBvc2l0aW9uYFxuICAgICAqIC0gYG9iamVjdC5taW5gIGFuZCBgb2JqZWN0Lm1heGBcbiAgICAgKiAtIGBvYmplY3QueGAgYW5kIGBvYmplY3QueWBcbiAgICAgKiBAbWV0aG9kIGxvb2tBdFxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBvYmplY3RzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtwYWRkaW5nXVxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2NlbnRlcj10cnVlXVxuICAgICAqL1xuICAgIFJlbmRlci5sb29rQXQgPSBmdW5jdGlvbihyZW5kZXIsIG9iamVjdHMsIHBhZGRpbmcsIGNlbnRlcikge1xuICAgICAgICBjZW50ZXIgPSB0eXBlb2YgY2VudGVyICE9PSAndW5kZWZpbmVkJyA/IGNlbnRlciA6IHRydWU7XG4gICAgICAgIG9iamVjdHMgPSBDb21tb24uaXNBcnJheShvYmplY3RzKSA/IG9iamVjdHMgOiBbb2JqZWN0c107XG4gICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nIHx8IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZmluZCBib3VuZHMgb2YgYWxsIG9iamVjdHNcbiAgICAgICAgdmFyIGJvdW5kcyA9IHtcbiAgICAgICAgICAgIG1pbjogeyB4OiBJbmZpbml0eSwgeTogSW5maW5pdHkgfSxcbiAgICAgICAgICAgIG1heDogeyB4OiAtSW5maW5pdHksIHk6IC1JbmZpbml0eSB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gb2JqZWN0c1tpXSxcbiAgICAgICAgICAgICAgICBtaW4gPSBvYmplY3QuYm91bmRzID8gb2JqZWN0LmJvdW5kcy5taW4gOiAob2JqZWN0Lm1pbiB8fCBvYmplY3QucG9zaXRpb24gfHwgb2JqZWN0KSxcbiAgICAgICAgICAgICAgICBtYXggPSBvYmplY3QuYm91bmRzID8gb2JqZWN0LmJvdW5kcy5tYXggOiAob2JqZWN0Lm1heCB8fCBvYmplY3QucG9zaXRpb24gfHwgb2JqZWN0KTtcblxuICAgICAgICAgICAgaWYgKG1pbiAmJiBtYXgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluLnggPCBib3VuZHMubWluLngpXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueCA9IG1pbi54O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1heC54ID4gYm91bmRzLm1heC54KVxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubWF4LnggPSBtYXgueDtcblxuICAgICAgICAgICAgICAgIGlmIChtaW4ueSA8IGJvdW5kcy5taW4ueSlcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1pbi55ID0gbWluLnk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF4LnkgPiBib3VuZHMubWF4LnkpXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueSA9IG1heC55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluZCByYXRpb3NcbiAgICAgICAgdmFyIHdpZHRoID0gKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCkgKyAyICogcGFkZGluZy54LFxuICAgICAgICAgICAgaGVpZ2h0ID0gKGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSkgKyAyICogcGFkZGluZy55LFxuICAgICAgICAgICAgdmlld0hlaWdodCA9IHJlbmRlci5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgdmlld1dpZHRoID0gcmVuZGVyLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIG91dGVyUmF0aW8gPSB2aWV3V2lkdGggLyB2aWV3SGVpZ2h0LFxuICAgICAgICAgICAgaW5uZXJSYXRpbyA9IHdpZHRoIC8gaGVpZ2h0LFxuICAgICAgICAgICAgc2NhbGVYID0gMSxcbiAgICAgICAgICAgIHNjYWxlWSA9IDE7XG5cbiAgICAgICAgLy8gZmluZCBzY2FsZSBmYWN0b3JcbiAgICAgICAgaWYgKGlubmVyUmF0aW8gPiBvdXRlclJhdGlvKSB7XG4gICAgICAgICAgICBzY2FsZVkgPSBpbm5lclJhdGlvIC8gb3V0ZXJSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjYWxlWCA9IG91dGVyUmF0aW8gLyBpbm5lclJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5hYmxlIGJvdW5kc1xuICAgICAgICByZW5kZXIub3B0aW9ucy5oYXNCb3VuZHMgPSB0cnVlO1xuXG4gICAgICAgIC8vIHBvc2l0aW9uIGFuZCBzaXplXG4gICAgICAgIHJlbmRlci5ib3VuZHMubWluLnggPSBib3VuZHMubWluLng7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggPSBib3VuZHMubWluLnggKyB3aWR0aCAqIHNjYWxlWDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueSA9IGJvdW5kcy5taW4ueTtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueSA9IGJvdW5kcy5taW4ueSArIGhlaWdodCAqIHNjYWxlWTtcblxuICAgICAgICAvLyBjZW50ZXJcbiAgICAgICAgaWYgKGNlbnRlcikge1xuICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueCArPSB3aWR0aCAqIDAuNSAtICh3aWR0aCAqIHNjYWxlWCkgKiAwLjU7XG4gICAgICAgICAgICByZW5kZXIuYm91bmRzLm1heC54ICs9IHdpZHRoICogMC41IC0gKHdpZHRoICogc2NhbGVYKSAqIDAuNTtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWluLnkgKz0gaGVpZ2h0ICogMC41IC0gKGhlaWdodCAqIHNjYWxlWSkgKiAwLjU7XG4gICAgICAgICAgICByZW5kZXIuYm91bmRzLm1heC55ICs9IGhlaWdodCAqIDAuNSAtIChoZWlnaHQgKiBzY2FsZVkpICogMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFkZGluZ1xuICAgICAgICByZW5kZXIuYm91bmRzLm1pbi54IC09IHBhZGRpbmcueDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueCAtPSBwYWRkaW5nLng7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWluLnkgLT0gcGFkZGluZy55O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC55IC09IHBhZGRpbmcueTtcblxuICAgICAgICAvLyB1cGRhdGUgbW91c2VcbiAgICAgICAgaWYgKHJlbmRlci5tb3VzZSkge1xuICAgICAgICAgICAgTW91c2Uuc2V0U2NhbGUocmVuZGVyLm1vdXNlLCB7XG4gICAgICAgICAgICAgICAgeDogKHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54KSAvIHJlbmRlci5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogKHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55KSAvIHJlbmRlci5jYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgTW91c2Uuc2V0T2Zmc2V0KHJlbmRlci5tb3VzZSwgcmVuZGVyLmJvdW5kcy5taW4pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdmlld3BvcnQgdHJhbnNmb3JtcyBiYXNlZCBvbiBgcmVuZGVyLmJvdW5kc2AgdG8gYSByZW5kZXIgY29udGV4dC5cbiAgICAgKiBAbWV0aG9kIHN0YXJ0Vmlld1RyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIuc3RhcnRWaWV3VHJhbnNmb3JtID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIHZhciBib3VuZHNXaWR0aCA9IHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54LFxuICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gcmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnksXG4gICAgICAgICAgICBib3VuZHNTY2FsZVggPSBib3VuZHNXaWR0aCAvIHJlbmRlci5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgYm91bmRzU2NhbGVZID0gYm91bmRzSGVpZ2h0IC8gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgIHJlbmRlci5jb250ZXh0LnNldFRyYW5zZm9ybShcbiAgICAgICAgICAgIHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gLyBib3VuZHNTY2FsZVgsIDAsIDAsIFxuICAgICAgICAgICAgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyAvIGJvdW5kc1NjYWxlWSwgMCwgMFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgcmVuZGVyLmNvbnRleHQudHJhbnNsYXRlKC1yZW5kZXIuYm91bmRzLm1pbi54LCAtcmVuZGVyLmJvdW5kcy5taW4ueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdHJhbnNmb3JtcyBvbiB0aGUgcmVuZGVyIGNvbnRleHQuXG4gICAgICogQG1ldGhvZCBlbmRWaWV3VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5lbmRWaWV3VHJhbnNmb3JtID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIHJlbmRlci5jb250ZXh0LnNldFRyYW5zZm9ybShyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwLCByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ2l2ZW4gYGVuZ2luZWAncyBgTWF0dGVyLldvcmxkYCBvYmplY3QuXG4gICAgICogVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIGFsbCByZW5kZXJpbmcgYW5kIHNob3VsZCBiZSBjYWxsZWQgZXZlcnkgdGltZSB0aGUgc2NlbmUgY2hhbmdlcy5cbiAgICAgKiBAbWV0aG9kIHdvcmxkXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci53b3JsZCA9IGZ1bmN0aW9uKHJlbmRlciwgdGltZSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gQ29tbW9uLm5vdygpLFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLFxuICAgICAgICAgICAgY2FudmFzID0gcmVuZGVyLmNhbnZhcyxcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXIuY29udGV4dCxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHRpbWluZyA9IHJlbmRlci50aW1pbmc7XG5cbiAgICAgICAgdmFyIGFsbEJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMod29ybGQpLFxuICAgICAgICAgICAgYWxsQ29uc3RyYWludHMgPSBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMod29ybGQpLFxuICAgICAgICAgICAgYmFja2dyb3VuZCA9IG9wdGlvbnMud2lyZWZyYW1lcyA/IG9wdGlvbnMud2lyZWZyYW1lQmFja2dyb3VuZCA6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGJvZGllcyA9IFtdLFxuICAgICAgICAgICAgY29uc3RyYWludHMgPSBbXSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBlbmdpbmUudGltaW5nLnRpbWVzdGFtcFxuICAgICAgICB9O1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJlbmRlciwgJ2JlZm9yZVJlbmRlcicsIGV2ZW50KTtcblxuICAgICAgICAvLyBhcHBseSBiYWNrZ3JvdW5kIGlmIGl0IGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmIChyZW5kZXIuY3VycmVudEJhY2tncm91bmQgIT09IGJhY2tncm91bmQpXG4gICAgICAgICAgICBfYXBwbHlCYWNrZ3JvdW5kKHJlbmRlciwgYmFja2dyb3VuZCk7XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIGNhbnZhcyB3aXRoIGEgdHJhbnNwYXJlbnQgZmlsbCwgdG8gYWxsb3cgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIHRvIHNob3dcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLWluJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuXG4gICAgICAgIC8vIGhhbmRsZSBib3VuZHNcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGJvZGllcyB0aGF0IGFyZSBub3QgaW4gdmlld1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFsbEJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYWxsQm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChCb3VuZHMub3ZlcmxhcHMoYm9keS5ib3VuZHMsIHJlbmRlci5ib3VuZHMpKVxuICAgICAgICAgICAgICAgICAgICBib2RpZXMucHVzaChib2R5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBjb25zdHJhaW50cyB0aGF0IGFyZSBub3QgaW4gdmlld1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFsbENvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBhbGxDb25zdHJhaW50c1tpXSxcbiAgICAgICAgICAgICAgICAgICAgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLFxuICAgICAgICAgICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QVdvcmxkID0gY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QldvcmxkID0gY29uc3RyYWludC5wb2ludEI7XG5cbiAgICAgICAgICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5QikgcG9pbnRCV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50Qik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QVdvcmxkKSB8fCBCb3VuZHMuY29udGFpbnMocmVuZGVyLmJvdW5kcywgcG9pbnRCV29ybGQpKVxuICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHZpZXdcbiAgICAgICAgICAgIFJlbmRlci5zdGFydFZpZXdUcmFuc2Zvcm0ocmVuZGVyKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIG1vdXNlXG4gICAgICAgICAgICBpZiAocmVuZGVyLm1vdXNlKSB7XG4gICAgICAgICAgICAgICAgTW91c2Uuc2V0U2NhbGUocmVuZGVyLm1vdXNlLCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IChyZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCkgLyByZW5kZXIub3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgeTogKHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55KSAvIHJlbmRlci5vcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgTW91c2Uuc2V0T2Zmc2V0KHJlbmRlci5tb3VzZSwgcmVuZGVyLmJvdW5kcy5taW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3RyYWludHMgPSBhbGxDb25zdHJhaW50cztcbiAgICAgICAgICAgIGJvZGllcyA9IGFsbEJvZGllcztcblxuICAgICAgICAgICAgaWYgKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gIT09IDEpIHtcbiAgICAgICAgICAgICAgICByZW5kZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0ocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMud2lyZWZyYW1lcyB8fCAoZW5naW5lLmVuYWJsZVNsZWVwaW5nICYmIG9wdGlvbnMuc2hvd1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgLy8gZnVsbHkgZmVhdHVyZWQgcmVuZGVyaW5nIG9mIGJvZGllc1xuICAgICAgICAgICAgUmVuZGVyLmJvZGllcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93Q29udmV4SHVsbHMpXG4gICAgICAgICAgICAgICAgUmVuZGVyLmJvZHlDb252ZXhIdWxscyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIG9wdGltaXNlZCBtZXRob2QgZm9yIHdpcmVmcmFtZXMgb25seVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlXaXJlZnJhbWVzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dCb3VuZHMpXG4gICAgICAgICAgICBSZW5kZXIuYm9keUJvdW5kcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0F4ZXMgfHwgb3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IpXG4gICAgICAgICAgICBSZW5kZXIuYm9keUF4ZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dQb3NpdGlvbnMpXG4gICAgICAgICAgICBSZW5kZXIuYm9keVBvc2l0aW9ucyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1ZlbG9jaXR5KVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlWZWxvY2l0eShyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0lkcylcbiAgICAgICAgICAgIFJlbmRlci5ib2R5SWRzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93U2VwYXJhdGlvbnMpXG4gICAgICAgICAgICBSZW5kZXIuc2VwYXJhdGlvbnMocmVuZGVyLCBlbmdpbmUucGFpcnMubGlzdCwgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0NvbGxpc2lvbnMpXG4gICAgICAgICAgICBSZW5kZXIuY29sbGlzaW9ucyhyZW5kZXIsIGVuZ2luZS5wYWlycy5saXN0LCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93VmVydGV4TnVtYmVycylcbiAgICAgICAgICAgIFJlbmRlci52ZXJ0ZXhOdW1iZXJzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93TW91c2VQb3NpdGlvbilcbiAgICAgICAgICAgIFJlbmRlci5tb3VzZVBvc2l0aW9uKHJlbmRlciwgcmVuZGVyLm1vdXNlLCBjb250ZXh0KTtcblxuICAgICAgICBSZW5kZXIuY29uc3RyYWludHMoY29uc3RyYWludHMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykge1xuICAgICAgICAgICAgLy8gcmV2ZXJ0IHZpZXcgdHJhbnNmb3Jtc1xuICAgICAgICAgICAgUmVuZGVyLmVuZFZpZXdUcmFuc2Zvcm0ocmVuZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJlbmRlciwgJ2FmdGVyUmVuZGVyJywgZXZlbnQpO1xuXG4gICAgICAgIC8vIGxvZyB0aGUgdGltZSBlbGFwc2VkIGNvbXB1dGluZyB0aGlzIHVwZGF0ZVxuICAgICAgICB0aW1pbmcubGFzdEVsYXBzZWQgPSBDb21tb24ubm93KCkgLSBzdGFydFRpbWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgc3RhdGlzdGljcyBhYm91dCB0aGUgZW5naW5lIGFuZCB3b3JsZCB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc3RhdHNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICBSZW5kZXIuc3RhdHMgPSBmdW5jdGlvbihyZW5kZXIsIGNvbnRleHQsIHRpbWUpIHtcbiAgICAgICAgdmFyIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICB3b3JsZCA9IGVuZ2luZS53b3JsZCxcbiAgICAgICAgICAgIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMod29ybGQpLFxuICAgICAgICAgICAgcGFydHMgPSAwLFxuICAgICAgICAgICAgd2lkdGggPSA1NSxcbiAgICAgICAgICAgIGhlaWdodCA9IDQ0LFxuICAgICAgICAgICAgeCA9IDAsXG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIGNvdW50IHBhcnRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBwYXJ0cyArPSBib2RpZXNbaV0ucGFydHMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VjdGlvbnNcbiAgICAgICAgdmFyIHNlY3Rpb25zID0ge1xuICAgICAgICAgICAgJ1BhcnQnOiBwYXJ0cyxcbiAgICAgICAgICAgICdCb2R5JzogYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgICAgICdDb25zJzogQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKS5sZW5ndGgsXG4gICAgICAgICAgICAnQ29tcCc6IENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKHdvcmxkKS5sZW5ndGgsXG4gICAgICAgICAgICAnUGFpcic6IGVuZ2luZS5wYWlycy5saXN0Lmxlbmd0aFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGJhY2tncm91bmRcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzBlMGYxOSc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoeCwgeSwgd2lkdGggKiA1LjUsIGhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XG5cbiAgICAgICAgLy8gc2VjdGlvbnNcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNlY3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHNlY3Rpb25zW2tleV07XG4gICAgICAgICAgICAvLyBsYWJlbFxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2FhYSc7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGtleSwgeCArIHdpZHRoLCB5ICsgOCk7XG5cbiAgICAgICAgICAgIC8vIHZhbHVlXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZWVlJztcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc2VjdGlvbiwgeCArIHdpZHRoLCB5ICsgMjYpO1xuXG4gICAgICAgICAgICB4ICs9IHdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgZW5naW5lIGFuZCByZW5kZXIgcGVyZm9ybWFuY2UgaW5mb3JtYXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHBlcmZvcm1hbmNlXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5wZXJmb3JtYW5jZSA9IGZ1bmN0aW9uKHJlbmRlciwgY29udGV4dCkge1xuICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIHRpbWluZyA9IHJlbmRlci50aW1pbmcsXG4gICAgICAgICAgICBkZWx0YUhpc3RvcnkgPSB0aW1pbmcuZGVsdGFIaXN0b3J5LFxuICAgICAgICAgICAgZWxhcHNlZEhpc3RvcnkgPSB0aW1pbmcuZWxhcHNlZEhpc3RvcnksXG4gICAgICAgICAgICB0aW1lc3RhbXBFbGFwc2VkSGlzdG9yeSA9IHRpbWluZy50aW1lc3RhbXBFbGFwc2VkSGlzdG9yeSxcbiAgICAgICAgICAgIGVuZ2luZURlbHRhSGlzdG9yeSA9IHRpbWluZy5lbmdpbmVEZWx0YUhpc3RvcnksXG4gICAgICAgICAgICBlbmdpbmVFbGFwc2VkSGlzdG9yeSA9IHRpbWluZy5lbmdpbmVFbGFwc2VkSGlzdG9yeSxcbiAgICAgICAgICAgIGxhc3RFbmdpbmVEZWx0YSA9IGVuZ2luZS50aW1pbmcubGFzdERlbHRhO1xuICAgICAgICBcbiAgICAgICAgdmFyIGRlbHRhTWVhbiA9IF9tZWFuKGRlbHRhSGlzdG9yeSksXG4gICAgICAgICAgICBlbGFwc2VkTWVhbiA9IF9tZWFuKGVsYXBzZWRIaXN0b3J5KSxcbiAgICAgICAgICAgIGVuZ2luZURlbHRhTWVhbiA9IF9tZWFuKGVuZ2luZURlbHRhSGlzdG9yeSksXG4gICAgICAgICAgICBlbmdpbmVFbGFwc2VkTWVhbiA9IF9tZWFuKGVuZ2luZUVsYXBzZWRIaXN0b3J5KSxcbiAgICAgICAgICAgIHRpbWVzdGFtcEVsYXBzZWRNZWFuID0gX21lYW4odGltZXN0YW1wRWxhcHNlZEhpc3RvcnkpLFxuICAgICAgICAgICAgcmF0ZU1lYW4gPSAodGltZXN0YW1wRWxhcHNlZE1lYW4gLyBkZWx0YU1lYW4pIHx8IDAsXG4gICAgICAgICAgICBmcHMgPSAoMTAwMCAvIGRlbHRhTWVhbikgfHwgMDtcblxuICAgICAgICB2YXIgZ3JhcGhIZWlnaHQgPSA0LFxuICAgICAgICAgICAgZ2FwID0gMTIsXG4gICAgICAgICAgICB3aWR0aCA9IDYwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gMzQsXG4gICAgICAgICAgICB4ID0gMTAsXG4gICAgICAgICAgICB5ID0gNjk7XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMGUwZjE5JztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCA1MCwgZ2FwICogNCArIHdpZHRoICogNSArIDIyLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHNob3cgRlBTXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4LCB5LCB3aWR0aCwgZ3JhcGhIZWlnaHQsIGRlbHRhSGlzdG9yeS5sZW5ndGgsIFxuICAgICAgICAgICAgTWF0aC5yb3VuZChmcHMpICsgJyBmcHMnLCBcbiAgICAgICAgICAgIGZwcyAvIFJlbmRlci5fZ29vZEZwcyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIChkZWx0YUhpc3RvcnlbaV0gLyBkZWx0YU1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZW5naW5lIGRlbHRhXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgZ2FwICsgd2lkdGgsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZW5naW5lRGVsdGFIaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgICAgIGxhc3RFbmdpbmVEZWx0YS50b0ZpeGVkKDIpICsgJyBkdCcsIFxuICAgICAgICAgICAgUmVuZGVyLl9nb29kRGVsdGEgLyBsYXN0RW5naW5lRGVsdGEsXG4gICAgICAgICAgICBmdW5jdGlvbihpKSB7IHJldHVybiAoZW5naW5lRGVsdGFIaXN0b3J5W2ldIC8gZW5naW5lRGVsdGFNZWFuKSAtIDE7IH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzaG93IGVuZ2luZSB1cGRhdGUgdGltZVxuICAgICAgICBSZW5kZXIuc3RhdHVzKFxuICAgICAgICAgICAgY29udGV4dCwgeCArIChnYXAgKyB3aWR0aCkgKiAyLCB5LCB3aWR0aCwgZ3JhcGhIZWlnaHQsIGVuZ2luZUVsYXBzZWRIaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgICAgIGVuZ2luZUVsYXBzZWRNZWFuLnRvRml4ZWQoMikgKyAnIHV0JywgXG4gICAgICAgICAgICAxIC0gKGVuZ2luZUVsYXBzZWRNZWFuIC8gUmVuZGVyLl9nb29kRnBzKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIChlbmdpbmVFbGFwc2VkSGlzdG9yeVtpXSAvIGVuZ2luZUVsYXBzZWRNZWFuKSAtIDE7IH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzaG93IHJlbmRlciB0aW1lXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDMsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZWxhcHNlZEhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgZWxhcHNlZE1lYW4udG9GaXhlZCgyKSArICcgcnQnLCBcbiAgICAgICAgICAgIDEgLSAoZWxhcHNlZE1lYW4gLyBSZW5kZXIuX2dvb2RGcHMpLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKGVsYXBzZWRIaXN0b3J5W2ldIC8gZWxhcHNlZE1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZWZmZWN0aXZlIHNwZWVkXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDQsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgdGltZXN0YW1wRWxhcHNlZEhpc3RvcnkubGVuZ3RoLCBcbiAgICAgICAgICAgIHJhdGVNZWFuLnRvRml4ZWQoMikgKyAnIHgnLCBcbiAgICAgICAgICAgIHJhdGVNZWFuICogcmF0ZU1lYW4gKiByYXRlTWVhbixcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuICgoKHRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5W2ldIC8gZGVsdGFIaXN0b3J5W2ldKSAvIHJhdGVNZWFuKSB8fCAwKSAtIDE7IH1cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGxhYmVsLCBpbmRpY2F0b3IgYW5kIGEgY2hhcnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHN0YXR1c1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHBsb3RZXG4gICAgICovXG4gICAgUmVuZGVyLnN0YXR1cyA9IGZ1bmN0aW9uKGNvbnRleHQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvdW50LCBsYWJlbCwgaW5kaWNhdG9yLCBwbG90WSkge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzg4OCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyM0NDQnO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoeCwgeSArIDcsIHdpZHRoLCAxKTtcblxuICAgICAgICAvLyBjaGFydFxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5ICsgNyAtIGhlaWdodCAqIENvbW1vbi5jbGFtcCgwLjQgKiBwbG90WSgwKSwgLTIsIDIpKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4ICsgaSwgeSArIDcgLSAoaSA8IGNvdW50ID8gaGVpZ2h0ICogQ29tbW9uLmNsYW1wKDAuNCAqIHBsb3RZKGkpLCAtMiwgMikgOiAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAvLyBpbmRpY2F0b3JcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnaHNsKCcgKyBDb21tb24uY2xhbXAoMjUgKyA5NSAqIGluZGljYXRvciwgMCwgMTIwKSArICcsMTAwJSw2MCUpJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh4LCB5IC0gNywgNCwgNCk7XG5cbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgY29udGV4dC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNlZWUnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGxhYmVsLCB4ICsgd2lkdGgsIHkgLSA1KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnRbXX0gY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuY29uc3RyYWludHMgPSBmdW5jdGlvbihjb25zdHJhaW50cywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKCFjb25zdHJhaW50LnJlbmRlci52aXNpYmxlIHx8ICFjb25zdHJhaW50LnBvaW50QSB8fCAhY29uc3RyYWludC5wb2ludEIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZDtcblxuICAgICAgICAgICAgaWYgKGJvZHlBKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBWZWN0b3IuYWRkKGJvZHlBLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gY29uc3RyYWludC5wb2ludEE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci50eXBlID09PSAncGluJykge1xuICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5hcmMoc3RhcnQueCwgc3RhcnQueSwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChib2R5Qikge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50Qik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY29uc3RyYWludC5wb2ludEI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci50eXBlID09PSAnc3ByaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKGVuZCwgc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLnBlcnAoVmVjdG9yLm5vcm1hbGlzZShkZWx0YSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29pbHMgPSBNYXRoLmNlaWwoQ29tbW9uLmNsYW1wKGNvbnN0cmFpbnQubGVuZ3RoIC8gNSwgMTIsIDIwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBjb2lsczsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBqICUgMiA9PT0gMCA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQueCArIGRlbHRhLnggKiAoaiAvIGNvaWxzKSArIG5vcm1hbC54ICogb2Zmc2V0ICogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC55ICsgZGVsdGEueSAqIChqIC8gY29pbHMpICsgbm9ybWFsLnkgKiBvZmZzZXQgKiA0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5saW5lVG8oZW5kLngsIGVuZC55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQucmVuZGVyLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gY29uc3RyYWludC5yZW5kZXIubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSBjb25zdHJhaW50LnJlbmRlci5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICBjLnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uc3RyYWludC5yZW5kZXIuYW5jaG9ycykge1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gY29uc3RyYWludC5yZW5kZXIuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLmFyYyhzdGFydC54LCBzdGFydC55LCAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5hcmMoZW5kLngsIGVuZC55LCAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2RpZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0ludGVybmFsRWRnZXMgPSBvcHRpb25zLnNob3dJbnRlcm5hbEVkZ2VzIHx8ICFvcHRpb25zLndpcmVmcmFtZXMsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBmb3IgKGsgPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcblxuICAgICAgICAgICAgICAgIGlmICghcGFydC5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93U2xlZXBpbmcgJiYgYm9keS5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuZ2xvYmFsQWxwaGEgPSAwLjUgKiBwYXJ0LnJlbmRlci5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5yZW5kZXIub3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjLmdsb2JhbEFscGhhID0gcGFydC5yZW5kZXIub3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIuc3ByaXRlICYmIHBhcnQucmVuZGVyLnNwcml0ZS50ZXh0dXJlICYmICFvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydCBzcHJpdGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHBhcnQucmVuZGVyLnNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBfZ2V0VGV4dHVyZShyZW5kZXIsIHNwcml0ZS50ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zbGF0ZShwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgICAgIGMucm90YXRlKHBhcnQuYW5nbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGMuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUud2lkdGggKiAtc3ByaXRlLnhPZmZzZXQgKiBzcHJpdGUueFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgKiAtc3ByaXRlLnlPZmZzZXQgKiBzcHJpdGUueVNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS53aWR0aCAqIHNwcml0ZS54U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCAqIHNwcml0ZS55U2NhbGVcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnQgdHJhbnNsYXRpb24sIGhvcGVmdWxseSBmYXN0ZXIgdGhhbiBzYXZlIC8gcmVzdG9yZVxuICAgICAgICAgICAgICAgICAgICBjLnJvdGF0ZSgtcGFydC5hbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNsYXRlKC1wYXJ0LnBvc2l0aW9uLngsIC1wYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcnQgcG9seWdvblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jaXJjbGVSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmFyYyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSwgcGFydC5jaXJjbGVSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydC52ZXJ0aWNlc1tqIC0gMV0uaXNJbnRlcm5hbCB8fCBzaG93SW50ZXJuYWxFZGdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzW2pdLngsIHBhcnQudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS54LCBwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gcGFydC5yZW5kZXIuZmlsbFN0eWxlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lV2lkdGggPSBwYXJ0LnJlbmRlci5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9IHBhcnQucmVuZGVyLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGMuZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICcjYmJiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjLmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPcHRpbWlzZWQgbWV0aG9kIGZvciBkcmF3aW5nIGJvZHkgd2lyZWZyYW1lcyBpbiBvbmUgcGFzc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5V2lyZWZyYW1lc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlXaXJlZnJhbWVzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgc2hvd0ludGVybmFsRWRnZXMgPSByZW5kZXIub3B0aW9ucy5zaG93SW50ZXJuYWxFZGdlcyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGFsbCBib2RpZXNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgY29tcG91bmQgcGFydHNcbiAgICAgICAgICAgIGZvciAoayA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBrIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBib2R5LnBhcnRzW2tdO1xuXG4gICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IHBhcnQudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0LnZlcnRpY2VzW2ogLSAxXS5pc0ludGVybmFsIHx8IHNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzW2pdLngsIHBhcnQudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzW2pdLngsIHBhcnQudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC52ZXJ0aWNlc1tqXS5pc0ludGVybmFsICYmICFzaG93SW50ZXJuYWxFZGdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLngsIHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbMF0ueCwgcGFydC52ZXJ0aWNlc1swXS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2VTdHlsZSA9ICcjYmJiJztcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogT3B0aW1pc2VkIG1ldGhvZCBmb3IgZHJhd2luZyBib2R5IGNvbnZleCBodWxsIHdpcmVmcmFtZXMgaW4gb25lIHBhc3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keUNvbnZleEh1bGxzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keUNvbnZleEh1bGxzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgY29udmV4IGh1bGxzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSB8fCBib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS52ZXJ0aWNlc1swXS54LCBib2R5LnZlcnRpY2VzWzBdLnkpO1xuXG4gICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgYm9keS52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGMubGluZVRvKGJvZHkudmVydGljZXNbal0ueCwgYm9keS52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5saW5lVG8oYm9keS52ZXJ0aWNlc1swXS54LCBib2R5LnZlcnRpY2VzWzBdLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4yKSc7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYm9keSB2ZXJ0ZXggbnVtYmVycy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgdmVydGV4TnVtYmVyc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLnZlcnRleE51bWJlcnMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gYm9kaWVzW2ldLnBhcnRzO1xuICAgICAgICAgICAgZm9yIChrID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBrIDwgcGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2tdO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwYXJ0LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4yKSc7XG4gICAgICAgICAgICAgICAgICAgIGMuZmlsbFRleHQoaSArICdfJyArIGosIHBhcnQucG9zaXRpb24ueCArIChwYXJ0LnZlcnRpY2VzW2pdLnggLSBwYXJ0LnBvc2l0aW9uLngpICogMC44LCBwYXJ0LnBvc2l0aW9uLnkgKyAocGFydC52ZXJ0aWNlc1tqXS55IC0gcGFydC5wb3NpdGlvbi55KSAqIDAuOCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgbW91c2UgcG9zaXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIG1vdXNlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIubW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uKHJlbmRlciwgbW91c2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0O1xuICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuOCknO1xuICAgICAgICBjLmZpbGxUZXh0KG1vdXNlLnBvc2l0aW9uLnggKyAnICAnICsgbW91c2UucG9zaXRpb24ueSwgbW91c2UucG9zaXRpb24ueCArIDUsIG1vdXNlLnBvc2l0aW9uLnkgLSA1KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSBib3VuZHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keUJvdW5kc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlCb3VuZHMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5yZW5kZXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGJvZGllc1tpXS5wYXJ0cztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgYy5yZWN0KHBhcnQuYm91bmRzLm1pbi54LCBwYXJ0LmJvdW5kcy5taW4ueSwgcGFydC5ib3VuZHMubWF4LnggLSBwYXJ0LmJvdW5kcy5taW4ueCwgcGFydC5ib3VuZHMubWF4LnkgLSBwYXJ0LmJvdW5kcy5taW4ueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjEpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSBhbmdsZSBpbmRpY2F0b3JzIGFuZCBheGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlBeGVzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keUF4ZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIHBhcnRzID0gYm9keS5wYXJ0cztcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93QXhlcykge1xuICAgICAgICAgICAgICAgIC8vIHJlbmRlciBhbGwgYXhlc1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnQuYXhlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF4aXMgPSBwYXJ0LmF4ZXNba107XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnBvc2l0aW9uLnggKyBheGlzLnggKiAyMCwgcGFydC5wb3NpdGlvbi55ICsgYXhpcy55ICogMjApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwYXJ0LmF4ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlciBhIHNpbmdsZSBheGlzIGluZGljYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8oKHBhcnQudmVydGljZXNbMF0ueCArIHBhcnQudmVydGljZXNbcGFydC52ZXJ0aWNlcy5sZW5ndGgtMV0ueCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0LnZlcnRpY2VzWzBdLnkgKyBwYXJ0LnZlcnRpY2VzW3BhcnQudmVydGljZXMubGVuZ3RoLTFdLnkpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ2luZGlhbnJlZCc7XG4gICAgICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC40KSc7XG4gICAgICAgICAgICBjLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdvdmVybGF5JztcbiAgICAgICAgICAgIGMubGluZVdpZHRoID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSBwb3NpdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keVBvc2l0aW9uc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlQb3NpdGlvbnMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjdXJyZW50IHBvc2l0aW9uc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcbiAgICAgICAgICAgICAgICBjLmFyYyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSwgMywgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAnaW5kaWFucmVkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7XG4gICAgICAgIH1cbiAgICAgICAgYy5maWxsKCk7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgcHJldmlvdXMgcG9zaXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICBpZiAoYm9keS5yZW5kZXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGMuYXJjKGJvZHkucG9zaXRpb25QcmV2LngsIGJvZHkucG9zaXRpb25QcmV2LnksIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuOCknO1xuICAgICAgICBjLmZpbGwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSB2ZWxvY2l0eVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5VmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5VmVsb2NpdHkgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQ7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIHZlbG9jaXR5ID0gQm9keS5nZXRWZWxvY2l0eShib2R5KTtcblxuICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS5wb3NpdGlvbi54LCBib2R5LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keS5wb3NpdGlvbi54ICsgdmVsb2NpdHkueCwgYm9keS5wb3NpdGlvbi55ICsgdmVsb2NpdHkueSk7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDM7XG4gICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnY29ybmZsb3dlcmJsdWUnO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IGlkc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5SWRzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keUlkcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghYm9kaWVzW2ldLnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcGFydHMgPSBib2RpZXNbaV0ucGFydHM7XG4gICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgYy5mb250ID0gXCIxMnB4IEFyaWFsXCI7XG4gICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJztcbiAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KHBhcnQuaWQsIHBhcnQucG9zaXRpb24ueCArIDEwLCBwYXJ0LnBvc2l0aW9uLnkgLSAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgY29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuY29sbGlzaW9ucyA9IGZ1bmN0aW9uKHJlbmRlciwgcGFpcnMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGNvcnJlY3RlZCxcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjb2xsaXNpb24gcG9zaXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IHBhaXIuYWN0aXZlQ29udGFjdHNbal0sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRleCA9IGNvbnRhY3QudmVydGV4O1xuICAgICAgICAgICAgICAgIGMucmVjdCh2ZXJ0ZXgueCAtIDEuNSwgdmVydGV4LnkgLSAxLjUsIDMuNSwgMy41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC43KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIGMuZmlsbCgpO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGNvbGxpc2lvbiBub3JtYWxzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuXG4gICAgICAgICAgICBpZiAocGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbFBvc1ggPSBwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC54LFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NZID0gcGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueTtcblxuICAgICAgICAgICAgICAgIGlmIChwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NYID0gKHBhaXIuYWN0aXZlQ29udGFjdHNbMF0udmVydGV4LnggKyBwYWlyLmFjdGl2ZUNvbnRhY3RzWzFdLnZlcnRleC54KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1kgPSAocGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueSArIHBhaXIuYWN0aXZlQ29udGFjdHNbMV0udmVydGV4LnkpIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uLmJvZHlCID09PSBjb2xsaXNpb24uc3VwcG9ydHNbMF0uYm9keSB8fCBjb2xsaXNpb24uYm9keUEuaXNTdGF0aWMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8obm9ybWFsUG9zWCAtIGNvbGxpc2lvbi5ub3JtYWwueCAqIDgsIG5vcm1hbFBvc1kgLSBjb2xsaXNpb24ubm9ybWFsLnkgKiA4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhub3JtYWxQb3NYICsgY29sbGlzaW9uLm5vcm1hbC54ICogOCwgbm9ybWFsUG9zWSArIGNvbGxpc2lvbi5ub3JtYWwueSAqIDgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMubGluZVRvKG5vcm1hbFBvc1gsIG5vcm1hbFBvc1kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnb3JhbmdlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc2VwYXJhdGlvbnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLnNlcGFyYXRpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBwYWlycywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgY29ycmVjdGVkLFxuICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICBib2R5QixcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIHNlcGFyYXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24uYm9keUE7XG4gICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5QjtcblxuICAgICAgICAgICAgdmFyIGsgPSAxO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHlCLmlzU3RhdGljICYmICFib2R5QS5pc1N0YXRpYykgayA9IDAuNTtcbiAgICAgICAgICAgIGlmIChib2R5Qi5pc1N0YXRpYykgayA9IDA7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHlCLnBvc2l0aW9uLngsIGJvZHlCLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keUIucG9zaXRpb24ueCAtIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54ICogaywgYm9keUIucG9zaXRpb24ueSAtIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55ICogayk7XG5cbiAgICAgICAgICAgIGsgPSAxO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHlCLmlzU3RhdGljICYmICFib2R5QS5pc1N0YXRpYykgayA9IDAuNTtcbiAgICAgICAgICAgIGlmIChib2R5QS5pc1N0YXRpYykgayA9IDA7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHlBLnBvc2l0aW9uLngsIGJvZHlBLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keUEucG9zaXRpb24ueCArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54ICogaywgYm9keUEucG9zaXRpb24ueSArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55ICogayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuNSknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGluc3BlY3RvclxuICAgICAqIEBwYXJhbSB7aW5zcGVjdG9yfSBpbnNwZWN0b3JcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuaW5zcGVjdG9yID0gZnVuY3Rpb24oaW5zcGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSBpbnNwZWN0b3IuZW5naW5lLFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBpbnNwZWN0b3Iuc2VsZWN0ZWQsXG4gICAgICAgICAgICByZW5kZXIgPSBpbnNwZWN0b3IucmVuZGVyLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgYm91bmRzO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykge1xuICAgICAgICAgICAgdmFyIGJvdW5kc1dpZHRoID0gcmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngsXG4gICAgICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gcmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnksXG4gICAgICAgICAgICAgICAgYm91bmRzU2NhbGVYID0gYm91bmRzV2lkdGggLyByZW5kZXIub3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICBib3VuZHNTY2FsZVkgPSBib3VuZHNIZWlnaHQgLyByZW5kZXIub3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2NhbGUoMSAvIGJvdW5kc1NjYWxlWCwgMSAvIGJvdW5kc1NjYWxlWSk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtcmVuZGVyLmJvdW5kcy5taW4ueCwgLXJlbmRlci5ib3VuZHMubWluLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBzZWxlY3RlZFtpXS5kYXRhO1xuXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgwLjUsIDAuNSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuOSknO1xuICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChbMSwyXSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvZHknOlxuXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGJvZHkgc2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgIGJvdW5kcyA9IGl0ZW0uYm91bmRzO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KE1hdGguZmxvb3IoYm91bmRzLm1pbi54IC0gMyksIE1hdGguZmxvb3IoYm91bmRzLm1pbi55IC0gMyksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoYm91bmRzLm1heC54IC0gYm91bmRzLm1pbi54ICsgNiksIE1hdGguZmxvb3IoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55ICsgNikpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjb25zdHJhaW50JzpcblxuICAgICAgICAgICAgICAgIC8vIHJlbmRlciBjb25zdHJhaW50IHNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBpdGVtLnBvaW50QTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5ib2R5QSlcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSBpdGVtLnBvaW50QjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHBvaW50LngsIHBvaW50LnksIDEwLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChbXSk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtMC41LCAtMC41KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbmRlciBzZWxlY3Rpb24gcmVnaW9uXG4gICAgICAgIGlmIChpbnNwZWN0b3Iuc2VsZWN0U3RhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKDAuNSwgMC41KTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC42KSc7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjEpJztcbiAgICAgICAgICAgIGJvdW5kcyA9IGluc3BlY3Rvci5zZWxlY3RCb3VuZHM7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5yZWN0KE1hdGguZmxvb3IoYm91bmRzLm1pbi54KSwgTWF0aC5mbG9vcihib3VuZHMubWluLnkpLFxuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoYm91bmRzLm1heC54IC0gYm91bmRzLm1pbi54KSwgTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLSBib3VuZHMubWluLnkpKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtMC41LCAtMC41KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcylcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHJlbmRlciB0aW1pbmcuXG4gICAgICogQG1ldGhvZCBfdXBkYXRlVGltaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICB2YXIgX3VwZGF0ZVRpbWluZyA9IGZ1bmN0aW9uKHJlbmRlciwgdGltZSkge1xuICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIHRpbWluZyA9IHJlbmRlci50aW1pbmcsXG4gICAgICAgICAgICBoaXN0b3J5U2l6ZSA9IHRpbWluZy5oaXN0b3J5U2l6ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGVuZ2luZS50aW1pbmcudGltZXN0YW1wO1xuXG4gICAgICAgIHRpbWluZy5kZWx0YSA9IHRpbWUgLSB0aW1pbmcubGFzdFRpbWUgfHwgUmVuZGVyLl9nb29kRGVsdGE7XG4gICAgICAgIHRpbWluZy5sYXN0VGltZSA9IHRpbWU7XG5cbiAgICAgICAgdGltaW5nLnRpbWVzdGFtcEVsYXBzZWQgPSB0aW1lc3RhbXAgLSB0aW1pbmcubGFzdFRpbWVzdGFtcCB8fCAwO1xuICAgICAgICB0aW1pbmcubGFzdFRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcblxuICAgICAgICB0aW1pbmcuZGVsdGFIaXN0b3J5LnVuc2hpZnQodGltaW5nLmRlbHRhKTtcbiAgICAgICAgdGltaW5nLmRlbHRhSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcuZGVsdGFIaXN0b3J5Lmxlbmd0aCwgaGlzdG9yeVNpemUpO1xuXG4gICAgICAgIHRpbWluZy5lbmdpbmVEZWx0YUhpc3RvcnkudW5zaGlmdChlbmdpbmUudGltaW5nLmxhc3REZWx0YSk7XG4gICAgICAgIHRpbWluZy5lbmdpbmVEZWx0YUhpc3RvcnkubGVuZ3RoID0gTWF0aC5taW4odGltaW5nLmVuZ2luZURlbHRhSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcblxuICAgICAgICB0aW1pbmcudGltZXN0YW1wRWxhcHNlZEhpc3RvcnkudW5zaGlmdCh0aW1pbmcudGltZXN0YW1wRWxhcHNlZCk7XG4gICAgICAgIHRpbWluZy50aW1lc3RhbXBFbGFwc2VkSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcudGltZXN0YW1wRWxhcHNlZEhpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLmVuZ2luZUVsYXBzZWRIaXN0b3J5LnVuc2hpZnQoZW5naW5lLnRpbWluZy5sYXN0RWxhcHNlZCk7XG4gICAgICAgIHRpbWluZy5lbmdpbmVFbGFwc2VkSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcuZW5naW5lRWxhcHNlZEhpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLmVsYXBzZWRIaXN0b3J5LnVuc2hpZnQodGltaW5nLmxhc3RFbGFwc2VkKTtcbiAgICAgICAgdGltaW5nLmVsYXBzZWRIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy5lbGFwc2VkSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWVhbiB2YWx1ZSBvZiB0aGUgZ2l2ZW4gbnVtYmVycy5cbiAgICAgKiBAbWV0aG9kIF9tZWFuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBtZWFuIG9mIGdpdmVuIHZhbHVlc1xuICAgICAqL1xuICAgIHZhciBfbWVhbiA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB2YWx1ZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChyZXN1bHQgLyB2YWx1ZXMubGVuZ3RoKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVDYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSB3aWR0aFxuICAgICAqIEBwYXJhbSB7fSBoZWlnaHRcbiAgICAgKiBAcmV0dXJuIGNhbnZhc1xuICAgICAqL1xuICAgIHZhciBfY3JlYXRlQ2FudmFzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgICAgIGNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAbWV0aG9kIF9nZXRQaXhlbFJhdGlvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBpeGVsIHJhdGlvXG4gICAgICovXG4gICAgdmFyIF9nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgICBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgIGJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY29udGV4dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVQaXhlbFJhdGlvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZXF1ZXN0ZWQgdGV4dHVyZSAoYW4gSW1hZ2UpIHZpYSBpdHMgcGF0aFxuICAgICAqIEBtZXRob2QgX2dldFRleHR1cmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VQYXRoXG4gICAgICogQHJldHVybiB7SW1hZ2V9IHRleHR1cmVcbiAgICAgKi9cbiAgICB2YXIgX2dldFRleHR1cmUgPSBmdW5jdGlvbihyZW5kZXIsIGltYWdlUGF0aCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXTtcblxuICAgICAgICBpZiAoaW1hZ2UpXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG5cbiAgICAgICAgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVBhdGg7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBiYWNrZ3JvdW5kIHRvIHRoZSBjYW52YXMgdXNpbmcgQ1NTLlxuICAgICAqIEBtZXRob2QgYXBwbHlCYWNrZ3JvdW5kXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmRcbiAgICAgKi9cbiAgICB2YXIgX2FwcGx5QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHJlbmRlciwgYmFja2dyb3VuZCkge1xuICAgICAgICB2YXIgY3NzQmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG5cbiAgICAgICAgaWYgKC8oanBnfGdpZnxwbmcpJC8udGVzdChiYWNrZ3JvdW5kKSlcbiAgICAgICAgICAgIGNzc0JhY2tncm91bmQgPSAndXJsKCcgKyBiYWNrZ3JvdW5kICsgJyknO1xuXG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IGNzc0JhY2tncm91bmQ7XG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvbnRhaW5cIjtcbiAgICAgICAgcmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVSZW5kZXJcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclJlbmRlclxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiYWNrLXJlZmVyZW5jZSB0byB0aGUgYE1hdHRlci5SZW5kZXJgIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHByb3BlcnR5IGNvbnRyb2xsZXJcbiAgICAgKiBAdHlwZSByZW5kZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgTWF0dGVyLkVuZ2luZWAgaW5zdGFuY2UgdG8gYmUgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmdpbmVcbiAgICAgKiBAdHlwZSBlbmdpbmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IHdoZXJlIHRoZSBjYW52YXMgaXMgdG8gYmUgaW5zZXJ0ZWQgKGlmIGByZW5kZXIuY2FudmFzYCBoYXMgbm90IGJlZW4gc3BlY2lmaWVkKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGVsZW1lbnRcbiAgICAgKiBAdHlwZSBIVE1MRWxlbWVudFxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0byByZW5kZXIgdG8uIElmIG5vdCBzcGVjaWZpZWQsIG9uZSB3aWxsIGJlIGNyZWF0ZWQgaWYgYHJlbmRlci5lbGVtZW50YCBoYXMgYmVlbiBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY2FudmFzXG4gICAgICogQHR5cGUgSFRNTENhbnZhc0VsZW1lbnRcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBCb3VuZHNgIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgZHJhd2luZyB2aWV3IHJlZ2lvbi5cbiAgICAgKiBSZW5kZXJpbmcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHRyYW5zZm9ybWVkIGFuZCBzY2FsZWQgdG8gZml0IHdpdGhpbiB0aGUgY2FudmFzIHNpemUgKGByZW5kZXIub3B0aW9ucy53aWR0aGAgYW5kIGByZW5kZXIub3B0aW9ucy5oZWlnaHRgKS5cbiAgICAgKiBUaGlzIGFsbG93cyBmb3IgY3JlYXRpbmcgdmlld3MgdGhhdCBjYW4gcGFuIG9yIHpvb20gYXJvdW5kIHRoZSBzY2VuZS5cbiAgICAgKiBZb3UgbXVzdCBhbHNvIHNldCBgcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzYCB0byBgdHJ1ZWAgdG8gZW5hYmxlIGJvdW5kZWQgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvdW5kc1xuICAgICAqIEB0eXBlIGJvdW5kc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIDJkIHJlbmRlcmluZyBjb250ZXh0IGZyb20gdGhlIGByZW5kZXIuY2FudmFzYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbnRleHRcbiAgICAgKiBAdHlwZSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzcHJpdGUgdGV4dHVyZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0ZXh0dXJlc1xuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW91c2UgdG8gcmVuZGVyIGlmIGByZW5kZXIub3B0aW9ucy5zaG93TW91c2VQb3NpdGlvbmAgaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBtb3VzZVxuICAgICAqIEB0eXBlIG1vdXNlXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9uc1xuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHdpZHRoIGluIHBpeGVscyBvZiB0aGUgYHJlbmRlci5jYW52YXNgIHRvIGJlIGNyZWF0ZWQuXG4gICAgICogU2VlIGFsc28gdGhlIGBvcHRpb25zLnBpeGVsUmF0aW9gIHByb3BlcnR5IHRvIGNoYW5nZSByZW5kZXIgcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLndpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIGByZW5kZXIuY2FudmFzYCB0byBiZSBjcmVhdGVkLlxuICAgICAqIFNlZSBhbHNvIHRoZSBgb3B0aW9ucy5waXhlbFJhdGlvYCBwcm9wZXJ0eSB0byBjaGFuZ2UgcmVuZGVyIHF1YWxpdHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5oZWlnaHRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBbcGl4ZWwgcmF0aW9dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvZGV2aWNlUGl4ZWxSYXRpbykgdG8gdXNlIHdoZW4gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgQ1NTIGJhY2tncm91bmQgY29sb3Igc3RyaW5nIHRvIHVzZSB3aGVuIGByZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzYCBpcyBkaXNhYmxlZC5cbiAgICAgKiBUaGlzIG1heSBiZSBhbHNvIHNldCB0byBgJ3RyYW5zcGFyZW50J2Agb3IgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmJhY2tncm91bmRcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnIzE0MTUxZidcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgQ1NTIGJhY2tncm91bmQgY29sb3Igc3RyaW5nIHRvIHVzZSB3aGVuIGByZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzYCBpcyBlbmFibGVkLlxuICAgICAqIFRoaXMgbWF5IGJlIGFsc28gc2V0IHRvIGAndHJhbnNwYXJlbnQnYCBvciBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMud2lyZWZyYW1lQmFja2dyb3VuZFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICcjMTQxNTFmJ1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIGlmIGByZW5kZXIuYm91bmRzYCBzaG91bGQgYmUgdXNlZCB3aGVuIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmhhc0JvdW5kc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIGFsbCBkZWJ1ZyBpbmZvcm1hdGlvbiBvdmVybGF5cyB0b2dldGhlci4gIFxuICAgICAqIFRoaXMgaW5jbHVkZXMgYW5kIGhhcyBwcmlvcml0eSBvdmVyIHRoZSB2YWx1ZXMgb2Y6XG4gICAgICpcbiAgICAgKiAtIGByZW5kZXIub3B0aW9ucy5zaG93U3RhdHNgXG4gICAgICogLSBgcmVuZGVyLm9wdGlvbnMuc2hvd1BlcmZvcm1hbmNlYFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0RlYnVnXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGVuZ2luZSBzdGF0cyBpbmZvIG92ZXJsYXkuICBcbiAgICAgKiBGcm9tIGxlZnQgdG8gcmlnaHQsIHRoZSB2YWx1ZXMgc2hvd24gYXJlOlxuICAgICAqXG4gICAgICogLSBib2R5IHBhcnRzIHRvdGFsXG4gICAgICogLSBib2R5IHRvdGFsXG4gICAgICogLSBjb25zdHJhaW50cyB0b3RhbFxuICAgICAqIC0gY29tcG9zaXRlcyB0b3RhbFxuICAgICAqIC0gY29sbGlzaW9uIHBhaXJzIHRvdGFsXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93U3RhdHNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSBwZXJmb3JtYW5jZSBjaGFydHMuICBcbiAgICAgKiBGcm9tIGxlZnQgdG8gcmlnaHQsIHRoZSB2YWx1ZXMgc2hvd24gYXJlOlxuICAgICAqXG4gICAgICogLSBhdmVyYWdlIHJlbmRlciBmcmVxdWVuY3kgKGUuZy4gNjAgZnBzKVxuICAgICAqIC0gZXhhY3QgZW5naW5lIGRlbHRhIHRpbWUgdXNlZCBmb3IgbGFzdCB1cGRhdGUgKGUuZy4gMTYuNjZtcylcbiAgICAgKiAtIGF2ZXJhZ2UgZW5naW5lIGV4ZWN1dGlvbiBkdXJhdGlvbiAoZS5nLiA1LjAwbXMpXG4gICAgICogLSBhdmVyYWdlIHJlbmRlciBleGVjdXRpb24gZHVyYXRpb24gKGUuZy4gMC40MG1zKVxuICAgICAqIC0gYXZlcmFnZSBlZmZlY3RpdmUgcGxheSBzcGVlZCAoZS5nLiAnMS4wMHgnIGlzICdyZWFsLXRpbWUnKVxuICAgICAqXG4gICAgICogRWFjaCB2YWx1ZSBpcyByZWNvcmRlZCBvdmVyIGEgZml4ZWQgc2FtcGxlIG9mIHBhc3QgZnJhbWVzICg2MCBmcmFtZXMpLlxuICAgICAqXG4gICAgICogQSBjaGFydCBzaG93biBiZWxvdyBlYWNoIHZhbHVlIGluZGljYXRlcyB0aGUgdmFyaWFuY2UgZnJvbSB0aGUgYXZlcmFnZSBvdmVyIHRoZSBzYW1wbGUuXG4gICAgICogVGhlIG1vcmUgc3RhYmxlIG9yIGZpeGVkIHRoZSB2YWx1ZSBpcyB0aGUgZmxhdHRlciB0aGUgY2hhcnQgd2lsbCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93UGVyZm9ybWFuY2VcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBcbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgcmVuZGVyaW5nIGVudGlyZWx5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuZW5hYmxlZFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIHRvZ2dsZSB3aXJlZnJhbWUgcmVuZGVyaW5nIG90aGVyd2lzZSBzb2xpZCBmaWxsIHJlbmRlcmluZyBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMud2lyZWZyYW1lc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgc2xlZXBpbmcgYm9kaWVzIGluZGljYXRvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93U2xlZXBpbmdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBkZWJ1ZyBpbmZvcm1hdGlvbiBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0RlYnVnXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGNvbGxpc2lvbiBicm9hZHBoYXNlIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBubyBsb25nZXIgaW1wbGVtZW50ZWRcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93QnJvYWRwaGFzZVxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGJvdW5kcyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0JvdW5kc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IHZlbG9jaXR5IGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93VmVsb2NpdHlcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBjb2xsaXNpb25zIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93Q29sbGlzaW9uc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBjb2xsaXNpb24gcmVzb2x2ZXIgc2VwYXJhdGlvbnMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dTZXBhcmF0aW9uc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGF4ZXMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dBeGVzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgcG9zaXRpb25zIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93UG9zaXRpb25zXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgYW5nbGUgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dBbmdsZUluZGljYXRvclxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGFuZCBwYXJ0IGlkcyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0lkc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IHZlcnRleCBudW1iZXJzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93VmVydGV4TnVtYmVyc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGNvbnZleCBodWxscyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0NvbnZleEh1bGxzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgaW50ZXJuYWwgZWRnZXMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dJbnRlcm5hbEVkZ2VzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIG1vdXNlIHBvc2l0aW9uIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93TW91c2VQb3NpdGlvblxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlJ1bm5lcmAgbW9kdWxlIGlzIGFuIG9wdGlvbmFsIHV0aWxpdHkgd2hpY2ggcHJvdmlkZXMgYSBnYW1lIGxvb3AsIFxuKiB0aGF0IGhhbmRsZXMgY29udGludW91c2x5IHVwZGF0aW5nIGEgYE1hdHRlci5FbmdpbmVgIGZvciB5b3Ugd2l0aGluIGEgYnJvd3Nlci5cbiogSXQgaXMgaW50ZW5kZWQgZm9yIGRldmVsb3BtZW50IGFuZCBkZWJ1Z2dpbmcgcHVycG9zZXMsIGJ1dCBtYXkgYWxzbyBiZSBzdWl0YWJsZSBmb3Igc2ltcGxlIGdhbWVzLlxuKiBJZiB5b3UgYXJlIHVzaW5nIHlvdXIgb3duIGdhbWUgbG9vcCBpbnN0ZWFkLCB0aGVuIHlvdSBkbyBub3QgbmVlZCB0aGUgYE1hdHRlci5SdW5uZXJgIG1vZHVsZS5cbiogSW5zdGVhZCBqdXN0IGNhbGwgYEVuZ2luZS51cGRhdGUoZW5naW5lLCBkZWx0YSlgIGluIHlvdXIgb3duIGxvb3AuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBSdW5uZXJcbiovXG5cbnZhciBSdW5uZXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBSdW5uZXI7XG5cbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIEVuZ2luZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgIFxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfVxuXG4gICAgaWYgKCFfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHZhciBfZnJhbWVUaW1lb3V0O1xuXG4gICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjayl7IFxuICAgICAgICAgICAgX2ZyYW1lVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKENvbW1vbi5ub3coKSk7IFxuICAgICAgICAgICAgfSwgMTAwMCAvIDYwKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfZnJhbWVUaW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFJ1bm5lci4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqL1xuICAgIFJ1bm5lci5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGZwczogNjAsXG4gICAgICAgICAgICBkZWx0YVNhbXBsZVNpemU6IDYwLFxuICAgICAgICAgICAgY291bnRlclRpbWVzdGFtcDogMCxcbiAgICAgICAgICAgIGZyYW1lQ291bnRlcjogMCxcbiAgICAgICAgICAgIGRlbHRhSGlzdG9yeTogW10sXG4gICAgICAgICAgICB0aW1lUHJldjogbnVsbCxcbiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLFxuICAgICAgICAgICAgaXNGaXhlZDogZmFsc2UsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJ1bm5lciA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJ1bm5lci5kZWx0YSA9IHJ1bm5lci5kZWx0YSB8fCAxMDAwIC8gcnVubmVyLmZwcztcbiAgICAgICAgcnVubmVyLmRlbHRhTWluID0gcnVubmVyLmRlbHRhTWluIHx8IDEwMDAgLyBydW5uZXIuZnBzO1xuICAgICAgICBydW5uZXIuZGVsdGFNYXggPSBydW5uZXIuZGVsdGFNYXggfHwgMTAwMCAvIChydW5uZXIuZnBzICogMC41KTtcbiAgICAgICAgcnVubmVyLmZwcyA9IDEwMDAgLyBydW5uZXIuZGVsdGE7XG5cbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IHRpY2tzIGEgYE1hdHRlci5FbmdpbmVgIGJ5IGNhbGxpbmcgYFJ1bm5lci50aWNrYCBvbiB0aGUgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgZXZlbnQuXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgUnVubmVyLnJ1biA9IGZ1bmN0aW9uKHJ1bm5lciwgZW5naW5lKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBydW5uZXIgaWYgZW5naW5lIGlzIGZpcnN0IGFyZ3VtZW50XG4gICAgICAgIGlmICh0eXBlb2YgcnVubmVyLnBvc2l0aW9uSXRlcmF0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGVuZ2luZSA9IHJ1bm5lcjtcbiAgICAgICAgICAgIHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIChmdW5jdGlvbiBydW4odGltZSl7XG4gICAgICAgICAgICBydW5uZXIuZnJhbWVSZXF1ZXN0SWQgPSBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJ1bik7XG5cbiAgICAgICAgICAgIGlmICh0aW1lICYmIHJ1bm5lci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgUnVubmVyLnRpY2socnVubmVyLCBlbmdpbmUsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZ2FtZSBsb29wIHV0aWxpdHkgdGhhdCB1cGRhdGVzIHRoZSBlbmdpbmUgYW5kIHJlbmRlcmVyIGJ5IG9uZSBzdGVwIChhICd0aWNrJykuXG4gICAgICogRmVhdHVyZXMgZGVsdGEgc21vb3RoaW5nLCB0aW1lIGNvcnJlY3Rpb24gYW5kIGZpeGVkIG9yIGR5bmFtaWMgdGltaW5nLlxuICAgICAqIENvbnNpZGVyIGp1c3QgYEVuZ2luZS51cGRhdGUoZW5naW5lLCBkZWx0YSlgIGlmIHlvdSdyZSB1c2luZyB5b3VyIG93biBsb29wLlxuICAgICAqIEBtZXRob2QgdGlja1xuICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXJcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICBSdW5uZXIudGljayA9IGZ1bmN0aW9uKHJ1bm5lciwgZW5naW5lLCB0aW1lKSB7XG4gICAgICAgIHZhciB0aW1pbmcgPSBlbmdpbmUudGltaW5nLFxuICAgICAgICAgICAgZGVsdGE7XG5cbiAgICAgICAgaWYgKHJ1bm5lci5pc0ZpeGVkKSB7XG4gICAgICAgICAgICAvLyBmaXhlZCB0aW1lc3RlcFxuICAgICAgICAgICAgZGVsdGEgPSBydW5uZXIuZGVsdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkeW5hbWljIHRpbWVzdGVwIGJhc2VkIG9uIHdhbGwgY2xvY2sgYmV0d2VlbiBjYWxsc1xuICAgICAgICAgICAgZGVsdGEgPSAodGltZSAtIHJ1bm5lci50aW1lUHJldikgfHwgcnVubmVyLmRlbHRhO1xuICAgICAgICAgICAgcnVubmVyLnRpbWVQcmV2ID0gdGltZTtcblxuICAgICAgICAgICAgLy8gb3B0aW1pc3RpY2FsbHkgZmlsdGVyIGRlbHRhIG92ZXIgYSBmZXcgZnJhbWVzLCB0byBpbXByb3ZlIHN0YWJpbGl0eVxuICAgICAgICAgICAgcnVubmVyLmRlbHRhSGlzdG9yeS5wdXNoKGRlbHRhKTtcbiAgICAgICAgICAgIHJ1bm5lci5kZWx0YUhpc3RvcnkgPSBydW5uZXIuZGVsdGFIaXN0b3J5LnNsaWNlKC1ydW5uZXIuZGVsdGFTYW1wbGVTaXplKTtcbiAgICAgICAgICAgIGRlbHRhID0gTWF0aC5taW4uYXBwbHkobnVsbCwgcnVubmVyLmRlbHRhSGlzdG9yeSk7XG5cbiAgICAgICAgICAgIC8vIGxpbWl0IGRlbHRhXG4gICAgICAgICAgICBkZWx0YSA9IGRlbHRhIDwgcnVubmVyLmRlbHRhTWluID8gcnVubmVyLmRlbHRhTWluIDogZGVsdGE7XG4gICAgICAgICAgICBkZWx0YSA9IGRlbHRhID4gcnVubmVyLmRlbHRhTWF4ID8gcnVubmVyLmRlbHRhTWF4IDogZGVsdGE7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBlbmdpbmUgdGltaW5nIG9iamVjdFxuICAgICAgICAgICAgcnVubmVyLmRlbHRhID0gZGVsdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgYW4gZXZlbnQgb2JqZWN0XG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcFxuICAgICAgICB9O1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVRpY2snLCBldmVudCk7XG5cbiAgICAgICAgLy8gZnBzIGNvdW50ZXJcbiAgICAgICAgcnVubmVyLmZyYW1lQ291bnRlciArPSAxO1xuICAgICAgICBpZiAodGltZSAtIHJ1bm5lci5jb3VudGVyVGltZXN0YW1wID49IDEwMDApIHtcbiAgICAgICAgICAgIHJ1bm5lci5mcHMgPSBydW5uZXIuZnJhbWVDb3VudGVyICogKCh0aW1lIC0gcnVubmVyLmNvdW50ZXJUaW1lc3RhbXApIC8gMTAwMCk7XG4gICAgICAgICAgICBydW5uZXIuY291bnRlclRpbWVzdGFtcCA9IHRpbWU7XG4gICAgICAgICAgICBydW5uZXIuZnJhbWVDb3VudGVyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ3RpY2snLCBldmVudCk7XG5cbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVVwZGF0ZScsIGV2ZW50KTtcblxuICAgICAgICBFbmdpbmUudXBkYXRlKGVuZ2luZSwgZGVsdGEpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2FmdGVyVGljaycsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5kcyBleGVjdXRpb24gb2YgYFJ1bm5lci5ydW5gIG9uIHRoZSBnaXZlbiBgcnVubmVyYCwgYnkgY2FuY2VsaW5nIHRoZSBhbmltYXRpb24gZnJhbWUgcmVxdWVzdCBldmVudCBsb29wLlxuICAgICAqIElmIHlvdSB3aXNoIHRvIG9ubHkgdGVtcG9yYXJpbHkgcGF1c2UgdGhlIGVuZ2luZSwgc2VlIGBlbmdpbmUuZW5hYmxlZGAgaW5zdGVhZC5cbiAgICAgKiBAbWV0aG9kIHN0b3BcbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICovXG4gICAgUnVubmVyLnN0b3AgPSBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bm5lci5mcmFtZVJlcXVlc3RJZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgUnVubmVyLnJ1bmAuXG4gICAgICogQG1ldGhvZCBzdGFydFxuICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXJcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgUnVubmVyLnN0YXJ0ID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUpIHtcbiAgICAgICAgUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGF0IHRoZSBzdGFydCBvZiBhIHRpY2ssIGJlZm9yZSBhbnkgdXBkYXRlcyB0byB0aGUgZW5naW5lIG9yIHRpbWluZ1xuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVUaWNrXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciBlbmdpbmUgdGltaW5nIHVwZGF0ZWQsIGJ1dCBqdXN0IGJlZm9yZSB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgdGlja1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYXQgdGhlIGVuZCBvZiBhIHRpY2ssIGFmdGVyIGVuZ2luZSB1cGRhdGUgYW5kIGFmdGVyIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclRpY2tcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGJlZm9yZSB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlVXBkYXRlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgYWZ0ZXJVcGRhdGVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBydW5uZXIgaXMgcnVubmluZyBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZW5hYmxlZFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBCb29sZWFuYCB0aGF0IHNwZWNpZmllcyBpZiB0aGUgcnVubmVyIHNob3VsZCB1c2UgYSBmaXhlZCB0aW1lc3RlcCAob3RoZXJ3aXNlIGl0IGlzIHZhcmlhYmxlKS5cbiAgICAgKiBJZiB0aW1pbmcgaXMgZml4ZWQsIHRoZW4gdGhlIGFwcGFyZW50IHNpbXVsYXRpb24gc3BlZWQgd2lsbCBjaGFuZ2UgZGVwZW5kaW5nIG9uIHRoZSBmcmFtZSByYXRlIChidXQgYmVoYXZpb3VyIHdpbGwgYmUgZGV0ZXJtaW5pc3RpYykuXG4gICAgICogSWYgdGhlIHRpbWluZyBpcyB2YXJpYWJsZSwgdGhlbiB0aGUgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZCB3aWxsIGJlIGNvbnN0YW50IChhcHByb3hpbWF0ZWx5LCBidXQgYXQgdGhlIGNvc3Qgb2YgZGV0ZXJtaW5pbmlzbSkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaXNGaXhlZFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgdGltZSBzdGVwIGJldHdlZW4gdXBkYXRlcyBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogSWYgYGVuZ2luZS50aW1pbmcuaXNGaXhlZGAgaXMgc2V0IHRvIGB0cnVlYCwgdGhlbiBgZGVsdGFgIGlzIGZpeGVkLlxuICAgICAqIElmIGl0IGlzIGBmYWxzZWAsIHRoZW4gYGRlbHRhYCBjYW4gZHluYW1pY2FsbHkgY2hhbmdlIHRvIG1haW50YWluIHRoZSBjb3JyZWN0IGFwcGFyZW50IHNpbXVsYXRpb24gc3BlZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZGVsdGFcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxMDAwIC8gNjBcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGlzIG1vZHVsZSBoYXMgbm93IGJlZW4gcmVwbGFjZWQgYnkgYE1hdHRlci5Db2xsaXNpb25gLlxuKlxuKiBBbGwgdXNhZ2Ugc2hvdWxkIGJlIG1pZ3JhdGVkIHRvIGBNYXR0ZXIuQ29sbGlzaW9uYC5cbiogRm9yIGJhY2stY29tcGF0aWJpbGl0eSBwdXJwb3NlcyB0aGlzIG1vZHVsZSB3aWxsIHJlbWFpbiBmb3IgYSBzaG9ydCB0ZXJtIGFuZCB0aGVuIGxhdGVyIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cbipcbiogVGhlIGBNYXR0ZXIuU0FUYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIGNvbGxpc2lvbnMgdXNpbmcgdGhlIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtLlxuKlxuKiBAY2xhc3MgU0FUXG4qIEBkZXByZWNhdGVkXG4qL1xuXG52YXIgU0FUID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gU0FUO1xuXG52YXIgQ29sbGlzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGRlcHJlY2F0ZWQgPSBDb21tb24uZGVwcmVjYXRlZDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGNvbGxpc2lvbiBiZXR3ZWVuIHR3byBib2RpZXMgdXNpbmcgdGhlIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtLlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IENvbGxpc2lvbi5jb2xsaWRlc1xuICAgICAqIEBtZXRob2QgY29sbGlkZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QlxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAgICovXG4gICAgU0FULmNvbGxpZGVzID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKSB7XG4gICAgICAgIHJldHVybiBDb2xsaXNpb24uY29sbGlkZXMoYm9keUEsIGJvZHlCKTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChTQVQsICdjb2xsaWRlcycsICdTQVQuY29sbGlkZXMg4p6kIHJlcGxhY2VkIGJ5IENvbGxpc2lvbi5jb2xsaWRlcycpO1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlN2Z2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNvbnZlcnRpbmcgU1ZHIGltYWdlcyBpbnRvIGFuIGFycmF5IG9mIHZlY3RvciBwb2ludHMuXG4qXG4qIFRvIHVzZSB0aGlzIG1vZHVsZSB5b3UgYWxzbyBuZWVkIHRoZSBTVkdQYXRoU2VnIHBvbHlmaWxsOiBodHRwczovL2dpdGh1Yi5jb20vcHJvZ2Vycy9wYXRoc2VnXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBTdmdcbiovXG5cbnZhciBTdmcgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdmc7XG5cbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIFNWRyBwYXRoIGludG8gYW4gYXJyYXkgb2YgdmVjdG9yIHBvaW50cy5cbiAgICAgKiBJZiB0aGUgaW5wdXQgcGF0aCBmb3JtcyBhIGNvbmNhdmUgc2hhcGUsIHlvdSBtdXN0IGRlY29tcG9zZSB0aGUgcmVzdWx0IGludG8gY29udmV4IHBhcnRzIGJlZm9yZSB1c2UuXG4gICAgICogU2VlIGBCb2RpZXMuZnJvbVZlcnRpY2VzYCB3aGljaCBwcm92aWRlcyBzdXBwb3J0IGZvciB0aGlzLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBndWFyYW50ZWVkIHRvIHN1cHBvcnQgY29tcGxleCBwYXRocyAoc3VjaCBhcyB0aG9zZSB3aXRoIGhvbGVzKS5cbiAgICAgKiBZb3UgbXVzdCBsb2FkIHRoZSBgcGF0aHNlZy5qc2AgcG9seWZpbGwgb24gbmV3ZXIgYnJvd3NlcnMuXG4gICAgICogQG1ldGhvZCBwYXRoVG9WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7U1ZHUGF0aEVsZW1lbnR9IHBhdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZUxlbmd0aD0xNV1cbiAgICAgKiBAcmV0dXJuIHtWZWN0b3JbXX0gcG9pbnRzXG4gICAgICovXG4gICAgU3ZnLnBhdGhUb1ZlcnRpY2VzID0gZnVuY3Rpb24ocGF0aCwgc2FtcGxlTGVuZ3RoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhKCdTVkdQYXRoU2VnJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignU3ZnLnBhdGhUb1ZlcnRpY2VzOiBTVkdQYXRoU2VnIG5vdCBkZWZpbmVkLCBhIHBvbHlmaWxsIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dvdXQvc3ZnLnRvcG9seS5qcy9ibG9iL21hc3Rlci9zdmcudG9wb2x5LmpzXG4gICAgICAgIHZhciBpLCBpbCwgdG90YWwsIHBvaW50LCBzZWdtZW50LCBzZWdtZW50cywgXG4gICAgICAgICAgICBzZWdtZW50c1F1ZXVlLCBsYXN0U2VnbWVudCwgXG4gICAgICAgICAgICBsYXN0UG9pbnQsIHNlZ21lbnRJbmRleCwgcG9pbnRzID0gW10sXG4gICAgICAgICAgICBseCwgbHksIGxlbmd0aCA9IDAsIHggPSAwLCB5ID0gMDtcblxuICAgICAgICBzYW1wbGVMZW5ndGggPSBzYW1wbGVMZW5ndGggfHwgMTU7XG5cbiAgICAgICAgdmFyIGFkZFBvaW50ID0gZnVuY3Rpb24ocHgsIHB5LCBwYXRoU2VnVHlwZSkge1xuICAgICAgICAgICAgLy8gYWxsIG9kZC1udW1iZXJlZCBwYXRoIHR5cGVzIGFyZSByZWxhdGl2ZSBleGNlcHQgUEFUSFNFR19DTE9TRVBBVEggKDEpXG4gICAgICAgICAgICB2YXIgaXNSZWxhdGl2ZSA9IHBhdGhTZWdUeXBlICUgMiA9PT0gMSAmJiBwYXRoU2VnVHlwZSA+IDE7XG5cbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIGxhc3QgcG9pbnQgZG9lc24ndCBlcXVhbCB0aGUgY3VycmVudCBwb2ludCBhZGQgdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgIGlmICghbGFzdFBvaW50IHx8IHB4ICE9IGxhc3RQb2ludC54IHx8IHB5ICE9IGxhc3RQb2ludC55KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQb2ludCAmJiBpc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGx4ID0gbGFzdFBvaW50Lng7XG4gICAgICAgICAgICAgICAgICAgIGx5ID0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHggPSAwO1xuICAgICAgICAgICAgICAgICAgICBseSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBseCArIHB4LFxuICAgICAgICAgICAgICAgICAgICB5OiBseSArIHB5XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBsYXN0IHBvaW50XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVsYXRpdmUgfHwgIWxhc3RQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICB4ID0gbHggKyBweDtcbiAgICAgICAgICAgICAgICB5ID0gbHkgKyBweTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWRkU2VnbWVudFBvaW50ID0gZnVuY3Rpb24oc2VnbWVudCkge1xuICAgICAgICAgICAgdmFyIHNlZ1R5cGUgPSBzZWdtZW50LnBhdGhTZWdUeXBlQXNMZXR0ZXIudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgLy8gc2tpcCBwYXRoIGVuZHNcbiAgICAgICAgICAgIGlmIChzZWdUeXBlID09PSAnWicpIFxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gbWFwIHNlZ21lbnQgdG8geCBhbmQgeVxuICAgICAgICAgICAgc3dpdGNoIChzZWdUeXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICB4ID0gc2VnbWVudC54O1xuICAgICAgICAgICAgICAgIHkgPSBzZWdtZW50Lnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICB4ID0gc2VnbWVudC54O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgICAgICAgeSA9IHNlZ21lbnQueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkUG9pbnQoeCwgeSwgc2VnbWVudC5wYXRoU2VnVHlwZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZW5zdXJlIHBhdGggaXMgYWJzb2x1dGVcbiAgICAgICAgU3ZnLl9zdmdQYXRoVG9BYnNvbHV0ZShwYXRoKTtcblxuICAgICAgICAvLyBnZXQgdG90YWwgbGVuZ3RoXG4gICAgICAgIHRvdGFsID0gcGF0aC5nZXRUb3RhbExlbmd0aCgpO1xuXG4gICAgICAgIC8vIHF1ZXVlIHNlZ21lbnRzXG4gICAgICAgIHNlZ21lbnRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLnBhdGhTZWdMaXN0Lm51bWJlck9mSXRlbXM7IGkgKz0gMSlcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocGF0aC5wYXRoU2VnTGlzdC5nZXRJdGVtKGkpKTtcblxuICAgICAgICBzZWdtZW50c1F1ZXVlID0gc2VnbWVudHMuY29uY2F0KCk7XG5cbiAgICAgICAgLy8gc2FtcGxlIHRocm91Z2ggcGF0aFxuICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdG90YWwpIHtcbiAgICAgICAgICAgIC8vIGdldCBzZWdtZW50IGF0IHBvc2l0aW9uXG4gICAgICAgICAgICBzZWdtZW50SW5kZXggPSBwYXRoLmdldFBhdGhTZWdBdExlbmd0aChsZW5ndGgpO1xuICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRzW3NlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIC8vIG5ldyBzZWdtZW50XG4gICAgICAgICAgICBpZiAoc2VnbWVudCAhPSBsYXN0U2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzZWdtZW50c1F1ZXVlLmxlbmd0aCAmJiBzZWdtZW50c1F1ZXVlWzBdICE9IHNlZ21lbnQpXG4gICAgICAgICAgICAgICAgICAgIGFkZFNlZ21lbnRQb2ludChzZWdtZW50c1F1ZXVlLnNoaWZ0KCkpO1xuXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnQgPSBzZWdtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgcG9pbnRzIGluIGJldHdlZW4gd2hlbiBjdXJ2aW5nXG4gICAgICAgICAgICAvLyBUT0RPOiBhZGFwdGl2ZSBzYW1wbGluZ1xuICAgICAgICAgICAgc3dpdGNoIChzZWdtZW50LnBhdGhTZWdUeXBlQXNMZXR0ZXIudG9VcHBlckNhc2UoKSkge1xuXG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgICAgICAgIHBvaW50ID0gcGF0aC5nZXRQb2ludEF0TGVuZ3RoKGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYWRkUG9pbnQocG9pbnQueCwgcG9pbnQueSwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IGJ5IHNhbXBsZSB2YWx1ZVxuICAgICAgICAgICAgbGVuZ3RoICs9IHNhbXBsZUxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCByZW1haW5pbmcgc2VnbWVudHMgbm90IHBhc3NlZCBieSBzYW1wbGluZ1xuICAgICAgICBmb3IgKGkgPSAwLCBpbCA9IHNlZ21lbnRzUXVldWUubGVuZ3RoOyBpIDwgaWw7ICsraSlcbiAgICAgICAgICAgIGFkZFNlZ21lbnRQb2ludChzZWdtZW50c1F1ZXVlW2ldKTtcblxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH07XG5cbiAgICBTdmcuX3N2Z1BhdGhUb0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAvLyBodHRwOi8vcGhyb2d6Lm5ldC9jb252ZXJ0LXN2Zy1wYXRoLXRvLWFsbC1hYnNvbHV0ZS1jb21tYW5kc1xuICAgICAgICAvLyBDb3B5cmlnaHQgKGMpIEdhdmluIEtpc3RuZXJcbiAgICAgICAgLy8gaHR0cDovL3Bocm9nei5uZXQvanMvX1JldXNlTGljZW5zZS50eHRcbiAgICAgICAgLy8gTW9kaWZpY2F0aW9uczogdGlkeSBmb3JtYXR0aW5nIGFuZCBuYW1pbmdcbiAgICAgICAgdmFyIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHNlZ3MgPSBwYXRoLnBhdGhTZWdMaXN0LFxuICAgICAgICAgICAgeCA9IDAsIHkgPSAwLCBsZW4gPSBzZWdzLm51bWJlck9mSXRlbXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIHNlZyA9IHNlZ3MuZ2V0SXRlbShpKSxcbiAgICAgICAgICAgICAgICBzZWdUeXBlID0gc2VnLnBhdGhTZWdUeXBlQXNMZXR0ZXI7XG5cbiAgICAgICAgICAgIGlmICgvW01MSFZDU1FUQV0vLnRlc3Qoc2VnVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3gnIGluIHNlZykgeCA9IHNlZy54O1xuICAgICAgICAgICAgICAgIGlmICgneScgaW4gc2VnKSB5ID0gc2VnLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgneDEnIGluIHNlZykgeDEgPSB4ICsgc2VnLngxO1xuICAgICAgICAgICAgICAgIGlmICgneDInIGluIHNlZykgeDIgPSB4ICsgc2VnLngyO1xuICAgICAgICAgICAgICAgIGlmICgneTEnIGluIHNlZykgeTEgPSB5ICsgc2VnLnkxO1xuICAgICAgICAgICAgICAgIGlmICgneTInIGluIHNlZykgeTIgPSB5ICsgc2VnLnkyO1xuICAgICAgICAgICAgICAgIGlmICgneCcgaW4gc2VnKSB4ICs9IHNlZy54O1xuICAgICAgICAgICAgICAgIGlmICgneScgaW4gc2VnKSB5ICs9IHNlZy55O1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWdUeXBlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdNb3ZldG9BYnMoeCwgeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMoeCwgeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKHgpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMoeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMoeCwgeSwgeDEsIHkxLCB4MiwgeTIpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKHgsIHksIHgyLCB5MiksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdxJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzKHgsIHksIHgxLCB5MSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHgsIHkpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQXJjQWJzKHgsIHksIHNlZy5yMSwgc2VnLnIyLCBzZWcuYW5nbGUsIHNlZy5sYXJnZUFyY0ZsYWcsIHNlZy5zd2VlcEZsYWcpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHkwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlZ1R5cGUgPT0gJ00nIHx8IHNlZ1R5cGUgPT0gJ20nKSB7XG4gICAgICAgICAgICAgICAgeDAgPSB4O1xuICAgICAgICAgICAgICAgIHkwID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoaXMgbW9kdWxlIGhhcyBub3cgYmVlbiByZXBsYWNlZCBieSBgTWF0dGVyLkNvbXBvc2l0ZWAuXG4qXG4qIEFsbCB1c2FnZSBzaG91bGQgYmUgbWlncmF0ZWQgdG8gdGhlIGVxdWl2YWxlbnQgZnVuY3Rpb25zIGZvdW5kIG9uIGBNYXR0ZXIuQ29tcG9zaXRlYC5cbiogRm9yIGV4YW1wbGUgYFdvcmxkLmFkZCh3b3JsZCwgYm9keSlgIG5vdyBiZWNvbWVzIGBDb21wb3NpdGUuYWRkKHdvcmxkLCBib2R5KWAuXG4qXG4qIFRoZSBwcm9wZXJ0eSBgd29ybGQuZ3Jhdml0eWAgaGFzIGJlZW4gbW92ZWQgdG8gYGVuZ2luZS5ncmF2aXR5YC5cbipcbiogRm9yIGJhY2stY29tcGF0aWJpbGl0eSBwdXJwb3NlcyB0aGlzIG1vZHVsZSB3aWxsIHJlbWFpbiBhcyBhIGRpcmVjdCBhbGlhcyB0byBgTWF0dGVyLkNvbXBvc2l0ZWAgaW4gdGhlIHNob3J0IHRlcm0gZHVyaW5nIG1pZ3JhdGlvbi5cbiogRXZlbnR1YWxseSB0aGlzIGFsaWFzIG1vZHVsZSB3aWxsIGJlIG1hcmtlZCBhcyBkZXByZWNhdGVkIGFuZCB0aGVuIGxhdGVyIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cbipcbiogQGNsYXNzIFdvcmxkXG4qL1xuXG52YXIgV29ybGQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBXb3JsZDtcblxudmFyIENvbXBvc2l0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogU2VlIGFib3ZlLCBhbGlhc2VzIGZvciBiYWNrIGNvbXBhdGliaWxpdHkgb25seVxuICAgICAqL1xuICAgIFdvcmxkLmNyZWF0ZSA9IENvbXBvc2l0ZS5jcmVhdGU7XG4gICAgV29ybGQuYWRkID0gQ29tcG9zaXRlLmFkZDtcbiAgICBXb3JsZC5yZW1vdmUgPSBDb21wb3NpdGUucmVtb3ZlO1xuICAgIFdvcmxkLmNsZWFyID0gQ29tcG9zaXRlLmNsZWFyO1xuICAgIFdvcmxkLmFkZENvbXBvc2l0ZSA9IENvbXBvc2l0ZS5hZGRDb21wb3NpdGU7XG4gICAgV29ybGQuYWRkQm9keSA9IENvbXBvc2l0ZS5hZGRCb2R5O1xuICAgIFdvcmxkLmFkZENvbnN0cmFpbnQgPSBDb21wb3NpdGUuYWRkQ29uc3RyYWludDtcblxufSkoKTtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTsiLCJmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5TGlrZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlcywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjaywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsInZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZShcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiKTtcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHRvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2NyZWF0ZUNsYXNzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHtcbiAgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gdCkge1xuICAgIHZhciBlLFxuICAgICAgbixcbiAgICAgIGksXG4gICAgICB1LFxuICAgICAgYSA9IFtdLFxuICAgICAgZiA9ICEwLFxuICAgICAgbyA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7XG4gICAgICAgIGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjtcbiAgICAgICAgZiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApO1xuICAgIH0gY2F0Y2ggKHIpIHtcbiAgICAgIG8gPSAhMCwgbiA9IHI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZiAmJiBudWxsICE9IHRbXCJyZXR1cm5cIl0gJiYgKHUgPSB0W1wicmV0dXJuXCJdKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChvKSB0aHJvdyBuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXMuanNcIik7XG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiKTtcbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCIpO1xudmFyIG5vbkl0ZXJhYmxlUmVzdCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9zbGljZWRUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi90eXBlb2YuanNcIilbXCJkZWZhdWx0XCJdO1xuZnVuY3Rpb24gdG9QcmltaXRpdmUodCwgcikge1xuICBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDtcbiAgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gdG9QcmltaXRpdmUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKFwiLi90b1ByaW1pdGl2ZS5qc1wiKTtcbmZ1bmN0aW9uIHRvUHJvcGVydHlLZXkodCkge1xuICB2YXIgaSA9IHRvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IFN0cmluZyhpKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gdG9Qcm9wZXJ0eUtleSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF90eXBlb2Yobykge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykge1xuICAgIHJldHVybiB0eXBlb2YgbztcbiAgfSA6IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cyksIF90eXBlb2Yobyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgYXJyYXlMaWtlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIik7XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJleHBvcnQgbGV0IHggPSAwXG5leHBvcnQgbGV0IHkgPSAwXG5leHBvcnQgbGV0IHogPSAwXG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0UGVybWlzc2lvbigpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBSZXF1ZXN0IHBlcm1pc3Npb24gZm9yIGlPUyAxMysgZGV2aWNlc1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBEZXZpY2VNb3Rpb25FdmVudCAmJlxuICAgICAgICAgICAgdHlwZW9mIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9ICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGAke2Vycm9yfWA7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2Vtb3Rpb25cIiwgaGFuZGxlTW90aW9uKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTW90aW9uKGV2ZW50KSB7XG4gICAgLy8gYWRkIHNvbWUgZXh0cmEgd2VpZ2h0IHRvIHRoZSBhY2NlbGVyYXRpb24gYmVjYXVzZSBpdHMgaGFyZFxuICAgIC8vIHRvIG1vdmUgdGhlIHBob25lIGFzIGZvcmNlZnVsIGFzIGdyYXZpdHlcbiAgICB4ID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS54ICsgZXZlbnQuYWNjZWxlcmF0aW9uLnhcbiAgICB5ID0gKGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueSArIGV2ZW50LmFjY2VsZXJhdGlvbi55KSAqIC0xIC8vIGludmVydCB5IGF4aXNcbiAgICB6ID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56ICsgZXZlbnQuYWNjZWxlcmF0aW9uLnpcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldDJkR3Jhdml0eSgpIHtcbiAgICByZXR1cm4geyB4LCB5IH1cbn1cblxuLy8gYWRkIHdpbmRvdyBldmVudGxpc3RlbmVyIGZvciBrZXlkb3duXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG5mdW5jdGlvbiBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgIHkgPSA5LjhcbiAgICAgICAgeCA9IDBcbiAgICB9XG4gICAgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHkgPSAtOS44XG4gICAgICAgIHggPSAwXG4gICAgfVxuICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICB4ID0gLTkuOFxuICAgICAgICB5ID0gMFxuICAgIH1cbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgIHggPSA5LjhcbiAgICAgICAgeSA9IDBcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiMTQuNy43N1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQWJvcnRFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdBYm9ydEVycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hYm9ydC1lcnJvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgQUNUSVZFX0FVRElPX05PREVfU1RPUkUgPSBuZXcgV2Vha1NldCgpO1xuZXhwb3J0IGNvbnN0IEFVRElPX05PREVfQ09OTkVDVElPTlNfU1RPUkUgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IEFVRElPX05PREVfU1RPUkUgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IEFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjb25zdCBBVURJT19QQVJBTV9TVE9SRSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY29uc3QgQ09OVEVYVF9TVE9SRSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY29uc3QgRVZFTlRfTElTVEVORVJTID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjb25zdCBDWUNMRV9DT1VOVEVSUyA9IG5ldyBXZWFrTWFwKCk7XG4vLyBUaGlzIGNsdW5reSBuYW1lIGlzIGJvcnJvd2VkIGZyb20gdGhlIHNwZWMuIDotKVxuZXhwb3J0IGNvbnN0IE5PREVfTkFNRV9UT19QUk9DRVNTT1JfQ09OU1RSVUNUT1JfTUFQUyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY29uc3QgTk9ERV9UT19QUk9DRVNTT1JfTUFQUyA9IG5ldyBXZWFrTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCIsImNvbnN0IGhhbmRsZXIgPSB7XG4gICAgY29uc3RydWN0KCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzQ29uc3RydWN0aWJsZSA9IChjb25zdHJ1Y3RpYmxlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoY29uc3RydWN0aWJsZSwgaGFuZGxlcik7XG4gICAgICAgIG5ldyBwcm94eSgpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uXG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1jb25zdHJ1Y3RpYmxlLmpzLm1hcCIsIi8qXG4gKiBUaGlzIG1hc3NpdmUgcmVnZXggdHJpZXMgdG8gY292ZXIgYWxsIHRoZSBmb2xsb3dpbmcgY2FzZXMuXG4gKlxuICogaW1wb3J0ICcuL3BhdGgnO1xuICogaW1wb3J0IGRlZmF1bHRJbXBvcnQgZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCB7IG5hbWVkSW1wb3J0IH0gZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCB7IG5hbWVkSW1wb3J0IGFzIHJlbmFtZW5kSW1wb3J0IH0gZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCAqIGFzIG5hbWVzcGFjZUltcG9ydCBmcm9tICcuL3BhdGgnO1xuICogaW1wb3J0IGRlZmF1bHRJbXBvcnQsIHsgbmFtZWRJbXBvcnQgfSBmcm9tICcuL3BhdGgnO1xuICogaW1wb3J0IGRlZmF1bHRJbXBvcnQsIHsgbmFtZWRJbXBvcnQgYXMgcmVuYW1lbmRJbXBvcnQgfSBmcm9tICcuL3BhdGgnO1xuICogaW1wb3J0IGRlZmF1bHRJbXBvcnQsICogYXMgbmFtZXNwYWNlSW1wb3J0IGZyb20gJy4vcGF0aCc7XG4gKi9cbmNvbnN0IElNUE9SVF9TVEFURU1FTlRfUkVHRVggPSAvXmltcG9ydCg/Oig/OltcXHNdK1tcXHddK3woPzpbXFxzXStbXFx3XStbXFxzXSosKT9bXFxzXSpcXHtbXFxzXSpbXFx3XSsoPzpbXFxzXSthc1tcXHNdK1tcXHddKyk/KD86W1xcc10qLFtcXHNdKltcXHddKyg/OltcXHNdK2FzW1xcc10rW1xcd10rKT8pKltcXHNdKn18KD86W1xcc10rW1xcd10rW1xcc10qLCk/W1xcc10qXFwqW1xcc10rYXNbXFxzXStbXFx3XSspW1xcc10rZnJvbSk/KD86W1xcc10qKShcIihbXlwiXFxcXF18XFxcXC4pK1wifCcoW14nXFxcXF18XFxcXC4pKycpKD86W1xcc10qKTs/LzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTptYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBzcGxpdEltcG9ydFN0YXRlbWVudHMgPSAoc291cmNlLCB1cmwpID0+IHtcbiAgICBjb25zdCBpbXBvcnRTdGF0ZW1lbnRzID0gW107XG4gICAgbGV0IHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzID0gc291cmNlLnJlcGxhY2UoL15bXFxzXSsvLCAnJyk7XG4gICAgbGV0IHJlc3VsdCA9IHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzLm1hdGNoKElNUE9SVF9TVEFURU1FTlRfUkVHRVgpO1xuICAgIHdoaWxlIChyZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdW5yZXNvbHZlZFVybCA9IHJlc3VsdFsxXS5zbGljZSgxLCAtMSk7XG4gICAgICAgIGNvbnN0IGltcG9ydFN0YXRlbWVudFdpdGhSZXNvbHZlZFVybCA9IHJlc3VsdFswXVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXFxzXSspPzs/JC8sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UodW5yZXNvbHZlZFVybCwgbmV3IFVSTCh1bnJlc29sdmVkVXJsLCB1cmwpLnRvU3RyaW5nKCkpO1xuICAgICAgICBpbXBvcnRTdGF0ZW1lbnRzLnB1c2goaW1wb3J0U3RhdGVtZW50V2l0aFJlc29sdmVkVXJsKTtcbiAgICAgICAgc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHMgPSBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cy5zbGljZShyZXN1bHRbMF0ubGVuZ3RoKS5yZXBsYWNlKC9eW1xcc10rLywgJycpO1xuICAgICAgICByZXN1bHQgPSBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cy5tYXRjaChJTVBPUlRfU1RBVEVNRU5UX1JFR0VYKTtcbiAgICB9XG4gICAgcmV0dXJuIFtpbXBvcnRTdGF0ZW1lbnRzLmpvaW4oJzsnKSwgc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHNdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwbGl0LWltcG9ydC1zdGF0ZW1lbnRzLmpzLm1hcCIsImltcG9ydCB7IE5PREVfTkFNRV9UT19QUk9DRVNTT1JfQ09OU1RSVUNUT1JfTUFQUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgaXNDb25zdHJ1Y3RpYmxlIH0gZnJvbSAnLi4vaGVscGVycy9pcy1jb25zdHJ1Y3RpYmxlJztcbmltcG9ydCB7IHNwbGl0SW1wb3J0U3RhdGVtZW50cyB9IGZyb20gJy4uL2hlbHBlcnMvc3BsaXQtaW1wb3J0LXN0YXRlbWVudHMnO1xuY29uc3QgdmVyaWZ5UGFyYW1ldGVyRGVzY3JpcHRvcnMgPSAocGFyYW1ldGVyRGVzY3JpcHRvcnMpID0+IHtcbiAgICBpZiAocGFyYW1ldGVyRGVzY3JpcHRvcnMgIT09IHVuZGVmaW5lZCAmJiAhQXJyYXkuaXNBcnJheShwYXJhbWV0ZXJEZXNjcmlwdG9ycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlckRlc2NyaXB0b3JzIHByb3BlcnR5IG9mIGdpdmVuIHZhbHVlIGZvciBwcm9jZXNzb3JDdG9yIGlzIG5vdCBhbiBhcnJheS4nKTtcbiAgICB9XG59O1xuY29uc3QgdmVyaWZ5UHJvY2Vzc29yQ3RvciA9IChwcm9jZXNzb3JDdG9yKSA9PiB7XG4gICAgaWYgKCFpc0NvbnN0cnVjdGlibGUocHJvY2Vzc29yQ3RvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGdpdmVuIHZhbHVlIGZvciBwcm9jZXNzb3JDdG9yIHNob3VsZCBiZSBhIGNvbnN0cnVjdG9yLicpO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzc29yQ3Rvci5wcm90b3R5cGUgPT09IG51bGwgfHwgdHlwZW9mIHByb2Nlc3NvckN0b3IucHJvdG90eXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgZ2l2ZW4gdmFsdWUgZm9yIHByb2Nlc3NvckN0b3Igc2hvdWxkIGhhdmUgYSBwcm90b3R5cGUuJyk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVBZGRBdWRpb1dvcmtsZXRNb2R1bGUgPSAoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgZXZhbHVhdGVTb3VyY2UsIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lLCBmZXRjaFNvdXJjZSwgZ2V0TmF0aXZlQ29udGV4dCwgZ2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3Rvciwgb25nb2luZ1JlcXVlc3RzLCByZXNvbHZlZFJlcXVlc3RzLCB0ZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yUG9zdE1lc3NhZ2VTdXBwb3J0LCB3aW5kb3cpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHJldHVybiAoY29udGV4dCwgbW9kdWxlVVJMLCBvcHRpb25zID0geyBjcmVkZW50aWFsczogJ29taXQnIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRSZXF1ZXN0c09mQ29udGV4dCA9IHJlc29sdmVkUmVxdWVzdHMuZ2V0KGNvbnRleHQpO1xuICAgICAgICBpZiAocmVzb2x2ZWRSZXF1ZXN0c09mQ29udGV4dCAhPT0gdW5kZWZpbmVkICYmIHJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQuaGFzKG1vZHVsZVVSTCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQgPSBvbmdvaW5nUmVxdWVzdHMuZ2V0KGNvbnRleHQpO1xuICAgICAgICBpZiAob25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VPZk9uZ29pbmdSZXF1ZXN0ID0gb25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0LmdldChtb2R1bGVVUkwpO1xuICAgICAgICAgICAgaWYgKHByb21pc2VPZk9uZ29pbmdSZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZU9mT25nb2luZ1JlcXVlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgIC8vIEJ1ZyAjNTk6IFNhZmFyaSBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGF1ZGlvV29ya2xldCBwcm9wZXJ0eS5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5hdGl2ZUNvbnRleHQuYXVkaW9Xb3JrbGV0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gZmV0Y2hTb3VyY2UobW9kdWxlVVJMKVxuICAgICAgICAgICAgICAgIC50aGVuKChbc291cmNlLCBhYnNvbHV0ZVVybF0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbaW1wb3J0U3RhdGVtZW50cywgc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHNdID0gc3BsaXRJbXBvcnRTdGF0ZW1lbnRzKHNvdXJjZSwgYWJzb2x1dGVVcmwpO1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogVGhpcyBpcyB0aGUgdW5taW5pZmllZCB2ZXJzaW9uIG9mIHRoZSBjb2RlIHVzZWQgYmVsb3c6XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAgICAgICAqICR7IGltcG9ydFN0YXRlbWVudHMgfTtcbiAgICAgICAgICAgICAgICAgKiAoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgKiAgICAgKGFbYl0gPSBhW2JdIHx8IFsgXSkucHVzaChcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIChBdWRpb1dvcmtsZXRQcm9jZXNzb3IsIGdsb2JhbCwgcmVnaXN0ZXJQcm9jZXNzb3IsIHNhbXBsZVJhdGUsIHNlbGYsIHdpbmRvdykgPT4ge1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICR7IHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzIH1cbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgKiAgICAgKTtcbiAgICAgICAgICAgICAgICAgKiB9KSh3aW5kb3csICdfQVdHUycpO1xuICAgICAgICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkU291cmNlID0gYCR7aW1wb3J0U3RhdGVtZW50c307KChhLGIpPT57KGFbYl09YVtiXXx8W10pLnB1c2goKEF1ZGlvV29ya2xldFByb2Nlc3NvcixnbG9iYWwscmVnaXN0ZXJQcm9jZXNzb3Isc2FtcGxlUmF0ZSxzZWxmLHdpbmRvdyk9Pnske3NvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzfVxufSl9KSh3aW5kb3csJ19BV0dTJylgO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvIEV2YWx1YXRpbmcgdGhlIGdpdmVuIHNvdXJjZSBjb2RlIGlzIGEgcG9zc2libGUgc2VjdXJpdHkgcHJvYmxlbS5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZhbHVhdGVTb3VyY2Uod3JhcHBlZFNvdXJjZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBldmFsdWF0ZUF1ZGlvV29ya2xldEdsb2JhbFNjb3BlID0gd2luZG93Ll9BV0dTLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChldmFsdWF0ZUF1ZGlvV29ya2xldEdsb2JhbFNjb3BlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxODIgQ2hyb21lIGFuZCBFZGdlIGRvIHRocm93IGFuIGluc3RhbmNlIG9mIGEgU3ludGF4RXJyb3IgaW5zdGVhZCBvZiBhIERPTUV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKG5hdGl2ZUNvbnRleHQuY3VycmVudFRpbWUsIG5hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZSwgKCkgPT4gZXZhbHVhdGVBdWRpb1dvcmtsZXRHbG9iYWxTY29wZShjbGFzcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3Ige1xuICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgKG5hbWUsIHByb2Nlc3NvckN0b3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAgPSBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMuZ2V0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeVByb2Nlc3NvckN0b3IocHJvY2Vzc29yQ3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQYXJhbWV0ZXJEZXNjcmlwdG9ycyhwcm9jZXNzb3JDdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lVG9Qcm9jZXNzb3JDb25zdHJ1Y3Rvck1hcC5zZXQobmFtZSwgcHJvY2Vzc29yQ3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQcm9jZXNzb3JDdG9yKHByb2Nlc3NvckN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1ldGVyRGVzY3JpcHRvcnMocHJvY2Vzc29yQ3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMuc2V0KG5hdGl2ZUNvbnRleHQsIG5ldyBNYXAoW1tuYW1lLCBwcm9jZXNzb3JDdG9yXV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG5hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBmZXRjaFNvdXJjZShtb2R1bGVVUkwpLFxuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvV29ya2xldFByb2Nlc3NvclBvc3RNZXNzYWdlU3VwcG9ydCwgdGVzdEF1ZGlvV29ya2xldFByb2Nlc3NvclBvc3RNZXNzYWdlU3VwcG9ydCkpXG4gICAgICAgICAgICBdKS50aGVuKChbW3NvdXJjZSwgYWJzb2x1dGVVcmxdLCBpc1N1cHBvcnRpbmdQb3N0TWVzc2FnZV0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgY29uc3QgW2ltcG9ydFN0YXRlbWVudHMsIHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzXSA9IHNwbGl0SW1wb3J0U3RhdGVtZW50cyhzb3VyY2UsIGFic29sdXRlVXJsKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjMTc5OiBGaXJlZm94IGRvZXMgbm90IGFsbG93IHRvIHRyYW5zZmVyIGFueSBidWZmZXIgd2hpY2ggaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSBwcm9jZXNzKCkgbWV0aG9kIGFzIGFuIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhpcyBpcyB0aGUgdW5taW5pZmllZCB2ZXJzaW9uIG9mIHRoZSBjb2RlIHVzZWQgYmVsb3cuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAgICAgICAqIGNsYXNzIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICBfX2J1ZmZlcnMgPSBuZXcgV2Vha1NldCgpO1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSA9ICgocG9zdE1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICByZXR1cm4gKG1lc3NhZ2UsIHRyYW5zZmVyYWJsZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRUcmFuc2ZlcmFibGVzID0gKHRyYW5zZmVyYWJsZXMpXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZmVyYWJsZXMuZmlsdGVyKCh0cmFuc2ZlcmFibGUpID0+ICF0aGlzLl9fYnVmZmVycy5oYXModHJhbnNmZXJhYmxlKSlcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgIDogdHJhbnNmZXJhYmxlcztcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2UuY2FsbCh0aGlzLnBvcnQsIG1lc3NhZ2UsIGZpbHRlcmVkVHJhbnNmZXJhYmxlcyk7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICogICAgICAgICB9KSh0aGlzLnBvcnQucG9zdE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAqICAgICB9XG4gICAgICAgICAgICAgICAgICogfVxuICAgICAgICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoZWRBdWRpb1dvcmtsZXRQcm9jZXNzb3IgPSBpc1N1cHBvcnRpbmdQb3N0TWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICA/ICdBdWRpb1dvcmtsZXRQcm9jZXNzb3InXG4gICAgICAgICAgICAgICAgICAgIDogJ2NsYXNzIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtfX2I9bmV3IFdlYWtTZXQoKTtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7KHA9PnAucG9zdE1lc3NhZ2U9KHE9PihtLHQpPT5xLmNhbGwocCxtLHQ/dC5maWx0ZXIodT0+IXRoaXMuX19iLmhhcyh1KSk6dCkpKHAucG9zdE1lc3NhZ2UpKSh0aGlzLnBvcnQpfX0nO1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogQnVnICMxNzA6IENocm9tZSBhbmQgRWRnZSBkbyBjYWxsIHByb2Nlc3MoKSB3aXRoIGFuIGFycmF5IHdpdGggZW1wdHkgY2hhbm5lbERhdGEgZm9yIGVhY2ggaW5wdXQgaWYgbm8gaW5wdXQgaXMgY29ubmVjdGVkLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQnVnICMxNzk6IEZpcmVmb3ggZG9lcyBub3QgYWxsb3cgdG8gdHJhbnNmZXIgYW55IGJ1ZmZlciB3aGljaCBoYXMgYmVlbiBwYXNzZWQgdG8gdGhlIHByb2Nlc3MoKSBtZXRob2QgYXMgYW4gYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBCdWcgIzE5MDogU2FmYXJpIGRvZXNuJ3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBsb2FkaW5nIGFuIHVucGFyc2FibGUgbW9kdWxlLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhpcyBpcyB0aGUgdW5taW5pZmllZCB2ZXJzaW9uIG9mIHRoZSBjb2RlIHVzZWQgYmVsb3c6XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAgICAgICAqIGAkeyBpbXBvcnRTdGF0ZW1lbnRzIH07XG4gICAgICAgICAgICAgICAgICogKChBdWRpb1dvcmtsZXRQcm9jZXNzb3IsIHJlZ2lzdGVyUHJvY2Vzc29yKSA9PiB7JHsgc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHMgfVxuICAgICAgICAgICAgICAgICAqIH0pKFxuICAgICAgICAgICAgICAgICAqICAgICAke8KgcGF0Y2hlZEF1ZGlvV29ya2xldFByb2Nlc3NvciB9LFxuICAgICAgICAgICAgICAgICAqICAgICAobmFtZSwgcHJvY2Vzc29yQ3RvcikgPT4gcmVnaXN0ZXJQcm9jZXNzb3IobmFtZSwgY2xhc3MgZXh0ZW5kcyBwcm9jZXNzb3JDdG9yIHtcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICAgICAgX19jb2xsZWN0QnVmZmVycyA9IChhcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgIGFycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHRoaXMuX19idWZmZXJzLmFkZChlbGVtZW50LmJ1ZmZlcikpO1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICAgICAgcHJvY2VzcyAoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgaW5wdXRzLmZvckVhY2godGhpcy5fX2NvbGxlY3RCdWZmZXJzKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICBvdXRwdXRzLmZvckVhY2godGhpcy5fX2NvbGxlY3RCdWZmZXJzKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICB0aGlzLl9fY29sbGVjdEJ1ZmZlcnMoT2JqZWN0LnZhbHVlcyhwYXJhbWV0ZXJzKSk7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICByZXR1cm4gc3VwZXIucHJvY2VzcyhcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgKGlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5zb21lKChjaGFubmVsRGF0YSkgPT4gY2hhbm5lbERhdGEubGVuZ3RoID09PSAwKSkgPyBbIF0gOiBpbnB1dCksXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgIG91dHB1dHMsXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgIH0pXG4gICAgICAgICAgICAgICAgICogKTtcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIHJlZ2lzdGVyUHJvY2Vzc29yKGBfX3NhYyR7Y3VycmVudEluZGV4fWAsIGNsYXNzIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgIHByb2Nlc3MgKCkge1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAqICAgICB9XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiB9KWBcbiAgICAgICAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBtZW1iZXJEZWZpbml0aW9uID0gaXNTdXBwb3J0aW5nUG9zdE1lc3NhZ2UgPyAnJyA6ICdfX2MgPSAoYSkgPT4gYS5mb3JFYWNoKGU9PnRoaXMuX19iLmFkZChlLmJ1ZmZlcikpOyc7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyUmVnaXN0cmF0aW9uID0gaXNTdXBwb3J0aW5nUG9zdE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgICAgICA6ICdpLmZvckVhY2godGhpcy5fX2MpO28uZm9yRWFjaCh0aGlzLl9fYyk7dGhpcy5fX2MoT2JqZWN0LnZhbHVlcyhwKSk7JztcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkU291cmNlID0gYCR7aW1wb3J0U3RhdGVtZW50c307KChBdWRpb1dvcmtsZXRQcm9jZXNzb3IscmVnaXN0ZXJQcm9jZXNzb3IpPT57JHtzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50c31cbn0pKCR7cGF0Y2hlZEF1ZGlvV29ya2xldFByb2Nlc3Nvcn0sKG4scCk9PnJlZ2lzdGVyUHJvY2Vzc29yKG4sY2xhc3MgZXh0ZW5kcyBweyR7bWVtYmVyRGVmaW5pdGlvbn1wcm9jZXNzKGksbyxwKXske2J1ZmZlclJlZ2lzdHJhdGlvbn1yZXR1cm4gc3VwZXIucHJvY2VzcyhpLm1hcChqPT5qLnNvbWUoaz0+ay5sZW5ndGg9PT0wKT9bXTpqKSxvLHApfX0pKTtyZWdpc3RlclByb2Nlc3NvcignX19zYWMke2N1cnJlbnRJbmRleH0nLGNsYXNzIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3Byb2Nlc3MoKXtyZXR1cm4gITF9fSlgO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbd3JhcHBlZFNvdXJjZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgnIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnRleHQuYXVkaW9Xb3JrbGV0XG4gICAgICAgICAgICAgICAgICAgIC5hZGRNb2R1bGUodXJsLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVDb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTg2OiBDaHJvbWUgYW5kIEVkZ2UgZG8gbm90IGFsbG93IHRvIGNyZWF0ZSBhbiBBdWRpb1dvcmtsZXROb2RlIG9uIGEgY2xvc2VkIEF1ZGlvQ29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGdldE9yQ3JlYXRlQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQuYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZSh1cmwsIG9wdGlvbnMpLnRoZW4oKCkgPT4gYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKG5hdGl2ZUNvbnRleHRPckJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTkwOiBTYWZhcmkgZG9lc24ndCB0aHJvdyBhbiBlcnJvciB3aGVuIGxvYWRpbmcgYW4gdW5wYXJzYWJsZSBtb2R1bGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKG5hdGl2ZUNvbnRleHRPckJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQsIGBfX3NhYyR7Y3VycmVudEluZGV4fWApOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChvbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb25nb2luZ1JlcXVlc3RzLnNldChjb250ZXh0LCBuZXcgTWFwKFtbbW9kdWxlVVJMLCBwcm9taXNlXV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uZ29pbmdSZXF1ZXN0c09mQ29udGV4dC5zZXQobW9kdWxlVVJMLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUmVzb2x2ZWRSZXF1ZXN0c09mQ29udGV4dCA9IHJlc29sdmVkUmVxdWVzdHMuZ2V0KGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZWRSZXNvbHZlZFJlcXVlc3RzT2ZDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFJlcXVlc3RzLnNldChjb250ZXh0LCBuZXcgU2V0KFttb2R1bGVVUkxdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkUmVzb2x2ZWRSZXF1ZXN0c09mQ29udGV4dC5hZGQobW9kdWxlVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRPbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQgPSBvbmdvaW5nUmVxdWVzdHMuZ2V0KGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZWRPbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRPbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQuZGVsZXRlKG1vZHVsZVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1hdWRpby13b3JrbGV0LW1vZHVsZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgZ2V0VmFsdWVGb3JLZXkgPSAobWFwLCBrZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdmFsdWUgd2l0aCB0aGUgZ2l2ZW4ga2V5IGNvdWxkIG5vdCBiZSBmb3VuZC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC12YWx1ZS1mb3Ita2V5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBwaWNrRWxlbWVudEZyb21TZXQgPSAoc2V0LCBwcmVkaWNhdGUpID0+IHtcbiAgICBjb25zdCBtYXRjaGluZ0VsZW1lbnRzID0gQXJyYXkuZnJvbShzZXQpLmZpbHRlcihwcmVkaWNhdGUpO1xuICAgIGlmIChtYXRjaGluZ0VsZW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ01vcmUgdGhhbiBvbmUgZWxlbWVudCB3YXMgZm91bmQuJyk7XG4gICAgfVxuICAgIGlmIChtYXRjaGluZ0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignTm8gZWxlbWVudCB3YXMgZm91bmQuJyk7XG4gICAgfVxuICAgIGNvbnN0IFttYXRjaGluZ0VsZW1lbnRdID0gbWF0Y2hpbmdFbGVtZW50cztcbiAgICBzZXQuZGVsZXRlKG1hdGNoaW5nRWxlbWVudCk7XG4gICAgcmV0dXJuIG1hdGNoaW5nRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waWNrLWVsZW1lbnQtZnJvbS1zZXQuanMubWFwIiwiaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmltcG9ydCB7IHBpY2tFbGVtZW50RnJvbVNldCB9IGZyb20gJy4vcGljay1lbGVtZW50LWZyb20tc2V0JztcbmV4cG9ydCBjb25zdCBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSAocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgY29uc3QgcGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMgPSBnZXRWYWx1ZUZvcktleShwYXNzaXZlSW5wdXRzLCBzb3VyY2UpO1xuICAgIGNvbnN0IG1hdGNoaW5nQ29ubmVjdGlvbiA9IHBpY2tFbGVtZW50RnJvbVNldChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucywgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb24pID0+IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IG91dHB1dCAmJiBwYXNzaXZlSW5wdXRDb25uZWN0aW9uWzFdID09PSBpbnB1dCk7XG4gICAgaWYgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgICAgcGFzc2l2ZUlucHV0cy5kZWxldGUoc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoaW5nQ29ubmVjdGlvbjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGUtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgRVZFTlRfTElTVEVORVJTIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuZXhwb3J0IGNvbnN0IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIGdldFZhbHVlRm9yS2V5KEVWRU5UX0xJU1RFTkVSUywgYXVkaW9Ob2RlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgQUNUSVZFX0FVRElPX05PREVfU1RPUkUgfSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUgfSBmcm9tICcuL2dldC1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZSc7XG5leHBvcnQgY29uc3Qgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIGlmIChBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRS5oYXMoYXVkaW9Ob2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBBdWRpb05vZGUgaXMgYWxyZWFkeSBzdG9yZWQuJyk7XG4gICAgfVxuICAgIEFDVElWRV9BVURJT19OT0RFX1NUT1JFLmFkZChhdWRpb05vZGUpO1xuICAgIGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUoYXVkaW9Ob2RlKS5mb3JFYWNoKChldmVudExpc3RlbmVyKSA9PiBldmVudExpc3RlbmVyKHRydWUpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtaW50ZXJuYWwtc3RhdGUtdG8tYWN0aXZlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0F1ZGlvV29ya2xldE5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICdwb3J0JyBpbiBhdWRpb05vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8td29ya2xldC1ub2RlLmpzLm1hcCIsImltcG9ydCB7IEFDVElWRV9BVURJT19OT0RFX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlIH0gZnJvbSAnLi9nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUnO1xuZXhwb3J0IGNvbnN0IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgaWYgKCFBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRS5oYXMoYXVkaW9Ob2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBBdWRpb05vZGUgaXMgbm90IHN0b3JlZC4nKTtcbiAgICB9XG4gICAgQUNUSVZFX0FVRElPX05PREVfU1RPUkUuZGVsZXRlKGF1ZGlvTm9kZSk7XG4gICAgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZShhdWRpb05vZGUpLmZvckVhY2goKGV2ZW50TGlzdGVuZXIpID0+IGV2ZW50TGlzdGVuZXIoZmFsc2UpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0F1ZGlvV29ya2xldE5vZGUgfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8td29ya2xldC1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgfSBmcm9tICcuL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlJztcbi8vIFNldCB0aGUgaW50ZXJuYWxTdGF0ZSBvZiB0aGUgYXVkaW9Ob2RlIHRvICdwYXNzaXZlJyBpZiBpdCBpcyBub3QgYW4gQXVkaW9Xb3JrbGV0Tm9kZSBhbmQgaWYgaXQgaGFzIG5vICdhY3RpdmUnIGlucHV0IGNvbm5lY3Rpb25zLlxuZXhwb3J0IGNvbnN0IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5ID0gKGF1ZGlvTm9kZSwgYWN0aXZlSW5wdXRzKSA9PiB7XG4gICAgaWYgKCFpc0F1ZGlvV29ya2xldE5vZGUoYXVkaW9Ob2RlKSAmJiBhY3RpdmVJbnB1dHMuZXZlcnkoKGNvbm5lY3Rpb25zKSA9PiBjb25uZWN0aW9ucy5zaXplID09PSAwKSkge1xuICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKGF1ZGlvTm9kZSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlLXdoZW4tbmVjZXNzYXJ5LmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIGZmdFNpemU6IDIwNDgsXG4gICAgbWF4RGVjaWJlbHM6IC0zMCxcbiAgICBtaW5EZWNpYmVsczogLTEwMCxcbiAgICBzbW9vdGhpbmdUaW1lQ29uc3RhbnQ6IDAuOFxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVBbmFseXNlck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb25Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUFuYWx5c2VyTm9kZVJlbmRlcmVyLCBjcmVhdGVJbmRleFNpemVFcnJvciwgY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQW5hbHlzZXJOb2RlIGV4dGVuZHMgYXVkaW9uTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUFuYWx5c2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyTm9kZVJlbmRlcmVyID0gKChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkgPyBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlcigpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUFuYWx5c2VyTm9kZSwgYW5hbHlzZXJOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlID0gbmF0aXZlQW5hbHlzZXJOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBmZnRTaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5mZnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHNldCBmZnRTaXplKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZmZ0U2l6ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBmcmVxdWVuY3lCaW5Db3VudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZnJlcXVlbmN5QmluQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG1heERlY2liZWxzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5tYXhEZWNpYmVscztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWF4RGVjaWJlbHModmFsdWUpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTE4OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgaWYgbWF4RGVjaWJlbHMgaXMgbm90IG1vcmUgdGhhbiBtaW5EZWNpYmVscy5cbiAgICAgICAgICAgIGNvbnN0IG1heERlY2liZWxzID0gdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoISh2YWx1ZSA+IHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWF4RGVjaWJlbHMgPSBtYXhEZWNpYmVscztcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBtaW5EZWNpYmVscygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1pbkRlY2liZWxzKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzExODogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIGlmIG1heERlY2liZWxzIGlzIG5vdCBtb3JlIHRoYW4gbWluRGVjaWJlbHMuXG4gICAgICAgICAgICBjb25zdCBtaW5EZWNpYmVscyA9IHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscztcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscyA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzID4gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzID0gbWluRGVjaWJlbHM7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgc21vb3RoaW5nVGltZUNvbnN0YW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNtb290aGluZ1RpbWVDb25zdGFudCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldEJ5dGVGcmVxdWVuY3lEYXRhKGFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGdldEJ5dGVUaW1lRG9tYWluRGF0YShhcnJheSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YShhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKGFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBnZXRGbG9hdFRpbWVEb21haW5EYXRhKGFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShhcnJheSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuYWx5c2VyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzT3duZWRCeUNvbnRleHQgPSAobmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG5hdGl2ZUF1ZGlvTm9kZS5jb250ZXh0ID09PSBuYXRpdmVDb250ZXh0O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW93bmVkLWJ5LWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCA9IChuYXRpdmVBdWRpb0J1ZmZlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyLmNvcHlUb0NoYW5uZWwobmV3IEZsb2F0MzJBcnJheSgxKSwgMCwgLTEpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcy1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJbmRleFNpemVFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdJbmRleFNpemVFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtc2l6ZS1lcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVJbmRleFNpemVFcnJvciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9pbmRleC1zaXplLWVycm9yJztcbmV4cG9ydCBjb25zdCB3cmFwQXVkaW9CdWZmZXJHZXRDaGFubmVsRGF0YU1ldGhvZCA9IChhdWRpb0J1ZmZlcikgPT4ge1xuICAgIGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhID0gKChnZXRDaGFubmVsRGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gKGNoYW5uZWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENoYW5uZWxEYXRhLmNhbGwoYXVkaW9CdWZmZXIsIGNoYW5uZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLWJ1ZmZlci1nZXQtY2hhbm5lbC1kYXRhLW1ldGhvZC5qcy5tYXAiLCJpbXBvcnQgeyB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQgfSBmcm9tICcuLi9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLWNvcHktY2hhbm5lbC1tZXRob2RzLW91dC1vZi1ib3VuZHMtc3VwcG9ydCc7XG5pbXBvcnQgeyB3cmFwQXVkaW9CdWZmZXJHZXRDaGFubmVsRGF0YU1ldGhvZCB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1idWZmZXItZ2V0LWNoYW5uZWwtZGF0YS1tZXRob2QnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIG51bWJlck9mQ2hhbm5lbHM6IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciA9IChhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHRlc3ROYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcykgPT4ge1xuICAgIGxldCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gbnVsbDtcbiAgICByZXR1cm4gY2xhc3MgQXVkaW9CdWZmZXIge1xuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgbGVuZ3RoLCBudW1iZXJPZkNoYW5uZWxzLCBzYW1wbGVSYXRlIH0gPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcigxLCAxLCA0NDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICM5OTogRmlyZWZveCBkb2VzIG5vdCB0aHJvdyBhIE5vdFN1cHBvcnRlZEVycm9yIHdoZW4gdGhlIG51bWJlck9mQ2hhbm5lbHMgaXMgemVyby4gQnV0IGl0IG9ubHkgZG9lcyBpdCB3aGVuIHVzaW5nIHRoZVxuICAgICAgICAgICAgICogZmFjdG9yeSBmdW5jdGlvbi4gQnV0IHNpbmNlIEZpcmVmb3ggYWxzbyBzdXBwb3J0cyB0aGUgY29uc3RydWN0b3IgZXZlcnl0aGluZyBzaG91bGQgYmUgZmluZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgY2FjaGVUZXN0UmVzdWx0KHRlc3ROYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCwgdGVzdE5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3JTdXBwb3J0KVxuICAgICAgICAgICAgICAgID8gbmV3IG5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IoeyBsZW5ndGgsIG51bWJlck9mQ2hhbm5lbHMsIHNhbXBsZVJhdGUgfSlcbiAgICAgICAgICAgICAgICA6IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAvLyBCdWcgIzk5OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlbiB0aGUgbnVtYmVyT2ZDaGFubmVscyBpcyB6ZXJvLlxuICAgICAgICAgICAgaWYgKGF1ZGlvQnVmZmVyLm51bWJlck9mQ2hhbm5lbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICM1OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjb3B5RnJvbUNoYW5uZWwoKSBhbmQgY29weVRvQ2hhbm5lbCgpLlxuICAgICAgICAgICAgLy8gQnVnICMxMDA6IFNhZmFyaSBkb2VzIHRocm93IGEgd3JvbmcgZXJyb3Igd2hlbiBjYWxsaW5nIGdldENoYW5uZWxEYXRhKCkgd2l0aCBhbiBvdXQtb2YtYm91bmRzIHZhbHVlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdWRpb0J1ZmZlci5jb3B5RnJvbUNoYW5uZWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE1NzogRmlyZWZveCBkb2VzIG5vdCBhbGxvdyB0aGUgYnVmZmVyT2Zmc2V0IHRvIGJlIG91dC1vZi1ib3VuZHMuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0KGF1ZGlvQnVmZmVyKSkpIHtcbiAgICAgICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyhhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdWRpb0J1ZmZlclN0b3JlLmFkZChhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogVGhpcyBkb2VzIHZpb2xhdGUgYWxsIGdvb2QgcHJhdGljZXMgYnV0IGl0IGlzIG5lY2Vzc2FyeSB0byBhbGxvdyB0aGlzIEF1ZGlvQnVmZmVyIHRvIGJlIHVzZWQgd2l0aCBuYXRpdmVcbiAgICAgICAgICAgICAqIChPZmZsaW5lKUF1ZGlvQ29udGV4dHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgW1N5bWJvbC5oYXNJbnN0YW5jZV0oaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoKGluc3RhbmNlICE9PSBudWxsICYmIHR5cGVvZiBpbnN0YW5jZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGluc3RhbmNlKSA9PT0gQXVkaW9CdWZmZXIucHJvdG90eXBlKSB8fFxuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU3RvcmUuaGFzKGluc3RhbmNlKSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLWJ1ZmZlci1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQgPSAtMy40MDI4MjM0NjYzODUyODg2ZTM4O1xuZXhwb3J0IGNvbnN0IE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUID0gLU1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsImltcG9ydCB7IEFDVElWRV9BVURJT19OT0RFX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5leHBvcnQgY29uc3QgaXNBY3RpdmVBdWRpb05vZGUgPSAoYXVkaW9Ob2RlKSA9PiBBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRS5oYXMoYXVkaW9Ob2RlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFjdGl2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0FjdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtYWN0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tYWN0aXZlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBidWZmZXI6IG51bGwsXG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICBsb29wOiBmYWxzZSxcbiAgICBsb29wRW5kOiAwLFxuICAgIGxvb3BTdGFydDogMCxcbiAgICBwbGF5YmFja1JhdGU6IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEF1ZGlvQnVmZmVyU291cmNlTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyID0gKChpc09mZmxpbmUgPyBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlcigpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIgPSBhdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlcjtcbiAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9pc0J1ZmZlclNldCA9IG1lcmdlZE9wdGlvbnMuYnVmZmVyICE9PSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBCdWcgIzczOiBTYWZhcmkgZG9lcyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fcGxheWJhY2tSYXRlID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5wbGF5YmFja1JhdGUsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGJ1ZmZlcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0J1ZmZlck51bGxpZmllZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1ZmZlcih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gQnVnICM3MjogT25seSBDaHJvbWUgJiBFZGdlIGRvIG5vdCBhbGxvdyB0byByZWFzc2lnbiB0aGUgYnVmZmVyIHlldC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0J1ZmZlclNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9pc0J1ZmZlclNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGxvb3AoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3A7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxvb3AodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGxvb3BFbmQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3BFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxvb3BFbmQodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wRW5kID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGxvb3BTdGFydCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb29wU3RhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wU3RhcnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgb25lbmRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmVuZGVkO1xuICAgICAgICB9XG4gICAgICAgIHNldCBvbmVuZGVkKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkTGlzdGVuZXIgPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB3cmFwRXZlbnRMaXN0ZW5lcih0aGlzLCB2YWx1ZSkgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLm9uZW5kZWQgPSB3cmFwcGVkTGlzdGVuZXI7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVPbkVuZGVkID0gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLm9uZW5kZWQ7XG4gICAgICAgICAgICB0aGlzLl9vbmVuZGVkID0gbmF0aXZlT25FbmRlZCAhPT0gbnVsbCAmJiBuYXRpdmVPbkVuZGVkID09PSB3cmFwcGVkTGlzdGVuZXIgPyB2YWx1ZSA6IG5hdGl2ZU9uRW5kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBsYXliYWNrUmF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGF5YmFja1JhdGU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnQod2hlbiA9IDAsIG9mZnNldCA9IDAsIGR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQod2hlbiwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlci5zdGFydCA9IGR1cmF0aW9uID09PSB1bmRlZmluZWQgPyBbd2hlbiwgb2Zmc2V0XSA6IFt3aGVuLCBvZmZzZXQsIGR1cmF0aW9uXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlQXVkaW9Ob2RlKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0b3Aod2hlbiA9IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKHdoZW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIuc3RvcCA9IHdoZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBBVURJT19OT0RFX0NPTk5FQ1RJT05TX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShBVURJT19OT0RFX0NPTk5FQ1RJT05TX1NUT1JFLCBhdWRpb05vZGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zLmpzLm1hcCIsImltcG9ydCB7IEFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyA9IChhdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuIGdldFZhbHVlRm9yS2V5KEFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFLCBhdWRpb1BhcmFtKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMuanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb0J1ZmZlclNvdXJjZU5vZGUgfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlJztcbmltcG9ydCB7IGlzQXVkaW9Xb3JrbGV0Tm9kZSB9IGZyb20gJy4uL2d1YXJkcy9hdWRpby13b3JrbGV0LW5vZGUnO1xuaW1wb3J0IHsgaXNCaXF1YWRGaWx0ZXJOb2RlIH0gZnJvbSAnLi4vZ3VhcmRzL2JpcXVhZC1maWx0ZXItbm9kZSc7XG5pbXBvcnQgeyBpc0NvbnN0YW50U291cmNlTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9jb25zdGFudC1zb3VyY2Utbm9kZSc7XG5pbXBvcnQgeyBpc0dhaW5Ob2RlIH0gZnJvbSAnLi4vZ3VhcmRzL2dhaW4tbm9kZSc7XG5pbXBvcnQgeyBpc09zY2lsbGF0b3JOb2RlIH0gZnJvbSAnLi4vZ3VhcmRzL29zY2lsbGF0b3Itbm9kZSc7XG5pbXBvcnQgeyBpc1N0ZXJlb1Bhbm5lck5vZGUgfSBmcm9tICcuLi9ndWFyZHMvc3RlcmVvLXBhbm5lci1ub2RlJztcbmltcG9ydCB7IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9nZXQtYXVkaW8tbm9kZS1jb25uZWN0aW9ucyc7XG5pbXBvcnQgeyBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMgfSBmcm9tICcuL2dldC1hdWRpby1wYXJhbS1jb25uZWN0aW9ucyc7XG5pbXBvcnQgeyBpc0FjdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4vaXMtYWN0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSB9IGZyb20gJy4vc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUnO1xuZXhwb3J0IGNvbnN0IGRlYWN0aXZhdGVBY3RpdmVBdWRpb05vZGVJbnB1dENvbm5lY3Rpb25zID0gKGF1ZGlvTm9kZSwgdHJhY2UpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZUlucHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoYXVkaW9Ob2RlKTtcbiAgICBhY3RpdmVJbnB1dHMuZm9yRWFjaCgoY29ubmVjdGlvbnMpID0+IGNvbm5lY3Rpb25zLmZvckVhY2goKFtzb3VyY2VdKSA9PiB7XG4gICAgICAgIGlmICghdHJhY2UuaW5jbHVkZXMoYXVkaW9Ob2RlKSkge1xuICAgICAgICAgICAgZGVhY3RpdmF0ZUFjdGl2ZUF1ZGlvTm9kZUlucHV0Q29ubmVjdGlvbnMoc291cmNlLCBbLi4udHJhY2UsIGF1ZGlvTm9kZV0pO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIGNvbnN0IGF1ZGlvUGFyYW1zID0gaXNBdWRpb0J1ZmZlclNvdXJjZU5vZGUoYXVkaW9Ob2RlKVxuICAgICAgICA/IFtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTQ5OiBTYWZhcmkgZG9lcyBub3QgeWV0IHN1cHBvcnQgdGhlIGRldHVuZSBBdWRpb1BhcmFtLlxuICAgICAgICAgICAgYXVkaW9Ob2RlLnBsYXliYWNrUmF0ZVxuICAgICAgICBdXG4gICAgICAgIDogaXNBdWRpb1dvcmtsZXROb2RlKGF1ZGlvTm9kZSlcbiAgICAgICAgICAgID8gQXJyYXkuZnJvbShhdWRpb05vZGUucGFyYW1ldGVycy52YWx1ZXMoKSlcbiAgICAgICAgICAgIDogaXNCaXF1YWRGaWx0ZXJOb2RlKGF1ZGlvTm9kZSlcbiAgICAgICAgICAgICAgICA/IFthdWRpb05vZGUuUSwgYXVkaW9Ob2RlLmRldHVuZSwgYXVkaW9Ob2RlLmZyZXF1ZW5jeSwgYXVkaW9Ob2RlLmdhaW5dXG4gICAgICAgICAgICAgICAgOiBpc0NvbnN0YW50U291cmNlTm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICAgICAgICAgID8gW2F1ZGlvTm9kZS5vZmZzZXRdXG4gICAgICAgICAgICAgICAgICAgIDogaXNHYWluTm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFthdWRpb05vZGUuZ2Fpbl1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNPc2NpbGxhdG9yTm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbYXVkaW9Ob2RlLmRldHVuZSwgYXVkaW9Ob2RlLmZyZXF1ZW5jeV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzU3RlcmVvUGFubmVyTm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2F1ZGlvTm9kZS5wYW5dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW107XG4gICAgZm9yIChjb25zdCBhdWRpb1BhcmFtIG9mIGF1ZGlvUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGF1ZGlvUGFyYW1Db25uZWN0aW9ucyA9IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhhdWRpb1BhcmFtKTtcbiAgICAgICAgaWYgKGF1ZGlvUGFyYW1Db25uZWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhdWRpb1BhcmFtQ29ubmVjdGlvbnMuYWN0aXZlSW5wdXRzLmZvckVhY2goKFtzb3VyY2VdKSA9PiBkZWFjdGl2YXRlQWN0aXZlQXVkaW9Ob2RlSW5wdXRDb25uZWN0aW9ucyhzb3VyY2UsIHRyYWNlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQWN0aXZlQXVkaW9Ob2RlKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZShhdWRpb05vZGUpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWFjdGl2YXRlLWFjdGl2ZS1hdWRpby1ub2RlLWlucHV0LWNvbm5lY3Rpb25zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0F1ZGlvQnVmZmVyU291cmNlTm9kZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gJ3BsYXliYWNrUmF0ZScgaW4gYXVkaW9Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNCaXF1YWRGaWx0ZXJOb2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAnZnJlcXVlbmN5JyBpbiBhdWRpb05vZGUgJiYgJ2dhaW4nIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXF1YWQtZmlsdGVyLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzQ29uc3RhbnRTb3VyY2VOb2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAnb2Zmc2V0JyBpbiBhdWRpb05vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnQtc291cmNlLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzR2Fpbk5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICEoJ2ZyZXF1ZW5jeScgaW4gYXVkaW9Ob2RlKSAmJiAnZ2FpbicgaW4gYXVkaW9Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhaW4tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNPc2NpbGxhdG9yTm9kZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gJ2RldHVuZScgaW4gYXVkaW9Ob2RlICYmICdmcmVxdWVuY3knIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vc2NpbGxhdG9yLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzU3RlcmVvUGFubmVyTm9kZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gJ3BhbicgaW4gYXVkaW9Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZXJlby1wYW5uZXItbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBkZWFjdGl2YXRlQWN0aXZlQXVkaW9Ob2RlSW5wdXRDb25uZWN0aW9ucyB9IGZyb20gJy4vZGVhY3RpdmF0ZS1hY3RpdmUtYXVkaW8tbm9kZS1pbnB1dC1jb25uZWN0aW9ucyc7XG5leHBvcnQgY29uc3QgZGVhY3RpdmF0ZUF1ZGlvR3JhcGggPSAoY29udGV4dCkgPT4ge1xuICAgIGRlYWN0aXZhdGVBY3RpdmVBdWRpb05vZGVJbnB1dENvbm5lY3Rpb25zKGNvbnRleHQuZGVzdGluYXRpb24sIFtdKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWFjdGl2YXRlLWF1ZGlvLWdyYXBoLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0F1ZGlvTm9kZSA9IChhdWRpb05vZGVPckF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gJ2NvbnRleHQnIGluIGF1ZGlvTm9kZU9yQXVkaW9QYXJhbTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGlzQXVkaW9Ob2RlIH0gZnJvbSAnLi9hdWRpby1ub2RlJztcbmV4cG9ydCBjb25zdCBpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24gPSAob3V0cHV0Q29ubmVjdGlvbikgPT4ge1xuICAgIHJldHVybiBpc0F1ZGlvTm9kZShvdXRwdXRDb25uZWN0aW9uWzBdKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1ub2RlLW91dHB1dC1jb25uZWN0aW9uLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpbnNlcnRFbGVtZW50SW5TZXQgPSAoc2V0LCBlbGVtZW50LCBwcmVkaWNhdGUsIGlnbm9yZUR1cGxpY2F0ZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGxtbnQgb2Ygc2V0KSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUobG1udCkpIHtcbiAgICAgICAgICAgIGlmIChpZ25vcmVEdXBsaWNhdGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBzZXQgY29udGFpbnMgYXQgbGVhc3Qgb25lIHNpbWlsYXIgZWxlbWVudC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQuYWRkKGVsZW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc2VydC1lbGVtZW50LWluLXNldC5qcy5tYXAiLCJpbXBvcnQgeyBpbnNlcnRFbGVtZW50SW5TZXQgfSBmcm9tICcuL2luc2VydC1lbGVtZW50LWluLXNldCc7XG5leHBvcnQgY29uc3QgYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtID0gKGFjdGl2ZUlucHV0cywgc291cmNlLCBbb3V0cHV0LCBldmVudExpc3RlbmVyXSwgaWdub3JlRHVwbGljYXRlcykgPT4ge1xuICAgIGluc2VydEVsZW1lbnRJblNldChhY3RpdmVJbnB1dHMsIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIChhY3RpdmVJbnB1dENvbm5lY3Rpb24pID0+IGFjdGl2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gc291cmNlICYmIGFjdGl2ZUlucHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0LCBpZ25vcmVEdXBsaWNhdGVzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMubWFwIiwiaW1wb3J0IHsgaW5zZXJ0RWxlbWVudEluU2V0IH0gZnJvbSAnLi9pbnNlcnQtZWxlbWVudC1pbi1zZXQnO1xuZXhwb3J0IGNvbnN0IGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gPSAocGFzc2l2ZUlucHV0cywgW3NvdXJjZSwgb3V0cHV0LCBldmVudExpc3RlbmVyXSwgaWdub3JlRHVwbGljYXRlcykgPT4ge1xuICAgIGNvbnN0IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zID0gcGFzc2l2ZUlucHV0cy5nZXQoc291cmNlKTtcbiAgICBpZiAocGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXNzaXZlSW5wdXRzLnNldChzb3VyY2UsIG5ldyBTZXQoW1tvdXRwdXQsIGV2ZW50TGlzdGVuZXJdXSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5zZXJ0RWxlbWVudEluU2V0KHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zLCBbb3V0cHV0LCBldmVudExpc3RlbmVyXSwgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb24pID0+IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IG91dHB1dCwgaWdub3JlRHVwbGljYXRlcyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgPSAobmF0aXZlQXVkaW9Ob2RlT3JOYXRpdmVBdWRpb05vZGVGYWtlcikgPT4ge1xuICAgIHJldHVybiAnaW5wdXRzJyBpbiBuYXRpdmVBdWRpb05vZGVPck5hdGl2ZUF1ZGlvTm9kZUZha2VyO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby1ub2RlLWZha2VyLmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXInO1xuZXhwb3J0IGNvbnN0IGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSA9IChuYXRpdmVTb3VyY2VBdWRpb05vZGUsIG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIobmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUpKSB7XG4gICAgICAgIGNvbnN0IGZha2VOYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSA9IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLmlucHV0c1tpbnB1dF07XG4gICAgICAgIG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZS5jb25uZWN0KGZha2VOYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCAwKTtcbiAgICAgICAgcmV0dXJuIFtmYWtlTmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgMF07XG4gICAgfVxuICAgIG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZS5jb25uZWN0KG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0KTtcbiAgICByZXR1cm4gW25hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0XTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LW5hdGl2ZS1hdWRpby1ub2RlLXRvLW5hdGl2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb24gPSAoYWN0aXZlSW5wdXRDb25uZWN0aW9ucywgc291cmNlLCBvdXRwdXQpID0+IHtcbiAgICBmb3IgKGNvbnN0IGFjdGl2ZUlucHV0Q29ubmVjdGlvbiBvZiBhY3RpdmVJbnB1dENvbm5lY3Rpb25zKSB7XG4gICAgICAgIGlmIChhY3RpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IHNvdXJjZSAmJiBhY3RpdmVJbnB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCkge1xuICAgICAgICAgICAgYWN0aXZlSW5wdXRDb25uZWN0aW9ucy5kZWxldGUoYWN0aXZlSW5wdXRDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVJbnB1dENvbm5lY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUgfSBmcm9tICcuL2dldC1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZSc7XG5leHBvcnQgY29uc3QgZGVsZXRlRXZlbnRMaXN0ZW5lck9mQXVkaW9Ob2RlID0gKGF1ZGlvTm9kZSwgZXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZShhdWRpb05vZGUpO1xuICAgIGlmICghZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgZXhwZWN0ZWQgZXZlbnQgbGlzdGVuZXIuJyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuaW1wb3J0IHsgcGlja0VsZW1lbnRGcm9tU2V0IH0gZnJvbSAnLi9waWNrLWVsZW1lbnQtZnJvbS1zZXQnO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gPSAocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCBwYXNzaXZlSW5wdXRDb25uZWN0aW9ucyA9IGdldFZhbHVlRm9yS2V5KHBhc3NpdmVJbnB1dHMsIHNvdXJjZSk7XG4gICAgY29uc3QgbWF0Y2hpbmdDb25uZWN0aW9uID0gcGlja0VsZW1lbnRGcm9tU2V0KHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zLCAocGFzc2l2ZUlucHV0Q29ubmVjdGlvbikgPT4gcGFzc2l2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gb3V0cHV0KTtcbiAgICBpZiAocGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBwYXNzaXZlSW5wdXRzLmRlbGV0ZShzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hpbmdDb25uZWN0aW9uO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMubWFwIiwiaW1wb3J0IHsgaXNOYXRpdmVBdWRpb05vZGVGYWtlciB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZS1mYWtlcic7XG5leHBvcnQgY29uc3QgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUgPSAobmF0aXZlU291cmNlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZUZha2VyKG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlKSkge1xuICAgICAgICBuYXRpdmVTb3VyY2VBdWRpb05vZGUuZGlzY29ubmVjdChuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZS5pbnB1dHNbaW5wdXRdLCBvdXRwdXQsIDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmF0aXZlU291cmNlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QobmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNjb25uZWN0LW5hdGl2ZS1hdWRpby1ub2RlLWZyb20tbmF0aXZlLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgQVVESU9fTk9ERV9TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXROYXRpdmVBdWRpb05vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIGdldFZhbHVlRm9yS2V5KEFVRElPX05PREVfU1RPUkUsIGF1ZGlvTm9kZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LW5hdGl2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IEFVRElPX1BBUkFNX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuZXhwb3J0IGNvbnN0IGdldE5hdGl2ZUF1ZGlvUGFyYW0gPSAoYXVkaW9QYXJhbSkgPT4ge1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShBVURJT19QQVJBTV9TVE9SRSwgYXVkaW9QYXJhbSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LW5hdGl2ZS1hdWRpby1wYXJhbS5qcy5tYXAiLCJpbXBvcnQgeyBDWUNMRV9DT1VOVEVSUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuZXhwb3J0IGNvbnN0IGlzUGFydE9mQUN5Y2xlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiBDWUNMRV9DT1VOVEVSUy5oYXMoYXVkaW9Ob2RlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1wYXJ0LW9mLWEtY3ljbGUuanMubWFwIiwiaW1wb3J0IHsgQUNUSVZFX0FVRElPX05PREVfU1RPUkUgfSBmcm9tICcuLi9nbG9iYWxzJztcbmV4cG9ydCBjb25zdCBpc1Bhc3NpdmVBdWRpb05vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICFBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRS5oYXMoYXVkaW9Ob2RlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1wYXNzaXZlLWF1ZGlvLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb05vZGVEaXNjb25uZWN0TWV0aG9kU3VwcG9ydCA9IChuYXRpdmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGlzIGJ1ZyBleGlzdGVkIGluIFNhZmFyaSB1cCB1bnRpbCB2MTQuMC4yLiBTaW5jZSBBdWRpb1dvcmtsZXRzIHdlcmUgbm90IHN1cHBvcnRlZCBpbiBTYWZhcmkgdW50aWwgdjE0LjEgdGhlIHByZXNlbmNlIG9mIHRoZVxuICAgICAgICAgKiBjb25zdHJ1Y3RvciBmb3IgYW4gQXVkaW9Xb3JrbGV0Tm9kZSBjYW4gYmUgdXNlZCBoZXJlIHRvIHNraXAgdGhlIHRlc3QuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYW5hbHl6ZXIgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKDI1NiwgMSwgMSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgZGVwcmVjYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGR1bW15ID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjOTU6IFNhZmFyaSBkb2VzIG5vdCBwbGF5IG9uZSBzYW1wbGUgYnVmZmVycy5cbiAgICAgICAgICAgIGNvbnN0IG9uZXMgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDIsIDQ0MTAwKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gb25lcy5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgIGNoYW5uZWxEYXRhWzBdID0gMTtcbiAgICAgICAgICAgIGNoYW5uZWxEYXRhWzFdID0gMTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBvbmVzO1xuICAgICAgICAgICAgc291cmNlLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgc291cmNlLmNvbm5lY3QoYW5hbHl6ZXIpLmNvbm5lY3QobmF0aXZlQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGR1bW15KTtcbiAgICAgICAgICAgIHNvdXJjZS5kaXNjb25uZWN0KGR1bW15KTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkZXByZWNhdGlvblxuICAgICAgICAgICAgYW5hbHl6ZXIub25hdWRpb3Byb2Nlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaG5ubER0ID0gZXZlbnQuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChjaG5ubER0LCAoc2FtcGxlKSA9PiBzYW1wbGUgPT09IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICBhbmFseXplci5vbmF1ZGlvcHJvY2VzcyA9IG51bGw7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdChhbmFseXplcik7XG4gICAgICAgICAgICAgICAgYW5hbHl6ZXIuZGlzY29ubmVjdChuYXRpdmVBdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvdXJjZS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1ub2RlLWRpc2Nvbm5lY3QtbWV0aG9kLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IHZpc2l0RWFjaEF1ZGlvTm9kZU9uY2UgPSAoY3ljbGVzLCB2aXNpdG9yKSA9PiB7XG4gICAgY29uc3QgY291bnRzID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgY3ljbGUgb2YgY3ljbGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXVkaW9Ob2RlIG9mIGN5Y2xlKSB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGNvdW50cy5nZXQoYXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIGNvdW50cy5zZXQoYXVkaW9Ob2RlLCBjb3VudCA9PT0gdW5kZWZpbmVkID8gMSA6IGNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY291bnRzLmZvckVhY2goKGNvdW50LCBhdWRpb05vZGUpID0+IHZpc2l0b3IoYXVkaW9Ob2RlLCBjb3VudCkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpc2l0LWVhY2gtYXVkaW8tbm9kZS1vbmNlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc05hdGl2ZUF1ZGlvTm9kZSA9IChuYXRpdmVBdWRpb05vZGVPckF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gJ2NvbnRleHQnIGluIG5hdGl2ZUF1ZGlvTm9kZU9yQXVkaW9QYXJhbTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZSc7XG5leHBvcnQgY29uc3Qgd3JhcEF1ZGlvTm9kZURpc2Nvbm5lY3RNZXRob2QgPSAobmF0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QgPSAoKGNvbm5lY3QpID0+IHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmludmFsaWQtdm9pZCBuby1pbmZlcnJhYmxlLXR5cGVzXG4gICAgICAgIHJldHVybiAoZGVzdGluYXRpb24sIG91dHB1dCA9IDAsIGlucHV0ID0gMCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBpc05hdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikgPyBjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KSA6IGNvbm5lY3QoZGVzdGluYXRpb24sIG91dHB1dCk7XG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBuZXcgY29ubmVjdGlvbiBvbmx5IGlmIHRoZSBjYWxscyB0byBjb25uZWN0IGFib3ZlIGRpZG4ndCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbiA9IGNvbm5lY3Rpb25zLmdldChkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5zZXQoZGVzdGluYXRpb24sIFt7IGlucHV0LCBvdXRwdXQgfV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbi5ldmVyeSgoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5pbnB1dCAhPT0gaW5wdXQgfHwgY29ubmVjdGlvbi5vdXRwdXQgIT09IG91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uLnB1c2goeyBpbnB1dCwgb3V0cHV0IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVBdWRpb05vZGUuY29ubmVjdC5iaW5kKG5hdGl2ZUF1ZGlvTm9kZSkpO1xuICAgIG5hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0ID0gKChkaXNjb25uZWN0KSA9PiB7XG4gICAgICAgIHJldHVybiAoZGVzdGluYXRpb25Pck91dHB1dCwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgICAgICAgICAgZGlzY29ubmVjdC5hcHBseShuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JPdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck91dHB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtkZXN0aW5hdGlvbiwgY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uXSBvZiBjb25uZWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZENvbm5lY3Rpb25zID0gY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uLmZpbHRlcigoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5vdXRwdXQgIT09IGRlc3RpbmF0aW9uT3JPdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRDb25uZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmRlbGV0ZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5zZXQoZGVzdGluYXRpb24sIGZpbHRlcmVkQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29ubmVjdGlvbnMuaGFzKGRlc3RpbmF0aW9uT3JPdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmRlbGV0ZShkZXN0aW5hdGlvbk9yT3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbiA9IGNvbm5lY3Rpb25zLmdldChkZXN0aW5hdGlvbk9yT3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZENvbm5lY3Rpb25zID0gY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uLmZpbHRlcigoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5vdXRwdXQgIT09IG91dHB1dCAmJiAoY29ubmVjdGlvbi5pbnB1dCAhPT0gaW5wdXQgfHwgaW5wdXQgPT09IHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQ29ubmVjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKGRlc3RpbmF0aW9uT3JPdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KGRlc3RpbmF0aW9uT3JPdXRwdXQsIGZpbHRlcmVkQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBbZGVzdGluYXRpb24sIGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbl0gb2YgY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvRGVzdGluYXRpb24uZm9yRWFjaCgoY29ubmVjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb05vZGUuY29ubmVjdChkZXN0aW5hdGlvbiwgY29ubmVjdGlvbi5vdXRwdXQsIGNvbm5lY3Rpb24uaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QoZGVzdGluYXRpb24sIGNvbm5lY3Rpb24ub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLW5vZGUtZGlzY29ubmVjdC1tZXRob2QuanMubWFwIiwiaW1wb3J0IHsgQVVESU9fTk9ERV9TVE9SRSwgRVZFTlRfTElTVEVORVJTIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBpc0F1ZGlvTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9hdWRpby1ub2RlJztcbmltcG9ydCB7IGlzQXVkaW9Ob2RlT3V0cHV0Q29ubmVjdGlvbiB9IGZyb20gJy4uL2d1YXJkcy9hdWRpby1ub2RlLW91dHB1dC1jb25uZWN0aW9uJztcbmltcG9ydCB7IGFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSB9IGZyb20gJy4uL2hlbHBlcnMvYWRkLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gfSBmcm9tICcuLi9oZWxwZXJzL2FkZC1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0nO1xuaW1wb3J0IHsgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vaGVscGVycy9jb25uZWN0LW5hdGl2ZS1hdWRpby1ub2RlLXRvLW5hdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMvZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uJztcbmltcG9ydCB7IGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSB9IGZyb20gJy4uL2hlbHBlcnMvZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGRlbGV0ZUV2ZW50TGlzdGVuZXJPZkF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvZGVsZXRlLWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlJztcbmltcG9ydCB7IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvZGVsZXRlLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlJztcbmltcG9ydCB7IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0nO1xuaW1wb3J0IHsgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2Rpc2Nvbm5lY3QtbmF0aXZlLWF1ZGlvLW5vZGUtZnJvbS1uYXRpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zIH0gZnJvbSAnLi4vaGVscGVycy9nZXQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlJztcbmltcG9ydCB7IGdldE5hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LW5hdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGdldE5hdGl2ZUF1ZGlvUGFyYW0gfSBmcm9tICcuLi9oZWxwZXJzL2dldC1uYXRpdmUtYXVkaW8tcGFyYW0nO1xuaW1wb3J0IHsgaW5zZXJ0RWxlbWVudEluU2V0IH0gZnJvbSAnLi4vaGVscGVycy9pbnNlcnQtZWxlbWVudC1pbi1zZXQnO1xuaW1wb3J0IHsgaXNBY3RpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2lzLWFjdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGlzUGFydE9mQUN5Y2xlIH0gZnJvbSAnLi4vaGVscGVycy9pcy1wYXJ0LW9mLWEtY3ljbGUnO1xuaW1wb3J0IHsgaXNQYXNzaXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vaGVscGVycy9pcy1wYXNzaXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tYWN0aXZlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5IH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZS13aGVuLW5lY2Vzc2FyeSc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZFN1cHBvcnQgfSBmcm9tICcuLi9oZWxwZXJzL3Rlc3QtYXVkaW8tbm9kZS1kaXNjb25uZWN0LW1ldGhvZC1zdXBwb3J0JztcbmltcG9ydCB7IHZpc2l0RWFjaEF1ZGlvTm9kZU9uY2UgfSBmcm9tICcuLi9oZWxwZXJzL3Zpc2l0LWVhY2gtYXVkaW8tbm9kZS1vbmNlJztcbmltcG9ydCB7IHdyYXBBdWRpb05vZGVEaXNjb25uZWN0TWV0aG9kIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLW5vZGUtZGlzY29ubmVjdC1tZXRob2QnO1xuY29uc3QgYWRkQ29ubmVjdGlvblRvQXVkaW9QYXJhbU9mQXVkaW9Db250ZXh0ID0gKHNvdXJjZSwgZGVzdGluYXRpb24sIG91dHB1dCwgaXNPZmZsaW5lKSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmVJbnB1dHMsIHBhc3NpdmVJbnB1dHMgfSA9IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhkZXN0aW5hdGlvbik7XG4gICAgY29uc3QgeyBvdXRwdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhzb3VyY2UpO1xuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZShzb3VyY2UpO1xuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSAoaXNBY3RpdmUpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHNvdXJjZSk7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvUGFyYW0gPSBnZXROYXRpdmVBdWRpb1BhcmFtKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWFsQ29ubmVjdGlvbiA9IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0ocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpO1xuICAgICAgICAgICAgYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKGFjdGl2ZUlucHV0cywgc291cmNlLCBwYXJ0aWFsQ29ubmVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKCFpc09mZmxpbmUgJiYgIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb05vZGUuY29ubmVjdChuYXRpdmVBdWRpb1BhcmFtLCBvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbENvbm5lY3Rpb24gPSBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0oYWN0aXZlSW5wdXRzLCBzb3VyY2UsIG91dHB1dCk7XG4gICAgICAgICAgICBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKHBhc3NpdmVJbnB1dHMsIHBhcnRpYWxDb25uZWN0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoIWlzT2ZmbGluZSAmJiAhaXNQYXJ0T2ZBQ3ljbGUoc291cmNlKSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0KG5hdGl2ZUF1ZGlvUGFyYW0sIG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChpbnNlcnRFbGVtZW50SW5TZXQob3V0cHV0cywgW2Rlc3RpbmF0aW9uLCBvdXRwdXRdLCAob3V0cHV0Q29ubmVjdGlvbikgPT4gb3V0cHV0Q29ubmVjdGlvblswXSA9PT0gZGVzdGluYXRpb24gJiYgb3V0cHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0LCB0cnVlKSkge1xuICAgICAgICBldmVudExpc3RlbmVycy5hZGQoZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShzb3VyY2UpKSB7XG4gICAgICAgICAgICBhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0oYWN0aXZlSW5wdXRzLCBzb3VyY2UsIFtvdXRwdXQsIGV2ZW50TGlzdGVuZXJdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0ocGFzc2l2ZUlucHV0cywgW3NvdXJjZSwgb3V0cHV0LCBldmVudExpc3RlbmVyXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBkZWxldGVJbnB1dENvbm5lY3Rpb25PZkF1ZGlvTm9kZSA9IChzb3VyY2UsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmVJbnB1dHMsIHBhc3NpdmVJbnB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGRlc3RpbmF0aW9uKTtcbiAgICBjb25zdCBhY3RpdmVJbnB1dENvbm5lY3Rpb24gPSBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb24oYWN0aXZlSW5wdXRzW2lucHV0XSwgc291cmNlLCBvdXRwdXQpO1xuICAgIGlmIChhY3RpdmVJbnB1dENvbm5lY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFzc2l2ZUlucHV0Q29ubmVjdGlvbiA9IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShwYXNzaXZlSW5wdXRzLCBzb3VyY2UsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICByZXR1cm4gW3Bhc3NpdmVJbnB1dENvbm5lY3Rpb25bMl0sIGZhbHNlXTtcbiAgICB9XG4gICAgcmV0dXJuIFthY3RpdmVJbnB1dENvbm5lY3Rpb25bMl0sIHRydWVdO1xufTtcbmNvbnN0IGRlbGV0ZUlucHV0Q29ubmVjdGlvbk9mQXVkaW9QYXJhbSA9IChzb3VyY2UsIGRlc3RpbmF0aW9uLCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZUlucHV0cywgcGFzc2l2ZUlucHV0cyB9ID0gZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zKGRlc3RpbmF0aW9uKTtcbiAgICBjb25zdCBhY3RpdmVJbnB1dENvbm5lY3Rpb24gPSBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb24oYWN0aXZlSW5wdXRzLCBzb3VyY2UsIG91dHB1dCk7XG4gICAgaWYgKGFjdGl2ZUlucHV0Q29ubmVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBwYXNzaXZlSW5wdXRDb25uZWN0aW9uID0gZGVsZXRlUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbShwYXNzaXZlSW5wdXRzLCBzb3VyY2UsIG91dHB1dCk7XG4gICAgICAgIHJldHVybiBbcGFzc2l2ZUlucHV0Q29ubmVjdGlvblsxXSwgZmFsc2VdO1xuICAgIH1cbiAgICByZXR1cm4gW2FjdGl2ZUlucHV0Q29ubmVjdGlvblsyXSwgdHJ1ZV07XG59O1xuY29uc3QgZGVsZXRlSW5wdXRzT2ZBdWRpb05vZGUgPSAoc291cmNlLCBpc09mZmxpbmUsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgY29uc3QgW2xpc3RlbmVyLCBpc0FjdGl2ZV0gPSBkZWxldGVJbnB1dENvbm5lY3Rpb25PZkF1ZGlvTm9kZShzb3VyY2UsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KTtcbiAgICBpZiAobGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlRXZlbnRMaXN0ZW5lck9mQXVkaW9Ob2RlKHNvdXJjZSwgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoaXNBY3RpdmUgJiYgIWlzT2ZmbGluZSAmJiAhaXNQYXJ0T2ZBQ3ljbGUoc291cmNlKSkge1xuICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUoZ2V0TmF0aXZlQXVkaW9Ob2RlKHNvdXJjZSksIGdldE5hdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbiksIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgY29uc3QgeyBhY3RpdmVJbnB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZVdoZW5OZWNlc3NhcnkoZGVzdGluYXRpb24sIGFjdGl2ZUlucHV0cyk7XG4gICAgfVxufTtcbmNvbnN0IGRlbGV0ZUlucHV0c09mQXVkaW9QYXJhbSA9IChzb3VyY2UsIGlzT2ZmbGluZSwgZGVzdGluYXRpb24sIG91dHB1dCkgPT4ge1xuICAgIGNvbnN0IFtsaXN0ZW5lciwgaXNBY3RpdmVdID0gZGVsZXRlSW5wdXRDb25uZWN0aW9uT2ZBdWRpb1BhcmFtKHNvdXJjZSwgZGVzdGluYXRpb24sIG91dHB1dCk7XG4gICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZUV2ZW50TGlzdGVuZXJPZkF1ZGlvTm9kZShzb3VyY2UsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlICYmICFpc09mZmxpbmUgJiYgIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGdldE5hdGl2ZUF1ZGlvTm9kZShzb3VyY2UpLmRpc2Nvbm5lY3QoZ2V0TmF0aXZlQXVkaW9QYXJhbShkZXN0aW5hdGlvbiksIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZGVsZXRlQW55Q29ubmVjdGlvbiA9IChzb3VyY2UsIGlzT2ZmbGluZSkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2UgPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhzb3VyY2UpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0Q29ubmVjdGlvbiBvZiBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlLm91dHB1dHMpIHtcbiAgICAgICAgaWYgKGlzQXVkaW9Ob2RlT3V0cHV0Q29ubmVjdGlvbihvdXRwdXRDb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgZGVsZXRlSW5wdXRzT2ZBdWRpb05vZGUoc291cmNlLCBpc09mZmxpbmUsIC4uLm91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlSW5wdXRzT2ZBdWRpb1BhcmFtKHNvdXJjZSwgaXNPZmZsaW5lLCAuLi5vdXRwdXRDb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0aW5hdGlvbnMucHVzaChvdXRwdXRDb25uZWN0aW9uWzBdKTtcbiAgICB9XG4gICAgYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZS5vdXRwdXRzLmNsZWFyKCk7XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9ucztcbn07XG5jb25zdCBkZWxldGVDb25uZWN0aW9uQXRPdXRwdXQgPSAoc291cmNlLCBpc09mZmxpbmUsIG91dHB1dCkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2UgPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhzb3VyY2UpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0Q29ubmVjdGlvbiBvZiBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlLm91dHB1dHMpIHtcbiAgICAgICAgaWYgKG91dHB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCkge1xuICAgICAgICAgICAgaWYgKGlzQXVkaW9Ob2RlT3V0cHV0Q29ubmVjdGlvbihvdXRwdXRDb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZUlucHV0c09mQXVkaW9Ob2RlKHNvdXJjZSwgaXNPZmZsaW5lLCAuLi5vdXRwdXRDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZUlucHV0c09mQXVkaW9QYXJhbShzb3VyY2UsIGlzT2ZmbGluZSwgLi4ub3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXN0aW5hdGlvbnMucHVzaChvdXRwdXRDb25uZWN0aW9uWzBdKTtcbiAgICAgICAgICAgIGF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2Uub3V0cHV0cy5kZWxldGUob3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9ucztcbn07XG5jb25zdCBkZWxldGVDb25uZWN0aW9uVG9EZXN0aW5hdGlvbiA9IChzb3VyY2UsIGlzT2ZmbGluZSwgZGVzdGluYXRpb24sIG91dHB1dCwgaW5wdXQpID0+IHtcbiAgICBjb25zdCBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoc291cmNlKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlLm91dHB1dHMpXG4gICAgICAgIC5maWx0ZXIoKG91dHB1dENvbm5lY3Rpb24pID0+IG91dHB1dENvbm5lY3Rpb25bMF0gPT09IGRlc3RpbmF0aW9uICYmXG4gICAgICAgIChvdXRwdXQgPT09IHVuZGVmaW5lZCB8fCBvdXRwdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQpICYmXG4gICAgICAgIChpbnB1dCA9PT0gdW5kZWZpbmVkIHx8IG91dHB1dENvbm5lY3Rpb25bMl0gPT09IGlucHV0KSlcbiAgICAgICAgLm1hcCgob3V0cHV0Q29ubmVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uKG91dHB1dENvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBkZWxldGVJbnB1dHNPZkF1ZGlvTm9kZShzb3VyY2UsIGlzT2ZmbGluZSwgLi4ub3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGVJbnB1dHNPZkF1ZGlvUGFyYW0oc291cmNlLCBpc09mZmxpbmUsIC4uLm91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2Uub3V0cHV0cy5kZWxldGUob3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgIHJldHVybiBvdXRwdXRDb25uZWN0aW9uWzBdO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb05vZGVDb25zdHJ1Y3RvciA9IChhZGRBdWRpb05vZGVDb25uZWN0aW9ucywgYWRkQ29ubmVjdGlvblRvQXVkaW9Ob2RlLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZUluY3JlbWVudEN5Y2xlQ291bnRlciwgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGRlY3JlbWVudEN5Y2xlQ291bnRlciwgZGV0ZWN0Q3ljbGVzLCBldmVudFRhcmdldENvbnN0cnVjdG9yLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVBdWRpb05vZGUsIGlzTmF0aXZlQXVkaW9QYXJhbSwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQXVkaW9Ob2RlIGV4dGVuZHMgZXZlbnRUYXJnZXRDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGlzQWN0aXZlLCBuYXRpdmVBdWRpb05vZGUsIGF1ZGlvTm9kZVJlbmRlcmVyKSB7XG4gICAgICAgICAgICBzdXBlcihuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUgPSBuYXRpdmVBdWRpb05vZGU7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTI6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IHRvIGRpc2Nvbm5lY3QgYSBzcGVjaWZpYyBkZXN0aW5hdGlvbi5cbiAgICAgICAgICAgIGlmIChpc05hdGl2ZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KSAmJlxuICAgICAgICAgICAgICAgIHRydWUgIT09XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZFN1cHBvcnQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0QXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZFN1cHBvcnQobmF0aXZlQ29udGV4dCwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICB3cmFwQXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZChuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQVVESU9fTk9ERV9TVE9SRS5zZXQodGhpcywgbmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIEVWRU5UX0xJU1RFTkVSUy5zZXQodGhpcywgbmV3IFNldCgpKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJyAmJiBpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZEF1ZGlvTm9kZUNvbm5lY3Rpb25zKHRoaXMsIGF1ZGlvTm9kZVJlbmRlcmVyLCBuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGdldCBudW1iZXJPZklucHV0cygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb05vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb05vZGUubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTppbnZhbGlkLXZvaWRcbiAgICAgICAgY29ubmVjdChkZXN0aW5hdGlvbiwgb3V0cHV0ID0gMCwgaW5wdXQgPSAwKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE3NDogU2FmYXJpIGRvZXMgZXhwb3NlIGEgd3JvbmcgbnVtYmVyT2ZPdXRwdXRzIGZvciBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2Rlcy5cbiAgICAgICAgICAgIGlmIChvdXRwdXQgPCAwIHx8IG91dHB1dCA+PSB0aGlzLl9uYXRpdmVBdWRpb05vZGUubnVtYmVyT2ZPdXRwdXRzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KHRoaXMuX2NvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSB8fCBpc05hdGl2ZUF1ZGlvUGFyYW0oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUodGhpcy5fbmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUGFzc2l2ZSA9IGlzUGFzc2l2ZUF1ZGlvTm9kZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSB8fCBpc1Bhc3NpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0KC4uLmNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnICYmICFpc1Bhc3NpdmUgJiYgaXNQYXNzaXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNDE6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyB0aGUgY29ycmVjdCBleGNlcHRpb24gc28gZmFyLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzTmV3Q29ubmVjdGlvblRvQXVkaW9Ob2RlID0gYWRkQ29ubmVjdGlvblRvQXVkaW9Ob2RlKHRoaXMsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0LCBpc09mZmxpbmUpO1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTY0OiBPbmx5IEZpcmVmb3ggZGV0ZWN0cyBjeWNsZXMgc28gZmFyLlxuICAgICAgICAgICAgICAgIGlmIChpc05ld0Nvbm5lY3Rpb25Ub0F1ZGlvTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjeWNsZXMgPSBkZXRlY3RDeWNsZXMoW3RoaXNdLCBkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0RWFjaEF1ZGlvTm9kZU9uY2UoY3ljbGVzLCBjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXIoaXNPZmZsaW5lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvUGFyYW0gPSBnZXROYXRpdmVBdWRpb1BhcmFtKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBCdWcgIzczLCAjMTQ3ICYgIzE1MzogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgdG8gY29ubmVjdCBhbiBpbnB1dCBzaWduYWwgdG8gdGhlIHBsYXliYWNrUmF0ZSBBdWRpb1BhcmFtIG9mIGFuXG4gICAgICAgICAgICAgKiBBdWRpb0J1ZmZlclNvdXJjZU5vZGUuIFRoaXMgY2FuJ3QgYmUgZWFzaWx5IGRldGVjdGVkIGFuZCB0aGF0J3Mgd2h5IHRoZSBvdXRkYXRlZCBuYW1lIHByb3BlcnR5IGlzIHVzZWQgaGVyZSB0byBpZGVudGlmeVxuICAgICAgICAgICAgICogU2FmYXJpLiBJbiBhZGRpdGlvbiB0byB0aGF0IHRoZSBtYXhWYWx1ZSBwcm9wZXJ0eSBpcyB1c2VkIHRvIG9ubHkgZGV0ZWN0IHRoZSBhZmZlY3RlZCB2ZXJzaW9ucyBiZWxvdyB2MTQuMC4yLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9QYXJhbS5uYW1lID09PSAncGxheWJhY2tSYXRlJyAmJiBuYXRpdmVBdWRpb1BhcmFtLm1heFZhbHVlID09PSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QobmF0aXZlQXVkaW9QYXJhbSwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPZmZsaW5lIHx8IGlzUGFzc2l2ZUF1ZGlvTm9kZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdChuYXRpdmVBdWRpb1BhcmFtLCBvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzU4OiBTYWZhcmkgZG9lc24ndCB0aHJvdyBhbiBJbnZhbGlkQWNjZXNzRXJyb3IgeWV0LlxuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzTmV3Q29ubmVjdGlvblRvQXVkaW9QYXJhbSA9IGFkZENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW1PZkF1ZGlvQ29udGV4dCh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpc09mZmxpbmUpO1xuICAgICAgICAgICAgLy8gQnVnICMxNjQ6IE9ubHkgRmlyZWZveCBkZXRlY3RzIGN5Y2xlcyBzbyBmYXIuXG4gICAgICAgICAgICBpZiAoaXNOZXdDb25uZWN0aW9uVG9BdWRpb1BhcmFtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3ljbGVzID0gZGV0ZWN0Q3ljbGVzKFt0aGlzXSwgZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIHZpc2l0RWFjaEF1ZGlvTm9kZU9uY2UoY3ljbGVzLCBjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXIoaXNPZmZsaW5lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdChkZXN0aW5hdGlvbk9yT3V0cHV0LCBvdXRwdXQsIGlucHV0KSB7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb25zO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQodGhpcy5fY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25zID0gZGVsZXRlQW55Q29ubmVjdGlvbih0aGlzLCBpc09mZmxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JPdXRwdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JPdXRwdXQgPCAwIHx8IGRlc3RpbmF0aW9uT3JPdXRwdXQgPj0gdGhpcy5udW1iZXJPZk91dHB1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25zID0gZGVsZXRlQ29ubmVjdGlvbkF0T3V0cHV0KHRoaXMsIGlzT2ZmbGluZSwgZGVzdGluYXRpb25Pck91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ICE9PSB1bmRlZmluZWQgJiYgKG91dHB1dCA8IDAgfHwgb3V0cHV0ID49IHRoaXMubnVtYmVyT2ZPdXRwdXRzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBdWRpb05vZGUoZGVzdGluYXRpb25Pck91dHB1dCkgJiYgaW5wdXQgIT09IHVuZGVmaW5lZCAmJiAoaW5wdXQgPCAwIHx8IGlucHV0ID49IGRlc3RpbmF0aW9uT3JPdXRwdXQubnVtYmVyT2ZJbnB1dHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9ucyA9IGRlbGV0ZUNvbm5lY3Rpb25Ub0Rlc3RpbmF0aW9uKHRoaXMsIGlzT2ZmbGluZSwgZGVzdGluYXRpb25Pck91dHB1dCwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICMxNjQ6IE9ubHkgRmlyZWZveCBkZXRlY3RzIGN5Y2xlcyBzbyBmYXIuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uIG9mIGRlc3RpbmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5Y2xlcyA9IGRldGVjdEN5Y2xlcyhbdGhpc10sIGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICB2aXNpdEVhY2hBdWRpb05vZGVPbmNlKGN5Y2xlcywgZGVjcmVtZW50Q3ljbGVDb3VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY2xhc3MgUmVhZE9ubHlNYXAge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcChwYXJhbWV0ZXJzKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuc2l6ZTtcbiAgICB9XG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwga2V5LCB0aGlzKSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KG5hbWUpO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyhuYW1lKTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5rZXlzKCk7XG4gICAgfVxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC52YWx1ZXMoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkLW9ubHktbWFwLmpzLm1hcCIsImltcG9ydCB7IE5PREVfTkFNRV9UT19QUk9DRVNTT1JfQ09OU1RSVUNUT1JfTUFQUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgUmVhZE9ubHlNYXAgfSBmcm9tICcuLi9yZWFkLW9ubHktbWFwJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgLy8gQnVnICM2MTogVGhlIGNoYW5uZWxDb3VudE1vZGUgc2hvdWxkIGJlICdtYXgnIGFjY29yZGluZyB0byB0aGUgc3BlYyBidXQgaXMgc2V0IHRvICdleHBsaWNpdCcgdG8gYWNoaWV2ZSBjb25zaXN0ZW50IGJlaGF2aW9yLlxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIG51bWJlck9mSW5wdXRzOiAxLFxuICAgIG51bWJlck9mT3V0cHV0czogMSxcbiAgICBwYXJhbWV0ZXJEYXRhOiB7fSxcbiAgICBwcm9jZXNzb3JPcHRpb25zOiB7fVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPSAoYWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUsIGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3Rvciwgc2FuaXRpemVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucywgc2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cywgdGVzdEF1ZGlvV29ya2xldE5vZGVPcHRpb25zQ2xvbmFiaWxpdHksIHdyYXBFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEF1ZGlvV29ya2xldE5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHNhbml0aXplQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMoeyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICAvLyBCdWcgIzE5MTogU2FmYXJpIGRvZXNuJ3QgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIG9wdGlvbnMgYXJlbid0IGNsb25hYmxlLlxuICAgICAgICAgICAgdGVzdEF1ZGlvV29ya2xldE5vZGVPcHRpb25zQ2xvbmFiaWxpdHkobWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAgPSBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMuZ2V0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc29yQ29uc3RydWN0b3IgPSBub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAgPT09IG51bGwgfHwgbm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgLy8gQnVnICMxODY6IENocm9tZSBhbmQgRWRnZSBkbyBub3QgYWxsb3cgdG8gY3JlYXRlIGFuIEF1ZGlvV29ya2xldE5vZGUgb24gYSBjbG9zZWQgQXVkaW9Db250ZXh0LlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dE9yQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGlzT2ZmbGluZSB8fCBuYXRpdmVDb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJ1xuICAgICAgICAgICAgICAgID8gbmF0aXZlQ29udGV4dFxuICAgICAgICAgICAgICAgIDogKF9hID0gZ2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmF0aXZlQ29udGV4dDtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlKG5hdGl2ZUNvbnRleHRPckJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQsIGlzT2ZmbGluZSA/IG51bGwgOiBjb250ZXh0LmJhc2VMYXRlbmN5LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5hbWUsIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvV29ya2xldE5vZGVSZW5kZXJlciA9ICgoaXNPZmZsaW5lID8gY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyKG5hbWUsIG1lcmdlZE9wdGlvbnMsIHByb2Nlc3NvckNvbnN0cnVjdG9yKSA6IG51bGwpKTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBAdG9kbyBBZGQgYSBtZWNoYW5pc20gdG8gc3dpdGNoIGFuIEF1ZGlvV29ya2xldE5vZGUgdG8gcGFzc2l2ZSBvbmNlIHRoZSBwcm9jZXNzKCkgZnVuY3Rpb24gb2YgdGhlIEF1ZGlvV29ya2xldFByb2Nlc3NvclxuICAgICAgICAgICAgICogcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgdHJ1ZSwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgYXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUucGFyYW1ldGVycy5mb3JFYWNoKChuYXRpdmVBdWRpb1BhcmFtLCBubSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvUGFyYW0gPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlQXVkaW9QYXJhbSk7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKFtubSwgYXVkaW9QYXJhbV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb1dvcmtsZXROb2RlID0gbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZTtcbiAgICAgICAgICAgIHRoaXMuX29ucHJvY2Vzc29yZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVycyA9IG5ldyBSZWFkT25seU1hcChwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBCdWcgIzg2ICYgIzg3OiBJbnZva2luZyB0aGUgcmVuZGVyZXIgb2YgYW4gQXVkaW9Xb3JrbGV0Tm9kZSBtaWdodCBiZSBuZWNlc3NhcnkgaWYgaXQgaGFzIG5vIGRpcmVjdCBvciBpbmRpcmVjdCBjb25uZWN0aW9uIHRvXG4gICAgICAgICAgICAgKiB0aGUgZGVzdGluYXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICBhZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZShuYXRpdmVDb250ZXh0LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgYWN0aXZlSW5wdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyh0aGlzKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgYWN0aXZlSW5wdXRzKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgb25wcm9jZXNzb3JlcnJvcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbnByb2Nlc3NvcmVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHNldCBvbnByb2Nlc3NvcmVycm9yKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkTGlzdGVuZXIgPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB3cmFwRXZlbnRMaXN0ZW5lcih0aGlzLCB2YWx1ZSkgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5vbnByb2Nlc3NvcmVycm9yID0gd3JhcHBlZExpc3RlbmVyO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT25Qcm9jZXNzb3JFcnJvciA9IHRoaXMuX25hdGl2ZUF1ZGlvV29ya2xldE5vZGUub25wcm9jZXNzb3JlcnJvcjtcbiAgICAgICAgICAgIHRoaXMuX29ucHJvY2Vzc29yZXJyb3IgPVxuICAgICAgICAgICAgICAgIG5hdGl2ZU9uUHJvY2Vzc29yRXJyb3IgIT09IG51bGwgJiYgbmF0aXZlT25Qcm9jZXNzb3JFcnJvciA9PT0gd3JhcHBlZExpc3RlbmVyXG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBuYXRpdmVPblByb2Nlc3NvckVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwYXJhbWV0ZXJzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmFtZXRlcnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBUaGUgZGVmaW5pdGlvbiB0aGF0IFR5cGVTY3JpcHQgdXNlcyBvZiB0aGUgQXVkaW9QYXJhbU1hcCBpcyBsYWNraW5nIG1hbnkgbWV0aG9kcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5wYXJhbWV0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBvcnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5wb3J0O1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby13b3JrbGV0LW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNvcHlGcm9tQ2hhbm5lbChhdWRpb0J1ZmZlciwgXG4vLyBAdG9kbyBUaGVyZSBpcyBjdXJyZW50bHkgbm8gd2F5IHRvIGRlZmluZSBzb21ldGhpbmcgbGlrZSB7IFsga2V5OiBudW1iZXIgfCBzdHJpbmcgXTogRmxvYXQzMkFycmF5IH1cbnBhcmVudCwga2V5LCBjaGFubmVsTnVtYmVyLCBidWZmZXJPZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUaGUgYnl0ZUxlbmd0aCB3aWxsIGJlIDAgd2hlbiB0aGUgQXJyYXlCdWZmZXIgd2FzIHRyYW5zZmVycmVkLlxuICAgICAgICBpZiAocGFyZW50W2tleV0uYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcGFyZW50W2tleV0gPSBuZXcgRmxvYXQzMkFycmF5KDEyOCk7XG4gICAgICAgIH1cbiAgICAgICAgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsKHBhcmVudFtrZXldLCBjaGFubmVsTnVtYmVyLCBidWZmZXJPZmZzZXQpO1xuICAgICAgICAvLyBCdWcgIzU6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlGcm9tQ2hhbm5lbCgpLlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsTnVtYmVyKTtcbiAgICAgICAgLy8gVGhlIGJ5dGVMZW5ndGggd2lsbCBiZSAwIHdoZW4gdGhlIEFycmF5QnVmZmVyIHdhcyB0cmFuc2ZlcnJlZC5cbiAgICAgICAgaWYgKHBhcmVudFtrZXldLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHBhcmVudFtrZXldID0gY2hhbm5lbERhdGEuc2xpY2UoYnVmZmVyT2Zmc2V0LCBidWZmZXJPZmZzZXQgKyAxMjgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2xpY2VkSW5wdXQgPSBuZXcgRmxvYXQzMkFycmF5KGNoYW5uZWxEYXRhLmJ1ZmZlciwgYnVmZmVyT2Zmc2V0ICogRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCAxMjgpO1xuICAgICAgICAgICAgcGFyZW50W2tleV0uc2V0KHNsaWNlZElucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcHktZnJvbS1jaGFubmVsLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjb3B5VG9DaGFubmVsID0gKGF1ZGlvQnVmZmVyLCBwYXJlbnQsIGtleSwgY2hhbm5lbE51bWJlciwgYnVmZmVyT2Zmc2V0KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBhdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRoZSBieXRlTGVuZ3RoIHdpbGwgYmUgMCB3aGVuIHRoZSBBcnJheUJ1ZmZlciB3YXMgdHJhbnNmZXJyZWQuXG4gICAgICAgIGlmIChwYXJlbnRba2V5XS5ieXRlTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBhdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsKHBhcmVudFtrZXldLCBjaGFubmVsTnVtYmVyLCBidWZmZXJPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY29weVRvQ2hhbm5lbCgpLlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGJ5dGVMZW5ndGggd2lsbCBiZSAwIHdoZW4gdGhlIEFycmF5QnVmZmVyIHdhcyB0cmFuc2ZlcnJlZC5cbiAgICAgICAgaWYgKHBhcmVudFtrZXldLmJ5dGVMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWxOdW1iZXIpLnNldChwYXJlbnRba2V5XSwgYnVmZmVyT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3B5LXRvLWNoYW5uZWwuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5lc3RlZEFycmF5cyA9ICh4LCB5KSA9PiB7XG4gICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4OyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdHlwZW9mIHkgPT09ICdudW1iZXInID8geSA6IHlbaV07XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2gobmV3IEZsb2F0MzJBcnJheSgxMjgpKTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheXMucHVzaChhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLW5lc3RlZC1hcnJheXMuanMubWFwIiwiaW1wb3J0IHsgY29weUZyb21DaGFubmVsIH0gZnJvbSAnLi4vaGVscGVycy9jb3B5LWZyb20tY2hhbm5lbCc7XG5pbXBvcnQgeyBjb3B5VG9DaGFubmVsIH0gZnJvbSAnLi4vaGVscGVycy9jb3B5LXRvLWNoYW5uZWwnO1xuaW1wb3J0IHsgY3JlYXRlTmVzdGVkQXJyYXlzIH0gZnJvbSAnLi4vaGVscGVycy9jcmVhdGUtbmVzdGVkLWFycmF5cyc7XG5pbXBvcnQgeyBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yIH0gZnJvbSAnLi4vaGVscGVycy9nZXQtYXVkaW8td29ya2xldC1wcm9jZXNzb3InO1xuaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5jb25zdCBwcm9jZXNzQnVmZmVyID0gYXN5bmMgKHByb3h5LCByZW5kZXJlZEJ1ZmZlciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucywgb3V0cHV0Q2hhbm5lbENvdW50LCBwcm9jZXNzb3JDb25zdHJ1Y3RvciwgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUpID0+IHtcbiAgICAvLyBDZWlsIHRoZSBsZW5ndGggdG8gdGhlIG5leHQgZnVsbCByZW5kZXIgcXVhbnR1bS5cbiAgICAvLyBCdWcgIzE3OiBTYWZhcmkgZG9lcyBub3QgeWV0IGV4cG9zZSB0aGUgbGVuZ3RoLlxuICAgIGNvbnN0IGxlbmd0aCA9IHJlbmRlcmVkQnVmZmVyID09PSBudWxsID8gTWF0aC5jZWlsKHByb3h5LmNvbnRleHQubGVuZ3RoIC8gMTI4KSAqIDEyOCA6IHJlbmRlcmVkQnVmZmVyLmxlbmd0aDtcbiAgICBjb25zdCBudW1iZXJPZklucHV0Q2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxDb3VudCAqIG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7XG4gICAgY29uc3QgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyA9IG91dHB1dENoYW5uZWxDb3VudC5yZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlLCAwKTtcbiAgICBjb25zdCBwcm9jZXNzZWRCdWZmZXIgPSBudW1iZXJPZk91dHB1dENoYW5uZWxzID09PSAwXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKG51bWJlck9mT3V0cHV0Q2hhbm5lbHMsIGxlbmd0aCwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIHByb2Nlc3NvciBjb25zdHJ1Y3Rvci4nKTtcbiAgICB9XG4gICAgY29uc3QgYXVkaW9Ob2RlQ29ubmVjdGlvbnMgPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhwcm94eSk7XG4gICAgY29uc3QgYXVkaW9Xb3JrbGV0UHJvY2Vzc29yID0gYXdhaXQgZ2V0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5KTtcbiAgICBjb25zdCBpbnB1dHMgPSBjcmVhdGVOZXN0ZWRBcnJheXMob3B0aW9ucy5udW1iZXJPZklucHV0cywgb3B0aW9ucy5jaGFubmVsQ291bnQpO1xuICAgIGNvbnN0IG91dHB1dHMgPSBjcmVhdGVOZXN0ZWRBcnJheXMob3B0aW9ucy5udW1iZXJPZk91dHB1dHMsIG91dHB1dENoYW5uZWxDb3VudCk7XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IEFycmF5LmZyb20ocHJveHkucGFyYW1ldGVycy5rZXlzKCkpLnJlZHVjZSgocHJtdHJzLCBuYW1lKSA9PiAoeyAuLi5wcm10cnMsIFtuYW1lXTogbmV3IEZsb2F0MzJBcnJheSgxMjgpIH0pLCB7fSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMTI4KSB7XG4gICAgICAgIGlmIChvcHRpb25zLm51bWJlck9mSW5wdXRzID4gMCAmJiByZW5kZXJlZEJ1ZmZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvcHRpb25zLm51bWJlck9mSW5wdXRzOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG9wdGlvbnMuY2hhbm5lbENvdW50OyBrICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29weUZyb21DaGFubmVsKHJlbmRlcmVkQnVmZmVyLCBpbnB1dHNbal0sIGssIGssIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgIT09IHVuZGVmaW5lZCAmJiByZW5kZXJlZEJ1ZmZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMuZm9yRWFjaCgoeyBuYW1lIH0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29weUZyb21DaGFubmVsKHJlbmRlcmVkQnVmZmVyLCBwYXJhbWV0ZXJzLCBuYW1lLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBpbmRleCwgaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvdXRwdXRDaGFubmVsQ291bnRbal07IGsgKz0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBieXRlTGVuZ3RoIHdpbGwgYmUgMCB3aGVuIHRoZSBBcnJheUJ1ZmZlciB3YXMgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dHNbal1ba10uYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRzW2pdW2tdID0gbmV3IEZsb2F0MzJBcnJheSgxMjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcG90ZW50aWFsbHlFbXB0eUlucHV0cyA9IGlucHV0cy5tYXAoKGlucHV0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb05vZGVDb25uZWN0aW9ucy5hY3RpdmVJbnB1dHNbaW5kZXhdLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNvdXJjZUZsYWcgPSBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZShpIC8gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnNhbXBsZVJhdGUsICgpID0+IGF1ZGlvV29ya2xldFByb2Nlc3Nvci5wcm9jZXNzKHBvdGVudGlhbGx5RW1wdHlJbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzZWRCdWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCA9IDA7IGogPCBvcHRpb25zLm51bWJlck9mT3V0cHV0czsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3V0cHV0Q2hhbm5lbENvdW50W2pdOyBrICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlUb0NoYW5uZWwocHJvY2Vzc2VkQnVmZmVyLCBvdXRwdXRzW2pdLCBrLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ICsgaywgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArPSBvdXRwdXRDaGFubmVsQ291bnRbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhY3RpdmVTb3VyY2VGbGFnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBwcm94eS5kaXNwYXRjaEV2ZW50KG5ldyBFcnJvckV2ZW50KCdwcm9jZXNzb3JlcnJvcicsIHtcbiAgICAgICAgICAgICAgICBjb2xubzogZXJyb3IuY29sbm8sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVycm9yLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIGxpbmVubzogZXJyb3IubGluZW5vLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzZWRCdWZmZXI7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY29ubmVjdEF1ZGlvUGFyYW0sIGNvbm5lY3RNdWx0aXBsZU91dHB1dHMsIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGRlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlLCBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG5hbWUsIG9wdGlvbnMsIHByb2Nlc3NvckNvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGxldCBwcm9jZXNzZWRCdWZmZXJQcm9taXNlID0gbnVsbDtcbiAgICAgICAgY29uc3QgY3JlYXRlQXVkaW9Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICBsZXQgbmF0aXZlT3V0cHV0Tm9kZXMgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbENvdW50ID0gQXJyYXkuaXNBcnJheShvcHRpb25zLm91dHB1dENoYW5uZWxDb3VudClcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50XG4gICAgICAgICAgICAgICAgOiBBcnJheS5mcm9tKG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNjE6IE9ubHkgQ2hyb21lLCBFZGdlICYgRmlyZWZveCBoYXZlIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBBdWRpb1dvcmtsZXROb2RlIHlldC5cbiAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJPZk91dHB1dENoYW5uZWxzID0gb3V0cHV0Q2hhbm5lbENvdW50LnJlZHVjZSgoc3VtLCB2YWx1ZSkgPT4gc3VtICsgdmFsdWUsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBNYXRoLm1heCgxLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk91dHB1dHM6IE1hdGgubWF4KDEsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm94eS5udW1iZXJPZk91dHB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMucHVzaChjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IG91dHB1dENoYW5uZWxDb3VudFtpXVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBvcHRpb25zLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogb3B0aW9ucy5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGdhaW46IDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvdXRwdXRHYWluTm9kZS5jb25uZWN0ID0gY29ubmVjdE11bHRpcGxlT3V0cHV0cy5iaW5kKG51bGwsIG91dHB1dENoYW5uZWxNZXJnZXJOb2Rlcyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0R2Fpbk5vZGUuZGlzY29ubmVjdCA9IGRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMuYmluZChudWxsLCBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZU91dHB1dE5vZGVzID0gW291dHB1dENoYW5uZWxTcGxpdHRlck5vZGUsIG91dHB1dENoYW5uZWxNZXJnZXJOb2Rlcywgb3V0cHV0R2Fpbk5vZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW5hdGl2ZUF1ZGlvV29ya2xldE5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA9IG5ldyBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZU91dHB1dE5vZGVzID09PSBudWxsID8gbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA6IG5hdGl2ZU91dHB1dE5vZGVzWzJdKTtcbiAgICAgICAgICAgIGlmIChuYXRpdmVPdXRwdXROb2RlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzZWRCdWZmZXJQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzb3JDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIHByb2Nlc3NvciBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIG5hdGl2ZSBPZmZsaW5lQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNDc6IFRoZSBBdWRpb0Rlc3RpbmF0aW9uTm9kZSBpbiBTYWZhcmkgZ2V0cyBub3QgaW5pdGlhbGl6ZWQgY29ycmVjdGx5LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJPZklucHV0Q2hhbm5lbHMgPSBwcm94eS5jaGFubmVsQ291bnQgKiBwcm94eS5udW1iZXJPZklucHV0cztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZQYXJhbWV0ZXJzID0gcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgPT09IHVuZGVmaW5lZCA/IDAgOiBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlck9mQ2hhbm5lbHMgPSBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBudW1iZXJPZlBhcmFtZXRlcnM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlckJ1ZmZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihudW1iZXJPZkNoYW5uZWxzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENlaWwgdGhlIGxlbmd0aCB0byB0aGUgbmV4dCBmdWxsIHJlbmRlciBxdWFudHVtLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxNzogU2FmYXJpIGRvZXMgbm90IHlldCBleHBvc2UgdGhlIGxlbmd0aC5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbChwcm94eS5jb250ZXh0Lmxlbmd0aCAvIDEyOCkgKiAxMjgsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWluTm9kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2Fpbk5vZGVzLnB1c2goY3JlYXRlTmF0aXZlR2Fpbk5vZGUocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogb3B0aW9ucy5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG9wdGlvbnMuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYWluOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXMucHVzaChjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogb3B0aW9ucy5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZPdXRwdXRzOiBvcHRpb25zLmNoYW5uZWxDb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZXMgPSBhd2FpdCBQcm9taXNlLmFsbChBcnJheS5mcm9tKHByb3h5LnBhcmFtZXRlcnMudmFsdWVzKCkpLm1hcChhc3luYyAoYXVkaW9QYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZShwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBhdWRpb1BhcmFtLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwgYXVkaW9QYXJhbSwgY29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50U291cmNlTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0Q2hhbm5lbE1lcmdlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJPZklucHV0czogTWF0aC5tYXgoMSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzICsgbnVtYmVyT2ZQYXJhbWV0ZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhaW5Ob2Rlc1tpXS5jb25uZWN0KGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5jaGFubmVsQ291bnQ7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzW2ldLmNvbm5lY3QoaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSwgaiwgaSAqIG9wdGlvbnMuY2hhbm5lbENvdW50ICsgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNvbnN0YW50U291cmNlTm9kZV0gb2YgY29uc3RhbnRTb3VyY2VOb2Rlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuY29ubmVjdChpbnB1dENoYW5uZWxNZXJnZXJOb2RlLCAwLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLnN0YXJ0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDaGFubmVsTWVyZ2VyTm9kZS5jb25uZWN0KHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGdhaW5Ob2Rlcy5tYXAoKGdhaW5Ob2RlKSA9PiByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgcGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIGdhaW5Ob2RlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRCdWZmZXJQcm9taXNlID0gcHJvY2Vzc0J1ZmZlcihwcm94eSwgbnVtYmVyT2ZDaGFubmVscyA9PT0gMCA/IG51bGwgOiBhd2FpdCByZW5kZXJCdWZmZXIoKSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucywgb3V0cHV0Q2hhbm5lbENvdW50LCBwcm9jZXNzb3JDb25zdHJ1Y3RvciwgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRCdWZmZXIgPSBhd2FpdCBwcm9jZXNzZWRCdWZmZXJQcm9taXNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAyLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbG9vcEVuZDogMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF5YmFja1JhdGU6IDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBbb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSwgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzLCBvdXRwdXRHYWluTm9kZV0gPSBuYXRpdmVPdXRwdXROb2RlcztcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc2VkQnVmZmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPSBwcm9jZXNzZWRCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3Qob3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgPSAwOyBpIDwgcHJveHkubnVtYmVyT2ZPdXRwdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUgPSBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3V0cHV0Q2hhbm5lbENvdW50W2ldOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUuY29ubmVjdChvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZSwgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArIGosIGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKz0gb3V0cHV0Q2hhbm5lbENvdW50W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0R2Fpbk5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUF1ZGlvV29ya2xldE5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbbm0sIGF1ZGlvUGFyYW1dIG9mIHByb3h5LnBhcmFtZXRlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgYXVkaW9QYXJhbSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIFRoZSBkZWZpbml0aW9uIHRoYXQgVHlwZVNjcmlwdCB1c2VzIG9mIHRoZSBBdWRpb1BhcmFtTWFwIGlzIGxhY2tpbmcgbWFueSBtZXRob2RzLlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLnBhcmFtZXRlcnMuZ2V0KG5tKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbbm0sIGF1ZGlvUGFyYW1dIG9mIHByb3h5LnBhcmFtZXRlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIGF1ZGlvUGFyYW0sIFxuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbyBUaGUgZGVmaW5pdGlvbiB0aGF0IFR5cGVTY3JpcHQgdXNlcyBvZiB0aGUgQXVkaW9QYXJhbU1hcCBpcyBsYWNraW5nIG1hbnkgbWV0aG9kcy5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5wYXJhbWV0ZXJzLmdldChubSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb1dvcmtsZXROb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZU9yR2Fpbk5vZGUgPSByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUF1ZGlvV29ya2xldE5vZGVPckdhaW5Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvV29ya2xldE5vZGVPckdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby13b3JrbGV0LW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBOT0RFX1RPX1BST0NFU1NPUl9NQVBTIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXROYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuL2dldC1uYXRpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vZ2V0LXZhbHVlLWZvci1rZXknO1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvV29ya2xldFByb2Nlc3NvciA9IChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eSkgPT4ge1xuICAgIGNvbnN0IG5vZGVUb1Byb2Nlc3Nvck1hcCA9IGdldFZhbHVlRm9yS2V5KE5PREVfVE9fUFJPQ0VTU09SX01BUFMsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShub2RlVG9Qcm9jZXNzb3JNYXAsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIFE6IDEsXG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBkZXR1bmU6IDAsXG4gICAgZnJlcXVlbmN5OiAzNTAsXG4gICAgZ2FpbjogMCxcbiAgICB0eXBlOiAnbG93cGFzcydcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQmlxdWFkRmlsdGVyTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciwgY3JlYXRlTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBCaXF1YWRGaWx0ZXJOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBiaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlQmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyKCkgOiBudWxsKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBiaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gQnVnICM4MDogU2FmYXJpIGRvZXMgbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX1EgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5RLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgLy8gQnVnICM3ODogRmlyZWZveCAmIFNhZmFyaSBkbyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fZGV0dW5lID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZGV0dW5lLCAxMjAwICogTWF0aC5sb2cyKE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUKSwgLTEyMDAgKiBNYXRoLmxvZzIoTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQpKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzc6IEZpcmVmb3ggJiBTYWZhcmkgZG8gbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZSBmb3IgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5mcmVxdWVuY3ksIGNvbnRleHQuc2FtcGxlUmF0ZSAvIDIsIDApO1xuICAgICAgICAgICAgLy8gQnVnICM3OTogRmlyZWZveCAmIFNhZmFyaSBkbyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fZ2FpbiA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmdhaW4sIDQwICogTWF0aC5sb2cxMChNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCksIE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlO1xuICAgICAgICAgICAgLy8gQHRvZG8gRGV0ZXJtaW5lIGEgbWVhbmluZ2Z1bCB0YWlsLXRpbWUgaW5zdGVhZCBvZiBqdXN0IHVzaW5nIG9uZSBzZWNvbmQuXG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGV0dW5lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RldHVuZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZnJlcXVlbmN5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyZXF1ZW5jeTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZ2FpbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nYWluO1xuICAgICAgICB9XG4gICAgICAgIGdldCBRKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX1E7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0eXBlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLnR5cGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRGcmVxdWVuY3lSZXNwb25zZShmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTg5OiBTYWZhcmkgZG9lcyB0aHJvdyBhbiBJbnZhbGlkU3RhdGVFcnJvci5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5nZXRGcmVxdWVuY3lSZXNwb25zZShmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1ZyAjNjg6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcGFyYW1ldGVycyBkaWZmZXIgaW4gdGhlaXIgbGVuZ3RoLlxuICAgICAgICAgICAgaWYgKGZyZXF1ZW5jeUh6Lmxlbmd0aCAhPT0gbWFnUmVzcG9uc2UubGVuZ3RoIHx8IG1hZ1Jlc3BvbnNlLmxlbmd0aCAhPT0gcGhhc2VSZXNwb25zZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlxdWFkLWZpbHRlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgbnVtYmVyT2ZJbnB1dHM6IDZcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBDaGFubmVsTWVyZ2VyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyID0gKChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkgPyBjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyKCkgOiBudWxsKSk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLW1lcmdlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDYsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgbnVtYmVyT2ZPdXRwdXRzOiA2XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNhbml0aXplQ2hhbm5lbFNwbGl0dGVyT3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBjbGFzcyBDaGFubmVsU3BsaXR0ZXJOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMoeyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlciA9ICgoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpID8gY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyKCkgOiBudWxsKSk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgY2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1zcGxpdHRlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImltcG9ydCB7IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0FjdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtYWN0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tYWN0aXZlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIG9mZnNldDogMVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5LCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgd3JhcEV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQ29uc3RhbnRTb3VyY2VOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIgPSAoKGlzT2ZmbGluZSA/IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSgpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIgPSBjb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlcjtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBCdWcgIzYyICYgIzc0OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBDb25zdGFudFNvdXJjZU5vZGVzIGFuZCBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWVcbiAgICAgICAgICAgICAqIGZvciBHYWluTm9kZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub2Zmc2V0LCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9uZW5kZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25lbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb25lbmRlZCh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgdmFsdWUpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vbmVuZGVkID0gd3JhcHBlZExpc3RlbmVyO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT25FbmRlZCA9IHRoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vbmVuZGVkO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCA9IG5hdGl2ZU9uRW5kZWQgIT09IG51bGwgJiYgbmF0aXZlT25FbmRlZCA9PT0gd3JhcHBlZExpc3RlbmVyID8gdmFsdWUgOiBuYXRpdmVPbkVuZGVkO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0KHdoZW4gPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuc3RhcnQod2hlbik7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlci5zdGFydCA9IHdoZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdG9wKHdoZW4gPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuc3RvcCh3aGVuKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyLnN0b3AgPSB3aGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudC1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgYnVmZmVyOiBudWxsLFxuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnY2xhbXBlZC1tYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBkaXNhYmxlTm9ybWFsaXphdGlvbjogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQ29udm9sdmVyTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQ29udm9sdmVyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnZvbHZlck5vZGUgPSBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgY29udm9sdmVyTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlcigpIDogbnVsbCk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlQ29udm9sdmVyTm9kZSwgY29udm9sdmVyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb252b2x2ZXJOb2RlID0gbmF0aXZlQ29udm9sdmVyTm9kZTtcbiAgICAgICAgICAgIGlmIChtZXJnZWRPcHRpb25zLmJ1ZmZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIG1lcmdlZE9wdGlvbnMuYnVmZmVyLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgYnVmZmVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1ZmZlcih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTE1OiBTYWZhcmkgZG9lcyBub3QgYWxsb3cgdG8gc2V0IHRoZSBidWZmZXIgdG8gbnVsbC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiB0aGlzLl9uYXRpdmVDb252b2x2ZXJOb2RlLmJ1ZmZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSB0aGlzLl9uYXRpdmVDb252b2x2ZXJOb2RlLmNvbnRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0QXVkaW9Ob2RlVGFpbFRpbWUodGhpcywgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIgPT09IG51bGwgPyAwIDogdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIuZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBub3JtYWxpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG5vcm1hbGl6ZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udm9sdmVyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGRldGFjaEFycmF5QnVmZmVyID0gKGFycmF5QnVmZmVyKSA9PiB7XG4gICAgY29uc3QgeyBwb3J0MSwgcG9ydDIgfSA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCBjbG9zZUFuZFJlc29sdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBwb3J0Mi5vbm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgcG9ydDEuY2xvc2UoKTtcbiAgICAgICAgICAgIHBvcnQyLmNsb3NlKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHBvcnQyLm9ubWVzc2FnZSA9ICgpID0+IGNsb3NlQW5kUmVzb2x2ZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9ydDEucG9zdE1lc3NhZ2UoYXJyYXlCdWZmZXIsIFthcnJheUJ1ZmZlcl0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMuXG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjbG9zZUFuZFJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGFjaC1hcnJheS1idWZmZXIuanMubWFwIiwiY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgZGVsYXlUaW1lOiAwLFxuICAgIG1heERlbGF5VGltZTogMVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVEZWxheU5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBEZWxheU5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEZWxheU5vZGUgPSBjcmVhdGVOYXRpdmVEZWxheU5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBkZWxheU5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVEZWxheU5vZGVSZW5kZXJlcihtZXJnZWRPcHRpb25zLm1heERlbGF5VGltZSkgOiBudWxsKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVEZWxheU5vZGUsIGRlbGF5Tm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbGF5VGltZSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEZWxheU5vZGUuZGVsYXlUaW1lKTtcbiAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIG1lcmdlZE9wdGlvbnMubWF4RGVsYXlUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGVsYXlUaW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGF5VGltZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXktbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZSc7XG5jb25zdCBnZXRPdXRwdXRBdWRpb05vZGVBdEluZGV4ID0gKGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBvdXRwdXRBdWRpb05vZGVzLCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCBvdXRwdXRBdWRpb05vZGUgPSBvdXRwdXRBdWRpb05vZGVzW291dHB1dF07XG4gICAgaWYgKG91dHB1dEF1ZGlvTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRBdWRpb05vZGU7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMgPSAoY3JlYXRlSW5kZXhTaXplRXJyb3IpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dEF1ZGlvTm9kZXMsIGRlc3RpbmF0aW9uT3JPdXRwdXQgPSB1bmRlZmluZWQsIG91dHB1dCA9IHVuZGVmaW5lZCwgaW5wdXQgPSAwKSA9PiB7XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbk9yT3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRBdWRpb05vZGVzLmZvckVhY2goKG91dHB1dEF1ZGlvTm9kZSkgPT4gb3V0cHV0QXVkaW9Ob2RlLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yT3V0cHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGdldE91dHB1dEF1ZGlvTm9kZUF0SW5kZXgoY3JlYXRlSW5kZXhTaXplRXJyb3IsIG91dHB1dEF1ZGlvTm9kZXMsIGRlc3RpbmF0aW9uT3JPdXRwdXQpLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb25Pck91dHB1dCkpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRBdWRpb05vZGVzLmZvckVhY2goKG91dHB1dEF1ZGlvTm9kZSkgPT4gb3V0cHV0QXVkaW9Ob2RlLmRpc2Nvbm5lY3QoZGVzdGluYXRpb25Pck91dHB1dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0T3V0cHV0QXVkaW9Ob2RlQXRJbmRleChjcmVhdGVJbmRleFNpemVFcnJvciwgb3V0cHV0QXVkaW9Ob2Rlcywgb3V0cHV0KS5kaXNjb25uZWN0KGRlc3RpbmF0aW9uT3JPdXRwdXQsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldE91dHB1dEF1ZGlvTm9kZUF0SW5kZXgoY3JlYXRlSW5kZXhTaXplRXJyb3IsIG91dHB1dEF1ZGlvTm9kZXMsIG91dHB1dCkuZGlzY29ubmVjdChkZXN0aW5hdGlvbk9yT3V0cHV0LCAwLCBpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2Rlcy5mb3JFYWNoKChvdXRwdXRBdWRpb05vZGUpID0+IG91dHB1dEF1ZGlvTm9kZS5kaXNjb25uZWN0KGRlc3RpbmF0aW9uT3JPdXRwdXQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0T3V0cHV0QXVkaW9Ob2RlQXRJbmRleChjcmVhdGVJbmRleFNpemVFcnJvciwgb3V0cHV0QXVkaW9Ob2Rlcywgb3V0cHV0KS5kaXNjb25uZWN0KGRlc3RpbmF0aW9uT3JPdXRwdXQsIDApO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzY29ubmVjdC1tdWx0aXBsZS1vdXRwdXRzLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBhdHRhY2s6IDAuMDAzLFxuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnY2xhbXBlZC1tYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBrbmVlOiAzMCxcbiAgICByYXRpbzogMTIsXG4gICAgcmVsZWFzZTogMC4yNSxcbiAgICB0aHJlc2hvbGQ6IC0yNFxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgRHluYW1pY3NDb21wcmVzc29yTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgZHluYW1pY3NDb21wcmVzc29yTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlcigpIDogbnVsbCk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgZHluYW1pY3NDb21wcmVzc29yTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjayA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmF0dGFjayk7XG4gICAgICAgICAgICB0aGlzLl9rbmVlID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZSk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlID0gbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZTtcbiAgICAgICAgICAgIHRoaXMuX3JhdGlvID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8pO1xuICAgICAgICAgICAgdGhpcy5fcmVsZWFzZSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlbGVhc2UpO1xuICAgICAgICAgICAgdGhpcy5fdGhyZXNob2xkID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUudGhyZXNob2xkKTtcbiAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIDAuMDA2KTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgYXR0YWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzEwODogU2FmYXJpIGFsbG93cyBhIGNoYW5uZWxDb3VudCBvZiB0aHJlZSBhbmQgYWJvdmUgd2hpY2ggaXMgd2h5IHRoZSBnZXR0ZXIgYW5kIHNldHRlciBuZWVkcyB0byBiZSBvdmVyd3JpdHRlbiBoZXJlLlxuICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsQ291bnQodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ2hhbm5lbENvdW50ID0gdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50ID0gcHJldmlvdXNDaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBCdWcgIzEwOTogT25seSBDaHJvbWUgYW5kIEZpcmVmb3ggZGlzYWxsb3cgYSBjaGFubmVsQ291bnRNb2RlIG9mICdtYXgnIHlldCB3aGljaCBpcyB3aHkgdGhlIGdldHRlciBhbmQgc2V0dGVyIG5lZWRzIHRvIGJlXG4gICAgICAgICAqIG92ZXJ3cml0dGVuIGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ2hhbm5lbENvdW50ID0gdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICdtYXgnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlID0gcHJldmlvdXNDaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQga25lZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9rbmVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCByYXRpbygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYXRpbztcbiAgICAgICAgfVxuICAgICAgICBnZXQgcmVkdWN0aW9uKCkge1xuICAgICAgICAgICAgLy8gQnVnICMxMTE6IFNhZmFyaSByZXR1cm5zIGFuIEF1ZGlvUGFyYW0gaW5zdGVhZCBvZiBhIG51bWJlci5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5yZWR1Y3Rpb24udmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9uLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGdldCByZWxlYXNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbGVhc2U7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHRocmVzaG9sZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aHJlc2hvbGQ7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgZ2FpbjogMVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVHYWluTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVHYWluTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEdhaW5Ob2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGdhaW5Ob2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlR2Fpbk5vZGVSZW5kZXJlcigpIDogbnVsbCk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlR2Fpbk5vZGUsIGdhaW5Ob2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gQnVnICM3NDogU2FmYXJpIGRvZXMgbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX2dhaW4gPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlR2Fpbk5vZGUuZ2FpbiwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZ2FpbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nYWluO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYWluLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yID0gKCkgPT4gbmV3IERPTUV4Y2VwdGlvbignJywgJ0ludmFsaWRTdGF0ZUVycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkLXN0YXRlLWVycm9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IgPSAoKSA9PiBuZXcgRE9NRXhjZXB0aW9uKCcnLCAnSW52YWxpZEFjY2Vzc0Vycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkLWFjY2Vzcy1lcnJvci5qcy5tYXAiLCJpbXBvcnQgeyB3cmFwSUlSRmlsdGVyTm9kZUdldEZyZXF1ZW5jeVJlc3BvbnNlTWV0aG9kIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWlpci1maWx0ZXItbm9kZS1nZXQtZnJlcXVlbmN5LXJlc3BvbnNlLW1ldGhvZCc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJ1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVJSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGUsIGNyZWF0ZUlJUkZpbHRlck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBJSVJGaWx0ZXJOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlSUlSRmlsdGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGUobmF0aXZlQ29udGV4dCwgaXNPZmZsaW5lID8gbnVsbCA6IGNvbnRleHQuYmFzZUxhdGVuY3ksIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaWlyRmlsdGVyTm9kZVJlbmRlcmVyID0gKChpc09mZmxpbmUgPyBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXIobWVyZ2VkT3B0aW9ucy5mZWVkYmFjaywgbWVyZ2VkT3B0aW9ucy5mZWVkZm9yd2FyZCkgOiBudWxsKSk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlSUlSRmlsdGVyTm9kZSwgaWlyRmlsdGVyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMjMgJiAjMjQ6IEZpcmVmb3hEZXZlbG9wZXIgZG9lcyBub3QgdGhyb3cgYW4gSW52YWxpZEFjY2Vzc0Vycm9yLlxuICAgICAgICAgICAgLy8gQHRvZG8gV3JpdGUgYSB0ZXN0IHdoaWNoIGFsbG93cyBvdGhlciBicm93c2VycyB0byByZW1haW4gdW5wYXRjaGVkLlxuICAgICAgICAgICAgd3JhcElJUkZpbHRlck5vZGVHZXRGcmVxdWVuY3lSZXNwb25zZU1ldGhvZChuYXRpdmVJSVJGaWx0ZXJOb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUlJUkZpbHRlck5vZGUgPSBuYXRpdmVJSVJGaWx0ZXJOb2RlO1xuICAgICAgICAgICAgLy8gQHRvZG8gRGV0ZXJtaW5lIGEgbWVhbmluZ2Z1bCB0YWlsLXRpbWUgaW5zdGVhZCBvZiBqdXN0IHVzaW5nIG9uZSBzZWNvbmQuXG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRGcmVxdWVuY3lSZXNwb25zZShmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVJSVJGaWx0ZXJOb2RlLmdldEZyZXF1ZW5jeVJlc3BvbnNlKGZyZXF1ZW5jeUh6LCBtYWdSZXNwb25zZSwgcGhhc2VSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlpci1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCIvLyBUaGlzIGltcGxlbWVudGF0aW9uIGFzIHNoYW1lbGVzc2x5IGluc3BpcmVkIGJ5IHNvdXJjZSBjb2RlIG9mXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4vLyB7QGxpbmsgaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy5naXQvKy9tYXN0ZXIvdGhpcmRfcGFydHkvV2ViS2l0L1NvdXJjZS9wbGF0Zm9ybS9hdWRpby9JSVJGaWx0ZXIuY3BwfENocm9taXVtJ3MgSUlSRmlsdGVyfS5cbmV4cG9ydCBjb25zdCBmaWx0ZXJCdWZmZXIgPSAoZmVlZGJhY2ssIGZlZWRiYWNrTGVuZ3RoLCBmZWVkZm9yd2FyZCwgZmVlZGZvcndhcmRMZW5ndGgsIG1pbkxlbmd0aCwgeEJ1ZmZlciwgeUJ1ZmZlciwgYnVmZmVySW5kZXgsIGJ1ZmZlckxlbmd0aCwgaW5wdXQsIG91dHB1dCkgPT4ge1xuICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIGxldCBpID0gYnVmZmVySW5kZXg7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGxldCB5ID0gZmVlZGZvcndhcmRbMF0gKiBpbnB1dFtqXTtcbiAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCBtaW5MZW5ndGg7IGsgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IChpIC0gaykgJiAoYnVmZmVyTGVuZ3RoIC0gMSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgeSArPSBmZWVkZm9yd2FyZFtrXSAqIHhCdWZmZXJbeF07XG4gICAgICAgICAgICB5IC09IGZlZWRiYWNrW2tdICogeUJ1ZmZlclt4XTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBrID0gbWluTGVuZ3RoOyBrIDwgZmVlZGZvcndhcmRMZW5ndGg7IGsgKz0gMSkge1xuICAgICAgICAgICAgeSArPSBmZWVkZm9yd2FyZFtrXSAqIHhCdWZmZXJbKGkgLSBrKSAmIChidWZmZXJMZW5ndGggLSAxKV07IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGsgPSBtaW5MZW5ndGg7IGsgPCBmZWVkYmFja0xlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgICB5IC09IGZlZWRiYWNrW2tdICogeUJ1ZmZlclsoaSAtIGspICYgKGJ1ZmZlckxlbmd0aCAtIDEpXTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgIH1cbiAgICAgICAgeEJ1ZmZlcltpXSA9IGlucHV0W2pdO1xuICAgICAgICB5QnVmZmVyW2ldID0geTtcbiAgICAgICAgaSA9IChpICsgMSkgJiAoYnVmZmVyTGVuZ3RoIC0gMSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICBvdXRwdXRbal0gPSB5O1xuICAgIH1cbiAgICByZXR1cm4gaTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYnVmZmVyLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2Vycydcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICAvLyBCdWcgIzE3MzogU2FmYXJpIGFsbG93cyB0byBjcmVhdGUgYSBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlIHdpdGggYW4gT2ZmbGluZUF1ZGlvQ29udGV4dC5cbiAgICAgICAgICAgIGlmIChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSA9IG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHN0cmVhbSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLnN0cmVhbTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVkaWEtc3RyZWFtLWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RQcm9taXNlU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgLy8gVGhpcyAxMiBudW1iZXJzIHJlcHJlc2VudCB0aGUgNDggYnl0ZXMgb2YgYW4gZW1wdHkgV0FWRSBmaWxlIHdpdGggYSBzaW5nbGUgc2FtcGxlLlxuICAgIGNvbnN0IHVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KFsxMTc5MDExNDEwLCA0MCwgMTE2MzI4MDcyNywgNTQ0NTAxMDk0LCAxNiwgMTMxMDczLCA0NDEwMCwgMTc2NDAwLCAxMDQ4NTgwLCAxNjM1MDE3MDYwLCA0LCAwXSk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQnVnICMxOiBTYWZhcmkgcmVxdWlyZXMgYSBzdWNjZXNzQ2FsbGJhY2suXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuYXRpdmVDb250ZXh0LmRlY29kZUF1ZGlvRGF0YSh1aW50MzJBcnJheS5idWZmZXIsICgpID0+IHtcbiAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgc3VjY2VzcyBjYWxsYmFjay5cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcm9taXNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIElnbm9yZSByZWplY3RlZCBlcnJvcnMuXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLlxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1wcm9taXNlLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbiA9IChuYXRpdmVBdWRpb05vZGUsIG9wdGlvbnMsIG9wdGlvbikgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRpb25dO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBuYXRpdmVBdWRpb05vZGVbb3B0aW9uXSkge1xuICAgICAgICBuYXRpdmVBdWRpb05vZGVbb3B0aW9uXSA9IHZhbHVlO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbiB9IGZyb20gJy4vYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbic7XG5leHBvcnQgY29uc3QgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyA9IChuYXRpdmVBdWRpb05vZGUsIG9wdGlvbnMpID0+IHtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQXVkaW9Ob2RlLCBvcHRpb25zLCAnY2hhbm5lbENvdW50Jyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvTm9kZSwgb3B0aW9ucywgJ2NoYW5uZWxDb3VudE1vZGUnKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQXVkaW9Ob2RlLCBvcHRpb25zLCAnY2hhbm5lbEludGVycHJldGF0aW9uJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kU3VwcG9ydCA9IChuYXRpdmVBbmFseXNlck5vZGUpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIG5hdGl2ZUFuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2Qtc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlID0gKG5hdGl2ZUF1ZGlvTm9kZSwgb3B0aW9ucywgYXVkaW9QYXJhbSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1thdWRpb1BhcmFtXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbmF0aXZlQXVkaW9Ob2RlW2F1ZGlvUGFyYW1dLnZhbHVlKSB7XG4gICAgICAgIG5hdGl2ZUF1ZGlvTm9kZVthdWRpb1BhcmFtXS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUuanMubWFwIiwiZXhwb3J0IGNvbnN0IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyA9IChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUpID0+IHtcbiAgICBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuc3RhcnQgPSAoKHN0YXJ0KSA9PiB7XG4gICAgICAgIHJldHVybiAod2hlbiA9IDAsIG9mZnNldCA9IDAsIGR1cmF0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgZHVyYXRpb24gPCAwKSB8fCBvZmZzZXQgPCAwIHx8IHdoZW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcGFyYW1ldGVycyBjYW4ndCBiZSBuZWdhdGl2ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdG9kbyBUeXBlU2NyaXB0IGNhbm5vdCBpbmZlciB0aGUgb3ZlcmxvYWRlZCBzaWduYXR1cmUgd2l0aCAzIGFyZ3VtZW50cyB5ZXQuXG4gICAgICAgICAgICBzdGFydC5jYWxsKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZSwgd2hlbiwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgIH07XG4gICAgfSkobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnN0YXJ0KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycy5qcy5tYXAiLCJleHBvcnQgY29uc3Qgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMgPSAobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlKSA9PiB7XG4gICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnN0b3AgPSAoKHN0b3ApID0+IHtcbiAgICAgICAgcmV0dXJuICh3aGVuID0gMCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdoZW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcGFyYW1ldGVyIGNhbid0IGJlIG5lZ2F0aXZlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3AuY2FsbChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIHdoZW4pO1xuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5zdG9wKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjb21wdXRlQnVmZmVyU2l6ZSA9IChiYXNlTGF0ZW5jeSwgc2FtcGxlUmF0ZSkgPT4ge1xuICAgIGlmIChiYXNlTGF0ZW5jeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gNTEyO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoNTEyLCBNYXRoLm1pbigxNjM4NCwgTWF0aC5wb3coMiwgTWF0aC5yb3VuZChNYXRoLmxvZzIoYmFzZUxhdGVuY3kgKiBzYW1wbGVSYXRlKSkpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHV0ZS1idWZmZXItc2l6ZS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgb3B0aW9ucyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIG9wdGlvbnMsICdRJyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIG9wdGlvbnMsICdkZXR1bmUnKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgb3B0aW9ucywgJ2ZyZXF1ZW5jeScpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBvcHRpb25zLCAnZ2FpbicpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBvcHRpb25zLCAndHlwZScpO1xuICAgIHJldHVybiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1iaXF1YWQtZmlsdGVyLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuaW1wb3J0IHsgd3JhcENoYW5uZWxTcGxpdHRlck5vZGUgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtY2hhbm5lbC1zcGxpdHRlci1ub2RlJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlID0gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBuYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIob3B0aW9ucy5udW1iZXJPZk91dHB1dHMpO1xuICAgIC8vIEJ1ZyAjOTY6IFNhZmFyaSBkb2VzIG5vdCBoYXZlIHRoZSBjb3JyZWN0IGNoYW5uZWxDb3VudC5cbiAgICAvLyBCdWcgIzI5OiBTYWZhcmkgZG9lcyBub3QgaGF2ZSB0aGUgY29ycmVjdCBjaGFubmVsQ291bnRNb2RlLlxuICAgIC8vIEJ1ZyAjMzE6IFNhZmFyaSBkb2VzIG5vdCBoYXZlIHRoZSBjb3JyZWN0IGNoYW5uZWxJbnRlcnByZXRhdGlvbi5cbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIG9wdGlvbnMpO1xuICAgIC8vIEJ1ZyAjMjksICMzMCwgIzMxLCAjMzIsICM5NiAmICM5NzogT25seSBDaHJvbWUsIEVkZ2UgJiBGaXJlZm94IHBhcnRpYWxseSBzdXBwb3J0IHRoZSBzcGVjIHlldC5cbiAgICB3cmFwQ2hhbm5lbFNwbGl0dGVyTm9kZShuYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKTtcbiAgICByZXR1cm4gbmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtY2hhbm5lbC1zcGxpdHRlci1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yIH0gZnJvbSAnLi4vZmFjdG9yaWVzL2ludmFsaWQtc3RhdGUtZXJyb3InO1xuZXhwb3J0IGNvbnN0IHdyYXBDaGFubmVsU3BsaXR0ZXJOb2RlID0gKGNoYW5uZWxTcGxpdHRlck5vZGUpID0+IHtcbiAgICBjb25zdCBjaGFubmVsQ291bnQgPSBjaGFubmVsU3BsaXR0ZXJOb2RlLm51bWJlck9mT3V0cHV0cztcbiAgICAvLyBCdWcgIzk3OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGNoYW5nZSB0aGUgY2hhbm5lbENvdW50IHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIGl0cyBpbml0aWFsIHZhbHVlLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGFubmVsU3BsaXR0ZXJOb2RlLCAnY2hhbm5lbENvdW50Jywge1xuICAgICAgICBnZXQ6ICgpID0+IGNoYW5uZWxDb3VudCxcbiAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gY2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEJ1ZyAjMzA6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gY2hhbmdlIHRoZSBjaGFubmVsQ291bnRNb2RlIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIGV4cGxpY2l0LlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGFubmVsU3BsaXR0ZXJOb2RlLCAnY2hhbm5lbENvdW50TW9kZScsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiAnZXhwbGljaXQnLFxuICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnZXhwbGljaXQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEJ1ZyAjMzI6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gY2hhbmdlIHRoZSBjaGFubmVsSW50ZXJwcmV0YXRpb24gdG8gc29tZXRoaW5nIG90aGVyIHRoYW4gZGlzY3JldGUuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoYW5uZWxTcGxpdHRlck5vZGUsICdjaGFubmVsSW50ZXJwcmV0YXRpb24nLCB7XG4gICAgICAgIGdldDogKCkgPT4gJ2Rpc2NyZXRlJyxcbiAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJ2Rpc2NyZXRlJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWNoYW5uZWwtc3BsaXR0ZXItbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaW50ZXJjZXB0Q29ubmVjdGlvbnMgPSAob3JpZ2luYWwsIGludGVyY2VwdG9yKSA9PiB7XG4gICAgb3JpZ2luYWwuY29ubmVjdCA9IGludGVyY2VwdG9yLmNvbm5lY3QuYmluZChpbnRlcmNlcHRvcik7XG4gICAgb3JpZ2luYWwuZGlzY29ubmVjdCA9IGludGVyY2VwdG9yLmRpc2Nvbm5lY3QuYmluZChpbnRlcmNlcHRvcik7XG4gICAgcmV0dXJuIG9yaWdpbmFsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyY2VwdC1jb25uZWN0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlRGVsYXlOb2RlID0gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBuYXRpdmVEZWxheU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZURlbGF5KG9wdGlvbnMubWF4RGVsYXlUaW1lKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZURlbGF5Tm9kZSwgb3B0aW9ucyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZURlbGF5Tm9kZSwgb3B0aW9ucywgJ2RlbGF5VGltZScpO1xuICAgIHJldHVybiBuYXRpdmVEZWxheU5vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWRlbGF5LW5vZGUuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlID0gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBuYXRpdmVHYWluTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlR2Fpbk5vZGUsIG9wdGlvbnMpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVHYWluTm9kZSwgb3B0aW9ucywgJ2dhaW4nKTtcbiAgICByZXR1cm4gbmF0aXZlR2Fpbk5vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWdhaW4tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBjb21wdXRlQnVmZmVyU2l6ZSB9IGZyb20gJy4uL2hlbHBlcnMvY29tcHV0ZS1idWZmZXItc2l6ZSc7XG5pbXBvcnQgeyBmaWx0ZXJCdWZmZXIgfSBmcm9tICcuLi9oZWxwZXJzL2ZpbHRlci1idWZmZXInO1xuaW1wb3J0IHsgaW50ZXJjZXB0Q29ubmVjdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2ludGVyY2VwdC1jb25uZWN0aW9ucyc7XG5mdW5jdGlvbiBkaXZpZGUoYSwgYikge1xuICAgIGNvbnN0IGRlbm9taW5hdG9yID0gYlswXSAqIGJbMF0gKyBiWzFdICogYlsxXTtcbiAgICByZXR1cm4gWyhhWzBdICogYlswXSArIGFbMV0gKiBiWzFdKSAvIGRlbm9taW5hdG9yLCAoYVsxXSAqIGJbMF0gLSBhWzBdICogYlsxXSkgLyBkZW5vbWluYXRvcl07XG59XG5mdW5jdGlvbiBtdWx0aXBseShhLCBiKSB7XG4gICAgcmV0dXJuIFthWzBdICogYlswXSAtIGFbMV0gKiBiWzFdLCBhWzBdICogYlsxXSArIGFbMV0gKiBiWzBdXTtcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlUG9seW5vbWlhbChjb2VmZmljaWVudCwgeikge1xuICAgIGxldCByZXN1bHQgPSBbMCwgMF07XG4gICAgZm9yIChsZXQgaSA9IGNvZWZmaWNpZW50Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IG11bHRpcGx5KHJlc3VsdCwgeik7XG4gICAgICAgIHJlc3VsdFswXSArPSBjb2VmZmljaWVudFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXJGYWN0b3J5ID0gKGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBiYXNlTGF0ZW5jeSwgeyBjaGFubmVsQ291bnQsIGNoYW5uZWxDb3VudE1vZGUsIGNoYW5uZWxJbnRlcnByZXRhdGlvbiwgZmVlZGJhY2ssIGZlZWRmb3J3YXJkIH0pID0+IHtcbiAgICAgICAgY29uc3QgYnVmZmVyU2l6ZSA9IGNvbXB1dGVCdWZmZXJTaXplKGJhc2VMYXRlbmN5LCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRGZWVkYmFjayA9IGZlZWRiYWNrIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5ID8gZmVlZGJhY2sgOiBuZXcgRmxvYXQ2NEFycmF5KGZlZWRiYWNrKTtcbiAgICAgICAgY29uc3QgY29udmVydGVkRmVlZGZvcndhcmQgPSBmZWVkZm9yd2FyZCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSA/IGZlZWRmb3J3YXJkIDogbmV3IEZsb2F0NjRBcnJheShmZWVkZm9yd2FyZCk7XG4gICAgICAgIGNvbnN0IGZlZWRiYWNrTGVuZ3RoID0gY29udmVydGVkRmVlZGJhY2subGVuZ3RoO1xuICAgICAgICBjb25zdCBmZWVkZm9yd2FyZExlbmd0aCA9IGNvbnZlcnRlZEZlZWRmb3J3YXJkLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWluTGVuZ3RoID0gTWF0aC5taW4oZmVlZGJhY2tMZW5ndGgsIGZlZWRmb3J3YXJkTGVuZ3RoKTtcbiAgICAgICAgaWYgKGZlZWRiYWNrTGVuZ3RoID09PSAwIHx8IGZlZWRiYWNrTGVuZ3RoID4gMjApIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnZlcnRlZEZlZWRiYWNrWzBdID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmZWVkZm9yd2FyZExlbmd0aCA9PT0gMCB8fCBmZWVkZm9yd2FyZExlbmd0aCA+IDIwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb252ZXJ0ZWRGZWVkZm9yd2FyZFswXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udmVydGVkRmVlZGJhY2tbMF0gIT09IDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVlZGZvcndhcmRMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZlZWRmb3J3YXJkW2ldIC89IGNvbnZlcnRlZEZlZWRiYWNrWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmZWVkYmFja0xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29udmVydGVkRmVlZGJhY2tbaV0gLz0gY29udmVydGVkRmVlZGJhY2tbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NyaXB0UHJvY2Vzc29yTm9kZSA9IGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUobmF0aXZlQ29udGV4dCwgYnVmZmVyU2l6ZSwgY2hhbm5lbENvdW50LCBjaGFubmVsQ291bnQpO1xuICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmNoYW5uZWxDb3VudCA9IGNoYW5uZWxDb3VudDtcbiAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlID0gY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSBjaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IDMyO1xuICAgICAgICBjb25zdCBidWZmZXJJbmRleGVzID0gW107XG4gICAgICAgIGNvbnN0IHhCdWZmZXJzID0gW107XG4gICAgICAgIGNvbnN0IHlCdWZmZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbENvdW50OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ZXMucHVzaCgwKTtcbiAgICAgICAgICAgIGNvbnN0IHhCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlckxlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCB5QnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJMZW5ndGgpO1xuICAgICAgICAgICAgeEJ1ZmZlci5maWxsKDApO1xuICAgICAgICAgICAgeUJ1ZmZlci5maWxsKDApO1xuICAgICAgICAgICAgeEJ1ZmZlcnMucHVzaCh4QnVmZmVyKTtcbiAgICAgICAgICAgIHlCdWZmZXJzLnB1c2goeUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0QnVmZmVyID0gZXZlbnQuaW5wdXRCdWZmZXI7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRCdWZmZXIgPSBldmVudC5vdXRwdXRCdWZmZXI7XG4gICAgICAgICAgICBjb25zdCBudW1iZXJPZkNoYW5uZWxzID0gaW5wdXRCdWZmZXIubnVtYmVyT2ZDaGFubmVscztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZDaGFubmVsczsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBpbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBvdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7XG4gICAgICAgICAgICAgICAgYnVmZmVySW5kZXhlc1tpXSA9IGZpbHRlckJ1ZmZlcihjb252ZXJ0ZWRGZWVkYmFjaywgZmVlZGJhY2tMZW5ndGgsIGNvbnZlcnRlZEZlZWRmb3J3YXJkLCBmZWVkZm9yd2FyZExlbmd0aCwgbWluTGVuZ3RoLCB4QnVmZmVyc1tpXSwgeUJ1ZmZlcnNbaV0sIGJ1ZmZlckluZGV4ZXNbaV0sIGJ1ZmZlckxlbmd0aCwgaW5wdXQsIG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG55cXVpc3QgPSBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUgLyAyO1xuICAgICAgICBjb25zdCBuYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXIgPSB7XG4gICAgICAgICAgICBnZXQgYnVmZmVyU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyU2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbc2NyaXB0UHJvY2Vzc29yTm9kZV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mSW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZk91dHB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvIERpc3NhbGxvdyBhZGRpbmcgYW4gYXVkaW9wcm9jZXNzIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLmFkZEV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuZGlzcGF0Y2hFdmVudChhcmdzWzBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRGcmVxdWVuY3lSZXNwb25zZShmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJlcXVlbmN5SHoubGVuZ3RoICE9PSBtYWdSZXNwb25zZS5sZW5ndGggfHwgbWFnUmVzcG9uc2UubGVuZ3RoICE9PSBwaGFzZVJlc3BvbnNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gZnJlcXVlbmN5SHoubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb21lZ2EgPSAtTWF0aC5QSSAqIChmcmVxdWVuY3lIeltpXSAvIG55cXVpc3QpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB6ID0gW01hdGguY29zKG9tZWdhKSwgTWF0aC5zaW4ob21lZ2EpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtZXJhdG9yID0gZXZhbHVhdGVQb2x5bm9taWFsKGNvbnZlcnRlZEZlZWRmb3J3YXJkLCB6KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVub21pbmF0b3IgPSBldmFsdWF0ZVBvbHlub21pYWwoY29udmVydGVkRmVlZGJhY2ssIHopO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGRpdmlkZShudW1lcmF0b3IsIGRlbm9taW5hdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgbWFnUmVzcG9uc2VbaV0gPSBNYXRoLnNxcnQocmVzcG9uc2VbMF0gKiByZXNwb25zZVswXSArIHJlc3BvbnNlWzFdICogcmVzcG9uc2VbMV0pO1xuICAgICAgICAgICAgICAgICAgICBwaGFzZVJlc3BvbnNlW2ldID0gTWF0aC5hdGFuMihyZXNwb25zZVsxXSwgcmVzcG9uc2VbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0Q29ubmVjdGlvbnMobmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyLCBzY3JpcHRQcm9jZXNzb3JOb2RlKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1paXItZmlsdGVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSA9IChuYXRpdmVDb250ZXh0LCBidWZmZXJTaXplLCBudW1iZXJPZklucHV0Q2hhbm5lbHMsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpID0+IHtcbiAgICByZXR1cm4gbmF0aXZlQ29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoYnVmZmVyU2l6ZSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZSBkZXByZWNhdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1zY3JpcHQtcHJvY2Vzc29yLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yID0gKCkgPT4gbmV3IERPTUV4Y2VwdGlvbignJywgJ05vdFN1cHBvcnRlZEVycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3Qtc3VwcG9ydGVkLWVycm9yLmpzLm1hcCIsImltcG9ydCB7IGRlYWN0aXZhdGVBdWRpb0dyYXBoIH0gZnJvbSAnLi4vaGVscGVycy9kZWFjdGl2YXRlLWF1ZGlvLWdyYXBoJztcbmltcG9ydCB7IHRlc3RQcm9taXNlU3VwcG9ydCB9IGZyb20gJy4uL2hlbHBlcnMvdGVzdC1wcm9taXNlLXN1cHBvcnQnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIG51bWJlck9mQ2hhbm5lbHM6IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc3RhcnRSZW5kZXJpbmcpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgT2ZmbGluZUF1ZGlvQ29udGV4dCBleHRlbmRzIGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGEsIGIsIGMpIHtcbiAgICAgICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiBiICE9PSB1bmRlZmluZWQgJiYgYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHsgbGVuZ3RoOiBiLCBudW1iZXJPZkNoYW5uZWxzOiBhLCBzYW1wbGVSYXRlOiBjIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGdpdmVuIHBhcmFtZXRlcnMgYXJlIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgbGVuZ3RoLCBudW1iZXJPZkNoYW5uZWxzLCBzYW1wbGVSYXRlIH0gPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTtcbiAgICAgICAgICAgIC8vICMyMSBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBwcm9taXNlcyBhbmQgdGhlcmVmb3JlIHdvdWxkIGZpcmUgdGhlIHN0YXRlY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgcHJvbWlzZSBjYW4gYmUgcmVzb2x2ZWQuXG4gICAgICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0UHJvbWlzZVN1cHBvcnQsICgpID0+IHRlc3RQcm9taXNlU3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWxheVN0YXRlQ2hhbmdlRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RhdGVjaGFuZ2UnLCBkZWxheVN0YXRlQ2hhbmdlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRoZVByb21pc2VUb1NldHRsZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsYXlTdGF0ZUNoYW5nZUV2ZW50O1xuICAgICAgICAgICAgICAgIH0pKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbnVtYmVyT2ZDaGFubmVscyk7XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICAgICAgLy8gQnVnICMxNzogU2FmYXJpIGRvZXMgbm90IHlldCBleHBvc2UgdGhlIGxlbmd0aC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Lmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IG51bGwgPyB0aGlzLl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnN0YXRlIDogdGhpcy5fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRSZW5kZXJpbmcoKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICM5ICYgIzU5OiBJdCBpcyB0aGVvcmV0aWNhbGx5IHBvc3NpYmxlIHRoYXQgc3RhcnRSZW5kZXJpbmcoKSB3aWxsIGZpcnN0IHJlbmRlciBhIHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LiBUaGVyZWZvcmVcbiAgICAgICAgICAgICAqIHRoZSBzdGF0ZSBvZiB0aGUgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCBtaWdodCBubyB0cmFuc2l0aW9uIHRvIHJ1bm5pbmcgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAncnVubmluZyc7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRSZW5kZXJpbmcodGhpcy5kZXN0aW5hdGlvbiwgdGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVBdWRpb0dyYXBoKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3dhaXRGb3JUaGVQcm9taXNlVG9TZXR0bGUoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3dhaXRGb3JUaGVQcm9taXNlVG9TZXR0bGUoZXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzLm1hcCIsImltcG9ydCB7IGlzQWN0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vaGVscGVycy9pcy1hY3RpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9BY3RpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1hY3RpdmUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JywgLy8gVGhpcyBhdHRyaWJ1dGUgaGFzIG5vIGVmZmVjdCBmb3Igbm9kZXMgd2l0aCBubyBpbnB1dHMuXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLCAvLyBUaGlzIGF0dHJpYnV0ZSBoYXMgbm8gZWZmZWN0IGZvciBub2RlcyB3aXRoIG5vIGlucHV0cy5cbiAgICBkZXR1bmU6IDAsXG4gICAgZnJlcXVlbmN5OiA0NDAsXG4gICAgcGVyaW9kaWNXYXZlOiB1bmRlZmluZWQsXG4gICAgdHlwZTogJ3NpbmUnXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU9zY2lsbGF0b3JOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIE9zY2lsbGF0b3JOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT3NjaWxsYXRvck5vZGUgPSBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG9zY2lsbGF0b3JOb2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlT3NjaWxsYXRvck5vZGVSZW5kZXJlcigpIDogbnVsbCk7XG4gICAgICAgICAgICBjb25zdCBueXF1aXN0ID0gY29udGV4dC5zYW1wbGVSYXRlIC8gMjtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVPc2NpbGxhdG9yTm9kZSwgb3NjaWxsYXRvck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBCdWcgIzgxOiBGaXJlZm94ICYgU2FmYXJpIGRvIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9kZXR1bmUgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlT3NjaWxsYXRvck5vZGUuZGV0dW5lLCAxNTM2MDAsIC0xNTM2MDApO1xuICAgICAgICAgICAgLy8gQnVnICM3NjogU2FmYXJpIGRvZXMgbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVPc2NpbGxhdG9yTm9kZS5mcmVxdWVuY3ksIG55cXVpc3QsIC1ueXF1aXN0KTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlID0gbmF0aXZlT3NjaWxsYXRvck5vZGU7XG4gICAgICAgICAgICB0aGlzLl9vbmVuZGVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIgPSBvc2NpbGxhdG9yTm9kZVJlbmRlcmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIgIT09IG51bGwgJiYgbWVyZ2VkT3B0aW9ucy5wZXJpb2RpY1dhdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIucGVyaW9kaWNXYXZlID1cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkT3B0aW9ucy5wZXJpb2RpY1dhdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGRldHVuZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXR1bmU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGZyZXF1ZW5jeSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmVxdWVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9uZW5kZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25lbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb25lbmRlZCh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgdmFsdWUpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLm9uZW5kZWQgPSB3cmFwcGVkTGlzdGVuZXI7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVPbkVuZGVkID0gdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUub25lbmRlZDtcbiAgICAgICAgICAgIHRoaXMuX29uZW5kZWQgPSBuYXRpdmVPbkVuZGVkICE9PSBudWxsICYmIG5hdGl2ZU9uRW5kZWQgPT09IHdyYXBwZWRMaXN0ZW5lciA/IHZhbHVlIDogbmF0aXZlT25FbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0eXBlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS50eXBlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIucGVyaW9kaWNXYXZlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRQZXJpb2RpY1dhdmUocGVyaW9kaWNXYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5zZXRQZXJpb2RpY1dhdmUocGVyaW9kaWNXYXZlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlci5wZXJpb2RpY1dhdmUgPSBwZXJpb2RpY1dhdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnQod2hlbiA9IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnN0YXJ0KHdoZW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnN0YXJ0ID0gd2hlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmVBdWRpb05vZGUodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdG9wKHdoZW4gPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5zdG9wKHdoZW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnN0b3AgPSB3aGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vc2NpbGxhdG9yLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2NsYW1wZWQtbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgY29uZUlubmVyQW5nbGU6IDM2MCxcbiAgICBjb25lT3V0ZXJBbmdsZTogMzYwLFxuICAgIGNvbmVPdXRlckdhaW46IDAsXG4gICAgZGlzdGFuY2VNb2RlbDogJ2ludmVyc2UnLFxuICAgIG1heERpc3RhbmNlOiAxMDAwMCxcbiAgICBvcmllbnRhdGlvblg6IDEsXG4gICAgb3JpZW50YXRpb25ZOiAwLFxuICAgIG9yaWVudGF0aW9uWjogMCxcbiAgICBwYW5uaW5nTW9kZWw6ICdlcXVhbHBvd2VyJyxcbiAgICBwb3NpdGlvblg6IDAsXG4gICAgcG9zaXRpb25ZOiAwLFxuICAgIHBvc2l0aW9uWjogMCxcbiAgICByZWZEaXN0YW5jZTogMSxcbiAgICByb2xsb2ZmRmFjdG9yOiAxXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVBhbm5lck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlUGFubmVyTm9kZSwgY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIFBhbm5lck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVQYW5uZXJOb2RlID0gY3JlYXRlTmF0aXZlUGFubmVyTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHBhbm5lck5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVQYW5uZXJOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZVBhbm5lck5vZGUsIHBhbm5lck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlID0gbmF0aXZlUGFubmVyTm9kZTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzQ6IFNhZmFyaSBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9vcmllbnRhdGlvblggPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblgsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9vcmllbnRhdGlvblkgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblksIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9vcmllbnRhdGlvblogPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblosIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvblggPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblgsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvblkgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblksIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvblogPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblosIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICAvLyBAdG9kbyBEZXRlcm1pbmUgYSBtZWFuaW5nZnVsIHRhaWwtdGltZSBpbnN0ZWFkIG9mIGp1c3QgdXNpbmcgb25lIHNlY29uZC5cbiAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjb25lSW5uZXJBbmdsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25lSW5uZXJBbmdsZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lSW5uZXJBbmdsZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjb25lT3V0ZXJBbmdsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25lT3V0ZXJBbmdsZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lT3V0ZXJBbmdsZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjb25lT3V0ZXJHYWluKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyR2FpbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29uZU91dGVyR2Fpbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lT3V0ZXJHYWluID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGRpc3RhbmNlTW9kZWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICB9XG4gICAgICAgIHNldCBkaXN0YW5jZU1vZGVsKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmRpc3RhbmNlTW9kZWwgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgbWF4RGlzdGFuY2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5tYXhEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWF4RGlzdGFuY2UodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUubWF4RGlzdGFuY2UgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgb3JpZW50YXRpb25YKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgb3JpZW50YXRpb25ZKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgb3JpZW50YXRpb25aKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcGFubmluZ01vZGVsKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUucGFubmluZ01vZGVsO1xuICAgICAgICB9XG4gICAgICAgIHNldCBwYW5uaW5nTW9kZWwodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUucGFubmluZ01vZGVsID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBvc2l0aW9uWCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblg7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBvc2l0aW9uWSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBvc2l0aW9uWigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblo7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHJlZkRpc3RhbmNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUucmVmRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJlZkRpc3RhbmNlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnJlZkRpc3RhbmNlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHJvbGxvZmZGYWN0b3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHNldCByb2xsb2ZmRmFjdG9yKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnJvbGxvZmZGYWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFubmVyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGRpc2FibGVOb3JtYWxpemF0aW9uOiBmYWxzZVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVQZXJpb2RpY1dhdmVDb25zdHJ1Y3RvciA9IChjcmVhdGVOYXRpdmVQZXJpb2RpY1dhdmUsIGdldE5hdGl2ZUNvbnRleHQsIHBlcmlvZGljV2F2ZVN0b3JlLCBzYW5pdGl6ZVBlcmlvZGljV2F2ZU9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgUGVyaW9kaWNXYXZlIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0gc2FuaXRpemVQZXJpb2RpY1dhdmVPcHRpb25zKHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgICAgY29uc3QgcGVyaW9kaWNXYXZlID0gY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgcGVyaW9kaWNXYXZlU3RvcmUuYWRkKHBlcmlvZGljV2F2ZSk7XG4gICAgICAgICAgICAvLyBUaGlzIGRvZXMgdmlvbGF0ZSBhbGwgZ29vZCBwcmF0aWNlcyBidXQgaXQgaXMgdXNlZCBoZXJlIHRvIHNpbXBsaWZ5IHRoZSBoYW5kbGluZyBvZiBwZXJpb2RpYyB3YXZlcy5cbiAgICAgICAgICAgIHJldHVybiBwZXJpb2RpY1dhdmU7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIFtTeW1ib2wuaGFzSW5zdGFuY2VdKGluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKChpbnN0YW5jZSAhPT0gbnVsbCAmJiB0eXBlb2YgaW5zdGFuY2UgPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0YW5jZSkgPT09IFBlcmlvZGljV2F2ZS5wcm90b3R5cGUpIHx8XG4gICAgICAgICAgICAgICAgcGVyaW9kaWNXYXZlU3RvcmUuaGFzKGluc3RhbmNlKSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcmlvZGljLXdhdmUtY29uc3RydWN0b3IuanMubWFwIiwiY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICAvKlxuICAgICAqIEJ1ZyAjMTA1OiBUaGUgY2hhbm5lbENvdW50TW9kZSBzaG91bGQgYmUgJ2NsYW1wZWQtbWF4JyBhY2NvcmRpbmcgdG8gdGhlIHNwZWMgYnV0IGlzIHNldCB0byAnZXhwbGljaXQnIHRvIGFjaGlldmUgY29uc2lzdGVudFxuICAgICAqIGJlaGF2aW9yLlxuICAgICAqL1xuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIHBhbjogMFxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIFN0ZXJlb1Bhbm5lck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlID0gY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIHN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9wYW4gPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5wYW4pO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwYW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFuO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVyZW8tcGFubmVyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVVua25vd25FcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdVbmtub3duRXJyb3InKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVua25vd24tZXJyb3IuanMubWFwIiwiY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgY3VydmU6IG51bGwsXG4gICAgb3ZlcnNhbXBsZTogJ25vbmUnXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVdhdmVTaGFwZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZSwgY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBXYXZlU2hhcGVyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVdhdmVTaGFwZXJOb2RlID0gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCB3YXZlU2hhcGVyTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgLy8gQHRvZG8gQWRkIGEgbWVjaGFuaXNtIHRvIG9ubHkgc3dpdGNoIGEgV2F2ZVNoYXBlck5vZGUgdG8gYWN0aXZlIHdoaWxlIGl0IGlzIGNvbm5lY3RlZC5cbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIHRydWUsIG5hdGl2ZVdhdmVTaGFwZXJOb2RlLCB3YXZlU2hhcGVyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ3VydmVOdWxsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlID0gbmF0aXZlV2F2ZVNoYXBlck5vZGU7XG4gICAgICAgICAgICAvLyBAdG9kbyBEZXRlcm1pbmUgYSBtZWFuaW5nZnVsIHRhaWwtdGltZSBpbnN0ZWFkIG9mIGp1c3QgdXNpbmcgb25lIHNlY29uZC5cbiAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjdXJ2ZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0N1cnZlTnVsbGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGN1cnZlKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzEwMzogU2FmYXJpIGRvZXMgbm90IGFsbG93IHRvIHNldCB0aGUgY3VydmUgdG8gbnVsbC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ3VydmVOdWxsaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMDI6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBJbnZhbGlkU3RhdGVFcnJvciB3aGVuIHRoZSBjdXJ2ZSBoYXMgbGVzcyB0aGFuIHR3byBzYW1wbGVzLlxuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTA0OiBDaHJvbWUgYW5kIEVkZ2Ugd2lsbCB0aHJvdyBhbiBJbnZhbGlkQWNjZXNzRXJyb3Igd2hlbiB0aGUgY3VydmUgaGFzIGxlc3MgdGhhbiB0d28gc2FtcGxlcy5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9pc0N1cnZlTnVsbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgb3ZlcnNhbXBsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBvdmVyc2FtcGxlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdmUtc2hhcGVyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGdldEZpcnN0U2FtcGxlID0gKGF1ZGlvQnVmZmVyLCBidWZmZXIsIGNoYW5uZWxOdW1iZXIpID0+IHtcbiAgICAvLyBCdWcgIzU6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlGcm9tQ2hhbm5lbCgpIGFuZCBjb3B5VG9DaGFubmVsKCkuXG4gICAgaWYgKGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsTnVtYmVyKVswXTtcbiAgICB9XG4gICAgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsKGJ1ZmZlciwgY2hhbm5lbE51bWJlcik7XG4gICAgcmV0dXJuIGJ1ZmZlclswXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtZmlyc3Qtc2FtcGxlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0RDQ3VydmUgPSAoY3VydmUpID0+IHtcbiAgICBpZiAoY3VydmUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsZW5ndGggPSBjdXJ2ZS5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGN1cnZlW01hdGguZmxvb3IobGVuZ3RoIC8gMildICE9PSAwO1xuICAgIH1cbiAgICByZXR1cm4gY3VydmVbbGVuZ3RoIC8gMiAtIDFdICsgY3VydmVbbGVuZ3RoIC8gMl0gIT09IDA7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtZGMtY3VydmUuanMubWFwIiwiZXhwb3J0IGNvbnN0IG92ZXJ3cml0ZUFjY2Vzc29ycyA9IChvYmplY3QsIHByb3BlcnR5LCBjcmVhdGVHZXR0ZXIsIGNyZWF0ZVNldHRlcikgPT4ge1xuICAgIGxldCBwcm90b3R5cGUgPSBvYmplY3Q7XG4gICAgd2hpbGUgKCFwcm90b3R5cGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgIHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgIH1cbiAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvdHlwZSwgcHJvcGVydHkpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCB7IGdldDogY3JlYXRlR2V0dGVyKGdldCksIHNldDogY3JlYXRlU2V0dGVyKHNldCkgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3ZlcndyaXRlLWFjY2Vzc29ycy5qcy5tYXAiLCJleHBvcnQgY29uc3Qgc2V0VmFsdWVBdFRpbWVVbnRpbFBvc3NpYmxlID0gKGF1ZGlvUGFyYW0sIHZhbHVlLCBzdGFydFRpbWUpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKHZhbHVlLCBzdGFydFRpbWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuY29kZSAhPT0gOSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZShhdWRpb1BhcmFtLCB2YWx1ZSwgc3RhcnRUaW1lICsgMWUtNyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC12YWx1ZS1hdC10aW1lLXVudGlsLXBvc3NpYmxlLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0ID0gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoLTEpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnIgaW5zdGFuY2VvZiBSYW5nZUVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXIgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCA0NDEwMCk7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID0gbmF0aXZlQXVkaW9CdWZmZXI7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KCk7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLWNvbnNlY3V0aXZlLWNhbGxzLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoLTEpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnIgaW5zdGFuY2VvZiBSYW5nZUVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycy1zdXBwb3J0LmpzLm1hcCIsImltcG9ydCB7IGludGVyY2VwdENvbm5lY3Rpb25zIH0gZnJvbSAnLi9pbnRlcmNlcHQtY29ubmVjdGlvbnMnO1xuZXhwb3J0IGNvbnN0IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscyA9IChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVHYWluTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5jb25uZWN0KG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICBjb25zdCBkaXNjb25uZWN0R2Fpbk5vZGUgPSAoKGRpc2Nvbm5lY3QpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgY2Fubm90IGluZmVyIHRoZSBvdmVybG9hZGVkIHNpZ25hdHVyZSB3aXRoIDEgYXJndW1lbnQgeWV0LlxuICAgICAgICAgICAgZGlzY29ubmVjdC5jYWxsKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZSwgbmF0aXZlR2Fpbk5vZGUpO1xuICAgICAgICAgICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZGlzY29ubmVjdEdhaW5Ob2RlKTtcbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuZGlzY29ubmVjdCk7XG4gICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZGlzY29ubmVjdEdhaW5Ob2RlKTtcbiAgICBpbnRlcmNlcHRDb25uZWN0aW9ucyhuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuc3RvcCA9ICgoc3RvcCkgPT4ge1xuICAgICAgICBsZXQgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiAod2hlbiA9IDApID0+IHtcbiAgICAgICAgICAgIGlmIChpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wLmNhbGwobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCB3aGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVHYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHdoZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3AuY2FsbChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIHdoZW4pO1xuICAgICAgICAgICAgICAgIGlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnN0b3ApO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLWNvbnNlY3V0aXZlLWNhbGxzLmpzLm1hcCIsImV4cG9ydCBjb25zdCB3cmFwRXZlbnRMaXN0ZW5lciA9ICh0YXJnZXQsIGV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7IHZhbHVlOiB0YXJnZXQgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXZlbnQsIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICB0YXJnZXQ6IGRlc2NyaXB0b3JcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXIuY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRMaXN0ZW5lci5oYW5kbGVFdmVudC5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1ldmVudC1saXN0ZW5lci5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50IH0gZnJvbSAnYXV0b21hdGlvbi1ldmVudHMnO1xuaW1wb3J0IHsgY3JlYXRlQWJvcnRFcnJvciB9IGZyb20gJy4vZmFjdG9yaWVzL2Fib3J0LWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZUFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlQWRkQXVkaW9Ob2RlQ29ubmVjdGlvbnMgfSBmcm9tICcuL2ZhY3Rvcmllcy9hZGQtYXVkaW8tbm9kZS1jb25uZWN0aW9ucyc7XG5pbXBvcnQgeyBjcmVhdGVBZGRBdWRpb1BhcmFtQ29ubmVjdGlvbnMgfSBmcm9tICcuL2ZhY3Rvcmllcy9hZGQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlQWRkQXVkaW9Xb3JrbGV0TW9kdWxlIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLWF1ZGlvLXdvcmtsZXQtbW9kdWxlJztcbmltcG9ydCB7IGNyZWF0ZUFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL2FkZC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlQWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZUFkZFNpbGVudENvbm5lY3Rpb24gfSBmcm9tICcuL2ZhY3Rvcmllcy9hZGQtc2lsZW50LWNvbm5lY3Rpb24nO1xuaW1wb3J0IHsgY3JlYXRlQWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9hZGQtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlQW5hbHlzZXJOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9hbmFseXNlci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUFuYWx5c2VyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2FuYWx5c2VyLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tZGVzdGluYXRpb24tbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyIH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tZGVzdGluYXRpb24tbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvTGlzdGVuZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tbGlzdGVuZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb05vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9QYXJhbUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9hdWRpby1wYXJhbS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLXBhcmFtLXJlbmRlcmVyJztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLXdvcmtsZXQtbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8td29ya2xldC1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYmFzZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2JpcXVhZC1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvYmlxdWFkLWZpbHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ2FjaGVUZXN0UmVzdWx0IH0gZnJvbSAnLi9mYWN0b3JpZXMvY2FjaGUtdGVzdC1yZXN1bHQnO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2NoYW5uZWwtbWVyZ2VyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9jaGFubmVsLW1lcmdlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvY2hhbm5lbC1zcGxpdHRlci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9jaGFubmVsLXNwbGl0dGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVDb25uZWN0QXVkaW9QYXJhbSB9IGZyb20gJy4vZmFjdG9yaWVzL2Nvbm5lY3QtYXVkaW8tcGFyYW0nO1xuaW1wb3J0IHsgY3JlYXRlQ29ubmVjdE11bHRpcGxlT3V0cHV0cyB9IGZyb20gJy4vZmFjdG9yaWVzL2Nvbm5lY3QtbXVsdGlwbGUtb3V0cHV0cyc7XG5pbXBvcnQgeyBjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvY29ubmVjdGVkLW5hdGl2ZS1hdWRpby1idWZmZXItc291cmNlLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2NvbnN0YW50LXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2NvbnN0YW50LXNvdXJjZS1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ29udmVydE51bWJlclRvVW5zaWduZWRMb25nIH0gZnJvbSAnLi9mYWN0b3JpZXMvY29udmVydC1udW1iZXItdG8tdW5zaWduZWQtbG9uZyc7XG5pbXBvcnQgeyBjcmVhdGVDb252b2x2ZXJOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9jb252b2x2ZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvY29udm9sdmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVDcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvY3JlYXRlLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlRGF0YUNsb25lRXJyb3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9kYXRhLWNsb25lLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZURlY29kZUF1ZGlvRGF0YSB9IGZyb20gJy4vZmFjdG9yaWVzL2RlY29kZS1hdWRpby1kYXRhJztcbmltcG9ydCB7IGNyZWF0ZURlY3JlbWVudEN5Y2xlQ291bnRlciB9IGZyb20gJy4vZmFjdG9yaWVzL2RlY3JlbWVudC1jeWNsZS1jb3VudGVyJztcbmltcG9ydCB7IGNyZWF0ZURlbGF5Tm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvZGVsYXktbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVEZWxheU5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZWxheS1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlRGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZWxldGUtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVEZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL2RlbGV0ZS11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVEZXRlY3RDeWNsZXMgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZXRlY3QtY3ljbGVzJztcbmltcG9ydCB7IGNyZWF0ZURpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMgfSBmcm9tICcuL2ZhY3Rvcmllcy9kaXNjb25uZWN0LW11bHRpcGxlLW91dHB1dHMnO1xuaW1wb3J0IHsgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvZHluYW1pY3MtY29tcHJlc3Nvci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9keW5hbWljcy1jb21wcmVzc29yLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVFbmNvZGluZ0Vycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvZW5jb2RpbmctZXJyb3InO1xuaW1wb3J0IHsgY3JlYXRlRXZhbHVhdGVTb3VyY2UgfSBmcm9tICcuL2ZhY3Rvcmllcy9ldmFsdWF0ZS1zb3VyY2UnO1xuaW1wb3J0IHsgY3JlYXRlRXZlbnRUYXJnZXRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2V2ZW50LXRhcmdldC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVFeHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSB9IGZyb20gJy4vZmFjdG9yaWVzL2V4cG9zZS1jdXJyZW50LWZyYW1lLWFuZC1jdXJyZW50LXRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlRmV0Y2hTb3VyY2UgfSBmcm9tICcuL2ZhY3Rvcmllcy9mZXRjaC1zb3VyY2UnO1xuaW1wb3J0IHsgY3JlYXRlR2Fpbk5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2dhaW4tbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVHYWluTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2dhaW4tbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUdldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtYWN0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1pbnB1dHMnO1xuaW1wb3J0IHsgY3JlYXRlR2V0QXVkaW9Ob2RlUmVuZGVyZXIgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtYXVkaW8tbm9kZS1yZW5kZXJlcic7XG5pbXBvcnQgeyBjcmVhdGVHZXRBdWRpb05vZGVUYWlsVGltZSB9IGZyb20gJy4vZmFjdG9yaWVzL2dldC1hdWRpby1ub2RlLXRhaWwtdGltZSc7XG5pbXBvcnQgeyBjcmVhdGVHZXRBdWRpb1BhcmFtUmVuZGVyZXIgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtYXVkaW8tcGFyYW0tcmVuZGVyZXInO1xuaW1wb3J0IHsgY3JlYXRlR2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2dldC1iYWNrdXAtb2ZmbGluZS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUdldE5hdGl2ZUNvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtbmF0aXZlLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlR2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvZ2V0LW9yLWNyZWF0ZS1iYWNrdXAtb2ZmbGluZS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcyB9IGZyb20gJy4vZmFjdG9yaWVzL2dldC11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZXMnO1xuaW1wb3J0IHsgY3JlYXRlSUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvaWlyLWZpbHRlci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUlJUkZpbHRlck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9paXItZmlsdGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvaW5jcmVtZW50LWN5Y2xlLWNvdW50ZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVJbmRleFNpemVFcnJvciB9IGZyb20gJy4vZmFjdG9yaWVzL2luZGV4LXNpemUtZXJyb3InO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvaW52YWxpZC1hY2Nlc3MtZXJyb3InO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9pbnZhbGlkLXN0YXRlLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZUlzQW55QXVkaW9Db250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtYW55LWF1ZGlvLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlSXNBbnlBdWRpb05vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9pcy1hbnktYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVJc0FueUF1ZGlvUGFyYW0gfSBmcm9tICcuL2ZhY3Rvcmllcy9pcy1hbnktYXVkaW8tcGFyYW0nO1xuaW1wb3J0IHsgY3JlYXRlSXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtYW55LW9mZmxpbmUtYXVkaW8tY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVJc05hdGl2ZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLW5hdGl2ZS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUlzTmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlSXNOYXRpdmVBdWRpb1BhcmFtIH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtbmF0aXZlLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGNyZWF0ZUlzTmF0aXZlQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLW5hdGl2ZS1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlSXNTZWN1cmVDb250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtc2VjdXJlLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlSXNTdXBwb3J0ZWRQcm9taXNlIH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtc3VwcG9ydGVkLXByb21pc2UnO1xuaW1wb3J0IHsgY3JlYXRlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9tZWRpYS1lbGVtZW50LWF1ZGlvLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL21lZGlhLXN0cmVhbS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9tZWRpYS1zdHJlYW0tYXVkaW8tc291cmNlLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvbWVkaWEtc3RyZWFtLXRyYWNrLWF1ZGlvLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1pbmltYWxBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL21pbmltYWwtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVNaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvbWluaW1hbC1iYXNlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTWluaW1hbE9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL21pbmltYWwtb2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1vbml0b3JDb25uZWN0aW9ucyB9IGZyb20gJy4vZmFjdG9yaWVzL21vbml0b3ItY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hbmFseXNlci1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1idWZmZXItY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1idWZmZXItc291cmNlLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtZmFrZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWJpcXVhZC1maWx0ZXItbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtY2hhbm5lbC1tZXJnZXItbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtY2hhbm5lbC1zcGxpdHRlci1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtY29uc3RhbnQtc291cmNlLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtY29uc3RhbnQtc291cmNlLW5vZGUtZmFrZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1jb252b2x2ZXItbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1kZWxheS1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWR5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWdhaW4tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1paXItZmlsdGVyLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWlpci1maWx0ZXItbm9kZS1mYWtlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1lbGVtZW50LWF1ZGlvLXNvdXJjZS1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtbWVkaWEtc3RyZWFtLWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtbWVkaWEtc3RyZWFtLWF1ZGlvLXNvdXJjZS1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLW1lZGlhLXN0cmVhbS10cmFjay1hdWRpby1zb3VyY2Utbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLW9zY2lsbGF0b3Itbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXBhbm5lci1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZha2VyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1wYW5uZXItbm9kZS1mYWtlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtcGVyaW9kaWMtd2F2ZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtc2NyaXB0LXByb2Nlc3Nvci1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXN0ZXJlby1wYW5uZXItbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtc3RlcmVvLXBhbm5lci1ub2RlLWZha2VyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXdhdmUtc2hhcGVyLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS13YXZlLXNoYXBlci1ub2RlLWZha2VyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9ub3Qtc3VwcG9ydGVkLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL29mZmxpbmUtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVPc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvb3NjaWxsYXRvci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvb3NjaWxsYXRvci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlUGFubmVyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvcGFubmVyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL3Bhbm5lci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlUGVyaW9kaWNXYXZlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9wZXJpb2RpYy13YXZlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlckF1dG9tYXRpb24gfSBmcm9tICcuL2ZhY3Rvcmllcy9yZW5kZXItYXV0b21hdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL3JlbmRlci1pbnB1dHMtb2YtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0gfSBmcm9tICcuL2ZhY3Rvcmllcy9yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9yZW5kZXItbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVTZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzIH0gZnJvbSAnLi9mYWN0b3JpZXMvc2V0LWFjdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtaW5wdXRzJztcbmltcG9ydCB7IGNyZWF0ZVNldEF1ZGlvTm9kZVRhaWxUaW1lIH0gZnJvbSAnLi9mYWN0b3JpZXMvc2V0LWF1ZGlvLW5vZGUtdGFpbC10aW1lJztcbmltcG9ydCB7IGNyZWF0ZVN0YXJ0UmVuZGVyaW5nIH0gZnJvbSAnLi9mYWN0b3JpZXMvc3RhcnQtcmVuZGVyaW5nJztcbmltcG9ydCB7IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL3N0ZXJlby1wYW5uZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvc3RlcmVvLXBhbm5lci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlVGVzdEF1ZGlvQnVmZmVyQ29uc3RydWN0b3JTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby1idWZmZXItY29uc3RydWN0b3Itc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNTdWJhcnJheVN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1zdWJhcnJheS1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb0NvbnRleHRDbG9zZU1ldGhvZFN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLWNvbnRleHQtY2xvc2UtbWV0aG9kLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdEF1ZGlvQ29udGV4dERlY29kZUF1ZGlvRGF0YU1ldGhvZFR5cGVFcnJvclN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLWNvbnRleHQtZGVjb2RlLWF1ZGlvLWRhdGEtbWV0aG9kLXR5cGUtZXJyb3Itc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0QXVkaW9Db250ZXh0T3B0aW9uc1N1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLWNvbnRleHQtb3B0aW9ucy1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb05vZGVDb25uZWN0TWV0aG9kU3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtYXVkaW8tbm9kZS1jb25uZWN0LW1ldGhvZC1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JOb091dHB1dHNTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci1uby1vdXRwdXRzLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdEF1ZGlvV29ya2xldFByb2Nlc3NvclBvc3RNZXNzYWdlU3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtYXVkaW8td29ya2xldC1wcm9jZXNzb3ItcG9zdC1tZXNzYWdlLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdENoYW5uZWxNZXJnZXJOb2RlQ2hhbm5lbENvdW50U3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtY2hhbm5lbC1tZXJnZXItbm9kZS1jaGFubmVsLWNvdW50LXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdENvbnN0YW50U291cmNlTm9kZUFjY3VyYXRlU2NoZWR1bGluZ1N1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWNvbnN0YW50LXNvdXJjZS1ub2RlLWFjY3VyYXRlLXNjaGVkdWxpbmctc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0Q29udm9sdmVyTm9kZUJ1ZmZlclJlYXNzaWduYWJpbGl0eVN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWNvbnZvbHZlci1ub2RlLWJ1ZmZlci1yZWFzc2lnbmFiaWxpdHktc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0Q29udm9sdmVyTm9kZUNoYW5uZWxDb3VudFN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWNvbnZvbHZlci1ub2RlLWNoYW5uZWwtY291bnQtc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0SXNTZWN1cmVDb250ZXh0U3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtaXMtc2VjdXJlLWNvbnRleHQtc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0TWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVNZWRpYVN0cmVhbVdpdGhvdXRBdWRpb1RyYWNrU3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtbWVkaWEtc3RyZWFtLWF1ZGlvLXNvdXJjZS1ub2RlLW1lZGlhLXN0cmVhbS13aXRob3V0LWF1ZGlvLXRyYWNrLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LW9mZmxpbmUtYXVkaW8tY29udGV4dC1jdXJyZW50LXRpbWUtc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0U3RlcmVvUGFubmVyTm9kZURlZmF1bHRWYWx1ZVN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LXN0ZXJlby1wYW5uZXItbm9kZS1kZWZhdWx0LXZhbHVlLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVW5rbm93bkVycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvdW5rbm93bi1lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVXYXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvd2F2ZS1zaGFwZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVXYXZlU2hhcGVyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL3dhdmUtc2hhcGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVXaW5kb3cgfSBmcm9tICcuL2ZhY3Rvcmllcy93aW5kb3cnO1xuaW1wb3J0IHsgY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzIH0gZnJvbSAnLi9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMnO1xuaW1wb3J0IHsgY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMgfSBmcm9tICcuL2ZhY3Rvcmllcy93cmFwLWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzJztcbmltcG9ydCB7IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyIH0gZnJvbSAnLi9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbnVsbGlmaWVkLWJ1ZmZlcic7XG5pbXBvcnQgeyBjcmVhdGVXcmFwQ2hhbm5lbE1lcmdlck5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy93cmFwLWNoYW5uZWwtbWVyZ2VyLW5vZGUnO1xuaW1wb3J0IHsgQVVESU9fTk9ERV9DT05ORUNUSU9OU19TVE9SRSwgQVVESU9fTk9ERV9TVE9SRSwgQVVESU9fUEFSQU1fQ09OTkVDVElPTlNfU1RPUkUsIEFVRElPX1BBUkFNX1NUT1JFLCBDT05URVhUX1NUT1JFLCBDWUNMRV9DT1VOVEVSUyB9IGZyb20gJy4vZ2xvYmFscyc7XG5pbXBvcnQgeyBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuL2hlbHBlcnMvY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS10by1uYXRpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4vaGVscGVycy9kaXNjb25uZWN0LW5hdGl2ZS1hdWRpby1ub2RlLWZyb20tbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMgfSBmcm9tICcuL2hlbHBlcnMvZ2V0LWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9oZWxwZXJzL2dldC1hdWRpby1wYXJhbS1jb25uZWN0aW9ucyc7XG5pbXBvcnQgeyBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlIH0gZnJvbSAnLi9oZWxwZXJzL2dldC1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBnZXRGaXJzdFNhbXBsZSB9IGZyb20gJy4vaGVscGVycy9nZXQtZmlyc3Qtc2FtcGxlJztcbmltcG9ydCB7IGdldE5hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4vaGVscGVycy9nZXQtbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZ2V0TmF0aXZlQXVkaW9QYXJhbSB9IGZyb20gJy4vaGVscGVycy9nZXQtbmF0aXZlLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGdldFZhbHVlRm9yS2V5IH0gZnJvbSAnLi9oZWxwZXJzL2dldC12YWx1ZS1mb3Ita2V5JztcbmltcG9ydCB7IGluc2VydEVsZW1lbnRJblNldCB9IGZyb20gJy4vaGVscGVycy9pbnNlcnQtZWxlbWVudC1pbi1zZXQnO1xuaW1wb3J0IHsgaXNBY3RpdmVBdWRpb05vZGUgfSBmcm9tICcuL2hlbHBlcnMvaXMtYWN0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgaXNEQ0N1cnZlIH0gZnJvbSAnLi9oZWxwZXJzL2lzLWRjLWN1cnZlJztcbmltcG9ydCB7IGlzUGFydE9mQUN5Y2xlIH0gZnJvbSAnLi9oZWxwZXJzL2lzLXBhcnQtb2YtYS1jeWNsZSc7XG5pbXBvcnQgeyBpc1Bhc3NpdmVBdWRpb05vZGUgfSBmcm9tICcuL2hlbHBlcnMvaXMtcGFzc2l2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IG92ZXJ3cml0ZUFjY2Vzc29ycyB9IGZyb20gJy4vaGVscGVycy9vdmVyd3JpdGUtYWNjZXNzb3JzJztcbmltcG9ydCB7IHBpY2tFbGVtZW50RnJvbVNldCB9IGZyb20gJy4vaGVscGVycy9waWNrLWVsZW1lbnQtZnJvbS1zZXQnO1xuaW1wb3J0IHsgc2FuaXRpemVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyB9IGZyb20gJy4vaGVscGVycy9zYW5pdGl6ZS1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMgfSBmcm9tICcuL2hlbHBlcnMvc2FuaXRpemUtY2hhbm5lbC1zcGxpdHRlci1vcHRpb25zJztcbmltcG9ydCB7IHNhbml0aXplUGVyaW9kaWNXYXZlT3B0aW9ucyB9IGZyb20gJy4vaGVscGVycy9zYW5pdGl6ZS1wZXJpb2RpYy13YXZlLW9wdGlvbnMnO1xuaW1wb3J0IHsgc2V0VmFsdWVBdFRpbWVVbnRpbFBvc3NpYmxlIH0gZnJvbSAnLi9oZWxwZXJzL3NldC12YWx1ZS1hdC10aW1lLXVudGlsLXBvc3NpYmxlJztcbmltcG9ydCB7IHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLWNvbnNlY3V0aXZlLWNhbGxzLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmdTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1vZmZzZXQtY2xhbXBpbmctc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlclN1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbnVsbGlmaWVkLWJ1ZmZlci1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLWNvbnNlY3V0aXZlLWNhbGxzLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnNDbG9uYWJpbGl0eSB9IGZyb20gJy4vaGVscGVycy90ZXN0LWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zLWNsb25hYmlsaXR5JztcbmltcG9ydCB7IHRlc3REb21FeGNlcHRpb25Db25zdHJ1Y3RvclN1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1kb20tZXhjZXB0aW9uLWNvbnN0cnVjdG9yLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdFByb21pc2VTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtcHJvbWlzZS1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RUcmFuc2ZlcmFibGVzU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LXRyYW5zZmVyYWJsZXMtc3VwcG9ydCc7XG5pbXBvcnQgeyB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZyB9IGZyb20gJy4vaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nJztcbmltcG9ydCB7IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscyB9IGZyb20gJy4vaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscyc7XG5pbXBvcnQgeyB3cmFwRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vaGVscGVycy93cmFwLWV2ZW50LWxpc3RlbmVyJztcbi8qXG4gKiBAdG9kbyBFeHBsaWNpdGx5IHJlZmVyZW5jaW5nIHRoZSBiYXJyZWwgZmlsZSBzZWVtcyB0byBiZSBuZWNlc3Nhcnkgd2hlbiBlbmFibGluZyB0aGVcbiAqIGlzb2xhdGVkTW9kdWxlcyBjb21waWxlciBvcHRpb24uXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzL2luZGV4JztcbmNvbnN0IGFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlID0gY3JlYXRlQWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUoaW5zZXJ0RWxlbWVudEluU2V0KTtcbmNvbnN0IGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IGNyZWF0ZUFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShpbnNlcnRFbGVtZW50SW5TZXQpO1xuY29uc3QgZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSBjcmVhdGVEZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShwaWNrRWxlbWVudEZyb21TZXQpO1xuY29uc3QgYXVkaW9Ob2RlVGFpbFRpbWVTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBnZXRBdWRpb05vZGVUYWlsVGltZSA9IGNyZWF0ZUdldEF1ZGlvTm9kZVRhaWxUaW1lKGF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUpO1xuY29uc3QgY2FjaGVUZXN0UmVzdWx0ID0gY3JlYXRlQ2FjaGVUZXN0UmVzdWx0KG5ldyBNYXAoKSwgbmV3IFdlYWtNYXAoKSk7XG5jb25zdCB3aW5kb3cgPSBjcmVhdGVXaW5kb3coKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZUZhY3RvcnkoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbmRleFNpemVFcnJvcik7XG5jb25zdCBnZXRBdWRpb05vZGVSZW5kZXJlciA9IGNyZWF0ZUdldEF1ZGlvTm9kZVJlbmRlcmVyKGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKTtcbmNvbnN0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlID0gY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb05vZGUoZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldEF1ZGlvTm9kZVJlbmRlcmVyLCBpc1BhcnRPZkFDeWNsZSk7XG5jb25zdCBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlciA9IGNyZWF0ZUFuYWx5c2VyTm9kZVJlbmRlcmVyRmFjdG9yeShjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgZ2V0TmF0aXZlQ29udGV4dCA9IGNyZWF0ZUdldE5hdGl2ZUNvbnRleHQoQ09OVEVYVF9TVE9SRSk7XG5jb25zdCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3Iod2luZG93KTtcbmNvbnN0IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZUlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuY29uc3QgYXVkaW9QYXJhbUF1ZGlvTm9kZVN0b3JlID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGV2ZW50VGFyZ2V0Q29uc3RydWN0b3IgPSBjcmVhdGVFdmVudFRhcmdldENvbnN0cnVjdG9yKHdyYXBFdmVudExpc3RlbmVyKTtcbmNvbnN0IG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlTmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3Iod2luZG93KTtcbmNvbnN0IGlzTmF0aXZlQXVkaW9Db250ZXh0ID0gY3JlYXRlSXNOYXRpdmVBdWRpb0NvbnRleHQobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuY29uc3QgaXNOYXRpdmVBdWRpb05vZGUgPSBjcmVhdGVJc05hdGl2ZUF1ZGlvTm9kZSh3aW5kb3cpO1xuY29uc3QgaXNOYXRpdmVBdWRpb1BhcmFtID0gY3JlYXRlSXNOYXRpdmVBdWRpb1BhcmFtKHdpbmRvdyk7XG5jb25zdCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3Iod2luZG93KTtcbmNvbnN0IGF1ZGlvTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlQXVkaW9Ob2RlQ29uc3RydWN0b3IoY3JlYXRlQWRkQXVkaW9Ob2RlQ29ubmVjdGlvbnMoQVVESU9fTk9ERV9DT05ORUNUSU9OU19TVE9SRSksIGNyZWF0ZUFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlLCBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUsIGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldEF1ZGlvTm9kZVRhaWxUaW1lLCBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIGluc2VydEVsZW1lbnRJblNldCwgaXNBY3RpdmVBdWRpb05vZGUsIGlzUGFydE9mQUN5Y2xlLCBpc1Bhc3NpdmVBdWRpb05vZGUpLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZUluY3JlbWVudEN5Y2xlQ291bnRlckZhY3RvcnkoQ1lDTEVfQ09VTlRFUlMsIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlLCBnZXRBdWRpb05vZGVDb25uZWN0aW9ucywgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBnZXROYXRpdmVBdWRpb1BhcmFtLCBpc0FjdGl2ZUF1ZGlvTm9kZSksIGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBjcmVhdGVEZWNyZW1lbnRDeWNsZUNvdW50ZXIoY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlLCBDWUNMRV9DT1VOVEVSUywgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9QYXJhbSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNBY3RpdmVBdWRpb05vZGUsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCksIGNyZWF0ZURldGVjdEN5Y2xlcyhhdWRpb1BhcmFtQXVkaW9Ob2RlU3RvcmUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRWYWx1ZUZvcktleSksIGV2ZW50VGFyZ2V0Q29uc3RydWN0b3IsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlQXVkaW9Db250ZXh0LCBpc05hdGl2ZUF1ZGlvTm9kZSwgaXNOYXRpdmVBdWRpb1BhcmFtLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3Rvcik7XG5jb25zdCBhbmFseXNlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlciwgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmV4cG9ydCB7IGFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yIGFzIEFuYWx5c2VyTm9kZSB9O1xuY29uc3QgYXVkaW9CdWZmZXJTdG9yZSA9IG5ldyBXZWFrU2V0KCk7XG5jb25zdCBuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3Rvcih3aW5kb3cpO1xuY29uc3QgY29udmVydE51bWJlclRvVW5zaWduZWRMb25nID0gY3JlYXRlQ29udmVydE51bWJlclRvVW5zaWduZWRMb25nKG5ldyBVaW50MzJBcnJheSgxKSk7XG5jb25zdCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMgPSBjcmVhdGVXcmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMoY29udmVydE51bWJlclRvVW5zaWduZWRMb25nLCBjcmVhdGVJbmRleFNpemVFcnJvcik7XG5jb25zdCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyA9IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzKGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyk7XG5jb25zdCBhdWRpb0J1ZmZlckNvbnN0cnVjdG9yID0gY3JlYXRlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvcihhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIGNyZWF0ZVRlc3RBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydChuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yKSwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyk7XG5leHBvcnQgeyBhdWRpb0J1ZmZlckNvbnN0cnVjdG9yIGFzIEF1ZGlvQnVmZmVyIH07XG5jb25zdCBhZGRTaWxlbnRDb25uZWN0aW9uID0gY3JlYXRlQWRkU2lsZW50Q29ubmVjdGlvbihjcmVhdGVOYXRpdmVHYWluTm9kZSk7XG5jb25zdCByZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0gPSBjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0oZ2V0QXVkaW9Ob2RlUmVuZGVyZXIsIGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucywgaXNQYXJ0T2ZBQ3ljbGUpO1xuY29uc3QgY29ubmVjdEF1ZGlvUGFyYW0gPSBjcmVhdGVDb25uZWN0QXVkaW9QYXJhbShyZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0pO1xuY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeShhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0LCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZ1N1cHBvcnQsIHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZywgY3JlYXRlV3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXIob3ZlcndyaXRlQWNjZXNzb3JzKSwgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzKTtcbmNvbnN0IHJlbmRlckF1dG9tYXRpb24gPSBjcmVhdGVSZW5kZXJBdXRvbWF0aW9uKGNyZWF0ZUdldEF1ZGlvUGFyYW1SZW5kZXJlcihnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMpLCByZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0pO1xuY29uc3QgY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIgPSBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBjcmVhdGVBdWRpb1BhcmFtID0gY3JlYXRlQXVkaW9QYXJhbUZhY3RvcnkoY3JlYXRlQWRkQXVkaW9QYXJhbUNvbm5lY3Rpb25zKEFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFKSwgYXVkaW9QYXJhbUF1ZGlvTm9kZVN0b3JlLCBBVURJT19QQVJBTV9TVE9SRSwgY3JlYXRlQXVkaW9QYXJhbVJlbmRlcmVyLCBjcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50LCBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvciwgc2V0VmFsdWVBdFRpbWVVbnRpbFBvc3NpYmxlKTtcbmNvbnN0IGF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKTtcbmV4cG9ydCB7IGF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yIGFzIEF1ZGlvQnVmZmVyU291cmNlTm9kZSB9O1xuY29uc3QgYXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlUmVuZGVyZXIsIGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGVGYWN0b3J5KGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBvdmVyd3JpdGVBY2Nlc3NvcnMpLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlciA9IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3Qgc2V0QXVkaW9Ob2RlVGFpbFRpbWUgPSBjcmVhdGVTZXRBdWRpb05vZGVUYWlsVGltZShhdWRpb05vZGVUYWlsVGltZVN0b3JlKTtcbmNvbnN0IGJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlQmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyLCBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgbW9uaXRvckNvbm5lY3Rpb25zID0gY3JlYXRlTW9uaXRvckNvbm5lY3Rpb25zKGluc2VydEVsZW1lbnRJblNldCwgaXNOYXRpdmVBdWRpb05vZGUpO1xuY29uc3Qgd3JhcENoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlV3JhcENoYW5uZWxNZXJnZXJOb2RlKGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZUZhY3RvcnkobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHdyYXBDaGFubmVsTWVyZ2VyTm9kZSk7XG5jb25zdCBjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyID0gY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlckZhY3RvcnkoY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgY2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyID0gY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyRmFjdG9yeShjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNhbml0aXplQ2hhbm5lbFNwbGl0dGVyT3B0aW9ucyk7XG5jb25zdCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyRmFjdG9yeShhZGRTaWxlbnRDb25uZWN0aW9uLCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFjdG9yeShhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyLCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQpO1xuY29uc3QgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIgPSBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBjb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGUgPSBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlRmFjdG9yeShjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgb3ZlcndyaXRlQWNjZXNzb3JzKTtcbmNvbnN0IGNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlciA9IGNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlckZhY3RvcnkoY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBjb252b2x2ZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVDb252b2x2ZXJOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSk7XG5jb25zdCBjcmVhdGVEZWxheU5vZGVSZW5kZXJlciA9IGNyZWF0ZURlbGF5Tm9kZVJlbmRlcmVyRmFjdG9yeShjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlRGVsYXlOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGRlbGF5Tm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlRGVsYXlOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZURlbGF5Tm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVEZWxheU5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVGYWN0b3J5KGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKTtcbmNvbnN0IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlciA9IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgZHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKTtcbmNvbnN0IGNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXIgPSBjcmVhdGVHYWluTm9kZVJlbmRlcmVyRmFjdG9yeShjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgZ2Fpbk5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUdhaW5Ob2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyID0gY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyRmFjdG9yeShjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcik7XG5jb25zdCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gY3JlYXRlUmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVUZXN0T2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydChjcmVhdGVOYXRpdmVHYWluTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSk7XG5jb25zdCBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGUgPSBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFjdG9yeShjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXIpO1xuY29uc3QgaUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlSUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlLCBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgY3JlYXRlQXVkaW9MaXN0ZW5lciA9IGNyZWF0ZUF1ZGlvTGlzdGVuZXJGYWN0b3J5KGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBnZXRGaXJzdFNhbXBsZSwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvdmVyd3JpdGVBY2Nlc3NvcnMpO1xuY29uc3QgdW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBtaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlTWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihhdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0xpc3RlbmVyLCBldmVudFRhcmdldENvbnN0cnVjdG9yLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUsIHdyYXBFdmVudExpc3RlbmVyKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlID0gY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGVGYWN0b3J5KGFkZFNpbGVudENvbm5lY3Rpb24sIGNhY2hlVGVzdFJlc3VsdCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMpO1xuY29uc3QgY3JlYXRlT3NjaWxsYXRvck5vZGVSZW5kZXJlciA9IGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBvc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlT3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGUsIGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgd3JhcEV2ZW50TGlzdGVuZXIpO1xuY29uc3QgY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeShjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuY29uc3QgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciA9IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXJGYWN0b3J5KGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBpc0RDQ3VydmUsIG1vbml0b3JDb25uZWN0aW9ucyk7XG5jb25zdCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFjdG9yeShjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyLCBpc0RDQ3VydmUsIG1vbml0b3JDb25uZWN0aW9ucywgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIG92ZXJ3cml0ZUFjY2Vzc29ycyk7XG5jb25zdCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXIgPSBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXJGYWN0b3J5KGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0Rmlyc3RTYW1wbGUsIG1vbml0b3JDb25uZWN0aW9ucyk7XG5jb25zdCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlID0gY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZhY3RvcnkoY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZha2VyKTtcbmNvbnN0IGNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlciA9IGNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgcGFubmVyTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlUGFubmVyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlLCBjcmVhdGVQYW5uZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlID0gY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlRmFjdG9yeShjcmVhdGVJbmRleFNpemVFcnJvcik7XG5jb25zdCBwZXJpb2RpY1dhdmVDb25zdHJ1Y3RvciA9IGNyZWF0ZVBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yKGNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZSwgZ2V0TmF0aXZlQ29udGV4dCwgbmV3IFdlYWtTZXQoKSwgc2FuaXRpemVQZXJpb2RpY1dhdmVPcHRpb25zKTtcbmNvbnN0IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnkgPSBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5KGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWN0b3J5KG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnksIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKTtcbmNvbnN0IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlciA9IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3Qgc3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlU3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG5jb25zdCBjcmVhdGVXYXZlU2hhcGVyTm9kZVJlbmRlcmVyID0gY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlckZhY3RvcnkoY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3Qgd2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZVdhdmVTaGFwZXJOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZSwgY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSk7XG5jb25zdCBpc1NlY3VyZUNvbnRleHQgPSBjcmVhdGVJc1NlY3VyZUNvbnRleHQod2luZG93KTtcbmNvbnN0IGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lID0gY3JlYXRlRXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUod2luZG93KTtcbmNvbnN0IGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBnZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSBjcmVhdGVHZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQoYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dFN0b3JlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuLy8gVGhlIGFkZEF1ZGlvV29ya2xldE1vZHVsZSgpIGZ1bmN0aW9uIGlzIG9ubHkgYXZhaWxhYmxlIGluIGEgU2VjdXJlQ29udGV4dC5cbmV4cG9ydCBjb25zdCBhZGRBdWRpb1dvcmtsZXRNb2R1bGUgPSBpc1NlY3VyZUNvbnRleHRcbiAgICA/IGNyZWF0ZUFkZEF1ZGlvV29ya2xldE1vZHVsZShjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBjcmVhdGVFdmFsdWF0ZVNvdXJjZSh3aW5kb3cpLCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSwgY3JlYXRlRmV0Y2hTb3VyY2UoY3JlYXRlQWJvcnRFcnJvciksIGdldE5hdGl2ZUNvbnRleHQsIGdldE9yQ3JlYXRlQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5ldyBXZWFrTWFwKCksIG5ldyBXZWFrTWFwKCksIGNyZWF0ZVRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBcbiAgICAvLyBAdG9kbyB3aW5kb3cgaXMgZ3VhcmFudGVlZCB0byBiZSBkZWZpbmVkIGJlY2F1c2UgaXNTZWN1cmVDb250ZXh0IGNoZWNrcyB0aGF0IGFzIHdlbGwuXG4gICAgd2luZG93KVxuICAgIDogdW5kZWZpbmVkO1xuY29uc3QgaXNOYXRpdmVDb250ZXh0ID0gY3JlYXRlSXNOYXRpdmVDb250ZXh0KGlzTmF0aXZlQXVkaW9Db250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuZXhwb3J0IGNvbnN0IGRlY29kZUF1ZGlvRGF0YSA9IGNyZWF0ZURlY29kZUF1ZGlvRGF0YShhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZURhdGFDbG9uZUVycm9yLCBjcmVhdGVFbmNvZGluZ0Vycm9yLCBuZXcgV2Vha1NldCgpLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZUNvbnRleHQsIHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgdGVzdFByb21pc2VTdXBwb3J0LCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMsIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzKTtcbmNvbnN0IGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZUJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihhZGRBdWRpb1dvcmtsZXRNb2R1bGUsIGFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yLCBhdWRpb0J1ZmZlckNvbnN0cnVjdG9yLCBhdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciwgYmlxdWFkRmlsdGVyTm9kZUNvbnN0cnVjdG9yLCBjaGFubmVsTWVyZ2VyTm9kZUNvbnN0cnVjdG9yLCBjaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IsIGNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yLCBjb252b2x2ZXJOb2RlQ29uc3RydWN0b3IsIGRlY29kZUF1ZGlvRGF0YSwgZGVsYXlOb2RlQ29uc3RydWN0b3IsIGR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciwgZ2Fpbk5vZGVDb25zdHJ1Y3RvciwgaUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yLCBtaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBvc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yLCBwYW5uZXJOb2RlQ29uc3RydWN0b3IsIHBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yLCBzdGVyZW9QYW5uZXJOb2RlQ29uc3RydWN0b3IsIHdhdmVTaGFwZXJOb2RlQ29uc3RydWN0b3IpO1xuY29uc3QgbWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgbWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVGYWN0b3J5KGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgbWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0KTtcbmNvbnN0IGF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoYmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGNyZWF0ZVVua25vd25FcnJvciwgbWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciwgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciwgbWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvcik7XG5leHBvcnQgeyBhdWRpb0NvbnRleHRDb25zdHJ1Y3RvciBhcyBBdWRpb0NvbnRleHQgfTtcbmNvbnN0IGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcyA9IGNyZWF0ZUdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2Rlcyh1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZVN0b3JlKTtcbmNvbnN0IGFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlID0gY3JlYXRlQWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUoZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzKTtcbmNvbnN0IGNvbm5lY3RNdWx0aXBsZU91dHB1dHMgPSBjcmVhdGVDb25uZWN0TXVsdGlwbGVPdXRwdXRzKGNyZWF0ZUluZGV4U2l6ZUVycm9yKTtcbmNvbnN0IGRlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlID0gY3JlYXRlRGVsZXRlVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUoZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzKTtcbmNvbnN0IGRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMgPSBjcmVhdGVEaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzKGNyZWF0ZUluZGV4U2l6ZUVycm9yKTtcbmNvbnN0IGFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHNTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBnZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzID0gY3JlYXRlR2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyhhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUsIGdldFZhbHVlRm9yS2V5KTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciA9IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlckZhY3RvcnkoY29ubmVjdE11bHRpcGxlT3V0cHV0cywgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMsIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lLCBnZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWN0b3J5KGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbW9uaXRvckNvbm5lY3Rpb25zKTtcbmNvbnN0IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlciA9IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNvbm5lY3RNdWx0aXBsZU91dHB1dHMsIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGRlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlLCBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgZ2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZUdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQoYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dFN0b3JlKTtcbmNvbnN0IHNldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMgPSBjcmVhdGVTZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzKGFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHNTdG9yZSk7XG4vLyBUaGUgQXVkaW9Xb3JrbGV0Tm9kZSBjb25zdHJ1Y3RvciBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIFNlY3VyZUNvbnRleHQuXG5jb25zdCBhdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPSBpc1NlY3VyZUNvbnRleHRcbiAgICA/IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvcihhZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSwgYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBzYW5pdGl6ZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zLCBzZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzLCB0ZXN0QXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnNDbG9uYWJpbGl0eSwgd3JhcEV2ZW50TGlzdGVuZXIpXG4gICAgOiB1bmRlZmluZWQ7XG5leHBvcnQgeyBhdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgYXMgQXVkaW9Xb3JrbGV0Tm9kZSB9O1xuZXhwb3J0IHsgYmlxdWFkRmlsdGVyTm9kZUNvbnN0cnVjdG9yIGFzIEJpcXVhZEZpbHRlck5vZGUgfTtcbmV4cG9ydCB7IGNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IgYXMgQ2hhbm5lbE1lcmdlck5vZGUgfTtcbmV4cG9ydCB7IGNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvciBhcyBDaGFubmVsU3BsaXR0ZXJOb2RlIH07XG5leHBvcnQgeyBjb252b2x2ZXJOb2RlQ29uc3RydWN0b3IgYXMgQ29udm9sdmVyTm9kZSB9O1xuZXhwb3J0IHsgY29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IgYXMgQ29uc3RhbnRTb3VyY2VOb2RlIH07XG5leHBvcnQgeyBkZWxheU5vZGVDb25zdHJ1Y3RvciBhcyBEZWxheU5vZGUgfTtcbmV4cG9ydCB7IGR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciBhcyBEeW5hbWljc0NvbXByZXNzb3JOb2RlIH07XG5leHBvcnQgeyBnYWluTm9kZUNvbnN0cnVjdG9yIGFzIEdhaW5Ob2RlIH07XG5leHBvcnQgeyBpSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IgYXMgSUlSRmlsdGVyTm9kZSB9O1xuZXhwb3J0IHsgbWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgYXMgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIH07XG5leHBvcnQgeyBtZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IgYXMgTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSB9O1xuZXhwb3J0IHsgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciBhcyBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSB9O1xuZXhwb3J0IHsgbWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIGFzIE1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUgfTtcbmNvbnN0IG1pbmltYWxBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZU1pbmltYWxBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGNyZWF0ZVVua25vd25FcnJvciwgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuZXhwb3J0IHsgbWluaW1hbEF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIGFzIE1pbmltYWxBdWRpb0NvbnRleHQgfTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSBjcmVhdGVDcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuY29uc3Qgc3RhcnRSZW5kZXJpbmcgPSBjcmVhdGVTdGFydFJlbmRlcmluZyhhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGdldEF1ZGlvTm9kZVJlbmRlcmVyLCBnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyk7XG5jb25zdCBtaW5pbWFsT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlTWluaW1hbE9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBtaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBzdGFydFJlbmRlcmluZyk7XG5leHBvcnQgeyBtaW5pbWFsT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIGFzIE1pbmltYWxPZmZsaW5lQXVkaW9Db250ZXh0IH07XG5jb25zdCBvZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSBjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoYmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzdGFydFJlbmRlcmluZyk7XG5leHBvcnQgeyBvZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgYXMgT2ZmbGluZUF1ZGlvQ29udGV4dCB9O1xuZXhwb3J0IHsgb3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciBhcyBPc2NpbGxhdG9yTm9kZSB9O1xuZXhwb3J0IHsgcGFubmVyTm9kZUNvbnN0cnVjdG9yIGFzIFBhbm5lck5vZGUgfTtcbmV4cG9ydCB7IHBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yIGFzIFBlcmlvZGljV2F2ZSB9O1xuZXhwb3J0IHsgc3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yIGFzIFN0ZXJlb1Bhbm5lck5vZGUgfTtcbmV4cG9ydCB7IHdhdmVTaGFwZXJOb2RlQ29uc3RydWN0b3IgYXMgV2F2ZVNoYXBlck5vZGUgfTtcbmV4cG9ydCBjb25zdCBpc0FueUF1ZGlvQ29udGV4dCA9IGNyZWF0ZUlzQW55QXVkaW9Db250ZXh0KENPTlRFWFRfU1RPUkUsIGlzTmF0aXZlQXVkaW9Db250ZXh0KTtcbmV4cG9ydCBjb25zdCBpc0FueUF1ZGlvTm9kZSA9IGNyZWF0ZUlzQW55QXVkaW9Ob2RlKEFVRElPX05PREVfU1RPUkUsIGlzTmF0aXZlQXVkaW9Ob2RlKTtcbmV4cG9ydCBjb25zdCBpc0FueUF1ZGlvUGFyYW0gPSBjcmVhdGVJc0FueUF1ZGlvUGFyYW0oQVVESU9fUEFSQU1fU1RPUkUsIGlzTmF0aXZlQXVkaW9QYXJhbSk7XG5leHBvcnQgY29uc3QgaXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0ID0gY3JlYXRlSXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0KENPTlRFWFRfU1RPUkUsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG5leHBvcnQgY29uc3QgaXNTdXBwb3J0ZWQgPSAoKSA9PiBjcmVhdGVJc1N1cHBvcnRlZFByb21pc2UoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVUZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNTdWJhcnJheVN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgY3JlYXRlVGVzdEF1ZGlvQ29udGV4dENsb3NlTWV0aG9kU3VwcG9ydChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RBdWRpb0NvbnRleHREZWNvZGVBdWRpb0RhdGFNZXRob2RUeXBlRXJyb3JTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RBdWRpb0NvbnRleHRPcHRpb25zU3VwcG9ydChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RBdWRpb05vZGVDb25uZWN0TWV0aG9kU3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yTm9PdXRwdXRzU3VwcG9ydChuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RDaGFubmVsTWVyZ2VyTm9kZUNoYW5uZWxDb3VudFN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgY3JlYXRlVGVzdENvbnN0YW50U291cmNlTm9kZUFjY3VyYXRlU2NoZWR1bGluZ1N1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgY3JlYXRlVGVzdENvbnZvbHZlck5vZGVCdWZmZXJSZWFzc2lnbmFiaWxpdHlTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RDb252b2x2ZXJOb2RlQ2hhbm5lbENvdW50U3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCB0ZXN0RG9tRXhjZXB0aW9uQ29uc3RydWN0b3JTdXBwb3J0LCBjcmVhdGVUZXN0SXNTZWN1cmVDb250ZXh0U3VwcG9ydCh3aW5kb3cpLCBjcmVhdGVUZXN0TWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVNZWRpYVN0cmVhbVdpdGhvdXRBdWRpb1RyYWNrU3VwcG9ydChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RTdGVyZW9QYW5uZXJOb2RlRGVmYXVsdFZhbHVlU3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCB0ZXN0VHJhbnNmZXJhYmxlc1N1cHBvcnQpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IChpbnNlcnRFbGVtZW50SW5TZXQpID0+IHtcbiAgICByZXR1cm4gKGFjdGl2ZUlucHV0cywgc291cmNlLCBbb3V0cHV0LCBpbnB1dCwgZXZlbnRMaXN0ZW5lcl0sIGlnbm9yZUR1cGxpY2F0ZXMpID0+IHtcbiAgICAgICAgaW5zZXJ0RWxlbWVudEluU2V0KGFjdGl2ZUlucHV0c1tpbnB1dF0sIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIChhY3RpdmVJbnB1dENvbm5lY3Rpb24pID0+IGFjdGl2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gc291cmNlICYmIGFjdGl2ZUlucHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0LCBpZ25vcmVEdXBsaWNhdGVzKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSAoaW5zZXJ0RWxlbWVudEluU2V0KSA9PiB7XG4gICAgcmV0dXJuIChwYXNzaXZlSW5wdXRzLCBpbnB1dCwgW3NvdXJjZSwgb3V0cHV0LCBldmVudExpc3RlbmVyXSwgaWdub3JlRHVwbGljYXRlcykgPT4ge1xuICAgICAgICBjb25zdCBwYXNzaXZlSW5wdXRDb25uZWN0aW9ucyA9IHBhc3NpdmVJbnB1dHMuZ2V0KHNvdXJjZSk7XG4gICAgICAgIGlmIChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXNzaXZlSW5wdXRzLnNldChzb3VyY2UsIG5ldyBTZXQoW1tvdXRwdXQsIGlucHV0LCBldmVudExpc3RlbmVyXV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc2VydEVsZW1lbnRJblNldChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucywgW291dHB1dCwgaW5wdXQsIGV2ZW50TGlzdGVuZXJdLCAocGFzc2l2ZUlucHV0Q29ubmVjdGlvbikgPT4gcGFzc2l2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gb3V0cHV0ICYmIHBhc3NpdmVJbnB1dENvbm5lY3Rpb25bMV0gPT09IGlucHV0LCBpZ25vcmVEdXBsaWNhdGVzKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVEZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IChwaWNrRWxlbWVudEZyb21TZXQpID0+IHtcbiAgICByZXR1cm4gKGFjdGl2ZUlucHV0cywgc291cmNlLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgICAgIHJldHVybiBwaWNrRWxlbWVudEZyb21TZXQoYWN0aXZlSW5wdXRzW2lucHV0XSwgKGFjdGl2ZUlucHV0Q29ubmVjdGlvbikgPT4gYWN0aXZlSW5wdXRDb25uZWN0aW9uWzBdID09PSBzb3VyY2UgJiYgYWN0aXZlSW5wdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUdldEF1ZGlvTm9kZVRhaWxUaW1lID0gKGF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvTm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBhdWRpb05vZGVUYWlsVGltZVN0b3JlLmdldChhdWRpb05vZGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwOyB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hdWRpby1ub2RlLXRhaWwtdGltZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQ2FjaGVUZXN0UmVzdWx0ID0gKG9uZ29pbmdUZXN0cywgdGVzdFJlc3VsdHMpID0+IHtcbiAgICByZXR1cm4gKHRlc3RlciwgdGVzdCkgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZWRUZXN0UmVzdWx0ID0gdGVzdFJlc3VsdHMuZ2V0KHRlc3Rlcik7XG4gICAgICAgIGlmIChjYWNoZWRUZXN0UmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRUZXN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9uZ29pbmdUZXN0ID0gb25nb2luZ1Rlc3RzLmdldCh0ZXN0ZXIpO1xuICAgICAgICBpZiAob25nb2luZ1Rlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uZ29pbmdUZXN0O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzeW5jaHJvbm91c1Rlc3RSZXN1bHQgPSB0ZXN0KCk7XG4gICAgICAgICAgICBpZiAoc3luY2hyb25vdXNUZXN0UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIG9uZ29pbmdUZXN0cy5zZXQodGVzdGVyLCBzeW5jaHJvbm91c1Rlc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jaHJvbm91c1Rlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZmluYWxUZXN0UmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9uZ29pbmdUZXN0cy5kZWxldGUodGVzdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGVzdFJlc3VsdHMuc2V0KHRlc3RlciwgZmluYWxUZXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsVGVzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlc3RSZXN1bHRzLnNldCh0ZXN0ZXIsIHN5bmNocm9ub3VzVGVzdFJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gc3luY2hyb25vdXNUZXN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRlc3RSZXN1bHRzLnNldCh0ZXN0ZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGUtdGVzdC1yZXN1bHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVdpbmRvdyA9ICgpID0+ICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB3aW5kb3cpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbic7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5pbXBvcnQgeyB0ZXN0QW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZFN1cHBvcnQgfSBmcm9tICcuLi9oZWxwZXJzL3Rlc3QtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2Qtc3VwcG9ydCc7XG5pbXBvcnQgeyB3cmFwQW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZCB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hbmFseXNlci1ub2RlLWdldC1mbG9hdC10aW1lLWRvbWFpbi1kYXRhLW1ldGhvZCc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlRmFjdG9yeSA9IChjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZUluZGV4U2l6ZUVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUFuYWx5c2VyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgLy8gQnVnICMzNzogRmlyZWZveCBkb2VzIG5vdCBjcmVhdGUgYW4gQW5hbHlzZXJOb2RlIHdpdGggdGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVBbmFseXNlck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBCdWcgIzExODogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIGlmIG1heERlY2liZWxzIGlzIG5vdCBtb3JlIHRoYW4gbWluRGVjaWJlbHMuXG4gICAgICAgIGlmICghKG9wdGlvbnMubWF4RGVjaWJlbHMgPiBvcHRpb25zLm1pbkRlY2liZWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQW5hbHlzZXJOb2RlLCBvcHRpb25zLCAnZmZ0U2l6ZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQW5hbHlzZXJOb2RlLCBvcHRpb25zLCAnbWF4RGVjaWJlbHMnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUFuYWx5c2VyTm9kZSwgb3B0aW9ucywgJ21pbkRlY2liZWxzJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBbmFseXNlck5vZGUsIG9wdGlvbnMsICdzbW9vdGhpbmdUaW1lQ29uc3RhbnQnKTtcbiAgICAgICAgLy8gQnVnICMzNjogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSgpIHlldC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEFuYWx5c2VyTm9kZUdldEZsb2F0VGltZURvbWFpbkRhdGFNZXRob2RTdXBwb3J0LCAoKSA9PiB0ZXN0QW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZFN1cHBvcnQobmF0aXZlQW5hbHlzZXJOb2RlKSkpIHtcbiAgICAgICAgICAgIHdyYXBBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kKG5hdGl2ZUFuYWx5c2VyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZUFuYWx5c2VyTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hbmFseXNlci1ub2RlLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IHdyYXBBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kID0gKG5hdGl2ZUFuYWx5c2VyTm9kZSkgPT4ge1xuICAgIG5hdGl2ZUFuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhID0gKGFycmF5KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ5dGVUaW1lRG9tYWluRGF0YSA9IG5ldyBVaW50OEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgIG5hdGl2ZUFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEoYnl0ZVRpbWVEb21haW5EYXRhKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoYnl0ZVRpbWVEb21haW5EYXRhLmxlbmd0aCwgbmF0aXZlQW5hbHlzZXJOb2RlLmZmdFNpemUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IChieXRlVGltZURvbWFpbkRhdGFbaV0gLSAxMjgpICogMC4wMDc4MTI1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2QuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUdldEF1ZGlvTm9kZVJlbmRlcmVyID0gKGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIChhdWRpb05vZGUpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9Ob2RlQ29ubmVjdGlvbnMgPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhhdWRpb05vZGUpO1xuICAgICAgICBpZiAoYXVkaW9Ob2RlQ29ubmVjdGlvbnMucmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgcmVuZGVyZXIgb2YgdGhlIGdpdmVuIEF1ZGlvTm9kZSBpbiB0aGUgYXVkaW8gZ3JhcGguJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1ZGlvTm9kZUNvbm5lY3Rpb25zLnJlbmRlcmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWF1ZGlvLW5vZGUtcmVuZGVyZXIuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbmRlcklucHV0c09mQXVkaW9Ob2RlID0gKGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRBdWRpb05vZGVSZW5kZXJlciwgaXNQYXJ0T2ZBQ3ljbGUpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGF1ZGlvTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvTm9kZUNvbm5lY3Rpb25zID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoYXVkaW9Ob2RlKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXVkaW9Ob2RlQ29ubmVjdGlvbnMuYWN0aXZlSW5wdXRzXG4gICAgICAgICAgICAubWFwKChjb25uZWN0aW9ucywgaW5wdXQpID0+IEFycmF5LmZyb20oY29ubmVjdGlvbnMpLm1hcChhc3luYyAoW3NvdXJjZSwgb3V0cHV0XSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9Ob2RlUmVuZGVyZXIgPSBnZXRBdWRpb05vZGVSZW5kZXJlcihzb3VyY2UpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGUgPSBhd2FpdCBhdWRpb05vZGVSZW5kZXJlci5yZW5kZXIoc291cmNlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gYXVkaW9Ob2RlLmNvbnRleHQuZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkgJiYgKGF1ZGlvTm9kZSAhPT0gZGVzdGluYXRpb24gfHwgIWlzUGFydE9mQUN5Y2xlKGF1ZGlvTm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGUuY29ubmVjdChuYXRpdmVBdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFsbFJlbmRlcmluZ1Byb21pc2VzLCByZW5kZXJpbmdQcm9taXNlcykgPT4gWy4uLmFsbFJlbmRlcmluZ1Byb21pc2VzLCAuLi5yZW5kZXJpbmdQcm9taXNlc10sIFtdKSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlQW5hbHlzZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUFuYWx5c2VyTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUFuYWx5c2VyTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQW5hbHlzZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlQW5hbHlzZXJOb2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlQW5hbHlzZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQW5hbHlzZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlQW5hbHlzZXJOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlQW5hbHlzZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlQW5hbHlzZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZmZ0U2l6ZTogbmF0aXZlQW5hbHlzZXJOb2RlLmZmdFNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1heERlY2liZWxzOiBuYXRpdmVBbmFseXNlck5vZGUubWF4RGVjaWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIG1pbkRlY2liZWxzOiBuYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIHNtb290aGluZ1RpbWVDb25zdGFudDogbmF0aXZlQW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQW5hbHlzZXJOb2RlID0gY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBbmFseXNlck5vZGUpO1xuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUFuYWx5c2VyTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQW5hbHlzZXJOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGUgPSByZW5kZXJlZE5hdGl2ZUFuYWx5c2VyTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUFuYWx5c2VyTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQW5hbHlzZXJOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuYWx5c2VyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciB9IGZyb20gJy4vaW52YWxpZC1zdGF0ZS1lcnJvcic7XG5leHBvcnQgY29uc3QgY3JlYXRlR2V0TmF0aXZlQ29udGV4dCA9IChjb250ZXh0U3RvcmUpID0+IHtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGNvbnRleHRTdG9yZS5nZXQoY29udGV4dCk7XG4gICAgICAgIGlmIChuYXRpdmVDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuYXRpdmVDb250ZXh0KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1uYXRpdmUtY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKHdpbmRvdykgPT4ge1xuICAgIGlmICh3aW5kb3cgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuaGFzT3duUHJvcGVydHkoJ09mZmxpbmVBdWRpb0NvbnRleHQnKSkge1xuICAgICAgICByZXR1cm4gd2luZG93Lk9mZmxpbmVBdWRpb0NvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuaGFzT3duUHJvcGVydHkoJ3dlYmtpdE9mZmxpbmVBdWRpb0NvbnRleHQnKSA/IHdpbmRvdy53ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0IDogbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICByZXR1cm4gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yICE9PSBudWxsICYmIGFueXRoaW5nIGluc3RhbmNlb2YgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRXZlbnRUYXJnZXRDb25zdHJ1Y3RvciA9ICh3cmFwRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBFdmVudFRhcmdldCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlRXZlbnRUYXJnZXQgPSBfbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCB3cmFwcGVkRXZlbnRMaXN0ZW5lciA9IHRoaXMuX2xpc3RlbmVycy5nZXQobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGlmICh3cmFwcGVkRXZlbnRMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFdmVudExpc3RlbmVyID0gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KGxpc3RlbmVyLCB3cmFwcGVkRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB3cmFwcGVkRXZlbnRMaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFdmVudExpc3RlbmVyID0gbGlzdGVuZXIgPT09IG51bGwgPyB1bmRlZmluZWQgOiB0aGlzLl9saXN0ZW5lcnMuZ2V0KGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgd3JhcHBlZEV2ZW50TGlzdGVuZXIgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB3cmFwcGVkRXZlbnRMaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50LXRhcmdldC1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSAod2luZG93KSA9PiB7XG4gICAgaWYgKHdpbmRvdyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnQXVkaW9Db250ZXh0JykpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5BdWRpb0NvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuaGFzT3duUHJvcGVydHkoJ3dlYmtpdEF1ZGlvQ29udGV4dCcpID8gd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCA6IG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzTmF0aXZlQXVkaW9Db250ZXh0ID0gKG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgIT09IG51bGwgJiYgYW55dGhpbmcgaW5zdGFuY2VvZiBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW5hdGl2ZS1hdWRpby1jb250ZXh0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc05hdGl2ZUF1ZGlvTm9kZSA9ICh3aW5kb3cpID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiB3aW5kb3cgIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvdy5BdWRpb05vZGUgPT09ICdmdW5jdGlvbicgJiYgYW55dGhpbmcgaW5zdGFuY2VvZiB3aW5kb3cuQXVkaW9Ob2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtbmF0aXZlLWF1ZGlvLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzTmF0aXZlQXVkaW9QYXJhbSA9ICh3aW5kb3cpID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiB3aW5kb3cgIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvdy5BdWRpb1BhcmFtID09PSAnZnVuY3Rpb24nICYmIGFueXRoaW5nIGluc3RhbmNlb2Ygd2luZG93LkF1ZGlvUGFyYW07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1uYXRpdmUtYXVkaW8tcGFyYW0uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciA9ICh3aW5kb3cpID0+IHtcbiAgICBpZiAod2luZG93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93Lmhhc093blByb3BlcnR5KCdBdWRpb1dvcmtsZXROb2RlJykgPyB3aW5kb3cuQXVkaW9Xb3JrbGV0Tm9kZSA6IG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBwaWNrRWxlbWVudEZyb21TZXQgfSBmcm9tICcuL3BpY2stZWxlbWVudC1mcm9tLXNldCc7XG5leHBvcnQgY29uc3QgZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtID0gKGFjdGl2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpID0+IHtcbiAgICByZXR1cm4gcGlja0VsZW1lbnRGcm9tU2V0KGFjdGl2ZUlucHV0cywgKGFjdGl2ZUlucHV0Q29ubmVjdGlvbikgPT4gYWN0aXZlSW5wdXRDb25uZWN0aW9uWzBdID09PSBzb3VyY2UgJiYgYWN0aXZlSW5wdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1wYXJhbS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQWRkQXVkaW9Ob2RlQ29ubmVjdGlvbnMgPSAoYXVkaW9Ob2RlQ29ubmVjdGlvbnNTdG9yZSkgPT4ge1xuICAgIHJldHVybiAoYXVkaW9Ob2RlLCBhdWRpb05vZGVSZW5kZXJlciwgbmF0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUlucHV0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hdGl2ZUF1ZGlvTm9kZS5udW1iZXJPZklucHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICBhY3RpdmVJbnB1dHMucHVzaChuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGF1ZGlvTm9kZUNvbm5lY3Rpb25zU3RvcmUuc2V0KGF1ZGlvTm9kZSwge1xuICAgICAgICAgICAgYWN0aXZlSW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0czogbmV3IFNldCgpLFxuICAgICAgICAgICAgcGFzc2l2ZUlucHV0czogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIHJlbmRlcmVyOiBhdWRpb05vZGVSZW5kZXJlclxuICAgICAgICB9KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zLmpzLm1hcCIsImltcG9ydCB7IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvZGVsZXRlLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlV2hlbk5lY2Vzc2FyeSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUtd2hlbi1uZWNlc3NhcnknO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IChhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlLCBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUsIGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldEF1ZGlvTm9kZVRhaWxUaW1lLCBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIGluc2VydEVsZW1lbnRJblNldCwgaXNBY3RpdmVBdWRpb05vZGUsIGlzUGFydE9mQUN5Y2xlLCBpc1Bhc3NpdmVBdWRpb05vZGUpID0+IHtcbiAgICBjb25zdCB0YWlsVGltZVRpbWVvdXRJZHMgPSBuZXcgV2Vha01hcCgpO1xuICAgIHJldHVybiAoc291cmNlLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCwgaXNPZmZsaW5lKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYWN0aXZlSW5wdXRzLCBwYXNzaXZlSW5wdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhkZXN0aW5hdGlvbik7XG4gICAgICAgIGNvbnN0IHsgb3V0cHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoc291cmNlKTtcbiAgICAgICAgY29uc3QgZXZlbnRMaXN0ZW5lcnMgPSBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlKHNvdXJjZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSAoaXNBY3RpdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbENvbm5lY3Rpb24gPSBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICBhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShhY3RpdmVJbnB1dHMsIHNvdXJjZSwgcGFydGlhbENvbm5lY3Rpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2ZmbGluZSAmJiAhaXNQYXJ0T2ZBQ3ljbGUoc291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUobmF0aXZlU291cmNlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1Bhc3NpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbENvbm5lY3Rpb24gPSBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShhY3RpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlKHBhc3NpdmVJbnB1dHMsIGlucHV0LCBwYXJ0aWFsQ29ubmVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICghaXNPZmZsaW5lICYmICFpc1BhcnRPZkFDeWNsZShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlKG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSwgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0YWlsVGltZSA9IGdldEF1ZGlvTm9kZVRhaWxUaW1lKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGFpbFRpbWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZVdoZW5OZWNlc3NhcnkoZGVzdGluYXRpb24sIGFjdGl2ZUlucHV0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWxUaW1lVGltZW91dElkID0gdGFpbFRpbWVUaW1lb3V0SWRzLmdldChkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWlsVGltZVRpbWVvdXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGFpbFRpbWVUaW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhaWxUaW1lVGltZW91dElkcy5zZXQoZGVzdGluYXRpb24sIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5KGRlc3RpbmF0aW9uLCBhY3RpdmVJbnB1dHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0YWlsVGltZSAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbnNlcnRFbGVtZW50SW5TZXQob3V0cHV0cywgW2Rlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0XSwgKG91dHB1dENvbm5lY3Rpb24pID0+IG91dHB1dENvbm5lY3Rpb25bMF0gPT09IGRlc3RpbmF0aW9uICYmIG91dHB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCAmJiBvdXRwdXRDb25uZWN0aW9uWzJdID09PSBpbnB1dCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzLmFkZChldmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUoYWN0aXZlSW5wdXRzLCBzb3VyY2UsIFtvdXRwdXQsIGlucHV0LCBldmVudExpc3RlbmVyXSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUocGFzc2l2ZUlucHV0cywgaW5wdXQsIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24gfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tbm9kZS1vdXRwdXQtY29ubmVjdGlvbic7XG5leHBvcnQgY29uc3QgY3JlYXRlSW5jcmVtZW50Q3ljbGVDb3VudGVyRmFjdG9yeSA9IChjeWNsZUNvdW50ZXJzLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9QYXJhbSwgaXNBY3RpdmVBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKGlzT2ZmbGluZSkgPT4ge1xuICAgICAgICByZXR1cm4gKGF1ZGlvTm9kZSwgY291bnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN5Y2xlQ291bnRlciA9IGN5Y2xlQ291bnRlcnMuZ2V0KGF1ZGlvTm9kZSk7XG4gICAgICAgICAgICBpZiAoY3ljbGVDb3VudGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2ZmbGluZSAmJiBpc0FjdGl2ZUF1ZGlvTm9kZShhdWRpb05vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShhdWRpb05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG91dHB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGF1ZGlvTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIG91dHB1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24ob3V0cHV0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKG91dHB1dFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUobmF0aXZlU291cmNlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0WzFdLCBvdXRwdXRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVzdGluYXRpb25BdWRpb1BhcmFtID0gZ2V0TmF0aXZlQXVkaW9QYXJhbShvdXRwdXRbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZS5kaXNjb25uZWN0KG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9QYXJhbSwgb3V0cHV0WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjeWNsZUNvdW50ZXJzLnNldChhdWRpb05vZGUsIGNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN5Y2xlQ291bnRlcnMuc2V0KGF1ZGlvTm9kZSwgY3ljbGVDb3VudGVyICsgY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5jcmVtZW50LWN5Y2xlLWNvdW50ZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24gfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tbm9kZS1vdXRwdXQtY29ubmVjdGlvbic7XG5leHBvcnQgY29uc3QgY3JlYXRlRGVjcmVtZW50Q3ljbGVDb3VudGVyID0gKGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSwgY3ljbGVDb3VudGVycywgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9QYXJhbSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNBY3RpdmVBdWRpb05vZGUsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiAoYXVkaW9Ob2RlLCBjb3VudCkgPT4ge1xuICAgICAgICBjb25zdCBjeWNsZUNvdW50ZXIgPSBjeWNsZUNvdW50ZXJzLmdldChhdWRpb05vZGUpO1xuICAgICAgICBpZiAoY3ljbGVDb3VudGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgZXhwZWN0ZWQgY3ljbGUgY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoYXVkaW9Ob2RlLmNvbnRleHQpO1xuICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgIGlmIChjeWNsZUNvdW50ZXIgPT09IGNvdW50KSB7XG4gICAgICAgICAgICBjeWNsZUNvdW50ZXJzLmRlbGV0ZShhdWRpb05vZGUpO1xuICAgICAgICAgICAgaWYgKCFpc09mZmxpbmUgJiYgaXNBY3RpdmVBdWRpb05vZGUoYXVkaW9Ob2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShhdWRpb05vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb3V0cHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoYXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBvdXRwdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24ob3V0cHV0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUob3V0cHV0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZShuYXRpdmVTb3VyY2VBdWRpb05vZGUsIG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXRbMV0sIG91dHB1dFsyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvUGFyYW0gPSBnZXROYXRpdmVBdWRpb1BhcmFtKG91dHB1dFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVTb3VyY2VBdWRpb05vZGUuY29ubmVjdChuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvUGFyYW0sIG91dHB1dFsxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjeWNsZUNvdW50ZXJzLnNldChhdWRpb05vZGUsIGN5Y2xlQ291bnRlciAtIGNvdW50KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjcmVtZW50LWN5Y2xlLWNvdW50ZXIuanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb05vZGUgfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBpc0RlbGF5Tm9kZSB9IGZyb20gJy4uL2d1YXJkcy9kZWxheS1ub2RlJztcbmV4cG9ydCBjb25zdCBjcmVhdGVEZXRlY3RDeWNsZXMgPSAoYXVkaW9QYXJhbUF1ZGlvTm9kZVN0b3JlLCBnZXRBdWRpb05vZGVDb25uZWN0aW9ucywgZ2V0VmFsdWVGb3JLZXkpID0+IHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGV0ZWN0Q3ljbGVzKGNoYWluLCBuZXh0TGluaykge1xuICAgICAgICBjb25zdCBhdWRpb05vZGUgPSBpc0F1ZGlvTm9kZShuZXh0TGluaykgPyBuZXh0TGluayA6IGdldFZhbHVlRm9yS2V5KGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSwgbmV4dExpbmspO1xuICAgICAgICBpZiAoaXNEZWxheU5vZGUoYXVkaW9Ob2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFpblswXSA9PT0gYXVkaW9Ob2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gW2NoYWluXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhaW4uaW5jbHVkZXMoYXVkaW9Ob2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3V0cHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoYXVkaW9Ob2RlKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ob3V0cHV0cylcbiAgICAgICAgICAgIC5tYXAoKG91dHB1dENvbm5lY3Rpb24pID0+IGRldGVjdEN5Y2xlcyhbLi4uY2hhaW4sIGF1ZGlvTm9kZV0sIG91dHB1dENvbm5lY3Rpb25bMF0pKVxuICAgICAgICAgICAgLnJlZHVjZSgobWVyZ2VkQ3ljbGVzLCBuZXN0ZWRDeWNsZXMpID0+IG1lcmdlZEN5Y2xlcy5jb25jYXQobmVzdGVkQ3ljbGVzKSwgW10pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZWN0LWN5Y2xlcy5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNEZWxheU5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICdkZWxheVRpbWUnIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheS1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yID0gKHdpbmRvdykgPT4ge1xuICAgIGlmICh3aW5kb3cgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuaGFzT3duUHJvcGVydHkoJ0F1ZGlvQnVmZmVyJykpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5BdWRpb0J1ZmZlcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWF1ZGlvLWJ1ZmZlci1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQ29udmVydE51bWJlclRvVW5zaWduZWRMb25nID0gKHVuaXQzMkFycmF5KSA9PiB7XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICB1bml0MzJBcnJheVswXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdW5pdDMyQXJyYXlbMF07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb252ZXJ0LW51bWJlci10by11bnNpZ25lZC1sb25nLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVXcmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMgPSAoY29udmVydE51bWJlclRvVW5zaWduZWRMb25nLCBjcmVhdGVJbmRleFNpemVFcnJvcikgPT4ge1xuICAgIHJldHVybiAoYXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsID0gKGRlc3RpbmF0aW9uLCBjaGFubmVsTnVtYmVyQXNOdW1iZXIsIGJ1ZmZlck9mZnNldEFzTnVtYmVyID0gMCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyT2Zmc2V0ID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGJ1ZmZlck9mZnNldEFzTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxOdW1iZXIgPSBjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmcoY2hhbm5lbE51bWJlckFzTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChjaGFubmVsTnVtYmVyID49IGF1ZGlvQnVmZmVyLm51bWJlck9mQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXJMZW5ndGggPSBhdWRpb0J1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRGF0YSA9IGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWxOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgZGVzdGluYXRpb25MZW5ndGggPSBkZXN0aW5hdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYnVmZmVyT2Zmc2V0IDwgMCA/IC1idWZmZXJPZmZzZXQgOiAwOyBpICsgYnVmZmVyT2Zmc2V0IDwgYXVkaW9CdWZmZXJMZW5ndGggJiYgaSA8IGRlc3RpbmF0aW9uTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltpXSA9IGNoYW5uZWxEYXRhW2kgKyBidWZmZXJPZmZzZXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsID0gKHNvdXJjZSwgY2hhbm5lbE51bWJlckFzTnVtYmVyLCBidWZmZXJPZmZzZXRBc051bWJlciA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlck9mZnNldCA9IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhidWZmZXJPZmZzZXRBc051bWJlcik7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsTnVtYmVyID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGNoYW5uZWxOdW1iZXJBc051bWJlcik7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbE51bWJlciA+PSBhdWRpb0J1ZmZlci5udW1iZXJPZkNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyTGVuZ3RoID0gYXVkaW9CdWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYnVmZmVyT2Zmc2V0IDwgMCA/IC1idWZmZXJPZmZzZXQgOiAwOyBpICsgYnVmZmVyT2Zmc2V0IDwgYXVkaW9CdWZmZXJMZW5ndGggJiYgaSA8IHNvdXJjZUxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbERhdGFbaSArIGJ1ZmZlck9mZnNldF0gPSBzb3VyY2VbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMgPSAoY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKSA9PiB7XG4gICAgcmV0dXJuIChhdWRpb0J1ZmZlcikgPT4ge1xuICAgICAgICBhdWRpb0J1ZmZlci5jb3B5RnJvbUNoYW5uZWwgPSAoKGNvcHlGcm9tQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChkZXN0aW5hdGlvbiwgY2hhbm5lbE51bWJlckFzTnVtYmVyLCBidWZmZXJPZmZzZXRBc051bWJlciA9IDApID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJPZmZzZXQgPSBjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmcoYnVmZmVyT2Zmc2V0QXNOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxOdW1iZXIgPSBjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmcoY2hhbm5lbE51bWJlckFzTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyT2Zmc2V0IDwgYXVkaW9CdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3B5RnJvbUNoYW5uZWwuY2FsbChhdWRpb0J1ZmZlciwgZGVzdGluYXRpb24sIGNoYW5uZWxOdW1iZXIsIGJ1ZmZlck9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsKTtcbiAgICAgICAgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbCA9ICgoY29weVRvQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChzb3VyY2UsIGNoYW5uZWxOdW1iZXJBc051bWJlciwgYnVmZmVyT2Zmc2V0QXNOdW1iZXIgPSAwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyT2Zmc2V0ID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGJ1ZmZlck9mZnNldEFzTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsTnVtYmVyID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGNoYW5uZWxOdW1iZXJBc051bWJlcik7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlck9mZnNldCA8IGF1ZGlvQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29weVRvQ2hhbm5lbC5jYWxsKGF1ZGlvQnVmZmVyLCBzb3VyY2UsIGNoYW5uZWxOdW1iZXIsIGJ1ZmZlck9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzLmpzLm1hcCIsIi8vIEJ1ZyAjMzM6IFNhZmFyaSBleHBvc2VzIGFuIEF1ZGlvQnVmZmVyIGJ1dCBpdCBjYW4ndCBiZSB1c2VkIGFzIGEgY29uc3RydWN0b3IuXG5leHBvcnQgY29uc3QgY3JlYXRlVGVzdEF1ZGlvQnVmZmVyQ29uc3RydWN0b3JTdXBwb3J0ID0gKG5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgbmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3Rvcih7IGxlbmd0aDogMSwgc2FtcGxlUmF0ZTogNDQxMDAgfSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tdW51c2VkLWV4cHJlc3Npb25cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWF1ZGlvLWJ1ZmZlci1jb25zdHJ1Y3Rvci1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBZGRTaWxlbnRDb25uZWN0aW9uID0gKGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgZ2FpbjogMFxuICAgICAgICB9KTtcbiAgICAgICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLmNvbm5lY3QobmF0aXZlR2Fpbk5vZGUpLmNvbm5lY3QobmF0aXZlQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBkaXNjb25uZWN0KTtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5kaXNjb25uZWN0KG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIG5hdGl2ZUdhaW5Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZGlzY29ubmVjdCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtc2lsZW50LWNvbm5lY3Rpb24uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbmRlcklucHV0c09mQXVkaW9QYXJhbSA9IChnZXRBdWRpb05vZGVSZW5kZXJlciwgZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zLCBpc1BhcnRPZkFDeWNsZSkgPT4ge1xuICAgIHJldHVybiBhc3luYyAoYXVkaW9QYXJhbSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9QYXJhbSkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb1BhcmFtQ29ubmVjdGlvbnMgPSBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMoYXVkaW9QYXJhbSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20oYXVkaW9QYXJhbUNvbm5lY3Rpb25zLmFjdGl2ZUlucHV0cykubWFwKGFzeW5jIChbc291cmNlLCBvdXRwdXRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb05vZGVSZW5kZXJlciA9IGdldEF1ZGlvTm9kZVJlbmRlcmVyKHNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSA9IGF3YWl0IGF1ZGlvTm9kZVJlbmRlcmVyLnJlbmRlcihzb3VyY2UsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFpc1BhcnRPZkFDeWNsZShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGUuY29ubmVjdChuYXRpdmVBdWRpb1BhcmFtLCBvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLXBhcmFtLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVDb25uZWN0QXVkaW9QYXJhbSA9IChyZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIGF1ZGlvUGFyYW0sIG5hdGl2ZUF1ZGlvUGFyYW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcklucHV0c09mQXVkaW9QYXJhbShhdWRpb1BhcmFtLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1BhcmFtKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3QtYXVkaW8tcGFyYW0uanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IHdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzJztcbmltcG9ydCB7IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVGYWN0b3J5ID0gKGFkZFNpbGVudENvbm5lY3Rpb24sIGNhY2hlVGVzdFJlc3VsdCwgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsIHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1waW5nU3VwcG9ydCwgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0LCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0LCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsIHdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1wbGluZywgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXIsIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMsICdwbGF5YmFja1JhdGUnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgb3B0aW9ucywgJ2J1ZmZlcicpO1xuICAgICAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgb3B0aW9ucywgJ2xvb3AnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgb3B0aW9ucywgJ2xvb3BFbmQnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgb3B0aW9ucywgJ2xvb3BTdGFydCcpO1xuICAgICAgICAvLyBCdWcgIzY5OiBTYWZhcmkgZG9lcyBhbGxvdyBjYWxscyB0byBzdGFydCgpIG9mIGFuIGFscmVhZHkgc2NoZWR1bGVkIEF1ZGlvQnVmZmVyU291cmNlTm9kZS5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxscyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTU0ICYgIzE1NTogU2FmYXJpIGRvZXMgbm90IGhhbmRsZSBvZmZzZXRzIHdoaWNoIGFyZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIGR1cmF0aW9uIG9mIHRoZSBidWZmZXIuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1waW5nU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmdTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBsaW5nKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNjI6IFNhZmFyaSBkb2VzIHRocm93IGFuIGVycm9yIHdoZW4gc3RvcCgpIGlzIGNhbGxlZCBvbiBhbiBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgd2hpY2ggaGFzIG5vIGJ1ZmZlciBhc3NpZ25lZCB0byBpdC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlclN1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlcihuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxOTogU2FmYXJpIGRvZXMgbm90IGlnbm9yZSBjYWxscyB0byBzdG9wKCkgb2YgYW4gYWxyZWFkeSBzdG9wcGVkIEF1ZGlvQnVmZmVyU291cmNlTm9kZS5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IE9ubHkgRmlyZWZveCBkb2VzIG5vdCB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNzU6IFNhZmFyaSB3aWxsIG5vdCBmaXJlIGFuIGVuZGVkIGV2ZW50IGlmIHRoZSBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaXMgdW5jb25uZWN0ZWQuXG4gICAgICAgIGFkZFNpbGVudENvbm5lY3Rpb24obmF0aXZlQ29udGV4dCwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby1idWZmZXItc291cmNlLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9pbnZhbGlkLXN0YXRlLWVycm9yJztcbmV4cG9ydCBjb25zdCB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RDb25zZWN1dGl2ZUNhbGxzID0gKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSkgPT4ge1xuICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCA9ICgoc3RhcnQpID0+IHtcbiAgICAgICAgbGV0IGlzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiAod2hlbiA9IDAsIG9mZnNldCA9IDAsIGR1cmF0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnQuY2FsbChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIHdoZW4sIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLWNvbnNlY3V0aXZlLWNhbGxzLmpzLm1hcCIsImV4cG9ydCBjb25zdCB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZyA9IChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpID0+IHtcbiAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQgPSAoKHN0YXJ0KSA9PiB7XG4gICAgICAgIHJldHVybiAod2hlbiA9IDAsIG9mZnNldCA9IDAsIGR1cmF0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyO1xuICAgICAgICAgICAgLy8gQnVnICMxNTQ6IFNhZmFyaSBkb2VzIG5vdCBjbGFtcCB0aGUgb2Zmc2V0IGlmIGl0IGlzIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiB0aGUgZHVyYXRpb24gb2YgdGhlIGJ1ZmZlci5cbiAgICAgICAgICAgIGNvbnN0IGNsYW1wZWRPZmZzZXQgPSBidWZmZXIgPT09IG51bGwgPyBvZmZzZXQgOiBNYXRoLm1pbihidWZmZXIuZHVyYXRpb24sIG9mZnNldCk7XG4gICAgICAgICAgICAvLyBCdWcgIzE1NTogU2FmYXJpIGRvZXMgbm90IGhhbmRsZSB0aGUgb2Zmc2V0IGNvcnJlY3RseSBpZiBpdCB3b3VsZCBjYXVzZSB0aGUgYnVmZmVyIHRvIGJlIG5vdCBiZSBwbGF5ZWQgYXQgYWxsLlxuICAgICAgICAgICAgaWYgKGJ1ZmZlciAhPT0gbnVsbCAmJiBjbGFtcGVkT2Zmc2V0ID4gYnVmZmVyLmR1cmF0aW9uIC0gMC41IC8gbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbnRleHQuc2FtcGxlUmF0ZSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0LmNhbGwobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB3aGVuLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0LmNhbGwobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB3aGVuLCBjbGFtcGVkT2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoKTtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZ1N1cHBvcnQgPSAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXIgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCA0NDEwMCk7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IG5hdGl2ZUF1ZGlvQnVmZmVyO1xuICAgIHRyeSB7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgwLCAxKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1vZmZzZXQtY2xhbXBpbmctc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0ID0gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgpO1xuICAgIHRyeSB7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1udWxsaWZpZWQtYnVmZmVyLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyID0gKG92ZXJ3cml0ZUFjY2Vzc29ycykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG51bGxpZmllZEJ1ZmZlciA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEsIDQ0MTAwKTtcbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPSBudWxsaWZpZWRCdWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgJ2J1ZmZlcicsIChnZXQpID0+ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0LmNhbGwobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbGlmaWVkQnVmZmVyID8gbnVsbCA6IHZhbHVlO1xuICAgICAgICB9LCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzZXQuY2FsbChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIHZhbHVlID09PSBudWxsID8gbnVsbGlmaWVkQnVmZmVyIDogdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW51bGxpZmllZC1idWZmZXIuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbmRlckF1dG9tYXRpb24gPSAoZ2V0QXVkaW9QYXJhbVJlbmRlcmVyLCByZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIGF1ZGlvUGFyYW0sIG5hdGl2ZUF1ZGlvUGFyYW0pID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9QYXJhbVJlbmRlcmVyID0gZ2V0QXVkaW9QYXJhbVJlbmRlcmVyKGF1ZGlvUGFyYW0pO1xuICAgICAgICBhdWRpb1BhcmFtUmVuZGVyZXIucmVwbGF5KG5hdGl2ZUF1ZGlvUGFyYW0pO1xuICAgICAgICByZXR1cm4gcmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKGF1ZGlvUGFyYW0sIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvUGFyYW0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLWF1dG9tYXRpb24uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUdldEF1ZGlvUGFyYW1SZW5kZXJlciA9IChnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvUGFyYW0pID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9QYXJhbUNvbm5lY3Rpb25zID0gZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zKGF1ZGlvUGFyYW0pO1xuICAgICAgICBpZiAoYXVkaW9QYXJhbUNvbm5lY3Rpb25zLnJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIHJlbmRlcmVyIG9mIHRoZSBnaXZlbiBBdWRpb1BhcmFtIGluIHRoZSBhdWRpbyBncmFwaC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXVkaW9QYXJhbUNvbm5lY3Rpb25zLnJlbmRlcmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWF1ZGlvLXBhcmFtLXJlbmRlcmVyLmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgbGV0IHN0b3AgPSBudWxsO1xuICAgICAgICBjb25zdCBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWRcbiAgICAgICAgICAgICAqIGFnYWluLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTQ5OiBTYWZhcmkgZG9lcyBub3QgeWV0IHN1cHBvcnQgdGhlIGRldHVuZSBBdWRpb1BhcmFtLlxuICAgICAgICAgICAgICAgICAgICBsb29wOiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcEVuZDogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3BFbmQsXG4gICAgICAgICAgICAgICAgICAgIGxvb3BTdGFydDogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3BTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgcGxheWJhY2tSYXRlOiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUucGxheWJhY2tSYXRlLnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCguLi5zdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdG9wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKHN0b3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTQ5OiBTYWZhcmkgZG9lcyBub3QgeWV0IHN1cHBvcnQgdGhlIGRldHVuZSBBdWRpb1BhcmFtLlxuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucGxheWJhY2tSYXRlLCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUucGxheWJhY2tSYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTQ5OiBTYWZhcmkgZG9lcyBub3QgeWV0IHN1cHBvcnQgdGhlIGRldHVuZSBBdWRpb1BhcmFtLlxuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBsYXliYWNrUmF0ZSwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnBsYXliYWNrUmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXQgc3RhcnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzdG9wKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1idWZmZXItc291cmNlLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBBdXRvbWF0aW9uRXZlbnRMaXN0IH0gZnJvbSAnYXV0b21hdGlvbi1ldmVudHMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvUGFyYW1GYWN0b3J5ID0gKGFkZEF1ZGlvUGFyYW1Db25uZWN0aW9ucywgYXVkaW9QYXJhbUF1ZGlvTm9kZVN0b3JlLCBhdWRpb1BhcmFtU3RvcmUsIGNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlciwgY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCwgY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCwgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZSkgPT4ge1xuICAgIHJldHVybiAoYXVkaW9Ob2RlLCBpc0F1ZGlvUGFyYW1PZk9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvUGFyYW0sIG1heFZhbHVlID0gbnVsbCwgbWluVmFsdWUgPSBudWxsKSA9PiB7XG4gICAgICAgIC8vIEJ1ZyAjMTk2IE9ubHkgU2FmYXJpIHNldHMgdGhlIGRlZmF1bHRWYWx1ZSB0byB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gbmF0aXZlQXVkaW9QYXJhbS52YWx1ZTtcbiAgICAgICAgY29uc3QgYXV0b21hdGlvbkV2ZW50TGlzdCA9IG5ldyBBdXRvbWF0aW9uRXZlbnRMaXN0KGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGF1ZGlvUGFyYW1SZW5kZXJlciA9IGlzQXVkaW9QYXJhbU9mT2ZmbGluZUF1ZGlvQ29udGV4dCA/IGNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlcihhdXRvbWF0aW9uRXZlbnRMaXN0KSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGF1ZGlvUGFyYW0gPSB7XG4gICAgICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXhWYWx1ZSA9PT0gbnVsbCA/IG5hdGl2ZUF1ZGlvUGFyYW0ubWF4VmFsdWUgOiBtYXhWYWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pblZhbHVlID09PSBudWxsID8gbmF0aXZlQXVkaW9QYXJhbS5taW5WYWx1ZSA6IG1pblZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9QYXJhbS52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM5ODogRmlyZWZveCAmIFNhZmFyaSBkbyBub3QgeWV0IHRyZWF0IHRoZSB2YWx1ZSBzZXR0ZXIgbGlrZSBhIGNhbGwgdG8gc2V0VmFsdWVBdFRpbWUoKS5cbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKHZhbHVlLCBhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsQW5kSG9sZEF0VGltZShjYW5jZWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMyODogRmlyZWZveCAmIFNhZmFyaSBkbyBub3QgeWV0IGltcGxlbWVudCBjYW5jZWxBbmRIb2xkQXRUaW1lKCkuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYXRpdmVBdWRpb1BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudChjYW5jZWxUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uY2FuY2VsQW5kSG9sZEF0VGltZShjYW5jZWxUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzTGFzdEV2ZW50ID0gQXJyYXkuZnJvbShhdXRvbWF0aW9uRXZlbnRMaXN0KS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudChjYW5jZWxUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMYXN0RXZlbnQgPSBBcnJheS5mcm9tKGF1dG9tYXRpb25FdmVudExpc3QpLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjYW5jZWxUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzTGFzdEV2ZW50ICE9PSBjdXJyZW50TGFzdEV2ZW50ICYmIGN1cnJlbnRMYXN0RXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMYXN0RXZlbnQudHlwZSA9PT0gJ2V4cG9uZW50aWFsUmFtcFRvVmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKGN1cnJlbnRMYXN0RXZlbnQudmFsdWUsIGN1cnJlbnRMYXN0RXZlbnQuZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TGFzdEV2ZW50LnR5cGUgPT09ICdsaW5lYXJSYW1wVG9WYWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGN1cnJlbnRMYXN0RXZlbnQudmFsdWUsIGN1cnJlbnRMYXN0RXZlbnQuZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TGFzdEV2ZW50LnR5cGUgPT09ICdzZXRWYWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKGN1cnJlbnRMYXN0RXZlbnQudmFsdWUsIGN1cnJlbnRMYXN0RXZlbnQuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRMYXN0RXZlbnQudHlwZSA9PT0gJ3NldFZhbHVlQ3VydmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKGN1cnJlbnRMYXN0RXZlbnQudmFsdWVzLCBjdXJyZW50TGFzdEV2ZW50LnN0YXJ0VGltZSwgY3VycmVudExhc3RFdmVudC5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvUGFyYW07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGNhbmNlbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbVJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuZmx1c2goYXVkaW9Ob2RlLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQoY2FuY2VsVGltZSkpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGNhbmNlbFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzQ1OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgeWV0LlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE4NzogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShlbmRUaW1lKSB8fCBlbmRUaW1lIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1BhcmFtUmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTk0OiBGaXJlZm94IGRvZXMgbm90IGltcGxpY2l0bHkgY2FsbCBzZXRWYWx1ZUF0VGltZSgpIGlmIHRoZXJlIGlzIG5vIHByZXZpb3VzIGV2ZW50LlxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5mcm9tKGF1dG9tYXRpb25FdmVudExpc3QpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChkZWZhdWx0VmFsdWUsIGN1cnJlbnRUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uc2V0VmFsdWVBdFRpbWUoZGVmYXVsdFZhbHVlLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUpKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIGVuZFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbVJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuZmx1c2goY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE5NTogRmlyZWZveCBkb2VzIG5vdCBpbXBsaWNpdGx5IGNhbGwgc2V0VmFsdWVBdFRpbWUoKSBpZiB0aGVyZSBpcyBubyBwcmV2aW91cyBldmVudC5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuZnJvbShhdXRvbWF0aW9uRXZlbnRMaXN0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQoZGVmYXVsdFZhbHVlLCBjdXJyZW50VGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKGRlZmF1bHRWYWx1ZSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZW5kVGltZSkpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIGVuZFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFRhcmdldEF0VGltZSh0YXJnZXQsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50KHRhcmdldCwgc3RhcnRUaW1lLCB0aW1lQ29uc3RhbnQpKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFRhcmdldEF0VGltZSh0YXJnZXQsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRWYWx1ZUF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIHN0YXJ0VGltZSkpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uc2V0VmFsdWVBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvUGFyYW07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0VmFsdWVDdXJ2ZUF0VGltZSh2YWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgMTgzOiBTYWZhcmkgb25seSBhY2NlcHRzIGEgRmxvYXQzMkFycmF5LlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlcyA9IHZhbHVlcyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IHZhbHVlcyA6IG5ldyBGbG9hdDMyQXJyYXkodmFsdWVzKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjMTUyOiBTYWZhcmkgZG9lcyBub3QgY29ycmVjdGx5IGludGVycG9sYXRlIHRoZSB2YWx1ZXMgb2YgdGhlIGN1cnZlLlxuICAgICAgICAgICAgICAgICAqIEB0b2RvIFVuZm9ydHVuYXRlbHkgdGhlcmUgaXMgbm8gd2F5IHRvIHRlc3QgZm9yIHRoaXMgYmVoYXZpb3IgaW4gYSBzeW5jaHJvbm91cyBmYXNoaW9uIHdoaWNoIGlzIHdoeSB0ZXN0aW5nIGZvciB0aGVcbiAgICAgICAgICAgICAgICAgKiBleGlzdGVuY2Ugb2YgdGhlIHdlYmtpdEF1ZGlvQ29udGV4dCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBoZXJlLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvci5uYW1lID09PSAnd2Via2l0QXVkaW9Db250ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gc3RhcnRUaW1lICsgZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZVJhdGUgPSBhdWRpb05vZGUuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFNhbXBsZSA9IE1hdGguY2VpbChzdGFydFRpbWUgKiBzYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFNhbXBsZSA9IE1hdGguZmxvb3IoZW5kVGltZSAqIHNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJPZkludGVycG9sYXRlZFZhbHVlcyA9IGxhc3RTYW1wbGUgLSBmaXJzdFNhbXBsZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShudW1iZXJPZkludGVycG9sYXRlZFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZJbnRlcnBvbGF0ZWRWYWx1ZXM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlb3JldGljSW5kZXggPSAoKGNvbnZlcnRlZFZhbHVlcy5sZW5ndGggLSAxKSAvIGR1cmF0aW9uKSAqICgoZmlyc3RTYW1wbGUgKyBpKSAvIHNhbXBsZVJhdGUgLSBzdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93ZXJJbmRleCA9IE1hdGguZmxvb3IodGhlb3JldGljSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBwZXJJbmRleCA9IE1hdGguY2VpbCh0aGVvcmV0aWNJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWRWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VySW5kZXggPT09IHVwcGVySW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb252ZXJ0ZWRWYWx1ZXNbbG93ZXJJbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoMSAtICh0aGVvcmV0aWNJbmRleCAtIGxvd2VySW5kZXgpKSAqIGNvbnZlcnRlZFZhbHVlc1tsb3dlckluZGV4XSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMSAtICh1cHBlckluZGV4IC0gdGhlb3JldGljSW5kZXgpKSAqIGNvbnZlcnRlZFZhbHVlc1t1cHBlckluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbVJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGludGVycG9sYXRlZFZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQ3VydmVBdFRpbWUoaW50ZXJwb2xhdGVkVmFsdWVzLCBzdGFydFRpbWUsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZU9mTGFzdFNhbXBsZSA9IGxhc3RTYW1wbGUgLyBzYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZU9mTGFzdFNhbXBsZSA8IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZShhdWRpb1BhcmFtLCBpbnRlcnBvbGF0ZWRWYWx1ZXNbaW50ZXJwb2xhdGVkVmFsdWVzLmxlbmd0aCAtIDFdLCB0aW1lT2ZMYXN0U2FtcGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZUF0VGltZVVudGlsUG9zc2libGUoYXVkaW9QYXJhbSwgY29udmVydGVkVmFsdWVzW2NvbnZlcnRlZFZhbHVlcy5sZW5ndGggLSAxXSwgZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbVJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGNvbnZlcnRlZFZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQ3VydmVBdFRpbWUoY29udmVydGVkVmFsdWVzLCBzdGFydFRpbWUsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvUGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGF1ZGlvUGFyYW1TdG9yZS5zZXQoYXVkaW9QYXJhbSwgbmF0aXZlQXVkaW9QYXJhbSk7XG4gICAgICAgIGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZS5zZXQoYXVkaW9QYXJhbSwgYXVkaW9Ob2RlKTtcbiAgICAgICAgYWRkQXVkaW9QYXJhbUNvbm5lY3Rpb25zKGF1ZGlvUGFyYW0sIGF1ZGlvUGFyYW1SZW5kZXJlcik7XG4gICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tcGFyYW0tZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQXVkaW9QYXJhbVJlbmRlcmVyID0gKGF1dG9tYXRpb25FdmVudExpc3QpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXBsYXkoYXVkaW9QYXJhbSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhdXRvbWF0aW9uRXZlbnQgb2YgYXV0b21hdGlvbkV2ZW50TGlzdCkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ2V4cG9uZW50aWFsUmFtcFRvVmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZW5kVGltZSwgdmFsdWUgfSA9IGF1dG9tYXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdsaW5lYXJSYW1wVG9WYWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlbmRUaW1lLCB2YWx1ZSB9ID0gYXV0b21hdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdzZXRUYXJnZXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhcnRUaW1lLCB0YXJnZXQsIHRpbWVDb25zdGFudCB9ID0gYXV0b21hdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFRhcmdldEF0VGltZSh0YXJnZXQsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdzZXRWYWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdGFydFRpbWUsIHZhbHVlIH0gPSBhdXRvbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0uc2V0VmFsdWVBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnc2V0VmFsdWVDdXJ2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkdXJhdGlvbiwgc3RhcnRUaW1lLCB2YWx1ZXMgfSA9IGF1dG9tYXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKHZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhcHBseSBhbiB1bmtub3duIGF1dG9tYXRpb24uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tcGFyYW0tcmVuZGVyZXIuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUFkZEF1ZGlvUGFyYW1Db25uZWN0aW9ucyA9IChhdWRpb1BhcmFtQ29ubmVjdGlvbnNTdG9yZSkgPT4ge1xuICAgIHJldHVybiAoYXVkaW9QYXJhbSwgYXVkaW9QYXJhbVJlbmRlcmVyKSA9PiB7XG4gICAgICAgIGF1ZGlvUGFyYW1Db25uZWN0aW9uc1N0b3JlLnNldChhdWRpb1BhcmFtLCB7IGFjdGl2ZUlucHV0czogbmV3IFNldCgpLCBwYXNzaXZlSW5wdXRzOiBuZXcgV2Vha01hcCgpLCByZW5kZXJlcjogYXVkaW9QYXJhbVJlbmRlcmVyIH0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLWF1ZGlvLXBhcmFtLWNvbm5lY3Rpb25zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyLCBjcmVhdGVJbmRleFNpemVFcnJvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEF1ZGlvRGVzdGluYXRpb25Ob2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZShuYXRpdmVDb250ZXh0LCBjaGFubmVsQ291bnQsIGlzT2ZmbGluZSk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyID0gKChpc09mZmxpbmUgPyBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyKHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA6IG51bGwpKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSwgYXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9pc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSBpc09mZmxpbmU7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSA9IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsQ291bnQodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNTI6IENocm9tZSwgRWRnZSAmIFNhZmFyaSBkbyBub3QgdGhyb3cgYW4gZXhjZXB0aW9uIGF0IGFsbC5cbiAgICAgICAgICAgIC8vIEJ1ZyAjNTQ6IEZpcmVmb3ggZG9lcyB0aHJvdyBhbiBJbmRleFNpemVFcnJvci5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICM0NzogVGhlIEF1ZGlvRGVzdGluYXRpb25Ob2RlIGluIFNhZmFyaSBkb2VzIG5vdCBpbml0aWFsaXplIHRoZSBtYXhDaGFubmVsQ291bnQgcHJvcGVydHkgY29ycmVjdGx5LlxuICAgICAgICAgICAgaWYgKHZhbHVlID4gdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNTM6IE5vIGJyb3dzZXIgZG9lcyB0aHJvdyBhbiBleGNlcHRpb24geWV0LlxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG1heENoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5tYXhDaGFubmVsQ291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlUmVuZGVyZXIgPSAocmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3QgY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uO1xuICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUpO1xuICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUpO1xuICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGU7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSByZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGVGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBvdmVyd3JpdGVBY2Nlc3NvcnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIGNoYW5uZWxDb3VudCwgaXNOb2RlT2ZOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gbmF0aXZlQ29udGV4dC5kZXN0aW5hdGlvbjtcbiAgICAgICAgLy8gQnVnICMxMzI6IFNhZmFyaSBkb2VzIG5vdCBoYXZlIHRoZSBjb3JyZWN0IGNoYW5uZWxDb3VudC5cbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudCAhPT0gY2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudCA9IGNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE2OTogU2FmYXJpIHRocm93cyBhbiBlcnJvciBvbiBlYWNoIGF0dGVtcHQgdG8gY2hhbmdlIHRoZSBjaGFubmVsQ291bnQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICM4MzogU2FmYXJpIGRvZXMgbm90IGhhdmUgdGhlIGNvcnJlY3QgY2hhbm5lbENvdW50TW9kZS5cbiAgICAgICAgaWYgKGlzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCAmJiBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlICE9PSAnZXhwbGljaXQnKSB7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlID0gJ2V4cGxpY2l0JztcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzQ3OiBUaGUgQXVkaW9EZXN0aW5hdGlvbk5vZGUgaW4gU2FmYXJpIGRvZXMgbm90IGluaXRpYWxpemUgdGhlIG1heENoYW5uZWxDb3VudCBwcm9wZXJ0eSBjb3JyZWN0bHkuXG4gICAgICAgIGlmIChuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5tYXhDaGFubmVsQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSwgJ21heENoYW5uZWxDb3VudCcsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogY2hhbm5lbENvdW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE2ODogTm8gYnJvd3NlciBkb2VzIHlldCBoYXZlIGFuIEF1ZGlvRGVzdGluYXRpb25Ob2RlIHdpdGggYW4gb3V0cHV0LlxuICAgICAgICBjb25zdCBnYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgIGdhaW46IDFcbiAgICAgICAgfSk7XG4gICAgICAgIG92ZXJ3cml0ZUFjY2Vzc29ycyhnYWluTm9kZSwgJ2NoYW5uZWxDb3VudCcsIChnZXQpID0+ICgpID0+IGdldC5jYWxsKGdhaW5Ob2RlKSwgKHNldCkgPT4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzZXQuY2FsbChnYWluTm9kZSwgdmFsdWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE2OTogU2FmYXJpIHRocm93cyBhbiBlcnJvciBvbiBlYWNoIGF0dGVtcHQgdG8gY2hhbmdlIHRoZSBjaGFubmVsQ291bnQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMoZ2Fpbk5vZGUsICdjaGFubmVsQ291bnRNb2RlJywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwoZ2Fpbk5vZGUpLCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldC5jYWxsKGdhaW5Ob2RlLCB2YWx1ZSk7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMoZ2Fpbk5vZGUsICdjaGFubmVsSW50ZXJwcmV0YXRpb24nLCAoZ2V0KSA9PiAoKSA9PiBnZXQuY2FsbChnYWluTm9kZSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0LmNhbGwoZ2Fpbk5vZGUsIHZhbHVlKTtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdhaW5Ob2RlLCAnbWF4Q2hhbm5lbENvdW50Jywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5tYXhDaGFubmVsQ291bnRcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEB0b2RvIFRoaXMgc2hvdWxkIGJlIGRpc2Nvbm5lY3RlZCB3aGVuIHRoZSBjb250ZXh0IGlzIGNsb3NlZC5cbiAgICAgICAgZ2Fpbk5vZGUuY29ubmVjdChuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSk7XG4gICAgICAgIHJldHVybiBnYWluTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUJpcXVhZEZpbHRlck5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgY29uc3QgY3JlYXRlQmlxdWFkRmlsdGVyTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkXG4gICAgICAgICAgICAgKiBhZ2Fpbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFE6IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuUS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZXR1bmU6IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZGV0dW5lLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBnYWluOiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmdhaW4udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUudHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUJpcXVhZEZpbHRlck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQmlxdWFkRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LlEsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuUSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5kZXR1bmUsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZGV0dW5lKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmZyZXF1ZW5jeSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZ2FpbiwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5nYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LlEsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuUSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZGV0dW5lLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZnJlcXVlbmN5LCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZ2FpbiwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5nYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2RlID0gcmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJpcXVhZEZpbHRlck5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlxdWFkLWZpbHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVNldEF1ZGlvTm9kZVRhaWxUaW1lID0gKGF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvTm9kZSwgdGFpbFRpbWUpID0+IGF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUuc2V0KGF1ZGlvTm9kZSwgdGFpbFRpbWUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC1hdWRpby1ub2RlLXRhaWwtdGltZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTW9uaXRvckNvbm5lY3Rpb25zID0gKGluc2VydEVsZW1lbnRJblNldCwgaXNOYXRpdmVBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUF1ZGlvTm9kZSwgd2hlbkNvbm5lY3RlZCwgd2hlbkRpc2Nvbm5lY3RlZCkgPT4ge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QgPSAoKGNvbm5lY3QpID0+IHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTppbnZhbGlkLXZvaWQgbm8taW5mZXJyYWJsZS10eXBlc1xuICAgICAgICAgICAgcmV0dXJuIChkZXN0aW5hdGlvbiwgb3V0cHV0ID0gMCwgaW5wdXQgPSAwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzRGlzY29ubmVjdGVkID0gY29ubmVjdGlvbnMuc2l6ZSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgY2Fubm90IGluZmVyIHRoZSBvdmVybG9hZGVkIHNpZ25hdHVyZSB3aXRoIDMgYXJndW1lbnRzIHlldC5cbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdC5jYWxsKG5hdGl2ZUF1ZGlvTm9kZSwgZGVzdGluYXRpb24sIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRFbGVtZW50SW5TZXQoY29ubmVjdGlvbnMsIFtkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dF0sIChjb25uZWN0aW9uKSA9PiBjb25uZWN0aW9uWzBdID09PSBkZXN0aW5hdGlvbiAmJiBjb25uZWN0aW9uWzFdID09PSBvdXRwdXQgJiYgY29ubmVjdGlvblsyXSA9PT0gaW5wdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2FzRGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuQ29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25uZWN0LmNhbGwobmF0aXZlQXVkaW9Ob2RlLCBkZXN0aW5hdGlvbiwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRFbGVtZW50SW5TZXQoY29ubmVjdGlvbnMsIFtkZXN0aW5hdGlvbiwgb3V0cHV0XSwgKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb25bMF0gPT09IGRlc3RpbmF0aW9uICYmIGNvbm5lY3Rpb25bMV0gPT09IG91dHB1dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHdhc0Rpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB3aGVuQ29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG5hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0KTtcbiAgICAgICAgbmF0aXZlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QgPSAoKGRpc2Nvbm5lY3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoZGVzdGluYXRpb25Pck91dHB1dCwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhc0Nvbm5lY3RlZCA9IGNvbm5lY3Rpb25zLnNpemUgPiAwO1xuICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yT3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdC5hcHBseShuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck91dHB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gVHlwZVNjcmlwdCBjYW5ub3QgaW5mZXIgdGhlIG92ZXJsb2FkZWQgc2lnbmF0dXJlIHdpdGggMSBhcmd1bWVudCB5ZXQuXG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3QuY2FsbChuYXRpdmVBdWRpb05vZGUsIGRlc3RpbmF0aW9uT3JPdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3Rpb24gb2YgY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uWzFdID09PSBkZXN0aW5hdGlvbk9yT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb25Pck91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgY2Fubm90IGluZmVyIHRoZSBvdmVybG9hZGVkIHNpZ25hdHVyZSB3aXRoIDMgYXJndW1lbnRzIHlldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3QuY2FsbChuYXRpdmVBdWRpb05vZGUsIGRlc3RpbmF0aW9uT3JPdXRwdXQsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gVHlwZVNjcmlwdCBjYW5ub3QgaW5mZXIgdGhlIG92ZXJsb2FkZWQgc2lnbmF0dXJlIHdpdGggMiBhcmd1bWVudHMgeWV0LlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdC5jYWxsKG5hdGl2ZUF1ZGlvTm9kZSwgZGVzdGluYXRpb25Pck91dHB1dCwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3Rpb24gb2YgY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uWzBdID09PSBkZXN0aW5hdGlvbk9yT3V0cHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG91dHB1dCA9PT0gdW5kZWZpbmVkIHx8IGNvbm5lY3Rpb25bMV0gPT09IG91dHB1dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5wdXQgPT09IHVuZGVmaW5lZCB8fCBjb25uZWN0aW9uWzJdID09PSBpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5kZWxldGUoY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNjb25uZWN0ZWQgPSBjb25uZWN0aW9ucy5zaXplID09PSAwO1xuICAgICAgICAgICAgICAgIGlmICh3YXNDb25uZWN0ZWQgJiYgaXNEaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlbkRpc2Nvbm5lY3RlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG5hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0KTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vbml0b3ItY29ubmVjdGlvbnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVdyYXBDaGFubmVsTWVyZ2VyTm9kZSA9IChjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgbW9uaXRvckNvbm5lY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBjaGFubmVsTWVyZ2VyTm9kZSkgPT4ge1xuICAgICAgICAvLyBCdWcgIzE1OiBTYWZhcmkgZG9lcyBub3QgcmV0dXJuIHRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICAgIGNoYW5uZWxNZXJnZXJOb2RlLmNoYW5uZWxDb3VudCA9IDE7XG4gICAgICAgIGNoYW5uZWxNZXJnZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUgPSAnZXhwbGljaXQnO1xuICAgICAgICAvLyBCdWcgIzE2OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBzZXR0aW5nIGEgZGlmZmVyZW50IGNoYW5uZWxDb3VudCBvciBjaGFubmVsQ291bnRNb2RlLlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hhbm5lbE1lcmdlck5vZGUsICdjaGFubmVsQ291bnQnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IDEsXG4gICAgICAgICAgICBzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoYW5uZWxNZXJnZXJOb2RlLCAnY2hhbm5lbENvdW50TW9kZScsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIHNldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBCdWcgIzIwOiBTYWZhcmkgcmVxdWlyZXMgYSBjb25uZWN0aW9uIG9mIGFueSBraW5kIHRvIHRyZWF0IHRoZSBpbnB1dCBzaWduYWwgY29ycmVjdGx5LlxuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2hhbm5lbE1lcmdlck5vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3aGVuRGlzY29ubmVjdGVkID0gKCkgPT4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICBtb25pdG9yQ29ubmVjdGlvbnMoY2hhbm5lbE1lcmdlck5vZGUsIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1jaGFubmVsLW1lcmdlci1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZUZhY3RvcnkgPSAobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHdyYXBDaGFubmVsTWVyZ2VyTm9kZSkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQ2hhbm5lbE1lcmdlcihvcHRpb25zLm51bWJlck9mSW5wdXRzKTtcbiAgICAgICAgLypcbiAgICAgICAgICogQnVnICMyMDogU2FmYXJpIHJlcXVpcmVzIGEgY29ubmVjdGlvbiBvZiBhbnkga2luZCB0byB0cmVhdCB0aGUgaW5wdXQgc2lnbmFsIGNvcnJlY3RseS5cbiAgICAgICAgICogQHRvZG8gVW5mb3J0dW5hdGVseSB0aGVyZSBpcyBubyB3YXkgdG8gdGVzdCBmb3IgdGhpcyBiZWhhdmlvciBpbiBhIHN5bmNocm9ub3VzIGZhc2hpb24gd2hpY2ggaXMgd2h5IHRlc3RpbmcgZm9yIHRoZSBleGlzdGVuY2Ugb2ZcbiAgICAgICAgICogdGhlIHdlYmtpdEF1ZGlvQ29udGV4dCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yICE9PSBudWxsICYmIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLm5hbWUgPT09ICd3ZWJraXRBdWRpb0NvbnRleHQnKSB7XG4gICAgICAgICAgICB3cmFwQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwgbmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmF0aXZlQ2hhbm5lbE1lcmdlck5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtY2hhbm5lbC1tZXJnZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgY29uc3QgY3JlYXRlQXVkaW9Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVBdWRpb05vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWQgYWdhaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb05vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVBdWRpb05vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVBdWRpb05vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZklucHV0czogbmF0aXZlQXVkaW9Ob2RlLm51bWJlck9mSW5wdXRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb05vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBdWRpb05vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLW1lcmdlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgY29uc3QgY3JlYXRlQXVkaW9Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVBdWRpb05vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWQgYWdhaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb05vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVBdWRpb05vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVBdWRpb05vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVBdWRpb05vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk91dHB1dHM6IG5hdGl2ZUF1ZGlvTm9kZS5udW1iZXJPZk91dHB1dHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb05vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSA9IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1zcGxpdHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IHNhbml0aXplQ2hhbm5lbFNwbGl0dGVyT3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgY2hhbm5lbENvdW50OiBvcHRpb25zLm51bWJlck9mT3V0cHV0cyB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLWNoYW5uZWwtc3BsaXR0ZXItb3B0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcmNlcHRDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvaW50ZXJjZXB0LWNvbm5lY3Rpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlckZhY3RvcnkgPSAoYWRkU2lsZW50Q29ubmVjdGlvbiwgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgbW9uaXRvckNvbm5lY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCB7IG9mZnNldCwgLi4uYXVkaW9Ob2RlT3B0aW9ucyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMiwgNDQxMDApO1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgYnVmZmVyOiBudWxsLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAyLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgIGxvb3BFbmQ6IDAsXG4gICAgICAgICAgICBsb29wU3RhcnQ6IDAsXG4gICAgICAgICAgICBwbGF5YmFja1JhdGU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5hdWRpb05vZGVPcHRpb25zLCBnYWluOiBvZmZzZXQgfSk7XG4gICAgICAgIC8vIEJ1ZyAjNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY29weUZyb21DaGFubmVsKCkgYW5kIGNvcHlUb0NoYW5uZWwoKS5cbiAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgLy8gQnVnICM5NTogU2FmYXJpIGRvZXMgbm90IHBsYXkgb3IgbG9vcCBvbmUgc2FtcGxlIGJ1ZmZlcnMuXG4gICAgICAgIGNoYW5uZWxEYXRhWzBdID0gMTtcbiAgICAgICAgY2hhbm5lbERhdGFbMV0gPSAxO1xuICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID0gYXVkaW9CdWZmZXI7XG4gICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXIgPSB7XG4gICAgICAgICAgICBnZXQgYnVmZmVyU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBnYWluTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBnYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2Fpbk5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5udW1iZXJPZklucHV0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZPdXRwdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnYWluTm9kZS5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgb25lbmRlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLm9uZW5kZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IG9uZW5kZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGUub25lbmRlZCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlclNvdXJjZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmRpc3BhdGNoRXZlbnQoYXJnc1swXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXJ0KHdoZW4gPSAwKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0LmNhbGwoYXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB3aGVuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wKHdoZW4gPSAwKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AuY2FsbChhdWRpb0J1ZmZlclNvdXJjZU5vZGUsIHdoZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QoZ2Fpbk5vZGUpO1xuICAgICAgICBjb25zdCB3aGVuRGlzY29ubmVjdGVkID0gKCkgPT4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmRpc2Nvbm5lY3QoZ2Fpbk5vZGUpO1xuICAgICAgICAvLyBCdWcgIzE3NTogU2FmYXJpIHdpbGwgbm90IGZpcmUgYW4gZW5kZWQgZXZlbnQgaWYgdGhlIEF1ZGlvQnVmZmVyU291cmNlTm9kZSBpcyB1bmNvbm5lY3RlZC5cbiAgICAgICAgYWRkU2lsZW50Q29ubmVjdGlvbihuYXRpdmVDb250ZXh0LCBhdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuICAgICAgICByZXR1cm4gbW9uaXRvckNvbm5lY3Rpb25zKGludGVyY2VwdENvbm5lY3Rpb25zKG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyLCBnYWluTm9kZSksIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWNvbnN0YW50LXNvdXJjZS1ub2RlLWZha2VyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFjdG9yeSA9IChhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyLCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgLy8gQnVnICM2MjogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgQ29uc3RhbnRTb3VyY2VOb2Rlcy5cbiAgICAgICAgaWYgKG5hdGl2ZUNvbnRleHQuY3JlYXRlQ29uc3RhbnRTb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQ29uc3RhbnRTb3VyY2UoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBvcHRpb25zLCAnb2Zmc2V0Jyk7XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICM0NDogT25seSBGaXJlZm94IGRvZXMgbm90IHRocm93IGEgUmFuZ2VFcnJvciB5ZXQuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMobmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE3NTogU2FmYXJpIHdpbGwgbm90IGZpcmUgYW4gZW5kZWQgZXZlbnQgaWYgdGhlIENvbnN0YW50U291cmNlTm9kZSBpcyB1bmNvbm5lY3RlZC5cbiAgICAgICAgYWRkU2lsZW50Q29ubmVjdGlvbihuYXRpdmVDb250ZXh0LCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUpO1xuICAgICAgICByZXR1cm4gbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWNvbnN0YW50LXNvdXJjZS1ub2RlLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgICAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgICAgICogYWdhaW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldC52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuc3RhcnQoc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuc3RvcChzdG9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9mZnNldCwgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5vZmZzZXQsIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2V0IHN0YXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc3RvcCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IHJlbmRlcmVkTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnQtc291cmNlLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGVGYWN0b3J5ID0gKGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBvdmVyd3JpdGVBY2Nlc3NvcnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29udm9sdmVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQ29udm9sdmVyKCk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlQ29udm9sdmVyTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIFRoZSBub3JtYWxpemUgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSBzZXR0aW5nIHRoZSBidWZmZXIuXG4gICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVOb3JtYWxpemF0aW9uID09PSBuYXRpdmVDb252b2x2ZXJOb2RlLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemUgPSAhb3B0aW9ucy5kaXNhYmxlTm9ybWFsaXphdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQ29udm9sdmVyTm9kZSwgb3B0aW9ucywgJ2J1ZmZlcicpO1xuICAgICAgICAvLyBCdWcgIzExMzogU2FmYXJpIGRvZXMgYWxsb3cgdG8gc2V0IHRoZSBjaGFubmVsQ291bnQgdG8gYSB2YWx1ZSBsYXJnZXIgdGhhbiAyLlxuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsQ291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIG92ZXJ3cml0ZUFjY2Vzc29ycyhuYXRpdmVDb252b2x2ZXJOb2RlLCAnY2hhbm5lbENvdW50JywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwobmF0aXZlQ29udm9sdmVyTm9kZSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gMikge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2V0LmNhbGwobmF0aXZlQ29udm9sdmVyTm9kZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVnICMxMTQ6IFNhZmFyaSBhbGxvd3MgdG8gc2V0IHRoZSBjaGFubmVsQ291bnRNb2RlIHRvICdtYXgnLlxuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsQ291bnRNb2RlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMobmF0aXZlQ29udm9sdmVyTm9kZSwgJ2NoYW5uZWxDb3VudE1vZGUnLCAoZ2V0KSA9PiAoKSA9PiBnZXQuY2FsbChuYXRpdmVDb252b2x2ZXJOb2RlKSwgKHNldCkgPT4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICdtYXgnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXQuY2FsbChuYXRpdmVDb252b2x2ZXJOb2RlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmF0aXZlQ29udm9sdmVyTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1jb252b2x2ZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXInO1xuaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlQ29udm9sdmVyTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUNvbnZvbHZlck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVDb252b2x2ZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVDb252b2x2ZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udm9sdmVyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUNvbnZvbHZlck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVDb252b2x2ZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlQ29udm9sdmVyTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUNvbnZvbHZlck5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVDb252b2x2ZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU5vcm1hbGl6YXRpb246ICFuYXRpdmVDb252b2x2ZXJOb2RlLm5vcm1hbGl6ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQ29udm9sdmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUNvbnZvbHZlck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVDb252b2x2ZXJOb2RlKTtcbiAgICAgICAgICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZUZha2VyKG5hdGl2ZUNvbnZvbHZlck5vZGUpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUNvbnZvbHZlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVDb252b2x2ZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVDb252b2x2ZXJOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2RlID0gcmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbnZvbHZlck5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udm9sdmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVEZWxheU5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAobWF4RGVsYXlUaW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlRGVsYXlOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZURlbGF5Tm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZURlbGF5Tm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlRGVsYXlOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVsYXlOb2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlRGVsYXlOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVsYXlOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlRGVsYXlOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlRGVsYXlOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlRGVsYXlOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlUaW1lOiBuYXRpdmVEZWxheU5vZGUuZGVsYXlUaW1lLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtYXhEZWxheVRpbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZURlbGF5Tm9kZSA9IGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlRGVsYXlOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlRGVsYXlOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVsYXlOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZGVsYXlUaW1lLCBuYXRpdmVEZWxheU5vZGUuZGVsYXlUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmRlbGF5VGltZSwgbmF0aXZlRGVsYXlOb2RlLmRlbGF5VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlRGVsYXlOb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVEZWxheU5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZSA9IHJlbmRlcmVkTmF0aXZlRGVsYXlOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlRGVsYXlOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVEZWxheU5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXktbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlRmFjdG9yeSA9IChjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgLy8gQnVnICMxMDg6IFNhZmFyaSBhbGxvd3MgYSBjaGFubmVsQ291bnQgb2YgdGhyZWUgYW5kIGFib3ZlLlxuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsQ291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTA5OiBPbmx5IENocm9tZSBhbmQgRmlyZWZveCBkaXNhbGxvdyBhIGNoYW5uZWxDb3VudE1vZGUgb2YgJ21heCcuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW5uZWxDb3VudE1vZGUgPT09ICdtYXgnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBvcHRpb25zLCAnYXR0YWNrJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBvcHRpb25zLCAna25lZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucywgJ3JhdGlvJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBvcHRpb25zLCAncmVsZWFzZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucywgJ3RocmVzaG9sZCcpO1xuICAgICAgICByZXR1cm4gbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1keW5hbWljcy1jb21wcmVzc29yLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgICAqIGNyZWF0ZWQgYWdhaW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2s6IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuYXR0YWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGtuZWU6IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmF0aW86IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGVhc2U6IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVsZWFzZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnRocmVzaG9sZC52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmF0dGFjaywgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5hdHRhY2spO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkua25lZSwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5rbmVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnJhdGlvLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnJlbGVhc2UsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVsZWFzZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS50aHJlc2hvbGQsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUudGhyZXNob2xkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmF0dGFjaywgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5hdHRhY2spO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmtuZWUsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucmF0aW8sIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8pO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnJlbGVhc2UsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVsZWFzZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkudGhyZXNob2xkLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnRocmVzaG9sZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IHJlbmRlcmVkTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgY29uc3QgY3JlYXRlR2Fpbk5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVHYWluTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlR2Fpbk5vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWQgYWdhaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVHYWluTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUdhaW5Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlR2Fpbk5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVHYWluTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlR2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBnYWluOiBuYXRpdmVHYWluTm9kZS5nYWluLnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVHYWluTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlR2Fpbk5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5nYWluLCBuYXRpdmVHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmdhaW4sIG5hdGl2ZUdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVHYWluTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGUgPSByZW5kZXJlZE5hdGl2ZUdhaW5Ob2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlR2Fpbk5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2Fpbi1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgdGVzdFByb21pc2VTdXBwb3J0IH0gZnJvbSAnLi4vaGVscGVycy90ZXN0LXByb21pc2Utc3VwcG9ydCc7XG5leHBvcnQgY29uc3QgY3JlYXRlUmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IChjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCB0ZXN0T2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydCkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAvLyBCdWcgIzIxOiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBwcm9taXNlcyB5ZXQuXG4gICAgICAgIGlmIChjYWNoZVRlc3RSZXN1bHQodGVzdFByb21pc2VTdXBwb3J0LCAoKSA9PiB0ZXN0UHJvbWlzZVN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkpKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE1ODogQ2hyb21lIGFuZCBFZGdlIGRvIG5vdCBhZHZhbmNlIGN1cnJlbnRUaW1lIGlmIGl0IGlzIG5vdCBhY2Nlc3NlZCB3aGlsZSByZW5kZXJpbmcgdGhlIGF1ZGlvLlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYWNoZVRlc3RSZXN1bHQodGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQsIHRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0KSkudGhlbigoaXNPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdFByb2Nlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIDUxMiwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSBudWxsOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5vbmF1ZGlvcHJvY2VzcyA9ICgpID0+IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuY3VycmVudFRpbWU7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jb25uZWN0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zdGFydFJlbmRlcmluZygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyBCdWcgIzQ4OiBTYWZhcmkgZG9lcyBub3QgcmVuZGVyIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQgd2l0aG91dCBhbnkgY29ubmVjdGVkIG5vZGUuXG4gICAgICAgICAgICBjb25zdCBnYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICAgICAgZ2FpbjogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Lm9uY29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBnYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5yZW5kZXJlZEJ1ZmZlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2Fpbk5vZGUuY29ubmVjdChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXItbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlVGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQgPSAoY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSBuZXcgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKDEsIDEsIDQ0MTAwKTtcbiAgICAgICAgLy8gQnVnICM0ODogU2FmYXJpIGRvZXMgbm90IHJlbmRlciBhbiBPZmZsaW5lQXVkaW9Db250ZXh0IHdpdGhvdXQgYW55IGNvbm5lY3RlZCBub2RlLlxuICAgICAgICBjb25zdCBnYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICBnYWluOiAwXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBCdWcgIzIxOiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBwcm9taXNlcyB5ZXQuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdhaW5Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuY3VycmVudFRpbWUgIT09IDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LW9mZmxpbmUtYXVkaW8tY29udGV4dC1jdXJyZW50LXRpbWUtc3VwcG9ydC5qcy5tYXAiLCJpbXBvcnQgeyBmaWx0ZXJCdWZmZXIgfSBmcm9tICcuLi9oZWxwZXJzL2ZpbHRlci1idWZmZXInO1xuaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5jb25zdCBmaWx0ZXJGdWxsQnVmZmVyID0gKHJlbmRlcmVkQnVmZmVyLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBmZWVkYmFjaywgZmVlZGZvcndhcmQpID0+IHtcbiAgICBjb25zdCBjb252ZXJ0ZWRGZWVkYmFjayA9IGZlZWRiYWNrIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5ID8gZmVlZGJhY2sgOiBuZXcgRmxvYXQ2NEFycmF5KGZlZWRiYWNrKTtcbiAgICBjb25zdCBjb252ZXJ0ZWRGZWVkZm9yd2FyZCA9IGZlZWRmb3J3YXJkIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5ID8gZmVlZGZvcndhcmQgOiBuZXcgRmxvYXQ2NEFycmF5KGZlZWRmb3J3YXJkKTtcbiAgICBjb25zdCBmZWVkYmFja0xlbmd0aCA9IGNvbnZlcnRlZEZlZWRiYWNrLmxlbmd0aDtcbiAgICBjb25zdCBmZWVkZm9yd2FyZExlbmd0aCA9IGNvbnZlcnRlZEZlZWRmb3J3YXJkLmxlbmd0aDtcbiAgICBjb25zdCBtaW5MZW5ndGggPSBNYXRoLm1pbihmZWVkYmFja0xlbmd0aCwgZmVlZGZvcndhcmRMZW5ndGgpO1xuICAgIGlmIChjb252ZXJ0ZWRGZWVkYmFja1swXSAhPT0gMSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZWRiYWNrTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnZlcnRlZEZlZWRmb3J3YXJkW2ldIC89IGNvbnZlcnRlZEZlZWRiYWNrWzBdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZmVlZGZvcndhcmRMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29udmVydGVkRmVlZGJhY2tbaV0gLz0gY29udmVydGVkRmVlZGJhY2tbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gMzI7XG4gICAgY29uc3QgeEJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICBjb25zdCB5QnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJMZW5ndGgpO1xuICAgIGNvbnN0IGZpbHRlcmVkQnVmZmVyID0gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIocmVuZGVyZWRCdWZmZXIubnVtYmVyT2ZDaGFubmVscywgcmVuZGVyZWRCdWZmZXIubGVuZ3RoLCByZW5kZXJlZEJ1ZmZlci5zYW1wbGVSYXRlKTtcbiAgICBjb25zdCBudW1iZXJPZkNoYW5uZWxzID0gcmVuZGVyZWRCdWZmZXIubnVtYmVyT2ZDaGFubmVscztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQ2hhbm5lbHM7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHJlbmRlcmVkQnVmZmVyLmdldENoYW5uZWxEYXRhKGkpO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBmaWx0ZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKTtcbiAgICAgICAgeEJ1ZmZlci5maWxsKDApO1xuICAgICAgICB5QnVmZmVyLmZpbGwoMCk7XG4gICAgICAgIGZpbHRlckJ1ZmZlcihjb252ZXJ0ZWRGZWVkYmFjaywgZmVlZGJhY2tMZW5ndGgsIGNvbnZlcnRlZEZlZWRmb3J3YXJkLCBmZWVkZm9yd2FyZExlbmd0aCwgbWluTGVuZ3RoLCB4QnVmZmVyLCB5QnVmZmVyLCAwLCBidWZmZXJMZW5ndGgsIGlucHV0LCBvdXRwdXQpO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyZWRCdWZmZXI7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUlJUkZpbHRlck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKGZlZWRiYWNrLCBmZWVkZm9yd2FyZCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBsZXQgZmlsdGVyZWRCdWZmZXJQcm9taXNlID0gbnVsbDtcbiAgICAgICAgY29uc3QgY3JlYXRlQXVkaW9Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBuYXRpdmVJSVJGaWx0ZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVJSVJGaWx0ZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlSUlSRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUlJUkZpbHRlck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgLy8gQnVnICM5OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBJSVJGaWx0ZXJOb2Rlcy5cbiAgICAgICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUlJUkZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb29wRW5kOiAwLFxuICAgICAgICAgICAgICAgICAgICBsb29wU3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW5hdGl2ZUlJUkZpbHRlck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgLy8gQHRvZG8gVHlwZVNjcmlwdCBkZWZpbmVzIHRoZSBwYXJhbWV0ZXJzIG9mIGNyZWF0ZUlJUkZpbHRlcigpIGFzIGFycmF5cyBvZiBudW1iZXJzLlxuICAgICAgICAgICAgICAgIG5hdGl2ZUlJUkZpbHRlck5vZGUgPSBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUlJUkZpbHRlcihmZWVkZm9yd2FyZCwgZmVlZGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPT09IG51bGwgPyBuYXRpdmVJSVJGaWx0ZXJOb2RlIDogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRCdWZmZXJQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgbmF0aXZlIE9mZmxpbmVBdWRpb0NvbnRleHQgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQgPSBuZXcgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzQ3OiBUaGUgQXVkaW9EZXN0aW5hdGlvbk5vZGUgaW4gU2FmYXJpIGdldHMgbm90IGluaXRpYWxpemVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICAgICAgcHJveHkuY29udGV4dC5kZXN0aW5hdGlvbi5jaGFubmVsQ291bnQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE3OiBTYWZhcmkgZG9lcyBub3QgeWV0IGV4cG9zZSB0aGUgbGVuZ3RoLlxuICAgICAgICAgICAgICAgICAgICBwcm94eS5jb250ZXh0Lmxlbmd0aCwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRCdWZmZXJQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwgcGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWRCdWZmZXIgPSBhd2FpdCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJGdWxsQnVmZmVyKHJlbmRlcmVkQnVmZmVyLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBmZWVkYmFjaywgZmVlZGZvcndhcmQpO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEJ1ZmZlciA9IGF3YWl0IGZpbHRlcmVkQnVmZmVyUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID0gZmlsdGVyZWRCdWZmZXI7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlSUlSRmlsdGVyTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlSUlSRmlsdGVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBdWRpb05vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1paXItZmlsdGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBiYXNlTGF0ZW5jeSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAvLyBCdWcgIzk6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IElJUkZpbHRlck5vZGVzLlxuICAgICAgICBpZiAobmF0aXZlQ29udGV4dC5jcmVhdGVJSVJGaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlcihuYXRpdmVDb250ZXh0LCBiYXNlTGF0ZW5jeSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRvZG8gVHlwZVNjcmlwdCBkZWZpbmVzIHRoZSBwYXJhbWV0ZXJzIG9mIGNyZWF0ZUlJUkZpbHRlcigpIGFzIGFycmF5cyBvZiBudW1iZXJzLlxuICAgICAgICBjb25zdCBuYXRpdmVJSVJGaWx0ZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVJSVJGaWx0ZXIob3B0aW9ucy5mZWVkZm9yd2FyZCwgb3B0aW9ucy5mZWVkYmFjayk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlSUlSRmlsdGVyTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuYXRpdmVJSVJGaWx0ZXJOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWlpci1maWx0ZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9pbnZhbGlkLWFjY2Vzcy1lcnJvcic7XG5leHBvcnQgY29uc3Qgd3JhcElJUkZpbHRlck5vZGVHZXRGcmVxdWVuY3lSZXNwb25zZU1ldGhvZCA9IChuYXRpdmVJSVJGaWx0ZXJOb2RlKSA9PiB7XG4gICAgbmF0aXZlSUlSRmlsdGVyTm9kZS5nZXRGcmVxdWVuY3lSZXNwb25zZSA9ICgoZ2V0RnJlcXVlbmN5UmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIChmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChmcmVxdWVuY3lIei5sZW5ndGggIT09IG1hZ1Jlc3BvbnNlLmxlbmd0aCB8fCBtYWdSZXNwb25zZS5sZW5ndGggIT09IHBoYXNlUmVzcG9uc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0RnJlcXVlbmN5UmVzcG9uc2UuY2FsbChuYXRpdmVJSVJGaWx0ZXJOb2RlLCBmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUlJUkZpbHRlck5vZGUuZ2V0RnJlcXVlbmN5UmVzcG9uc2UpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtaWlyLWZpbHRlci1ub2RlLWdldC1mcmVxdWVuY3ktcmVzcG9uc2UtbWV0aG9kLmpzLm1hcCIsImltcG9ydCB7IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9MaXN0ZW5lckZhY3RvcnkgPSAoY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGdldEZpcnN0U2FtcGxlLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG92ZXJ3cml0ZUFjY2Vzc29ycykgPT4ge1xuICAgIHJldHVybiAoY29udGV4dCwgbmF0aXZlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVMaXN0ZW5lciA9IG5hdGl2ZUNvbnRleHQubGlzdGVuZXI7XG4gICAgICAgIC8vIEJ1ZyAjMTE3OiBPbmx5IENocm9tZSAmIEVkZ2Ugc3VwcG9ydCB0aGUgbmV3IGludGVyZmFjZSBhbHJlYWR5LlxuICAgICAgICBjb25zdCBjcmVhdGVGYWtlQXVkaW9QYXJhbXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbE1lcmdlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiA5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGxldCBpc1NjcmlwdFByb2Nlc3Nvck5vZGVDcmVhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbGFzdE9yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcbiAgICAgICAgICAgIGxldCBsYXN0UG9zaXRpb24gPSBbMCwgMCwgMF07XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1NjcmlwdFByb2Nlc3Nvck5vZGVDcmVhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNTY3JpcHRQcm9jZXNzb3JOb2RlQ3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0UHJvY2Vzc29yTm9kZSA9IGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUobmF0aXZlQ29udGV4dCwgMjU2LCA5LCAwKTtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLm9uYXVkaW9wcm9jZXNzID0gKHsgaW5wdXRCdWZmZXIgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgNCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCA1KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24uc29tZSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSAhPT0gbGFzdE9yaWVudGF0aW9uW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUxpc3RlbmVyLnNldE9yaWVudGF0aW9uKC4uLm9yaWVudGF0aW9uKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkZXByZWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRvbiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgNyksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCA4KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRvbi5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSBsYXN0UG9zaXRpb25baW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlTGlzdGVuZXIuc2V0UG9zaXRpb24oLi4ucG9zaXRvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQb3NpdGlvbiA9IHBvc2l0b247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNoYW5uZWxNZXJnZXJOb2RlLmNvbm5lY3Qoc2NyaXB0UHJvY2Vzc29yTm9kZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlU2V0T3JpZW50YXRpb24gPSAoaW5kZXgpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbGFzdE9yaWVudGF0aW9uW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0T3JpZW50YXRpb25baW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUxpc3RlbmVyLnNldE9yaWVudGF0aW9uKC4uLmxhc3RPcmllbnRhdGlvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlU2V0UG9zaXRpb24gPSAoaW5kZXgpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbGFzdFBvc2l0aW9uW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb25baW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUxpc3RlbmVyLnNldFBvc2l0aW9uKC4uLmxhc3RQb3NpdGlvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlRmFrZUF1ZGlvUGFyYW0gPSAoaW5wdXQsIGluaXRpYWxWYWx1ZSwgc2V0VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBpbml0aWFsVmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvIFRoaXMgc2hvdWxkIGJlIHN0b3BwZWQgd2hlbiB0aGUgY29udGV4dCBpcyBjbG9zZWQuXG4gICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQsICdkZWZhdWx0VmFsdWUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjNjIgJiAjNzQ6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IENvbnN0YW50U291cmNlTm9kZXMgYW5kIGRvZXMgbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZFxuICAgICAgICAgICAgICAgICAqIG1pblZhbHVlIGZvciBHYWluTm9kZXMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9QYXJhbSA9IGNyZWF0ZUF1ZGlvUGFyYW0oeyBjb250ZXh0IH0sIGlzT2ZmbGluZSwgY29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUKTtcbiAgICAgICAgICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMoYXVkaW9QYXJhbSwgJ3ZhbHVlJywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwoYXVkaW9QYXJhbSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0LmNhbGwoYXVkaW9QYXJhbSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSAhPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTE3OiBVc2luZyBzZXRPcmllbnRhdGlvbigpIGFuZCBzZXRQb3NpdGlvbigpIGRvZXNuJ3Qgd29yayB3aXRoIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUgPSAoKGNhbmNlbEFuZEhvbGRBdFRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2FuY2VsQW5kSG9sZEF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUpO1xuICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzID0gKChjYW5jZWxTY2hlZHVsZWRWYWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2FuY2VsU2NoZWR1bGVkVmFsdWVzLmFwcGx5KGF1ZGlvUGFyYW0sIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKGF1ZGlvUGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUgPSAoKGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUpO1xuICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUgPSAoKGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lLmFwcGx5KGF1ZGlvUGFyYW0sIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKGF1ZGlvUGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUpO1xuICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0uc2V0VGFyZ2V0QXRUaW1lID0gKChzZXRUYXJnZXRBdFRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2V0VGFyZ2V0QXRUaW1lLmFwcGx5KGF1ZGlvUGFyYW0sIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKGF1ZGlvUGFyYW0uc2V0VGFyZ2V0QXRUaW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lID0gKChzZXRWYWx1ZUF0VGltZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPZmZsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzZXRWYWx1ZUF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFZhbHVlQ3VydmVBdFRpbWUgPSAoKHNldFZhbHVlQ3VydmVBdFRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2V0VmFsdWVDdXJ2ZUF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLnNldFZhbHVlQ3VydmVBdFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9yd2FyZFg6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDAsIDAsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDApKSxcbiAgICAgICAgICAgICAgICBmb3J3YXJkWTogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oMSwgMCwgY3JlYXRlU2V0T3JpZW50YXRpb24oMSkpLFxuICAgICAgICAgICAgICAgIGZvcndhcmRaOiBjcmVhdGVGYWtlQXVkaW9QYXJhbSgyLCAtMSwgY3JlYXRlU2V0T3JpZW50YXRpb24oMikpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWDogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oNiwgMCwgY3JlYXRlU2V0UG9zaXRpb24oMCkpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWTogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oNywgMCwgY3JlYXRlU2V0UG9zaXRpb24oMSkpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWjogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oOCwgMCwgY3JlYXRlU2V0UG9zaXRpb24oMikpLFxuICAgICAgICAgICAgICAgIHVwWDogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oMywgMCwgY3JlYXRlU2V0T3JpZW50YXRpb24oMykpLFxuICAgICAgICAgICAgICAgIHVwWTogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oNCwgMSwgY3JlYXRlU2V0T3JpZW50YXRpb24oNCkpLFxuICAgICAgICAgICAgICAgIHVwWjogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oNSwgMCwgY3JlYXRlU2V0T3JpZW50YXRpb24oNSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGZvcndhcmRYLCBmb3J3YXJkWSwgZm9yd2FyZFosIHBvc2l0aW9uWCwgcG9zaXRpb25ZLCBwb3NpdGlvblosIHVwWCwgdXBZLCB1cFogfSA9IG5hdGl2ZUxpc3RlbmVyLmZvcndhcmRYID09PSB1bmRlZmluZWQgPyBjcmVhdGVGYWtlQXVkaW9QYXJhbXMoKSA6IG5hdGl2ZUxpc3RlbmVyO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0IGZvcndhcmRYKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3J3YXJkWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZm9yd2FyZFkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcndhcmRZO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBmb3J3YXJkWigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZFo7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBvc2l0aW9uWCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb25YO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwb3NpdGlvblkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcG9zaXRpb25aKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblo7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHVwWCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBYO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCB1cFkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwWTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgdXBaKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cFo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1saXN0ZW5lci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IENPTlRFWFRfU1RPUkUgfSBmcm9tICcuLi9nbG9iYWxzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVNaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKGF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvTGlzdGVuZXIsIGV2ZW50VGFyZ2V0Q29uc3RydWN0b3IsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgdW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZSwgd3JhcEV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgTWluaW1hbEJhc2VBdWRpb0NvbnRleHQgZXh0ZW5kcyBldmVudFRhcmdldENvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoX25hdGl2ZUNvbnRleHQsIG51bWJlck9mQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHN1cGVyKF9uYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnRleHQgPSBfbmF0aXZlQ29udGV4dDtcbiAgICAgICAgICAgIENPTlRFWFRfU1RPUkUuc2V0KHRoaXMsIF9uYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQoX25hdGl2ZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgdW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZS5zZXQoX25hdGl2ZUNvbnRleHQsIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kZXN0aW5hdGlvbiA9IG5ldyBhdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yKHRoaXMsIG51bWJlck9mQ2hhbm5lbHMpO1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXIgPSBjcmVhdGVBdWRpb0xpc3RlbmVyKHRoaXMsIF9uYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX29uc3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVDb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIGdldCBkZXN0aW5hdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgbGlzdGVuZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9uc3RhdGVjaGFuZ2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25zdGF0ZWNoYW5nZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb25zdGF0ZWNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgdmFsdWUpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnRleHQub25zdGF0ZWNoYW5nZSA9IHdyYXBwZWRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU9uU3RhdGVDaGFuZ2UgPSB0aGlzLl9uYXRpdmVDb250ZXh0Lm9uc3RhdGVjaGFuZ2U7XG4gICAgICAgICAgICB0aGlzLl9vbnN0YXRlY2hhbmdlID0gbmF0aXZlT25TdGF0ZUNoYW5nZSAhPT0gbnVsbCAmJiBuYXRpdmVPblN0YXRlQ2hhbmdlID09PSB3cmFwcGVkTGlzdGVuZXIgPyB2YWx1ZSA6IG5hdGl2ZU9uU3RhdGVDaGFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHNhbXBsZVJhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVDb250ZXh0LnN0YXRlO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taW5pbWFsLWJhc2UtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGVGYWN0b3J5ID0gKGFkZFNpbGVudENvbm5lY3Rpb24sIGNhY2hlVGVzdFJlc3VsdCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlT3NjaWxsYXRvck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVPc2NpbGxhdG9yTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVPc2NpbGxhdG9yTm9kZSwgb3B0aW9ucywgJ2RldHVuZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlT3NjaWxsYXRvck5vZGUsIG9wdGlvbnMsICdmcmVxdWVuY3knKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucGVyaW9kaWNXYXZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLnNldFBlcmlvZGljV2F2ZShvcHRpb25zLnBlcmlvZGljV2F2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlT3NjaWxsYXRvck5vZGUsIG9wdGlvbnMsICd0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICM0NDogT25seSBDaHJvbWUgJiBFZGdlIHRocm93IGEgUmFuZ2VFcnJvciB5ZXQuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMobmF0aXZlT3NjaWxsYXRvck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTk6IFNhZmFyaSBkb2VzIG5vdCBpZ25vcmUgY2FsbHMgdG8gc3RvcCgpIG9mIGFuIGFscmVhZHkgc3RvcHBlZCBBdWRpb0J1ZmZlclNvdXJjZU5vZGUuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMobmF0aXZlT3NjaWxsYXRvck5vZGUsIG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IE9ubHkgRmlyZWZveCBkb2VzIG5vdCB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE3NTogU2FmYXJpIHdpbGwgbm90IGZpcmUgYW4gZW5kZWQgZXZlbnQgaWYgdGhlIE9zY2lsbGF0b3JOb2RlIGlzIHVuY29ubmVjdGVkLlxuICAgICAgICBhZGRTaWxlbnRDb25uZWN0aW9uKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU9zY2lsbGF0b3JOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLW9zY2lsbGF0b3Itbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgbGV0IHBlcmlvZGljV2F2ZSA9IG51bGw7XG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgICAgIGxldCBzdG9wID0gbnVsbDtcbiAgICAgICAgY29uc3QgY3JlYXRlT3NjaWxsYXRvck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVPc2NpbGxhdG9yTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlT3NjaWxsYXRvck5vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWQgYWdhaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVPc2NpbGxhdG9yTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlT3NjaWxsYXRvck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVPc2NpbGxhdG9yTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlT3NjaWxsYXRvck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZXR1bmU6IG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmRldHVuZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBuYXRpdmVPc2NpbGxhdG9yTm9kZS5mcmVxdWVuY3kudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBlcmlvZGljV2F2ZTogcGVyaW9kaWNXYXZlID09PSBudWxsID8gdW5kZWZpbmVkIDogcGVyaW9kaWNXYXZlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXRpdmVPc2NpbGxhdG9yTm9kZS50eXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVPc2NpbGxhdG9yTm9kZSA9IGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVPc2NpbGxhdG9yTm9kZS5zdGFydChzdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdG9wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLnN0b3Aoc3RvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVPc2NpbGxhdG9yTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlT3NjaWxsYXRvck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5kZXR1bmUsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5mcmVxdWVuY3ksIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmZyZXF1ZW5jeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5kZXR1bmUsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZnJlcXVlbmN5LCBuYXRpdmVPc2NpbGxhdG9yTm9kZS5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVPc2NpbGxhdG9yTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNldCBwZXJpb2RpY1dhdmUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwZXJpb2RpY1dhdmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc3RhcnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzdG9wKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGUgPSByZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlT3NjaWxsYXRvck5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3NjaWxsYXRvci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBuYXRpdmVBdWRpb05vZGUpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMixcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICBsb29wRW5kOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgcGxheWJhY2tSYXRlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlciA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDIsIDQ0MTAwKTtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IG5hdGl2ZUF1ZGlvQnVmZmVyO1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcCA9IHRydWU7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNjb25uZWN0KG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0ZWQtbmF0aXZlLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IGludGVyY2VwdENvbm5lY3Rpb25zIH0gZnJvbSAnLi4vaGVscGVycy9pbnRlcmNlcHQtY29ubmVjdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXJGYWN0b3J5ID0gKGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBpc0RDQ3VydmUsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgeyBjdXJ2ZSwgb3ZlcnNhbXBsZSwgLi4uYXVkaW9Ob2RlT3B0aW9ucyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICAgICAgY29uc3QgcG9zaXRpdmVXYXZlU2hhcGVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlV2F2ZVNoYXBlcigpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUsIGF1ZGlvTm9kZU9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUsIGF1ZGlvTm9kZU9wdGlvbnMpO1xuICAgICAgICBjb25zdCBpbnB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5hdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICBjb25zdCBpbnZlcnRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogLTEgfSk7XG4gICAgICAgIGNvbnN0IG91dHB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5hdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICBjb25zdCByZXZlcnRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogLTEgfSk7XG4gICAgICAgIGxldCBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB1bm1vZGlmaWVkQ3VydmUgPSBudWxsO1xuICAgICAgICBjb25zdCBuYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpbnZlcnRHYWluTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG91dHB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV2ZXJ0R2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50TW9kZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGludmVydEdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBvdXRwdXRHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcG9zaXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV2ZXJ0R2Fpbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGludmVydEdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgb3V0cHV0R2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcG9zaXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXZlcnRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jb250ZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjdXJ2ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5tb2RpZmllZEN1cnZlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjdXJ2ZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTAyOiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gSW52YWxpZFN0YXRlRXJyb3Igd2hlbiB0aGUgY3VydmUgaGFzIGxlc3MgdGhhbiB0d28gc2FtcGxlcy5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJ2ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVnYXRpdmVDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoY3VydmVMZW5ndGggKyAyIC0gKGN1cnZlTGVuZ3RoICUgMikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGl2ZUN1cnZlID0gbmV3IEZsb2F0MzJBcnJheShjdXJ2ZUxlbmd0aCArIDIgLSAoY3VydmVMZW5ndGggJSAyKSk7XG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ3VydmVbMF0gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpdmVDdXJ2ZVswXSA9IC12YWx1ZVtjdXJ2ZUxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLmNlaWwoKGN1cnZlTGVuZ3RoICsgMSkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVySW5kZXggPSAoY3VydmVMZW5ndGggKyAxKSAvIDIgLSAxO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVvcmV0aWNJbmRleCA9IChpIC8gbGVuZ3RoKSAqIGNlbnRlckluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93ZXJJbmRleCA9IE1hdGguZmxvb3IodGhlb3JldGljSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBwZXJJbmRleCA9IE1hdGguY2VpbCh0aGVvcmV0aWNJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZUN1cnZlW2ldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID09PSB1cHBlckluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVbbG93ZXJJbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoMSAtICh0aGVvcmV0aWNJbmRleCAtIGxvd2VySW5kZXgpKSAqIHZhbHVlW2xvd2VySW5kZXhdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgxIC0gKHVwcGVySW5kZXggLSB0aGVvcmV0aWNJbmRleCkpICogdmFsdWVbdXBwZXJJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZUN1cnZlW2ldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID09PSB1cHBlckluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLXZhbHVlW2N1cnZlTGVuZ3RoIC0gMSAtIGxvd2VySW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLSgoMSAtICh0aGVvcmV0aWNJbmRleCAtIGxvd2VySW5kZXgpKSAqIHZhbHVlW2N1cnZlTGVuZ3RoIC0gMSAtIGxvd2VySW5kZXhdKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMSAtICh1cHBlckluZGV4IC0gdGhlb3JldGljSW5kZXgpKSAqIHZhbHVlW2N1cnZlTGVuZ3RoIC0gMSAtIHVwcGVySW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlQ3VydmVbbGVuZ3RoXSA9IGN1cnZlTGVuZ3RoICUgMiA9PT0gMSA/IHZhbHVlW2xlbmd0aCAtIDFdIDogKHZhbHVlW2xlbmd0aCAtIDJdICsgdmFsdWVbbGVuZ3RoIC0gMV0pIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSA9IG5lZ2F0aXZlQ3VydmU7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmUgPSBwb3NpdGl2ZUN1cnZlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bm1vZGlmaWVkQ3VydmUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRENDdXJ2ZSh1bm1vZGlmaWVkQ3VydmUpICYmIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwgaW5wdXRHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2lucHV0R2Fpbk5vZGVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZklucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5udW1iZXJPZklucHV0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZPdXRwdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLm51bWJlck9mT3V0cHV0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgb3ZlcnNhbXBsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBvdmVyc2FtcGxlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcG9zaXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuYWRkRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5kaXNwYXRjaEV2ZW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdXJ2ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gT25seSB2YWx1ZXMgb2YgdHlwZSBGbG9hdDMyQXJyYXkgY2FuIGJlIGFzc2lnbmVkIHRvIHRoZSBjdXJ2ZSBwcm9wZXJ0eS5cbiAgICAgICAgICAgIG5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIuY3VydmUgPSBjdXJ2ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IGN1cnZlIDogbmV3IEZsb2F0MzJBcnJheShjdXJ2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJzYW1wbGUgIT09IG5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIub3ZlcnNhbXBsZSkge1xuICAgICAgICAgICAgbmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlci5vdmVyc2FtcGxlID0gb3ZlcnNhbXBsZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUpLmNvbm5lY3Qob3V0cHV0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KGludmVydEdhaW5Ob2RlKS5jb25uZWN0KHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUpLmNvbm5lY3QocmV2ZXJ0R2Fpbk5vZGUpLmNvbm5lY3Qob3V0cHV0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGlzRENDdXJ2ZSh1bm1vZGlmaWVkQ3VydmUpKSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBpbnB1dEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChvdXRwdXRHYWluTm9kZSk7XG4gICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QoaW52ZXJ0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgaW52ZXJ0R2Fpbk5vZGUuZGlzY29ubmVjdChwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChyZXZlcnRHYWluTm9kZSk7XG4gICAgICAgICAgICByZXZlcnRHYWluTm9kZS5kaXNjb25uZWN0KG91dHB1dEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUoKTtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1vbml0b3JDb25uZWN0aW9ucyhpbnRlcmNlcHRDb25uZWN0aW9ucyhuYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyLCBvdXRwdXRHYWluTm9kZSksIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLXdhdmUtc2hhcGVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFjdG9yeSA9IChjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyLCBpc0RDQ3VydmUsIG1vbml0b3JDb25uZWN0aW9ucywgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIG92ZXJ3cml0ZUFjY2Vzc29ycykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVXYXZlU2hhcGVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlV2F2ZVNoYXBlcigpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGNvcnJlY3RseSBtYXAgdGhlIHZhbHVlcy5cbiAgICAgICAgICogQHRvZG8gVW5mb3J0dW5hdGVseSB0aGVyZSBpcyBubyB3YXkgdG8gdGVzdCBmb3IgdGhpcyBiZWhhdmlvciBpbiBhIHN5bmNocm9ub3VzIGZhc2hpb24gd2hpY2ggaXMgd2h5IHRlc3RpbmcgZm9yIHRoZSBleGlzdGVuY2Ugb2ZcbiAgICAgICAgICogdGhlIHdlYmtpdEF1ZGlvQ29udGV4dCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBoZXJlLiBUZXN0aW5nIGZvciB0aGUgYXV0b21hdGlvblJhdGUgcHJvcGVydHkgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhpcyB3b3JrYXJvdW5kXG4gICAgICAgICAqIGlzbid0IG5lY2Vzc2FyeSBhbnltb3JlIHNpbmNlIHYxNC4wLjIgb2YgU2FmYXJpLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yICE9PSBudWxsICYmXG4gICAgICAgICAgICBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvci5uYW1lID09PSAnd2Via2l0QXVkaW9Db250ZXh0JyAmJlxuICAgICAgICAgICAgbmF0aXZlQ29udGV4dC5jcmVhdGVHYWluKCkuZ2Fpbi5hdXRvbWF0aW9uUmF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlcihuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZVdhdmVTaGFwZXJOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgY3VydmUgPSBvcHRpb25zLmN1cnZlID09PSBudWxsIHx8IG9wdGlvbnMuY3VydmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBvcHRpb25zLmN1cnZlIDogbmV3IEZsb2F0MzJBcnJheShvcHRpb25zLmN1cnZlKTtcbiAgICAgICAgLy8gQnVnICMxMDQ6IENocm9tZSBhbmQgRWRnZSB3aWxsIHRocm93IGFuIEludmFsaWRBY2Nlc3NFcnJvciB3aGVuIHRoZSBjdXJ2ZSBoYXMgbGVzcyB0aGFuIHR3byBzYW1wbGVzLlxuICAgICAgICBpZiAoY3VydmUgIT09IG51bGwgJiYgY3VydmUubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHZhbHVlcyBvZiB0eXBlIEZsb2F0MzJBcnJheSBjYW4gYmUgYXNzaWduZWQgdG8gdGhlIGN1cnZlIHByb3BlcnR5LlxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlV2F2ZVNoYXBlck5vZGUsIHsgY3VydmUgfSwgJ2N1cnZlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVXYXZlU2hhcGVyTm9kZSwgb3B0aW9ucywgJ292ZXJzYW1wbGUnKTtcbiAgICAgICAgbGV0IGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgICBsZXQgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKG5hdGl2ZVdhdmVTaGFwZXJOb2RlLCAnY3VydmUnLCAoZ2V0KSA9PiAoKSA9PiBnZXQuY2FsbChuYXRpdmVXYXZlU2hhcGVyTm9kZSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0LmNhbGwobmF0aXZlV2F2ZVNoYXBlck5vZGUsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RDQ3VydmUodmFsdWUpICYmIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBuYXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpc0RDQ3VydmUodmFsdWUpICYmIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGlzRENDdXJ2ZShuYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSkpIHtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUoKTtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1vbml0b3JDb25uZWN0aW9ucyhuYXRpdmVXYXZlU2hhcGVyTm9kZSwgd2hlbkNvbm5lY3RlZCwgd2hlbkRpc2Nvbm5lY3RlZCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtd2F2ZS1zaGFwZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IGludGVyY2VwdENvbm5lY3Rpb25zIH0gZnJvbSAnLi4vaGVscGVycy9pbnRlcmNlcHQtY29ubmVjdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlckZhY3RvcnkgPSAoY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlLCBnZXRGaXJzdFNhbXBsZSwgbW9uaXRvckNvbm5lY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCB7IGNvbmVJbm5lckFuZ2xlLCBjb25lT3V0ZXJBbmdsZSwgY29uZU91dGVyR2FpbiwgZGlzdGFuY2VNb2RlbCwgbWF4RGlzdGFuY2UsIG9yaWVudGF0aW9uWCwgb3JpZW50YXRpb25ZLCBvcmllbnRhdGlvblosIHBhbm5pbmdNb2RlbCwgcG9zaXRpb25YLCBwb3NpdGlvblksIHBvc2l0aW9uWiwgcmVmRGlzdGFuY2UsIHJvbGxvZmZGYWN0b3IsIC4uLmF1ZGlvTm9kZU9wdGlvbnMgfSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5uZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVQYW5uZXIoKTtcbiAgICAgICAgLy8gQnVnICMxMjU6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgIGlmIChhdWRpb05vZGVPcHRpb25zLmNoYW5uZWxDb3VudCA+IDIpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxMjY6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgIGlmIChhdWRpb05vZGVPcHRpb25zLmNoYW5uZWxDb3VudE1vZGUgPT09ICdtYXgnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMocGFubmVyTm9kZSwgYXVkaW9Ob2RlT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IFNJTkdMRV9DSEFOTkVMX09QVElPTlMgPSB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiA2XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbnB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5hdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICBjb25zdCBvcmllbnRhdGlvblhHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMSB9KTtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb25ZR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uWkdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICBjb25zdCBwb3NpdGlvblhHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25ZR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uWkdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICBjb25zdCBzY3JpcHRQcm9jZXNzb3JOb2RlID0gY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZShuYXRpdmVDb250ZXh0LCAyNTYsIDYsIDEpO1xuICAgICAgICBjb25zdCB3YXZlU2hhcGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsXG4gICAgICAgICAgICBjdXJ2ZTogbmV3IEZsb2F0MzJBcnJheShbMSwgMV0pLFxuICAgICAgICAgICAgb3ZlcnNhbXBsZTogJ25vbmUnXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbGFzdE9yaWVudGF0aW9uID0gW29yaWVudGF0aW9uWCwgb3JpZW50YXRpb25ZLCBvcmllbnRhdGlvblpdO1xuICAgICAgICBsZXQgbGFzdFBvc2l0aW9uID0gW3Bvc2l0aW9uWCwgcG9zaXRpb25ZLCBwb3NpdGlvblpdO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5vbmF1ZGlvcHJvY2VzcyA9ICh7IGlucHV0QnVmZmVyIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gW1xuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDApLFxuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDEpLFxuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDIpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uLnNvbWUoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgIT09IGxhc3RPcmllbnRhdGlvbltpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5zZXRPcmllbnRhdGlvbiguLi5vcmllbnRhdGlvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICBsYXN0T3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc2l0b24gPSBbXG4gICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgMyksXG4gICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgNCksXG4gICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgNSlcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAocG9zaXRvbi5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSBsYXN0UG9zaXRpb25baW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuc2V0UG9zaXRpb24oLi4ucG9zaXRvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb24gPSBwb3NpdG9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3JpZW50YXRpb25ZR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3JpZW50YXRpb25aR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocG9zaXRpb25YR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocG9zaXRpb25ZR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocG9zaXRpb25aR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBjb25zdCBuYXRpdmVQYW5uZXJOb2RlRmFrZXIgPSB7XG4gICAgICAgICAgICBnZXQgYnVmZmVyU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEyNTogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMjY6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjb25lSW5uZXJBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY29uZUlubmVyQW5nbGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLmNvbmVJbm5lckFuZ2xlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbmVPdXRlckFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjb25lT3V0ZXJBbmdsZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuY29uZU91dGVyQW5nbGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29uZU91dGVyR2FpbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5jb25lT3V0ZXJHYWluO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjb25lT3V0ZXJHYWluKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMjc6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBJbnZhbGlkU3RhdGVFcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5jb25lT3V0ZXJHYWluID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZGlzdGFuY2VNb2RlbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBkaXN0YW5jZU1vZGVsKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5kaXN0YW5jZU1vZGVsID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2lucHV0R2Fpbk5vZGVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBtYXhEaXN0YW5jZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5tYXhEaXN0YW5jZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgbWF4RGlzdGFuY2UodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEyODogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUubWF4RGlzdGFuY2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9yaWVudGF0aW9uWCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb25YR2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgb3JpZW50YXRpb25ZKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbllHYWluTm9kZS5nYWluO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvcmllbnRhdGlvblooKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWVudGF0aW9uWkdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhbm5pbmdNb2RlbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5wYW5uaW5nTW9kZWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHBhbm5pbmdNb2RlbCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUucGFubmluZ01vZGVsID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBvc2l0aW9uWCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb25YR2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcG9zaXRpb25ZKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbllHYWluTm9kZS5nYWluO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwb3NpdGlvblooKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWkdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHJlZkRpc3RhbmNlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLnJlZkRpc3RhbmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCByZWZEaXN0YW5jZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTI5OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgeWV0LlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5yZWZEaXN0YW5jZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCByb2xsb2ZmRmFjdG9yKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLnJvbGxvZmZGYWN0b3I7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHJvbGxvZmZGYWN0b3IodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEzMDogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUucm9sbG9mZkZhY3RvciA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmFkZEV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuZGlzcGF0Y2hFdmVudChhcmdzWzBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29uZUlubmVyQW5nbGUgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5jb25lSW5uZXJBbmdsZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLmNvbmVJbm5lckFuZ2xlID0gY29uZUlubmVyQW5nbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmVPdXRlckFuZ2xlICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIuY29uZU91dGVyQW5nbGUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5jb25lT3V0ZXJBbmdsZSA9IGNvbmVPdXRlckFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25lT3V0ZXJHYWluICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIuY29uZU91dGVyR2Fpbikge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLmNvbmVPdXRlckdhaW4gPSBjb25lT3V0ZXJHYWluO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZU1vZGVsICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIuZGlzdGFuY2VNb2RlbCkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLmRpc3RhbmNlTW9kZWwgPSBkaXN0YW5jZU1vZGVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhEaXN0YW5jZSAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLm1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIubWF4RGlzdGFuY2UgPSBtYXhEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JpZW50YXRpb25YICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIub3JpZW50YXRpb25YLnZhbHVlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIub3JpZW50YXRpb25YLnZhbHVlID0gb3JpZW50YXRpb25YO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmllbnRhdGlvblkgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5vcmllbnRhdGlvblkudmFsdWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5vcmllbnRhdGlvblkudmFsdWUgPSBvcmllbnRhdGlvblk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uWiAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLm9yaWVudGF0aW9uWi52YWx1ZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLm9yaWVudGF0aW9uWi52YWx1ZSA9IG9yaWVudGF0aW9uWjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFubmluZ01vZGVsICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucGFubmluZ01vZGVsKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucGFubmluZ01vZGVsID0gcGFubmluZ01vZGVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvblggIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5wb3NpdGlvblgudmFsdWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5wb3NpdGlvblgudmFsdWUgPSBwb3NpdGlvblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uWSAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLnBvc2l0aW9uWS52YWx1ZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLnBvc2l0aW9uWS52YWx1ZSA9IHBvc2l0aW9uWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb25aICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucG9zaXRpb25aLnZhbHVlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucG9zaXRpb25aLnZhbHVlID0gcG9zaXRpb25aO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZEaXN0YW5jZSAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLnJlZkRpc3RhbmNlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucmVmRGlzdGFuY2UgPSByZWZEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sbG9mZkZhY3RvciAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLnJvbGxvZmZGYWN0b3IpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5yb2xsb2ZmRmFjdG9yID0gcm9sbG9mZkZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdE9yaWVudGF0aW9uWzBdICE9PSAxIHx8IGxhc3RPcmllbnRhdGlvblsxXSAhPT0gMCB8fCBsYXN0T3JpZW50YXRpb25bMl0gIT09IDApIHtcbiAgICAgICAgICAgIHBhbm5lck5vZGUuc2V0T3JpZW50YXRpb24oLi4ubGFzdE9yaWVudGF0aW9uKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkZXByZWNhdGlvblxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0UG9zaXRpb25bMF0gIT09IDAgfHwgbGFzdFBvc2l0aW9uWzFdICE9PSAwIHx8IGxhc3RQb3NpdGlvblsyXSAhPT0gMCkge1xuICAgICAgICAgICAgcGFubmVyTm9kZS5zZXRQb3NpdGlvbiguLi5sYXN0UG9zaXRpb24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2hlbkNvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChwYW5uZXJOb2RlKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgICAgICBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUoaW5wdXRHYWluTm9kZSwgd2F2ZVNoYXBlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuY29ubmVjdChvcmllbnRhdGlvblhHYWluTm9kZSkuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5jb25uZWN0KG9yaWVudGF0aW9uWUdhaW5Ob2RlKS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAxKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmNvbm5lY3Qob3JpZW50YXRpb25aR2Fpbk5vZGUpLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDIpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuY29ubmVjdChwb3NpdGlvblhHYWluTm9kZSkuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMyk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5jb25uZWN0KHBvc2l0aW9uWUdhaW5Ob2RlKS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCA0KTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmNvbm5lY3QocG9zaXRpb25aR2Fpbk5vZGUpLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDUpO1xuICAgICAgICAgICAgY2hhbm5lbE1lcmdlck5vZGUuY29ubmVjdChzY3JpcHRQcm9jZXNzb3JOb2RlKS5jb25uZWN0KG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3aGVuRGlzY29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5kaXNjb25uZWN0KHBhbm5lck5vZGUpO1xuICAgICAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlKGlucHV0R2Fpbk5vZGUsIHdhdmVTaGFwZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3Qob3JpZW50YXRpb25YR2Fpbk5vZGUpO1xuICAgICAgICAgICAgb3JpZW50YXRpb25YR2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KG9yaWVudGF0aW9uWUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uWUdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChvcmllbnRhdGlvblpHYWluTm9kZSk7XG4gICAgICAgICAgICBvcmllbnRhdGlvblpHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocG9zaXRpb25YR2Fpbk5vZGUpO1xuICAgICAgICAgICAgcG9zaXRpb25YR2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KHBvc2l0aW9uWUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uWUdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChwb3NpdGlvblpHYWluTm9kZSk7XG4gICAgICAgICAgICBwb3NpdGlvblpHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgICAgIGNoYW5uZWxNZXJnZXJOb2RlLmRpc2Nvbm5lY3Qoc2NyaXB0UHJvY2Vzc29yTm9kZSk7XG4gICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc2Nvbm5lY3QobmF0aXZlQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtb25pdG9yQ29ubmVjdGlvbnMoaW50ZXJjZXB0Q29ubmVjdGlvbnMobmF0aXZlUGFubmVyTm9kZUZha2VyLCBwYW5uZXJOb2RlKSwgd2hlbkNvbm5lY3RlZCwgd2hlbkRpc2Nvbm5lY3RlZCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtcGFubmVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVQYW5uZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVQYW5uZXIoKTtcbiAgICAgICAgLy8gQnVnICMxMjQ6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IG1vZGlmeWluZyB0aGUgb3JpZW50YXRpb24gYW5kIHRoZSBwb3NpdGlvbiB3aXRoIEF1ZGlvUGFyYW1zLlxuICAgICAgICBpZiAobmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlcihuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ29yaWVudGF0aW9uWCcpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ29yaWVudGF0aW9uWScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ29yaWVudGF0aW9uWicpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ3Bvc2l0aW9uWCcpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ3Bvc2l0aW9uWScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ3Bvc2l0aW9uWicpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ2NvbmVJbm5lckFuZ2xlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAnY29uZU91dGVyQW5nbGUnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdjb25lT3V0ZXJHYWluJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAnZGlzdGFuY2VNb2RlbCcpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ21heERpc3RhbmNlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAncGFubmluZ01vZGVsJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAncmVmRGlzdGFuY2UnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdyb2xsb2ZmRmFjdG9yJyk7XG4gICAgICAgIHJldHVybiBuYXRpdmVQYW5uZXJOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLXBhbm5lci1ub2RlLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNOYXRpdmVBdWRpb05vZGVGYWtlciB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZS1mYWtlcic7XG5pbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVQYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlUGFubmVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgbGV0IHJlbmRlcmVkQnVmZmVyUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUF1ZGlvTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUdhaW5Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBuYXRpdmVQYW5uZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVQYW5uZXJOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVQYW5uZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVQYW5uZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1vbk5hdGl2ZVBhbm5lck5vZGVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLmNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IG5hdGl2ZVBhbm5lck5vZGUuY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG5hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICAgICAgY29uZU91dGVyR2FpbjogbmF0aXZlUGFubmVyTm9kZS5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IG5hdGl2ZVBhbm5lck5vZGUuZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogbmF0aXZlUGFubmVyTm9kZS5tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG5hdGl2ZVBhbm5lck5vZGUucGFubmluZ01vZGVsLFxuICAgICAgICAgICAgICAgIHJlZkRpc3RhbmNlOiBuYXRpdmVQYW5uZXJOb2RlLnJlZkRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG5hdGl2ZVBhbm5lck5vZGUucm9sbG9mZkZhY3RvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVQYW5uZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZVBhbm5lck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgLy8gQnVnICMxMjQ6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IG1vZGlmeWluZyB0aGUgb3JpZW50YXRpb24gYW5kIHRoZSBwb3NpdGlvbiB3aXRoIEF1ZGlvUGFyYW1zLlxuICAgICAgICAgICAgaWYgKCdidWZmZXJTaXplJyBpbiBuYXRpdmVQYW5uZXJOb2RlKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7IC4uLmNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IDEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghbmF0aXZlUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jb21tb25OYXRpdmVQYW5uZXJOb2RlT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25YOiBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25ZOiBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25aOiBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YOiBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25ZOiBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25aOiBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWi52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUdhaW5Ob2RlID09PSBudWxsID8gbmF0aXZlUGFubmVyTm9kZSA6IG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGlmIChuYXRpdmVHYWluTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZEJ1ZmZlclByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoNiwgXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTc6IFNhZmFyaSBkb2VzIG5vdCB5ZXQgZXhwb3NlIHRoZSBsZW5ndGguXG4gICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbnRleHQubGVuZ3RoLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IDZcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLmNvbm5lY3QocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZEJ1ZmZlclByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlcyA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5vcmllbnRhdGlvblgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkub3JpZW50YXRpb25ZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5Lm9yaWVudGF0aW9uWixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5wb3NpdGlvblgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkucG9zaXRpb25ZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LnBvc2l0aW9uWlxuICAgICAgICAgICAgICAgICAgICAgICAgXS5tYXAoYXN5bmMgKGF1ZGlvUGFyYW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGluZGV4ID09PSAwID8gMSA6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCBhdWRpb1BhcmFtLCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVzW2ldLmNvbm5lY3QobmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIDAsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXNbaV0uc3RhcnQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkQnVmZmVyID0gYXdhaXQgcmVuZGVyZWRCdWZmZXJQcm9taXNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7IC4uLmNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IDEgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIGlucHV0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRCdWZmZXIubnVtYmVyT2ZDaGFubmVsczsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxEYXRhcy5wdXNoKHJlbmRlcmVkQnVmZmVyLmdldENoYW5uZWxEYXRhKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RPcmllbnRhdGlvbiA9IFtjaGFubmVsRGF0YXNbMF1bMF0sIGNoYW5uZWxEYXRhc1sxXVswXSwgY2hhbm5lbERhdGFzWzJdWzBdXTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFBvc2l0aW9uID0gW2NoYW5uZWxEYXRhc1szXVswXSwgY2hhbm5lbERhdGFzWzRdWzBdLCBjaGFubmVsRGF0YXNbNV1bMF1dO1xuICAgICAgICAgICAgICAgIGxldCBnYXRlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7IC4uLmNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IDEgfSk7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnRpYWxQYW5uZXJOb2RlID0gY3JlYXRlTmF0aXZlUGFubmVyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbW1vbk5hdGl2ZVBhbm5lck5vZGVPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvblg6IGxhc3RPcmllbnRhdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25ZOiBsYXN0T3JpZW50YXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWjogbGFzdE9yaWVudGF0aW9uWzJdLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblg6IGxhc3RQb3NpdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25ZOiBsYXN0UG9zaXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWjogbGFzdFBvc2l0aW9uWzJdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KGdhdGVHYWluTm9kZSkuY29ubmVjdChwYXJ0aWFsUGFubmVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxQYW5uZXJOb2RlLmNvbm5lY3QobmF0aXZlR2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxMjg7IGkgPCByZW5kZXJlZEJ1ZmZlci5sZW5ndGg7IGkgKz0gMTI4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gW2NoYW5uZWxEYXRhc1swXVtpXSwgY2hhbm5lbERhdGFzWzFdW2ldLCBjaGFubmVsRGF0YXNbMl1baV1dO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdG9uID0gW2NoYW5uZWxEYXRhc1szXVtpXSwgY2hhbm5lbERhdGFzWzRdW2ldLCBjaGFubmVsRGF0YXNbNV1baV1dO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24uc29tZSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSAhPT0gbGFzdE9yaWVudGF0aW9uW2luZGV4XSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0b24uc29tZSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSAhPT0gbGFzdFBvc2l0aW9uW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID0gcG9zaXRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gaSAvIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGVHYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGVHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHsgLi4uY29tbW9uQXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxQYW5uZXJOb2RlID0gY3JlYXRlTmF0aXZlUGFubmVyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29tbW9uTmF0aXZlUGFubmVyTm9kZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25YOiBsYXN0T3JpZW50YXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25ZOiBsYXN0T3JpZW50YXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25aOiBsYXN0T3JpZW50YXRpb25bMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YOiBsYXN0UG9zaXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25ZOiBsYXN0UG9zaXRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25aOiBsYXN0UG9zaXRpb25bMl1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2F0ZUdhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KGdhdGVHYWluTm9kZSkuY29ubmVjdChwYXJ0aWFsUGFubmVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbFBhbm5lck5vZGUuY29ubmVjdChuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUdhaW5Ob2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuYXRpdmVQYW5uZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub3JpZW50YXRpb25YLCBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5vcmllbnRhdGlvblksIG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25ZKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9yaWVudGF0aW9uWiwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblopO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucG9zaXRpb25YLCBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5wb3NpdGlvblksIG5hdGl2ZVBhbm5lck5vZGUucG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBvc2l0aW9uWiwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub3JpZW50YXRpb25YLCBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub3JpZW50YXRpb25ZLCBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub3JpZW50YXRpb25aLCBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWik7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucG9zaXRpb25YLCBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucG9zaXRpb25ZLCBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucG9zaXRpb25aLCBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGVGYWtlcihuYXRpdmVQYW5uZXJOb2RlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVQYW5uZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlUGFubmVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlUGFubmVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGVPck5hdGl2ZVBhbm5lck5vZGUgPSByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlT3JOYXRpdmVQYW5uZXJOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlT3JOYXRpdmVQYW5uZXJOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYW5uZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVQZXJpb2RpY1dhdmVGYWN0b3J5ID0gKGNyZWF0ZUluZGV4U2l6ZUVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCB7IGRpc2FibGVOb3JtYWxpemF0aW9uLCBpbWFnLCByZWFsIH0pID0+IHtcbiAgICAgICAgLy8gQnVnICMxODA6IFNhZmFyaSBkb2VzIG5vdCBhbGxvdyB0byB1c2Ugb3JkaW5hcnkgYXJyYXlzLlxuICAgICAgICBjb25zdCBjb252ZXJ0ZWRJbWFnID0gaW1hZyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IGltYWcgOiBuZXcgRmxvYXQzMkFycmF5KGltYWcpO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRSZWFsID0gcmVhbCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IHJlYWwgOiBuZXcgRmxvYXQzMkFycmF5KHJlYWwpO1xuICAgICAgICBjb25zdCBuYXRpdmVQZXJpb2RpY1dhdmUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZVBlcmlvZGljV2F2ZShjb252ZXJ0ZWRSZWFsLCBjb252ZXJ0ZWRJbWFnLCB7IGRpc2FibGVOb3JtYWxpemF0aW9uIH0pO1xuICAgICAgICAvLyBCdWcgIzE4MTogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIEluZGV4U2l6ZUVycm9yIHNvIGZhciBpZiB0aGUgZ2l2ZW4gYXJyYXlzIGhhdmUgbGVzcyB0aGFuIHR3byB2YWx1ZXMuXG4gICAgICAgIGlmIChBcnJheS5mcm9tKGltYWcpLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZVBlcmlvZGljV2F2ZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1wZXJpb2RpYy13YXZlLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IHNhbml0aXplUGVyaW9kaWNXYXZlT3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBpbWFnLCByZWFsIH0gPSBvcHRpb25zO1xuICAgIGlmIChpbWFnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHJlYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgaW1hZzogWzAsIDBdLCByZWFsOiBbMCwgMF0gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyAuLi5vcHRpb25zLCBpbWFnOiBBcnJheS5mcm9tKHJlYWwsICgpID0+IDApLCByZWFsIH07XG4gICAgfVxuICAgIGlmIChyZWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgaW1hZywgcmVhbDogQXJyYXkuZnJvbShpbWFnLCAoKSA9PiAwKSB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5vcHRpb25zLCBpbWFnLCByZWFsIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemUtcGVyaW9kaWMtd2F2ZS1vcHRpb25zLmpzLm1hcCIsImltcG9ydCB7IGludGVyY2VwdENvbm5lY3Rpb25zIH0gZnJvbSAnLi4vaGVscGVycy9pbnRlcmNlcHQtY29ubmVjdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIC8vIFRoZSBjdXJ2ZSBoYXMgYSBzaXplIG9mIDE0Yml0IHBsdXMgMSB2YWx1ZSB0byBoYXZlIGFuIGV4YWN0IHJlcHJlc2VudGF0aW9uIGZvciB6ZXJvLiBUaGlzIHZhbHVlIGhhcyBiZWVuIGRldGVybWluZWQgZXhwZXJpbWVudGFsbHkuXG4gICAgY29uc3QgQ1VSVkVfU0laRSA9IDE2Mzg1O1xuICAgIGNvbnN0IERDX0NVUlZFID0gbmV3IEZsb2F0MzJBcnJheShbMSwgMV0pO1xuICAgIGNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcbiAgICBjb25zdCBTSU5HTEVfQ0hBTk5FTF9PUFRJT05TID0geyBjaGFubmVsQ291bnQ6IDEsIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyB9O1xuICAgIGNvbnN0IFNJTkdMRV9DSEFOTkVMX1dBVkVfU0hBUEVSX09QVElPTlMgPSB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIG92ZXJzYW1wbGU6ICdub25lJyB9O1xuICAgIGNvbnN0IGJ1aWxkSW50ZXJuYWxHcmFwaEZvck1vbm8gPSAobmF0aXZlQ29udGV4dCwgaW5wdXRHYWluTm9kZSwgcGFuR2Fpbk5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlZnRXYXZlU2hhcGVyQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KENVUlZFX1NJWkUpO1xuICAgICAgICBjb25zdCByaWdodFdhdmVTaGFwZXJDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoQ1VSVkVfU0laRSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ1VSVkVfU0laRTsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gKGkgLyAoQ1VSVkVfU0laRSAtIDEpKSAqIEhBTEZfUEk7XG4gICAgICAgICAgICBsZWZ0V2F2ZVNoYXBlckN1cnZlW2ldID0gTWF0aC5jb3MoeCk7XG4gICAgICAgICAgICByaWdodFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IE1hdGguc2luKHgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlZnRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgY29uc3QgbGVmdFdhdmVTaGFwZXJOb2RlID0gKGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUywgY3VydmU6IGxlZnRXYXZlU2hhcGVyQ3VydmUgfSkpO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCBwYW5XYXZlU2hhcGVyTm9kZSA9IChjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX1dBVkVfU0hBUEVSX09QVElPTlMsIGN1cnZlOiBEQ19DVVJWRSB9KSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgIGNvbnN0IHJpZ2h0V2F2ZVNoYXBlck5vZGUgPSAoY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLCBjdXJ2ZTogcmlnaHRXYXZlU2hhcGVyQ3VydmUgfSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29ubmVjdEdyYXBoKCkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChsZWZ0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZCA/IHBhbldhdmVTaGFwZXJOb2RlIDogcGFuV2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNvbm5lY3QocmlnaHRHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGFuV2F2ZVNoYXBlck5vZGUuY29ubmVjdChwYW5HYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuY29ubmVjdChsZWZ0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyBsZWZ0V2F2ZVNoYXBlck5vZGUgOiBsZWZ0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5jb25uZWN0KHJpZ2h0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyByaWdodFdhdmVTaGFwZXJOb2RlIDogcmlnaHRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGxlZnRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KGxlZnRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodFdhdmVTaGFwZXJOb2RlLmNvbm5lY3QocmlnaHRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICBsZWZ0R2Fpbk5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgcmlnaHRHYWluTm9kZS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNjb25uZWN0R3JhcGgoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5kaXNjb25uZWN0KGxlZnRHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5kaXNjb25uZWN0KHBhbldhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkID8gcGFuV2F2ZVNoYXBlck5vZGUgOiBwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChyaWdodEdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBwYW5XYXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KHBhbkdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5kaXNjb25uZWN0KGxlZnRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZCA/IGxlZnRXYXZlU2hhcGVyTm9kZSA6IGxlZnRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmRpc2Nvbm5lY3QocmlnaHRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZCA/IHJpZ2h0V2F2ZVNoYXBlck5vZGUgOiByaWdodFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgbGVmdFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QobGVmdEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIHJpZ2h0V2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChyaWdodEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIGxlZnRHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICByaWdodEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYnVpbGRJbnRlcm5hbEdyYXBoRm9yU3RlcmVvID0gKG5hdGl2ZUNvbnRleHQsIGlucHV0R2Fpbk5vZGUsIHBhbkdhaW5Ob2RlLCBjaGFubmVsTWVyZ2VyTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlID0gbmV3IEZsb2F0MzJBcnJheShDVVJWRV9TSVpFKTtcbiAgICAgICAgY29uc3QgbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KENVUlZFX1NJWkUpO1xuICAgICAgICBjb25zdCByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoQ1VSVkVfU0laRSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoQ1VSVkVfU0laRSk7XG4gICAgICAgIGNvbnN0IGNlbnRlckluZGV4ID0gTWF0aC5mbG9vcihDVVJWRV9TSVpFIC8gMik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ1VSVkVfU0laRTsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAoaSA+IGNlbnRlckluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9ICgoaSAtIGNlbnRlckluZGV4KSAvIChDVVJWRV9TSVpFIC0gMSAtIGNlbnRlckluZGV4KSkgKiBIQUxGX1BJO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmVbaV0gPSBNYXRoLmNvcyh4KTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IE1hdGguc2luKHgpO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gMDtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmVbaV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IChpIC8gKENVUlZFX1NJWkUgLSAxIC0gY2VudGVySW5kZXgpKSAqIEhBTEZfUEk7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IDE7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmVbaV0gPSAwO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gTWF0aC5jb3MoeCk7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gTWF0aC5zaW4oeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhbm5lbFNwbGl0dGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAyLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgIG51bWJlck9mT3V0cHV0czogMlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGVmdElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLFxuICAgICAgICAgICAgY3VydmU6IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgIGNvbnN0IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLFxuICAgICAgICAgICAgY3VydmU6IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCBwYW5XYXZlU2hhcGVyTm9kZSA9IChjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX1dBVkVfU0hBUEVSX09QVElPTlMsIGN1cnZlOiBEQ19DVVJWRSB9KSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgIGNvbnN0IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLFxuICAgICAgICAgICAgY3VydmU6IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgY29uc3QgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLFxuICAgICAgICAgICAgY3VydmU6IHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbm5lY3RHcmFwaCgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNvbm5lY3QoY2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KHBhbldhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkID8gcGFuV2F2ZVNoYXBlck5vZGUgOiBwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuY29ubmVjdChsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUsIDApO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuY29ubmVjdChsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLCAwKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsU3BsaXR0ZXJOb2RlLmNvbm5lY3QocmlnaHRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZSwgMSk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbFNwbGl0dGVyTm9kZS5jb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLCAxKTtcbiAgICAgICAgICAgICAgICBwYW5XYXZlU2hhcGVyTm9kZS5jb25uZWN0KHBhbkdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5jb25uZWN0KGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmNvbm5lY3QobGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuY29ubmVjdChyaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5jb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmNvbm5lY3QobGVmdElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmNvbm5lY3QocmlnaHRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzY29ubmVjdEdyYXBoKCkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsU3BsaXR0ZXJOb2RlKTtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QocGFuV2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyBwYW5XYXZlU2hhcGVyTm9kZSA6IHBhbldhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbFNwbGl0dGVyTm9kZS5kaXNjb25uZWN0KGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZSwgMCk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbFNwbGl0dGVyTm9kZS5kaXNjb25uZWN0KGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUsIDApO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuZGlzY29ubmVjdChyaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLCAxKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsU3BsaXR0ZXJOb2RlLmRpc2Nvbm5lY3QocmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUsIDEpO1xuICAgICAgICAgICAgICAgIHBhbldhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocGFuR2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmRpc2Nvbm5lY3QobGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlXG4gICAgICAgICAgICAgICAgICAgIDogbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuZGlzY29ubmVjdChsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5kaXNjb25uZWN0KHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlXG4gICAgICAgICAgICAgICAgICAgIDogcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmRpc2Nvbm5lY3QocmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QobGVmdElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChyaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAxKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGJ1aWxkSW50ZXJuYWxHcmFwaCA9IChuYXRpdmVDb250ZXh0LCBjaGFubmVsQ291bnQsIGlucHV0R2Fpbk5vZGUsIHBhbkdhaW5Ob2RlLCBjaGFubmVsTWVyZ2VyTm9kZSkgPT4ge1xuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRJbnRlcm5hbEdyYXBoRm9yTW9ubyhuYXRpdmVDb250ZXh0LCBpbnB1dEdhaW5Ob2RlLCBwYW5HYWluTm9kZSwgY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZEludGVybmFsR3JhcGhGb3JTdGVyZW8obmF0aXZlQ29udGV4dCwgaW5wdXRHYWluTm9kZSwgcGFuR2Fpbk5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgIH07XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCB7IGNoYW5uZWxDb3VudCwgY2hhbm5lbENvdW50TW9kZSwgcGFuLCAuLi5hdWRpb05vZGVPcHRpb25zIH0pID0+IHtcbiAgICAgICAgaWYgKGNoYW5uZWxDb3VudE1vZGUgPT09ICdtYXgnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uYXVkaW9Ob2RlT3B0aW9ucyxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICBudW1iZXJPZklucHV0czogMlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5wdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgY2hhbm5lbENvdW50LCBjaGFubmVsQ291bnRNb2RlLCBnYWluOiAxIH0pO1xuICAgICAgICBjb25zdCBwYW5HYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICBnYWluOiBwYW5cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB7IGNvbm5lY3RHcmFwaCwgZGlzY29ubmVjdEdyYXBoIH0gPSBidWlsZEludGVybmFsR3JhcGgobmF0aXZlQ29udGV4dCwgY2hhbm5lbENvdW50LCBpbnB1dEdhaW5Ob2RlLCBwYW5HYWluTm9kZSwgY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFuR2Fpbk5vZGUuZ2FpbiwgJ2RlZmF1bHRWYWx1ZScsIHsgZ2V0OiAoKSA9PiAwIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFuR2Fpbk5vZGUuZ2FpbiwgJ21heFZhbHVlJywgeyBnZXQ6ICgpID0+IDEgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYW5HYWluTm9kZS5nYWluLCAnbWluVmFsdWUnLCB7IGdldDogKCkgPT4gLTEgfSk7XG4gICAgICAgIGNvbnN0IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnkgPSB7XG4gICAgICAgICAgICBnZXQgYnVmZmVyU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdEdyYXBoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKHsgY29ubmVjdEdyYXBoLCBkaXNjb25uZWN0R3JhcGggfSA9IGJ1aWxkSW50ZXJuYWxHcmFwaChuYXRpdmVDb250ZXh0LCB2YWx1ZSwgaW5wdXRHYWluTm9kZSwgcGFuR2Fpbk5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdEdyYXBoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnY2xhbXBlZC1tYXgnIHx8IHZhbHVlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5jb250ZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnB1dEdhaW5Ob2RlXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFuR2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5hZGRFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmRpc3BhdGNoRXZlbnQoYXJnc1swXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHdoZW5Db25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25uZWN0R3JhcGgoKTtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpc2Nvbm5lY3RHcmFwaCgpO1xuICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1vbml0b3JDb25uZWN0aW9ucyhpbnRlcmNlcHRDb25uZWN0aW9ucyhuYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5LCBjaGFubmVsTWVyZ2VyTm9kZSksIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLXN0ZXJlby1wYW5uZXItbm9kZS1mYWtlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXIsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxDb3VudE1vZGUgPSBvcHRpb25zLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgIC8qXG4gICAgICAgICAqIEJ1ZyAjMTA1OiBUaGUgY2hhbm5lbENvdW50TW9kZSBvZiAnY2xhbXBlZC1tYXgnIHNob3VsZCBiZSBzdXBwb3J0ZWQuIEhvd2V2ZXIgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHdyaXRlIGEgcG9seWZpbGwgZm9yIFNhZmFyaVxuICAgICAgICAgKiB3aGljaCBzdXBwb3J0cyBpdCBhbmQgdGhlcmVmb3JlIGl0IGNhbid0IGJlIHN1cHBvcnRlZCBhdCBhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoY2hhbm5lbENvdW50TW9kZSA9PT0gJ2NsYW1wZWQtbWF4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzEwNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgdGhlIFN0ZXJlb1Bhbm5lck5vZGUuXG4gICAgICAgIGlmIChuYXRpdmVDb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlU3RlcmVvUGFubmVyTm9kZSwgb3B0aW9ucywgJ3BhbicpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBCdWcgIzEwNTogVGhlIGNoYW5uZWxDb3VudE1vZGUgb2YgJ2NsYW1wZWQtbWF4JyBzaG91bGQgYmUgc3VwcG9ydGVkLiBIb3dldmVyIGl0IGlzIG5vdCBwb3NzaWJsZSB0byB3cml0ZSBhIHBvbHlmaWxsIGZvciBTYWZhcmlcbiAgICAgICAgICogd2hpY2ggc3VwcG9ydHMgaXQgYW5kIHRoZXJlZm9yZSBpdCBjYW4ndCBiZSBzdXBwb3J0ZWQgYXQgYWxsLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsICdjaGFubmVsQ291bnRNb2RlJywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBjaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGNoYW5uZWxDb3VudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmF0aXZlU3RlcmVvUGFubmVyTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1zdGVyZW8tcGFubmVyLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZUZha2VyIH0gZnJvbSAnLi4vZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlLWZha2VyJztcbmltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgY29uc3QgY3JlYXRlU3RlcmVvUGFubmVyTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkXG4gICAgICAgICAgICAgKiBhZ2Fpbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlU3RlcmVvUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVTdGVyZW9QYW5uZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGFuOiBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLnBhbi52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlU3RlcmVvUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlKTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlU3RlcmVvUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBhbiwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5wYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucGFuLCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLnBhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGVGYWtlcihuYXRpdmVTdGVyZW9QYW5uZXJOb2RlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlU3RlcmVvUGFubmVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlU3RlcmVvUGFubmVyTm9kZSA9IHJlbmRlcmVkTmF0aXZlU3RlcmVvUGFubmVyTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlU3RlcmVvUGFubmVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZXJlby1wYW5uZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXInO1xuaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVdhdmVTaGFwZXJOb2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlV2F2ZVNoYXBlck5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZVdhdmVTaGFwZXJOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlV2F2ZVNoYXBlck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVXYXZlU2hhcGVyTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZVdhdmVTaGFwZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY3VydmU6IG5hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlLFxuICAgICAgICAgICAgICAgICAgICBvdmVyc2FtcGxlOiBuYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVXYXZlU2hhcGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVXYXZlU2hhcGVyTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZUZha2VyKG5hdGl2ZVdhdmVTaGFwZXJOb2RlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVXYXZlU2hhcGVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGUgPSByZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlV2F2ZVNoYXBlck5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F2ZS1zaGFwZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc1NlY3VyZUNvbnRleHQgPSAod2luZG93KSA9PiB3aW5kb3cgIT09IG51bGwgJiYgd2luZG93LmlzU2VjdXJlQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXNlY3VyZS1jb250ZXh0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVFeHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSA9ICh3aW5kb3cpID0+IHtcbiAgICByZXR1cm4gKGN1cnJlbnRUaW1lLCBzYW1wbGVSYXRlLCBmbikgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHtcbiAgICAgICAgICAgIGN1cnJlbnRGcmFtZToge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGN1cnJlbnRUaW1lICogc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LmN1cnJlbnRGcmFtZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHBvc2UtY3VycmVudC1mcmFtZS1hbmQtY3VycmVudC10aW1lLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSAoYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dFN0b3JlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUuZ2V0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICBpZiAoYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIG5hdGl2ZSBPZmZsaW5lQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTQxOiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjcmVhdGluZyBhbiBPZmZsaW5lQXVkaW9Db250ZXh0IHdpdGggbGVzcyB0aGFuIDQ0MTAwIEh6LlxuICAgICAgICBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcigxLCAxLCA0NDEwMCk7XG4gICAgICAgIGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZS5zZXQobmF0aXZlQ29udGV4dCwgYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgIHJldHVybiBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LW9yLWNyZWF0ZS1iYWNrdXAtb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVFdmFsdWF0ZVNvdXJjZSA9ICh3aW5kb3cpID0+IHtcbiAgICByZXR1cm4gKHNvdXJjZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAod2luZG93ID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE4MiBDaHJvbWUgYW5kIEVkZ2UgZG8gdGhyb3cgYW4gaW5zdGFuY2Ugb2YgYSBTeW50YXhFcnJvciBpbnN0ZWFkIG9mIGEgRE9NRXhjZXB0aW9uLlxuICAgICAgICAgICAgcmVqZWN0KG5ldyBTeW50YXhFcnJvcigpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkID0gd2luZG93LmRvY3VtZW50LmhlYWQ7XG4gICAgICAgIGlmIChoZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE4MiBDaHJvbWUgYW5kIEVkZ2UgZG8gdGhyb3cgYW4gaW5zdGFuY2Ugb2YgYSBTeW50YXhFcnJvciBpbnN0ZWFkIG9mIGEgRE9NRXhjZXB0aW9uLlxuICAgICAgICAgICAgcmVqZWN0KG5ldyBTeW50YXhFcnJvcigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIC8vIEB0b2RvIFNhZmFyaSBkb2Vzbid0IGxpa2UgVVJMcyB3aXRoIGEgdHlwZSBvZiAnYXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOCcuXG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3NvdXJjZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0pO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsT25FcnJvckhhbmRsZXIgPSB3aW5kb3cub25lcnJvcjtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUVycm9yRXZlbnRMaXN0ZW5lckFuZFJldm9rZVVybCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cub25lcnJvciA9IG9yaWdpbmFsT25FcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5vbmVycm9yID0gKG1lc3NhZ2UsIHNyYywgbGluZW5vLCBjb2xubywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBFZGdlIHRoaW5rcyB0aGUgc291cmNlIGlzIHRoZSBvbmUgb2YgdGhlIGh0bWwgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgaWYgKHNyYyA9PT0gdXJsIHx8IChzcmMgPT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmICYmIGxpbmVubyA9PT0gMSAmJiBjb2xubyA9PT0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXJyb3JFdmVudExpc3RlbmVyQW5kUmV2b2tlVXJsKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsT25FcnJvckhhbmRsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT25FcnJvckhhbmRsZXIobWVzc2FnZSwgc3JjLCBsaW5lbm8sIGNvbG5vLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVycm9yRXZlbnRMaXN0ZW5lckFuZFJldm9rZVVybCgpO1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTgyIENocm9tZSBhbmQgRWRnZSBkbyB0aHJvdyBhbiBpbnN0YW5jZSBvZiBhIFN5bnRheEVycm9yIGluc3RlYWQgb2YgYSBET01FeGNlcHRpb24uXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBTeW50YXhFcnJvcigpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVycm9yRXZlbnRMaXN0ZW5lckFuZFJldm9rZVVybCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICAgICAgc2NyaXB0LnR5cGUgPSAnbW9kdWxlJztcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2YWx1YXRlLXNvdXJjZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRmV0Y2hTb3VyY2UgPSAoY3JlYXRlQWJvcnRFcnJvcikgPT4ge1xuICAgIHJldHVybiBhc3luYyAodXJsKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2F3YWl0IHJlc3BvbnNlLnRleHQoKSwgcmVzcG9uc2UudXJsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLlxuICAgICAgICB9IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tZW1wdHlcbiAgICAgICAgdGhyb3cgY3JlYXRlQWJvcnRFcnJvcigpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2gtc291cmNlLmpzLm1hcCIsIi8vIEJ1ZyAjMTc5OiBGaXJlZm94IGRvZXMgbm90IGFsbG93IHRvIHRyYW5zZmVyIGFueSBidWZmZXIgd2hpY2ggaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSBwcm9jZXNzKCkgbWV0aG9kIGFzIGFuIGFyZ3VtZW50LlxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQgPSAobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBCdWcgIzYxOiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgQXVkaW9Xb3JrbGV0Tm9kZSBpdCBnZXRzIGZha2VkIGFuZCB0aGVyZWZvcmUgaXQgaXMgbm8gcHJvYmxlbSBpZiB0aGUgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbJ2NsYXNzIEEgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7cHJvY2VzcyhpKXt0aGlzLnBvcnQucG9zdE1lc3NhZ2UoaSxbaVswXVswXS5idWZmZXJdKX19cmVnaXN0ZXJQcm9jZXNzb3IoXCJhXCIsQSknXSwge1xuICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgnXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBCdWcgIzE0MTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRpbmcgYW4gT2ZmbGluZUF1ZGlvQ29udGV4dCB3aXRoIGxlc3MgdGhhbiA0NDEwMCBIei5cbiAgICAgICAgY29uc3Qgb2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoMSwgMTI4LCA0NDEwMCk7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGxldCBpc0VtaXR0aW5nTWVzc2FnZUV2ZW50cyA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNFbWl0dGluZ1Byb2Nlc3NvckVycm9yRXZlbnRzID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBvZmZsaW5lQXVkaW9Db250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvV29ya2xldE5vZGUgPSBuZXcgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKG9mZmxpbmVBdWRpb0NvbnRleHQsICdhJywgeyBudW1iZXJPZk91dHB1dHM6IDAgfSk7XG4gICAgICAgICAgICBjb25zdCBvc2NpbGxhdG9yID0gb2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICAgICAgICBhdWRpb1dvcmtsZXROb2RlLnBvcnQub25tZXNzYWdlID0gKCkgPT4gKGlzRW1pdHRpbmdNZXNzYWdlRXZlbnRzID0gdHJ1ZSk7XG4gICAgICAgICAgICBhdWRpb1dvcmtsZXROb2RlLm9ucHJvY2Vzc29yZXJyb3IgPSAoKSA9PiAoaXNFbWl0dGluZ1Byb2Nlc3NvckVycm9yRXZlbnRzID0gdHJ1ZSk7XG4gICAgICAgICAgICBvc2NpbGxhdG9yLmNvbm5lY3QoYXVkaW9Xb3JrbGV0Tm9kZSk7XG4gICAgICAgICAgICBvc2NpbGxhdG9yLnN0YXJ0KDApO1xuICAgICAgICAgICAgYXdhaXQgb2ZmbGluZUF1ZGlvQ29udGV4dC5zdGFydFJlbmRlcmluZygpO1xuICAgICAgICAgICAgLy8gQnVnICMxOTc6IFNhZmFyaSBkb2VzIG5vdCBkZWxpdmVyIHRoZSBtZXNzYWdlcyBiZWZvcmUgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgc3RhcnRSZW5kZXJpbmcoKSByZXNvbHZlcy5cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLlxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0VtaXR0aW5nTWVzc2FnZUV2ZW50cyAmJiAhaXNFbWl0dGluZ1Byb2Nlc3NvckVycm9yRXZlbnRzO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci1wb3N0LW1lc3NhZ2Utc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNOYXRpdmVDb250ZXh0ID0gKGlzTmF0aXZlQXVkaW9Db250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBpc05hdGl2ZUF1ZGlvQ29udGV4dChhbnl0aGluZykgfHwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KGFueXRoaW5nKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW5hdGl2ZS1jb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IGRldGFjaEFycmF5QnVmZmVyIH0gZnJvbSAnLi4vaGVscGVycy9kZXRhY2gtYXJyYXktYnVmZmVyJztcbmltcG9ydCB7IHdyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1nZXQtY2hhbm5lbC1kYXRhLW1ldGhvZCc7XG5leHBvcnQgY29uc3QgY3JlYXRlRGVjb2RlQXVkaW9EYXRhID0gKGF1ZGlvQnVmZmVyU3RvcmUsIGNhY2hlVGVzdFJlc3VsdCwgY3JlYXRlRGF0YUNsb25lRXJyb3IsIGNyZWF0ZUVuY29kaW5nRXJyb3IsIGRldGFjaGVkQXJyYXlCdWZmZXJzLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZUNvbnRleHQsIHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgdGVzdFByb21pc2VTdXBwb3J0LCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMsIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzKSA9PiB7XG4gICAgcmV0dXJuIChhbnlDb250ZXh0LCBhdWRpb0RhdGEpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGlzTmF0aXZlQ29udGV4dChhbnlDb250ZXh0KSA/IGFueUNvbnRleHQgOiBnZXROYXRpdmVDb250ZXh0KGFueUNvbnRleHQpO1xuICAgICAgICAvLyBCdWcgIzQzOiBPbmx5IENocm9tZSBhbmQgRWRnZSBkbyB0aHJvdyBhIERhdGFDbG9uZUVycm9yLlxuICAgICAgICBpZiAoZGV0YWNoZWRBcnJheUJ1ZmZlcnMuaGFzKGF1ZGlvRGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNyZWF0ZURhdGFDbG9uZUVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgYXVkaW9EYXRhIHBhcmFtZXRlciBtYXliZSBvZiBhIHR5cGUgd2hpY2ggY2FuJ3QgYmUgYWRkZWQgdG8gYSBXZWFrU2V0LlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGV0YWNoZWRBcnJheUJ1ZmZlcnMuYWRkKGF1ZGlvRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzIxOiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBwcm9taXNlcyB5ZXQuXG4gICAgICAgIGlmIChjYWNoZVRlc3RSZXN1bHQodGVzdFByb21pc2VTdXBwb3J0LCAoKSA9PiB0ZXN0UHJvbWlzZVN1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhKS50aGVuKChhdWRpb0J1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTMzOiBTYWZhcmkgZG9lcyBuZXV0ZXIgdGhlIEFycmF5QnVmZmVyLlxuICAgICAgICAgICAgICAgIGRldGFjaEFycmF5QnVmZmVyKGF1ZGlvRGF0YSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTU3OiBGaXJlZm94IGRvZXMgbm90IGFsbG93IHRoZSBidWZmZXJPZmZzZXQgdG8gYmUgb3V0LW9mLWJvdW5kcy5cbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydChhdWRpb0J1ZmZlcikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTdG9yZS5hZGQoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMjE6IFNhZmFyaSBkb2VzIG5vdCByZXR1cm4gYSBQcm9taXNlIHlldC5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTMzOiBTYWZhcmkgZG9lcyBuZXV0ZXIgdGhlIEFycmF5QnVmZmVyLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRldGFjaEFycmF5QnVmZmVyKGF1ZGlvRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmFpbCA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMjY6IFNhZmFyaSB0aHJvd3MgYSBzeW5jaHJvbm91cyBlcnJvci5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxOiBTYWZhcmkgcmVxdWlyZXMgYSBzdWNjZXNzQ2FsbGJhY2suXG4gICAgICAgICAgICAgICAgbmF0aXZlQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhLCAoYXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICM1OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjb3B5RnJvbUNoYW5uZWwoKSBhbmQgY29weVRvQ2hhbm5lbCgpLlxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzEwMDogU2FmYXJpIGRvZXMgdGhyb3cgYSB3cm9uZyBlcnJvciB3aGVuIGNhbGxpbmcgZ2V0Q2hhbm5lbERhdGEoKSB3aXRoIGFuIG91dC1vZi1ib3VuZHMgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyR2V0Q2hhbm5lbERhdGFNZXRob2QoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU3RvcmUuYWRkKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKS50aGVuKCgpID0+IHJlc29sdmUoYXVkaW9CdWZmZXIpKTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNDogU2FmYXJpIHJldHVybnMgbnVsbCBpbnN0ZWFkIG9mIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGNyZWF0ZUVuY29kaW5nRXJyb3IoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb2RlLWF1ZGlvLWRhdGEuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZURhdGFDbG9uZUVycm9yID0gKCkgPT4gbmV3IERPTUV4Y2VwdGlvbignJywgJ0RhdGFDbG9uZUVycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLWNsb25lLWVycm9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVFbmNvZGluZ0Vycm9yID0gKCkgPT4gbmV3IERPTUV4Y2VwdGlvbignJywgJ0VuY29kaW5nRXJyb3InKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuY29kaW5nLWVycm9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSAoYWRkQXVkaW9Xb3JrbGV0TW9kdWxlLCBhbmFseXNlck5vZGVDb25zdHJ1Y3RvciwgYXVkaW9CdWZmZXJDb25zdHJ1Y3RvciwgYXVkaW9CdWZmZXJTb3VyY2VOb2RlQ29uc3RydWN0b3IsIGJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciwgY2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciwgY2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yLCBjb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvciwgY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yLCBkZWNvZGVBdWRpb0RhdGEsIGRlbGF5Tm9kZUNvbnN0cnVjdG9yLCBkeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IsIGdhaW5Ob2RlQ29uc3RydWN0b3IsIGlJUkZpbHRlck5vZGVDb25zdHJ1Y3RvciwgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvciwgb3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciwgcGFubmVyTm9kZUNvbnN0cnVjdG9yLCBwZXJpb2RpY1dhdmVDb25zdHJ1Y3Rvciwgc3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yLCB3YXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEJhc2VBdWRpb0NvbnRleHQgZXh0ZW5kcyBtaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoX25hdGl2ZUNvbnRleHQsIG51bWJlck9mQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHN1cGVyKF9uYXRpdmVDb250ZXh0LCBudW1iZXJPZkNoYW5uZWxzKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnRleHQgPSBfbmF0aXZlQ29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvV29ya2xldCA9XG4gICAgICAgICAgICAgICAgYWRkQXVkaW9Xb3JrbGV0TW9kdWxlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb2R1bGU6IChtb2R1bGVVUkwsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkQXVkaW9Xb3JrbGV0TW9kdWxlKHRoaXMsIG1vZHVsZVVSTCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGF1ZGlvV29ya2xldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdWRpb1dvcmtsZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlQW5hbHlzZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUJpcXVhZEZpbHRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYmlxdWFkRmlsdGVyTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUJ1ZmZlcihudW1iZXJPZkNoYW5uZWxzLCBsZW5ndGgsIHNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXVkaW9CdWZmZXJDb25zdHJ1Y3Rvcih7IGxlbmd0aCwgbnVtYmVyT2ZDaGFubmVscywgc2FtcGxlUmF0ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVCdWZmZXJTb3VyY2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUNoYW5uZWxNZXJnZXIobnVtYmVyT2ZJbnB1dHMgPSA2KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IodGhpcywgeyBudW1iZXJPZklucHV0cyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVDaGFubmVsU3BsaXR0ZXIobnVtYmVyT2ZPdXRwdXRzID0gNikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IodGhpcywgeyBudW1iZXJPZk91dHB1dHMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlQ29uc3RhbnRTb3VyY2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUNvbnZvbHZlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZURlbGF5KG1heERlbGF5VGltZSA9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZGVsYXlOb2RlQ29uc3RydWN0b3IodGhpcywgeyBtYXhEZWxheVRpbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlR2FpbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZ2Fpbk5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVJSVJGaWx0ZXIoZmVlZGZvcndhcmQsIGZlZWRiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGlJUkZpbHRlck5vZGVDb25zdHJ1Y3Rvcih0aGlzLCB7IGZlZWRiYWNrLCBmZWVkZm9yd2FyZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVPc2NpbGxhdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBvc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZVBhbm5lcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFubmVyTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnLCBjb25zdHJhaW50cyA9IHsgZGlzYWJsZU5vcm1hbGl6YXRpb246IGZhbHNlIH0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGVyaW9kaWNXYXZlQ29uc3RydWN0b3IodGhpcywgeyAuLi5jb25zdHJhaW50cywgaW1hZywgcmVhbCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVTdGVyZW9QYW5uZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVXYXZlU2hhcGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB3YXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YShhdWRpb0RhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZUF1ZGlvRGF0YSh0aGlzLl9uYXRpdmVDb250ZXh0LCBhdWRpb0RhdGEpLnRoZW4oKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWNjZXNzQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gQnVnICMxNzE6IFNhZmFyaSBhbGxvd3MgdG8gY3JlYXRlIGEgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIHdpdGggYW4gT2ZmbGluZUF1ZGlvQ29udGV4dC5cbiAgICAgICAgICAgIGlmIChpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIHRydWUsIG5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUgPSBuYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG1lZGlhRWxlbWVudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUubWVkaWFFbGVtZW50O1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZWRpYS1lbGVtZW50LWF1ZGlvLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUgPSAobmF0aXZlQXVkaW9Db250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2Uob3B0aW9ucy5tZWRpYUVsZW1lbnQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1tZWRpYS1lbGVtZW50LWF1ZGlvLXNvdXJjZS1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gKG5hdGl2ZUF1ZGlvQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSwgb3B0aW9ucyk7XG4gICAgLy8gQnVnICMxNzQ6IFNhZmFyaSBkb2VzIGV4cG9zZSBhIHdyb25nIG51bWJlck9mT3V0cHV0cy5cbiAgICBpZiAobmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZS5udW1iZXJPZk91dHB1dHMgPT09IDEpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUsICdudW1iZXJPZk91dHB1dHMnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBCdWcgIzE3MjogU2FmYXJpIGFsbG93cyB0byBjcmVhdGUgYSBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSB3aXRoIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQuXG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgdHJ1ZSwgbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgbWVkaWFTdHJlYW0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUubWVkaWFTdHJlYW07XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSAobmF0aXZlQXVkaW9Db250ZXh0LCB7IG1lZGlhU3RyZWFtIH0pID0+IHtcbiAgICBjb25zdCBhdWRpb1N0cmVhbVRyYWNrcyA9IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgLypcbiAgICAgKiBCdWcgIzE1MTogU2FmYXJpIGRvZXMgbm90IHVzZSB0aGUgYXVkaW8gdHJhY2sgYXMgaW5wdXQgYW55bW9yZSBpZiBpdCBnZXRzIHJlbW92ZWQgZnJvbSB0aGUgbWVkaWFTdHJlYW0gYWZ0ZXIgY29uc3RydWN0aW9uLlxuICAgICAqIEJ1ZyAjMTU5OiBTYWZhcmkgcGlja3MgdGhlIGZpcnN0IGF1ZGlvIHRyYWNrIGlmIHRoZSBNZWRpYVN0cmVhbSBoYXMgbW9yZSB0aGFuIG9uZSBhdWRpbyB0cmFjay5cbiAgICAgKi9cbiAgICBhdWRpb1N0cmVhbVRyYWNrcy5zb3J0KChhLCBiKSA9PiAoYS5pZCA8IGIuaWQgPyAtMSA6IGEuaWQgPiBiLmlkID8gMSA6IDApKTtcbiAgICBjb25zdCBmaWx0ZXJlZEF1ZGlvU3RyZWFtVHJhY2tzID0gYXVkaW9TdHJlYW1UcmFja3Muc2xpY2UoMCwgMSk7XG4gICAgY29uc3QgbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKGZpbHRlcmVkQXVkaW9TdHJlYW1UcmFja3MpKTtcbiAgICAvKlxuICAgICAqIEJ1ZyAjMTUxICYgIzE1OTogVGhlIGdpdmVuIG1lZGlhU3RyZWFtIGdldHMgcmVjb25zdHJ1Y3RlZCBiZWZvcmUgaXQgZ2V0cyBwYXNzZWQgdG8gdGhlIG5hdGl2ZSBub2RlIHdoaWNoIGlzIHdoeSB0aGUgYWNjZXNzb3IgbmVlZHNcbiAgICAgKiB0byBiZSBvdmVyd3JpdHRlbiBhcyBpdCB3b3VsZCBvdGhlcndpc2UgZXhwb3NlIHRoZSByZWNvbnN0cnVjdGVkIHZlcnNpb24uXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLCAnbWVkaWFTdHJlYW0nLCB7IHZhbHVlOiBtZWRpYVN0cmVhbSB9KTtcbiAgICByZXR1cm4gbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUZhY3RvcnkgPSAoY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQXVkaW9Db250ZXh0LCB7IG1lZGlhU3RyZWFtVHJhY2sgfSkgPT4ge1xuICAgICAgICAvLyBCdWcgIzEyMTogT25seSBGaXJlZm94IGRvZXMgeWV0IHN1cHBvcnQgdGhlIE1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUuXG4gICAgICAgIGlmICh0eXBlb2YgbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1UcmFja1NvdXJjZShtZWRpYVN0cmVhbVRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZWRpYVN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbShbbWVkaWFTdHJlYW1UcmFja10pO1xuICAgICAgICBjb25zdCBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSA9IG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShtZWRpYVN0cmVhbSk7XG4gICAgICAgIC8vIEJ1ZyAjMTIwOiBGaXJlZm94IGRvZXMgbm90IHRocm93IGFuIGVycm9yIGlmIHRoZSBtZWRpYVN0cmVhbSBoYXMgbm8gYXVkaW8gdHJhY2suXG4gICAgICAgIGlmIChtZWRpYVN0cmVhbVRyYWNrLmtpbmQgIT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNzI6IFNhZmFyaSBhbGxvd3MgdG8gY3JlYXRlIGEgTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgd2l0aCBhbiBPZmZsaW5lQXVkaW9Db250ZXh0LlxuICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUF1ZGlvQ29udGV4dCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtbWVkaWEtc3RyZWFtLXRyYWNrLWF1ZGlvLXNvdXJjZS1ub2RlLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgdHJ1ZSwgbmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lZGlhLXN0cmVhbS10cmFjay1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBkZWFjdGl2YXRlQXVkaW9HcmFwaCB9IGZyb20gJy4uL2hlbHBlcnMvZGVhY3RpdmF0ZS1hdWRpby1ncmFwaCc7XG5pbXBvcnQgeyBpc1ZhbGlkTGF0ZW5jeUhpbnQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLXZhbGlkLWxhdGVuY3ktaGludCc7XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSAoYmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGNyZWF0ZVVua25vd25FcnJvciwgbWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciwgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciwgbWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBBdWRpb0NvbnRleHQgZXh0ZW5kcyBiYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgbmF0aXZlIEF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuYXRpdmVBdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE5MiBTYWZhcmkgZG9lcyB0aHJvdyBhIFN5bnRheEVycm9yIGlmIHRoZSBzYW1wbGVSYXRlIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSAxMiAmJiBlcnIubWVzc2FnZSA9PT0gJ3NhbXBsZVJhdGUgaXMgbm90IGluIHJhbmdlJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWcgIzEzMSBTYWZhcmkgcmV0dXJucyBudWxsIHdoZW4gdGhlcmUgYXJlIGZvdXIgb3RoZXIgQXVkaW9Db250ZXh0cyBydW5uaW5nIGFscmVhZHkuXG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Db250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlVW5rbm93bkVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWcgIzUxIE9ubHkgQ2hyb21lIGFuZCBFZGdlIHRocm93IGFuIGVycm9yIGlmIHRoZSBnaXZlbiBsYXRlbmN5SGludCBpcyBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkTGF0ZW5jeUhpbnQob3B0aW9ucy5sYXRlbmN5SGludCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgcHJvdmlkZWQgdmFsdWUgJyR7b3B0aW9ucy5sYXRlbmN5SGludH0nIGlzIG5vdCBhIHZhbGlkIGVudW0gdmFsdWUgb2YgdHlwZSBBdWRpb0NvbnRleHRMYXRlbmN5Q2F0ZWdvcnkuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWcgIzE1MCBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBzYW1wbGVSYXRlLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmIG5hdGl2ZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlICE9PSBvcHRpb25zLnNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIobmF0aXZlQXVkaW9Db250ZXh0LCAyKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF0ZW5jeUhpbnQgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCB7IHNhbXBsZVJhdGUgfSA9IG5hdGl2ZUF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIC8vIEB0b2RvIFRoZSB2YWx1ZXMgZm9yICdiYWxhbmNlZCcsICdpbnRlcmFjdGl2ZScgYW5kICdwbGF5YmFjaycgYXJlIGp1c3QgY29waWVkIGZyb20gQ2hyb21lJ3MgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgICB0aGlzLl9iYXNlTGF0ZW5jeSA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIG5hdGl2ZUF1ZGlvQ29udGV4dC5iYXNlTGF0ZW5jeSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgPyBuYXRpdmVBdWRpb0NvbnRleHQuYmFzZUxhdGVuY3lcbiAgICAgICAgICAgICAgICAgICAgOiBsYXRlbmN5SGludCA9PT0gJ2JhbGFuY2VkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyA1MTIgLyBzYW1wbGVSYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGxhdGVuY3lIaW50ID09PSAnaW50ZXJhY3RpdmUnIHx8IGxhdGVuY3lIaW50ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDI1NiAvIHNhbXBsZVJhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxhdGVuY3lIaW50ID09PSAncGxheWJhY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gMTAyNCAvIHNhbXBsZVJhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0b2RvIFRoZSBtaW4gKDI1NikgYW5kIG1heCAoMTYzODQpIHZhbHVlcyBhcmUgdGFrZW4gZnJvbSB0aGUgYWxsb3dlZCBidWZmZXJTaXplIHZhbHVlcyBvZiBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2NyaXB0UHJvY2Vzc29yTm9kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChNYXRoLm1heCgyLCBNYXRoLm1pbigxMjgsIE1hdGgucm91bmQoKGxhdGVuY3lIaW50ICogc2FtcGxlUmF0ZSkgLyAxMjgpKSkgKiAxMjgpIC8gc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dCA9IG5hdGl2ZUF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTg4OiBTYWZhcmkgd2lsbCBzZXQgdGhlIGNvbnRleHQncyBzdGF0ZSB0byAnaW50ZXJydXB0ZWQnIGluIGNhc2UgdGhlIHVzZXIgc3dpdGNoZXMgdGFicy5cbiAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvci5uYW1lID09PSAnd2Via2l0QXVkaW9Db250ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUdhaW5Ob2RlID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZSA9IG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlR2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IDFlLTM3O1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLmNvbm5lY3QodGhpcy5fbmF0aXZlR2Fpbk5vZGUpLmNvbm5lY3QobmF0aXZlQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlR2Fpbk5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBCdWcgIzM0OiBDaHJvbWUgYW5kIEVkZ2UgcHJldGVuZCB0byBiZSBydW5uaW5nIHJpZ2h0IGF3YXksIGJ1dCBmaXJlIGFuIG9uc3RhdGVjaGFuZ2UgZXZlbnQgd2hlbiB0aGUgc3RhdGUgYWN0dWFsbHkgY2hhbmdlc1xuICAgICAgICAgICAgICogdG8gJ3J1bm5pbmcnLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Db250ZXh0LnN0YXRlID09PSAncnVubmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdzdXNwZW5kZWQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldm9rZVN0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Db250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgcmV2b2tlU3RhdGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Db250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgcmV2b2tlU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBiYXNlTGF0ZW5jeSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYXNlTGF0ZW5jeTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgIT09IG51bGwgPyB0aGlzLl9zdGF0ZSA6IHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMzU6IEZpcmVmb3ggZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIEF1ZGlvQ29udGV4dCB3YXMgY2xvc2VkIGJlZm9yZS5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQuY2xvc2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1ZyAjMzQ6IElmIHRoZSBzdGF0ZSB3YXMgc2V0IHRvIHN1c3BlbmRlZCBiZWZvcmUgaXQgc2hvdWxkIGJlIHJldm9rZWQgbm93LlxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQuY2xvc2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbmF0aXZlR2Fpbk5vZGUgIT09IG51bGwgJiYgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVHYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVhY3RpdmF0ZUF1ZGlvR3JhcGgodGhpcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UobWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yKHRoaXMsIHsgbWVkaWFFbGVtZW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShtZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yKHRoaXMsIHsgbWVkaWFTdHJlYW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlTWVkaWFTdHJlYW1UcmFja1NvdXJjZShtZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3Rvcih0aGlzLCB7IG1lZGlhU3RyZWFtVHJhY2sgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVQcm9taXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgcmVzb2x2ZVByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWUoKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHJlc29sdmVQcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQucmVzdW1lKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNTU6IENocm9tZSBhbmQgRWRnZSBkbyB0aHJvdyBhbiBJbnZhbGlkQWNjZXNzRXJyb3IgaW5zdGVhZCBvZiBhbiBJbnZhbGlkU3RhdGVFcnJvci5cbiAgICAgICAgICAgICAgICAvLyBCdWcgIzU2OiBTYWZhcmkgaW52b2tlcyB0aGUgY2F0Y2ggaGFuZGxlciBidXQgd2l0aG91dCBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICBpZiAoZXJyID09PSB1bmRlZmluZWQgfHwgZXJyLmNvZGUgPT09IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN1c3BlbmQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnN1c3BlbmQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM1NjogU2FmYXJpIGludm9rZXMgdGhlIGNhdGNoIGhhbmRsZXIgYnV0IHdpdGhvdXQgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgaWYgKGVyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc1ZhbGlkTGF0ZW5jeUhpbnQgPSAobGF0ZW5jeUhpbnQpID0+IHtcbiAgICByZXR1cm4gKGxhdGVuY3lIaW50ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgdHlwZW9mIGxhdGVuY3lIaW50ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAodHlwZW9mIGxhdGVuY3lIaW50ID09PSAnc3RyaW5nJyAmJiAobGF0ZW5jeUhpbnQgPT09ICdiYWxhbmNlZCcgfHwgbGF0ZW5jeUhpbnQgPT09ICdpbnRlcmFjdGl2ZScgfHwgbGF0ZW5jeUhpbnQgPT09ICdwbGF5YmFjaycpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtdmFsaWQtbGF0ZW5jeS1oaW50LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMgPSAodW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZSkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMgPSB1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZVN0b3JlLmdldChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgaWYgKHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb250ZXh0IGhhcyBubyBzZXQgb2YgQXVkaW9Xb3JrbGV0Tm9kZXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcztcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZXMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlID0gKGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYXVkaW9Xb3JrbGV0Tm9kZSkgPT4ge1xuICAgICAgICBnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMobmF0aXZlQ29udGV4dCkuYWRkKGF1ZGlvV29ya2xldE5vZGUpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLXVucmVuZGVyZWQtYXVkaW8td29ya2xldC1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlJztcbmV4cG9ydCBjb25zdCBjcmVhdGVDb25uZWN0TXVsdGlwbGVPdXRwdXRzID0gKGNyZWF0ZUluZGV4U2l6ZUVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXRBdWRpb05vZGVzLCBkZXN0aW5hdGlvbiwgb3V0cHV0ID0gMCwgaW5wdXQgPSAwKSA9PiB7XG4gICAgICAgIGNvbnN0IG91dHB1dEF1ZGlvTm9kZSA9IG91dHB1dEF1ZGlvTm9kZXNbb3V0cHV0XTtcbiAgICAgICAgaWYgKG91dHB1dEF1ZGlvTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRBdWRpb05vZGUuY29ubmVjdChkZXN0aW5hdGlvbiwgMCwgaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBdWRpb05vZGUuY29ubmVjdChkZXN0aW5hdGlvbiwgMCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LW11bHRpcGxlLW91dHB1dHMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZURlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlID0gKGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYXVkaW9Xb3JrbGV0Tm9kZSkgPT4ge1xuICAgICAgICBnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMobmF0aXZlQ29udGV4dCkuZGVsZXRlKGF1ZGlvV29ya2xldE5vZGUpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsZXRlLXVucmVuZGVyZWQtYXVkaW8td29ya2xldC1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzID0gKGFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHNTdG9yZSwgZ2V0VmFsdWVGb3JLZXkpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUpID0+IGdldFZhbHVlRm9yS2V5KGFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHNTdG9yZSwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWFjdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtaW5wdXRzLmpzLm1hcCIsImltcG9ydCB7IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb21wdXRlQnVmZmVyU2l6ZSB9IGZyb20gJy4uL2hlbHBlcnMvY29tcHV0ZS1idWZmZXItc2l6ZSc7XG5pbXBvcnQgeyBjb3B5RnJvbUNoYW5uZWwgfSBmcm9tICcuLi9oZWxwZXJzL2NvcHktZnJvbS1jaGFubmVsJztcbmltcG9ydCB7IGNvcHlUb0NoYW5uZWwgfSBmcm9tICcuLi9oZWxwZXJzL2NvcHktdG8tY2hhbm5lbCc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb1dvcmtsZXRQcm9jZXNzb3IgfSBmcm9tICcuLi9oZWxwZXJzL2NyZWF0ZS1hdWRpby13b3JrbGV0LXByb2Nlc3Nvcic7XG5pbXBvcnQgeyBjcmVhdGVOZXN0ZWRBcnJheXMgfSBmcm9tICcuLi9oZWxwZXJzL2NyZWF0ZS1uZXN0ZWQtYXJyYXlzJztcbmltcG9ydCB7IFJlYWRPbmx5TWFwIH0gZnJvbSAnLi4vcmVhZC1vbmx5LW1hcCc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyRmFjdG9yeSA9IChjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBjcmVhdGVJbmRleFNpemVFcnJvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgZGlzY29ubmVjdE11bHRpcGxlT3V0cHV0cywgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUsIGdldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zLm51bWJlck9mSW5wdXRzID09PSAwICYmIG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxDb3VudCA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5vdXRwdXRDaGFubmVsQ291bnQpXG4gICAgICAgICAgICA/IG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50XG4gICAgICAgICAgICA6IEFycmF5LmZyb20ob3B0aW9ucy5vdXRwdXRDaGFubmVsQ291bnQpO1xuICAgICAgICAvLyBAdG9kbyBDaGVjayBpZiBhbnkgb2YgdGhlIGNoYW5uZWxDb3VudCB2YWx1ZXMgaXMgZ3JlYXRlciB0aGFuIHRoZSBpbXBsZW1lbnRhdGlvbidzIG1heGltdW0gbnVtYmVyIG9mIGNoYW5uZWxzLlxuICAgICAgICBpZiAob3V0cHV0Q2hhbm5lbENvdW50LnNvbWUoKGNoYW5uZWxDb3VudCkgPT4gY2hhbm5lbENvdW50IDwgMSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dENoYW5uZWxDb3VudC5sZW5ndGggIT09IG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNjE6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHN0YW5kYXJkIGJ1dCByZXF1aXJlZCBmb3IgdGhlIGZha2VyIHRvIHdvcmsuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW5uZWxDb3VudE1vZGUgIT09ICdleHBsaWNpdCcpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtYmVyT2ZJbnB1dENoYW5uZWxzID0gb3B0aW9ucy5jaGFubmVsQ291bnQgKiBvcHRpb25zLm51bWJlck9mSW5wdXRzO1xuICAgICAgICBjb25zdCBudW1iZXJPZk91dHB1dENoYW5uZWxzID0gb3V0cHV0Q2hhbm5lbENvdW50LnJlZHVjZSgoc3VtLCB2YWx1ZSkgPT4gc3VtICsgdmFsdWUsIDApO1xuICAgICAgICBjb25zdCBudW1iZXJPZlBhcmFtZXRlcnMgPSBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycyA9PT0gdW5kZWZpbmVkID8gMCA6IHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzLmxlbmd0aDtcbiAgICAgICAgLy8gQnVnICM2MTogVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgc3RhbmRhcmQgYnV0IHJlcXVpcmVkIGZvciB0aGUgZmFrZXIgdG8gd29yay5cbiAgICAgICAgaWYgKG51bWJlck9mSW5wdXRDaGFubmVscyArIG51bWJlck9mUGFyYW1ldGVycyA+IDYgfHwgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyA+IDYpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZUNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY29uc3QgZ2Fpbk5vZGVzID0gW107XG4gICAgICAgIGNvbnN0IGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLm51bWJlck9mSW5wdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGdhaW5Ob2Rlcy5wdXNoKGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG9wdGlvbnMuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG9wdGlvbnMuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgIGdhaW46IDFcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXMucHVzaChjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgIG51bWJlck9mT3V0cHV0czogb3B0aW9ucy5jaGFubmVsQ291bnRcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGVzID0gW107XG4gICAgICAgIGlmIChwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBtYXhWYWx1ZSwgbWluVmFsdWUsIG5hbWUgfSBvZiBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnMucGFyYW1ldGVyRGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGFyYW1ldGVyRGF0YVtuYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCwge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gKGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gMCA6IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gKG1heFZhbHVlID09PSB1bmRlZmluZWQgPyBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCA6IG1heFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiAobWluVmFsdWUgPT09IHVuZGVmaW5lZCA/IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUIDogbWluVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGVzLnB1c2goY29uc3RhbnRTb3VyY2VOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnB1dENoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiBNYXRoLm1heCgxLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBudW1iZXJPZlBhcmFtZXRlcnMpXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBidWZmZXJTaXplID0gY29tcHV0ZUJ1ZmZlclNpemUoYmFzZUxhdGVuY3ksIG5hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgICAgIGNvbnN0IHNjcmlwdFByb2Nlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlKG5hdGl2ZUNvbnRleHQsIGJ1ZmZlclNpemUsIG51bWJlck9mSW5wdXRDaGFubmVscyArIG51bWJlck9mUGFyYW1ldGVycywgXG4gICAgICAgIC8vIEJ1ZyAjODc6IE9ubHkgRmlyZWZveCB3aWxsIGZpcmUgYW4gQXVkaW9Qcm9jZXNzaW5nRXZlbnQgaWYgdGhlcmUgaXMgbm8gY29ubmVjdGVkIG91dHB1dC5cbiAgICAgICAgTWF0aC5tYXgoMSwgbnVtYmVyT2ZPdXRwdXRDaGFubmVscykpO1xuICAgICAgICBjb25zdCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IE1hdGgubWF4KDEsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgIG51bWJlck9mT3V0cHV0czogTWF0aC5tYXgoMSwgbnVtYmVyT2ZPdXRwdXRDaGFubmVscylcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG91dHB1dENoYW5uZWxNZXJnZXJOb2Rlcy5wdXNoKGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IG91dHB1dENoYW5uZWxDb3VudFtpXVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICBnYWluTm9kZXNbaV0uY29ubmVjdChpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzW2ldKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5jaGFubmVsQ291bnQ7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXNbaV0uY29ubmVjdChpbnB1dENoYW5uZWxNZXJnZXJOb2RlLCBqLCBpICogb3B0aW9ucy5jaGFubmVsQ291bnQgKyBqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJNYXAgPSBuZXcgUmVhZE9ubHlNYXAocHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5tYXAoKHsgbmFtZSB9LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZSA9IGNvbnN0YW50U291cmNlTm9kZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0YW50U291cmNlTm9kZS5jb25uZWN0KGlucHV0Q2hhbm5lbE1lcmdlck5vZGUsIDAsIG51bWJlck9mSW5wdXRDaGFubmVscyArIGluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuc3RhcnQoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtuYW1lLCBjb25zdGFudFNvdXJjZU5vZGUub2Zmc2V0XTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgaW5wdXRDaGFubmVsTWVyZ2VyTm9kZS5jb25uZWN0KHNjcmlwdFByb2Nlc3Nvck5vZGUpO1xuICAgICAgICBsZXQgY2hhbm5lbEludGVycHJldGF0aW9uID0gb3B0aW9ucy5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgIGxldCBvbnByb2Nlc3NvcmVycm9yID0gbnVsbDtcbiAgICAgICAgLy8gQnVnICM4NzogRXhwb3NlIGF0IGxlYXN0IG9uZSBvdXRwdXQgdG8gbWFrZSB0aGlzIG5vZGUgY29ubmVjdGFibGUuXG4gICAgICAgIGNvbnN0IG91dHB1dEF1ZGlvTm9kZXMgPSBvcHRpb25zLm51bWJlck9mT3V0cHV0cyA9PT0gMCA/IFtzY3JpcHRQcm9jZXNzb3JOb2RlXSA6IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlcztcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlclNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudChfKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM2MTogVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgc3RhbmRhcmQgYnV0IHJlcXVpcmVkIGZvciB0aGUgZmFrZXIgdG8gd29yay5cbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUoXykge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNjE6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHN0YW5kYXJkIGJ1dCByZXF1aXJlZCBmb3IgdGhlIGZha2VyIHRvIHdvcmsuXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2Fpbk5vZGUgb2YgZ2Fpbk5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5jb250ZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9ucHJvY2Vzc29yZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ucHJvY2Vzc29yZXJyb3I7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IG9ucHJvY2Vzc29yZXJyb3IodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ucHJvY2Vzc29yZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2Nlc3NvcmVycm9yJywgb25wcm9jZXNzb3JlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9ucHJvY2Vzc29yZXJyb3IgPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbnByb2Nlc3NvcmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlci5hZGRFdmVudExpc3RlbmVyKCdwcm9jZXNzb3JlcnJvcicsIG9ucHJvY2Vzc29yZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcGFyYW1ldGVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1ldGVyTWFwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwb3J0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlQ2hhbm5lbC5wb3J0MjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5hZGRFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbm5lY3Q6IGNvbm5lY3RNdWx0aXBsZU91dHB1dHMuYmluZChudWxsLCBvdXRwdXRBdWRpb05vZGVzKSxcbiAgICAgICAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMuYmluZChudWxsLCBvdXRwdXRBdWRpb05vZGVzKSxcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc3BhdGNoRXZlbnQoYXJnc1swXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0Y2hlZEV2ZW50TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5hZGRFdmVudExpc3RlbmVyID0gKChhZGRFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIgPSB0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmdzWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBhcmdzWzFdID09PSAnb2JqZWN0JyAmJiBhcmdzWzFdICE9PSBudWxsICYmIHR5cGVvZiBhcmdzWzFdLmhhbmRsZUV2ZW50ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmdzWzFdLmhhbmRsZUV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5wYXRjaGVkRXZlbnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0Y2hlZEV2ZW50TGlzdGVuZXIgPSBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMuZ2V0KGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGNoZWRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKG5hdGl2ZUNvbnRleHQuY3VycmVudFRpbWUsIG5hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZSwgKCkgPT4gdW5wYXRjaGVkRXZlbnRMaXN0ZW5lcihldmVudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLnNldCh1bnBhdGNoZWRFdmVudExpc3RlbmVyLCBhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lci5jYWxsKG1lc3NhZ2VDaGFubmVsLnBvcnQxLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1lc3NhZ2VDaGFubmVsLnBvcnQxLmFkZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyID0gKChyZW1vdmVFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoZWRFdmVudExpc3RlbmVyID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLmdldChhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGNoZWRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWRFdmVudExpc3RlbmVycy5kZWxldGUoYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbChtZXNzYWdlQ2hhbm5lbC5wb3J0MSwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShtZXNzYWdlQ2hhbm5lbC5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyKTtcbiAgICAgICAgbGV0IG9ubWVzc2FnZSA9IG51bGw7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZXNzYWdlQ2hhbm5lbC5wb3J0MSwgJ29ubWVzc2FnZScsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gb25tZXNzYWdlLFxuICAgICAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ubWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25tZXNzYWdlID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25tZXNzYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDaGFubmVsLnBvcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHByb2Nlc3NvckNvbnN0cnVjdG9yLnByb3RvdHlwZS5wb3J0ID0gbWVzc2FnZUNoYW5uZWwucG9ydDE7XG4gICAgICAgIGxldCBhdWRpb1dvcmtsZXRQcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICBjb25zdCBhdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlID0gY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciwgcHJvY2Vzc29yQ29uc3RydWN0b3IsIG9wdGlvbnMpO1xuICAgICAgICBhdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlLnRoZW4oKGRXcmtsdFByY3NzcikgPT4gKGF1ZGlvV29ya2xldFByb2Nlc3NvciA9IGRXcmtsdFByY3NzcikpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBjcmVhdGVOZXN0ZWRBcnJheXMob3B0aW9ucy5udW1iZXJPZklucHV0cywgb3B0aW9ucy5jaGFubmVsQ291bnQpO1xuICAgICAgICBjb25zdCBvdXRwdXRzID0gY3JlYXRlTmVzdGVkQXJyYXlzKG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzLCBvdXRwdXRDaGFubmVsQ291bnQpO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5yZWR1Y2UoKHBybXRycywgeyBuYW1lIH0pID0+ICh7IC4uLnBybXRycywgW25hbWVdOiBuZXcgRmxvYXQzMkFycmF5KDEyOCkgfSksIHt9KTtcbiAgICAgICAgbGV0IGlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdE91dHB1dHNHcmFwaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm51bWJlck9mT3V0cHV0cyA+IDApIHtcbiAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc2Nvbm5lY3Qob3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCA9IDA7IGkgPCBvcHRpb25zLm51bWJlck9mT3V0cHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUgPSBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvdXRwdXRDaGFubmVsQ291bnRbaV07IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlLmRpc2Nvbm5lY3Qob3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKyBqLCBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArPSBvdXRwdXRDaGFubmVsQ291bnRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdGl2ZUlucHV0SW5kZXhlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSAoeyBpbnB1dEJ1ZmZlciwgb3V0cHV0QnVmZmVyIH0pID0+IHtcbiAgICAgICAgICAgIGlmIChhdWRpb1dvcmtsZXRQcm9jZXNzb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVJbnB1dHMgPSBnZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlcik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpICs9IDEyOCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvcHRpb25zLmNoYW5uZWxDb3VudDsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUZyb21DaGFubmVsKGlucHV0QnVmZmVyLCBpbnB1dHNbal0sIGssIGssIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5mb3JFYWNoKCh7IG5hbWUgfSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5RnJvbUNoYW5uZWwoaW5wdXRCdWZmZXIsIHBhcmFtZXRlcnMsIG5hbWUsIG51bWJlck9mSW5wdXRDaGFubmVscyArIGluZGV4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG91dHB1dENoYW5uZWxDb3VudFtqXTsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJ5dGVMZW5ndGggd2lsbCBiZSAwIHdoZW4gdGhlIEFycmF5QnVmZmVyIHdhcyB0cmFuc2ZlcnJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0cHV0c1tqXVtrXS5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dHNbal1ba10gPSBuZXcgRmxvYXQzMkFycmF5KDEyOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3RlbnRpYWxseUVtcHR5SW5wdXRzID0gaW5wdXRzLm1hcCgoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlSW5wdXQgPSBhY3RpdmVJbnB1dHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVJbnB1dC5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnB1dEluZGV4ZXMuc2V0KGluZGV4LCBidWZmZXJTaXplIC8gMTI4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGFjdGl2ZUlucHV0SW5kZXhlcy5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KChjaGFubmVsRGF0YSkgPT4gY2hhbm5lbERhdGEuZXZlcnkoKHNhbXBsZSkgPT4gc2FtcGxlID09PSAwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnB1dEluZGV4ZXMuZGVsZXRlKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlucHV0SW5kZXhlcy5zZXQoaW5kZXgsIGNvdW50IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTb3VyY2VGbGFnID0gZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUobmF0aXZlQ29udGV4dC5jdXJyZW50VGltZSArIGkgLyBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUsIG5hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZSwgKCkgPT4gYXVkaW9Xb3JrbGV0UHJvY2Vzc29yLnByb2Nlc3MocG90ZW50aWFsbHlFbXB0eUlucHV0cywgb3V0cHV0cywgcGFyYW1ldGVycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPSBhY3RpdmVTb3VyY2VGbGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgPSAwOyBqIDwgb3B0aW9ucy5udW1iZXJPZk91dHB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3V0cHV0Q2hhbm5lbENvdW50W2pdOyBrICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVRvQ2hhbm5lbChvdXRwdXRCdWZmZXIsIG91dHB1dHNbal0sIGssIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKyBrLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArPSBvdXRwdXRDaGFubmVsQ291bnRbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyLmRpc3BhdGNoRXZlbnQobmV3IEVycm9yRXZlbnQoJ3Byb2Nlc3NvcmVycm9yJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG5vOiBlcnJvci5jb2xubyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZXJyb3IuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZW5vOiBlcnJvci5saW5lbm8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2Fpbk5vZGVzW2pdLmRpc2Nvbm5lY3QoaW5wdXRDaGFubmVsU3BsaXR0ZXJOb2Rlc1tqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvcHRpb25zLmNoYW5uZWxDb3VudDsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXNbaV0uZGlzY29ubmVjdChpbnB1dENoYW5uZWxNZXJnZXJOb2RlLCBrLCBqICogb3B0aW9ucy5jaGFubmVsQ291bnQgKyBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZSA9IGNvbnN0YW50U291cmNlTm9kZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50U291cmNlTm9kZS5kaXNjb25uZWN0KGlucHV0Q2hhbm5lbE1lcmdlck5vZGUsIDAsIG51bWJlck9mSW5wdXRDaGFubmVscyArIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbE1lcmdlck5vZGUuZGlzY29ubmVjdChzY3JpcHRQcm9jZXNzb3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSBudWxsOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0T3V0cHV0c0dyYXBoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0RmFrZUdyYXBoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8vIEJ1ZyAjODc6IE9ubHkgRmlyZWZveCB3aWxsIGZpcmUgYW4gQXVkaW9Qcm9jZXNzaW5nRXZlbnQgaWYgdGhlcmUgaXMgbm8gY29ubmVjdGVkIG91dHB1dC5cbiAgICAgICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgZ2FpbjogMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29ubmVjdEZha2VHcmFwaCA9ICgpID0+IHNjcmlwdFByb2Nlc3Nvck5vZGUuY29ubmVjdChuYXRpdmVHYWluTm9kZSkuY29ubmVjdChuYXRpdmVDb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdEZha2VHcmFwaCA9ICgpID0+IHtcbiAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuZGlzY29ubmVjdChuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICBuYXRpdmVHYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdoZW5Db25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0RmFrZUdyYXBoKCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmNvbm5lY3Qob3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ID0gMDsgaSA8IG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUgPSBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3V0cHV0Q2hhbm5lbENvdW50W2ldOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUuY29ubmVjdChvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZSwgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArIGosIGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKz0gb3V0cHV0Q2hhbm5lbENvdW50W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RGYWtlR3JhcGgoKTtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0T3V0cHV0c0dyYXBoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0RmFrZUdyYXBoKCk7XG4gICAgICAgIHJldHVybiBtb25pdG9yQ29ubmVjdGlvbnMobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtZmFrZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBOT0RFX1RPX1BST0NFU1NPUl9NQVBTIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlIH0gZnJvbSAnLi9jcmVhdGUtYXVkaW8td29ya2xldC1wcm9jZXNzb3ItcHJvbWlzZSc7XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yID0gKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBhdWRpb1dvcmtsZXROb2RlT3B0aW9ucykgPT4ge1xuICAgIGxldCBub2RlVG9Qcm9jZXNzb3JNYXAgPSBOT0RFX1RPX1BST0NFU1NPUl9NQVBTLmdldChuYXRpdmVDb250ZXh0KTtcbiAgICBpZiAobm9kZVRvUHJvY2Vzc29yTWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZVRvUHJvY2Vzc29yTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgTk9ERV9UT19QUk9DRVNTT1JfTUFQUy5zZXQobmF0aXZlQ29udGV4dCwgbm9kZVRvUHJvY2Vzc29yTWFwKTtcbiAgICB9XG4gICAgY29uc3QgYXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZSA9IGNyZWF0ZUF1ZGlvV29ya2xldFByb2Nlc3NvclByb21pc2UocHJvY2Vzc29yQ29uc3RydWN0b3IsIGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbiAgICBub2RlVG9Qcm9jZXNzb3JNYXAuc2V0KG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGF1ZGlvV29ya2xldFByb2Nlc3NvclByb21pc2UpO1xuICAgIHJldHVybiBhdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci5qcy5tYXAiLCJpbXBvcnQgeyBjbG9uZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zIH0gZnJvbSAnLi9jbG9uZS1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZSA9IGFzeW5jIChwcm9jZXNzb3JDb25zdHJ1Y3RvciwgYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjbG9uZWRBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyA9IGF3YWl0IGNsb25lQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMoYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgcHJvY2Vzc29yQ29uc3RydWN0b3IoY2xvbmVkQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci1wcm9taXNlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjbG9uZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zID0gKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgeyBwb3J0MSwgcG9ydDIgfSA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBwb3J0MS5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgIHBvcnQxLmNsb3NlKCk7XG4gICAgICAgICAgICBwb3J0Mi5jbG9zZSgpO1xuICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgcG9ydDEub25tZXNzYWdlZXJyb3IgPSAoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgIHBvcnQxLmNsb3NlKCk7XG4gICAgICAgICAgICBwb3J0Mi5jbG9zZSgpO1xuICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGF1ZGlvV29ya2xldE5vZGVPcHRpb25zIGFyZSBub3QgY2xvbmFibGUuXG4gICAgICAgIHBvcnQyLnBvc3RNZXNzYWdlKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbG9uZS1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyB0ZXN0Q2xvbmFiaWxpdHlPZkF1ZGlvV29ya2xldE5vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy90ZXN0LWNsb25hYmlsaXR5LW9mLWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFjdG9yeSA9IChjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciwgbmFtZSwgcHJvY2Vzc29yQ29uc3RydWN0b3IsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlID0gbmV3IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvcihuYXRpdmVDb250ZXh0LCBuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgbGV0IG9ucHJvY2Vzc29yZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICogQnVnICM2MTogT3ZlcndyaXRpbmcgdGhlIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgY2hhbm5lbENvdW50IGFuZCBjaGFubmVsQ291bnRNb2RlIGlzIG5lY2Vzc2FyeSBhcyBsb25nIGFzIHNvbWVcbiAgICAgICAgICAgICAgICAgICAgICogYnJvd3NlcnMgaGF2ZSBubyBuYXRpdmUgaW1wbGVtZW50YXRpb24gdG8gYWNoaWV2ZSBhIGNvbnNpc3RlbnQgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gb3B0aW9ucy5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE1NjogQ2hyb21lIGFuZCBFZGdlIGRvIG5vdCB5ZXQgZmlyZSBhbiBFcnJvckV2ZW50LlxuICAgICAgICAgICAgICAgICAgICBvbnByb2Nlc3NvcmVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IG9ucHJvY2Vzc29yZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25wcm9jZXNzb3JlcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2Nlc3NvcmVycm9yJywgb25wcm9jZXNzb3JlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ucHJvY2Vzc29yZXJyb3IgPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbnByb2Nlc3NvcmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigncHJvY2Vzc29yZXJyb3InLCBvbnByb2Nlc3NvcmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLmFkZEV2ZW50TGlzdGVuZXIgPSAoKGFkZEV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSA9PT0gJ3Byb2Nlc3NvcmVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIgPSB0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFyZ3NbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgYXJnc1sxXSA9PT0gJ29iamVjdCcgJiYgYXJnc1sxXSAhPT0gbnVsbCAmJiB0eXBlb2YgYXJnc1sxXS5oYW5kbGVFdmVudCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmdzWzFdLmhhbmRsZUV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0Y2hlZEV2ZW50TGlzdGVuZXIgPSBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMuZ2V0KGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZEV2ZW50TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IHBhdGNoZWRFdmVudExpc3RlbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTc4OiBDaHJvbWUgYW5kIEVkZ2UgZG8gZmlyZSBhbiBldmVudCBvZiB0eXBlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IHZhbHVlOiAncHJvY2Vzc29yZXJyb3InIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5wYXRjaGVkRXZlbnRMaXN0ZW5lcihuZXcgRXJyb3JFdmVudChhcmdzWzBdLCB7IC4uLmV2ZW50IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLnNldCh1bnBhdGNoZWRFdmVudExpc3RlbmVyLCBhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTc4OiBDaHJvbWUgYW5kIEVkZ2UgZG8gZmlyZSBhbiBldmVudCBvZiB0eXBlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsICdlcnJvcicsIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShuYXRpdmVBdWRpb1dvcmtsZXROb2RlLmFkZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9ICgocmVtb3ZlRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdID09PSAncHJvY2Vzc29yZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0Y2hlZEV2ZW50TGlzdGVuZXIgPSBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMuZ2V0KGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWRFdmVudExpc3RlbmVycy5kZWxldGUoYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0gPSBwYXRjaGVkRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE3ODogQ2hyb21lIGFuZCBFZGdlIGRvIGZpcmUgYW4gZXZlbnQgb2YgdHlwZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCAnZXJyb3InLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVFdmVudExpc3RlbmVyLmNhbGwobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjODY6IENocm9tZSBhbmQgRWRnZSBkbyBub3QgaW52b2tlIHRoZSBwcm9jZXNzKCkgZnVuY3Rpb24gaWYgdGhlIGNvcnJlc3BvbmRpbmcgQXVkaW9Xb3JrbGV0Tm9kZSBpcyB1bmNvbm5lY3RlZCBidXRcbiAgICAgICAgICAgICAgICAgKiBoYXMgYW4gb3V0cHV0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm51bWJlck9mT3V0cHV0cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYWluOiAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLmNvbm5lY3QobmF0aXZlR2Fpbk5vZGUpLmNvbm5lY3QobmF0aXZlQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZW5Db25uZWN0ZWQgPSAoKSA9PiBuYXRpdmVHYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZW5EaXNjb25uZWN0ZWQgPSAoKSA9PiBuYXRpdmVHYWluTm9kZS5jb25uZWN0KG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbyBEaXNjb25uZWN0IHRoZSBjb25uZWN0aW9uIHdoZW4gdGhlIHByb2Nlc3MoKSBmdW5jdGlvbiBvZiB0aGUgQXVkaW9Xb3JrbGV0Tm9kZSByZXR1cm5zIGZhbHNlLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9uaXRvckNvbm5lY3Rpb25zKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzYwOiBDaHJvbWUgJiBFZGdlIHRocm93IGFuIEludmFsaWRTdGF0ZUVycm9yIGluc3RlYWQgb2YgYSBOb3RTdXBwb3J0ZWRFcnJvci5cbiAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzYxOiBPbmx5IENocm9tZSAmIEVkZ2UgaGF2ZSBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQXVkaW9Xb3JrbGV0Tm9kZSB5ZXQuXG4gICAgICAgIGlmIChwcm9jZXNzb3JDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRlc3RDbG9uYWJpbGl0eU9mQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBvcHRpb25zKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdENsb25hYmlsaXR5T2ZBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyA9IChhdWRpb1dvcmtsZXROb2RlT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgcG9ydDEgfSA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgYXJlIG5vdCBjbG9uYWJsZS5cbiAgICAgICAgcG9ydDEucG9zdE1lc3NhZ2UoYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgcG9ydDEuY2xvc2UoKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1jbG9uYWJpbGl0eS1vZi1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlR2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCA9IChiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZS5nZXQobmF0aXZlQ29udGV4dCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlU2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyA9IChhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGFjdGl2ZUlucHV0cykgPT4ge1xuICAgICAgICBhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUuc2V0KG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGFjdGl2ZUlucHV0cyk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtYWN0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1pbnB1dHMuanMubWFwIiwiZXhwb3J0IGNvbnN0IHNhbml0aXplQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIG91dHB1dENoYW5uZWxDb3VudDogb3B0aW9ucy5vdXRwdXRDaGFubmVsQ291bnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLm91dHB1dENoYW5uZWxDb3VudFxuICAgICAgICAgICAgOiBvcHRpb25zLm51bWJlck9mSW5wdXRzID09PSAxICYmIG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzID09PSAxXG4gICAgICAgICAgICAgICAgPyAvKlxuICAgICAgICAgICAgICAgICAgICogQnVnICM2MTogVGhpcyBzaG91bGQgYmUgdGhlIGNvbXB1dGVkTnVtYmVyT2ZDaGFubmVscywgYnV0IHVuZm9ydHVuYXRlbHkgdGhhdCBpcyBhbG1vc3QgaW1wb3NzaWJsZSB0byBmYWtlLiBUaGF0J3Mgd2h5XG4gICAgICAgICAgICAgICAgICAgKiB0aGUgY2hhbm5lbENvdW50TW9kZSBpcyByZXF1aXJlZCB0byBiZSAnZXhwbGljaXQnIGFzIGxvbmcgYXMgdGhlcmUgaXMgbm90IGEgbmF0aXZlIGltcGxlbWVudGF0aW9uIGluIGV2ZXJ5IGJyb3dzZXIuIFRoYXRcbiAgICAgICAgICAgICAgICAgICAqIG1ha2VzIHN1cmUgdGhlIGNvbXB1dGVkTnVtYmVyT2ZDaGFubmVscyBpcyBlcXVpdmlsYW50IHRvIHRoZSBjaGFubmVsQ291bnQgd2hpY2ggbWFrZXMgaXQgbXVjaCBlYXNpZXIgdG8gY29tcHV0ZS5cbiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucy5jaGFubmVsQ291bnRdXG4gICAgICAgICAgICAgICAgOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBvcHRpb25zLm51bWJlck9mT3V0cHV0cyB9LCAoKSA9PiAxKVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemUtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb1dvcmtsZXROb2RlT3B0aW9uc0Nsb25hYmlsaXR5ID0gKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBwb3J0MSwgcG9ydDIgfSA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgYXJlIG5vdCBjbG9uYWJsZS5cbiAgICAgICAgcG9ydDEucG9zdE1lc3NhZ2UoYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgcG9ydDEuY2xvc2UoKTtcbiAgICAgICAgcG9ydDIuY2xvc2UoKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy1jbG9uYWJpbGl0eS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQ3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IChjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIChudW1iZXJPZkNoYW5uZWxzLCBsZW5ndGgsIHNhbXBsZVJhdGUpID0+IHtcbiAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE0MywgIzE0NCAmICMxNDY6IFNhZmFyaSB0aHJvd3MgYSBTeW50YXhFcnJvciB3aGVuIG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCBvciBzYW1wbGVSYXRlIGFyZSBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKGVyci5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMubWFwIiwiaW1wb3J0IHsgd3JhcEF1ZGlvQnVmZmVyR2V0Q2hhbm5lbERhdGFNZXRob2QgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tYnVmZmVyLWdldC1jaGFubmVsLWRhdGEtbWV0aG9kJztcbmV4cG9ydCBjb25zdCBjcmVhdGVTdGFydFJlbmRlcmluZyA9IChhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGdldEF1ZGlvTm9kZVJlbmRlcmVyLCBnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMsIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcykgPT4ge1xuICAgIHJldHVybiAoZGVzdGluYXRpb24sIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IGdldEF1ZGlvTm9kZVJlbmRlcmVyKGRlc3RpbmF0aW9uKVxuICAgICAgICAucmVuZGVyKGRlc3RpbmF0aW9uLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KVxuICAgICAgICAvKlxuICAgICAgICAgKiBCdWcgIzg2ICYgIzg3OiBJbnZva2luZyB0aGUgcmVuZGVyZXIgb2YgYW4gQXVkaW9Xb3JrbGV0Tm9kZSBtaWdodCBiZSBuZWNlc3NhcnkgaWYgaXQgaGFzIG5vIGRpcmVjdCBvciBpbmRpcmVjdCBjb25uZWN0aW9uIHRvIHRoZVxuICAgICAgICAgKiBkZXN0aW5hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIC50aGVuKCgpID0+IFByb21pc2UuYWxsKEFycmF5LmZyb20oZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpKS5tYXAoKGF1ZGlvV29ya2xldE5vZGUpID0+IGdldEF1ZGlvTm9kZVJlbmRlcmVyKGF1ZGlvV29ya2xldE5vZGUpLnJlbmRlcihhdWRpb1dvcmtsZXROb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSkpKVxuICAgICAgICAudGhlbigoKSA9PiByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpKVxuICAgICAgICAudGhlbigoYXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgLy8gQnVnICM1OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjb3B5RnJvbUNoYW5uZWwoKSBhbmQgY29weVRvQ2hhbm5lbCgpLlxuICAgICAgICAvLyBCdWcgIzEwMDogU2FmYXJpIGRvZXMgdGhyb3cgYSB3cm9uZyBlcnJvciB3aGVuIGNhbGxpbmcgZ2V0Q2hhbm5lbERhdGEoKSB3aXRoIGFuIG91dC1vZi1ib3VuZHMgdmFsdWUuXG4gICAgICAgIGlmICh0eXBlb2YgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyR2V0Q2hhbm5lbERhdGFNZXRob2QoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgLy8gQnVnICMxNTc6IEZpcmVmb3ggZG9lcyBub3QgYWxsb3cgdGhlIGJ1ZmZlck9mZnNldCB0byBiZSBvdXQtb2YtYm91bmRzLlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQoYXVkaW9CdWZmZXIpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMoYXVkaW9CdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGF1ZGlvQnVmZmVyU3RvcmUuYWRkKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyO1xuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0LXJlbmRlcmluZy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNBbnlBdWRpb0NvbnRleHQgPSAoY29udGV4dFN0b3JlLCBpc05hdGl2ZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiAoYW55dGhpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGNvbnRleHRTdG9yZS5nZXQoYW55dGhpbmcpO1xuICAgICAgICByZXR1cm4gaXNOYXRpdmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkgfHwgaXNOYXRpdmVBdWRpb0NvbnRleHQoYW55dGhpbmcpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtYW55LWF1ZGlvLWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzQW55QXVkaW9Ob2RlID0gKGF1ZGlvTm9kZVN0b3JlLCBpc05hdGl2ZUF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoYW55dGhpbmcpID0+IGF1ZGlvTm9kZVN0b3JlLmhhcyhhbnl0aGluZykgfHwgaXNOYXRpdmVBdWRpb05vZGUoYW55dGhpbmcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFueS1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc0FueUF1ZGlvUGFyYW0gPSAoYXVkaW9QYXJhbVN0b3JlLCBpc05hdGl2ZUF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiBhdWRpb1BhcmFtU3RvcmUuaGFzKGFueXRoaW5nKSB8fCBpc05hdGl2ZUF1ZGlvUGFyYW0oYW55dGhpbmcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFueS1hdWRpby1wYXJhbS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0ID0gKGNvbnRleHRTdG9yZSwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gY29udGV4dFN0b3JlLmdldChhbnl0aGluZyk7XG4gICAgICAgIHJldHVybiBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkgfHwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KGFueXRoaW5nKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFueS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMubWFwIiwiLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgc3RhdGVtZW50IGlzIHRydWUsIG90aGVyd2lzZSBpbnZva2UgdGhlIGVycm9yLlxuICogQHBhcmFtIHN0YXRlbWVudFxuICogQHBhcmFtIGVycm9yIFRoZSBtZXNzYWdlIHdoaWNoIGlzIHBhc3NlZCBpbnRvIGFuIEVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoc3RhdGVtZW50LCBlcnJvcikge1xuICAgIGlmICghc3RhdGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxufVxuLyoqXG4gKiBNYWtlIHN1cmUgdGhhdCB0aGUgZ2l2ZW4gdmFsdWUgaXMgd2l0aGluIHRoZSByYW5nZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UmFuZ2UodmFsdWUsIGd0ZSwgbHRlID0gSW5maW5pdHkpIHtcbiAgICBpZiAoIShndGUgPD0gdmFsdWUgJiYgdmFsdWUgPD0gbHRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVmFsdWUgbXVzdCBiZSB3aXRoaW4gWyR7Z3RlfSwgJHtsdGV9XSwgZ290OiAke3ZhbHVlfWApO1xuICAgIH1cbn1cbi8qKlxuICogTWFrZSBzdXJlIHRoYXQgdGhlIGdpdmVuIHZhbHVlIGlzIHdpdGhpbiB0aGUgcmFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydENvbnRleHRSdW5uaW5nKGNvbnRleHQpIHtcbiAgICAvLyBhZGQgYSB3YXJuaW5nIGlmIHRoZSBjb250ZXh0IGlzIG5vdCBzdGFydGVkXG4gICAgaWYgKCFjb250ZXh0LmlzT2ZmbGluZSAmJiBjb250ZXh0LnN0YXRlICE9PSBcInJ1bm5pbmdcIikge1xuICAgICAgICB3YXJuKFwiVGhlIEF1ZGlvQ29udGV4dCBpcyBcXFwic3VzcGVuZGVkXFxcIi4gSW52b2tlIFRvbmUuc3RhcnQoKSBmcm9tIGEgdXNlciBhY3Rpb24gdG8gc3RhcnQgdGhlIGF1ZGlvLlwiKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IGxvZ2dlciBpcyB0aGUgY29uc29sZVxuICovXG5sZXQgZGVmYXVsdExvZ2dlciA9IGNvbnNvbGU7XG4vKipcbiAqIFNldCB0aGUgbG9nZ2luZyBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ2dlcihsb2dnZXIpIHtcbiAgICBkZWZhdWx0TG9nZ2VyID0gbG9nZ2VyO1xufVxuLyoqXG4gKiBMb2cgYW55dGhpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG4gICAgZGVmYXVsdExvZ2dlci5sb2coLi4uYXJncyk7XG59XG4vKipcbiAqIFdhcm4gYW55dGhpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm4oLi4uYXJncykge1xuICAgIGRlZmF1bHRMb2dnZXIud2FybiguLi5hcmdzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlYnVnLmpzLm1hcCIsIi8qKlxuICogVGVzdCBpZiB0aGUgYXJnIGlzIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJnIGlzIG5vdCB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5lZChhcmcpIHtcbiAgICByZXR1cm4gIWlzVW5kZWYoYXJnKTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJnIGlzIGEgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBhcmcgPT09IFwibnVtYmVyXCIpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBnaXZlbiBhcmd1bWVudCBpcyBhbiBvYmplY3QgbGl0ZXJhbCAoaS5lLiBge31gKTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09IFwiW29iamVjdCBPYmplY3RdXCIgJiYgYXJnLmNvbnN0cnVjdG9yID09PSBPYmplY3QpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmd1bWVudCBpcyBhIGJvb2xlYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYXJnID09PSBcImJvb2xlYW5cIik7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIEFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShhcmcpKTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJndW1lbnQgaXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmd1bWVudCBpcyBpbiB0aGUgZm9ybSBvZiBhIG5vdGUgaW4gc2NpZW50aWZpYyBwaXRjaCBub3RhdGlvbi5cbiAqIGUuZy4gXCJDNFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc05vdGUoYXJnKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKGFyZykgJiYgL14oW2EtZ117MX0oPzpifCN8eHxiYik/KSgtP1swLTldKykvaS50ZXN0KGFyZyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UeXBlQ2hlY2suanMubWFwIiwiaW1wb3J0IHsgQXVkaW9Db250ZXh0IGFzIHN0ZEF1ZGlvQ29udGV4dCwgQXVkaW9Xb3JrbGV0Tm9kZSBhcyBzdGRBdWRpb1dvcmtsZXROb2RlLCBPZmZsaW5lQXVkaW9Db250ZXh0IGFzIHN0ZE9mZmxpbmVBdWRpb0NvbnRleHQgfSBmcm9tIFwic3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHRcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXVkaW9Db250ZXh0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IHN0ZEF1ZGlvQ29udGV4dChvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IE9mZmxpbmVBdWRpb0NvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9mZmxpbmVBdWRpb0NvbnRleHQoY2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSkge1xuICAgIHJldHVybiBuZXcgc3RkT2ZmbGluZUF1ZGlvQ29udGV4dChjaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTtcbn1cbi8qKlxuICogQSByZWZlcmVuY2UgdG8gdGhlIHdpbmRvdyBvYmplY3RcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNvbnN0IHRoZVdpbmRvdyA9IHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IG51bGw7XG4vKipcbiAqIElmIHRoZSBicm93c2VyIGhhcyBhIHdpbmRvdyBvYmplY3Qgd2hpY2ggaGFzIGFuIEF1ZGlvQ29udGV4dFxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgaGFzQXVkaW9Db250ZXh0ID0gdGhlV2luZG93ICYmXG4gICAgKHRoZVdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvQ29udGV4dFwiKSB8fCB0aGVXaW5kb3cuaGFzT3duUHJvcGVydHkoXCJ3ZWJraXRBdWRpb0NvbnRleHRcIikpO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGUoY29udGV4dCwgbmFtZSwgb3B0aW9ucykge1xuICAgIGFzc2VydChpc0RlZmluZWQoc3RkQXVkaW9Xb3JrbGV0Tm9kZSksIFwiVGhpcyBub2RlIG9ubHkgd29ya3MgaW4gYSBzZWN1cmUgY29udGV4dCAoaHR0cHMgb3IgbG9jYWxob3N0KVwiKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIG5ldyBzdGRBdWRpb1dvcmtsZXROb2RlKGNvbnRleHQsIG5hbWUsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBUaGlzIHByb21pc2UgcmVzb2x2ZXMgdG8gYSBib29sZWFuIHdoaWNoIGluZGljYXRlcyBpZiB0aGVcbiAqIGZ1bmN0aW9uYWxpdHkgaXMgc3VwcG9ydGVkIHdpdGhpbiB0aGUgY3VycmVudGx5IHVzZWQgYnJvd3NlLlxuICogVGFrZW4gZnJvbSBbc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHRdKGh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2d1dHRhbmRpbi9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dCNpc3N1cHBvcnRlZClcbiAqL1xuZXhwb3J0IHsgaXNTdXBwb3J0ZWQgYXMgc3VwcG9ydGVkIH0gZnJvbSBcInN0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdWRpb0NvbnRleHQuanMubWFwIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5cbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gIG9bXCJkZWZhdWx0XCJdID0gdjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZTtcbiAgICBpZiAoYXN5bmMpIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcbiAgfVxuICBlbHNlIGlmIChhc3luYykge1xuICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XG4gIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcbiAgICAgIHZhciByZWMgPSBlbnYuc3RhY2sucG9wKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjLmRpc3Bvc2UgJiYgcmVjLmRpc3Bvc2UuY2FsbChyZWMudmFsdWUpO1xuICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxufTtcbiIsIi8qKlxuICogQSBjbGFzcyB3aGljaCBwcm92aWRlcyBhIHJlbGlhYmxlIGNhbGxiYWNrIHVzaW5nIGVpdGhlclxuICogYSBXZWIgV29ya2VyLCBvciBpZiB0aGF0IGlzbid0IHN1cHBvcnRlZCwgZmFsbHMgYmFjayB0byBzZXRUaW1lb3V0LlxuICovXG5leHBvcnQgY2xhc3MgVGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgdHlwZSwgdXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVydmFsID0gdXBkYXRlSW50ZXJ2YWw7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY2xvY2sgc291cmNlIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICB0aGlzLl9jcmVhdGVDbG9jaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHdlYiB3b3JrZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlV29ya2VyKCkge1xuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW1xuICAgICAgICAgICAgLyogamF2YXNjcmlwdCAqLyBgXG5cdFx0XHQvLyB0aGUgaW5pdGlhbCB0aW1lb3V0IHRpbWVcblx0XHRcdGxldCB0aW1lb3V0VGltZSA9ICAkeyh0aGlzLl91cGRhdGVJbnRlcnZhbCAqIDEwMDApLnRvRml4ZWQoMSl9O1xuXHRcdFx0Ly8gb25tZXNzYWdlIGNhbGxiYWNrXG5cdFx0XHRzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKG1zZyl7XG5cdFx0XHRcdHRpbWVvdXRUaW1lID0gcGFyc2VJbnQobXNnLmRhdGEpO1xuXHRcdFx0fTtcblx0XHRcdC8vIHRoZSB0aWNrIGZ1bmN0aW9uIHdoaWNoIHBvc3RzIGEgbWVzc2FnZVxuXHRcdFx0Ly8gYW5kIHNjaGVkdWxlcyBhIG5ldyB0aWNrXG5cdFx0XHRmdW5jdGlvbiB0aWNrKCl7XG5cdFx0XHRcdHNldFRpbWVvdXQodGljaywgdGltZW91dFRpbWUpO1xuXHRcdFx0XHRzZWxmLnBvc3RNZXNzYWdlKCd0aWNrJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBjYWxsIHRpY2sgaW5pdGlhbGx5XG5cdFx0XHR0aWNrKCk7XG5cdFx0XHRgXG4gICAgICAgIF0sIHsgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIiB9KTtcbiAgICAgICAgY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoYmxvYlVybCk7XG4gICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSB0aGlzLl9jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl93b3JrZXIgPSB3b3JrZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRpbWVvdXQgbG9vcFxuICAgICAqL1xuICAgIF9jcmVhdGVUaW1lb3V0KCkge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xuICAgICAgICB9LCB0aGlzLl91cGRhdGVJbnRlcnZhbCAqIDEwMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGNsb2NrIHNvdXJjZS5cbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSBcIndvcmtlclwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVdvcmtlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JrZXJzIG5vdCBzdXBwb3J0ZWQsIGZhbGxiYWNrIHRvIHRpbWVvdXRcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gXCJ0aW1lb3V0XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlQ2xvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90eXBlID09PSBcInRpbWVvdXRcIikge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSBjdXJyZW50IGNsb2NrIHNvdXJjZVxuICAgICAqL1xuICAgIF9kaXNwb3NlQ2xvY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIub25tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmF0ZSBpbiBzZWNvbmRzIHRoZSB0aWNrZXIgd2lsbCB1cGRhdGVcbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlSW50ZXJ2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnRlcnZhbDtcbiAgICB9XG4gICAgc2V0IHVwZGF0ZUludGVydmFsKGludGVydmFsKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVydmFsID0gTWF0aC5tYXgoaW50ZXJ2YWwsIDEyOCAvIDQ0MTAwKTtcbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IFwid29ya2VyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZShNYXRoLm1heChpbnRlcnZhbCAqIDEwMDAsIDEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdGlja2VyLCBlaXRoZXIgYSB3b3JrZXIgb3IgYSB0aW1lb3V0XG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICBzZXQgdHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VDbG9jaygpO1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQ2xvY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9kaXNwb3NlQ2xvY2soKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXIuanMubWFwIiwiaW1wb3J0IHsgaXNBbnlBdWRpb0NvbnRleHQsIGlzQW55QXVkaW9Ob2RlLCBpc0FueUF1ZGlvUGFyYW0sIGlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCwgfSBmcm9tIFwic3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHRcIjtcbi8qKlxuICogVGVzdCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gaW5zdGFuY2VvZiBBdWRpb1BhcmFtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F1ZGlvUGFyYW0oYXJnKSB7XG4gICAgcmV0dXJuIGlzQW55QXVkaW9QYXJhbShhcmcpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBpbnN0YW5jZW9mIEF1ZGlvTm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdWRpb05vZGUoYXJnKSB7XG4gICAgcmV0dXJuIGlzQW55QXVkaW9Ob2RlKGFyZyk7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyBpbnN0YW5jZW9mIGFuIE9mZmxpbmVBdWRpb0NvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2ZmbGluZUF1ZGlvQ29udGV4dChhcmcpIHtcbiAgICByZXR1cm4gaXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0KGFyZyk7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyBhbiBpbnN0YW5jZW9mIEF1ZGlvQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdWRpb0NvbnRleHQoYXJnKSB7XG4gICAgcmV0dXJuIGlzQW55QXVkaW9Db250ZXh0KGFyZyk7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyBpbnN0YW5jZW9mIGFuIEF1ZGlvQnVmZmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F1ZGlvQnVmZmVyKGFyZykge1xuICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBBdWRpb0J1ZmZlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFkdmFuY2VkVHlwZUNoZWNrLmpzLm1hcCIsImltcG9ydCB7IGlzQXVkaW9CdWZmZXIsIGlzQXVkaW9Ob2RlLCBpc0F1ZGlvUGFyYW0gfSBmcm9tIFwiLi9BZHZhbmNlZFR5cGVDaGVja1wiO1xuaW1wb3J0IHsgaXNEZWZpbmVkLCBpc09iamVjdCwgaXNVbmRlZiB9IGZyb20gXCIuL1R5cGVDaGVja1wiO1xuLyoqXG4gKiBTb21lIG9iamVjdHMgc2hvdWxkIG5vdCBiZSBtZXJnZWRcbiAqL1xuZnVuY3Rpb24gbm9Db3B5KGtleSwgYXJnKSB7XG4gICAgcmV0dXJuIGtleSA9PT0gXCJ2YWx1ZVwiIHx8IGlzQXVkaW9QYXJhbShhcmcpIHx8IGlzQXVkaW9Ob2RlKGFyZykgfHwgaXNBdWRpb0J1ZmZlcihhcmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQsIC4uLnNvdXJjZXMpIHtcbiAgICBpZiAoIXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICBpZiAoaXNPYmplY3QodGFyZ2V0KSAmJiBpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKG5vQ29weShrZXksIHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB7IFtrZXldOiB7fSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVlcE1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgeyBba2V5XTogc291cmNlW2tleV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBkZWVwTWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gYXJyYXlzIGhhdmUgdGhlIHNhbWUgdmFsdWUgZm9yIGVhY2ggb2YgdGhlIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWxzKGFycmF5QSwgYXJyYXlCKSB7XG4gICAgcmV0dXJuIGFycmF5QS5sZW5ndGggPT09IGFycmF5Qi5sZW5ndGggJiYgYXJyYXlBLmV2ZXJ5KChlbGVtZW50LCBpbmRleCkgPT4gYXJyYXlCW2luZGV4XSA9PT0gZWxlbWVudCk7XG59XG4vKipcbiAqIENvbnZlcnQgYW4gYXJncyBhcnJheSBpbnRvIGFuIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbnNGcm9tQXJndW1lbnRzKGRlZmF1bHRzLCBhcmdzQXJyYXksIGtleXMgPSBbXSwgb2JqS2V5KSB7XG4gICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3NBcnJheSk7XG4gICAgLy8gaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIG9iamVjdCBhbmQgaGFzIGFuIG9iamVjdCBrZXlcbiAgICBpZiAoaXNPYmplY3QoYXJnc1swXSkgJiYgb2JqS2V5ICYmICFSZWZsZWN0LmhhcyhhcmdzWzBdLCBvYmpLZXkpKSB7XG4gICAgICAgIC8vIGlmIGl0J3Mgbm90IHBhcnQgb2YgdGhlIGRlZmF1bHRzXG4gICAgICAgIGNvbnN0IHBhcnRPZkRlZmF1bHRzID0gT2JqZWN0LmtleXMoYXJnc1swXSkuc29tZShrZXkgPT4gUmVmbGVjdC5oYXMoZGVmYXVsdHMsIGtleSkpO1xuICAgICAgICBpZiAoIXBhcnRPZkRlZmF1bHRzKSB7XG4gICAgICAgICAgICAvLyBtZXJnZSB0aGF0IGtleVxuICAgICAgICAgICAgZGVlcE1lcmdlKG9wdHMsIHsgW29iaktleV06IGFyZ3NbMF0gfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG9iaiBrZXkgZnJvbSB0aGUga2V5c1xuICAgICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKG9iaktleSksIDEpO1xuICAgICAgICAgICAgLy8gc2hpZnQgdGhlIGZpcnN0IGFyZ3VtZW50IG9mZlxuICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc09iamVjdChhcmdzWzBdKSkge1xuICAgICAgICBkZWVwTWVyZ2Uob3B0cywgYXJnc1swXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBvcHRzW2tleXNbaV1dID0gYXJnc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVlcE1lcmdlKGRlZmF1bHRzLCBvcHRzKTtcbn1cbi8qKlxuICogUmV0dXJuIHRoaXMgaW5zdGFuY2VzIGRlZmF1bHQgdmFsdWVzIGJ5IGNhbGxpbmcgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdHMoKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdHNGcm9tSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuY29uc3RydWN0b3IuZ2V0RGVmYXVsdHMoKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZmFsbGJhY2sgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyB1bmRlZmluZWQuXG4gKiBUYWtlIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJuIGEgZm9ybWF0dGVkIG9wdGlvbnMgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEFyZyhnaXZlbiwgZmFsbGJhY2spIHtcbiAgICBpZiAoaXNVbmRlZihnaXZlbikpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdpdmVuO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlIGFsbCBvZiB0aGUgcHJvcGVydGllcyBiZWxvbmdpbmcgdG8gb21pdCBmcm9tIG9iai5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9taXRGcm9tT2JqZWN0KG9iaiwgb21pdCkge1xuICAgIG9taXQuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgaWYgKFJlZmxlY3QuaGFzKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbcHJvcF07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdHMuanMubWFwIiwiLyoqXG4gKiBUb25lLmpzXG4gKiBAYXV0aG9yIFlvdGFtIE1hbm5cbiAqIEBsaWNlbnNlIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQgTUlUIExpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxNC0yMDE5IFlvdGFtIE1hbm5cbiAqL1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi92ZXJzaW9uXCI7XG5pbXBvcnQgeyB0aGVXaW5kb3cgfSBmcm9tIFwiLi9jb250ZXh0L0F1ZGlvQ29udGV4dFwiO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSBcIi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBAY2xhc3MgIFRvbmUgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIG90aGVyIGNsYXNzZXMuXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFx0REVCVUdHSU5HXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoaXMgZGVidWcgZmxhZyB0byBsb2cgYWxsIGV2ZW50cyB0aGF0IGhhcHBlbiBpbiB0aGlzIGNsYXNzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gXHRESVNQT1NJTkdcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGluc3RhbmNlIHdhcyBkaXNwb3NlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2FzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgb2YgdGhlIGRlZmF1bHQgb3B0aW9ucyBiZWxvbmdpbmcgdG8gdGhlIGNsYXNzLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmludHMgdGhlIG91dHB1dHMgdG8gdGhlIGNvbnNvbGUgbG9nIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICogUHJpbnRzIHRoZSBjb250ZW50cyBvbmx5IGlmIGVpdGhlciB0aGUgb2JqZWN0IGhhcyBhIHByb3BlcnR5XG4gICAgICogY2FsbGVkIGBkZWJ1Z2Agc2V0IHRvIHRydWUsIG9yIGEgdmFyaWFibGUgY2FsbGVkIFRPTkVfREVCVUdfQ0xBU1NcbiAgICAgKiBpcyBzZXQgdG8gdGhlIG5hbWUgb2YgdGhlIGNsYXNzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpO1xuICAgICAqIC8vIHByaW50cyBhbGwgbG9ncyBvcmlnaW5hdGluZyBmcm9tIHRoaXMgb3NjaWxsYXRvclxuICAgICAqIG9zYy5kZWJ1ZyA9IHRydWU7XG4gICAgICogLy8gY2FsbHMgdG8gc3RhcnQvc3RvcCB3aWxsIHByaW50IGluIHRoZSBjb25zb2xlXG4gICAgICogb3NjLnN0YXJ0KCk7XG4gICAgICovXG4gICAgbG9nKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBlaXRoZXIgc2V0IHRvIGRlYnVnID0gdHJ1ZVxuICAgICAgICAvLyBvciBpZiB0aGVyZSBpcyBhIHN0cmluZyBvbiB0aGUgVG9uZS5nbG9iYWwud2l0aCB0aGUgY2xhc3MgbmFtZVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZyB8fCAodGhlV2luZG93ICYmIHRoaXMudG9TdHJpbmcoKSA9PT0gdGhlV2luZG93LlRPTkVfREVCVUdfQ0xBU1MpKSB7XG4gICAgICAgICAgICBsb2codGhpcywgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZGlzY29ubmVjdCBhbmQgZGlzcG9zZS5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl93YXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGluc3RhbmNlIHdhcyBkaXNwb3NlZC4gJ0Rpc3Bvc2luZycgYW5cbiAgICAgKiBpbnN0YW5jZSBtZWFucyB0aGF0IGFsbCBvZiB0aGUgV2ViIEF1ZGlvIG5vZGVzIHRoYXQgd2VyZVxuICAgICAqIGNyZWF0ZWQgZm9yIHRoZSBpbnN0YW5jZSBhcmUgZGlzY29ubmVjdGVkIGFuZCBmcmVlZCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBkaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBjbGFzcyB0byBhIHN0cmluZ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpO1xuICAgICAqIGNvbnNvbGUubG9nKG9zYy50b1N0cmluZygpKTtcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSB2ZXJzaW9uIG51bWJlciBzZW12ZXJcbiAqL1xuVG9uZS52ZXJzaW9uID0gdmVyc2lvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvbmUuanMubWFwIiwiLyoqXG4gKiBUaGUgdGhyZXNob2xkIGZvciBjb3JyZWN0bmVzcyBmb3Igb3BlcmF0b3JzLiBMZXNzIHRoYW4gb25lIHNhbXBsZSBldmVuXG4gKiBhdCB2ZXJ5IGhpZ2ggc2FtcGxpbmcgcmF0ZXMgKGUuZy4gYDFlLTYgPCAxIC8gMTkyMDAwYCkuXG4gKi9cbmNvbnN0IEVQU0lMT04gPSAxZS02O1xuLyoqXG4gKiBUZXN0IGlmIEEgaXMgZ3JlYXRlciB0aGFuIEJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdUKGEsIGIpIHtcbiAgICByZXR1cm4gYSA+IGIgKyBFUFNJTE9OO1xufVxuLyoqXG4gKiBUZXN0IGlmIEEgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIEJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdURShhLCBiKSB7XG4gICAgcmV0dXJuIEdUKGEsIGIpIHx8IEVRKGEsIGIpO1xufVxuLyoqXG4gKiBUZXN0IGlmIEEgaXMgbGVzcyB0aGFuIEJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIExUKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIEVQU0lMT04gPCBiO1xufVxuLyoqXG4gKiBUZXN0IGlmIEEgaXMgbGVzcyB0aGFuIEJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVRKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDwgRVBTSUxPTjtcbn1cbi8qKlxuICogQ2xhbXAgdGhlIHZhbHVlIHdpdGhpbiB0aGUgZ2l2ZW4gcmFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgbWF4KSwgbWluKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGguanMubWFwIiwiaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9EZWJ1Z1wiO1xuaW1wb3J0IHsgRVEsIEdULCBHVEUsIExUIH0gZnJvbSBcIi4vTWF0aFwiO1xuLyoqXG4gKiBBIFRpbWVsaW5lIGNsYXNzIGZvciBzY2hlZHVsaW5nIGFuZCBtYWludGFpbmluZyBzdGF0ZVxuICogYWxvbmcgYSB0aW1lbGluZS4gQWxsIGV2ZW50cyBtdXN0IGhhdmUgYSBcInRpbWVcIiBwcm9wZXJ0eS5cbiAqIEludGVybmFsbHksIGV2ZW50cyBhcmUgc3RvcmVkIGluIHRpbWUgb3JkZXIgZm9yIGZhc3RcbiAqIHJldHJpZXZhbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVsaW5lIGV4dGVuZHMgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGltZWxpbmVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBzY2hlZHVsZWQgdGltZWxpbmUgZXZlbnRzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW1lbGluZSA9IFtdO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVGltZWxpbmUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJtZW1vcnlcIl0pO1xuICAgICAgICB0aGlzLm1lbW9yeSA9IG9wdGlvbnMubWVtb3J5O1xuICAgICAgICB0aGlzLmluY3JlYXNpbmcgPSBvcHRpb25zLmluY3JlYXNpbmc7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbW9yeTogSW5maW5pdHksXG4gICAgICAgICAgICBpbmNyZWFzaW5nOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgdGltZWxpbmUuXG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGFuIGV2ZW50IG9iamVjdCBvbnRvIHRoZSB0aW1lbGluZS4gRXZlbnRzIG11c3QgaGF2ZSBhIFwidGltZVwiIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gZXZlbnQgIFRoZSBldmVudCBvYmplY3QgdG8gaW5zZXJ0IGludG8gdGhlIHRpbWVsaW5lLlxuICAgICAqL1xuICAgIGFkZChldmVudCkge1xuICAgICAgICAvLyB0aGUgZXZlbnQgbmVlZHMgdG8gaGF2ZSBhIHRpbWUgYXR0cmlidXRlXG4gICAgICAgIGFzc2VydChSZWZsZWN0LmhhcyhldmVudCwgXCJ0aW1lXCIpLCBcIlRpbWVsaW5lOiBldmVudHMgbXVzdCBoYXZlIGEgdGltZSBhdHRyaWJ1dGVcIik7XG4gICAgICAgIGV2ZW50LnRpbWUgPSBldmVudC50aW1lLnZhbHVlT2YoKTtcbiAgICAgICAgaWYgKHRoaXMuaW5jcmVhc2luZyAmJiB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGFzdFZhbHVlID0gdGhpcy5fdGltZWxpbmVbdGhpcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGFzc2VydChHVEUoZXZlbnQudGltZSwgbGFzdFZhbHVlLnRpbWUpLCBcIlRoZSB0aW1lIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBsYXN0IHNjaGVkdWxlZCB0aW1lXCIpO1xuICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlYXJjaChldmVudC50aW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lLnNwbGljZShpbmRleCArIDEsIDAsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbGVuZ3RoIGlzIG1vcmUgdGhhbiB0aGUgbWVtb3J5LCByZW1vdmUgdGhlIHByZXZpb3VzIG9uZXNcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID4gdGhpcy5tZW1vcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmxlbmd0aCAtIHRoaXMubWVtb3J5O1xuICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUuc3BsaWNlKDAsIGRpZmYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgdGltZWxpbmUuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZXZlbnQgIFRoZSBldmVudCBvYmplY3QgdG8gcmVtb3ZlIGZyb20gdGhlIGxpc3QuXG4gICAgICogQHJldHVybnMge1RpbWVsaW5lfSB0aGlzXG4gICAgICovXG4gICAgcmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fdGltZWxpbmUuaW5kZXhPZihldmVudCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmVhcmVzdCBldmVudCB3aG9zZSB0aW1lIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSB0aW1lIHRvIHF1ZXJ5LlxuICAgICAqL1xuICAgIGdldCh0aW1lLCBwYXJhbSA9IFwidGltZVwiKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUsIHBhcmFtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZmlyc3QgZXZlbnQgaW4gdGhlIHRpbWVsaW5lIHdpdGhvdXQgcmVtb3ZpbmcgaXRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZmlyc3QgZXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lWzBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGZpcnN0IGV2ZW50IGluIHRoZSB0aW1lbGluZSBhbmQgcmVtb3ZlIGl0XG4gICAgICovXG4gICAgc2hpZnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZS5zaGlmdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV2ZW50IHdoaWNoIGlzIHNjaGVkdWxlZCBhZnRlciB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSB0aW1lIHRvIHF1ZXJ5LlxuICAgICAqL1xuICAgIGdldEFmdGVyKHRpbWUsIHBhcmFtID0gXCJ0aW1lXCIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWFyY2godGltZSwgcGFyYW0pO1xuICAgICAgICBpZiAoaW5kZXggKyAxIDwgdGhpcy5fdGltZWxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWxpbmVbaW5kZXggKyAxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXZlbnQgYmVmb3JlIHRoZSBldmVudCBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSB0aW1lIHRvIHF1ZXJ5LlxuICAgICAqL1xuICAgIGdldEJlZm9yZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX3RpbWVsaW5lLmxlbmd0aDtcbiAgICAgICAgLy8gaWYgaXQncyBhZnRlciB0aGUgbGFzdCBpdGVtLCByZXR1cm4gdGhlIGxhc3QgaXRlbVxuICAgICAgICBpZiAobGVuID4gMCAmJiB0aGlzLl90aW1lbGluZVtsZW4gLSAxXS50aW1lIDwgdGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lW2xlbiAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUpO1xuICAgICAgICBpZiAoaW5kZXggLSAxID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZVtpbmRleCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGV2ZW50cyBhdCBhbmQgYWZ0ZXIgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIGFmdGVyICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKi9cbiAgICBjYW5jZWwoYWZ0ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVsaW5lLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuX3NlYXJjaChhZnRlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChFUSh0aGlzLl90aW1lbGluZVtpbmRleF0udGltZSwgYWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgZmlyc3QgaXRlbSB3aXRoIHRoYXQgdGltZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoRVEodGhpcy5fdGltZWxpbmVbaV0udGltZSwgYWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUgPSB0aGlzLl90aW1lbGluZS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lbGluZSA9IHRoaXMuX3RpbWVsaW5lLnNsaWNlKDAsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90aW1lbGluZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBpdGVtJ3MgdGltZVxuICAgICAgICAgICAgaWYgKEdURSh0aGlzLl90aW1lbGluZVswXS50aW1lLCBhZnRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lbGluZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgZXZlbnRzIGJlZm9yZSBvciBlcXVhbCB0byB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSB0aW1lIHRvIGNhbmNlbCBiZWZvcmUuXG4gICAgICovXG4gICAgY2FuY2VsQmVmb3JlKHRpbWUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lbGluZSA9IHRoaXMuX3RpbWVsaW5lLnNsaWNlKGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByZXZpb3VzIGV2ZW50IGlmIHRoZXJlIGlzIG9uZS4gbnVsbCBvdGhlcndpc2VcbiAgICAgKiBAcGFyYW0gIGV2ZW50IFRoZSBldmVudCB0byBmaW5kIHRoZSBwcmV2aW91cyBvbmUgb2ZcbiAgICAgKiBAcmV0dXJuIFRoZSBldmVudCByaWdodCBiZWZvcmUgdGhlIGdpdmVuIGV2ZW50XG4gICAgICovXG4gICAgcHJldmlvdXNFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3RpbWVsaW5lLmluZGV4T2YoZXZlbnQpO1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWxpbmVbaW5kZXggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvZXMgYSBiaW5hcnkgc2VhcmNoIG9uIHRoZSB0aW1lbGluZSBhcnJheSBhbmQgcmV0dXJucyB0aGVcbiAgICAgKiBuZWFyZXN0IGV2ZW50IGluZGV4IHdob3NlIHRpbWUgaXMgYWZ0ZXIgb3IgZXF1YWwgdG8gdGhlIGdpdmVuIHRpbWUuXG4gICAgICogSWYgYSB0aW1lIGlzIHNlYXJjaGVkIGJlZm9yZSB0aGUgZmlyc3QgaW5kZXggaW4gdGhlIHRpbWVsaW5lLCAtMSBpcyByZXR1cm5lZC5cbiAgICAgKiBJZiB0aGUgdGltZSBpcyBhZnRlciB0aGUgZW5kLCB0aGUgaW5kZXggb2YgdGhlIGxhc3QgaXRlbSBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBfc2VhcmNoKHRpbWUsIHBhcmFtID0gXCJ0aW1lXCIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVsaW5lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGxldCBiZWdpbm5pbmcgPSAwO1xuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLl90aW1lbGluZS5sZW5ndGg7XG4gICAgICAgIGxldCBlbmQgPSBsZW47XG4gICAgICAgIGlmIChsZW4gPiAwICYmIHRoaXMuX3RpbWVsaW5lW2xlbiAtIDFdW3BhcmFtXSA8PSB0aW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVuIC0gMTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYmVnaW5uaW5nIDwgZW5kKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIG1pZHBvaW50IGZvciByb3VnaGx5IGVxdWFsIHBhcnRpdGlvblxuICAgICAgICAgICAgbGV0IG1pZFBvaW50ID0gTWF0aC5mbG9vcihiZWdpbm5pbmcgKyAoZW5kIC0gYmVnaW5uaW5nKSAvIDIpO1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl90aW1lbGluZVttaWRQb2ludF07XG4gICAgICAgICAgICBjb25zdCBuZXh0RXZlbnQgPSB0aGlzLl90aW1lbGluZVttaWRQb2ludCArIDFdO1xuICAgICAgICAgICAgaWYgKEVRKGV2ZW50W3BhcmFtXSwgdGltZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBjaG9vc2UgdGhlIGxhc3Qgb25lIHRoYXQgaGFzIHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbWlkUG9pbnQ7IGkgPCB0aGlzLl90aW1lbGluZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXN0RXZlbnQgPSB0aGlzLl90aW1lbGluZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEVRKHRlc3RFdmVudFtwYXJhbV0sIHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRQb2ludCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWlkUG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChMVChldmVudFtwYXJhbV0sIHRpbWUpICYmIEdUKG5leHRFdmVudFtwYXJhbV0sIHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pZFBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoR1QoZXZlbnRbcGFyYW1dLCB0aW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIHNlYXJjaCBsb3dlclxuICAgICAgICAgICAgICAgIGVuZCA9IG1pZFBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2VhcmNoIHVwcGVyXG4gICAgICAgICAgICAgICAgYmVnaW5uaW5nID0gbWlkUG9pbnQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgaXRlcmF0b3IuIEFwcGxpZXMgZXh0cmEgc2FmZXR5IGNoZWNrcyBmb3JcbiAgICAgKiByZW1vdmluZyBpdGVtcyBmcm9tIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBfaXRlcmF0ZShjYWxsYmFjaywgbG93ZXJCb3VuZCA9IDAsIHVwcGVyQm91bmQgPSB0aGlzLl90aW1lbGluZS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuX3RpbWVsaW5lLnNsaWNlKGxvd2VyQm91bmQsIHVwcGVyQm91bmQgKyAxKS5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5XG4gICAgICogQHBhcmFtICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZXZlcnkgaXRlbVxuICAgICAqL1xuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faXRlcmF0ZShjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgZXZlcnl0aGluZyBpbiB0aGUgYXJyYXkgYXQgb3IgYmVmb3JlIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB0byBjaGVjayBpZiBpdGVtcyBhcmUgYmVmb3JlXG4gICAgICogQHBhcmFtICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZXZlcnkgaXRlbVxuICAgICAqL1xuICAgIGZvckVhY2hCZWZvcmUodGltZSwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBpdGVtcyBpbiByZXZlcnNlIHNvIHRoYXQgcmVtb3ZpbmcgYW4gaXRlbSBkb2Vzbid0IGJyZWFrIHRoaW5nc1xuICAgICAgICBjb25zdCB1cHBlckJvdW5kID0gdGhpcy5fc2VhcmNoKHRpbWUpO1xuICAgICAgICBpZiAodXBwZXJCb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGUoY2FsbGJhY2ssIDAsIHVwcGVyQm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgZXZlcnl0aGluZyBpbiB0aGUgYXJyYXkgYWZ0ZXIgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGNoZWNrIGlmIGl0ZW1zIGFyZSBiZWZvcmVcbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaEFmdGVyKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgaXRlbXMgaW4gcmV2ZXJzZSBzbyB0aGF0IHJlbW92aW5nIGFuIGl0ZW0gZG9lc24ndCBicmVhayB0aGluZ3NcbiAgICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IHRoaXMuX3NlYXJjaCh0aW1lKTtcbiAgICAgICAgdGhpcy5faXRlcmF0ZShjYWxsYmFjaywgbG93ZXJCb3VuZCArIDEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGJldHdlZW4gdGhlIHN0YXJ0VGltZSBhbmQgZW5kVGltZS5cbiAgICAgKiBUaGUgdGltZXJhbmdlIGlzIGluY2x1c2l2ZSBvZiB0aGUgc3RhcnRUaW1lLCBidXQgZXhjbHVzaXZlIG9mIHRoZSBlbmRUaW1lLlxuICAgICAqIHJhbmdlID0gW3N0YXJ0VGltZSwgZW5kVGltZSkuXG4gICAgICogQHBhcmFtICBzdGFydFRpbWUgVGhlIHRpbWUgdG8gY2hlY2sgaWYgaXRlbXMgYXJlIGJlZm9yZVxuICAgICAqIEBwYXJhbSAgZW5kVGltZSBUaGUgZW5kIG9mIHRoZSB0ZXN0IGludGVydmFsLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoQmV0d2VlbihzdGFydFRpbWUsIGVuZFRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBsb3dlckJvdW5kID0gdGhpcy5fc2VhcmNoKHN0YXJ0VGltZSk7XG4gICAgICAgIGxldCB1cHBlckJvdW5kID0gdGhpcy5fc2VhcmNoKGVuZFRpbWUpO1xuICAgICAgICBpZiAobG93ZXJCb3VuZCAhPT0gLTEgJiYgdXBwZXJCb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lbGluZVtsb3dlckJvdW5kXS50aW1lICE9PSBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb3dlckJvdW5kICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleGNsdXNpdmUgb2YgdGhlIGVuZCB0aW1lXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZWxpbmVbdXBwZXJCb3VuZF0udGltZSA9PT0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIHVwcGVyQm91bmQgLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGUoY2FsbGJhY2ssIGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvd2VyQm91bmQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRlKGNhbGxiYWNrLCAwLCB1cHBlckJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGF0IG9yIGFmdGVyIHRoZSBnaXZlbiB0aW1lLiBTaW1pbGFyIHRvXG4gICAgICogZm9yRWFjaEFmdGVyLCBidXQgaW5jbHVkZXMgdGhlIGl0ZW0ocykgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGNoZWNrIGlmIGl0ZW1zIGFyZSBiZWZvcmVcbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaEZyb20odGltZSwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBpdGVtcyBpbiByZXZlcnNlIHNvIHRoYXQgcmVtb3ZpbmcgYW4gaXRlbSBkb2Vzbid0IGJyZWFrIHRoaW5nc1xuICAgICAgICBsZXQgbG93ZXJCb3VuZCA9IHRoaXMuX3NlYXJjaCh0aW1lKTtcbiAgICAgICAgLy8gd29yayBiYWNrd2FyZHMgdW50aWwgdGhlIGV2ZW50IHRpbWUgaXMgbGVzcyB0aGFuIHRpbWVcbiAgICAgICAgd2hpbGUgKGxvd2VyQm91bmQgPj0gMCAmJiB0aGlzLl90aW1lbGluZVtsb3dlckJvdW5kXS50aW1lID49IHRpbWUpIHtcbiAgICAgICAgICAgIGxvd2VyQm91bmQtLTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pdGVyYXRlKGNhbGxiYWNrLCBsb3dlckJvdW5kICsgMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgZXZlcnl0aGluZyBpbiB0aGUgYXJyYXkgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgdG8gY2hlY2sgaWYgaXRlbXMgYXJlIGJlZm9yZVxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoQXRUaW1lKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgaXRlbXMgaW4gcmV2ZXJzZSBzbyB0aGF0IHJlbW92aW5nIGFuIGl0ZW0gZG9lc24ndCBicmVhayB0aGluZ3NcbiAgICAgICAgY29uc3QgdXBwZXJCb3VuZCA9IHRoaXMuX3NlYXJjaCh0aW1lKTtcbiAgICAgICAgaWYgKHVwcGVyQm91bmQgIT09IC0xICYmIEVRKHRoaXMuX3RpbWVsaW5lW3VwcGVyQm91bmRdLnRpbWUsIHRpbWUpKSB7XG4gICAgICAgICAgICBsZXQgbG93ZXJCb3VuZCA9IHVwcGVyQm91bmQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdXBwZXJCb3VuZDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoRVEodGhpcy5fdGltZWxpbmVbaV0udGltZSwgdGltZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG93ZXJCb3VuZCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRlKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgICAgICAgICB9LCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90aW1lbGluZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lbGluZS5qcy5tYXAiLCIvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIElOSVRJQUxJWklORyBORVcgQ09OVEVYVFxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEFycmF5IG9mIGNhbGxiYWNrcyB0byBpbnZva2Ugd2hlbiBhIG5ldyBjb250ZXh0IGlzIGNyZWF0ZWRcbiAqL1xuY29uc3Qgbm90aWZ5TmV3Q29udGV4dCA9IFtdO1xuLyoqXG4gKiBVc2VkIGludGVybmFsbHkgdG8gc2V0dXAgYSBuZXcgQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Db250ZXh0SW5pdChjYikge1xuICAgIG5vdGlmeU5ld0NvbnRleHQucHVzaChjYik7XG59XG4vKipcbiAqIEludm9rZSBhbnkgY2xhc3NlcyB3aGljaCBuZWVkIHRvIGFsc28gYmUgaW5pdGlhbGl6ZWQgd2hlbiBhIG5ldyBjb250ZXh0IGlzIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQ29udGV4dChjdHgpIHtcbiAgICAvLyBhZGQgYW55IGFkZGl0aW9uYWwgbW9kdWxlc1xuICAgIG5vdGlmeU5ld0NvbnRleHQuZm9yRWFjaChjYiA9PiBjYihjdHgpKTtcbn1cbi8qKlxuICogQXJyYXkgb2YgY2FsbGJhY2tzIHRvIGludm9rZSB3aGVuIGEgbmV3IGNvbnRleHQgaXMgY3JlYXRlZFxuICovXG5jb25zdCBub3RpZnlDbG9zZUNvbnRleHQgPSBbXTtcbi8qKlxuICogVXNlZCBpbnRlcm5hbGx5IHRvIHRlYXIgZG93biBhIENvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uQ29udGV4dENsb3NlKGNiKSB7XG4gICAgbm90aWZ5Q2xvc2VDb250ZXh0LnB1c2goY2IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQ29udGV4dChjdHgpIHtcbiAgICAvLyBhZGQgYW55IGFkZGl0aW9uYWwgbW9kdWxlc1xuICAgIG5vdGlmeUNsb3NlQ29udGV4dC5mb3JFYWNoKGNiID0+IGNiKGN0eCkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGV4dEluaXRpYWxpemF0aW9uLmpzLm1hcCIsImltcG9ydCB7IFRvbmUgfSBmcm9tIFwiLi4vVG9uZVwiO1xuaW1wb3J0IHsgaXNVbmRlZiB9IGZyb20gXCIuL1R5cGVDaGVja1wiO1xuLyoqXG4gKiBFbWl0dGVyIGdpdmVzIGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGl0XG4gKiB0aGUgYWJpbGl0eSB0byBsaXN0ZW4gZm9yIGFuZCBlbWl0IGV2ZW50cy5cbiAqIEluc3BpcmF0aW9uIGFuZCByZWZlcmVuY2UgZnJvbSBKZXJvbWUgRXRpZW5uZSdzIFtNaWNyb0V2ZW50XShodHRwczovL2dpdGh1Yi5jb20vamVyb21lZXRpZW5uZS9taWNyb2V2ZW50LmpzKS5cbiAqIE1JVCAoYykgMjAxMSBKZXJvbWUgRXRpZW5uZS5cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRW1pdHRlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgY2FsbGJhY2sgdG8gYSBzcGVjaWZpYyBldmVudC5cbiAgICAgKiBAcGFyYW0gIGV2ZW50ICAgICBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIGZvci5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWRcbiAgICAgKi9cbiAgICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gc3BsaXQgdGhlIGV2ZW50XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGV2ZW50LnNwbGl0KC9cXFcrLyk7XG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZih0aGlzLl9ldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgYSBjYWxsYmFjayB3aGljaCBpcyBvbmx5IGludm9rZWQgb25jZVxuICAgICAqIEBwYXJhbSAgZXZlbnQgICAgIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZFxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kQ2FsbGJhY2sgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgLy8gaW52b2tlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLm9mZihldmVudCwgYm91bmRDYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub24oZXZlbnQsIGJvdW5kQ2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0gIGV2ZW50ICAgICBUaGUgZXZlbnQgdG8gc3RvcCBsaXN0ZW5pbmcgdG8uXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgVGhlIGNhbGxiYWNrIHdoaWNoIHdhcyBib3VuZCB0byB0aGUgZXZlbnQgd2l0aCBFbWl0dGVyLm9uLlxuICAgICAqICAgICAgICAgICAgICAgICAgIElmIG5vIGNhbGxiYWNrIGlzIGdpdmVuLCBhbGwgY2FsbGJhY2tzIGV2ZW50cyBhcmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGV2ZW50LnNwbGl0KC9cXFcrLyk7XG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZih0aGlzLl9ldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbZXZlbnRdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudExpc3QgPSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZXZlbnRMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRMaXN0W2ldID09PSBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIGFsbCBvZiB0aGUgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBldmVudFxuICAgICAqIHdpdGggYW55IGFyZ3VtZW50cyBwYXNzZWQgaW4uXG4gICAgICogQHBhcmFtICBldmVudCAgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb25zIGxpc3RlbmluZy5cbiAgICAgKi9cbiAgICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRMaXN0ID0gdGhpcy5fZXZlbnRzW2V2ZW50XS5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZXZlbnRMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdFtpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBFbWl0dGVyIGZ1bmN0aW9ucyAob24vb2ZmL2VtaXQpIHRvIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgbWl4aW4oY29uc3RyKSB7XG4gICAgICAgIC8vIGluc3RhbmNlLl9ldmVudHMgPSB7fTtcbiAgICAgICAgW1wib25cIiwgXCJvbmNlXCIsIFwib2ZmXCIsIFwiZW1pdFwiXS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVtaXR0ZXIucHJvdG90eXBlLCBuYW1lKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHIucHJvdG90eXBlLCBuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbWl0dGVyLmpzLm1hcCIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiLi4vdXRpbC9FbWl0dGVyXCI7XG5leHBvcnQgY2xhc3MgQmFzZUNvbnRleHQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pc09mZmxpbmUgPSBmYWxzZTtcbiAgICB9XG4gICAgLypcbiAgICAgKiBUaGlzIGlzIGEgcGxhY2Vob2xkZXIgc28gdGhhdCBKU09OLnN0cmluZ2lmeSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvclxuICAgICAqIFRoaXMgbWF0Y2hlcyB3aGF0IEpTT04uc3RyaW5naWZ5KGF1ZGlvQ29udGV4dCkgcmV0dXJucyBvbiBhIG5hdGl2ZVxuICAgICAqIGF1ZGlvQ29udGV4dCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gXCIuLi9jbG9jay9UaWNrZXJcIjtcbmltcG9ydCB7IGlzQXVkaW9Db250ZXh0IH0gZnJvbSBcIi4uL3V0aWwvQWR2YW5jZWRUeXBlQ2hlY2tcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFRpbWVsaW5lIH0gZnJvbSBcIi4uL3V0aWwvVGltZWxpbmVcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvQ29udGV4dCwgY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZSwgfSBmcm9tIFwiLi9BdWRpb0NvbnRleHRcIjtcbmltcG9ydCB7IGNsb3NlQ29udGV4dCwgaW5pdGlhbGl6ZUNvbnRleHQgfSBmcm9tIFwiLi9Db250ZXh0SW5pdGlhbGl6YXRpb25cIjtcbmltcG9ydCB7IEJhc2VDb250ZXh0IH0gZnJvbSBcIi4vQmFzZUNvbnRleHRcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBuYXRpdmUgQXVkaW9Db250ZXh0LlxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHQgZXh0ZW5kcyBCYXNlQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29udGV4dFwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBjb25zdGFudHMgQXVkaW9CdWZmZXJTb3VyY2VOb2Rlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29uc3RhbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG9mIHRoZSBzZXRUaW1lb3V0IGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbWVvdXRzID0gbmV3IFRpbWVsaW5lKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZW91dCBpZCBjb3VudGVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW1lb3V0SWRzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgaW5kaWNhdG9yIGlmIHRoZSBjb250ZXh0IGhhcyBiZWVuIGluaXRpYWxpemVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBjb250ZXh0IGlzIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQgb3IgYW4gQXVkaW9Db250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzT2ZmbGluZSA9IGZhbHNlO1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIEFVRElPIFdPUktMRVRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwcyBhIG1vZHVsZSBuYW1lIHRvIHByb21pc2Ugb2YgdGhlIGFkZE1vZHVsZSBtZXRob2RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dvcmtsZXRNb2R1bGVzID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoQ29udGV4dC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcbiAgICAgICAgICAgIFwiY29udGV4dFwiLFxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IG9wdGlvbnMuY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQgPSBjcmVhdGVBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgICAgIGxhdGVuY3lIaW50OiBvcHRpb25zLmxhdGVuY3lIaW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbmV3IFRpY2tlcih0aGlzLmVtaXQuYmluZCh0aGlzLCBcInRpY2tcIiksIG9wdGlvbnMuY2xvY2tTb3VyY2UsIG9wdGlvbnMudXBkYXRlSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLm9uKFwidGlja1wiLCB0aGlzLl90aW1lb3V0TG9vcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gZndkIGV2ZW50cyBmcm9tIHRoZSBjb250ZXh0XG4gICAgICAgIHRoaXMuX2NvbnRleHQub25zdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInN0YXRlY2hhbmdlXCIsIHRoaXMuc3RhdGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRMYXRlbmN5SGludChvcHRpb25zLmxhdGVuY3lIaW50KTtcbiAgICAgICAgdGhpcy5sb29rQWhlYWQgPSBvcHRpb25zLmxvb2tBaGVhZDtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xvY2tTb3VyY2U6IFwid29ya2VyXCIsXG4gICAgICAgICAgICBsYXRlbmN5SGludDogXCJpbnRlcmFjdGl2ZVwiLFxuICAgICAgICAgICAgbG9va0FoZWFkOiAwLjEsXG4gICAgICAgICAgICB1cGRhdGVJbnRlcnZhbDogMC4wNSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluaXNoIHNldHRpbmcgdXAgdGhlIGNvbnRleHQuICoqWW91IHVzdWFsbHkgZG8gbm90IG5lZWQgdG8gZG8gdGhpcyBtYW51YWxseS4qKlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhbnkgYWRkaXRpb25hbCBtb2R1bGVzXG4gICAgICAgICAgICBpbml0aWFsaXplQ29udGV4dCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBCQVNFIEFVRElPIENPTlRFWFQgTUVUSE9EU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY3JlYXRlQW5hbHlzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgfVxuICAgIGNyZWF0ZU9zY2lsbGF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICB9XG4gICAgY3JlYXRlQnVmZmVyU291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICB9XG4gICAgY3JlYXRlQmlxdWFkRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlQnVmZmVyKG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXIobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTtcbiAgICB9XG4gICAgY3JlYXRlQ2hhbm5lbE1lcmdlcihudW1iZXJPZklucHV0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDaGFubmVsTWVyZ2VyKG51bWJlck9mSW5wdXRzKTtcbiAgICB9XG4gICAgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyKG51bWJlck9mT3V0cHV0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIobnVtYmVyT2ZPdXRwdXRzKTtcbiAgICB9XG4gICAgY3JlYXRlQ29uc3RhbnRTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUNvbnN0YW50U291cmNlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnZvbHZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQ29udm9sdmVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZURlbGF5KG1heERlbGF5VGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVEZWxheShtYXhEZWxheVRpbWUpO1xuICAgIH1cbiAgICBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO1xuICAgIH1cbiAgICBjcmVhdGVHYWluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgfVxuICAgIGNyZWF0ZUlJUkZpbHRlcihmZWVkRm9yd2FyZCwgZmVlZGJhY2spIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVJSVJGaWx0ZXIoZmVlZEZvcndhcmQsIGZlZWRiYWNrKTtcbiAgICB9XG4gICAgY3JlYXRlUGFubmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVQYW5uZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlUGVyaW9kaWNXYXZlKHJlYWwsIGltYWcsIGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnLCBjb25zdHJhaW50cyk7XG4gICAgfVxuICAgIGNyZWF0ZVN0ZXJlb1Bhbm5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZVdhdmVTaGFwZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKSB7XG4gICAgICAgIGFzc2VydChpc0F1ZGlvQ29udGV4dCh0aGlzLl9jb250ZXh0KSwgXCJOb3QgYXZhaWxhYmxlIGlmIE9mZmxpbmVBdWRpb0NvbnRleHRcIik7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICByZXR1cm4gY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pO1xuICAgIH1cbiAgICBjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZWxlbWVudCkge1xuICAgICAgICBhc3NlcnQoaXNBdWRpb0NvbnRleHQodGhpcy5fY29udGV4dCksIFwiTm90IGF2YWlsYWJsZSBpZiBPZmZsaW5lQXVkaW9Db250ZXh0XCIpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGVsZW1lbnQpO1xuICAgIH1cbiAgICBjcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCkge1xuICAgICAgICBhc3NlcnQoaXNBdWRpb0NvbnRleHQodGhpcy5fY29udGV4dCksIFwiTm90IGF2YWlsYWJsZSBpZiBPZmZsaW5lQXVkaW9Db250ZXh0XCIpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO1xuICAgIH1cbiAgICBkZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmRlY29kZUF1ZGlvRGF0YShhdWRpb0RhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB0aW1lIGluIHNlY29uZHMgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB0aW1lIGluIHNlY29uZHMgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LnN0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB0aW1lIGluIHNlY29uZHMgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgKi9cbiAgICBnZXQgc2FtcGxlUmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxpc3RlbmVyXG4gICAgICovXG4gICAgZ2V0IGxpc3RlbmVyKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyO1xuICAgIH1cbiAgICBzZXQgbGlzdGVuZXIobCkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuX2luaXRpYWxpemVkLCBcIlRoZSBsaXN0ZW5lciBjYW5ub3QgYmUgc2V0IGFmdGVyIGluaXRpYWxpemF0aW9uLlwiKTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXIgPSBsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGVyZSBpcyBvbmx5IG9uZSBUcmFuc3BvcnQgcGVyIENvbnRleHQuIEl0IGlzIGNyZWF0ZWQgb24gaW5pdGlhbGl6YXRpb24uXG4gICAgICovXG4gICAgZ2V0IHRyYW5zcG9ydCgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfVxuICAgIHNldCB0cmFuc3BvcnQodCkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuX2luaXRpYWxpemVkLCBcIlRoZSB0cmFuc3BvcnQgY2Fubm90IGJlIHNldCBhZnRlciBpbml0aWFsaXphdGlvbi5cIik7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIERyYXcgb2JqZWN0IGZvciB0aGUgY29udGV4dCB3aGljaCBpcyB1c2VmdWwgZm9yIHN5bmNocm9uaXppbmcgdGhlIGRyYXcgZnJhbWUgd2l0aCB0aGUgVG9uZS5qcyBjbG9jay5cbiAgICAgKi9cbiAgICBnZXQgZHJhdygpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcmF3O1xuICAgIH1cbiAgICBzZXQgZHJhdyhkKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5faW5pdGlhbGl6ZWQsIFwiRHJhdyBjYW5ub3QgYmUgc2V0IGFmdGVyIGluaXRpYWxpemF0aW9uLlwiKTtcbiAgICAgICAgdGhpcy5fZHJhdyA9IGQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBDb250ZXh0J3MgZGVzdGluYXRpb24gbm9kZS5cbiAgICAgKi9cbiAgICBnZXQgZGVzdGluYXRpb24oKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdGluYXRpb247XG4gICAgfVxuICAgIHNldCBkZXN0aW5hdGlvbihkKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5faW5pdGlhbGl6ZWQsIFwiVGhlIGRlc3RpbmF0aW9uIGNhbm5vdCBiZSBzZXQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXCIpO1xuICAgICAgICB0aGlzLl9kZXN0aW5hdGlvbiA9IGQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBhdWRpbyB3b3JrbGV0IG5vZGUgZnJvbSBhIG5hbWUgYW5kIG9wdGlvbnMuIFRoZSBtb2R1bGVcbiAgICAgKiBtdXN0IGZpcnN0IGJlIGxvYWRlZCB1c2luZyBbW2FkZEF1ZGlvV29ya2xldE1vZHVsZV1dLlxuICAgICAqL1xuICAgIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZSh0aGlzLnJhd0NvbnRleHQsIG5hbWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIG1vZHVsZVxuICAgICAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgbW9kdWxlXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZVxuICAgICAqL1xuICAgIGFkZEF1ZGlvV29ya2xldE1vZHVsZSh1cmwsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGFzc2VydChpc0RlZmluZWQodGhpcy5yYXdDb250ZXh0LmF1ZGlvV29ya2xldCksIFwiQXVkaW9Xb3JrbGV0Tm9kZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIHNlY3VyZSBjb250ZXh0IChodHRwcyBvciBsb2NhbGhvc3QpXCIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93b3JrbGV0TW9kdWxlcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrbGV0TW9kdWxlcy5zZXQobmFtZSwgdGhpcy5yYXdDb250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodXJsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCB0aGlzLl93b3JrbGV0TW9kdWxlcy5nZXQobmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIGFsbCBvZiB0aGUgd29ya2xldHMgaGF2ZSBiZWVuIGxvYWRlZCBvbiB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICB3b3JrbGV0c0FyZVJlYWR5KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtsZXRNb2R1bGVzLmZvckVhY2goKHByb21pc2UpID0+IHByb21pc2VzLnB1c2gocHJvbWlzZSkpO1xuICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBUSUNLRVJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEhvdyBvZnRlbiB0aGUgaW50ZXJ2YWwgY2FsbGJhY2sgaXMgaW52b2tlZC5cbiAgICAgKiBUaGlzIG51bWJlciBjb3JyZXNwb25kcyB0byBob3cgcmVzcG9uc2l2ZSB0aGUgc2NoZWR1bGluZ1xuICAgICAqIGNhbiBiZS4gY29udGV4dC51cGRhdGVJbnRlcnZhbCArIGNvbnRleHQubG9va0FoZWFkIGdpdmVzIHlvdSB0aGVcbiAgICAgKiB0b3RhbCBsYXRlbmN5IGJldHdlZW4gc2NoZWR1bGluZyBhbiBldmVudCBhbmQgaGVhcmluZyBpdC5cbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlSW50ZXJ2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWNrZXIudXBkYXRlSW50ZXJ2YWw7XG4gICAgfVxuICAgIHNldCB1cGRhdGVJbnRlcnZhbChpbnRlcnZhbCkge1xuICAgICAgICB0aGlzLl90aWNrZXIudXBkYXRlSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hhdCB0aGUgc291cmNlIG9mIHRoZSBjbG9jayBpcywgZWl0aGVyIFwid29ya2VyXCIgKGRlZmF1bHQpLFxuICAgICAqIFwidGltZW91dFwiLCBvciBcIm9mZmxpbmVcIiAobm9uZSkuXG4gICAgICovXG4gICAgZ2V0IGNsb2NrU291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyLnR5cGU7XG4gICAgfVxuICAgIHNldCBjbG9ja1NvdXJjZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX3RpY2tlci50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgcGxheWJhY2ssIHdoaWNoIGFmZmVjdHMgdHJhZGVvZmZzIGJldHdlZW4gYXVkaW9cbiAgICAgKiBvdXRwdXQgbGF0ZW5jeSBhbmQgcmVzcG9uc2l2ZW5lc3MuXG4gICAgICogSW4gYWRkaXRpb24gdG8gc2V0dGluZyB0aGUgdmFsdWUgaW4gc2Vjb25kcywgdGhlIGxhdGVuY3lIaW50IGFsc29cbiAgICAgKiBhY2NlcHRzIHRoZSBzdHJpbmdzIFwiaW50ZXJhY3RpdmVcIiAocHJpb3JpdGl6ZXMgbG93IGxhdGVuY3kpLFxuICAgICAqIFwicGxheWJhY2tcIiAocHJpb3JpdGl6ZXMgc3VzdGFpbmVkIHBsYXliYWNrKSwgXCJiYWxhbmNlZFwiIChiYWxhbmNlc1xuICAgICAqIGxhdGVuY3kgYW5kIHBlcmZvcm1hbmNlKS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHByaW9yaXRpemUgc3VzdGFpbmVkIHBsYXliYWNrXG4gICAgICogY29uc3QgY29udGV4dCA9IG5ldyBUb25lLkNvbnRleHQoeyBsYXRlbmN5SGludDogXCJwbGF5YmFja1wiIH0pO1xuICAgICAqIC8vIHNldCB0aGlzIGNvbnRleHQgYXMgdGhlIGdsb2JhbCBDb250ZXh0XG4gICAgICogVG9uZS5zZXRDb250ZXh0KGNvbnRleHQpO1xuICAgICAqIC8vIHRoZSBnbG9iYWwgY29udGV4dCBpcyBnZXR0YWJsZSB3aXRoIFRvbmUuZ2V0Q29udGV4dCgpXG4gICAgICogY29uc29sZS5sb2coVG9uZS5nZXRDb250ZXh0KCkubGF0ZW5jeUhpbnQpO1xuICAgICAqL1xuICAgIGdldCBsYXRlbmN5SGludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhdGVuY3lIaW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvb2tBaGVhZCBhbmQgdXBkYXRlSW50ZXJ2YWwgYmFzZWQgb24gdGhlIGxhdGVuY3lIaW50XG4gICAgICovXG4gICAgX3NldExhdGVuY3lIaW50KGhpbnQpIHtcbiAgICAgICAgbGV0IGxvb2tBaGVhZFZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5fbGF0ZW5jeUhpbnQgPSBoaW50O1xuICAgICAgICBpZiAoaXNTdHJpbmcoaGludCkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaGludCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcmFjdGl2ZVwiOlxuICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWRWYWx1ZSA9IDAuMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBsYXliYWNrXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvb2tBaGVhZFZhbHVlID0gMC41O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmFsYW5jZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9va0FoZWFkVmFsdWUgPSAwLjI1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IGxvb2tBaGVhZFZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gbG9va0FoZWFkVmFsdWUgLyAyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdW53cmFwcGVkIEF1ZGlvQ29udGV4dCBvciBPZmZsaW5lQXVkaW9Db250ZXh0XG4gICAgICovXG4gICAgZ2V0IHJhd0NvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhdWRpbyBjb250ZXh0IHRpbWUgcGx1cyBhIHNob3J0IFtbbG9va0FoZWFkXV0uXG4gICAgICovXG4gICAgbm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jdXJyZW50VGltZSArIHRoaXMubG9va0FoZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhdWRpbyBjb250ZXh0IHRpbWUgd2l0aG91dCB0aGUgW1tsb29rQWhlYWRdXS5cbiAgICAgKiBJbiBtb3N0IGNhc2VzIGl0IGlzIGJldHRlciB0byB1c2UgW1tub3ddXSBpbnN0ZWFkIG9mIFtbaW1tZWRpYXRlXV0gc2luY2VcbiAgICAgKiB3aXRoIFtbbm93XV0gdGhlIFtbbG9va0FoZWFkXV0gaXMgYXBwbGllZCBlcXVhbGx5IHRvIF9hbGxfIGNvbXBvbmVudHMgaW5jbHVkaW5nIGludGVybmFsIGNvbXBvbmVudHMsXG4gICAgICogdG8gbWFraW5nIHN1cmUgdGhhdCBldmVyeXRoaW5nIGlzIHNjaGVkdWxlZCBpbiBzeW5jLiBNaXhpbmcgW1tub3ddXSBhbmQgW1tpbW1lZGlhdGVdXVxuICAgICAqIGNhbiBjYXVzZSBzb21lIHRpbWluZyBpc3N1ZXMuIElmIG5vIGxvb2tBaGVhZCBpcyBkZXNpcmVkLCB5b3UgY2FuIHNldCB0aGUgW1tsb29rQWhlYWRdXSB0byBgMGAuXG4gICAgICovXG4gICAgaW1tZWRpYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jdXJyZW50VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBhdWRpbyBjb250ZXh0IGZyb20gYSBzdXNwZW5kZWQgc3RhdGUuIFRoaXMgaXMgcmVxdWlyZWRcbiAgICAgKiB0byBpbml0aWFsbHkgc3RhcnQgdGhlIEF1ZGlvQ29udGV4dC4gU2VlIFtbVG9uZS5zdGFydF1dXG4gICAgICovXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAoaXNBdWRpb0NvbnRleHQodGhpcy5fY29udGV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBjb250ZXh0LiBPbmNlIGNsb3NlZCwgdGhlIGNvbnRleHQgY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFuZFxuICAgICAqIGFueSBBdWRpb05vZGVzIGNyZWF0ZWQgZnJvbSB0aGUgY29udGV4dCB3aWxsIGJlIHNpbGVudC5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChpc0F1ZGlvQ29udGV4dCh0aGlzLl9jb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuX2NvbnRleHQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGNsb3NlQ29udGV4dCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICoqSW50ZXJuYWwqKiBHZW5lcmF0ZSBhIGxvb3BlZCBidWZmZXIgYXQgc29tZSBjb25zdGFudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXRDb25zdGFudCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnN0YW50cy5oYXModmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0YW50cy5nZXQodmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEyOCwgdGhpcy5fY29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29uc3RhbnQgPSB0aGlzLl9jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgY29uc3RhbnQuY2hhbm5lbENvdW50ID0gMTtcbiAgICAgICAgICAgIGNvbnN0YW50LmNoYW5uZWxDb3VudE1vZGUgPSBcImV4cGxpY2l0XCI7XG4gICAgICAgICAgICBjb25zdGFudC5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgICAgICBjb25zdGFudC5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0YW50LnN0YXJ0KDApO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RhbnRzLnNldCh2YWwsIGNvbnN0YW50KTtcbiAgICAgICAgICAgIHJldHVybiBjb25zdGFudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC4gQWxzbyBjbG9zZXMgdGhlIGF1ZGlvIGNvbnRleHQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90aWNrZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90aW1lb3V0cy5kaXNwb3NlKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NvbnN0YW50cykubWFwKCh2YWwpID0+IHRoaXMuX2NvbnN0YW50c1t2YWxdLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFRJTUVPVVRTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBUaGUgcHJpdmF0ZSBsb29wIHdoaWNoIGtlZXBzIHRyYWNrIG9mIHRoZSBjb250ZXh0IHNjaGVkdWxlZCB0aW1lb3V0c1xuICAgICAqIElzIGludm9rZWQgZnJvbSB0aGUgY2xvY2sgc291cmNlXG4gICAgICovXG4gICAgX3RpbWVvdXRMb29wKCkge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICBsZXQgZmlyc3RFdmVudCA9IHRoaXMuX3RpbWVvdXRzLnBlZWsoKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RpbWVvdXRzLmxlbmd0aCAmJiBmaXJzdEV2ZW50ICYmIGZpcnN0RXZlbnQudGltZSA8PSBub3cpIHtcbiAgICAgICAgICAgIC8vIGludm9rZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgIGZpcnN0RXZlbnQuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIC8vIHNoaWZ0IHRoZSBmaXJzdCBldmVudCBvZmZcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG5leHQgb25lXG4gICAgICAgICAgICBmaXJzdEV2ZW50ID0gdGhpcy5fdGltZW91dHMucGVlaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2V0VGltZW91dCB3aGljaCBpcyBndWFyYW50ZWVkIGJ5IHRoZSBjbG9jayBzb3VyY2UuXG4gICAgICogQWxzbyBydW5zIGluIHRoZSBvZmZsaW5lIGNvbnRleHQuXG4gICAgICogQHBhcmFtICBmbiAgICAgICBUaGUgY2FsbGJhY2sgdG8gaW52b2tlXG4gICAgICogQHBhcmFtICB0aW1lb3V0ICBUaGUgdGltZW91dCBpbiBzZWNvbmRzXG4gICAgICogQHJldHVybnMgSUQgdG8gdXNlIHdoZW4gaW52b2tpbmcgQ29udGV4dC5jbGVhclRpbWVvdXRcbiAgICAgKi9cbiAgICBzZXRUaW1lb3V0KGZuLCB0aW1lb3V0KSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZHMrKztcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgdGhpcy5fdGltZW91dHMuYWRkKHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmbixcbiAgICAgICAgICAgIGlkOiB0aGlzLl90aW1lb3V0SWRzLFxuICAgICAgICAgICAgdGltZTogbm93ICsgdGltZW91dCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0SWRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYSBwcmV2aW91c2x5IHNjaGVkdWxlZCB0aW1lb3V0IHdpdGggVG9uZS5jb250ZXh0LnNldFRpbWVvdXRcbiAgICAgKiBAcGFyYW0gIGlkICBUaGUgSUQgcmV0dXJuZWQgZnJvbSBzZXRUaW1lb3V0XG4gICAgICovXG4gICAgY2xlYXJUaW1lb3V0KGlkKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dHMucmVtb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnVuY3Rpb24gc2NoZWR1bGVkIGJ5IFtbc2V0SW50ZXJ2YWxdXVxuICAgICAqL1xuICAgIGNsZWFySW50ZXJ2YWwoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlcGVhdGluZyBldmVudCB0byB0aGUgY29udGV4dCdzIGNhbGxiYWNrIGNsb2NrXG4gICAgICovXG4gICAgc2V0SW50ZXJ2YWwoZm4sIGludGVydmFsKSB7XG4gICAgICAgIGNvbnN0IGlkID0gKyt0aGlzLl90aW1lb3V0SWRzO1xuICAgICAgICBjb25zdCBpbnRlcnZhbEZuID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRzLmFkZCh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnZva2UgdGhlIGV2ZW50IHRvIHJlcGVhdCBpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbEZuKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICB0aW1lOiBub3cgKyBpbnRlcnZhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBraWNrIGl0IG9mZlxuICAgICAgICBpbnRlcnZhbEZuKCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250ZXh0LmpzLm1hcCIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tIFwiLi9UeXBlQ2hlY2tcIjtcbi8qKlxuICogTWFrZSB0aGUgcHJvcGVydHkgbm90IHdyaXRhYmxlIHVzaW5nIGBkZWZpbmVQcm9wZXJ0eWAuIEludGVybmFsIHVzZSBvbmx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZE9ubHkodGFyZ2V0LCBwcm9wZXJ0eSkge1xuICAgIGlmIChpc0FycmF5KHByb3BlcnR5KSkge1xuICAgICAgICBwcm9wZXJ0eS5mb3JFYWNoKHN0ciA9PiByZWFkT25seSh0YXJnZXQsIHN0cikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFrZSBhbiBhdHRyaWJ1dGUgd3JpdGVhYmxlLiBJbnRlcm5hbCB1c2Ugb25seS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRhYmxlKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICBpZiAoaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgcHJvcGVydHkuZm9yRWFjaChzdHIgPT4gd3JpdGFibGUodGFyZ2V0LCBzdHIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IG5vT3AgPSAoKSA9PiB7XG4gICAgLy8gbm8gb3BlcmF0aW9uIGhlcmUhXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJmYWNlLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gXCIuLi9HbG9iYWxcIjtcbmltcG9ydCB7IFRvbmUgfSBmcm9tIFwiLi4vVG9uZVwiO1xuaW1wb3J0IHsgaXNBdWRpb0J1ZmZlciB9IGZyb20gXCIuLi91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIEF1ZGlvQnVmZmVyIGxvYWRpbmcgYW5kIHN0b3JhZ2UuIFRvbmVBdWRpb0J1ZmZlciBpcyB1c2VkIGludGVybmFsbHkgYnkgYWxsXG4gKiBjbGFzc2VzIHRoYXQgbWFrZSByZXF1ZXN0cyBmb3IgYXVkaW8gZmlsZXMgc3VjaCBhcyBUb25lLlBsYXllcixcbiAqIFRvbmUuU2FtcGxlciBhbmQgVG9uZS5Db252b2x2ZXIuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYnVmZmVyID0gbmV3IFRvbmUuVG9uZUF1ZGlvQnVmZmVyKFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2Nhc2lvL0ExLm1wM1wiLCAoKSA9PiB7XG4gKiBcdGNvbnNvbGUubG9nKFwibG9hZGVkXCIpO1xuICogfSk7XG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY2xhc3MgVG9uZUF1ZGlvQnVmZmVyIGV4dGVuZHMgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZUF1ZGlvQnVmZmVyXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHRoZSBidWZmZXIgaXMgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmxvYWQgPSBub09wO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVG9uZUF1ZGlvQnVmZmVyLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widXJsXCIsIFwib25sb2FkXCIsIFwib25lcnJvclwiXSk7XG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IG9wdGlvbnMucmV2ZXJzZTtcbiAgICAgICAgdGhpcy5vbmxvYWQgPSBvcHRpb25zLm9ubG9hZDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXJsICYmIGlzQXVkaW9CdWZmZXIob3B0aW9ucy51cmwpIHx8IG9wdGlvbnMudXJsIGluc3RhbmNlb2YgVG9uZUF1ZGlvQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLnNldChvcHRpb25zLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcob3B0aW9ucy51cmwpKSB7XG4gICAgICAgICAgICAvLyBpbml0aWF0ZSB0aGUgZG93bmxvYWRcbiAgICAgICAgICAgIHRoaXMubG9hZChvcHRpb25zLnVybCkuY2F0Y2gob3B0aW9ucy5vbmVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvbmVycm9yOiBub09wLFxuICAgICAgICAgICAgb25sb2FkOiBub09wLFxuICAgICAgICAgICAgcmV2ZXJzZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzYW1wbGUgcmF0ZSBvZiB0aGUgQXVkaW9CdWZmZXJcbiAgICAgKi9cbiAgICBnZXQgc2FtcGxlUmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5zYW1wbGVSYXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbnRleHQoKS5zYW1wbGVSYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhc3MgaW4gYW4gQXVkaW9CdWZmZXIgb3IgVG9uZUF1ZGlvQnVmZmVyIHRvIHNldCB0aGUgdmFsdWUgb2YgdGhpcyBidWZmZXIuXG4gICAgICovXG4gICAgc2V0KGJ1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgVG9uZUF1ZGlvQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCdzIGxvYWRlZCwgc2V0IGl0XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZmZlci5nZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3aGVuIGl0J3MgbG9hZGVkLCBpbnZva2UgaXQncyBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25sb2FkKHRoaXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV2ZXJzZSBpdCBpbml0aWFsbHlcbiAgICAgICAgaWYgKHRoaXMuX3JldmVyc2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhdWRpbyBidWZmZXIgc3RvcmVkIGluIHRoZSBvYmplY3QuXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBmZXRjaCByZXF1ZXN0IGZvciB0aGUgc2VsZWN0ZWQgdXJsIHRoZW4gZGVjb2RlcyB0aGUgZmlsZSBhcyBhbiBhdWRpbyBidWZmZXIuXG4gICAgICogSW52b2tlcyB0aGUgY2FsbGJhY2sgb25jZSB0aGUgYXVkaW8gYnVmZmVyIGxvYWRzLlxuICAgICAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgYnVmZmVyIHRvIGxvYWQuIGZpbGV0eXBlIHN1cHBvcnQgZGVwZW5kcyBvbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGlzIFRvbmVBdWRpb0J1ZmZlclxuICAgICAqL1xuICAgIGxvYWQodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBkb25lTG9hZGluZyA9IFRvbmVBdWRpb0J1ZmZlci5sb2FkKHVybCkudGhlbihhdWRpb0J1ZmZlciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIGludm9rZSB0aGUgb25sb2FkIG1ldGhvZFxuICAgICAgICAgICAgICAgIHRoaXMub25sb2FkKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBUb25lQXVkaW9CdWZmZXIuZG93bmxvYWRzLnB1c2goZG9uZUxvYWRpbmcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB5aWVsZCBkb25lTG9hZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZG93bmxvYWRlZCBmaWxlXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBUb25lQXVkaW9CdWZmZXIuZG93bmxvYWRzLmluZGV4T2YoZG9uZUxvYWRpbmcpO1xuICAgICAgICAgICAgICAgIFRvbmVBdWRpb0J1ZmZlci5kb3dubG9hZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXVkaW8gYnVmZmVyIGZyb20gdGhlIGFycmF5LlxuICAgICAqIFRvIGNyZWF0ZSBhIG11bHRpY2hhbm5lbCBBdWRpb0J1ZmZlciwgcGFzcyBpbiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuXG4gICAgICogQHBhcmFtIGFycmF5IFRoZSBhcnJheSB0byBmaWxsIHRoZSBhdWRpbyBidWZmZXJcbiAgICAgKi9cbiAgICBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgaXNNdWx0aWRpbWVuc2lvbmFsID0gaXNBcnJheShhcnJheSkgJiYgYXJyYXlbMF0ubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgY2hhbm5lbHMgPSBpc011bHRpZGltZW5zaW9uYWwgPyBhcnJheS5sZW5ndGggOiAxO1xuICAgICAgICBjb25zdCBsZW4gPSBpc011bHRpZGltZW5zaW9uYWwgPyBhcnJheVswXS5sZW5ndGggOiBhcnJheS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKGNoYW5uZWxzLCBsZW4sIGNvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgICAgIGNvbnN0IG11bHRpQ2hhbm5lbEFycmF5ID0gIWlzTXVsdGlkaW1lbnNpb25hbCAmJiBjaGFubmVscyA9PT0gMSA/XG4gICAgICAgICAgICBbYXJyYXldIDogYXJyYXk7XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY2hhbm5lbHM7IGMrKykge1xuICAgICAgICAgICAgYnVmZmVyLmNvcHlUb0NoYW5uZWwobXVsdGlDaGFubmVsQXJyYXlbY10sIGMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1bXMgbXVsdGlwbGUgY2hhbm5lbHMgaW50byAxIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gY2hhbk51bSBPcHRpb25hbGx5IG9ubHkgY29weSBhIHNpbmdsZSBjaGFubmVsIGZyb20gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIHRvTW9ubyhjaGFuTnVtKSB7XG4gICAgICAgIGlmIChpc051bWJlcihjaGFuTnVtKSkge1xuICAgICAgICAgICAgdGhpcy5mcm9tQXJyYXkodGhpcy50b0FycmF5KGNoYW5OdW0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBvdXRwdXRBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgbnVtQ2hhbm5lbHMgPSB0aGlzLm51bWJlck9mQ2hhbm5lbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG51bUNoYW5uZWxzOyBjaGFubmVsKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsQXJyYXkgPSB0aGlzLnRvQXJyYXkoY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0QXJyYXlbaV0gKz0gY2hhbm5lbEFycmF5W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRpdmlkZSBieSB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzXG4gICAgICAgICAgICBvdXRwdXRBcnJheSA9IG91dHB1dEFycmF5Lm1hcChzYW1wbGUgPT4gc2FtcGxlIC8gbnVtQ2hhbm5lbHMpO1xuICAgICAgICAgICAgdGhpcy5mcm9tQXJyYXkob3V0cHV0QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJ1ZmZlciBhcyBhbiBhcnJheS4gU2luZ2xlIGNoYW5uZWwgYnVmZmVycyB3aWxsIHJldHVybiBhIDEtZGltZW5zaW9uYWxcbiAgICAgKiBGbG9hdDMyQXJyYXksIGFuZCBtdWx0aWNoYW5uZWwgYnVmZmVycyB3aWxsIHJldHVybiBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbCBPcHRpb25hbGx5IG9ubHkgY29weSBhIHNpbmdsZSBjaGFubmVsIGZyb20gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIHRvQXJyYXkoY2hhbm5lbCkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubnVtYmVyT2ZDaGFubmVscyA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLm51bWJlck9mQ2hhbm5lbHM7IGMrKykge1xuICAgICAgICAgICAgICAgIHJldFtjXSA9IHRoaXMuZ2V0Q2hhbm5lbERhdGEoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEZsb2F0MzJBcnJheSByZXByZXNlbnRpbmcgdGhlIFBDTSBhdWRpbyBkYXRhIGZvciB0aGUgc3BlY2lmaWMgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0gIGNoYW5uZWwgIFRoZSBjaGFubmVsIG51bWJlciB0byByZXR1cm5cbiAgICAgKiBAcmV0dXJuIFRoZSBhdWRpbyBhcyBhIFR5cGVkQXJyYXlcbiAgICAgKi9cbiAgICBnZXRDaGFubmVsRGF0YShjaGFubmVsKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDdXQgYSBzdWJzZWN0aW9uIG9mIHRoZSBhcnJheSBhbmQgcmV0dXJuIGEgYnVmZmVyIG9mIHRoZVxuICAgICAqIHN1YnNlY3Rpb24uIERvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwgYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXJ0IFRoZSB0aW1lIHRvIHN0YXJ0IHRoZSBzbGljZVxuICAgICAqIEBwYXJhbSBlbmQgVGhlIGVuZCB0aW1lIHRvIHNsaWNlLiBJZiBub25lIGlzIGdpdmVuIHdpbGwgZGVmYXVsdCB0byB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgICAgKi9cbiAgICBzbGljZShzdGFydCwgZW5kID0gdGhpcy5kdXJhdGlvbikge1xuICAgICAgICBjb25zdCBzdGFydFNhbXBsZXMgPSBNYXRoLmZsb29yKHN0YXJ0ICogdGhpcy5zYW1wbGVSYXRlKTtcbiAgICAgICAgY29uc3QgZW5kU2FtcGxlcyA9IE1hdGguZmxvb3IoZW5kICogdGhpcy5zYW1wbGVSYXRlKTtcbiAgICAgICAgYXNzZXJ0KHN0YXJ0U2FtcGxlcyA8IGVuZFNhbXBsZXMsIFwiVGhlIHN0YXJ0IHRpbWUgbXVzdCBiZSBsZXNzIHRoYW4gdGhlIGVuZCB0aW1lXCIpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBlbmRTYW1wbGVzIC0gc3RhcnRTYW1wbGVzO1xuICAgICAgICBjb25zdCByZXRCdWZmZXIgPSBnZXRDb250ZXh0KCkuY3JlYXRlQnVmZmVyKHRoaXMubnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCB0aGlzLnNhbXBsZVJhdGUpO1xuICAgICAgICBmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IHRoaXMubnVtYmVyT2ZDaGFubmVsczsgY2hhbm5lbCsrKSB7XG4gICAgICAgICAgICByZXRCdWZmZXIuY29weVRvQ2hhbm5lbCh0aGlzLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpLnN1YmFycmF5KHN0YXJ0U2FtcGxlcywgZW5kU2FtcGxlcyksIGNoYW5uZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVG9uZUF1ZGlvQnVmZmVyKHJldEJ1ZmZlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldmVyc2UgdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBfcmV2ZXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtYmVyT2ZDaGFubmVsczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGFubmVsRGF0YShpKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBidWZmZXIgaXMgbG9hZGVkIG9yIG5vdFxuICAgICAqL1xuICAgIGdldCBsb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgYnVmZmVyIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxlbmd0aCBvZiB0aGUgYnVmZmVyIGluIHNhbXBsZXNcbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGlzY3JldGUgYXVkaW8gY2hhbm5lbHMuIFJldHVybnMgMCBpZiBubyBidWZmZXIgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGdldCBudW1iZXJPZkNoYW5uZWxzKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgZ2V0IHJldmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXZlcnNlZDtcbiAgICB9XG4gICAgc2V0IHJldmVyc2UocmV2KSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXZlcnNlZCAhPT0gcmV2KSB7XG4gICAgICAgICAgICB0aGlzLl9yZXZlcnNlZCA9IHJldjtcbiAgICAgICAgICAgIHRoaXMuX3JldmVyc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBUb25lQXVkaW9CdWZmZXIgZnJvbSB0aGUgYXJyYXkuIFRvIGNyZWF0ZSBhIG11bHRpY2hhbm5lbCBBdWRpb0J1ZmZlcixcbiAgICAgKiBwYXNzIGluIGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheS5cbiAgICAgKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwgdGhlIGF1ZGlvIGJ1ZmZlclxuICAgICAqIEByZXR1cm4gQSBUb25lQXVkaW9CdWZmZXIgY3JlYXRlZCBmcm9tIHRoZSBhcnJheVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgVG9uZUF1ZGlvQnVmZmVyKCkpLmZyb21BcnJheShhcnJheSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBUb25lQXVkaW9CdWZmZXIgZnJvbSBhIFVSTCwgcmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYSBUb25lQXVkaW9CdWZmZXJcbiAgICAgKiBAcGFyYW0gIHVybCBUaGUgdXJsIHRvIGxvYWQuXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYSBUb25lQXVkaW9CdWZmZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVVybCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBUb25lQXVkaW9CdWZmZXIoKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCBidWZmZXIubG9hZCh1cmwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgYSB1cmwgdXNpbmcgZmV0Y2ggYW5kIHJldHVybnMgdGhlIEF1ZGlvQnVmZmVyLlxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkKHVybCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdGVzdCBpZiB0aGUgdXJsIGNvbnRhaW5zIG11bHRpcGxlIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSB1cmwubWF0Y2goL1xcWyhbXlxcXVxcW10rXFx8LispXFxdJC8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gbWF0Y2hlc1sxXS5zcGxpdChcInxcIik7XG4gICAgICAgICAgICAgICAgbGV0IGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbMF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBleHQgb2YgZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVG9uZUF1ZGlvQnVmZmVyLnN1cHBvcnRzVHlwZShleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShtYXRjaGVzWzBdLCBleHRlbnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGlzIGEgc2xhc2ggYmV0d2VlbiB0aGUgYmFzZVVybCBhbmQgdGhlIHVybFxuICAgICAgICAgICAgY29uc3QgYmFzZVVybCA9IFRvbmVBdWRpb0J1ZmZlci5iYXNlVXJsID09PSBcIlwiIHx8IFRvbmVBdWRpb0J1ZmZlci5iYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSA/IFRvbmVBdWRpb0J1ZmZlci5iYXNlVXJsIDogVG9uZUF1ZGlvQnVmZmVyLmJhc2VVcmwgKyBcIi9cIjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYmFzZVVybCArIHVybCk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjb3VsZCBub3QgbG9hZCB1cmw6ICR7dXJsfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSB5aWVsZCBnZXRDb250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBhIHVybCdzIGV4dGVuc2lvbiB0byBzZWUgaWYgdGhlIGN1cnJlbnQgYnJvd3NlciBjYW4gcGxheSB0aGF0IGZpbGUgdHlwZS5cbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwvZXh0ZW5zaW9uIHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIElmIHRoZSBmaWxlIGV4dGVuc2lvbiBjYW4gYmUgcGxheWVkXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBleGFtcGxlXG4gICAgICogVG9uZS5Ub25lQXVkaW9CdWZmZXIuc3VwcG9ydHNUeXBlKFwid2F2XCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiBUb25lLlRvbmVBdWRpb0J1ZmZlci5zdXBwb3J0c1R5cGUoXCJwYXRoL3RvL2ZpbGUud2F2XCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKi9cbiAgICBzdGF0aWMgc3VwcG9ydHNUeXBlKHVybCkge1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdXJsLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tleHRlbnNpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKS5jYW5QbGF5VHlwZShcImF1ZGlvL1wiICsgZXh0ZW5zaW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlICE9PSBcIlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIGFsbCBvZiB0aGUgYnVmZmVycyBoYXZlIGxvYWRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1ha2VzIHN1cmUgdGhhdCB0aGUgZnVuY3Rpb24gaXMgYWx3YXlzIGFzeW5jXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHdoaWxlIChUb25lQXVkaW9CdWZmZXIuZG93bmxvYWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFRvbmVBdWRpb0J1ZmZlci5kb3dubG9hZHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU1RBVElDIE1FVEhPRFNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBBIHBhdGggd2hpY2ggaXMgcHJlZml4ZWQgYmVmb3JlIGV2ZXJ5IHVybC5cbiAqL1xuVG9uZUF1ZGlvQnVmZmVyLmJhc2VVcmwgPSBcIlwiO1xuLyoqXG4gKiBBbGwgb2YgdGhlIGRvd25sb2Fkc1xuICovXG5Ub25lQXVkaW9CdWZmZXIuZG93bmxvYWRzID0gW107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQXVkaW9CdWZmZXIuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvQXVkaW9Db250ZXh0XCI7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvQ29udGV4dFwiO1xuaW1wb3J0IHsgaXNPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSBcIi4uL3V0aWwvQWR2YW5jZWRUeXBlQ2hlY2tcIjtcbmltcG9ydCB7IFRvbmVBdWRpb0J1ZmZlciB9IGZyb20gXCIuL1RvbmVBdWRpb0J1ZmZlclwiO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgT2ZmbGluZUF1ZGlvQ29udGV4dFxuICogQGNhdGVnb3J5IENvcmVcbiAqIEBleGFtcGxlXG4gKiAvLyBnZW5lcmF0ZSBhIHNpbmdsZSBjaGFubmVsLCAwLjUgc2Vjb25kIGJ1ZmZlclxuICogY29uc3QgY29udGV4dCA9IG5ldyBUb25lLk9mZmxpbmVDb250ZXh0KDEsIDAuNSwgNDQxMDApO1xuICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcih7IGNvbnRleHQgfSk7XG4gKiBjb250ZXh0LnJlbmRlcigpLnRoZW4oYnVmZmVyID0+IHtcbiAqIFx0Y29uc29sZS5sb2coYnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIGJ1ZmZlci5kdXJhdGlvbik7XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGNsYXNzIE9mZmxpbmVDb250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGNsb2NrU291cmNlOiBcIm9mZmxpbmVcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IGlzT2ZmbGluZUF1ZGlvQ29udGV4dChhcmd1bWVudHNbMF0pID9cbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0gOiBjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdICogYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbMl0pLFxuICAgICAgICAgICAgbG9va0FoZWFkOiAwLFxuICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWw6IGlzT2ZmbGluZUF1ZGlvQ29udGV4dChhcmd1bWVudHNbMF0pID9cbiAgICAgICAgICAgICAgICAxMjggLyBhcmd1bWVudHNbMF0uc2FtcGxlUmF0ZSA6IDEyOCAvIGFyZ3VtZW50c1syXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiT2ZmbGluZUNvbnRleHRcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFydGlmaWNpYWwgY2xvY2sgc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIHRoaXMuaXNPZmZsaW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSBpc09mZmxpbmVBdWRpb0NvbnRleHQoYXJndW1lbnRzWzBdKSA/XG4gICAgICAgICAgICBhcmd1bWVudHNbMF0ubGVuZ3RoIC8gYXJndW1lbnRzWzBdLnNhbXBsZVJhdGUgOiBhcmd1bWVudHNbMV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSBub3cgbWV0aG9kIHRvIHBvaW50IHRvIHRoZSBpbnRlcm5hbCBjbG9jayB0aW1lXG4gICAgICovXG4gICAgbm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdGhpcy5ub3coKVxuICAgICAqL1xuICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIganVzdCB0aGUgY2xvY2sgcG9ydGlvbiBvZiB0aGUgYXVkaW8gY29udGV4dC5cbiAgICAgKi9cbiAgICBfcmVuZGVyQ2xvY2soYXN5bmNocm9ub3VzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2R1cmF0aW9uIC0gdGhpcy5fY3VycmVudFRpbWUgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGludm9rZSBhbGwgdGhlIGNhbGxiYWNrcyBvbiB0aGF0IHRpbWVcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ0aWNrXCIpO1xuICAgICAgICAgICAgICAgIC8vIGluY3JlbWVudCB0aGUgY2xvY2sgaW4gYmxvY2stc2l6ZWQgY2h1bmtzXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gMTI4IC8gdGhpcy5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgIC8vIHlpZWxkIG9uY2UgYSBzZWNvbmQgb2YgYXVkaW9cbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlpZWxkRXZlcnkgPSBNYXRoLmZsb29yKHRoaXMuc2FtcGxlUmF0ZSAvIDEyOCk7XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jaHJvbm91cyAmJiBpbmRleCAlIHlpZWxkRXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgbmV3IFByb21pc2UoZG9uZSA9PiBzZXRUaW1lb3V0KGRvbmUsIDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG91dHB1dCBvZiB0aGUgT2ZmbGluZUNvbnRleHRcbiAgICAgKiBAcGFyYW0gYXN5bmNocm9ub3VzIElmIHRoZSBjbG9jayBzaG91bGQgYmUgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHksIHdoaWNoIHdpbGwgbm90IGJsb2NrIHRoZSBtYWluIHRocmVhZCwgYnV0IGJlIHNsaWdodGx5IHNsb3dlci5cbiAgICAgKi9cbiAgICByZW5kZXIoYXN5bmNocm9ub3VzID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy53b3JrbGV0c0FyZVJlYWR5KCk7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLl9yZW5kZXJDbG9jayhhc3luY2hyb25vdXMpO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0geWllbGQgdGhpcy5fY29udGV4dC5zdGFydFJlbmRlcmluZygpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUb25lQXVkaW9CdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBjb250ZXh0XG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PZmZsaW5lQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uL3ZlcnNpb25cIjtcbmltcG9ydCB7IGhhc0F1ZGlvQ29udGV4dCwgdGhlV2luZG93IH0gZnJvbSBcIi4vY29udGV4dC9BdWRpb0NvbnRleHRcIjtcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwiLi9jb250ZXh0L0NvbnRleHRcIjtcbmltcG9ydCB7IER1bW15Q29udGV4dCB9IGZyb20gXCIuL2NvbnRleHQvRHVtbXlDb250ZXh0XCI7XG5pbXBvcnQgeyBPZmZsaW5lQ29udGV4dCB9IGZyb20gXCIuL2NvbnRleHQvT2ZmbGluZUNvbnRleHRcIjtcbmltcG9ydCB7IGlzQXVkaW9Db250ZXh0LCBpc09mZmxpbmVBdWRpb0NvbnRleHQgfSBmcm9tIFwiLi91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG4vKipcbiAqIFRoaXMgZHVtbXkgY29udGV4dCBpcyB1c2VkIHRvIGF2b2lkIHRocm93aW5nIGltbWVkaWF0ZSBlcnJvcnMgd2hlbiBpbXBvcnRpbmcgaW4gTm9kZS5qc1xuICovXG5jb25zdCBkdW1teUNvbnRleHQgPSBuZXcgRHVtbXlDb250ZXh0KCk7XG4vKipcbiAqIFRoZSBnbG9iYWwgYXVkaW8gY29udGV4dCB3aGljaCBpcyBnZXRhYmxlIGFuZCBhc3NpZ25hYmxlIHRocm91Z2hcbiAqIGdldENvbnRleHQgYW5kIHNldENvbnRleHRcbiAqL1xubGV0IGdsb2JhbENvbnRleHQgPSBkdW1teUNvbnRleHQ7XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgc3lzdGVtLXdpZGUgW1tDb250ZXh0XV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICAgIGlmIChnbG9iYWxDb250ZXh0ID09PSBkdW1teUNvbnRleHQgJiYgaGFzQXVkaW9Db250ZXh0KSB7XG4gICAgICAgIHNldENvbnRleHQobmV3IENvbnRleHQoKSk7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxDb250ZXh0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGRlZmF1bHQgYXVkaW8gY29udGV4dFxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoY29udGV4dCkge1xuICAgIGlmIChpc0F1ZGlvQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgICBnbG9iYWxDb250ZXh0ID0gbmV3IENvbnRleHQoY29udGV4dCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2ZmbGluZUF1ZGlvQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgICBnbG9iYWxDb250ZXh0ID0gbmV3IE9mZmxpbmVDb250ZXh0KGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2xvYmFsQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxufVxuLyoqXG4gKiBNb3N0IGJyb3dzZXJzIHdpbGwgbm90IHBsYXkgX2FueV8gYXVkaW8gdW50aWwgYSB1c2VyXG4gKiBjbGlja3Mgc29tZXRoaW5nIChsaWtlIGEgcGxheSBidXR0b24pLiBJbnZva2UgdGhpcyBtZXRob2RcbiAqIG9uIGEgY2xpY2sgb3Iga2V5cHJlc3MgZXZlbnQgaGFuZGxlciB0byBzdGFydCB0aGUgYXVkaW8gY29udGV4dC5cbiAqIE1vcmUgYWJvdXQgdGhlIEF1dG9wbGF5IHBvbGljeVxuICogW2hlcmVdKGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTcvMDkvYXV0b3BsYXktcG9saWN5LWNoYW5nZXMjd2ViYXVkaW8pXG4gKiBAZXhhbXBsZVxuICogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICogXHRhd2FpdCBUb25lLnN0YXJ0KCk7XG4gKiBcdGNvbnNvbGUubG9nKFwiY29udGV4dCBzdGFydGVkXCIpO1xuICogfSk7XG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgcmV0dXJuIGdsb2JhbENvbnRleHQucmVzdW1lKCk7XG59XG4vKipcbiAqIExvZyBUb25lLmpzICsgdmVyc2lvbiBpbiB0aGUgY29uc29sZS5cbiAqL1xuaWYgKHRoZVdpbmRvdyAmJiAhdGhlV2luZG93LlRPTkVfU0lMRU5DRV9MT0dHSU5HKSB7XG4gICAgbGV0IHByZWZpeCA9IFwidlwiO1xuICAgIGlmICh2ZXJzaW9uID09PSBcImRldlwiKSB7XG4gICAgICAgIHByZWZpeCA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHByaW50U3RyaW5nID0gYCAqIFRvbmUuanMgJHtwcmVmaXh9JHt2ZXJzaW9ufSAqIGA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyhgJWMke3ByaW50U3RyaW5nfWAsIFwiYmFja2dyb3VuZDogIzAwMDsgY29sb3I6ICNmZmZcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbG9iYWwuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBCYXNlQ29udGV4dCB9IGZyb20gXCIuL0Jhc2VDb250ZXh0XCI7XG5leHBvcnQgY2xhc3MgRHVtbXlDb250ZXh0IGV4dGVuZHMgQmFzZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IDA7XG4gICAgICAgIHRoaXMubGF0ZW5jeUhpbnQgPSAwO1xuICAgICAgICB0aGlzLmlzT2ZmbGluZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEJBU0UgQVVESU8gQ09OVEVYVCBNRVRIT0RTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjcmVhdGVBbmFseXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVPc2NpbGxhdG9yKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUJ1ZmZlclNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVCaXF1YWRGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlQnVmZmVyKF9udW1iZXJPZkNoYW5uZWxzLCBfbGVuZ3RoLCBfc2FtcGxlUmF0ZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUNoYW5uZWxNZXJnZXIoX251bWJlck9mSW5wdXRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyKF9udW1iZXJPZk91dHB1dHMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVDb25zdGFudFNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVDb252b2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlRGVsYXkoX21heERlbGF5VGltZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVHYWluKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUlJUkZpbHRlcihfZmVlZEZvcndhcmQsIF9mZWVkYmFjaykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZVBhbm5lcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVQZXJpb2RpY1dhdmUoX3JlYWwsIF9pbWFnLCBfY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVTdGVyZW9QYW5uZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlV2F2ZVNoYXBlcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShfc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKF9lbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBkZWNvZGVBdWRpb0RhdGEoX2F1ZGlvRGF0YSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBUT05FIEFVRElPIENPTlRFWFQgTUVUSE9EU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZShfbmFtZSwgX29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgcmF3Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBhZGRBdWRpb1dvcmtsZXRNb2R1bGUoX3VybCwgX25hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KF9mbiwgX3RpbWVvdXQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChfaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEludGVydmFsKF9mbiwgX2ludGVydmFsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjbGVhckludGVydmFsKF9pZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Q29uc3RhbnQoX3ZhbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgc2FtcGxlUmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBsaXN0ZW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgdHJhbnNwb3J0KCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGdldCBkcmF3KCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHNldCBkcmF3KF9kKSB7IH1cbiAgICBnZXQgZGVzdGluYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgc2V0IGRlc3RpbmF0aW9uKF9kKSB7IH1cbiAgICBub3coKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpbW1lZGlhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUR1bW15Q29udGV4dC5qcy5tYXAiLCIvKipcbiAqIEVxdWFsIHBvd2VyIGdhaW4gc2NhbGUuIEdvb2QgZm9yIGNyb3NzLWZhZGluZy5cbiAqIEBwYXJhbSAgcGVyY2VudCAoMC0xKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxQb3dlclNjYWxlKHBlcmNlbnQpIHtcbiAgICBjb25zdCBwaUZhY3RvciA9IDAuNSAqIE1hdGguUEk7XG4gICAgcmV0dXJuIE1hdGguc2luKHBlcmNlbnQgKiBwaUZhY3Rvcik7XG59XG4vKipcbiAqIENvbnZlcnQgZGVjaWJlbHMgaW50byBnYWluLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGJUb0dhaW4oZGIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coMTAsIGRiIC8gMjApO1xufVxuLyoqXG4gKiBDb252ZXJ0IGdhaW4gdG8gZGVjaWJlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnYWluVG9EYihnYWluKSB7XG4gICAgcmV0dXJuIDIwICogKE1hdGgubG9nKGdhaW4pIC8gTWF0aC5MTjEwKTtcbn1cbi8qKlxuICogQ29udmVydCBhbiBpbnRlcnZhbCAoaW4gc2VtaXRvbmVzKSB0byBhIGZyZXF1ZW5jeSByYXRpby5cbiAqIEBwYXJhbSBpbnRlcnZhbCB0aGUgbnVtYmVyIG9mIHNlbWl0b25lcyBhYm92ZSB0aGUgYmFzZSBub3RlXG4gKiBAZXhhbXBsZVxuICogVG9uZS5pbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oMCk7IC8vIDFcbiAqIFRvbmUuaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKDEyKTsgLy8gMlxuICogVG9uZS5pbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oLTEyKTsgLy8gMC41XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oaW50ZXJ2YWwpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coMiwgKGludGVydmFsIC8gMTIpKTtcbn1cbi8qKlxuICogVGhlIEdsb2JhbCBbY29uY2VydCB0dW5pbmcgcGl0Y2hdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbmNlcnRfcGl0Y2gpIHdoaWNoIGlzIHVzZWRcbiAqIHRvIGdlbmVyYXRlIGFsbCB0aGUgb3RoZXIgcGl0Y2ggdmFsdWVzIGZyb20gbm90ZXMuIEE0J3MgdmFsdWVzIGluIEhlcnR6LlxuICovXG5sZXQgQTQgPSA0NDA7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QTQoKSB7XG4gICAgcmV0dXJuIEE0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEE0KGZyZXEpIHtcbiAgICBBNCA9IGZyZXE7XG59XG4vKipcbiAqIENvbnZlcnQgYSBmcmVxdWVuY3kgdmFsdWUgdG8gYSBNSURJIG5vdGUuXG4gKiBAcGFyYW0gZnJlcXVlbmN5IFRoZSB2YWx1ZSB0byBmcmVxdWVuY3kgdmFsdWUgdG8gY29udmVydC5cbiAqIEBleGFtcGxlXG4gKiBUb25lLmZ0b20oNDQwKTsgLy8gcmV0dXJucyA2OVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnRvbShmcmVxdWVuY3kpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChmdG9tZihmcmVxdWVuY3kpKTtcbn1cbi8qKlxuICogQ29udmVydCBhIGZyZXF1ZW5jeSB0byBhIGZsb2F0aW5nIHBvaW50IG1pZGkgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ0b21mKGZyZXF1ZW5jeSkge1xuICAgIHJldHVybiA2OSArIDEyICogTWF0aC5sb2cyKGZyZXF1ZW5jeSAvIEE0KTtcbn1cbi8qKlxuICogQ29udmVydCBhIE1JREkgbm90ZSB0byBmcmVxdWVuY3kgdmFsdWUuXG4gKiBAcGFyYW0gIG1pZGkgVGhlIG1pZGkgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJuIFRoZSBjb3JyZXNwb25kaW5nIGZyZXF1ZW5jeSB2YWx1ZVxuICogQGV4YW1wbGVcbiAqIFRvbmUubXRvZig2OSk7IC8vIDQ0MFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXRvZihtaWRpKSB7XG4gICAgcmV0dXJuIEE0ICogTWF0aC5wb3coMiwgKG1pZGkgLSA2OSkgLyAxMik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db252ZXJzaW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBUb25lIH0gZnJvbSBcIi4uL1RvbmVcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNPYmplY3QsIGlzU3RyaW5nLCBpc1VuZGVmIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG4vKipcbiAqIFRpbWVCYXNlIGlzIGEgZmxleGlibGUgZW5jb2Rpbmcgb2YgdGltZSB3aGljaCBjYW4gYmUgZXZhbHVhdGVkIHRvIGFuZCBmcm9tIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY2xhc3MgVGltZUJhc2VDbGFzcyBleHRlbmRzIFRvbmUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb250ZXh0IFRoZSBjb250ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgdGltZSB2YWx1ZS4gVXNlZCB0byBjb21wdXRlXG4gICAgICogVHJhbnNwb3J0IGFuZCBjb250ZXh0LXJlbGF0aXZlIHRpbWluZy5cbiAgICAgKiBAcGFyYW0gIHZhbHVlICBUaGUgdGltZSB2YWx1ZSBhcyBhIG51bWJlciwgc3RyaW5nIG9yIG9iamVjdFxuICAgICAqIEBwYXJhbSAgdW5pdHMgIFVuaXQgdmFsdWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgdmFsdWUsIHVuaXRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB1bml0c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0VW5pdHMgPSBcInNcIjtcbiAgICAgICAgdGhpcy5fdmFsID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VuaXRzID0gdW5pdHM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX2V4cHJlc3Npb25zID0gdGhpcy5fZ2V0RXhwcmVzc2lvbnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsIG9mIHRoZSB0aW1lIGVuY29kaW5nIGV4cHJlc3Npb25zXG4gICAgICovXG4gICAgX2dldEV4cHJlc3Npb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaHo6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJlcXVlbmN5VG9Vbml0cyhwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCsoPzpcXC5cXGQrKT8paHokL2ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrc1RvVW5pdHMocGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCspaSQvaSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUludCh2YWx1ZSwgMTApICogdGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oXFxkKyltJC9pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG46IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSwgZG90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhciA9IGRvdCA9PT0gXCIuXCIgPyAxLjUgOiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpY1ZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVhdHNUb1VuaXRzKHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSkgKiBzY2FsYXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVhdHNUb1VuaXRzKDQgLyBudW1lcmljVmFsdWUpICogc2NhbGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCspbihcXC4/KSQvaSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXhwcmVzc2lvbnNbdGhpcy5kZWZhdWx0VW5pdHNdLm1ldGhvZC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oXFxkKyg/OlxcLlxcZCspPykkLyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlY29uZHNUb1VuaXRzKHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oXFxkKyg/OlxcLlxcZCspPylzJC8sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2FtcGxlczoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApIC8gdGhpcy5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCspc2FtcGxlcyQvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1lcmljVmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVhdHNUb1VuaXRzKDggLyAoTWF0aC5mbG9vcihudW1lcmljVmFsdWUpICogMykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKXQkL2ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHI6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IChtLCBxLCBzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtICYmIG0gIT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSB0aGlzLl9iZWF0c1RvVW5pdHModGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpICogcGFyc2VGbG9hdChtKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHEgJiYgcSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KHEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBzICE9PSBcIjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gdGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlRmxvYXQocykgLyA0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCsoPzpcXC5cXGQrKT8pOihcXGQrKD86XFwuXFxkKyk/KTo/KFxcZCsoPzpcXC5cXGQrKT8pPyQvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRWQUxVRSBPRlxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSB0aW1lIHZhbHVlLiBSZXR1cm5zIHRoZSB0aW1lIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgdmFsdWVPZigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbCBpbnN0YW5jZW9mIFRpbWVCYXNlQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbVR5cGUodGhpcy5fdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbmRlZih0aGlzLl92YWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9BcmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyh0aGlzLl92YWwpICYmIGlzVW5kZWYodGhpcy5fdW5pdHMpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVuaXRzIGluIHRoaXMuX2V4cHJlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2V4cHJlc3Npb25zW3VuaXRzXS5yZWdleHAudGVzdCh0aGlzLl92YWwudHJpbSgpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bml0cyA9IHVuaXRzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fdmFsKSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZU5hbWUgaW4gdGhpcy5fdmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLl92YWxbdHlwZU5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFudGl0eSA9IHRoaXMuX3ZhbFt0eXBlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IChuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmNvbnRleHQsIHR5cGVOYW1lKSkudmFsdWVPZigpICogcXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5fdW5pdHMpKSB7XG4gICAgICAgICAgICBjb25zdCBleHByID0gdGhpcy5fZXhwcmVzc2lvbnNbdGhpcy5fdW5pdHNdO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmcgPSB0aGlzLl92YWwudG9TdHJpbmcoKS50cmltKCkubWF0Y2goZXhwci5yZWdleHApO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cHIubWV0aG9kLmFwcGx5KHRoaXMsIG1hdGNoaW5nLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHByLm1ldGhvZC5jYWxsKHRoaXMsIHRoaXMuX3ZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcodGhpcy5fdmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5fdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRVTklUIENPTlZFUlNJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBmcmVxdWVuY3kgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfZnJlcXVlbmN5VG9Vbml0cyhmcmVxKSB7XG4gICAgICAgIHJldHVybiAxIC8gZnJlcTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgYmVhdHMgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfYmVhdHNUb1VuaXRzKGJlYXRzKSB7XG4gICAgICAgIHJldHVybiAoNjAgLyB0aGlzLl9nZXRCcG0oKSkgKiBiZWF0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBzZWNvbmQgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfc2Vjb25kc1RvVW5pdHMoc2Vjb25kcykge1xuICAgICAgICByZXR1cm4gc2Vjb25kcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSB0aWNrIGluIHRoZSBjdXJyZW50IHRpbWUgdW5pdHNcbiAgICAgKi9cbiAgICBfdGlja3NUb1VuaXRzKHRpY2tzKSB7XG4gICAgICAgIHJldHVybiAodGlja3MgKiAodGhpcy5fYmVhdHNUb1VuaXRzKDEpKSAvIHRoaXMuX2dldFBQUSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2l0aCBubyBhcmd1bWVudHMsIHJldHVybiAnbm93J1xuICAgICAqL1xuICAgIF9ub0FyZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdygpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFRFTVBPIENPTlZFUlNJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBicG1cbiAgICAgKi9cbiAgICBfZ2V0QnBtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5icG0udmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGltZVNpZ25hdHVyZVxuICAgICAqL1xuICAgIF9nZXRUaW1lU2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC50aW1lU2lnbmF0dXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIFBQUSBvciAxOTIgaWYgVHJhbnNwb3J0IGlzIG5vdCBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBfZ2V0UFBRKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5QUFE7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0Q09OVkVSU0lPTiBJTlRFUkZBQ0VcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBDb2VyY2UgYSB0aW1lIHR5cGUgaW50byB0aGlzIHVuaXRzIHR5cGUuXG4gICAgICogQHBhcmFtIHR5cGUgQW55IHRpbWUgdHlwZSB1bml0c1xuICAgICAqL1xuICAgIGZyb21UeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fdW5pdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN3aXRjaCAodGhpcy5kZWZhdWx0VW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsID0gdHlwZS50b1NlY29uZHMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsID0gdHlwZS50b1RpY2tzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaHpcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl92YWwgPSB0eXBlLnRvRnJlcXVlbmN5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWlkaVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbCA9IHR5cGUudG9NaWRpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgaW4gaGVydHpcbiAgICAgKi9cbiAgICB0b0ZyZXF1ZW5jeSgpIHtcbiAgICAgICAgcmV0dXJuIDEgLyB0aGlzLnRvU2Vjb25kcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWUgaW4gc2FtcGxlc1xuICAgICAqL1xuICAgIHRvU2FtcGxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TZWNvbmRzKCkgKiB0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKi9cbiAgICB0b01pbGxpc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TZWNvbmRzKCkgKiAxMDAwO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVCYXNlLmpzLm1hcCIsImltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwiLi4vR2xvYmFsXCI7XG5pbXBvcnQgeyBmdG9tIH0gZnJvbSBcIi4vQ29udmVyc2lvbnNcIjtcbmltcG9ydCB7IFRpbWVCYXNlQ2xhc3MgfSBmcm9tIFwiLi9UaW1lQmFzZVwiO1xuLyoqXG4gKiBUaW1lQ2xhc3MgaXMgYSBwcmltaXRpdmUgdHlwZSBmb3IgZW5jb2RpbmcgYW5kIGRlY29kaW5nIFRpbWUgdmFsdWVzLlxuICogVGltZUNsYXNzIGNhbiBiZSBwYXNzZWQgaW50byB0aGUgcGFyYW1ldGVyIG9mIGFueSBtZXRob2Qgd2hpY2ggdGFrZXMgdGltZSBhcyBhbiBhcmd1bWVudC5cbiAqIEBwYXJhbSAgdmFsICAgIFRoZSB0aW1lIHZhbHVlLlxuICogQHBhcmFtICB1bml0cyAgVGhlIHVuaXRzIG9mIHRoZSB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0aW1lID0gVG9uZS5UaW1lKFwiNG5cIik7IC8vIGEgcXVhcnRlciBub3RlXG4gKiBAY2F0ZWdvcnkgVW5pdFxuICovXG5leHBvcnQgY2xhc3MgVGltZUNsYXNzIGV4dGVuZHMgVGltZUJhc2VDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGltZUNsYXNzXCI7XG4gICAgfVxuICAgIF9nZXRFeHByZXNzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oc3VwZXIuX2dldEV4cHJlc3Npb25zKCksIHtcbiAgICAgICAgICAgIG5vdzoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogKGNhcHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vdygpICsgbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5jb250ZXh0LCBjYXB0dXJlKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eXFwrKC4rKS8sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcXVhbnRpemU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IChjYXB0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50VG8gPSBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgY2FwdHVyZSkudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Vjb25kc1RvVW5pdHModGhpcy5jb250ZXh0LnRyYW5zcG9ydC5uZXh0U3ViZGl2aXNpb24ocXVhbnRUbykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXkAoLispLyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWFudGl6ZSB0aGUgdGltZSBieSB0aGUgZ2l2ZW4gc3ViZGl2aXNpb24uIE9wdGlvbmFsbHkgYWRkIGFcbiAgICAgKiBwZXJjZW50YWdlIHdoaWNoIHdpbGwgbW92ZSB0aGUgdGltZSB2YWx1ZSB0b3dhcmRzIHRoZSBpZGVhbFxuICAgICAqIHF1YW50aXplZCB2YWx1ZSBieSB0aGF0IHBlcmNlbnRhZ2UuXG4gICAgICogQHBhcmFtICBzdWJkaXYgICAgVGhlIHN1YmRpdmlzaW9uIHRvIHF1YW50aXplIHRvXG4gICAgICogQHBhcmFtICBwZXJjZW50ICBNb3ZlIHRoZSB0aW1lIHZhbHVlIHRvd2FyZHMgdGhlIHF1YW50aXplZCB2YWx1ZSBieSBhIHBlcmNlbnRhZ2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLlRpbWUoMjEpLnF1YW50aXplKDIpOyAvLyByZXR1cm5zIDIyXG4gICAgICogVG9uZS5UaW1lKDAuNikucXVhbnRpemUoXCI0blwiLCAwLjUpOyAvLyByZXR1cm5zIDAuNTVcbiAgICAgKi9cbiAgICBxdWFudGl6ZShzdWJkaXYsIHBlcmNlbnQgPSAxKSB7XG4gICAgICAgIGNvbnN0IHN1YmRpdmlzaW9uID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5jb250ZXh0LCBzdWJkaXYpLnZhbHVlT2YoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlT2YoKTtcbiAgICAgICAgY29uc3QgbXVsdGlwbGUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gc3ViZGl2aXNpb24pO1xuICAgICAgICBjb25zdCBpZGVhbCA9IG11bHRpcGxlICogc3ViZGl2aXNpb247XG4gICAgICAgIGNvbnN0IGRpZmYgPSBpZGVhbCAtIHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUgKyBkaWZmICogcGVyY2VudDtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ09OVkVSU0lPTlNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgVGltZSB0byBOb3RhdGlvbi4gVGhlIG5vdGF0aW9uIHZhbHVlcyBhcmUgd2lsbCBiZSB0aGVcbiAgICAgKiBjbG9zZXN0IHJlcHJlc2VudGF0aW9uIGJldHdlZW4gMW0gdG8gMTI4dGggbm90ZS5cbiAgICAgKiBAcmV0dXJuIHtOb3RhdGlvbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGlmIHRoZSBUcmFuc3BvcnQgaXMgYXQgMTIwYnBtOlxuICAgICAqIFRvbmUuVGltZSgyKS50b05vdGF0aW9uKCk7IC8vIHJldHVybnMgXCIxbVwiXG4gICAgICovXG4gICAgdG9Ob3RhdGlvbigpIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMudG9TZWNvbmRzKCk7XG4gICAgICAgIGNvbnN0IHRlc3ROb3RhdGlvbnMgPSBbXCIxbVwiXTtcbiAgICAgICAgZm9yIChsZXQgcG93ZXIgPSAxOyBwb3dlciA8IDk7IHBvd2VyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmRpdiA9IE1hdGgucG93KDIsIHBvd2VyKTtcbiAgICAgICAgICAgIHRlc3ROb3RhdGlvbnMucHVzaChzdWJkaXYgKyBcIm4uXCIpO1xuICAgICAgICAgICAgdGVzdE5vdGF0aW9ucy5wdXNoKHN1YmRpdiArIFwiblwiKTtcbiAgICAgICAgICAgIHRlc3ROb3RhdGlvbnMucHVzaChzdWJkaXYgKyBcInRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGVzdE5vdGF0aW9ucy5wdXNoKFwiMFwiKTtcbiAgICAgICAgLy8gZmluZCB0aGUgY2xvc2V0cyBub3RhdGlvbiByZXByZXNlbnRhdGlvblxuICAgICAgICBsZXQgY2xvc2VzdCA9IHRlc3ROb3RhdGlvbnNbMF07XG4gICAgICAgIGxldCBjbG9zZXN0U2Vjb25kcyA9IG5ldyBUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCB0ZXN0Tm90YXRpb25zWzBdKS50b1NlY29uZHMoKTtcbiAgICAgICAgdGVzdE5vdGF0aW9ucy5mb3JFYWNoKG5vdGF0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGF0aW9uU2Vjb25kcyA9IG5ldyBUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCBub3RhdGlvbikudG9TZWNvbmRzKCk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobm90YXRpb25TZWNvbmRzIC0gdGltZSkgPCBNYXRoLmFicyhjbG9zZXN0U2Vjb25kcyAtIHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdCA9IG5vdGF0aW9uO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RTZWNvbmRzID0gbm90YXRpb25TZWNvbmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGltZSBlbmNvZGVkIGFzIEJhcnM6QmVhdHM6U2l4dGVlbnRocy5cbiAgICAgKi9cbiAgICB0b0JhcnNCZWF0c1NpeHRlZW50aHMoKSB7XG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJUaW1lID0gdGhpcy5fYmVhdHNUb1VuaXRzKDEpO1xuICAgICAgICBsZXQgcXVhcnRlcnMgPSB0aGlzLnZhbHVlT2YoKSAvIHF1YXJ0ZXJUaW1lO1xuICAgICAgICBxdWFydGVycyA9IHBhcnNlRmxvYXQocXVhcnRlcnMudG9GaXhlZCg0KSk7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVzID0gTWF0aC5mbG9vcihxdWFydGVycyAvIHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSk7XG4gICAgICAgIGxldCBzaXh0ZWVudGhzID0gKHF1YXJ0ZXJzICUgMSkgKiA0O1xuICAgICAgICBxdWFydGVycyA9IE1hdGguZmxvb3IocXVhcnRlcnMpICUgdGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpO1xuICAgICAgICBjb25zdCBzaXh0ZWVudGhTdHJpbmcgPSBzaXh0ZWVudGhzLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChzaXh0ZWVudGhTdHJpbmcubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgLy8gdGhlIGFkZGl0aW9uYWwgcGFyc2VGbG9hdCByZW1vdmVzIGluc2lnbmlmaWNhbnQgdHJhaWxpbmcgemVyb2VzXG4gICAgICAgICAgICBzaXh0ZWVudGhzID0gcGFyc2VGbG9hdChwYXJzZUZsb2F0KHNpeHRlZW50aFN0cmluZykudG9GaXhlZCgzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBbbWVhc3VyZXMsIHF1YXJ0ZXJzLCBzaXh0ZWVudGhzXTtcbiAgICAgICAgcmV0dXJuIHByb2dyZXNzLmpvaW4oXCI6XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWUgaW4gdGlja3MuXG4gICAgICovXG4gICAgdG9UaWNrcygpIHtcbiAgICAgICAgY29uc3QgcXVhcnRlclRpbWUgPSB0aGlzLl9iZWF0c1RvVW5pdHMoMSk7XG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJzID0gdGhpcy52YWx1ZU9mKCkgLyBxdWFydGVyVGltZTtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocXVhcnRlcnMgKiB0aGlzLl9nZXRQUFEoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGltZSBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIHRvU2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIGFzIGEgbWlkaSBub3RlLlxuICAgICAqL1xuICAgIHRvTWlkaSgpIHtcbiAgICAgICAgcmV0dXJuIGZ0b20odGhpcy50b0ZyZXF1ZW5jeSgpKTtcbiAgICB9XG4gICAgX25vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5ub3coKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIFRpbWVDbGFzcyBmcm9tIGEgdGltZSBzdHJpbmcgb3IgbnVtYmVyLiBUaGUgdGltZSBpcyBjb21wdXRlZCBhZ2FpbnN0IHRoZVxuICogZ2xvYmFsIFRvbmUuQ29udGV4dC4gVG8gdXNlIGEgc3BlY2lmaWMgY29udGV4dCwgdXNlIFtbVGltZUNsYXNzXV1cbiAqIEBwYXJhbSB2YWx1ZSBBIHZhbHVlIHdoaWNoIHJlcHJlc2VudHMgdGltZVxuICogQHBhcmFtIHVuaXRzIFRoZSB2YWx1ZSdzIHVuaXRzIGlmIHRoZXkgY2FuJ3QgYmUgaW5mZXJyZWQgYnkgdGhlIHZhbHVlLlxuICogQGNhdGVnb3J5IFVuaXRcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0aW1lID0gVG9uZS5UaW1lKFwiNG5cIikudG9TZWNvbmRzKCk7XG4gKiBjb25zb2xlLmxvZyh0aW1lKTtcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBub3RlID0gVG9uZS5UaW1lKDEpLnRvTm90YXRpb24oKTtcbiAqIGNvbnNvbGUubG9nKG5vdGUpO1xuICogQGV4YW1wbGVcbiAqIGNvbnN0IGZyZXEgPSBUb25lLlRpbWUoMC41KS50b0ZyZXF1ZW5jeSgpO1xuICogY29uc29sZS5sb2coZnJlcSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUaW1lKHZhbHVlLCB1bml0cykge1xuICAgIHJldHVybiBuZXcgVGltZUNsYXNzKGdldENvbnRleHQoKSwgdmFsdWUsIHVuaXRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWUuanMubWFwIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gXCIuLi9HbG9iYWxcIjtcbmltcG9ydCB7IGludGVydmFsVG9GcmVxdWVuY3lSYXRpbywgbXRvZiB9IGZyb20gXCIuL0NvbnZlcnNpb25zXCI7XG5pbXBvcnQgeyBmdG9tLCBnZXRBNCwgc2V0QTQgfSBmcm9tIFwiLi9Db252ZXJzaW9uc1wiO1xuaW1wb3J0IHsgVGltZUNsYXNzIH0gZnJvbSBcIi4vVGltZVwiO1xuLyoqXG4gKiBGcmVxdWVuY3kgaXMgYSBwcmltaXRpdmUgdHlwZSBmb3IgZW5jb2RpbmcgRnJlcXVlbmN5IHZhbHVlcy5cbiAqIEV2ZW50dWFsbHkgYWxsIHRpbWUgdmFsdWVzIGFyZSBldmFsdWF0ZWQgdG8gaGVydHogdXNpbmcgdGhlIGB2YWx1ZU9mYCBtZXRob2QuXG4gKiBAZXhhbXBsZVxuICogVG9uZS5GcmVxdWVuY3koXCJDM1wiKTsgLy8gMjYxXG4gKiBUb25lLkZyZXF1ZW5jeSgzOCwgXCJtaWRpXCIpO1xuICogVG9uZS5GcmVxdWVuY3koXCJDM1wiKS50cmFuc3Bvc2UoNCk7XG4gKiBAY2F0ZWdvcnkgVW5pdFxuICovXG5leHBvcnQgY2xhc3MgRnJlcXVlbmN5Q2xhc3MgZXh0ZW5kcyBUaW1lQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZyZXF1ZW5jeVwiO1xuICAgICAgICB0aGlzLmRlZmF1bHRVbml0cyA9IFwiaHpcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIFtjb25jZXJ0IHR1bmluZyBwaXRjaF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29uY2VydF9waXRjaCkgd2hpY2ggaXMgdXNlZFxuICAgICAqIHRvIGdlbmVyYXRlIGFsbCB0aGUgb3RoZXIgcGl0Y2ggdmFsdWVzIGZyb20gbm90ZXMuIEE0J3MgdmFsdWVzIGluIEhlcnR6LlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgQTQoKSB7XG4gICAgICAgIHJldHVybiBnZXRBNCgpO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0IEE0KGZyZXEpIHtcbiAgICAgICAgc2V0QTQoZnJlcSk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0QVVHTUVOVCBCQVNFIEVYUFJFU1NJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgX2dldEV4cHJlc3Npb25zKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3VwZXIuX2dldEV4cHJlc3Npb25zKCksIHtcbiAgICAgICAgICAgIG1pZGk6IHtcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCsoPzpcXC5cXGQrKT9taWRpKS8sXG4gICAgICAgICAgICAgICAgbWV0aG9kKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRVbml0cyA9PT0gXCJtaWRpXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGcmVxdWVuY3lDbGFzcy5tdG9mKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90ZToge1xuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oW2EtZ117MX0oPzpifCN8eHxiYik/KSgtP1swLTldKykvaSxcbiAgICAgICAgICAgICAgICBtZXRob2QocGl0Y2gsIG9jdGF2ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG5vdGVUb1NjYWxlSW5kZXhbcGl0Y2gudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVOdW1iZXIgPSBpbmRleCArIChwYXJzZUludChvY3RhdmUsIDEwKSArIDEpICogMTI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRVbml0cyA9PT0gXCJtaWRpXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZyZXF1ZW5jeUNsYXNzLm10b2Yobm90ZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyOiB7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKD86XFwuXFxkKyk/KTooXFxkKyg/OlxcLlxcZCspPyk6PyhcXGQrKD86XFwuXFxkKyk/KT8vLFxuICAgICAgICAgICAgICAgIG1ldGhvZChtLCBxLCBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtICYmIG0gIT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCAqPSB0aGlzLl9iZWF0c1RvVW5pdHModGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpICogcGFyc2VGbG9hdChtKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHEgJiYgcSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICo9IHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KHEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBzICE9PSBcIjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgKj0gdGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlRmxvYXQocykgLyA0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdEVYUFJFU1NJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogVHJhbnNwb3NlcyB0aGUgZnJlcXVlbmN5IGJ5IHRoZSBnaXZlbiBudW1iZXIgb2Ygc2VtaXRvbmVzLlxuICAgICAqIEByZXR1cm4gIEEgbmV3IHRyYW5zcG9zZWQgZnJlcXVlbmN5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLkZyZXF1ZW5jeShcIkE0XCIpLnRyYW5zcG9zZSgzKTsgLy8gXCJDNVwiXG4gICAgICovXG4gICAgdHJhbnNwb3NlKGludGVydmFsKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJlcXVlbmN5Q2xhc3ModGhpcy5jb250ZXh0LCB0aGlzLnZhbHVlT2YoKSAqIGludGVydmFsVG9GcmVxdWVuY3lSYXRpbyhpbnRlcnZhbCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiBzZW1pdG9uZSBpbnRlcnZhbHMgYW5kIHJldHVybnNcbiAgICAgKiBhbiBhcnJheSBvZiBmcmVxdWVuY2llcyB0cmFuc3Bvc2VkIGJ5IHRob3NlIGludGVydmFscy5cbiAgICAgKiBAcmV0dXJuICBSZXR1cm5zIGFuIGFycmF5IG9mIEZyZXF1ZW5jaWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLkZyZXF1ZW5jeShcIkE0XCIpLmhhcm1vbml6ZShbMCwgMywgN10pOyAvLyBbXCJBNFwiLCBcIkM1XCIsIFwiRTVcIl1cbiAgICAgKi9cbiAgICBoYXJtb25pemUoaW50ZXJ2YWxzKSB7XG4gICAgICAgIHJldHVybiBpbnRlcnZhbHMubWFwKGludGVydmFsID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9zZShpbnRlcnZhbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFVOSVQgQ09OVkVSU0lPTlNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmcmVxdWVuY3kgYXMgYSBNSURJIG5vdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFRvbmUuRnJlcXVlbmN5KFwiQzRcIikudG9NaWRpKCk7IC8vIDYwXG4gICAgICovXG4gICAgdG9NaWRpKCkge1xuICAgICAgICByZXR1cm4gZnRvbSh0aGlzLnZhbHVlT2YoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZyZXF1ZW5jeSBpbiBTY2llbnRpZmljIFBpdGNoIE5vdGF0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLkZyZXF1ZW5jeSg2OSwgXCJtaWRpXCIpLnRvTm90ZSgpOyAvLyBcIkE0XCJcbiAgICAgKi9cbiAgICB0b05vdGUoKSB7XG4gICAgICAgIGNvbnN0IGZyZXEgPSB0aGlzLnRvRnJlcXVlbmN5KCk7XG4gICAgICAgIGNvbnN0IGxvZyA9IE1hdGgubG9nMihmcmVxIC8gRnJlcXVlbmN5Q2xhc3MuQTQpO1xuICAgICAgICBsZXQgbm90ZU51bWJlciA9IE1hdGgucm91bmQoMTIgKiBsb2cpICsgNTc7XG4gICAgICAgIGNvbnN0IG9jdGF2ZSA9IE1hdGguZmxvb3Iobm90ZU51bWJlciAvIDEyKTtcbiAgICAgICAgaWYgKG9jdGF2ZSA8IDApIHtcbiAgICAgICAgICAgIG5vdGVOdW1iZXIgKz0gLTEyICogb2N0YXZlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vdGVOYW1lID0gc2NhbGVJbmRleFRvTm90ZVtub3RlTnVtYmVyICUgMTJdO1xuICAgICAgICByZXR1cm4gbm90ZU5hbWUgKyBvY3RhdmUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkdXJhdGlvbiBvZiBvbmUgY3ljbGUgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICB0b1NlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiAxIC8gc3VwZXIudG9TZWNvbmRzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZHVyYXRpb24gb2Ygb25lIGN5Y2xlIGluIHRpY2tzXG4gICAgICovXG4gICAgdG9UaWNrcygpIHtcbiAgICAgICAgY29uc3QgcXVhcnRlclRpbWUgPSB0aGlzLl9iZWF0c1RvVW5pdHMoMSk7XG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJzID0gdGhpcy52YWx1ZU9mKCkgLyBxdWFydGVyVGltZTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocXVhcnRlcnMgKiB0aGlzLl9nZXRQUFEoKSk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0VU5JVCBDT05WRVJTSU9OUyBIRUxQRVJTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogV2l0aCBubyBhcmd1bWVudHMsIHJldHVybiAwXG4gICAgICovXG4gICAgX25vQXJnKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBmcmVxdWVuY3kgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfZnJlcXVlbmN5VG9Vbml0cyhmcmVxKSB7XG4gICAgICAgIHJldHVybiBmcmVxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIHRpY2sgaW4gdGhlIGN1cnJlbnQgdGltZSB1bml0c1xuICAgICAqL1xuICAgIF90aWNrc1RvVW5pdHModGlja3MpIHtcbiAgICAgICAgcmV0dXJuIDEgLyAoKHRpY2tzICogNjApIC8gKHRoaXMuX2dldEJwbSgpICogdGhpcy5fZ2V0UFBRKCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgYmVhdHMgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfYmVhdHNUb1VuaXRzKGJlYXRzKSB7XG4gICAgICAgIHJldHVybiAxIC8gc3VwZXIuX2JlYXRzVG9Vbml0cyhiZWF0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgc2Vjb25kIGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX3NlY29uZHNUb1VuaXRzKHNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuIDEgLyBzZWNvbmRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgTUlESSBub3RlIHRvIGZyZXF1ZW5jeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gIG1pZGkgVGhlIG1pZGkgbnVtYmVyIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybiBUaGUgY29ycmVzcG9uZGluZyBmcmVxdWVuY3kgdmFsdWVcbiAgICAgKi9cbiAgICBzdGF0aWMgbXRvZihtaWRpKSB7XG4gICAgICAgIHJldHVybiBtdG9mKG1pZGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZnJlcXVlbmN5IHZhbHVlIHRvIGEgTUlESSBub3RlLlxuICAgICAqIEBwYXJhbSBmcmVxdWVuY3kgVGhlIHZhbHVlIHRvIGZyZXF1ZW5jeSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqL1xuICAgIHN0YXRpYyBmdG9tKGZyZXF1ZW5jeSkge1xuICAgICAgICByZXR1cm4gZnRvbShmcmVxdWVuY3kpO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gXHRGUkVRVUVOQ1kgQ09OVkVSU0lPTlNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBOb3RlIHRvIHNjYWxlIGluZGV4LlxuICogQGhpZGRlblxuICovXG5jb25zdCBub3RlVG9TY2FsZUluZGV4ID0ge1xuICAgIGNiYjogLTIsIGNiOiAtMSwgYzogMCwgXCJjI1wiOiAxLCBjeDogMixcbiAgICBkYmI6IDAsIGRiOiAxLCBkOiAyLCBcImQjXCI6IDMsIGR4OiA0LFxuICAgIGViYjogMiwgZWI6IDMsIGU6IDQsIFwiZSNcIjogNSwgZXg6IDYsXG4gICAgZmJiOiAzLCBmYjogNCwgZjogNSwgXCJmI1wiOiA2LCBmeDogNyxcbiAgICBnYmI6IDUsIGdiOiA2LCBnOiA3LCBcImcjXCI6IDgsIGd4OiA5LFxuICAgIGFiYjogNywgYWI6IDgsIGE6IDksIFwiYSNcIjogMTAsIGF4OiAxMSxcbiAgICBiYmI6IDksIGJiOiAxMCwgYjogMTEsIFwiYiNcIjogMTIsIGJ4OiAxMyxcbn07XG4vKipcbiAqIHNjYWxlIGluZGV4IHRvIG5vdGUgKHNoYXJwcylcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3Qgc2NhbGVJbmRleFRvTm90ZSA9IFtcIkNcIiwgXCJDI1wiLCBcIkRcIiwgXCJEI1wiLCBcIkVcIiwgXCJGXCIsIFwiRiNcIiwgXCJHXCIsIFwiRyNcIiwgXCJBXCIsIFwiQSNcIiwgXCJCXCJdO1xuLyoqXG4gKiBDb252ZXJ0IGEgdmFsdWUgaW50byBhIEZyZXF1ZW5jeUNsYXNzIG9iamVjdC5cbiAqIEBjYXRlZ29yeSBVbml0XG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWlkaSA9IFRvbmUuRnJlcXVlbmN5KFwiQzNcIikudG9NaWRpKCk7XG4gKiBjb25zb2xlLmxvZyhtaWRpKTtcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBoZXJ0eiA9IFRvbmUuRnJlcXVlbmN5KDM4LCBcIm1pZGlcIikudG9GcmVxdWVuY3koKTtcbiAqIGNvbnNvbGUubG9nKGhlcnR6KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZyZXF1ZW5jeSh2YWx1ZSwgdW5pdHMpIHtcbiAgICByZXR1cm4gbmV3IEZyZXF1ZW5jeUNsYXNzKGdldENvbnRleHQoKSwgdmFsdWUsIHVuaXRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZyZXF1ZW5jeS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSBcIi4uL0dsb2JhbFwiO1xuaW1wb3J0IHsgVGltZUNsYXNzIH0gZnJvbSBcIi4vVGltZVwiO1xuLyoqXG4gKiBUcmFuc3BvcnRUaW1lIGlzIGEgdGhlIHRpbWUgYWxvbmcgdGhlIFRyYW5zcG9ydCdzXG4gKiB0aW1lbGluZS4gSXQgaXMgc2ltaWxhciB0byBUb25lLlRpbWUsIGJ1dCBpbnN0ZWFkIG9mIGV2YWx1YXRpbmdcbiAqIGFnYWluc3QgdGhlIEF1ZGlvQ29udGV4dCdzIGNsb2NrLCBpdCBpcyBldmFsdWF0ZWQgYWdhaW5zdFxuICogdGhlIFRyYW5zcG9ydCdzIHBvc2l0aW9uLiBTZWUgW1RyYW5zcG9ydFRpbWUgd2lraV0oaHR0cHM6Ly9naXRodWIuY29tL1RvbmVqcy9Ub25lLmpzL3dpa2kvVHJhbnNwb3J0VGltZSkuXG4gKiBAY2F0ZWdvcnkgVW5pdFxuICovXG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0VGltZUNsYXNzIGV4dGVuZHMgVGltZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFuc3BvcnRUaW1lXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY3VycmVudCB0aW1lIGluIHdoaWNoZXZlciBjb250ZXh0IGlzIHJlbGV2YW50XG4gICAgICovXG4gICAgX25vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kcztcbiAgICB9XG59XG4vKipcbiAqIFRyYW5zcG9ydFRpbWUgaXMgYSB0aGUgdGltZSBhbG9uZyB0aGUgVHJhbnNwb3J0J3NcbiAqIHRpbWVsaW5lLiBJdCBpcyBzaW1pbGFyIHRvIFtbVGltZV1dLCBidXQgaW5zdGVhZCBvZiBldmFsdWF0aW5nXG4gKiBhZ2FpbnN0IHRoZSBBdWRpb0NvbnRleHQncyBjbG9jaywgaXQgaXMgZXZhbHVhdGVkIGFnYWluc3RcbiAqIHRoZSBUcmFuc3BvcnQncyBwb3NpdGlvbi4gU2VlIFtUcmFuc3BvcnRUaW1lIHdpa2ldKGh0dHBzOi8vZ2l0aHViLmNvbS9Ub25lanMvVG9uZS5qcy93aWtpL1RyYW5zcG9ydFRpbWUpLlxuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zcG9ydFRpbWUodmFsdWUsIHVuaXRzKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc3BvcnRUaW1lQ2xhc3MoZ2V0Q29udGV4dCgpLCB2YWx1ZSwgdW5pdHMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNwb3J0VGltZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSBcIi4uL0dsb2JhbFwiO1xuaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG5pbXBvcnQgeyBGcmVxdWVuY3lDbGFzcyB9IGZyb20gXCIuLi90eXBlL0ZyZXF1ZW5jeVwiO1xuaW1wb3J0IHsgVGltZUNsYXNzIH0gZnJvbSBcIi4uL3R5cGUvVGltZVwiO1xuaW1wb3J0IHsgVHJhbnNwb3J0VGltZUNsYXNzIH0gZnJvbSBcIi4uL3R5cGUvVHJhbnNwb3J0VGltZVwiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHNGcm9tSW5zdGFuY2UsIG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IGlzQXJyYXksIGlzQm9vbGVhbiwgaXNEZWZpbmVkLCBpc051bWJlciwgaXNTdHJpbmcsIGlzVW5kZWYgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbi8qKlxuICogVGhlIEJhc2UgY2xhc3MgZm9yIGFsbCBub2RlcyB0aGF0IGhhdmUgYW4gQXVkaW9Db250ZXh0LlxuICovXG5leHBvcnQgY2xhc3MgVG9uZVdpdGhDb250ZXh0IGV4dGVuZHMgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lV2l0aENvbnRleHQuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJjb250ZXh0XCJdKTtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdENvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuZGVmYXVsdENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGV4dDogZ2V0Q29udGV4dCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgQ29udGV4dCBjbG9jayBwbHVzIHRoZSBsb29rQWhlYWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogXHRjb25zb2xlLmxvZyhUb25lLm5vdygpKTtcbiAgICAgKiB9LCAxMDApO1xuICAgICAqL1xuICAgIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIHRoaXMuY29udGV4dC5sb29rQWhlYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY3VycmVudCB0aW1lIG9mIHRoZSBDb250ZXh0IGNsb2NrIHdpdGhvdXQgYW55IGxvb2tBaGVhZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiBcdGNvbnNvbGUubG9nKFRvbmUuaW1tZWRpYXRlKCkpO1xuICAgICAqIH0sIDEwMCk7XG4gICAgICovXG4gICAgaW1tZWRpYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcyBvZiBvbmUgc2FtcGxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc29sZS5sb2coVG9uZS5UcmFuc3BvcnQuc2FtcGxlVGltZSk7XG4gICAgICovXG4gICAgZ2V0IHNhbXBsZVRpbWUoKSB7XG4gICAgICAgIHJldHVybiAxIC8gdGhpcy5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBvZiAxIHByb2Nlc3NpbmcgYmxvY2sgKDEyOCBzYW1wbGVzKVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc29sZS5sb2coVG9uZS5EZXN0aW5hdGlvbi5ibG9ja1RpbWUpO1xuICAgICAqL1xuICAgIGdldCBibG9ja1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAxMjggLyB0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgaW5jb21pbmcgdGltZSB0byBzZWNvbmRzLlxuICAgICAqIFRoaXMgaXMgY2FsY3VsYXRlZCBhZ2FpbnN0IHRoZSBjdXJyZW50IFtbVG9uZS5UcmFuc3BvcnRdXSBicG1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdhaW4gPSBuZXcgVG9uZS5HYWluKCk7XG4gICAgICogc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coZ2Fpbi50b1NlY29uZHMoXCI0blwiKSksIDEwMCk7XG4gICAgICogLy8gcmFtcCB0aGUgdGVtcG8gdG8gNjAgYnBtIG92ZXIgMzAgc2Vjb25kc1xuICAgICAqIFRvbmUuZ2V0VHJhbnNwb3J0KCkuYnBtLnJhbXBUbyg2MCwgMzApO1xuICAgICAqL1xuICAgIHRvU2Vjb25kcyh0aW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGltZSkudG9TZWNvbmRzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIGlucHV0IHRvIGEgZnJlcXVlbmN5IG51bWJlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZ2FpbiA9IG5ldyBUb25lLkdhaW4oKTtcbiAgICAgKiBjb25zb2xlLmxvZyhnYWluLnRvRnJlcXVlbmN5KFwiNG5cIikpO1xuICAgICAqL1xuICAgIHRvRnJlcXVlbmN5KGZyZXEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmVxdWVuY3lDbGFzcyh0aGlzLmNvbnRleHQsIGZyZXEpLnRvRnJlcXVlbmN5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIGlucHV0IHRpbWUgaW50byB0aWNrc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZ2FpbiA9IG5ldyBUb25lLkdhaW4oKTtcbiAgICAgKiBjb25zb2xlLmxvZyhnYWluLnRvVGlja3MoXCI0blwiKSk7XG4gICAgICovXG4gICAgdG9UaWNrcyh0aW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNwb3J0VGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGltZSkudG9UaWNrcygpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdEdFVC9TRVRcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIHByb3BlcnRpZXMgd2hpY2ggYXJlIGluIHRoZSBwYXJ0aWFsIHByb3BzXG4gICAgICovXG4gICAgX2dldFBhcnRpYWxQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldCgpO1xuICAgICAgICAvLyByZW1vdmUgYXR0cmlidXRlcyBmcm9tIHRoZSBwcm9wIHRoYXQgYXJlIG5vdCBpbiB0aGUgcGFydGlhbFxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWYocHJvcHNbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvYmplY3QncyBhdHRyaWJ1dGVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpO1xuICAgICAqIGNvbnNvbGUubG9nKG9zYy5nZXQoKSk7XG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGdldERlZmF1bHRzRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgICAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgaWYgKFJlZmxlY3QuaGFzKHRoaXMsIGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZW1iZXIgPSB0aGlzW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChtZW1iZXIpICYmIGlzRGVmaW5lZChtZW1iZXIudmFsdWUpICYmIGlzRGVmaW5lZChtZW1iZXIuc2V0VmFsdWVBdFRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzW2F0dHJpYnV0ZV0gPSBtZW1iZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lbWJlciBpbnN0YW5jZW9mIFRvbmVXaXRoQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0c1thdHRyaWJ1dGVdID0gbWVtYmVyLl9nZXRQYXJ0aWFsUHJvcGVydGllcyhkZWZhdWx0c1thdHRyaWJ1dGVdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIG1ha2Ugc3VyZSBpdCdzIGEgc2VyaWFsaXphYmxlIHR5cGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShtZW1iZXIpIHx8IGlzTnVtYmVyKG1lbWJlcikgfHwgaXNTdHJpbmcobWVtYmVyKSB8fCBpc0Jvb2xlYW4obWVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0c1thdHRyaWJ1dGVdID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCB1bmRlZmluZWQgYW5kIHVuc2VyaWFsaXphYmxlIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlZmF1bHRzW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlIHdpdGggYW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZmlsdGVyID0gbmV3IFRvbmUuRmlsdGVyKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIHNldCB2YWx1ZXMgdXNpbmcgYW4gb2JqZWN0XG4gICAgICogZmlsdGVyLnNldCh7XG4gICAgICogXHRmcmVxdWVuY3k6IFwiQzZcIixcbiAgICAgKiBcdHR5cGU6IFwiaGlnaHBhc3NcIlxuICAgICAqIH0pO1xuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL0FuYWxvZ3N5bnRoX29jdGF2ZXNfaGlnaG1pZC5tcDNcIikuY29ubmVjdChmaWx0ZXIpO1xuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqL1xuICAgIHNldChwcm9wcykge1xuICAgICAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgaWYgKFJlZmxlY3QuaGFzKHRoaXMsIGF0dHJpYnV0ZSkgJiYgaXNEZWZpbmVkKHRoaXNbYXR0cmlidXRlXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1thdHRyaWJ1dGVdICYmIGlzRGVmaW5lZCh0aGlzW2F0dHJpYnV0ZV0udmFsdWUpICYmIGlzRGVmaW5lZCh0aGlzW2F0dHJpYnV0ZV0uc2V0VmFsdWVBdFRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNtYWxsIG9wdGltaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1thdHRyaWJ1dGVdLnZhbHVlICE9PSBwcm9wc1thdHRyaWJ1dGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2F0dHJpYnV0ZV0udmFsdWUgPSBwcm9wc1thdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXNbYXR0cmlidXRlXSBpbnN0YW5jZW9mIFRvbmVXaXRoQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2F0dHJpYnV0ZV0uc2V0KHByb3BzW2F0dHJpYnV0ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1thdHRyaWJ1dGVdID0gcHJvcHNbYXR0cmlidXRlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lV2l0aENvbnRleHQuanMubWFwIiwiaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi9UaW1lbGluZVwiO1xuaW1wb3J0IHsgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi9EZWJ1Z1wiO1xuLyoqXG4gKiBBIFRpbWVsaW5lIFN0YXRlLiBQcm92aWRlcyB0aGUgbWV0aG9kczogYHNldFN0YXRlQXRUaW1lKFwic3RhdGVcIiwgdGltZSlgIGFuZCBgZ2V0VmFsdWVBdFRpbWUodGltZSlgXG4gKiBAcGFyYW0gaW5pdGlhbCBUaGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgU3RhdGVUaW1lbGluZS4gIERlZmF1bHRzIHRvIGB1bmRlZmluZWRgXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGF0ZVRpbWVsaW5lIGV4dGVuZHMgVGltZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWwgPSBcInN0b3BwZWRcIikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlN0YXRlVGltZWxpbmVcIjtcbiAgICAgICAgdGhpcy5faW5pdGlhbCA9IGluaXRpYWw7XG4gICAgICAgIHRoaXMuc2V0U3RhdGVBdFRpbWUodGhpcy5faW5pdGlhbCwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNjaGVkdWxlZCBzdGF0ZSBzY2hlZHVsZWQgYmVmb3JlIG9yIGF0XG4gICAgICogdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJuICBUaGUgbmFtZSBvZiB0aGUgc3RhdGUgaW5wdXQgaW4gc2V0U3RhdGVBdFRpbWUuXG4gICAgICovXG4gICAgZ2V0VmFsdWVBdFRpbWUodGltZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0KHRpbWUpO1xuICAgICAgICBpZiAoZXZlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHN0YXRlIHRvIHRoZSB0aW1lbGluZS5cbiAgICAgKiBAcGFyYW0gIHN0YXRlIFRoZSBuYW1lIG9mIHRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBbnkgYWRkaXRpb25hbCBvcHRpb25zIHRoYXQgYXJlIG5lZWRlZCBpbiB0aGUgdGltZWxpbmUuXG4gICAgICovXG4gICAgc2V0U3RhdGVBdFRpbWUoc3RhdGUsIHRpbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgYXNzZXJ0UmFuZ2UodGltZSwgMCk7XG4gICAgICAgIHRoaXMuYWRkKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgdGltZSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBldmVudCBiZWZvcmUgdGhlIHRpbWUgd2l0aCB0aGUgZ2l2ZW4gc3RhdGVcbiAgICAgKiBAcGFyYW0gIHN0YXRlIFRoZSBzdGF0ZSB0byBsb29rIGZvclxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBjaGVjayBiZWZvcmVcbiAgICAgKiBAcmV0dXJuICBUaGUgZXZlbnQgd2l0aCB0aGUgZ2l2ZW4gc3RhdGUgYmVmb3JlIHRoZSB0aW1lXG4gICAgICovXG4gICAgZ2V0TGFzdFN0YXRlKHN0YXRlLCB0aW1lKSB7XG4gICAgICAgIC8vIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fdGltZWxpbmVbaV07XG4gICAgICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZXZlbnQgYWZ0ZXIgdGhlIHRpbWUgd2l0aCB0aGUgZ2l2ZW4gc3RhdGVcbiAgICAgKiBAcGFyYW0gIHN0YXRlIFRoZSBzdGF0ZSB0byBsb29rIGZvclxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBjaGVjayBmcm9tXG4gICAgICogQHJldHVybiAgVGhlIGV2ZW50IHdpdGggdGhlIGdpdmVuIHN0YXRlIGFmdGVyIHRoZSB0aW1lXG4gICAgICovXG4gICAgZ2V0TmV4dFN0YXRlKHN0YXRlLCB0aW1lKSB7XG4gICAgICAgIC8vIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IHRoaXMuX3RpbWVsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl90aW1lbGluZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZVRpbWVsaW5lLmpzLm1hcCIsImltcG9ydCB7IGRiVG9HYWluLCBnYWluVG9EYiB9IGZyb20gXCIuLi90eXBlL0NvbnZlcnNpb25zXCI7XG5pbXBvcnQgeyBpc0F1ZGlvUGFyYW0gfSBmcm9tIFwiLi4vdXRpbC9BZHZhbmNlZFR5cGVDaGVja1wiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9UaW1lbGluZVwiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBUb25lV2l0aENvbnRleHQgfSBmcm9tIFwiLi9Ub25lV2l0aENvbnRleHRcIjtcbmltcG9ydCB7IEVRIH0gZnJvbSBcIi4uL3V0aWwvTWF0aFwiO1xuaW1wb3J0IHsgYXNzZXJ0LCBhc3NlcnRSYW5nZSB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIFBhcmFtIHdyYXBzIHRoZSBuYXRpdmUgV2ViIEF1ZGlvJ3MgQXVkaW9QYXJhbSB0byBwcm92aWRlXG4gKiBhZGRpdGlvbmFsIHVuaXQgY29udmVyc2lvbiBmdW5jdGlvbmFsaXR5LiBJdCBhbHNvXG4gKiBzZXJ2ZXMgYXMgYSBiYXNlLWNsYXNzIGZvciBjbGFzc2VzIHdoaWNoIGhhdmUgYSBzaW5nbGUsXG4gKiBhdXRvbWF0YWJsZSBwYXJhbWV0ZXIuXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY2xhc3MgUGFyYW0gZXh0ZW5kcyBUb25lV2l0aENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhQYXJhbS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInBhcmFtXCIsIFwidW5pdHNcIiwgXCJjb252ZXJ0XCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUGFyYW1cIjtcbiAgICAgICAgdGhpcy5vdmVycmlkZGVuID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWluaW11bSBvdXRwdXQgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbk91dHB1dCA9IDFlLTc7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhQYXJhbS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInBhcmFtXCIsIFwidW5pdHNcIiwgXCJjb252ZXJ0XCJdKTtcbiAgICAgICAgYXNzZXJ0KGlzRGVmaW5lZChvcHRpb25zLnBhcmFtKSAmJlxuICAgICAgICAgICAgKGlzQXVkaW9QYXJhbShvcHRpb25zLnBhcmFtKSB8fCBvcHRpb25zLnBhcmFtIGluc3RhbmNlb2YgUGFyYW0pLCBcInBhcmFtIG11c3QgYmUgYW4gQXVkaW9QYXJhbVwiKTtcbiAgICAgICAgd2hpbGUgKCFpc0F1ZGlvUGFyYW0ob3B0aW9ucy5wYXJhbSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW0gPSBvcHRpb25zLnBhcmFtLl9wYXJhbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zd2FwcGFibGUgPSBpc0RlZmluZWQob3B0aW9ucy5zd2FwcGFibGUpID8gb3B0aW9ucy5zd2FwcGFibGUgOiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX3N3YXBwYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgICAgICB0aGlzLl9wYXJhbSA9IG9wdGlvbnMucGFyYW07XG4gICAgICAgICAgICB0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fcGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGFyYW0gPSB0aGlzLmlucHV0ID0gb3B0aW9ucy5wYXJhbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgVGltZWxpbmUoMTAwMCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxWYWx1ZSA9IHRoaXMuX3BhcmFtLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy51bml0cyA9IG9wdGlvbnMudW5pdHM7XG4gICAgICAgIHRoaXMuY29udmVydCA9IG9wdGlvbnMuY29udmVydDtcbiAgICAgICAgdGhpcy5fbWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlO1xuICAgICAgICB0aGlzLl9tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XG4gICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBkZWZpbmVkLCBzZXQgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLnZhbHVlKSAmJiBvcHRpb25zLnZhbHVlICE9PSB0aGlzLl90b1R5cGUodGhpcy5faW5pdGlhbFZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZUF0VGltZShvcHRpb25zLnZhbHVlLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVXaXRoQ29udGV4dC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjb252ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgdW5pdHM6IFwibnVtYmVyXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKG5vdyk7XG4gICAgfVxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aGlzLm5vdygpKTtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZUF0VGltZSh2YWx1ZSwgdGhpcy5ub3coKSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgLy8gaWYgaXQncyBub3QgdGhlIGRlZmF1bHQgbWluVmFsdWUsIHJldHVybiBpdFxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuX21pblZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21pblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudW5pdHMgPT09IFwidGltZVwiIHx8IHRoaXMudW5pdHMgPT09IFwiZnJlcXVlbmN5XCIgfHxcbiAgICAgICAgICAgIHRoaXMudW5pdHMgPT09IFwibm9ybWFsUmFuZ2VcIiB8fCB0aGlzLnVuaXRzID09PSBcInBvc2l0aXZlXCIgfHxcbiAgICAgICAgICAgIHRoaXMudW5pdHMgPT09IFwidHJhbnNwb3J0VGltZVwiIHx8IHRoaXMudW5pdHMgPT09IFwidGlja3NcIiB8fFxuICAgICAgICAgICAgdGhpcy51bml0cyA9PT0gXCJicG1cIiB8fCB0aGlzLnVuaXRzID09PSBcImhlcnR6XCIgfHwgdGhpcy51bml0cyA9PT0gXCJzYW1wbGVzXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudW5pdHMgPT09IFwiYXVkaW9SYW5nZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy51bml0cyA9PT0gXCJkZWNpYmVsc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLm1pblZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLl9tYXhWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVuaXRzID09PSBcIm5vcm1hbFJhbmdlXCIgfHxcbiAgICAgICAgICAgIHRoaXMudW5pdHMgPT09IFwiYXVkaW9SYW5nZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5tYXhWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIGJhc2VkIG9uIHRoZSB1bml0IG5hbWVcbiAgICAgKi9cbiAgICBfaXMoYXJnLCB0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRzID09PSB0eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhlIHZhbHVlIGlzIGFsd2F5cyBpbiB0aGUgZGVmaW5lZCByYW5nZVxuICAgICAqL1xuICAgIF9hc3NlcnRSYW5nZSh2YWx1ZSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMubWF4VmFsdWUpICYmIGlzRGVmaW5lZCh0aGlzLm1pblZhbHVlKSkge1xuICAgICAgICAgICAgYXNzZXJ0UmFuZ2UodmFsdWUsIHRoaXMuX2Zyb21UeXBlKHRoaXMubWluVmFsdWUpLCB0aGlzLl9mcm9tVHlwZSh0aGlzLm1heFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBnaXZlbiB2YWx1ZSBmcm9tIHRoZSB0eXBlIHNwZWNpZmllZCBieSBQYXJhbS51bml0c1xuICAgICAqIGludG8gdGhlIGRlc3RpbmF0aW9uIHZhbHVlIChzdWNoIGFzIEdhaW4gb3IgRnJlcXVlbmN5KS5cbiAgICAgKi9cbiAgICBfZnJvbVR5cGUodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnZlcnQgJiYgIXRoaXMub3ZlcnJpZGRlbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzKHZhbCwgXCJ0aW1lXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9TZWNvbmRzKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9pcyh2YWwsIFwiZGVjaWJlbHNcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGJUb0dhaW4odmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2lzKHZhbCwgXCJmcmVxdWVuY3lcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0ZyZXF1ZW5jeSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm92ZXJyaWRkZW4pIHtcbiAgICAgICAgICAgIC8vIGlmIGl0J3Mgb3ZlcnJpZGRlbiwgc2hvdWxkIG9ubHkgc2NoZWR1bGUgMHNcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBwYXJhbWV0ZXJzIHZhbHVlIGludG8gdGhlIHVuaXRzIHNwZWNpZmllZCBieSBQYXJhbS51bml0cy5cbiAgICAgKi9cbiAgICBfdG9UeXBlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5jb252ZXJ0ICYmIHRoaXMudW5pdHMgPT09IFwiZGVjaWJlbHNcIikge1xuICAgICAgICAgICAgcmV0dXJuIGdhaW5Ub0RiKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEFCU1RSQUNUIFBBUkFNIElOVEVSRkFDRVxuICAgIC8vIGFsbCBkb2NzIGFyZSBnZW5lcmF0ZWQgZnJvbSBQYXJhbUludGVyZmFjZS50c1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHNldFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBudW1lcmljVmFsdWUgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIGFzc2VydChpc0Zpbml0ZShudW1lcmljVmFsdWUpICYmIGlzRmluaXRlKGNvbXB1dGVkVGltZSksIGBJbnZhbGlkIGFyZ3VtZW50KHMpIHRvIHNldFZhbHVlQXRUaW1lOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0sICR7SlNPTi5zdHJpbmdpZnkodGltZSl9YCk7XG4gICAgICAgIHRoaXMuX2Fzc2VydFJhbmdlKG51bWVyaWNWYWx1ZSk7XG4gICAgICAgIHRoaXMubG9nKHRoaXMudW5pdHMsIFwic2V0VmFsdWVBdFRpbWVcIiwgdmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgdGltZTogY29tcHV0ZWRUaW1lLFxuICAgICAgICAgICAgdHlwZTogXCJzZXRWYWx1ZUF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3BhcmFtLnNldFZhbHVlQXRUaW1lKG51bWVyaWNWYWx1ZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFZhbHVlQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gTWF0aC5tYXgodGhpcy50b1NlY29uZHModGltZSksIDApO1xuICAgICAgICBjb25zdCBhZnRlciA9IHRoaXMuX2V2ZW50cy5nZXRBZnRlcihjb21wdXRlZFRpbWUpO1xuICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLl9ldmVudHMuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgLy8gaWYgaXQgd2FzIHNldCBieVxuICAgICAgICBpZiAoYmVmb3JlID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUudHlwZSA9PT0gXCJzZXRUYXJnZXRBdFRpbWVcIiAmJiAoYWZ0ZXIgPT09IG51bGwgfHwgYWZ0ZXIudHlwZSA9PT0gXCJzZXRWYWx1ZUF0VGltZVwiKSkge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9ldmVudHMuZ2V0QmVmb3JlKGJlZm9yZS50aW1lKTtcbiAgICAgICAgICAgIGxldCBwcmV2aW91c1ZhbDtcbiAgICAgICAgICAgIGlmIChwcmV2aW91cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsID0gdGhpcy5faW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNWYWwgPSBwcmV2aW91cy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZWZvcmUudHlwZSA9PT0gXCJzZXRUYXJnZXRBdFRpbWVcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZXhwb25lbnRpYWxBcHByb2FjaChiZWZvcmUudGltZSwgcHJldmlvdXNWYWwsIGJlZm9yZS52YWx1ZSwgYmVmb3JlLmNvbnN0YW50LCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJlZm9yZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZnRlci50eXBlID09PSBcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIgfHwgYWZ0ZXIudHlwZSA9PT0gXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIpIHtcbiAgICAgICAgICAgIGxldCBiZWZvcmVWYWx1ZSA9IGJlZm9yZS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChiZWZvcmUudHlwZSA9PT0gXCJzZXRUYXJnZXRBdFRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fZXZlbnRzLmdldEJlZm9yZShiZWZvcmUudGltZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVZhbHVlID0gdGhpcy5faW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlVmFsdWUgPSBwcmV2aW91cy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXIudHlwZSA9PT0gXCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9saW5lYXJJbnRlcnBvbGF0ZShiZWZvcmUudGltZSwgYmVmb3JlVmFsdWUsIGFmdGVyLnRpbWUsIGFmdGVyLnZhbHVlLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9leHBvbmVudGlhbEludGVycG9sYXRlKGJlZm9yZS50aW1lLCBiZWZvcmVWYWx1ZSwgYWZ0ZXIudGltZSwgYWZ0ZXIudmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJlZm9yZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdG9UeXBlKHZhbHVlKTtcbiAgICB9XG4gICAgc2V0UmFtcFBvaW50KHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBsZXQgY3VycmVudFZhbCA9IHRoaXMuZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgICAgIHRoaXMuY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMuX2Zyb21UeXBlKGN1cnJlbnRWYWwpID09PSAwKSB7XG4gICAgICAgICAgICBjdXJyZW50VmFsID0gdGhpcy5fdG9UeXBlKHRoaXMuX21pbk91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRWYWx1ZUF0VGltZShjdXJyZW50VmFsLCB0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKSB7XG4gICAgICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IHRoaXMuX2Zyb21UeXBlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHMoZW5kVGltZSk7XG4gICAgICAgIGFzc2VydChpc0Zpbml0ZShudW1lcmljVmFsdWUpICYmIGlzRmluaXRlKGNvbXB1dGVkVGltZSksIGBJbnZhbGlkIGFyZ3VtZW50KHMpIHRvIGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0sICR7SlNPTi5zdHJpbmdpZnkoZW5kVGltZSl9YCk7XG4gICAgICAgIHRoaXMuX2Fzc2VydFJhbmdlKG51bWVyaWNWYWx1ZSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgdGltZTogY29tcHV0ZWRUaW1lLFxuICAgICAgICAgICAgdHlwZTogXCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9nKHRoaXMudW5pdHMsIFwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIiwgdmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG51bWVyaWNWYWx1ZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIGVuZFRpbWUpIHtcbiAgICAgICAgbGV0IG51bWVyaWNWYWx1ZSA9IHRoaXMuX2Zyb21UeXBlKHZhbHVlKTtcbiAgICAgICAgLy8gdGhlIHZhbHVlIGNhbid0IGJlIDBcbiAgICAgICAgbnVtZXJpY1ZhbHVlID0gRVEobnVtZXJpY1ZhbHVlLCAwKSA/IHRoaXMuX21pbk91dHB1dCA6IG51bWVyaWNWYWx1ZTtcbiAgICAgICAgdGhpcy5fYXNzZXJ0UmFuZ2UobnVtZXJpY1ZhbHVlKTtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHMoZW5kVGltZSk7XG4gICAgICAgIGFzc2VydChpc0Zpbml0ZShudW1lcmljVmFsdWUpICYmIGlzRmluaXRlKGNvbXB1dGVkVGltZSksIGBJbnZhbGlkIGFyZ3VtZW50KHMpIHRvIGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWU6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSwgJHtKU09OLnN0cmluZ2lmeShlbmRUaW1lKX1gKTtcbiAgICAgICAgLy8gc3RvcmUgdGhlIGV2ZW50XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgdGltZTogY29tcHV0ZWRUaW1lLFxuICAgICAgICAgICAgdHlwZTogXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogbnVtZXJpY1ZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2codGhpcy51bml0cywgXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIsIHZhbHVlLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9wYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKG51bWVyaWNWYWx1ZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsUmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHRoaXMudG9TZWNvbmRzKHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuc2V0UmFtcFBvaW50KHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lICsgdGhpcy50b1NlY29uZHMocmFtcFRpbWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxpbmVhclJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLnNldFJhbXBQb2ludChzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBzdGFydFRpbWUgKyB0aGlzLnRvU2Vjb25kcyhyYW1wVGltZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGFyZ2V0UmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHRoaXMudG9TZWNvbmRzKHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuc2V0UmFtcFBvaW50KHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKHZhbHVlLCBzdGFydFRpbWUsIHJhbXBUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSwgcmFtcFRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICByYW1wVGltZSA9IHRoaXMudG9TZWNvbmRzKHJhbXBUaW1lKTtcbiAgICAgICAgY29uc3QgdGltZUNvbnN0YW50ID0gTWF0aC5sb2cocmFtcFRpbWUgKyAxKSAvIE1hdGgubG9nKDIwMCk7XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLCB0aW1lLCB0aW1lQ29uc3RhbnQpO1xuICAgICAgICAvLyBhdCA5MCUgc3RhcnQgYSBsaW5lYXIgcmFtcCB0byB0aGUgZmluYWwgdmFsdWVcbiAgICAgICAgdGhpcy5jYW5jZWxBbmRIb2xkQXRUaW1lKHRpbWUgKyByYW1wVGltZSAqIDAuOSk7XG4gICAgICAgIHRoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUgKyByYW1wVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRUYXJnZXRBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KSB7XG4gICAgICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IHRoaXMuX2Zyb21UeXBlKHZhbHVlKTtcbiAgICAgICAgLy8gVGhlIHZhbHVlIHdpbGwgbmV2ZXIgYmUgYWJsZSB0byBhcHByb2FjaCB3aXRob3V0IHRpbWVDb25zdGFudCA+IDAuXG4gICAgICAgIGFzc2VydChpc0Zpbml0ZSh0aW1lQ29uc3RhbnQpICYmIHRpbWVDb25zdGFudCA+IDAsIFwidGltZUNvbnN0YW50IG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDBcIik7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuX2Fzc2VydFJhbmdlKG51bWVyaWNWYWx1ZSk7XG4gICAgICAgIGFzc2VydChpc0Zpbml0ZShudW1lcmljVmFsdWUpICYmIGlzRmluaXRlKGNvbXB1dGVkVGltZSksIGBJbnZhbGlkIGFyZ3VtZW50KHMpIHRvIHNldFRhcmdldEF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LCAke0pTT04uc3RyaW5naWZ5KHN0YXJ0VGltZSl9YCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgY29uc3RhbnQ6IHRpbWVDb25zdGFudCxcbiAgICAgICAgICAgIHRpbWU6IGNvbXB1dGVkVGltZSxcbiAgICAgICAgICAgIHR5cGU6IFwic2V0VGFyZ2V0QXRUaW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogbnVtZXJpY1ZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2codGhpcy51bml0cywgXCJzZXRUYXJnZXRBdFRpbWVcIiwgdmFsdWUsIGNvbXB1dGVkVGltZSwgdGltZUNvbnN0YW50KTtcbiAgICAgICAgdGhpcy5fcGFyYW0uc2V0VGFyZ2V0QXRUaW1lKG51bWVyaWNWYWx1ZSwgY29tcHV0ZWRUaW1lLCB0aW1lQ29uc3RhbnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VmFsdWVDdXJ2ZUF0VGltZSh2YWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHNjYWxpbmcgPSAxKSB7XG4gICAgICAgIGR1cmF0aW9uID0gdGhpcy50b1NlY29uZHMoZHVyYXRpb24pO1xuICAgICAgICBzdGFydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICBjb25zdCBzdGFydGluZ1ZhbHVlID0gdGhpcy5fZnJvbVR5cGUodmFsdWVzWzBdKSAqIHNjYWxpbmc7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVBdFRpbWUodGhpcy5fdG9UeXBlKHN0YXJ0aW5nVmFsdWUpLCBzdGFydFRpbWUpO1xuICAgICAgICBjb25zdCBzZWdUaW1lID0gZHVyYXRpb24gLyAodmFsdWVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gdGhpcy5fZnJvbVR5cGUodmFsdWVzW2ldKSAqIHNjYWxpbmc7XG4gICAgICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShudW1lcmljVmFsdWUpLCBzdGFydFRpbWUgKyBpICogc2VnVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUoY29tcHV0ZWRUaW1lKSwgYEludmFsaWQgYXJndW1lbnQgdG8gY2FuY2VsU2NoZWR1bGVkVmFsdWVzOiAke0pTT04uc3RyaW5naWZ5KHRpbWUpfWApO1xuICAgICAgICB0aGlzLl9ldmVudHMuY2FuY2VsKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLmxvZyh0aGlzLnVuaXRzLCBcImNhbmNlbFNjaGVkdWxlZFZhbHVlc1wiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZUF0VGltZSA9IHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSk7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgc2NoZWR1bGUgZXZlbnRzXG4gICAgICAgIGFzc2VydChpc0Zpbml0ZShjb21wdXRlZFRpbWUpLCBgSW52YWxpZCBhcmd1bWVudCB0byBjYW5jZWxBbmRIb2xkQXRUaW1lOiAke0pTT04uc3RyaW5naWZ5KHRpbWUpfWApO1xuICAgICAgICB0aGlzLmxvZyh0aGlzLnVuaXRzLCBcImNhbmNlbEFuZEhvbGRBdFRpbWVcIiwgY29tcHV0ZWRUaW1lLCBcInZhbHVlPVwiICsgdmFsdWVBdFRpbWUpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBldmVudCBhdCB0aGUgZ2l2ZW4gY29tcHV0ZWRUaW1lXG4gICAgICAgIC8vIGFuZCB0aGF0IGV2ZW4gaXMgbm90IGEgXCJzZXRcIlxuICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLl9ldmVudHMuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gdGhpcy5fZXZlbnRzLmdldEFmdGVyKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgRVEoYmVmb3JlLnRpbWUsIGNvbXB1dGVkVGltZSkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyXG4gICAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoYWZ0ZXIudGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzLmNhbmNlbChhZnRlci50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHMuY2FuY2VsKGNvbXB1dGVkVGltZSArIHRoaXMuc2FtcGxlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhhZnRlci50aW1lKTtcbiAgICAgICAgICAgIC8vIGNhbmNlbCB0aGUgbmV4dCBldmVudChzKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzLmNhbmNlbChhZnRlci50aW1lKTtcbiAgICAgICAgICAgIGlmIChhZnRlci50eXBlID09PSBcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZSh2YWx1ZUF0VGltZSksIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhZnRlci50eXBlID09PSBcImV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWVcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1R5cGUodmFsdWVBdFRpbWUpLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgICAgdGhpcy5fZXZlbnRzLmFkZCh7XG4gICAgICAgICAgICB0aW1lOiBjb21wdXRlZFRpbWUsXG4gICAgICAgICAgICB0eXBlOiBcInNldFZhbHVlQXRUaW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVBdFRpbWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZSh2YWx1ZUF0VGltZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUgPSAwLjEsIHN0YXJ0VGltZSkge1xuICAgICAgICBpZiAodGhpcy51bml0cyA9PT0gXCJmcmVxdWVuY3lcIiB8fCB0aGlzLnVuaXRzID09PSBcImJwbVwiIHx8IHRoaXMudW5pdHMgPT09IFwiZGVjaWJlbHNcIikge1xuICAgICAgICAgICAgdGhpcy5leHBvbmVudGlhbFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVhclJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IGFsbCBvZiB0aGUgcHJldmlvdXNseSBzY2hlZHVsZWQgZXZlbnRzIHRvIHRoZSBwYXNzZWQgaW4gUGFyYW0gb3IgQXVkaW9QYXJhbS5cbiAgICAgKiBUaGUgYXBwbGllZCB2YWx1ZXMgd2lsbCBzdGFydCBhdCB0aGUgY29udGV4dCdzIGN1cnJlbnQgdGltZSBhbmQgc2NoZWR1bGVcbiAgICAgKiBhbGwgb2YgdGhlIGV2ZW50cyB3aGljaCBhcmUgc2NoZWR1bGVkIG9uIHRoaXMgUGFyYW0gb250byB0aGUgcGFzc2VkIGluIHBhcmFtLlxuICAgICAqL1xuICAgIGFwcGx5KHBhcmFtKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuY29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbSdzIHZhbHVlIGF0IHRoZSBjdXJyZW50IHRpbWUgYW5kIHNjaGVkdWxlIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBwYXJhbS5zZXRWYWx1ZUF0VGltZSh0aGlzLmdldFZhbHVlQXRUaW1lKG5vdyksIG5vdyk7XG4gICAgICAgIC8vIGlmIHRoZSBwcmV2aW91cyBldmVudCB3YXMgYSBjdXJ2ZSwgdGhlbiBzZXQgdGhlIHJlc3Qgb2YgaXRcbiAgICAgICAgY29uc3QgcHJldmlvdXNFdmVudCA9IHRoaXMuX2V2ZW50cy5nZXQobm93KTtcbiAgICAgICAgaWYgKHByZXZpb3VzRXZlbnQgJiYgcHJldmlvdXNFdmVudC50eXBlID09PSBcInNldFRhcmdldEF0VGltZVwiKSB7XG4gICAgICAgICAgICAvLyBhcHByb3ggaXQgdW50aWwgdGhlIG5leHQgZXZlbnQgd2l0aCBsaW5lYXIgcmFtcHNcbiAgICAgICAgICAgIGNvbnN0IG5leHRFdmVudCA9IHRoaXMuX2V2ZW50cy5nZXRBZnRlcihwcmV2aW91c0V2ZW50LnRpbWUpO1xuICAgICAgICAgICAgLy8gb3IgZm9yIDIgc2Vjb25kcyBpZiB0aGVyZSBpcyBubyBldmVudFxuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IG5leHRFdmVudCA/IG5leHRFdmVudC50aW1lIDogbm93ICsgMjtcbiAgICAgICAgICAgIGNvbnN0IHN1YmRpdmlzaW9ucyA9IChlbmRUaW1lIC0gbm93KSAvIDEwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vdzsgaSA8IGVuZFRpbWU7IGkgKz0gc3ViZGl2aXNpb25zKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5nZXRWYWx1ZUF0VGltZShpKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXZlbnRzLmZvckVhY2hBZnRlcih0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcImNhbmNlbFNjaGVkdWxlZFZhbHVlc1wiKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJzZXRUYXJnZXRBdFRpbWVcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZShldmVudC52YWx1ZSwgZXZlbnQudGltZSwgZXZlbnQuY29uc3RhbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1bZXZlbnQudHlwZV0oZXZlbnQudmFsdWUsIGV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIFBhcmFtJ3MgaW50ZXJuYWwgQXVkaW9QYXJhbS4gV2lsbCBhcHBseSBzY2hlZHVsZWQgY3VydmVzXG4gICAgICogb250byB0aGUgcGFyYW1ldGVyIGFuZCByZXBsYWNlIHRoZSBjb25uZWN0aW9ucy5cbiAgICAgKi9cbiAgICBzZXRQYXJhbShwYXJhbSkge1xuICAgICAgICBhc3NlcnQodGhpcy5fc3dhcHBhYmxlLCBcIlRoZSBQYXJhbSBtdXN0IGJlIGFzc2lnbmVkIGFzICdzd2FwcGFibGUnIGluIHRoZSBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmlucHV0O1xuICAgICAgICBpbnB1dC5kaXNjb25uZWN0KHRoaXMuX3BhcmFtKTtcbiAgICAgICAgdGhpcy5hcHBseShwYXJhbSk7XG4gICAgICAgIHRoaXMuX3BhcmFtID0gcGFyYW07XG4gICAgICAgIGlucHV0LmNvbm5lY3QodGhpcy5fcGFyYW0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvVHlwZSh0aGlzLl9wYXJhbS5kZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdEFVVE9NQVRJT04gQ1VSVkUgQ0FMQ1VMQVRJT05TXG4gICAgLy8gXHRNSVQgTGljZW5zZSwgY29weXJpZ2h0IChjKSAyMDE0IEpvcmRhbiBTYW50ZWxsXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ2FsY3VsYXRlcyB0aGUgdGhlIHZhbHVlIGFsb25nIHRoZSBjdXJ2ZSBwcm9kdWNlZCBieSBzZXRUYXJnZXRBdFRpbWVcbiAgICBfZXhwb25lbnRpYWxBcHByb2FjaCh0MCwgdjAsIHYxLCB0aW1lQ29uc3RhbnQsIHQpIHtcbiAgICAgICAgcmV0dXJuIHYxICsgKHYwIC0gdjEpICogTWF0aC5leHAoLSh0IC0gdDApIC8gdGltZUNvbnN0YW50KTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlcyB0aGUgdGhlIHZhbHVlIGFsb25nIHRoZSBjdXJ2ZSBwcm9kdWNlZCBieSBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVxuICAgIF9saW5lYXJJbnRlcnBvbGF0ZSh0MCwgdjAsIHQxLCB2MSwgdCkge1xuICAgICAgICByZXR1cm4gdjAgKyAodjEgLSB2MCkgKiAoKHQgLSB0MCkgLyAodDEgLSB0MCkpO1xuICAgIH1cbiAgICAvLyBDYWxjdWxhdGVzIHRoZSB0aGUgdmFsdWUgYWxvbmcgdGhlIGN1cnZlIHByb2R1Y2VkIGJ5IGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWVcbiAgICBfZXhwb25lbnRpYWxJbnRlcnBvbGF0ZSh0MCwgdjAsIHQxLCB2MSwgdCkge1xuICAgICAgICByZXR1cm4gdjAgKiBNYXRoLnBvdyh2MSAvIHYwLCAodCAtIHQwKSAvICh0MSAtIHQwKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFyYW0uanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb05vZGUsIGlzQXVkaW9QYXJhbSB9IGZyb20gXCIuLi91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4vUGFyYW1cIjtcbmltcG9ydCB7IFRvbmVXaXRoQ29udGV4dCB9IGZyb20gXCIuL1RvbmVXaXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgYXNzZXJ0LCB3YXJuIH0gZnJvbSBcIi4uL3V0aWwvRGVidWdcIjtcbi8qKlxuICogVG9uZUF1ZGlvTm9kZSBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgY2xhc3NlcyB3aGljaCBwcm9jZXNzIGF1ZGlvLlxuICovXG5leHBvcnQgY2xhc3MgVG9uZUF1ZGlvTm9kZSBleHRlbmRzIFRvbmVXaXRoQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY2xhc3NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZUF1ZGlvTm9kZVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBhbGwgb2YgdGhlIG5vZGUgdGhhdCBtdXN0IGJlIHNldCB0byBtYXRjaCB0aGUgQ2hhbm5lbFByb3BlcnRpZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ludGVybmFsQ2hhbm5lbHMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpbnB1dHMgZmVlZGluZyBpbnRvIHRoZSBBdWRpb05vZGUuXG4gICAgICogRm9yIHNvdXJjZSBub2RlcywgdGhpcyB3aWxsIGJlIDAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBub2RlID0gbmV3IFRvbmUuR2FpbigpO1xuICAgICAqIGNvbnNvbGUubG9nKG5vZGUubnVtYmVyT2ZJbnB1dHMpO1xuICAgICAqL1xuICAgIGdldCBudW1iZXJPZklucHV0cygpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmlucHV0KSkge1xuICAgICAgICAgICAgaWYgKGlzQXVkaW9QYXJhbSh0aGlzLmlucHV0KSB8fCB0aGlzLmlucHV0IGluc3RhbmNlb2YgUGFyYW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0Lm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBvdXRwdXRzIG9mIHRoZSBBdWRpb05vZGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBub2RlID0gbmV3IFRvbmUuR2FpbigpO1xuICAgICAqIGNvbnNvbGUubG9nKG5vZGUubnVtYmVyT2ZPdXRwdXRzKTtcbiAgICAgKi9cbiAgICBnZXQgbnVtYmVyT2ZPdXRwdXRzKCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMub3V0cHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0Lm51bWJlck9mT3V0cHV0cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEFVRElPIFBST1BFUlRJRVNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGRlY2lkZSB3aGljaCBub2RlcyB0byBnZXQvc2V0IHByb3BlcnRpZXMgb25cbiAgICAgKi9cbiAgICBfaXNBdWRpb05vZGUobm9kZSkge1xuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKG5vZGUpICYmIChub2RlIGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSB8fCBpc0F1ZGlvTm9kZShub2RlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgb2YgdGhlIGF1ZGlvIG5vZGVzIChlaXRoZXIgaW50ZXJuYWwgb3IgaW5wdXQvb3V0cHV0KSB3aGljaCB0b2dldGhlclxuICAgICAqIG1ha2UgdXAgaG93IHRoZSBjbGFzcyBub2RlIHJlc3BvbmRzIHRvIGNoYW5uZWwgaW5wdXQvb3V0cHV0XG4gICAgICovXG4gICAgX2dldEludGVybmFsTm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IG5vZGVMaXN0ID0gdGhpcy5faW50ZXJuYWxDaGFubmVscy5zbGljZSgwKTtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXVkaW9Ob2RlKHRoaXMuaW5wdXQpKSB7XG4gICAgICAgICAgICBub2RlTGlzdC5wdXNoKHRoaXMuaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc0F1ZGlvTm9kZSh0aGlzLm91dHB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0ICE9PSB0aGlzLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIG5vZGVMaXN0LnB1c2godGhpcy5vdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlTGlzdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdWRpbyBvcHRpb25zIGZvciB0aGlzIG5vZGUgc3VjaCBhcyBjaGFubmVsSW50ZXJwcmV0YXRpb25cbiAgICAgKiBjaGFubmVsQ291bnQsIGV0Yy5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIF9zZXRDaGFubmVsUHJvcGVydGllcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5vZGVMaXN0ID0gdGhpcy5fZ2V0SW50ZXJuYWxOb2RlcygpO1xuICAgICAgICBub2RlTGlzdC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgbm9kZS5jaGFubmVsQ291bnQgPSBvcHRpb25zLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIG5vZGUuY2hhbm5lbENvdW50TW9kZSA9IG9wdGlvbnMuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIG5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gb3B0aW9ucy5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYXVkaW8gb3B0aW9ucyBmb3IgdGhpcyBub2RlIHN1Y2ggYXMgY2hhbm5lbEludGVycHJldGF0aW9uXG4gICAgICogY2hhbm5lbENvdW50LCBldGMuXG4gICAgICovXG4gICAgX2dldENoYW5uZWxQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBub2RlTGlzdCA9IHRoaXMuX2dldEludGVybmFsTm9kZXMoKTtcbiAgICAgICAgYXNzZXJ0KG5vZGVMaXN0Lmxlbmd0aCA+IDAsIFwiVG9uZUF1ZGlvTm9kZSBkb2VzIG5vdCBoYXZlIGFueSBpbnRlcm5hbCBub2Rlc1wiKTtcbiAgICAgICAgLy8gdXNlIHRoZSBmaXJzdCBub2RlIHRvIGdldCBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIHRoZXkgc2hvdWxkIGFsbCBiZSB0aGUgc2FtZVxuICAgICAgICBjb25zdCBub2RlID0gbm9kZUxpc3RbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBub2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2hhbm5lbENvdW50IGlzIHRoZSBudW1iZXIgb2YgY2hhbm5lbHMgdXNlZCB3aGVuIHVwLW1peGluZyBhbmQgZG93bi1taXhpbmdcbiAgICAgKiBjb25uZWN0aW9ucyB0byBhbnkgaW5wdXRzIHRvIHRoZSBub2RlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAyIGV4Y2VwdCBmb3JcbiAgICAgKiBzcGVjaWZpYyBub2RlcyB3aGVyZSBpdHMgdmFsdWUgaXMgc3BlY2lhbGx5IGRldGVybWluZWQuXG4gICAgICovXG4gICAgZ2V0IGNoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCkuY2hhbm5lbENvdW50O1xuICAgIH1cbiAgICBzZXQgY2hhbm5lbENvdW50KGNoYW5uZWxDb3VudCkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIG1lcmdlIGl0IHdpdGggdGhlIG90aGVyIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5fc2V0Q2hhbm5lbFByb3BlcnRpZXMoT2JqZWN0LmFzc2lnbihwcm9wcywgeyBjaGFubmVsQ291bnQgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjaGFubmVsQ291bnRNb2RlIGRldGVybWluZXMgaG93IGNoYW5uZWxzIHdpbGwgYmUgY291bnRlZCB3aGVuIHVwLW1peGluZyBhbmRcbiAgICAgKiBkb3duLW1peGluZyBjb25uZWN0aW9ucyB0byBhbnkgaW5wdXRzIHRvIHRoZSBub2RlLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIFwibWF4XCIuIFRoaXMgYXR0cmlidXRlIGhhcyBubyBlZmZlY3QgZm9yIG5vZGVzIHdpdGggbm8gaW5wdXRzLlxuICAgICAqICogXCJtYXhcIiAtIGNvbXB1dGVkTnVtYmVyT2ZDaGFubmVscyBpcyB0aGUgbWF4aW11bSBvZiB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzIG9mIGFsbCBjb25uZWN0aW9ucyB0byBhbiBpbnB1dC4gSW4gdGhpcyBtb2RlIGNoYW5uZWxDb3VudCBpcyBpZ25vcmVkLlxuICAgICAqICogXCJjbGFtcGVkLW1heFwiIC0gY29tcHV0ZWROdW1iZXJPZkNoYW5uZWxzIGlzIGRldGVybWluZWQgYXMgZm9yIFwibWF4XCIgYW5kIHRoZW4gY2xhbXBlZCB0byBhIG1heGltdW0gdmFsdWUgb2YgdGhlIGdpdmVuIGNoYW5uZWxDb3VudC5cbiAgICAgKiAqIFwiZXhwbGljaXRcIiAtIGNvbXB1dGVkTnVtYmVyT2ZDaGFubmVscyBpcyB0aGUgZXhhY3QgdmFsdWUgYXMgc3BlY2lmaWVkIGJ5IHRoZSBjaGFubmVsQ291bnQuXG4gICAgICovXG4gICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgfVxuICAgIHNldCBjaGFubmVsQ291bnRNb2RlKGNoYW5uZWxDb3VudE1vZGUpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpO1xuICAgICAgICAvLyBtZXJnZSBpdCB3aXRoIHRoZSBvdGhlciBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX3NldENoYW5uZWxQcm9wZXJ0aWVzKE9iamVjdC5hc3NpZ24ocHJvcHMsIHsgY2hhbm5lbENvdW50TW9kZSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNoYW5uZWxJbnRlcnByZXRhdGlvbiBkZXRlcm1pbmVzIGhvdyBpbmRpdmlkdWFsIGNoYW5uZWxzIHdpbGwgYmUgdHJlYXRlZFxuICAgICAqIHdoZW4gdXAtbWl4aW5nIGFuZCBkb3duLW1peGluZyBjb25uZWN0aW9ucyB0byBhbnkgaW5wdXRzIHRvIHRoZSBub2RlLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIFwic3BlYWtlcnNcIi5cbiAgICAgKi9cbiAgICBnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKS5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgfVxuICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oY2hhbm5lbEludGVycHJldGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gbWVyZ2UgaXQgd2l0aCB0aGUgb3RoZXIgcHJvcGVydGllc1xuICAgICAgICB0aGlzLl9zZXRDaGFubmVsUHJvcGVydGllcyhPYmplY3QuYXNzaWduKHByb3BzLCB7IGNoYW5uZWxJbnRlcnByZXRhdGlvbiB9KSk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENPTk5FQ1RJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogY29ubmVjdCB0aGUgb3V0cHV0IG9mIGEgVG9uZUF1ZGlvTm9kZSB0byBhbiBBdWRpb1BhcmFtLCBBdWRpb05vZGUsIG9yIFRvbmVBdWRpb05vZGVcbiAgICAgKiBAcGFyYW0gZGVzdGluYXRpb24gVGhlIG91dHB1dCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIG91dHB1dE51bSBUaGUgb3V0cHV0IHRvIGNvbm5lY3QgZnJvbVxuICAgICAqIEBwYXJhbSBpbnB1dE51bSBUaGUgaW5wdXQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGNvbm5lY3QoZGVzdGluYXRpb24sIG91dHB1dE51bSA9IDAsIGlucHV0TnVtID0gMCkge1xuICAgICAgICBjb25uZWN0KHRoaXMsIGRlc3RpbmF0aW9uLCBvdXRwdXROdW0sIGlucHV0TnVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIG91dHB1dCB0byB0aGUgY29udGV4dCdzIGRlc3RpbmF0aW9uIG5vZGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKFwiQzJcIikuc3RhcnQoKTtcbiAgICAgKiBvc2MudG9EZXN0aW5hdGlvbigpO1xuICAgICAqL1xuICAgIHRvRGVzdGluYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0aGUgb3V0cHV0IHRvIHRoZSBjb250ZXh0J3MgZGVzdGluYXRpb24gbm9kZS5cbiAgICAgKiBTZWUgW1t0b0Rlc3RpbmF0aW9uXV1cbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIHRvTWFzdGVyKCkge1xuICAgICAgICB3YXJuKFwidG9NYXN0ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvRGVzdGluYXRpb24oKVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9EZXN0aW5hdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkaXNjb25uZWN0IHRoZSBvdXRwdXRcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXROdW0gPSAwLCBpbnB1dE51bSA9IDApIHtcbiAgICAgICAgZGlzY29ubmVjdCh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtLCBpbnB1dE51bSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRoZSBvdXRwdXQgb2YgdGhpcyBub2RlIHRvIHRoZSByZXN0IG9mIHRoZSBub2RlcyBpbiBzZXJpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vZHJ1bS1zYW1wbGVzL2hhbmRkcnVtLWxvb3AubXAzXCIpO1xuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqIGNvbnN0IGZpbHRlciA9IG5ldyBUb25lLkF1dG9GaWx0ZXIoNCkuc3RhcnQoKTtcbiAgICAgKiBjb25zdCBkaXN0b3J0aW9uID0gbmV3IFRvbmUuRGlzdG9ydGlvbigwLjUpO1xuICAgICAqIC8vIGNvbm5lY3QgdGhlIHBsYXllciB0byB0aGUgZmlsdGVyLCBkaXN0b3J0aW9uIGFuZCB0aGVuIHRvIHRoZSBtYXN0ZXIgb3V0cHV0XG4gICAgICogcGxheWVyLmNoYWluKGZpbHRlciwgZGlzdG9ydGlvbiwgVG9uZS5EZXN0aW5hdGlvbik7XG4gICAgICovXG4gICAgY2hhaW4oLi4ubm9kZXMpIHtcbiAgICAgICAgY29ubmVjdFNlcmllcyh0aGlzLCAuLi5ub2Rlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IHRoZSBvdXRwdXQgb2YgdGhpcyBub2RlIHRvIHRoZSByZXN0IG9mIHRoZSBub2RlcyBpbiBwYXJhbGxlbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9kcnVtLXNhbXBsZXMvY29uZ2Etcmh5dGhtLm1wM1wiKTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKiBjb25zdCBwaXRjaFNoaWZ0ID0gbmV3IFRvbmUuUGl0Y2hTaGlmdCg0KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogY29uc3QgZmlsdGVyID0gbmV3IFRvbmUuRmlsdGVyKFwiRzVcIikudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIGNvbm5lY3QgYSBub2RlIHRvIHRoZSBwaXRjaCBzaGlmdCBhbmQgZmlsdGVyIGluIHBhcmFsbGVsXG4gICAgICogcGxheWVyLmZhbihwaXRjaFNoaWZ0LCBmaWx0ZXIpO1xuICAgICAqL1xuICAgIGZhbiguLi5ub2Rlcykge1xuICAgICAgICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4gdGhpcy5jb25uZWN0KG5vZGUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgYW5kIGRpc2Nvbm5lY3RcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5pbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0IGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBdWRpb05vZGUodGhpcy5pbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMub3V0cHV0KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0IGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXVkaW9Ob2RlKHRoaXMub3V0cHV0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbENoYW5uZWxzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ09OTkVDVElPTlNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBjb25uZWN0IHRvZ2V0aGVyIGFsbCBvZiB0aGUgYXJndW1lbnRzIGluIHNlcmllc1xuICogQHBhcmFtIG5vZGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0U2VyaWVzKC4uLm5vZGVzKSB7XG4gICAgY29uc3QgZmlyc3QgPSBub2Rlcy5zaGlmdCgpO1xuICAgIG5vZGVzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4ge1xuICAgICAgICBpZiAocHJldiBpbnN0YW5jZW9mIFRvbmVBdWRpb05vZGUpIHtcbiAgICAgICAgICAgIHByZXYuY29ubmVjdChjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0F1ZGlvTm9kZShwcmV2KSkge1xuICAgICAgICAgICAgY29ubmVjdChwcmV2LCBjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9LCBmaXJzdCk7XG59XG4vKipcbiAqIENvbm5lY3QgdHdvIG5vZGVzIHRvZ2V0aGVyIHNvIHRoYXQgc2lnbmFsIGZsb3dzIGZyb20gdGhlXG4gKiBmaXJzdCBub2RlIHRvIHRoZSBzZWNvbmQuIE9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgaW5wdXQgYW5kIG91dHB1dCBjaGFubmVscy5cbiAqIEBwYXJhbSBzcmNOb2RlIFRoZSBzb3VyY2Ugbm9kZVxuICogQHBhcmFtIGRzdE5vZGUgVGhlIGRlc3RpbmF0aW9uIG5vZGVcbiAqIEBwYXJhbSBvdXRwdXROdW1iZXIgVGhlIG91dHB1dCBjaGFubmVsIG9mIHRoZSBzcmNOb2RlXG4gKiBAcGFyYW0gaW5wdXROdW1iZXIgVGhlIGlucHV0IGNoYW5uZWwgb2YgdGhlIGRzdE5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3Qoc3JjTm9kZSwgZHN0Tm9kZSwgb3V0cHV0TnVtYmVyID0gMCwgaW5wdXROdW1iZXIgPSAwKSB7XG4gICAgYXNzZXJ0KGlzRGVmaW5lZChzcmNOb2RlKSwgXCJDYW5ub3QgY29ubmVjdCBmcm9tIHVuZGVmaW5lZCBub2RlXCIpO1xuICAgIGFzc2VydChpc0RlZmluZWQoZHN0Tm9kZSksIFwiQ2Fubm90IGNvbm5lY3QgdG8gdW5kZWZpbmVkIG5vZGVcIik7XG4gICAgaWYgKGRzdE5vZGUgaW5zdGFuY2VvZiBUb25lQXVkaW9Ob2RlIHx8IGlzQXVkaW9Ob2RlKGRzdE5vZGUpKSB7XG4gICAgICAgIGFzc2VydChkc3ROb2RlLm51bWJlck9mSW5wdXRzID4gMCwgXCJDYW5ub3QgY29ubmVjdCB0byBub2RlIHdpdGggbm8gaW5wdXRzXCIpO1xuICAgIH1cbiAgICBhc3NlcnQoc3JjTm9kZS5udW1iZXJPZk91dHB1dHMgPiAwLCBcIkNhbm5vdCBjb25uZWN0IGZyb20gbm9kZSB3aXRoIG5vIG91dHB1dHNcIik7XG4gICAgLy8gcmVzb2x2ZSB0aGUgaW5wdXQgb2YgdGhlIGRzdE5vZGVcbiAgICB3aGlsZSAoKGRzdE5vZGUgaW5zdGFuY2VvZiBUb25lQXVkaW9Ob2RlIHx8IGRzdE5vZGUgaW5zdGFuY2VvZiBQYXJhbSkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChkc3ROb2RlLmlucHV0KSkge1xuICAgICAgICAgICAgZHN0Tm9kZSA9IGRzdE5vZGUuaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKHNyY05vZGUgaW5zdGFuY2VvZiBUb25lQXVkaW9Ob2RlKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQoc3JjTm9kZS5vdXRwdXQpKSB7XG4gICAgICAgICAgICBzcmNOb2RlID0gc3JjTm9kZS5vdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbWFrZSB0aGUgY29ubmVjdGlvblxuICAgIGlmIChpc0F1ZGlvUGFyYW0oZHN0Tm9kZSkpIHtcbiAgICAgICAgc3JjTm9kZS5jb25uZWN0KGRzdE5vZGUsIG91dHB1dE51bWJlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzcmNOb2RlLmNvbm5lY3QoZHN0Tm9kZSwgb3V0cHV0TnVtYmVyLCBpbnB1dE51bWJlcik7XG4gICAgfVxufVxuLyoqXG4gKiBEaXNjb25uZWN0IGEgbm9kZSBmcm9tIGFsbCBub2RlcyBvciBvcHRpb25hbGx5IGluY2x1ZGUgYSBkZXN0aW5hdGlvbiBub2RlIGFuZCBpbnB1dC9vdXRwdXQgY2hhbm5lbHMuXG4gKiBAcGFyYW0gc3JjTm9kZSBUaGUgc291cmNlIG5vZGVcbiAqIEBwYXJhbSBkc3ROb2RlIFRoZSBkZXN0aW5hdGlvbiBub2RlXG4gKiBAcGFyYW0gb3V0cHV0TnVtYmVyIFRoZSBvdXRwdXQgY2hhbm5lbCBvZiB0aGUgc3JjTm9kZVxuICogQHBhcmFtIGlucHV0TnVtYmVyIFRoZSBpbnB1dCBjaGFubmVsIG9mIHRoZSBkc3ROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNjb25uZWN0KHNyY05vZGUsIGRzdE5vZGUsIG91dHB1dE51bWJlciA9IDAsIGlucHV0TnVtYmVyID0gMCkge1xuICAgIC8vIHJlc29sdmUgdGhlIGRlc3RpbmF0aW9uIG5vZGVcbiAgICBpZiAoaXNEZWZpbmVkKGRzdE5vZGUpKSB7XG4gICAgICAgIHdoaWxlIChkc3ROb2RlIGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSkge1xuICAgICAgICAgICAgZHN0Tm9kZSA9IGRzdE5vZGUuaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmVzb2x2ZSB0aGUgc3JjIG5vZGVcbiAgICB3aGlsZSAoIShpc0F1ZGlvTm9kZShzcmNOb2RlKSkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChzcmNOb2RlLm91dHB1dCkpIHtcbiAgICAgICAgICAgIHNyY05vZGUgPSBzcmNOb2RlLm91dHB1dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBdWRpb1BhcmFtKGRzdE5vZGUpKSB7XG4gICAgICAgIHNyY05vZGUuZGlzY29ubmVjdChkc3ROb2RlLCBvdXRwdXROdW1iZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0F1ZGlvTm9kZShkc3ROb2RlKSkge1xuICAgICAgICBzcmNOb2RlLmRpc2Nvbm5lY3QoZHN0Tm9kZSwgb3V0cHV0TnVtYmVyLCBpbnB1dE51bWJlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzcmNOb2RlLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQXVkaW9Ob2RlLmpzLm1hcCIsImltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4uL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4vVG9uZUF1ZGlvTm9kZVwiO1xuLyoqXG4gKiBBIHRoaW4gd3JhcHBlciBhcm91bmQgdGhlIE5hdGl2ZSBXZWIgQXVkaW8gR2Fpbk5vZGUuXG4gKiBUaGUgR2Fpbk5vZGUgaXMgYSBiYXNpYyBidWlsZGluZyBibG9jayBvZiB0aGUgV2ViIEF1ZGlvXG4gKiBBUEkgYW5kIGlzIHVzZWZ1bCBmb3Igcm91dGluZyBhdWRpbyBhbmQgYWRqdXN0aW5nIGdhaW5zLlxuICogQGNhdGVnb3J5IENvcmVcbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3QgZ2Fpbk5vZGUgPSBuZXcgVG9uZS5HYWluKDApLnRvRGVzdGluYXRpb24oKTtcbiAqIFx0Y29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigzMCkuY29ubmVjdChnYWluTm9kZSkuc3RhcnQoKTtcbiAqIFx0Z2Fpbk5vZGUuZ2Fpbi5yYW1wVG8oMSwgMC4xKTtcbiAqIFx0Z2Fpbk5vZGUuZ2Fpbi5yYW1wVG8oMCwgMC40LCAwLjIpO1xuICogfSwgMC43LCAxKTtcbiAqL1xuZXhwb3J0IGNsYXNzIEdhaW4gZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoR2Fpbi5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImdhaW5cIiwgXCJ1bml0c1wiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkdhaW5cIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3cmFwcGVkIEdhaW5Ob2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUgPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICAvLyBpbnB1dCA9IG91dHB1dFxuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fZ2Fpbk5vZGU7XG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fZ2Fpbk5vZGU7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhHYWluLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZ2FpblwiLCBcInVuaXRzXCJdKTtcbiAgICAgICAgdGhpcy5nYWluID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGNvbnZlcnQ6IG9wdGlvbnMuY29udmVydCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9nYWluTm9kZS5nYWluLFxuICAgICAgICAgICAgdW5pdHM6IG9wdGlvbnMudW5pdHMsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5nYWluLFxuICAgICAgICAgICAgbWluVmFsdWU6IG9wdGlvbnMubWluVmFsdWUsXG4gICAgICAgICAgICBtYXhWYWx1ZTogb3B0aW9ucy5tYXhWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwiZ2FpblwiKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGNvbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICBnYWluOiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwiZ2FpblwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9nYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuZ2Fpbi5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdhaW4uanMubWFwIiwiaW1wb3J0IHsgR2FpbiB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvR2FpblwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSwgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBmaXJlLWFuZC1mb3JnZXQgbm9kZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE9uZVNob3RTb3VyY2UgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciB0aGVcbiAgICAgICAgICogc291cmNlIGlzIGRvbmUgcGxheWluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25lbmRlZCA9IG5vT3A7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhcnQgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RvcCB0aW1lXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdG9wVGltZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkIG9mIHRoZSB0aW1lb3V0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHVibGljIG91dHB1dCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm91dHB1dCA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGdhaW46IDAsXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG91dHB1dCBnYWluIG5vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nYWluTm9kZSA9IHRoaXMub3V0cHV0O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBwbGF5YmFjayBzdGF0ZSBhdCB0aGUgZ2l2ZW4gdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZXRTdGF0ZUF0VGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydFRpbWUgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRUaW1lID49IHRoaXMuX3N0YXJ0VGltZSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLl9zdG9wVGltZSA9PT0gLTEgfHwgY29tcHV0ZWRUaW1lIDw9IHRoaXMuX3N0b3BUaW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN0YXJ0ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN0b3BwZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZmFkZUluID0gb3B0aW9ucy5mYWRlSW47XG4gICAgICAgIHRoaXMuX2ZhZGVPdXQgPSBvcHRpb25zLmZhZGVPdXQ7XG4gICAgICAgIHRoaXMuX2N1cnZlID0gb3B0aW9ucy5jdXJ2ZTtcbiAgICAgICAgdGhpcy5vbmVuZGVkID0gb3B0aW9ucy5vbmVuZGVkO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgY3VydmU6IFwibGluZWFyXCIsXG4gICAgICAgICAgICBmYWRlSW46IDAsXG4gICAgICAgICAgICBmYWRlT3V0OiAwLFxuICAgICAgICAgICAgb25lbmRlZDogbm9PcCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzb3VyY2UgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0byBzdGFydCB0aGUgc291cmNlXG4gICAgICovXG4gICAgX3N0YXJ0R2Fpbih0aW1lLCBnYWluID0gMSkge1xuICAgICAgICBhc3NlcnQodGhpcy5fc3RhcnRUaW1lID09PSAtMSwgXCJTb3VyY2UgY2Fubm90IGJlIHN0YXJ0ZWQgbW9yZSB0aGFuIG9uY2VcIik7XG4gICAgICAgIC8vIGFwcGx5IGEgZmFkZSBpbiBlbnZlbG9wZVxuICAgICAgICBjb25zdCBmYWRlSW5UaW1lID0gdGhpcy50b1NlY29uZHModGhpcy5fZmFkZUluKTtcbiAgICAgICAgLy8gcmVjb3JkIHRoZSBzdGFydCB0aW1lXG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IHRpbWUgKyBmYWRlSW5UaW1lO1xuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSBNYXRoLm1heCh0aGlzLl9zdGFydFRpbWUsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgIC8vIHNjaGVkdWxlIHRoZSBlbnZlbG9wZVxuICAgICAgICBpZiAoZmFkZUluVGltZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgdGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VydmUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nYWluTm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGdhaW4sIHRpbWUgKyBmYWRlSW5UaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKGdhaW4sIHRpbWUsIGZhZGVJblRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShnYWluLCB0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgc291cmNlIG5vZGUgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtIHRpbWUgV2hlbiB0byBzdG9wIHRoZSBzb3VyY2VcbiAgICAgKi9cbiAgICBzdG9wKHRpbWUpIHtcbiAgICAgICAgdGhpcy5sb2coXCJzdG9wXCIsIHRpbWUpO1xuICAgICAgICB0aGlzLl9zdG9wR2Fpbih0aGlzLnRvU2Vjb25kcyh0aW1lKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBzb3VyY2UgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0byBzdG9wIHRoZSBzb3VyY2VcbiAgICAgKi9cbiAgICBfc3RvcEdhaW4odGltZSkge1xuICAgICAgICBhc3NlcnQodGhpcy5fc3RhcnRUaW1lICE9PSAtMSwgXCInc3RhcnQnIG11c3QgYmUgY2FsbGVkIGJlZm9yZSAnc3RvcCdcIik7XG4gICAgICAgIC8vIGNhbmNlbCB0aGUgcHJldmlvdXMgc3RvcFxuICAgICAgICB0aGlzLmNhbmNlbFN0b3AoKTtcbiAgICAgICAgLy8gdGhlIGZhZGVPdXQgdGltZVxuICAgICAgICBjb25zdCBmYWRlT3V0VGltZSA9IHRoaXMudG9TZWNvbmRzKHRoaXMuX2ZhZGVPdXQpO1xuICAgICAgICAvLyBzY2hlZHVsZSB0aGUgc3RvcCBjYWxsYmFja1xuICAgICAgICB0aGlzLl9zdG9wVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpICsgZmFkZU91dFRpbWU7XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lID0gTWF0aC5tYXgodGhpcy5fc3RvcFRpbWUsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgIGlmIChmYWRlT3V0VGltZSA+IDApIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBmYWRlIG91dCBjdXJ2ZSBhdCB0aGUgZ2l2ZW4gdGltZVxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnZlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG8oMCwgZmFkZU91dFRpbWUsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi50YXJnZXRSYW1wVG8oMCwgZmFkZU91dFRpbWUsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcCBhbnkgb25nb2luZyByYW1wcywgYW5kIHNldCB0aGUgdmFsdWUgdG8gMFxuICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxBbmRIb2xkQXRUaW1lKHRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCB0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdGhpcy5jb250ZXh0LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gYWxsb3cgYWRkaXRpb25hbCB0aW1lIGZvciB0aGUgZXhwb25lbnRpYWwgY3VydmUgdG8gZnVsbHkgZGVjYXlcbiAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxUYWlsID0gdGhpcy5fY3VydmUgPT09IFwiZXhwb25lbnRpYWxcIiA/IGZhZGVPdXRUaW1lICogMiA6IDA7XG4gICAgICAgICAgICB0aGlzLl9zdG9wU291cmNlKHRoaXMubm93KCkgKyBhZGRpdGlvbmFsVGFpbCk7XG4gICAgICAgICAgICB0aGlzLl9vbmVuZGVkKCk7XG4gICAgICAgIH0sIHRoaXMuX3N0b3BUaW1lIC0gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgb25lbmRlZCBjYWxsYmFja1xuICAgICAqL1xuICAgIF9vbmVuZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5vbmVuZGVkICE9PSBub09wKSB7XG4gICAgICAgICAgICB0aGlzLm9uZW5kZWQodGhpcyk7XG4gICAgICAgICAgICAvLyBvdmVyd3JpdGUgb25lbmRlZCB0byBtYWtlIHN1cmUgaXQgb25seSBpcyBjYWxsZWQgb25jZVxuICAgICAgICAgICAgdGhpcy5vbmVuZGVkID0gbm9PcDtcbiAgICAgICAgICAgIC8vIGRpc3Bvc2Ugd2hlbiBpdCdzIGVuZGVkIHRvIGZyZWUgdXAgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbiBvbmx5IGluIHRoZSBvbmxpbmUgY29udGV4dFxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQuaXNPZmZsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzcG9zZUNhbGxiYWNrID0gKCkgPT4gdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhkaXNwb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChkaXNwb3NlQ2FsbGJhY2ssIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXliYWNrIHN0YXRlIGF0IHRoZSBjdXJyZW50IHRpbWVcbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXRlQXRUaW1lKHRoaXMubm93KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYSBzY2hlZHVsZWQgc3RvcCBldmVudFxuICAgICAqL1xuICAgIGNhbmNlbFN0b3AoKSB7XG4gICAgICAgIHRoaXMubG9nKFwiY2FuY2VsU3RvcFwiKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX3N0YXJ0VGltZSAhPT0gLTEsIFwiU291cmNlIGlzIG5vdCBzdGFydGVkXCIpO1xuICAgICAgICAvLyBjYW5jZWwgdGhlIHN0b3AgZW52ZWxvcGVcbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy5fc3RhcnRUaW1lICsgdGhpcy5zYW1wbGVUaW1lKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fc3RvcFRpbWUgPSAtMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PbmVTaG90U291cmNlLmpzLm1hcCIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9QYXJhbVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBPbmVTaG90U291cmNlIH0gZnJvbSBcIi4uL3NvdXJjZS9PbmVTaG90U291cmNlXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBuYXRpdmUgZmlyZS1hbmQtZm9yZ2V0IENvbnN0YW50U291cmNlLlxuICogQWRkcyB0aGUgYWJpbGl0eSB0byByZXNjaGVkdWxlIHRoZSBzdG9wIG1ldGhvZC5cbiAqIEBjYXRlZ29yeSBTaWduYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFRvbmVDb25zdGFudFNvdXJjZSBleHRlbmRzIE9uZVNob3RTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lQ29uc3RhbnRTb3VyY2UuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJvZmZzZXRcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUb25lQ29uc3RhbnRTb3VyY2VcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaWduYWwgZ2VuZXJhdG9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zb3VyY2UgPSB0aGlzLmNvbnRleHQuY3JlYXRlQ29uc3RhbnRTb3VyY2UoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVDb25zdGFudFNvdXJjZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcIm9mZnNldFwiXSk7XG4gICAgICAgIGNvbm5lY3QodGhpcy5fc291cmNlLCB0aGlzLl9nYWluTm9kZSk7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGNvbnZlcnQ6IG9wdGlvbnMuY29udmVydCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9zb3VyY2Uub2Zmc2V0LFxuICAgICAgICAgICAgdW5pdHM6IG9wdGlvbnMudW5pdHMsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5vZmZzZXQsXG4gICAgICAgICAgICBtaW5WYWx1ZTogb3B0aW9ucy5taW5WYWx1ZSxcbiAgICAgICAgICAgIG1heFZhbHVlOiBvcHRpb25zLm1heFZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPbmVTaG90U291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGNvbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgICB1bml0czogXCJudW1iZXJcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzb3VyY2Ugbm9kZSBhdCB0aGUgZ2l2ZW4gdGltZVxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRvIHN0YXJ0IHRoZSBzb3VyY2VcbiAgICAgKi9cbiAgICBzdGFydCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLmxvZyhcInN0YXJ0XCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0R2Fpbihjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9zb3VyY2Uuc3RhcnQoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9zdG9wU291cmNlKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fc291cmNlLnN0b3AodGltZSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm9mZnNldC5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvbmVDb25zdGFudFNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IGlzQXVkaW9QYXJhbSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvQWR2YW5jZWRUeXBlQ2hlY2tcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgVG9uZUNvbnN0YW50U291cmNlIH0gZnJvbSBcIi4vVG9uZUNvbnN0YW50U291cmNlXCI7XG4vKipcbiAqIEEgc2lnbmFsIGlzIGFuIGF1ZGlvLXJhdGUgdmFsdWUuIFRvbmUuU2lnbmFsIGlzIGEgY29yZSBjb21wb25lbnQgb2YgdGhlIGxpYnJhcnkuXG4gKiBVbmxpa2UgYSBudW1iZXIsIFNpZ25hbHMgY2FuIGJlIHNjaGVkdWxlZCB3aXRoIHNhbXBsZS1sZXZlbCBhY2N1cmFjeS4gVG9uZS5TaWduYWxcbiAqIGhhcyBhbGwgb2YgdGhlIG1ldGhvZHMgYXZhaWxhYmxlIHRvIG5hdGl2ZSBXZWIgQXVkaW9cbiAqIFtBdWRpb1BhcmFtXShodHRwOi8vd2ViYXVkaW8uZ2l0aHViLmlvL3dlYi1hdWRpby1hcGkvI3RoZS1hdWRpb3BhcmFtLWludGVyZmFjZSlcbiAqIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBjb252ZW5pZW5jZXMuIFJlYWQgbW9yZSBhYm91dCB3b3JraW5nIHdpdGggc2lnbmFsc1xuICogW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9Ub25lanMvVG9uZS5qcy93aWtpL1NpZ25hbHMpLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiAvLyBhIHNjaGVkdWxlYWJsZSBzaWduYWwgd2hpY2ggY2FuIGJlIGNvbm5lY3RlZCB0byBjb250cm9sIGFuIEF1ZGlvUGFyYW0gb3IgYW5vdGhlciBTaWduYWxcbiAqIGNvbnN0IHNpZ25hbCA9IG5ldyBUb25lLlNpZ25hbCh7XG4gKiBcdHZhbHVlOiBcIkM0XCIsXG4gKiBcdHVuaXRzOiBcImZyZXF1ZW5jeVwiXG4gKiB9KS5jb25uZWN0KG9zYy5mcmVxdWVuY3kpO1xuICogLy8gdGhlIHNjaGVkdWxlZCByYW1wIGNvbnRyb2xzIHRoZSBjb25uZWN0ZWQgc2lnbmFsXG4gKiBzaWduYWwucmFtcFRvKFwiQzJcIiwgNCwgXCIrMC41XCIpO1xuICogQGNhdGVnb3J5IFNpZ25hbFxuICovXG5leHBvcnQgY2xhc3MgU2lnbmFsIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFNpZ25hbC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZhbHVlXCIsIFwidW5pdHNcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTaWduYWxcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgdmFsdWUgc2hvdWxkIGJlIG92ZXJyaWRkZW4gb24gY29ubmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoU2lnbmFsLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIiwgXCJ1bml0c1wiXSk7XG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fY29uc3RhbnRTb3VyY2UgPSBuZXcgVG9uZUNvbnN0YW50U291cmNlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGNvbnZlcnQ6IG9wdGlvbnMuY29udmVydCxcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucy52YWx1ZSxcbiAgICAgICAgICAgIHVuaXRzOiBvcHRpb25zLnVuaXRzLFxuICAgICAgICAgICAgbWluVmFsdWU6IG9wdGlvbnMubWluVmFsdWUsXG4gICAgICAgICAgICBtYXhWYWx1ZTogb3B0aW9ucy5tYXhWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NvbnN0YW50U291cmNlLnN0YXJ0KDApO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fcGFyYW0gPSB0aGlzLl9jb25zdGFudFNvdXJjZS5vZmZzZXQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjb252ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgdW5pdHM6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbm5lY3QoZGVzdGluYXRpb24sIG91dHB1dE51bSA9IDAsIGlucHV0TnVtID0gMCkge1xuICAgICAgICAvLyBzdGFydCBpdCBvbmx5IHdoZW4gY29ubmVjdGVkIHRvIHNvbWV0aGluZ1xuICAgICAgICBjb25uZWN0U2lnbmFsKHRoaXMsIGRlc3RpbmF0aW9uLCBvdXRwdXROdW0sIGlucHV0TnVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcGFyYW0uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jb25zdGFudFNvdXJjZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBQlNUUkFDVCBQQVJBTSBJTlRFUkZBQ0VcbiAgICAvLyBqdXN0IGEgcHJveHkgZm9yIHRoZSBDb25zdGFudFNvdXJjZU5vZGUncyBvZmZzZXQgQXVkaW9QYXJhbVxuICAgIC8vIGFsbCBkb2NzIGFyZSBnZW5lcmF0ZWQgZnJvbSBBYnN0cmFjdFBhcmFtLnRzXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgc2V0VmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uc2V0VmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0VmFsdWVBdFRpbWUodGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW0uZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIHNldFJhbXBQb2ludCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLnNldFJhbXBQb2ludCh0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBleHBvbmVudGlhbFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5leHBvbmVudGlhbFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsaW5lYXJSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0ubGluZWFyUmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRhcmdldFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS50YXJnZXRSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lLCByYW1wVGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUsIHJhbXBUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFRhcmdldEF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lLCB0aW1lQ29uc3RhbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLCBzdGFydFRpbWUsIHRpbWVDb25zdGFudCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRWYWx1ZUN1cnZlQXRUaW1lKHZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgc2NhbGluZykge1xuICAgICAgICB0aGlzLl9wYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKHZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgc2NhbGluZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYW5jZWxTY2hlZHVsZWRWYWx1ZXModGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYW5jZWxBbmRIb2xkQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5yYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW0udmFsdWU7XG4gICAgfVxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgY29udmVydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLmNvbnZlcnQ7XG4gICAgfVxuICAgIHNldCBjb252ZXJ0KGNvbnZlcnQpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uY29udmVydCA9IGNvbnZlcnQ7XG4gICAgfVxuICAgIGdldCB1bml0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLnVuaXRzO1xuICAgIH1cbiAgICBnZXQgb3ZlcnJpZGRlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLm92ZXJyaWRkZW47XG4gICAgfVxuICAgIHNldCBvdmVycmlkZGVuKG92ZXJyaWRkZW4pIHtcbiAgICAgICAgdGhpcy5fcGFyYW0ub3ZlcnJpZGRlbiA9IG92ZXJyaWRkZW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLm1heFZhbHVlO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5taW5WYWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlIFtbUGFyYW0uYXBwbHldXS5cbiAgICAgKi9cbiAgICBhcHBseShwYXJhbSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5hcHBseShwYXJhbSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogV2hlbiBjb25uZWN0aW5nIGZyb20gYSBzaWduYWwsIGl0J3MgbmVjZXNzYXJ5IHRvIHplcm8gb3V0IHRoZSBub2RlIGRlc3RpbmF0aW9uXG4gKiBub2RlIGlmIHRoYXQgbm9kZSBpcyBhbHNvIGEgc2lnbmFsLiBJZiB0aGUgZGVzdGluYXRpb24gaXMgbm90IDAsIHRoZW4gdGhlIHZhbHVlc1xuICogd2lsbCBiZSBzdW1tZWQuIFRoaXMgbWV0aG9kIGluc3VyZXMgdGhhdCB0aGUgb3V0cHV0IG9mIHRoZSBkZXN0aW5hdGlvbiBzaWduYWwgd2lsbFxuICogYmUgdGhlIHNhbWUgYXMgdGhlIHNvdXJjZSBzaWduYWwsIG1ha2luZyB0aGUgZGVzdGluYXRpb24gc2lnbmFsIGEgcGFzcyB0aHJvdWdoIG5vZGUuXG4gKiBAcGFyYW0gc2lnbmFsIFRoZSBvdXRwdXQgc2lnbmFsIHRvIGNvbm5lY3QgZnJvbVxuICogQHBhcmFtIGRlc3RpbmF0aW9uIHRoZSBkZXN0aW5hdGlvbiB0byBjb25uZWN0IHRvXG4gKiBAcGFyYW0gb3V0cHV0TnVtIHRoZSBvcHRpb25hbCBvdXRwdXQgbnVtYmVyXG4gKiBAcGFyYW0gaW5wdXROdW0gdGhlIGlucHV0IG51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdFNpZ25hbChzaWduYWwsIGRlc3RpbmF0aW9uLCBvdXRwdXROdW0sIGlucHV0TnVtKSB7XG4gICAgaWYgKGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgUGFyYW0gfHwgaXNBdWRpb1BhcmFtKGRlc3RpbmF0aW9uKSB8fFxuICAgICAgICAoZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTaWduYWwgJiYgZGVzdGluYXRpb24ub3ZlcnJpZGUpKSB7XG4gICAgICAgIC8vIGNhbmNlbCBjaGFuZ2VzXG4gICAgICAgIGRlc3RpbmF0aW9uLmNhbmNlbFNjaGVkdWxlZFZhbHVlcygwKTtcbiAgICAgICAgLy8gcmVzZXQgdGhlIHZhbHVlXG4gICAgICAgIGRlc3RpbmF0aW9uLnNldFZhbHVlQXRUaW1lKDAsIDApO1xuICAgICAgICAvLyBtYXJrIHRoZSB2YWx1ZSBhcyBvdmVycmlkZGVuXG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFNpZ25hbCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ub3ZlcnJpZGRlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdChzaWduYWwsIGRlc3RpbmF0aW9uLCBvdXRwdXROdW0sIGlucHV0TnVtKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpZ25hbC5qcy5tYXAiLCJpbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi9jb250ZXh0L1BhcmFtXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gXCIuLi91dGlsL1RpbWVsaW5lXCI7XG5pbXBvcnQgeyBpc1VuZGVmIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG4vKipcbiAqIEEgUGFyYW0gY2xhc3MganVzdCBmb3IgY29tcHV0aW5nIHRpY2tzLiBTaW1pbGFyIHRvIHRoZSBbW1BhcmFtXV0gY2xhc3MsXG4gKiBidXQgb2ZmZXJzIGNvbnZlcnNpb24gdG8gQlBNIHZhbHVlcyBhcyB3ZWxsIGFzIGFiaWxpdHkgdG8gY29tcHV0ZSB0aWNrXG4gKiBkdXJhdGlvbiBhbmQgZWxhcHNlZCB0aWNrc1xuICovXG5leHBvcnQgY2xhc3MgVGlja1BhcmFtIGV4dGVuZHMgUGFyYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUaWNrUGFyYW0uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpY2tQYXJhbVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWVsaW5lIHdoaWNoIHRyYWNrcyBhbGwgb2YgdGhlIGF1dG9tYXRpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IFRpbWVsaW5lKEluZmluaXR5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbnRlcm5hbCBob2xkZXIgZm9yIHRoZSBtdWx0aXBsaWVyIHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tdWx0aXBsaWVyID0gMTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRpY2tQYXJhbS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZhbHVlXCJdKTtcbiAgICAgICAgLy8gc2V0IHRoZSBtdWx0aXBsaWVyXG4gICAgICAgIHRoaXMuX211bHRpcGxpZXIgPSBvcHRpb25zLm11bHRpcGxpZXI7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0aWNrcyBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgdGhpcy5fZXZlbnRzLmNhbmNlbCgwKTtcbiAgICAgICAgLy8gc2V0IGFuIGluaXRpYWwgZXZlbnRcbiAgICAgICAgdGhpcy5fZXZlbnRzLmFkZCh7XG4gICAgICAgICAgICB0aWNrczogMCxcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgICAgICB0eXBlOiBcInNldFZhbHVlQXRUaW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fZnJvbVR5cGUob3B0aW9ucy52YWx1ZSksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFZhbHVlQXRUaW1lKG9wdGlvbnMudmFsdWUsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFBhcmFtLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXI6IDEsXG4gICAgICAgICAgICB1bml0czogXCJoZXJ0elwiLFxuICAgICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRUYXJnZXRBdFRpbWUodmFsdWUsIHRpbWUsIGNvbnN0YW50KSB7XG4gICAgICAgIC8vIGFwcHJveGltYXRlIGl0IHdpdGggbXVsdGlwbGUgbGluZWFyIHJhbXBzXG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5zZXRSYW1wUG9pbnQodGltZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVmFsdWUgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIC8vIHN0YXJ0IGZyb20gcHJldmlvdXNseSBzY2hlZHVsZWQgdmFsdWVcbiAgICAgICAgY29uc3QgcHJldkV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldCh0aW1lKTtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBNYXRoLnJvdW5kKE1hdGgubWF4KDEgLyBjb25zdGFudCwgMSkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzZWdtZW50czsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdUaW1lID0gY29uc3RhbnQgKiBpICsgdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHJhbXBWYWwgPSB0aGlzLl9leHBvbmVudGlhbEFwcHJvYWNoKHByZXZFdmVudC50aW1lLCBwcmV2RXZlbnQudmFsdWUsIGNvbXB1dGVkVmFsdWUsIGNvbnN0YW50LCBzZWdUaW1lKTtcbiAgICAgICAgICAgIHRoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5fdG9UeXBlKHJhbXBWYWwpLCBzZWdUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHN1cGVyLnNldFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ldmVudHMuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRXZlbnQgPSB0aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRpY2tzVW50aWxUaW1lID0gdGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KHByZXZpb3VzRXZlbnQsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGV2ZW50LnRpY2tzID0gTWF0aC5tYXgodGlja3NVbnRpbFRpbWUsIDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHN1cGVyLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ldmVudHMuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRXZlbnQgPSB0aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRpY2tzVW50aWxUaW1lID0gdGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KHByZXZpb3VzRXZlbnQsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGV2ZW50LnRpY2tzID0gTWF0aC5tYXgodGlja3NVbnRpbFRpbWUsIDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSkge1xuICAgICAgICAvLyBhcHJveGltYXRlIGl0IHdpdGggbXVsdGlwbGUgbGluZWFyIHJhbXBzXG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRWYWwgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIC8vIHN0YXJ0IGZyb20gcHJldmlvdXNseSBzY2hlZHVsZWQgdmFsdWVcbiAgICAgICAgY29uc3QgcHJldkV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldCh0aW1lKTtcbiAgICAgICAgLy8gYXBwcm94IDEwIHNlZ21lbnRzIHBlciBzZWNvbmRcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBNYXRoLnJvdW5kKE1hdGgubWF4KCh0aW1lIC0gcHJldkV2ZW50LnRpbWUpICogMTAsIDEpKTtcbiAgICAgICAgY29uc3Qgc2VnbWVudER1ciA9ICgodGltZSAtIHByZXZFdmVudC50aW1lKSAvIHNlZ21lbnRzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2VnbWVudHM7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnVGltZSA9IHNlZ21lbnREdXIgKiBpICsgcHJldkV2ZW50LnRpbWU7XG4gICAgICAgICAgICBjb25zdCByYW1wVmFsID0gdGhpcy5fZXhwb25lbnRpYWxJbnRlcnBvbGF0ZShwcmV2RXZlbnQudGltZSwgcHJldkV2ZW50LnZhbHVlLCB0aW1lLCBjb21wdXRlZFZhbCwgc2VnVGltZSk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShyYW1wVmFsKSwgc2VnVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRpY2sgdmFsdWUgYXQgdGhlIHRpbWUuIFRha2VzIGludG8gYWNjb3VudFxuICAgICAqIGFueSBhdXRvbWF0aW9uIGN1cnZlcyBzY2hlZHVsZWQgb24gdGhlIHNpZ25hbC5cbiAgICAgKiBAcGFyYW0gIGV2ZW50IFRoZSB0aW1lIHRvIGdldCB0aGUgdGljayBjb3VudCBhdFxuICAgICAqIEByZXR1cm4gVGhlIG51bWJlciBvZiB0aWNrcyB3aGljaCBoYXZlIGVsYXBzZWQgYXQgdGhlIHRpbWUgZ2l2ZW4gYW55IGF1dG9tYXRpb25zLlxuICAgICAqL1xuICAgIF9nZXRUaWNrc1VudGlsRXZlbnQoZXZlbnQsIHRpbWUpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgICB0aWNrczogMCxcbiAgICAgICAgICAgICAgICB0aW1lOiAwLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0VmFsdWVBdFRpbWVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNVbmRlZihldmVudC50aWNrcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRXZlbnQgPSB0aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChldmVudCk7XG4gICAgICAgICAgICBldmVudC50aWNrcyA9IHRoaXMuX2dldFRpY2tzVW50aWxFdmVudChwcmV2aW91c0V2ZW50LCBldmVudC50aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWwwID0gdGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZShldmVudC50aW1lKSk7XG4gICAgICAgIGxldCB2YWwxID0gdGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZSh0aW1lKSk7XG4gICAgICAgIC8vIGlmIGl0J3MgcmlnaHQgb24gdGhlIGxpbmUsIHRha2UgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgIGNvbnN0IG9uVGhlTGluZUV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldCh0aW1lKTtcbiAgICAgICAgaWYgKG9uVGhlTGluZUV2ZW50ICYmIG9uVGhlTGluZUV2ZW50LnRpbWUgPT09IHRpbWUgJiYgb25UaGVMaW5lRXZlbnQudHlwZSA9PT0gXCJzZXRWYWx1ZUF0VGltZVwiKSB7XG4gICAgICAgICAgICB2YWwxID0gdGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZSh0aW1lIC0gdGhpcy5zYW1wbGVUaW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAuNSAqICh0aW1lIC0gZXZlbnQudGltZSkgKiAodmFsMCArIHZhbDEpICsgZXZlbnQudGlja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRpY2sgdmFsdWUgYXQgdGhlIHRpbWUuIFRha2VzIGludG8gYWNjb3VudFxuICAgICAqIGFueSBhdXRvbWF0aW9uIGN1cnZlcyBzY2hlZHVsZWQgb24gdGhlIHNpZ25hbC5cbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgdG8gZ2V0IHRoZSB0aWNrIGNvdW50IGF0XG4gICAgICogQHJldHVybiBUaGUgbnVtYmVyIG9mIHRpY2tzIHdoaWNoIGhhdmUgZWxhcHNlZCBhdCB0aGUgdGltZSBnaXZlbiBhbnkgYXV0b21hdGlvbnMuXG4gICAgICovXG4gICAgZ2V0VGlja3NBdFRpbWUodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ldmVudHMuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLl9nZXRUaWNrc1VudGlsRXZlbnQoZXZlbnQsIGNvbXB1dGVkVGltZSksIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVsYXBzZWQgdGltZSBvZiB0aGUgbnVtYmVyIG9mIHRpY2tzIGZyb20gdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gdGlja3MgVGhlIG51bWJlciBvZiB0aWNrcyB0byBjYWxjdWxhdGVcbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgdG8gZ2V0IHRoZSBuZXh0IHRpY2sgZnJvbVxuICAgICAqIEByZXR1cm4gVGhlIGR1cmF0aW9uIG9mIHRoZSBudW1iZXIgb2YgdGlja3MgZnJvbSB0aGUgZ2l2ZW4gdGltZSBpbiBzZWNvbmRzXG4gICAgICovXG4gICAgZ2V0RHVyYXRpb25PZlRpY2tzKHRpY2tzLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGljayA9IHRoaXMuZ2V0VGlja3NBdFRpbWUodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbWVPZlRpY2soY3VycmVudFRpY2sgKyB0aWNrcykgLSBjb21wdXRlZFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgdGljaywgcmV0dXJucyB0aGUgdGltZSB0aGF0IHRpY2sgb2NjdXJzIGF0LlxuICAgICAqIEByZXR1cm4gVGhlIHRpbWUgdGhhdCB0aGUgdGljayBvY2N1cnMuXG4gICAgICovXG4gICAgZ2V0VGltZU9mVGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IHRoaXMuX2V2ZW50cy5nZXQodGljaywgXCJ0aWNrc1wiKTtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSB0aGlzLl9ldmVudHMuZ2V0QWZ0ZXIodGljaywgXCJ0aWNrc1wiKTtcbiAgICAgICAgaWYgKGJlZm9yZSAmJiBiZWZvcmUudGlja3MgPT09IHRpY2spIHtcbiAgICAgICAgICAgIHJldHVybiBiZWZvcmUudGltZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUgJiYgYWZ0ZXIgJiZcbiAgICAgICAgICAgIGFmdGVyLnR5cGUgPT09IFwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIiAmJlxuICAgICAgICAgICAgYmVmb3JlLnZhbHVlICE9PSBhZnRlci52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgdmFsMCA9IHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUoYmVmb3JlLnRpbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbDEgPSB0aGlzLl9mcm9tVHlwZSh0aGlzLmdldFZhbHVlQXRUaW1lKGFmdGVyLnRpbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHZhbDEgLSB2YWwwKSAvIChhZnRlci50aW1lIC0gYmVmb3JlLnRpbWUpO1xuICAgICAgICAgICAgY29uc3QgayA9IE1hdGguc3FydChNYXRoLnBvdyh2YWwwLCAyKSAtIDIgKiBkZWx0YSAqIChiZWZvcmUudGlja3MgLSB0aWNrKSk7XG4gICAgICAgICAgICBjb25zdCBzb2wxID0gKC12YWwwICsgaykgLyBkZWx0YTtcbiAgICAgICAgICAgIGNvbnN0IHNvbDIgPSAoLXZhbDAgLSBrKSAvIGRlbHRhO1xuICAgICAgICAgICAgcmV0dXJuIChzb2wxID4gMCA/IHNvbDEgOiBzb2wyKSArIGJlZm9yZS50aW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZS52YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBiZWZvcmUudGltZSArICh0aWNrIC0gYmVmb3JlLnRpY2tzKSAvIGJlZm9yZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aWNrIC8gdGhpcy5faW5pdGlhbFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc29tZSBudW1iZXIgb2YgdGlja3MgdGhlaXIgdGhlIGR1cmF0aW9uIGluIHNlY29uZHMgYWNjb3VudGluZ1xuICAgICAqIGZvciBhbnkgYXV0b21hdGlvbiBjdXJ2ZXMgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aWNrcyBUaGUgbnVtYmVyIG9mIHRpY2tzIHRvIGNvbnZlcnQgdG8gc2Vjb25kcy5cbiAgICAgKiBAcGFyYW0gIHdoZW4gIFdoZW4gYWxvbmcgdGhlIGF1dG9tYXRpb24gdGltZWxpbmUgdG8gY29udmVydCB0aGUgdGlja3MuXG4gICAgICogQHJldHVybiBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcyBvZiB0aGUgdGlja3MuXG4gICAgICovXG4gICAgdGlja3NUb1RpbWUodGlja3MsIHdoZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RHVyYXRpb25PZlRpY2tzKHRpY2tzLCB3aGVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgW1t0aWNrc1RvVGltZV1dLiBDb252ZXJ0IGEgZHVyYXRpb24gaW5cbiAgICAgKiBzZWNvbmRzIHRvIHRoZSBjb3JyZXNwb25kaW5nIG51bWJlciBvZiB0aWNrcyBhY2NvdW50aW5nIGZvciBhbnlcbiAgICAgKiBhdXRvbWF0aW9uIGN1cnZlcyBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIGR1cmF0aW9uIFRoZSB0aW1lIGludGVydmFsIHRvIGNvbnZlcnQgdG8gdGlja3MuXG4gICAgICogQHBhcmFtICB3aGVuIFdoZW4gYWxvbmcgdGhlIGF1dG9tYXRpb24gdGltZWxpbmUgdG8gY29udmVydCB0aGUgdGlja3MuXG4gICAgICogQHJldHVybiBUaGUgZHVyYXRpb24gaW4gdGlja3MuXG4gICAgICovXG4gICAgdGltZVRvVGlja3MoZHVyYXRpb24sIHdoZW4pIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHMod2hlbik7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRHVyYXRpb24gPSB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGlja3MgPSB0aGlzLmdldFRpY2tzQXRUaW1lKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGNvbnN0IGVuZFRpY2tzID0gdGhpcy5nZXRUaWNrc0F0VGltZShjb21wdXRlZFRpbWUgKyBjb21wdXRlZER1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIGVuZFRpY2tzIC0gc3RhcnRUaWNrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBmcm9tIHRoZSB0eXBlIHdoZW4gdGhlIHVuaXQgdmFsdWUgaXMgQlBNXG4gICAgICovXG4gICAgX2Zyb21UeXBlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy51bml0cyA9PT0gXCJicG1cIiAmJiB0aGlzLm11bHRpcGxpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAxIC8gKDYwIC8gdmFsIC8gdGhpcy5tdWx0aXBsaWVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5fZnJvbVR5cGUodmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGVjaWFsIGNhc2Ugb2YgdHlwZSBjb252ZXJzaW9uIHdoZXJlIHRoZSB1bml0cyA9PT0gXCJicG1cIlxuICAgICAqL1xuICAgIF90b1R5cGUodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLnVuaXRzID09PSBcImJwbVwiICYmIHRoaXMubXVsdGlwbGllcikge1xuICAgICAgICAgICAgcmV0dXJuICh2YWwgLyB0aGlzLm11bHRpcGxpZXIpICogNjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuX3RvVHlwZSh2YWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbXVsdGlwbGllciBvbiB0aGUgYnBtIHZhbHVlLiBVc2VmdWwgZm9yIHNldHRpbmcgYSBQUFEgcmVsYXRpdmUgdG8gdGhlIGJhc2UgZnJlcXVlbmN5IHZhbHVlLlxuICAgICAqL1xuICAgIGdldCBtdWx0aXBsaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbXVsdGlwbGllcjtcbiAgICB9XG4gICAgc2V0IG11bHRpcGxpZXIobSkge1xuICAgICAgICAvLyBnZXQgYW5kIHJlc2V0IHRoZSBjdXJyZW50IHZhbHVlIHdpdGggdGhlIG5ldyBtdWx0aXBsaWVyXG4gICAgICAgIC8vIG1pZ2h0IGJlIG5lY2Vzc2FyeSB0byBjbGVhciBhbGwgdGhlIHByZXZpb3VzIHZhbHVlc1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdGhpcy5fbXVsdGlwbGllciA9IG07XG4gICAgICAgIHRoaXMuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKDApO1xuICAgICAgICB0aGlzLnNldFZhbHVlQXRUaW1lKGN1cnJlbnRWYWwsIDApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tQYXJhbS5qcy5tYXAiLCJpbXBvcnQgeyBTaWduYWwgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL1NpZ25hbFwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgVGlja1BhcmFtIH0gZnJvbSBcIi4vVGlja1BhcmFtXCI7XG4vKipcbiAqIFRpY2tTaWduYWwgZXh0ZW5kcyBUb25lLlNpZ25hbCwgYnV0IGFkZHMgdGhlIGNhcGFiaWxpdHlcbiAqIHRvIGNhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIGVsYXBzZWQgdGlja3MuIGV4cG9uZW50aWFsIGFuZCB0YXJnZXQgY3VydmVzXG4gKiBhcmUgYXBwcm94aW1hdGVkIHdpdGggbXVsdGlwbGUgbGluZWFyIHJhbXBzLlxuICpcbiAqIFRoYW5rIHlvdSBCcnVubyBEaWFzLCBILiBTb2ZpYSBQaW50bywgYW5kIERhdmlkIE0uIE1hdG9zLFxuICogZm9yIHlvdXIgW1dBQyBwYXBlcl0oaHR0cHM6Ly9zbWFydGVjaC5nYXRlY2guZWR1L2JpdHN0cmVhbS9oYW5kbGUvMTg1My81NDU4OC9XQUMyMDE2LTQ5LnBkZilcbiAqIGRlc2NyaWJpbmcgaW50ZWdyYXRpbmcgdGltaW5nIGZ1bmN0aW9ucyBmb3IgdGVtcG8gY2FsY3VsYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGlja1NpZ25hbCBleHRlbmRzIFNpZ25hbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFRpY2tTaWduYWwuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpY2tTaWduYWxcIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRpY2tTaWduYWwuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLl9wYXJhbSA9IG5ldyBUaWNrUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgY29udmVydDogb3B0aW9ucy5jb252ZXJ0LFxuICAgICAgICAgICAgbXVsdGlwbGllcjogb3B0aW9ucy5tdWx0aXBsaWVyLFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuX2NvbnN0YW50U291cmNlLm9mZnNldCxcbiAgICAgICAgICAgIHVuaXRzOiBvcHRpb25zLnVuaXRzLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMudmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNpZ25hbC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwiaGVydHpcIixcbiAgICAgICAgICAgIHZhbHVlOiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGlja3NUb1RpbWUodGlja3MsIHdoZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLnRpY2tzVG9UaW1lKHRpY2tzLCB3aGVuKTtcbiAgICB9XG4gICAgdGltZVRvVGlja3MoZHVyYXRpb24sIHdoZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLnRpbWVUb1RpY2tzKGR1cmF0aW9uLCB3aGVuKTtcbiAgICB9XG4gICAgZ2V0VGltZU9mVGljayh0aWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5nZXRUaW1lT2ZUaWNrKHRpY2spO1xuICAgIH1cbiAgICBnZXREdXJhdGlvbk9mVGlja3ModGlja3MsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLmdldER1cmF0aW9uT2ZUaWNrcyh0aWNrcywgdGltZSk7XG4gICAgfVxuICAgIGdldFRpY2tzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLmdldFRpY2tzQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG11bHRpcGxpZXIgb24gdGhlIGJwbSB2YWx1ZS4gVXNlZnVsIGZvciBzZXR0aW5nIGEgUFBRIHJlbGF0aXZlIHRvIHRoZSBiYXNlIGZyZXF1ZW5jeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXQgbXVsdGlwbGllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLm11bHRpcGxpZXI7XG4gICAgfVxuICAgIHNldCBtdWx0aXBsaWVyKG0pIHtcbiAgICAgICAgdGhpcy5fcGFyYW0ubXVsdGlwbGllciA9IG07XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcGFyYW0uZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrU2lnbmFsLmpzLm1hcCIsImltcG9ydCB7IFRvbmVXaXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L1RvbmVXaXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFN0YXRlVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9TdGF0ZVRpbWVsaW5lXCI7XG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gXCIuLi91dGlsL1RpbWVsaW5lXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IFRpY2tTaWduYWwgfSBmcm9tIFwiLi9UaWNrU2lnbmFsXCI7XG5pbXBvcnQgeyBFUSB9IGZyb20gXCIuLi91dGlsL01hdGhcIjtcbi8qKlxuICogVXNlcyBbVGlja1NpZ25hbF0oVGlja1NpZ25hbCkgdG8gdHJhY2sgZWxhcHNlZCB0aWNrcyB3aXRoIGNvbXBsZXggYXV0b21hdGlvbiBjdXJ2ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUaWNrU291cmNlIGV4dGVuZHMgVG9uZVdpdGhDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoVGlja1NvdXJjZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpY2tTb3VyY2VcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSB0aW1lbGluZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgU3RhdGVUaW1lbGluZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCB2YWx1ZXMgb2YgdGhlIHRpY2tzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrT2Zmc2V0ID0gbmV3IFRpbWVsaW5lKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUaWNrU291cmNlLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCJdKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgVGlja1NpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogb3B0aW9ucy51bml0cyxcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwiZnJlcXVlbmN5XCIpO1xuICAgICAgICAvLyBzZXQgdGhlIGluaXRpYWwgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIDApO1xuICAgICAgICAvLyBhZGQgdGhlIGZpcnN0IGV2ZW50XG4gICAgICAgIHRoaXMuc2V0VGlja3NBdFRpbWUoMCwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZnJlcXVlbmN5OiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwiaGVydHpcIixcbiAgICAgICAgfSwgVG9uZVdpdGhDb250ZXh0LmdldERlZmF1bHRzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwbGF5YmFjayBzdGF0ZSBvZiB0aGUgc291cmNlLCBlaXRoZXIgXCJzdGFydGVkXCIsIFwic3RvcHBlZFwiIG9yIFwicGF1c2VkXCIuXG4gICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGNsb2NrIGF0IHRoZSBnaXZlbiB0aW1lLiBPcHRpb25hbGx5IHBhc3MgaW4gYW4gb2Zmc2V0XG4gICAgICogb2Ygd2hlcmUgdG8gc3RhcnQgdGhlIHRpY2sgY291bnRlciBmcm9tLlxuICAgICAqIEBwYXJhbSAgdGltZSAgICBUaGUgdGltZSB0aGUgY2xvY2sgc2hvdWxkIHN0YXJ0XG4gICAgICogQHBhcmFtIG9mZnNldCBUaGUgbnVtYmVyIG9mIHRpY2tzIHRvIHN0YXJ0IHRoZSBzb3VyY2UgYXRcbiAgICAgKi9cbiAgICBzdGFydCh0aW1lLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpICE9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpY2tzQXRUaW1lKG9mZnNldCwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY2xvY2suIFN0b3BwaW5nIHRoZSBjbG9jayByZXNldHMgdGhlIHRpY2sgY291bnRlciB0byAwLlxuICAgICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIHdoZW4gdGhlIGNsb2NrIHNob3VsZCBzdG9wLlxuICAgICAqL1xuICAgIHN0b3AodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgLy8gY2FuY2VsIHRoZSBwcmV2aW91cyBzdG9wXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0b3BwZWRcIikge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9zdGF0ZS5nZXQoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC50aW1lID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tPZmZzZXQuY2FuY2VsKGV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChldmVudC50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuc2V0VGlja3NBdFRpbWUoMCwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSBjbG9jay4gUGF1c2luZyBkb2VzIG5vdCByZXNldCB0aGUgdGljayBjb3VudGVyLlxuICAgICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIHdoZW4gdGhlIGNsb2NrIHNob3VsZCBzdG9wLlxuICAgICAqL1xuICAgIHBhdXNlKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJwYXVzZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIHN0YXJ0L3N0b3AvcGF1c2UgYW5kIHNldFRpY2tBdFRpbWUgZXZlbnRzIHNjaGVkdWxlZCBhZnRlciB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gdGltZSBXaGVuIHRvIGNsZWFyIHRoZSBldmVudHMgYWZ0ZXJcbiAgICAgKi9cbiAgICBjYW5jZWwodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbCh0aW1lKTtcbiAgICAgICAgdGhpcy5fdGlja09mZnNldC5jYW5jZWwodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsYXBzZWQgdGlja3MgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSB0aWNrIHZhbHVlXG4gICAgICogQHJldHVybiBUaGUgbnVtYmVyIG9mIHRpY2tzXG4gICAgICovXG4gICAgZ2V0VGlja3NBdFRpbWUodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3Qgc3RvcEV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0TGFzdFN0YXRlKFwic3RvcHBlZFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAvLyB0aGlzIGV2ZW50IGFsbG93cyBmb3JFYWNoQmV0d2VlbiB0byBpdGVyYXRlIHVudGlsIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgY29uc3QgdG1wRXZlbnQgPSB7IHN0YXRlOiBcInBhdXNlZFwiLCB0aW1lOiBjb21wdXRlZFRpbWUgfTtcbiAgICAgICAgdGhpcy5fc3RhdGUuYWRkKHRtcEV2ZW50KTtcbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgb2Zmc2V0IGV2ZW50XG4gICAgICAgIGxldCBsYXN0U3RhdGUgPSBzdG9wRXZlbnQ7XG4gICAgICAgIGxldCBlbGFwc2VkVGlja3MgPSAwO1xuICAgICAgICAvLyBpdGVyYXRlIHRocm91Z2ggYWxsIHRoZSBldmVudHMgc2luY2UgdGhlIGxhc3Qgc3RvcFxuICAgICAgICB0aGlzLl9zdGF0ZS5mb3JFYWNoQmV0d2VlbihzdG9wRXZlbnQudGltZSwgY29tcHV0ZWRUaW1lICsgdGhpcy5zYW1wbGVUaW1lLCBlID0+IHtcbiAgICAgICAgICAgIGxldCBwZXJpb2RTdGFydFRpbWUgPSBsYXN0U3RhdGUudGltZTtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIG9mZnNldCBldmVudCBpbiB0aGlzIHBlcmlvZCB1c2UgdGhhdFxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0RXZlbnQgPSB0aGlzLl90aWNrT2Zmc2V0LmdldChlLnRpbWUpO1xuICAgICAgICAgICAgaWYgKG9mZnNldEV2ZW50ICYmIG9mZnNldEV2ZW50LnRpbWUgPj0gbGFzdFN0YXRlLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkVGlja3MgPSBvZmZzZXRFdmVudC50aWNrcztcbiAgICAgICAgICAgICAgICBwZXJpb2RTdGFydFRpbWUgPSBvZmZzZXRFdmVudC50aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZS5zdGF0ZSA9PT0gXCJzdGFydGVkXCIgJiYgZS5zdGF0ZSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkVGlja3MgKz0gdGhpcy5mcmVxdWVuY3kuZ2V0VGlja3NBdFRpbWUoZS50aW1lKSAtIHRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKHBlcmlvZFN0YXJ0VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U3RhdGUgPSBlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZW1wb3JhcnkgZXZlbnRcbiAgICAgICAgdGhpcy5fc3RhdGUucmVtb3ZlKHRtcEV2ZW50KTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSB0aWNrc1xuICAgICAgICByZXR1cm4gZWxhcHNlZFRpY2tzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBjYWxsYmFjayB3YXMgaW52b2tlZC4gU3RhcnRzIGNvdW50aW5nIGF0IDBcbiAgICAgKiBhbmQgaW5jcmVtZW50cyBhZnRlciB0aGUgY2FsbGJhY2sgd2FzIGludm9rZWQuIFJldHVybnMgLTEgd2hlbiBzdG9wcGVkLlxuICAgICAqL1xuICAgIGdldCB0aWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja3NBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIHNldCB0aWNrcyh0KSB7XG4gICAgICAgIHRoaXMuc2V0VGlja3NBdFRpbWUodCwgdGhpcy5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHNpbmNlIHRpY2tzPTAgdGhhdCB0aGUgVGlja1NvdXJjZSBoYXMgYmVlbiBydW5uaW5nLiBBY2NvdW50c1xuICAgICAqIGZvciB0ZW1wbyBjdXJ2ZXNcbiAgICAgKi9cbiAgICBnZXQgc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2Vjb25kc0F0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgc2V0IHNlY29uZHMocykge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMuZnJlcXVlbmN5LnRpbWVUb1RpY2tzKHMsIG5vdyk7XG4gICAgICAgIHRoaXMuc2V0VGlja3NBdFRpbWUodGlja3MsIG5vdyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZWxhcHNlZCBzZWNvbmRzIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBnZXQgdGhlIGVsYXBzZWQgc2Vjb25kc1xuICAgICAqIEByZXR1cm4gIFRoZSBudW1iZXIgb2YgZWxhcHNlZCBzZWNvbmRzXG4gICAgICovXG4gICAgZ2V0U2Vjb25kc0F0VGltZSh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3Qgc3RvcEV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0TGFzdFN0YXRlKFwic3RvcHBlZFwiLCB0aW1lKTtcbiAgICAgICAgLy8gdGhpcyBldmVudCBhbGxvd3MgZm9yRWFjaEJldHdlZW4gdG8gaXRlcmF0ZSB1bnRpbCB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgIGNvbnN0IHRtcEV2ZW50ID0geyBzdGF0ZTogXCJwYXVzZWRcIiwgdGltZSB9O1xuICAgICAgICB0aGlzLl9zdGF0ZS5hZGQodG1wRXZlbnQpO1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBwcmV2aW91cyBvZmZzZXQgZXZlbnRcbiAgICAgICAgbGV0IGxhc3RTdGF0ZSA9IHN0b3BFdmVudDtcbiAgICAgICAgbGV0IGVsYXBzZWRTZWNvbmRzID0gMDtcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgZXZlbnRzIHNpbmNlIHRoZSBsYXN0IHN0b3BcbiAgICAgICAgdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oc3RvcEV2ZW50LnRpbWUsIHRpbWUgKyB0aGlzLnNhbXBsZVRpbWUsIGUgPT4ge1xuICAgICAgICAgICAgbGV0IHBlcmlvZFN0YXJ0VGltZSA9IGxhc3RTdGF0ZS50aW1lO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gb2Zmc2V0IGV2ZW50IGluIHRoaXMgcGVyaW9kIHVzZSB0aGF0XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRFdmVudCA9IHRoaXMuX3RpY2tPZmZzZXQuZ2V0KGUudGltZSk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0RXZlbnQgJiYgb2Zmc2V0RXZlbnQudGltZSA+PSBsYXN0U3RhdGUudGltZSkge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRTZWNvbmRzID0gb2Zmc2V0RXZlbnQuc2Vjb25kcztcbiAgICAgICAgICAgICAgICBwZXJpb2RTdGFydFRpbWUgPSBvZmZzZXRFdmVudC50aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZS5zdGF0ZSA9PT0gXCJzdGFydGVkXCIgJiYgZS5zdGF0ZSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkU2Vjb25kcyArPSBlLnRpbWUgLSBwZXJpb2RTdGFydFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U3RhdGUgPSBlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZW1wb3JhcnkgZXZlbnRcbiAgICAgICAgdGhpcy5fc3RhdGUucmVtb3ZlKHRtcEV2ZW50KTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSB0aWNrc1xuICAgICAgICByZXR1cm4gZWxhcHNlZFNlY29uZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2xvY2sncyB0aWNrcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpY2tzIFRoZSB0aWNrIHZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBzZXQgdGhlIHRpY2sgdmFsdWVcbiAgICAgKi9cbiAgICBzZXRUaWNrc0F0VGltZSh0aWNrcywgdGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX3RpY2tPZmZzZXQuY2FuY2VsKHRpbWUpO1xuICAgICAgICB0aGlzLl90aWNrT2Zmc2V0LmFkZCh7XG4gICAgICAgICAgICBzZWNvbmRzOiB0aGlzLmZyZXF1ZW5jeS5nZXREdXJhdGlvbk9mVGlja3ModGlja3MsIHRpbWUpLFxuICAgICAgICAgICAgdGlja3MsXG4gICAgICAgICAgICB0aW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNjaGVkdWxlZCBzdGF0ZSBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSB0aW1lIHRvIHF1ZXJ5LlxuICAgICAqL1xuICAgIGdldFN0YXRlQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGltZSBvZiB0aGUgZ2l2ZW4gdGljay4gVGhlIHNlY29uZCBhcmd1bWVudFxuICAgICAqIGlzIHdoZW4gdG8gdGVzdCBiZWZvcmUuIFNpbmNlIHRpY2tzIGNhbiBiZSBzZXQgKHdpdGggc2V0VGlja3NBdFRpbWUpXG4gICAgICogdGhlcmUgbWF5IGJlIG11bHRpcGxlIHRpbWVzIGZvciBhIGdpdmVuIHRpY2sgdmFsdWUuXG4gICAgICogQHBhcmFtICB0aWNrIFRoZSB0aWNrIG51bWJlci5cbiAgICAgKiBAcGFyYW0gIGJlZm9yZSBXaGVuIHRvIG1lYXN1cmUgdGhlIHRpY2sgdmFsdWUgZnJvbS5cbiAgICAgKiBAcmV0dXJuIFRoZSB0aW1lIG9mIHRoZSB0aWNrXG4gICAgICovXG4gICAgZ2V0VGltZU9mVGljayh0aWNrLCBiZWZvcmUgPSB0aGlzLm5vdygpKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX3RpY2tPZmZzZXQuZ2V0KGJlZm9yZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0KGJlZm9yZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IE1hdGgubWF4KG9mZnNldC50aW1lLCBldmVudC50aW1lKTtcbiAgICAgICAgY29uc3QgYWJzb2x1dGVUaWNrcyA9IHRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKHN0YXJ0VGltZSkgKyB0aWNrIC0gb2Zmc2V0LnRpY2tzO1xuICAgICAgICByZXR1cm4gdGhpcy5mcmVxdWVuY3kuZ2V0VGltZU9mVGljayhhYnNvbHV0ZVRpY2tzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoZSBjYWxsYmFjayBldmVudCBhdCBhbGwgc2NoZWR1bGVkIHRpY2tzIGJldHdlZW4gdGhlXG4gICAgICogc3RhcnQgdGltZSBhbmQgdGhlIGVuZCB0aW1lXG4gICAgICogQHBhcmFtICBzdGFydFRpbWUgIFRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlYXJjaCByYW5nZVxuICAgICAqIEBwYXJhbSAgZW5kVGltZSAgICBUaGUgZW5kIG9mIHRoZSBzZWFyY2ggcmFuZ2VcbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGVhY2ggdGlja1xuICAgICAqL1xuICAgIGZvckVhY2hUaWNrQmV0d2VlbihzdGFydFRpbWUsIGVuZFRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIG9ubHkgaXRlcmF0ZSB0aHJvdWdoIHRoZSBzZWN0aW9ucyB3aGVyZSBpdCBpcyBcInN0YXJ0ZWRcIlxuICAgICAgICBsZXQgbGFzdFN0YXRlRXZlbnQgPSB0aGlzLl9zdGF0ZS5nZXQoc3RhcnRUaW1lKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oc3RhcnRUaW1lLCBlbmRUaW1lLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAobGFzdFN0YXRlRXZlbnQgJiYgbGFzdFN0YXRlRXZlbnQuc3RhdGUgPT09IFwic3RhcnRlZFwiICYmIGV2ZW50LnN0YXRlICE9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yRWFjaFRpY2tCZXR3ZWVuKE1hdGgubWF4KGxhc3RTdGF0ZUV2ZW50LnRpbWUsIHN0YXJ0VGltZSksIGV2ZW50LnRpbWUgLSB0aGlzLnNhbXBsZVRpbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RTdGF0ZUV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgZXJyb3IgPSBudWxsO1xuICAgICAgICBpZiAobGFzdFN0YXRlRXZlbnQgJiYgbGFzdFN0YXRlRXZlbnQuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhTdGFydFRpbWUgPSBNYXRoLm1heChsYXN0U3RhdGVFdmVudC50aW1lLCBzdGFydFRpbWUpO1xuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBmcmVxdWVuY3kgdGlja3MgYW5kIHRoZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaWNrcyA9IHRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKG1heFN0YXJ0VGltZSk7XG4gICAgICAgICAgICBjb25zdCB0aWNrc0F0U3RhcnQgPSB0aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShsYXN0U3RhdGVFdmVudC50aW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzdGFydFRpY2tzIC0gdGlja3NBdFN0YXJ0O1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IE1hdGguY2VpbChkaWZmKSAtIGRpZmY7XG4gICAgICAgICAgICAvLyBndWFyZCBhZ2FpbnN0IGZsb2F0aW5nIHBvaW50IGlzc3Vlc1xuICAgICAgICAgICAgb2Zmc2V0ID0gRVEob2Zmc2V0LCAxKSA/IDAgOiBvZmZzZXQ7XG4gICAgICAgICAgICBsZXQgbmV4dFRpY2tUaW1lID0gdGhpcy5mcmVxdWVuY3kuZ2V0VGltZU9mVGljayhzdGFydFRpY2tzICsgb2Zmc2V0KTtcbiAgICAgICAgICAgIHdoaWxlIChuZXh0VGlja1RpbWUgPCBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV4dFRpY2tUaW1lLCBNYXRoLnJvdW5kKHRoaXMuZ2V0VGlja3NBdFRpbWUobmV4dFRpY2tUaW1lKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0VGlja1RpbWUgKz0gdGhpcy5mcmVxdWVuY3kuZ2V0RHVyYXRpb25PZlRpY2tzKDEsIG5leHRUaWNrVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fdGlja09mZnNldC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja1NvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBUb25lV2l0aENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9Ub25lV2l0aENvbnRleHRcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiLi4vdXRpbC9FbWl0dGVyXCI7XG5pbXBvcnQgeyBub09wLCByZWFkT25seSB9IGZyb20gXCIuLi91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgU3RhdGVUaW1lbGluZSB9IGZyb20gXCIuLi91dGlsL1N0YXRlVGltZWxpbmVcIjtcbmltcG9ydCB7IFRpY2tTb3VyY2UgfSBmcm9tIFwiLi9UaWNrU291cmNlXCI7XG5pbXBvcnQgeyBhc3NlcnRDb250ZXh0UnVubmluZyB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIEEgc2FtcGxlIGFjY3VyYXRlIGNsb2NrIHdoaWNoIHByb3ZpZGVzIGEgY2FsbGJhY2sgYXQgdGhlIGdpdmVuIHJhdGUuXG4gKiBXaGlsZSB0aGUgY2FsbGJhY2sgaXMgbm90IHNhbXBsZS1hY2N1cmF0ZSAoaXQgaXMgc3RpbGwgc3VzY2VwdGlibGUgdG9cbiAqIGxvb3NlIEpTIHRpbWluZyksIHRoZSB0aW1lIHBhc3NlZCBpbiBhcyB0aGUgYXJndW1lbnQgdG8gdGhlIGNhbGxiYWNrXG4gKiBpcyBwcmVjaXNlLiBGb3IgbW9zdCBhcHBsaWNhdGlvbnMsIGl0IGlzIGJldHRlciB0byB1c2UgVG9uZS5UcmFuc3BvcnRcbiAqIGluc3RlYWQgb2YgdGhlIENsb2NrIGJ5IGl0c2VsZiBzaW5jZSB5b3UgY2FuIHN5bmNocm9uaXplIG11bHRpcGxlIGNhbGxiYWNrcy5cbiAqIEBleGFtcGxlXG4gKiAvLyB0aGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIGFwcHJveGltYXRlbHkgb25jZSBhIHNlY29uZFxuICogLy8gYW5kIHdpbGwgcHJpbnQgdGhlIHRpbWUgZXhhY3RseSBvbmNlIGEgc2Vjb25kIGFwYXJ0LlxuICogY29uc3QgY2xvY2sgPSBuZXcgVG9uZS5DbG9jayh0aW1lID0+IHtcbiAqIFx0Y29uc29sZS5sb2codGltZSk7XG4gKiB9LCAxKTtcbiAqIGNsb2NrLnN0YXJ0KCk7XG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY2xhc3MgQ2xvY2sgZXh0ZW5kcyBUb25lV2l0aENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhDbG9jay5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImNhbGxiYWNrXCIsIFwiZnJlcXVlbmN5XCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvY2tcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBpbnZva2UgYXQgdGhlIHNjaGVkdWxlZCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG5vT3A7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHRoZSBsb29wIGNhbGxiYWNrIHdhcyBpbnZva2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0VXBkYXRlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIHBsYXliYWNrIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG5ldyBTdGF0ZVRpbWVsaW5lKFwic3RvcHBlZFwiKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRleHQgYm91bmQgcmVmZXJlbmNlIHRvIHRoZSBfbG9vcCBtZXRob2RcbiAgICAgICAgICogVGhpcyBpcyBuZWNlc3NhcnkgdG8gcmVtb3ZlIHRoZSBldmVudCBpbiB0aGUgZW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRMb29wID0gdGhpcy5fbG9vcC5iaW5kKHRoaXMpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoQ2xvY2suZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJjYWxsYmFja1wiLCBcImZyZXF1ZW5jeVwiXSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrO1xuICAgICAgICB0aGlzLl90aWNrU291cmNlID0gbmV3IFRpY2tTb3VyY2Uoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgICAgIHVuaXRzOiBvcHRpb25zLnVuaXRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbGFzdFVwZGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gdGhpcy5fdGlja1NvdXJjZS5mcmVxdWVuY3k7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwiZnJlcXVlbmN5XCIpO1xuICAgICAgICAvLyBhZGQgYW4gaW5pdGlhbCBzdGF0ZVxuICAgICAgICB0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0b3BwZWRcIiwgMCk7XG4gICAgICAgIC8vIGJpbmQgYSBjYWxsYmFjayB0byB0aGUgd29ya2VyIHRocmVhZFxuICAgICAgICB0aGlzLmNvbnRleHQub24oXCJ0aWNrXCIsIHRoaXMuX2JvdW5kTG9vcCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZVdpdGhDb250ZXh0LmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBub09wLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwiaGVydHpcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBsYXliYWNrIHN0YXRlIG9mIHRoZSBzb3VyY2UsIGVpdGhlciBcInN0YXJ0ZWRcIiwgXCJzdG9wcGVkXCIgb3IgXCJwYXVzZWRcIi5cbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGNsb2NrIGF0IHRoZSBnaXZlbiB0aW1lLiBPcHRpb25hbGx5IHBhc3MgaW4gYW4gb2Zmc2V0XG4gICAgICogb2Ygd2hlcmUgdG8gc3RhcnQgdGhlIHRpY2sgY291bnRlciBmcm9tLlxuICAgICAqIEBwYXJhbSAgdGltZSAgICBUaGUgdGltZSB0aGUgY2xvY2sgc2hvdWxkIHN0YXJ0XG4gICAgICogQHBhcmFtIG9mZnNldCAgV2hlcmUgdGhlIHRpY2sgY291bnRlciBzdGFydHMgY291bnRpbmcgZnJvbS5cbiAgICAgKi9cbiAgICBzdGFydCh0aW1lLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBjb250ZXh0IGlzIHJ1bm5pbmdcbiAgICAgICAgYXNzZXJ0Q29udGV4dFJ1bm5pbmcodGhpcy5jb250ZXh0KTtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGxvb3BcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMubG9nKFwic3RhcnRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGNvbXB1dGVkVGltZSkgIT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0YXJ0ZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tTb3VyY2Uuc3RhcnQoY29tcHV0ZWRUaW1lLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkVGltZSA8IHRoaXMuX2xhc3RVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCBjb21wdXRlZFRpbWUsIG9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGNsb2NrLiBTdG9wcGluZyB0aGUgY2xvY2sgcmVzZXRzIHRoZSB0aWNrIGNvdW50ZXIgdG8gMC5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB3aGVuIHRoZSBjbG9jayBzaG91bGQgc3RvcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNsb2NrID0gbmV3IFRvbmUuQ2xvY2sodGltZSA9PiB7XG4gICAgICogXHRjb25zb2xlLmxvZyh0aW1lKTtcbiAgICAgKiB9LCAxKTtcbiAgICAgKiBjbG9jay5zdGFydCgpO1xuICAgICAqIC8vIHN0b3AgdGhlIGNsb2NrIGFmdGVyIDEwIHNlY29uZHNcbiAgICAgKiBjbG9jay5zdG9wKFwiKzEwXCIpO1xuICAgICAqL1xuICAgIHN0b3AodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5sb2coXCJzdG9wXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0b3BwZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fdGlja1NvdXJjZS5zdG9wKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGlmIChjb21wdXRlZFRpbWUgPCB0aGlzLl9sYXN0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJzdG9wXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSBjbG9jay4gUGF1c2luZyBkb2VzIG5vdCByZXNldCB0aGUgdGljayBjb3VudGVyLlxuICAgICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIHdoZW4gdGhlIGNsb2NrIHNob3VsZCBzdG9wLlxuICAgICAqL1xuICAgIHBhdXNlKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJwYXVzZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tTb3VyY2UucGF1c2UoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIGlmIChjb21wdXRlZFRpbWUgPCB0aGlzLl9sYXN0VXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicGF1c2VcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgY2FsbGJhY2sgd2FzIGludm9rZWQuIFN0YXJ0cyBjb3VudGluZyBhdCAwXG4gICAgICogYW5kIGluY3JlbWVudHMgYWZ0ZXIgdGhlIGNhbGxiYWNrIHdhcyBpbnZva2VkLlxuICAgICAqL1xuICAgIGdldCB0aWNrcygpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmdldFRpY2tzQXRUaW1lKHRoaXMubm93KCkpKTtcbiAgICB9XG4gICAgc2V0IHRpY2tzKHQpIHtcbiAgICAgICAgdGhpcy5fdGlja1NvdXJjZS50aWNrcyA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHNpbmNlIHRpY2tzPTAgdGhhdCB0aGUgQ2xvY2sgaGFzIGJlZW4gcnVubmluZy4gQWNjb3VudHMgZm9yIHRlbXBvIGN1cnZlc1xuICAgICAqL1xuICAgIGdldCBzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5zZWNvbmRzO1xuICAgIH1cbiAgICBzZXQgc2Vjb25kcyhzKSB7XG4gICAgICAgIHRoaXMuX3RpY2tTb3VyY2Uuc2Vjb25kcyA9IHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZWxhcHNlZCBzZWNvbmRzIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBnZXQgdGhlIGVsYXBzZWQgc2Vjb25kc1xuICAgICAqIEByZXR1cm4gIFRoZSBudW1iZXIgb2YgZWxhcHNlZCBzZWNvbmRzXG4gICAgICovXG4gICAgZ2V0U2Vjb25kc0F0VGltZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWNrU291cmNlLmdldFNlY29uZHNBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2xvY2sncyB0aWNrcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpY2tzIFRoZSB0aWNrIHZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBzZXQgdGhlIHRpY2sgdmFsdWVcbiAgICAgKi9cbiAgICBzZXRUaWNrc0F0VGltZSh0aWNrcywgdGltZSkge1xuICAgICAgICB0aGlzLl90aWNrU291cmNlLnNldFRpY2tzQXRUaW1lKHRpY2tzLCB0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGltZSBvZiB0aGUgZ2l2ZW4gdGljay4gVGhlIHNlY29uZCBhcmd1bWVudFxuICAgICAqIGlzIHdoZW4gdG8gdGVzdCBiZWZvcmUuIFNpbmNlIHRpY2tzIGNhbiBiZSBzZXQgKHdpdGggc2V0VGlja3NBdFRpbWUpXG4gICAgICogdGhlcmUgbWF5IGJlIG11bHRpcGxlIHRpbWVzIGZvciBhIGdpdmVuIHRpY2sgdmFsdWUuXG4gICAgICogQHBhcmFtICB0aWNrIFRoZSB0aWNrIG51bWJlci5cbiAgICAgKiBAcGFyYW0gIGJlZm9yZSBXaGVuIHRvIG1lYXN1cmUgdGhlIHRpY2sgdmFsdWUgZnJvbS5cbiAgICAgKiBAcmV0dXJuIFRoZSB0aW1lIG9mIHRoZSB0aWNrXG4gICAgICovXG4gICAgZ2V0VGltZU9mVGljayh0aWNrLCBiZWZvcmUgPSB0aGlzLm5vdygpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWNrU291cmNlLmdldFRpbWVPZlRpY2sodGljaywgYmVmb3JlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9jaydzIHRpY2tzIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBnZXQgdGhlIHRpY2sgdmFsdWVcbiAgICAgKiBAcmV0dXJuIFRoZSB0aWNrIHZhbHVlIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqL1xuICAgIGdldFRpY2tzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tTb3VyY2UuZ2V0VGlja3NBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGltZSBvZiB0aGUgbmV4dCB0aWNrXG4gICAgICogQHBhcmFtICBvZmZzZXQgVGhlIHRpY2sgbnVtYmVyLlxuICAgICAqL1xuICAgIG5leHRUaWNrVGltZShvZmZzZXQsIHdoZW4pIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHMod2hlbik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaWNrID0gdGhpcy5nZXRUaWNrc0F0VGltZShjb21wdXRlZFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5nZXRUaW1lT2ZUaWNrKGN1cnJlbnRUaWNrICsgb2Zmc2V0LCBjb21wdXRlZFRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2NoZWR1bGluZyBsb29wLlxuICAgICAqL1xuICAgIF9sb29wKCkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSB0aGlzLl9sYXN0VXBkYXRlO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gdGhpcy5ub3coKTtcbiAgICAgICAgdGhpcy5fbGFzdFVwZGF0ZSA9IGVuZFRpbWU7XG4gICAgICAgIHRoaXMubG9nKFwibG9vcFwiLCBzdGFydFRpbWUsIGVuZFRpbWUpO1xuICAgICAgICBpZiAoc3RhcnRUaW1lICE9PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhdGUgY2hhbmdlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oc3RhcnRUaW1lLCBlbmRUaW1lLCBlID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX3RpY2tTb3VyY2UuZ2V0VGlja3NBdFRpbWUoZS50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN0YXJ0XCIsIGUudGltZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGltZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN0b3BcIiwgZS50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF1c2VkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwYXVzZVwiLCBlLnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB0aGUgdGljayBjYWxsYmFja3NcbiAgICAgICAgICAgIHRoaXMuX3RpY2tTb3VyY2UuZm9yRWFjaFRpY2tCZXR3ZWVuKHN0YXJ0VGltZSwgZW5kVGltZSwgKHRpbWUsIHRpY2tzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aW1lLCB0aWNrcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzY2hlZHVsZWQgc3RhdGUgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJuICBUaGUgbmFtZSBvZiB0aGUgc3RhdGUgaW5wdXQgaW4gc2V0U3RhdGVBdFRpbWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjbG9jayA9IG5ldyBUb25lLkNsb2NrKCk7XG4gICAgICogY2xvY2suc3RhcnQoXCIrMC4xXCIpO1xuICAgICAqIGNsb2NrLmdldFN0YXRlQXRUaW1lKFwiKzAuMVwiKTsgLy8gcmV0dXJucyBcInN0YXJ0ZWRcIlxuICAgICAqL1xuICAgIGdldFN0YXRlQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm9mZihcInRpY2tcIiwgdGhpcy5fYm91bmRMb29wKTtcbiAgICAgICAgdGhpcy5fdGlja1NvdXJjZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuRW1pdHRlci5taXhpbihDbG9jayk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbG9jay5qcy5tYXAiLCJpbXBvcnQgeyBUb25lIH0gZnJvbSBcIi4uL1RvbmVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi9Ub25lQXVkaW9CdWZmZXJcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIEEgZGF0YSBzdHJ1Y3R1cmUgZm9yIGhvbGRpbmcgbXVsdGlwbGUgYnVmZmVycyBpbiBhIE1hcC1saWtlIGRhdGFzdHJ1Y3R1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHBpYW5vU2FtcGxlcyA9IG5ldyBUb25lLlRvbmVBdWRpb0J1ZmZlcnMoe1xuICogXHRBMTogXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vY2FzaW8vQTEubXAzXCIsXG4gKiBcdEEyOiBcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9jYXNpby9BMi5tcDNcIixcbiAqIH0sICgpID0+IHtcbiAqIFx0Y29uc3QgcGxheWVyID0gbmV3IFRvbmUuUGxheWVyKCkudG9EZXN0aW5hdGlvbigpO1xuICogXHQvLyBwbGF5IG9uZSBvZiB0aGUgc2FtcGxlcyB3aGVuIHRoZXkgYWxsIGxvYWRcbiAqIFx0cGxheWVyLmJ1ZmZlciA9IHBpYW5vU2FtcGxlcy5nZXQoXCJBMlwiKTtcbiAqIFx0cGxheWVyLnN0YXJ0KCk7XG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiAvLyBUbyBwYXNzIGluIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBpbiB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICogY29uc3QgYnVmZmVycyA9IG5ldyBUb25lLlRvbmVBdWRpb0J1ZmZlcnMoe1xuICogXHQgdXJsczoge1xuICogXHRcdCBBMTogXCJBMS5tcDNcIixcbiAqIFx0XHQgQTI6IFwiQTIubXAzXCIsXG4gKiBcdCB9LFxuICogXHQgb25sb2FkOiAoKSA9PiBjb25zb2xlLmxvZyhcImxvYWRlZFwiKSxcbiAqIFx0IGJhc2VVcmw6IFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2Nhc2lvL1wiXG4gKiB9KTtcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lQXVkaW9CdWZmZXJzIGV4dGVuZHMgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZUF1ZGlvQnVmZmVyc1wiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG9mIHRoZSBidWZmZXJzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGxvYWRlZCBidWZmZXJzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkaW5nQ291bnQgPSAwO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVG9uZUF1ZGlvQnVmZmVycy5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybHNcIiwgXCJvbmxvYWRcIiwgXCJiYXNlVXJsXCJdLCBcInVybHNcIik7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgLy8gYWRkIGVhY2ggb25lXG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMudXJscykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRpbmdDb3VudCsrO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gb3B0aW9ucy51cmxzW25hbWVdO1xuICAgICAgICAgICAgdGhpcy5hZGQobmFtZSwgdXJsLCB0aGlzLl9idWZmZXJMb2FkZWQuYmluZCh0aGlzLCBvcHRpb25zLm9ubG9hZCksIG9wdGlvbnMub25lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYXNlVXJsOiBcIlwiLFxuICAgICAgICAgICAgb25lcnJvcjogbm9PcCxcbiAgICAgICAgICAgIG9ubG9hZDogbm9PcCxcbiAgICAgICAgICAgIHVybHM6IHt9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoZSBidWZmZXJzIG9iamVjdCBoYXMgYSBidWZmZXIgYnkgdGhhdCBuYW1lLlxuICAgICAqIEBwYXJhbSAgbmFtZSAgVGhlIGtleSBvciBpbmRleCBvZiB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXJzLmhhcyhuYW1lLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBidWZmZXIgYnkgbmFtZS4gSWYgYW4gYXJyYXkgd2FzIGxvYWRlZCxcbiAgICAgKiB0aGVuIHVzZSB0aGUgYXJyYXkgaW5kZXguXG4gICAgICogQHBhcmFtICBuYW1lICBUaGUga2V5IG9yIGluZGV4IG9mIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuaGFzKG5hbWUpLCBgVG9uZUF1ZGlvQnVmZmVycyBoYXMgbm8gYnVmZmVyIG5hbWVkOiAke25hbWV9YCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXJzLmdldChuYW1lLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGJ1ZmZlciB3YXMgbG9hZGVkLiBkZWNyZW1lbnQgdGhlIGNvdW50ZXIuXG4gICAgICovXG4gICAgX2J1ZmZlckxvYWRlZChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9sb2FkaW5nQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmdDb3VudCA9PT0gMCAmJiBjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgYnVmZmVycyBhcmUgbG9hZGVkIG9yIG5vdFxuICAgICAqL1xuICAgIGdldCBsb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2J1ZmZlcnMpLmV2ZXJ5KChbXywgYnVmZmVyXSkgPT4gYnVmZmVyLmxvYWRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGJ1ZmZlciBieSBuYW1lIGFuZCB1cmwgdG8gdGhlIEJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0gIG5hbWUgICAgICBBIHVuaXF1ZSBuYW1lIHRvIGdpdmUgdGhlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSAgdXJsICBFaXRoZXIgdGhlIHVybCBvZiB0aGUgYnVmZXIsIG9yIGEgYnVmZmVyIHdoaWNoIHdpbGwgYmUgYWRkZWQgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gdGhlIHVybCBpcyBsb2FkZWQuXG4gICAgICogQHBhcmFtICBvbmVycm9yICBJbnZva2VkIGlmIHRoZSBidWZmZXIgY2FuJ3QgYmUgbG9hZGVkXG4gICAgICovXG4gICAgYWRkKG5hbWUsIHVybCwgY2FsbGJhY2sgPSBub09wLCBvbmVycm9yID0gbm9PcCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcodXJsKSkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5zZXQobmFtZS50b1N0cmluZygpLCBuZXcgVG9uZUF1ZGlvQnVmZmVyKHRoaXMuYmFzZVVybCArIHVybCwgY2FsbGJhY2ssIG9uZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc2V0KG5hbWUudG9TdHJpbmcoKSwgbmV3IFRvbmVBdWRpb0J1ZmZlcih1cmwsIGNhbGxiYWNrLCBvbmVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiBidWZmZXIuZGlzcG9zZSgpKTtcbiAgICAgICAgdGhpcy5fYnVmZmVycy5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQXVkaW9CdWZmZXJzLmpzLm1hcCIsImltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwiLi4vR2xvYmFsXCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRUaW1lQ2xhc3MgfSBmcm9tIFwiLi9UcmFuc3BvcnRUaW1lXCI7XG4vKipcbiAqIFRpY2tzIGlzIGEgcHJpbWl0aXZlIHR5cGUgZm9yIGVuY29kaW5nIFRpbWUgdmFsdWVzLlxuICogVGlja3MgY2FuIGJlIGNvbnN0cnVjdGVkIHdpdGggb3Igd2l0aG91dCB0aGUgYG5ld2Aga2V5d29yZC4gVGlja3MgY2FuIGJlIHBhc3NlZFxuICogaW50byB0aGUgcGFyYW1ldGVyIG9mIGFueSBtZXRob2Qgd2hpY2ggdGFrZXMgdGltZSBhcyBhbiBhcmd1bWVudC5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0ID0gVG9uZS5UaWNrcyhcIjRuXCIpOyAvLyBhIHF1YXJ0ZXIgbm90ZSBhcyB0aWNrc1xuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGNsYXNzIFRpY2tzQ2xhc3MgZXh0ZW5kcyBUcmFuc3BvcnRUaW1lQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpY2tzXCI7XG4gICAgICAgIHRoaXMuZGVmYXVsdFVuaXRzID0gXCJpXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB0aW1lIGluIHRoZSBnaXZlbiB1bml0c1xuICAgICAqL1xuICAgIF9ub3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnRpY2tzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBiZWF0cyBpbiB0aGUgY3VycmVudCB1bml0c1xuICAgICAqL1xuICAgIF9iZWF0c1RvVW5pdHMoYmVhdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFBQUSgpICogYmVhdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgc2Vjb25kIGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX3NlY29uZHNUb1VuaXRzKHNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3Ioc2Vjb25kcyAvICg2MCAvIHRoaXMuX2dldEJwbSgpKSAqIHRoaXMuX2dldFBQUSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSB0aWNrIGluIHRoZSBjdXJyZW50IHRpbWUgdW5pdHNcbiAgICAgKi9cbiAgICBfdGlja3NUb1VuaXRzKHRpY2tzKSB7XG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIGluIHRpY2tzXG4gICAgICovXG4gICAgdG9UaWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWUgaW4gc2Vjb25kc1xuICAgICAqL1xuICAgIHRvU2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlT2YoKSAvIHRoaXMuX2dldFBQUSgpKSAqICg2MCAvIHRoaXMuX2dldEJwbSgpKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnQgYSB0aW1lIHJlcHJlc2VudGF0aW9uIHRvIHRpY2tzXG4gKiBAY2F0ZWdvcnkgVW5pdFxuICovXG5leHBvcnQgZnVuY3Rpb24gVGlja3ModmFsdWUsIHVuaXRzKSB7XG4gICAgcmV0dXJuIG5ldyBUaWNrc0NsYXNzKGdldENvbnRleHQoKSwgdmFsdWUsIHVuaXRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tzLmpzLm1hcCIsImltcG9ydCB7IFRvbmVXaXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L1RvbmVXaXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi9UaW1lbGluZVwiO1xuaW1wb3J0IHsgb25Db250ZXh0Q2xvc2UsIG9uQ29udGV4dEluaXQgfSBmcm9tIFwiLi4vY29udGV4dC9Db250ZXh0SW5pdGlhbGl6YXRpb25cIjtcbi8qKlxuICogRHJhdyBpcyB1c2VmdWwgZm9yIHN5bmNocm9uaXppbmcgdmlzdWFscyBhbmQgYXVkaW8gZXZlbnRzLlxuICogQ2FsbGJhY2tzIGZyb20gVG9uZS5UcmFuc3BvcnQgb3IgYW55IG9mIHRoZSBUb25lLkV2ZW50IGNsYXNzZXNcbiAqIGFsd2F5cyBoYXBwZW4gX2JlZm9yZV8gdGhlIHNjaGVkdWxlZCB0aW1lIGFuZCBhcmUgbm90IHN5bmNocm9uaXplZFxuICogdG8gdGhlIGFuaW1hdGlvbiBmcmFtZSBzbyB0aGV5IGFyZSBub3QgZ29vZCBmb3IgdHJpZ2dlcmluZyB0aWdodGx5XG4gKiBzeW5jaHJvbml6ZWQgdmlzdWFscyBhbmQgc291bmQuIERyYXcgbWFrZXMgaXQgZWFzeSB0byBzY2hlZHVsZVxuICogY2FsbGJhY2tzIHVzaW5nIHRoZSBBdWRpb0NvbnRleHQgdGltZSBhbmQgdXNlcyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXG4gKiBAZXhhbXBsZVxuICogVG9uZS5UcmFuc3BvcnQuc2NoZWR1bGUoKHRpbWUpID0+IHtcbiAqIFx0Ly8gdXNlIHRoZSB0aW1lIGFyZ3VtZW50IHRvIHNjaGVkdWxlIGEgY2FsbGJhY2sgd2l0aCBEcmF3XG4gKiBcdFRvbmUuRHJhdy5zY2hlZHVsZSgoKSA9PiB7XG4gKiBcdFx0Ly8gZG8gZHJhd2luZyBvciBET00gbWFuaXB1bGF0aW9uIGhlcmVcbiAqIFx0XHRjb25zb2xlLmxvZyh0aW1lKTtcbiAqIFx0fSwgdGltZSk7XG4gKiB9LCBcIiswLjVcIik7XG4gKiBUb25lLlRyYW5zcG9ydC5zdGFydCgpO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIERyYXcgZXh0ZW5kcyBUb25lV2l0aENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRyYXdcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkdXJhdGlvbiBhZnRlciB3aGljaCBldmVudHMgYXJlIG5vdCBpbnZva2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHBpcmF0aW9uID0gMC4yNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2YgdGltZSBiZWZvcmUgdGhlIHNjaGVkdWxlZCB0aW1lXG4gICAgICAgICAqIHRoYXQgdGhlIGNhbGxiYWNrIGNhbiBiZSBpbnZva2VkLiBEZWZhdWx0IGlzXG4gICAgICAgICAqIGhhbGYgdGhlIHRpbWUgb2YgYW4gYW5pbWF0aW9uIGZyYW1lICgwLjAwOCBzZWNvbmRzKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW50aWNpcGF0aW9uID0gMC4wMDg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgb2YgdGhlIGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBUaW1lbGluZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRyYXcgbG9vcFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmREcmF3TG9vcCA9IHRoaXMuX2RyYXdMb29wLmJpbmQodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5pbWF0aW9uIGZyYW1lIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhIGZ1bmN0aW9uIGF0IHRoZSBnaXZlbiB0aW1lIHRvIGJlIGludm9rZWRcbiAgICAgKiBvbiB0aGUgbmVhcmVzdCBhbmltYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgQ2FsbGJhY2sgaXMgaW52b2tlZCBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgICBUaGUgdGltZSByZWxhdGl2ZSB0byB0aGUgQXVkaW9Db250ZXh0IHRpbWUgdG8gaW52b2tlIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlUmVwZWF0KHRpbWUgPT4ge1xuICAgICAqIFx0VG9uZS5EcmF3LnNjaGVkdWxlKCgpID0+IGNvbnNvbGUubG9nKHRpbWUpLCB0aW1lKTtcbiAgICAgKiB9LCAxKTtcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zdGFydCgpO1xuICAgICAqL1xuICAgIHNjaGVkdWxlKGNhbGxiYWNrLCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICB0aW1lOiB0aGlzLnRvU2Vjb25kcyh0aW1lKSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBkcmF3IGxvb3Agb24gdGhlIGZpcnN0IGV2ZW50XG4gICAgICAgIGlmICh0aGlzLl9ldmVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ib3VuZERyYXdMb29wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGV2ZW50cyBzY2hlZHVsZWQgYWZ0ZXIgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIGFmdGVyICBUaW1lIGFmdGVyIHdoaWNoIHNjaGVkdWxlZCBldmVudHMgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIHNjaGVkdWxpbmcgdGltZWxpbmUuXG4gICAgICovXG4gICAgY2FuY2VsKGFmdGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5jYW5jZWwodGhpcy50b1NlY29uZHMoYWZ0ZXIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkcmF3IGxvb3BcbiAgICAgKi9cbiAgICBfZHJhd0xvb3AoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuY29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2V2ZW50cy5sZW5ndGggJiYgdGhpcy5fZXZlbnRzLnBlZWsoKS50aW1lIC0gdGhpcy5hbnRpY2lwYXRpb24gPD0gbm93KSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX2V2ZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGV2ZW50ICYmIG5vdyAtIGV2ZW50LnRpbWUgPD0gdGhpcy5leHBpcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2JvdW5kRHJhd0xvb3ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmRpc3Bvc2UoKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFx0SU5JVElBTElaQVRJT05cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxub25Db250ZXh0SW5pdChjb250ZXh0ID0+IHtcbiAgICBjb250ZXh0LmRyYXcgPSBuZXcgRHJhdyh7IGNvbnRleHQgfSk7XG59KTtcbm9uQ29udGV4dENsb3NlKGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQuZHJhdy5kaXNwb3NlKCk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYXcuanMubWFwIiwiaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tIFwiLi9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL0RlYnVnXCI7XG4vKipcbiAqIFNpbWlsYXIgdG8gVG9uZS5UaW1lbGluZSwgYnV0IGFsbCBldmVudHMgcmVwcmVzZW50XG4gKiBpbnRlcnZhbHMgd2l0aCBib3RoIFwidGltZVwiIGFuZCBcImR1cmF0aW9uXCIgdGltZXMuIFRoZVxuICogZXZlbnRzIGFyZSBwbGFjZWQgaW4gYSB0cmVlIHN0cnVjdHVyZSBvcHRpbWl6ZWRcbiAqIGZvciBxdWVyeWluZyBhbiBpbnRlcnNlY3Rpb24gcG9pbnQgd2l0aCB0aGUgdGltZWxpbmVcbiAqIGV2ZW50cy4gSW50ZXJuYWxseSB1c2VzIGFuIFtJbnRlcnZhbCBUcmVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnRlcnZhbF90cmVlKVxuICogdG8gcmVwcmVzZW50IHRoZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxUaW1lbGluZSBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludGVydmFsVGltZWxpbmVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IG5vZGUgb2YgdGhlIGludGV2YWwgdHJlZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIHRoZSBsZW5ndGggb2YgdGhlIHRpbWVsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHRvIGFkZCB0byB0aGUgdGltZWxpbmUuIEFsbCBldmVudHMgbXVzdFxuICAgICAqIGhhdmUgYSB0aW1lIGFuZCBkdXJhdGlvbiB2YWx1ZVxuICAgICAqIEBwYXJhbSAgZXZlbnQgIFRoZSBldmVudCB0byBhZGQgdG8gdGhlIHRpbWVsaW5lXG4gICAgICovXG4gICAgYWRkKGV2ZW50KSB7XG4gICAgICAgIGFzc2VydChpc0RlZmluZWQoZXZlbnQudGltZSksIFwiRXZlbnRzIG11c3QgaGF2ZSBhIHRpbWUgcHJvcGVydHlcIik7XG4gICAgICAgIGFzc2VydChpc0RlZmluZWQoZXZlbnQuZHVyYXRpb24pLCBcIkV2ZW50cyBtdXN0IGhhdmUgYSBkdXJhdGlvbiBwYXJhbWV0ZXJcIik7XG4gICAgICAgIGV2ZW50LnRpbWUgPSBldmVudC50aW1lLnZhbHVlT2YoKTtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgSW50ZXJ2YWxOb2RlKGV2ZW50LnRpbWUsIGV2ZW50LnRpbWUgKyBldmVudC5kdXJhdGlvbiwgZXZlbnQpO1xuICAgICAgICBpZiAodGhpcy5fcm9vdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yb290Lmluc2VydChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sZW5ndGgrKztcbiAgICAgICAgLy8gUmVzdHJ1Y3R1cmUgdHJlZSB0byBiZSBiYWxhbmNlZFxuICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS51cGRhdGVIZWlnaHQoKTtcbiAgICAgICAgICAgIG5vZGUudXBkYXRlTWF4KCk7XG4gICAgICAgICAgICB0aGlzLl9yZWJhbGFuY2Uobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBldmVudCBmcm9tIHRoZSB0aW1lbGluZS5cbiAgICAgKiBAcGFyYW0gIGV2ZW50ICBUaGUgZXZlbnQgdG8gcmVtb3ZlIGZyb20gdGhlIHRpbWVsaW5lXG4gICAgICovXG4gICAgcmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9yb290LnNlYXJjaChldmVudC50aW1lLCByZXN1bHRzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZXZlbnQgPT09IGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHRpbWVsaW5lLlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudHMgd2hvc2UgdGltZSB0aW1lIGlzIGFmdGVyIHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICBhZnRlciAgVGhlIHRpbWUgdG8gcXVlcnkuXG4gICAgICovXG4gICAgY2FuY2VsKGFmdGVyKSB7XG4gICAgICAgIHRoaXMuZm9yRWFjaEZyb20oYWZ0ZXIsIGV2ZW50ID0+IHRoaXMucmVtb3ZlKGV2ZW50KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJvb3Qgbm9kZSBhcyB0aGUgZ2l2ZW4gbm9kZVxuICAgICAqL1xuICAgIF9zZXRSb290KG5vZGUpIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5vZGU7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yb290LnBhcmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVwbGFjZSB0aGUgcmVmZXJlbmNlcyB0byB0aGUgbm9kZSBpbiB0aGUgbm9kZSdzIHBhcmVudFxuICAgICAqIHdpdGggdGhlIHJlcGxhY2VtZW50IG5vZGUuXG4gICAgICovXG4gICAgX3JlcGxhY2VOb2RlSW5QYXJlbnQobm9kZSwgcmVwbGFjZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5pc0xlZnRDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQubGVmdCA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQucmlnaHQgPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlYmFsYW5jZShub2RlLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRSb290KHJlcGxhY2VtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgcmVwbGFjZSBpdCB3aXRoXG4gICAgICogYSBzdWNjZXNzb3Igd2hpY2ggZm9sbG93cyB0aGUgc2NoZW1hLlxuICAgICAqL1xuICAgIF9yZW1vdmVOb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KG5vZGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGxhY2VOb2RlSW5QYXJlbnQobm9kZSwgbm9kZS5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGxhY2VOb2RlSW5QYXJlbnQobm9kZSwgbm9kZS5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gbm9kZS5nZXRCYWxhbmNlKCk7XG4gICAgICAgICAgICBsZXQgcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICBsZXQgdGVtcCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYmFsYW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0LnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gbm9kZS5sZWZ0LnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVwbGFjZW1lbnQucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQucGFyZW50LnJpZ2h0ID0gcmVwbGFjZW1lbnQubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSByZXBsYWNlbWVudC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5sZWZ0ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5yaWdodC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LmxlZnQgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgdGVtcCA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSBub2RlLnJpZ2h0LmxlZnQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlcGxhY2VtZW50LmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudC5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LnBhcmVudC5sZWZ0ID0gcmVwbGFjZW1lbnQucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSByZXBsYWNlbWVudC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LmxlZnQgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5pc0xlZnRDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmxlZnQgPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LnJpZ2h0ID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Um9vdChyZXBsYWNlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGVtcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlYmFsYW5jZSh0ZW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSB0cmVlIHRvIHRoZSBsZWZ0XG4gICAgICovXG4gICAgX3JvdGF0ZUxlZnQobm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudDtcbiAgICAgICAgY29uc3QgaXNMZWZ0Q2hpbGQgPSBub2RlLmlzTGVmdENoaWxkKCk7XG4gICAgICAgIC8vIE1ha2Ugbm9kZS5yaWdodCB0aGUgbmV3IHJvb3Qgb2YgdGhpcyBzdWIgdHJlZSAoaW5zdGVhZCBvZiBub2RlKVxuICAgICAgICBjb25zdCBwaXZvdE5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICBpZiAocGl2b3ROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnJpZ2h0ID0gcGl2b3ROb2RlLmxlZnQ7XG4gICAgICAgICAgICBwaXZvdE5vZGUubGVmdCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGlzTGVmdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSBwaXZvdE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmlnaHQgPSBwaXZvdE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRSb290KHBpdm90Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSB0cmVlIHRvIHRoZSByaWdodFxuICAgICAqL1xuICAgIF9yb3RhdGVSaWdodChub2RlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICBjb25zdCBpc0xlZnRDaGlsZCA9IG5vZGUuaXNMZWZ0Q2hpbGQoKTtcbiAgICAgICAgLy8gTWFrZSBub2RlLmxlZnQgdGhlIG5ldyByb290IG9mIHRoaXMgc3ViIHRyZWUgKGluc3RlYWQgb2Ygbm9kZSlcbiAgICAgICAgY29uc3QgcGl2b3ROb2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICBpZiAocGl2b3ROb2RlKSB7XG4gICAgICAgICAgICBub2RlLmxlZnQgPSBwaXZvdE5vZGUucmlnaHQ7XG4gICAgICAgICAgICBwaXZvdE5vZGUucmlnaHQgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0xlZnRDaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gcGl2b3ROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJpZ2h0ID0gcGl2b3ROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0Um9vdChwaXZvdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJhbGFuY2UgdGhlIEJTVFxuICAgICAqL1xuICAgIF9yZWJhbGFuY2Uobm9kZSkge1xuICAgICAgICBjb25zdCBiYWxhbmNlID0gbm9kZS5nZXRCYWxhbmNlKCk7XG4gICAgICAgIGlmIChiYWxhbmNlID4gMSAmJiBub2RlLmxlZnQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmxlZnQuZ2V0QmFsYW5jZSgpIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0ZUxlZnQobm9kZS5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0ZVJpZ2h0KG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhbGFuY2UgPCAtMSAmJiBub2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5yaWdodC5nZXRCYWxhbmNlKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRlUmlnaHQobm9kZS5yaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGVMZWZ0KG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmVudCB3aG9zZSB0aW1lIGFuZCBkdXJhdGlvbiBzcGFuIHRoZSBnaXZlIHRpbWUuIFdpbGxcbiAgICAgKiByZXR1cm4gdGhlIG1hdGNoIHdob3NlIFwidGltZVwiIHZhbHVlIGlzIGNsb3Nlc3QgdG8gdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHJldHVybiAgVGhlIGV2ZW50IHdoaWNoIHNwYW5zIHRoZSBkZXNpcmVkIHRpbWVcbiAgICAgKi9cbiAgICBnZXQodGltZSkge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5zZWFyY2godGltZSwgcmVzdWx0cyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1heCA9IHJlc3VsdHNbMF07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzW2ldLmxvdyA+IG1heC5sb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1heC5ldmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIHRpbWVsaW5lLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBhbGxOb2RlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC50cmF2ZXJzZShub2RlID0+IGFsbE5vZGVzLnB1c2gobm9kZSkpO1xuICAgICAgICAgICAgYWxsTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhub2RlLmV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGluIHdoaWNoIHRoZSBnaXZlbiB0aW1lXG4gICAgICogb3ZlcmxhcHMgd2l0aCB0aGUgdGltZSBhbmQgZHVyYXRpb24gdGltZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGNoZWNrIGlmIGl0ZW1zIGFyZSBvdmVybGFwcGluZ1xuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoQXRUaW1lKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9yb290LnNlYXJjaCh0aW1lLCByZXN1bHRzKTtcbiAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhub2RlLmV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGluIHdoaWNoIHRoZSB0aW1lIGlzIGdyZWF0ZXJcbiAgICAgKiB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB0byBjaGVjayBpZiBpdGVtcyBhcmUgYmVmb3JlXG4gICAgICogQHBhcmFtICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZXZlcnkgaXRlbVxuICAgICAqL1xuICAgIGZvckVhY2hGcm9tKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9yb290LnNlYXJjaEFmdGVyKHRpbWUsIHJlc3VsdHMpO1xuICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5vZGUuZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QudHJhdmVyc2Uobm9kZSA9PiBub2RlLmRpc3Bvc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gXHRJTlRFUlZBTCBOT0RFIEhFTFBFUlxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIFJlcHJlc2VudHMgYSBub2RlIGluIHRoZSBiaW5hcnkgc2VhcmNoIHRyZWUsIHdpdGggdGhlIGFkZGl0aW9uXG4gKiBvZiBhIFwiaGlnaFwiIHZhbHVlIHdoaWNoIGtlZXBzIHRyYWNrIG9mIHRoZSBoaWdoZXN0IHZhbHVlIG9mXG4gKiBpdHMgY2hpbGRyZW4uXG4gKiBSZWZlcmVuY2VzOlxuICogaHR0cHM6Ly9icm9va25vdmFrLndvcmRwcmVzcy5jb20vMjAxMy8xMi8wNy9hdWdtZW50ZWQtaW50ZXJ2YWwtdHJlZS1pbi1jL1xuICogaHR0cDovL3d3dy5taWYudnUubHQvfnZhbGRhcy9BTEdPUklUTUFJL0xJVEVSQVRVUkEvQ29ybWVuL0Nvcm1lbi5wZGZcbiAqIEBwYXJhbSBsb3dcbiAqIEBwYXJhbSBoaWdoXG4gKi9cbmNsYXNzIEludGVydmFsTm9kZSB7XG4gICAgY29uc3RydWN0b3IobG93LCBoaWdoLCBldmVudCkge1xuICAgICAgICAvLyB0aGUgbm9kZXMgdG8gdGhlIGxlZnRcbiAgICAgICAgdGhpcy5fbGVmdCA9IG51bGw7XG4gICAgICAgIC8vIHRoZSBub2RlcyB0byB0aGUgcmlnaHRcbiAgICAgICAgdGhpcy5fcmlnaHQgPSBudWxsO1xuICAgICAgICAvLyB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGNoaWxkIG5vZGVzXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICAvLyB0aGUgbG93IHZhbHVlXG4gICAgICAgIHRoaXMubG93ID0gbG93O1xuICAgICAgICAvLyB0aGUgaGlnaCB2YWx1ZVxuICAgICAgICB0aGlzLmhpZ2ggPSBoaWdoO1xuICAgICAgICAvLyB0aGUgaGlnaCB2YWx1ZSBmb3IgdGhpcyBhbmQgYWxsIGNoaWxkIG5vZGVzXG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5oaWdoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSBub2RlIGludG8gdGhlIGNvcnJlY3Qgc3BvdCBpbiB0aGUgdHJlZVxuICAgICAqL1xuICAgIGluc2VydChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmxvdyA8PSB0aGlzLmxvdykge1xuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuaW5zZXJ0KG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yaWdodC5pbnNlcnQobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIHRoZSB0cmVlIGZvciBub2RlcyB3aGljaCBvdmVybGFwXG4gICAgICogd2l0aCB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKiBAcGFyYW0gIHBvaW50ICBUaGUgcG9pbnQgdG8gcXVlcnlcbiAgICAgKiBAcGFyYW0gIHJlc3VsdHMgIFRoZSBhcnJheSB0byBwdXQgdGhlIHJlc3VsdHNcbiAgICAgKi9cbiAgICBzZWFyY2gocG9pbnQsIHJlc3VsdHMpIHtcbiAgICAgICAgLy8gSWYgcCBpcyB0byB0aGUgcmlnaHQgb2YgdGhlIHJpZ2h0bW9zdCBwb2ludCBvZiBhbnkgaW50ZXJ2YWxcbiAgICAgICAgLy8gaW4gdGhpcyBub2RlIGFuZCBhbGwgY2hpbGRyZW4sIHRoZXJlIHdvbid0IGJlIGFueSBtYXRjaGVzLlxuICAgICAgICBpZiAocG9pbnQgPiB0aGlzLm1heCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlYXJjaCBsZWZ0IGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubGVmdC5zZWFyY2gocG9pbnQsIHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRoaXMgbm9kZVxuICAgICAgICBpZiAodGhpcy5sb3cgPD0gcG9pbnQgJiYgdGhpcy5oaWdoID4gcG9pbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBwIGlzIHRvIHRoZSBsZWZ0IG9mIHRoZSB0aW1lIG9mIHRoaXMgaW50ZXJ2YWwsXG4gICAgICAgIC8vIHRoZW4gaXQgY2FuJ3QgYmUgaW4gYW55IGNoaWxkIHRvIHRoZSByaWdodC5cbiAgICAgICAgaWYgKHRoaXMubG93ID4gcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWFyY2ggcmlnaHQgY2hpbGRyZW5cbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQuc2VhcmNoKHBvaW50LCByZXN1bHRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggdGhlIHRyZWUgZm9yIG5vZGVzIHdoaWNoIGFyZSBsZXNzXG4gICAgICogdGhhbiB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKiBAcGFyYW0gIHBvaW50ICBUaGUgcG9pbnQgdG8gcXVlcnlcbiAgICAgKiBAcGFyYW0gIHJlc3VsdHMgIFRoZSBhcnJheSB0byBwdXQgdGhlIHJlc3VsdHNcbiAgICAgKi9cbiAgICBzZWFyY2hBZnRlcihwb2ludCwgcmVzdWx0cykge1xuICAgICAgICAvLyBDaGVjayB0aGlzIG5vZGVcbiAgICAgICAgaWYgKHRoaXMubG93ID49IHBvaW50KSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0LnNlYXJjaEFmdGVyKHBvaW50LCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZWFyY2ggdGhlIHJpZ2h0IHNpZGVcbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQuc2VhcmNoQWZ0ZXIocG9pbnQsIHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgY2FsbGJhY2sgb24gdGhpcyBlbGVtZW50IGFuZCBib3RoIGl0J3MgYnJhbmNoZXNcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gIGNhbGxiYWNrXG4gICAgICovXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubGVmdC50cmF2ZXJzZShjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQudHJhdmVyc2UoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBub2RlXG4gICAgICovXG4gICAgdXBkYXRlSGVpZ2h0KCkge1xuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsICYmIHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5sZWZ0LmhlaWdodCwgdGhpcy5yaWdodC5oZWlnaHQpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMucmlnaHQuaGVpZ2h0ICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5sZWZ0LmhlaWdodCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBoZWlnaHQgb2YgdGhlIG5vZGVcbiAgICAgKi9cbiAgICB1cGRhdGVNYXgoKSB7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5oaWdoO1xuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KHRoaXMubWF4LCB0aGlzLmxlZnQubWF4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCh0aGlzLm1heCwgdGhpcy5yaWdodC5tYXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBiYWxhbmNlIGlzIGhvdyB0aGUgbGVhZnMgYXJlIGRpc3RyaWJ1dGVkIG9uIHRoZSBub2RlXG4gICAgICogQHJldHVybiAgTmVnYXRpdmUgbnVtYmVycyBhcmUgYmFsYW5jZWQgdG8gdGhlIHJpZ2h0XG4gICAgICovXG4gICAgZ2V0QmFsYW5jZSgpIHtcbiAgICAgICAgbGV0IGJhbGFuY2UgPSAwO1xuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsICYmIHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGJhbGFuY2UgPSB0aGlzLmxlZnQuaGVpZ2h0IC0gdGhpcy5yaWdodC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBiYWxhbmNlID0gdGhpcy5sZWZ0LmhlaWdodCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYmFsYW5jZSA9IC0odGhpcy5yaWdodC5oZWlnaHQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFsYW5jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIG5vZGUgaXMgdGhlIGxlZnQgY2hpbGQgb2YgaXRzIHBhcmVudFxuICAgICAqL1xuICAgIGlzTGVmdENoaWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgIT09IG51bGwgJiYgdGhpcy5wYXJlbnQubGVmdCA9PT0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCB0aGUgbGVmdCBub2RlXG4gICAgICovXG4gICAgZ2V0IGxlZnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWZ0O1xuICAgIH1cbiAgICBzZXQgbGVmdChub2RlKSB7XG4gICAgICAgIHRoaXMuX2xlZnQgPSBub2RlO1xuICAgICAgICBpZiAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWF4KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgdGhlIHJpZ2h0IG5vZGVcbiAgICAgKi9cbiAgICBnZXQgcmlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodDtcbiAgICB9XG4gICAgc2V0IHJpZ2h0KG5vZGUpIHtcbiAgICAgICAgdGhpcy5fcmlnaHQgPSBub2RlO1xuICAgICAgICBpZiAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWF4KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG51bGwgb3V0IHJlZmVyZW5jZXMuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9sZWZ0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcnZhbFRpbWVsaW5lLmpzLm1hcCIsImltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuLyoqXG4gKiBWb2x1bWUgaXMgYSBzaW1wbGUgdm9sdW1lIG5vZGUsIHVzZWZ1bCBmb3IgY3JlYXRpbmcgYSB2b2x1bWUgZmFkZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHZvbCA9IG5ldyBUb25lLlZvbHVtZSgtMTIpLnRvRGVzdGluYXRpb24oKTtcbiAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS5jb25uZWN0KHZvbCkuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFZvbHVtZSBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhWb2x1bWUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2b2x1bWVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJWb2x1bWVcIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFZvbHVtZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZvbHVtZVwiXSk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm91dHB1dCA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGdhaW46IG9wdGlvbnMudm9sdW1lLFxuICAgICAgICAgICAgdW5pdHM6IFwiZGVjaWJlbHNcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5vdXRwdXQuZ2FpbjtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJ2b2x1bWVcIik7XG4gICAgICAgIHRoaXMuX3VubXV0ZWRWb2x1bWUgPSBvcHRpb25zLnZvbHVtZTtcbiAgICAgICAgLy8gc2V0IHRoZSBtdXRlIGluaXRpYWxseVxuICAgICAgICB0aGlzLm11dGUgPSBvcHRpb25zLm11dGU7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBtdXRlOiBmYWxzZSxcbiAgICAgICAgICAgIHZvbHVtZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11dGUgdGhlIG91dHB1dC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHZvbCA9IG5ldyBUb25lLlZvbHVtZSgtMTIpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkuY29ubmVjdCh2b2wpLnN0YXJ0KCk7XG4gICAgICogLy8gbXV0ZSB0aGUgb3V0cHV0XG4gICAgICogdm9sLm11dGUgPSB0cnVlO1xuICAgICAqL1xuICAgIGdldCBtdXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52b2x1bWUudmFsdWUgPT09IC1JbmZpbml0eTtcbiAgICB9XG4gICAgc2V0IG11dGUobXV0ZSkge1xuICAgICAgICBpZiAoIXRoaXMubXV0ZSAmJiBtdXRlKSB7XG4gICAgICAgICAgICB0aGlzLl91bm11dGVkVm9sdW1lID0gdGhpcy52b2x1bWUudmFsdWU7XG4gICAgICAgICAgICAvLyBtYXliZSBpdCBzaG91bGQgcmFtcCBoZXJlP1xuICAgICAgICAgICAgdGhpcy52b2x1bWUudmFsdWUgPSAtSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tdXRlICYmICFtdXRlKSB7XG4gICAgICAgICAgICB0aGlzLnZvbHVtZS52YWx1ZSA9IHRoaXMuX3VubXV0ZWRWb2x1bWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaW5wdXQuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZvbHVtZS5qcy5tYXAiLCJpbXBvcnQgeyBWb2x1bWUgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NoYW5uZWwvVm9sdW1lXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBvbkNvbnRleHRDbG9zZSwgb25Db250ZXh0SW5pdCB9IGZyb20gXCIuL0NvbnRleHRJbml0aWFsaXphdGlvblwiO1xuaW1wb3J0IHsgR2FpbiB9IGZyb20gXCIuL0dhaW5cIjtcbmltcG9ydCB7IGNvbm5lY3RTZXJpZXMsIFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi9Ub25lQXVkaW9Ob2RlXCI7XG4vKipcbiAqIEEgc2luZ2xlIG1hc3RlciBvdXRwdXQgd2hpY2ggaXMgY29ubmVjdGVkIHRvIHRoZVxuICogQXVkaW9EZXN0aW5hdGlvbk5vZGUgKGFrYSB5b3VyIHNwZWFrZXJzKS5cbiAqIEl0IHByb3ZpZGVzIHVzZWZ1bCBjb252ZW5pZW5jZXMgc3VjaCBhcyB0aGUgYWJpbGl0eVxuICogdG8gc2V0IHRoZSB2b2x1bWUgYW5kIG11dGUgdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAqIEl0IGFsc28gZ2l2ZXMgeW91IHRoZSBhYmlsaXR5IHRvIGFwcGx5IG1hc3RlciBlZmZlY3RzIHRvIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9zY2lsbGF0b3IgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkuc3RhcnQoKTtcbiAqIC8vIHRoZSBhdWRpbyB3aWxsIGdvIGZyb20gdGhlIG9zY2lsbGF0b3IgdG8gdGhlIHNwZWFrZXJzXG4gKiBvc2NpbGxhdG9yLmNvbm5lY3QoVG9uZS5nZXREZXN0aW5hdGlvbigpKTtcbiAqIC8vIGEgY29udmVuaWVuY2UgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIG1hc3RlciBvdXRwdXQgaXMgYWxzbyBwcm92aWRlZDpcbiAqIG9zY2lsbGF0b3IudG9EZXN0aW5hdGlvbigpO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIERlc3RpbmF0aW9uIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKERlc3RpbmF0aW9uLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cykpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRlc3RpbmF0aW9uXCI7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgVm9sdW1lKHsgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xuICAgICAgICB0aGlzLm91dHB1dCA9IG5ldyBHYWluKHsgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZvbHVtZSBvZiB0aGUgbWFzdGVyIG91dHB1dCBpbiBkZWNpYmVscy4gLUluZmluaXR5IGlzIHNpbGVudCwgYW5kIDAgaXMgbm8gY2hhbmdlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAgICAgKiBvc2Muc3RhcnQoKTtcbiAgICAgICAgICogLy8gcmFtcCB0aGUgdm9sdW1lIGRvd24gdG8gc2lsZW50IG92ZXIgMTAgc2Vjb25kc1xuICAgICAgICAgKiBUb25lLmdldERlc3RpbmF0aW9uKCkudm9sdW1lLnJhbXBUbygtSW5maW5pdHksIDEwKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5pbnB1dC52b2x1bWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhEZXN0aW5hdGlvbi5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25uZWN0U2VyaWVzKHRoaXMuaW5wdXQsIHRoaXMub3V0cHV0LCB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMubXV0ZSA9IG9wdGlvbnMubXV0ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxDaGFubmVscyA9IFt0aGlzLmlucHV0LCB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5kZXN0aW5hdGlvbiwgdGhpcy5vdXRwdXRdO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbXV0ZTogZmFsc2UsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBvdXRwdXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvc2NpbGxhdG9yID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnN0YXJ0KCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAqIFx0Ly8gbXV0ZSB0aGUgb3V0cHV0XG4gICAgICogXHRUb25lLkRlc3RpbmF0aW9uLm11dGUgPSB0cnVlO1xuICAgICAqIH0sIDEwMDApO1xuICAgICAqL1xuICAgIGdldCBtdXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5tdXRlO1xuICAgIH1cbiAgICBzZXQgbXV0ZShtdXRlKSB7XG4gICAgICAgIHRoaXMuaW5wdXQubXV0ZSA9IG11dGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIG1hc3RlciBlZmZlY3RzIGNoYWluLiBOT1RFOiB0aGlzIHdpbGwgZGlzY29ubmVjdCBhbnkgbm9kZXMgd2hpY2ggd2VyZSBwcmV2aW91c2x5XG4gICAgICogY2hhaW5lZCBpbiB0aGUgbWFzdGVyIGVmZmVjdHMgY2hhaW4uXG4gICAgICogQHBhcmFtIGFyZ3MgQWxsIGFyZ3VtZW50cyB3aWxsIGJlIGNvbm5lY3RlZCBpbiBhIHJvdyBhbmQgdGhlIE1hc3RlciB3aWxsIGJlIHJvdXRlZCB0aHJvdWdoIGl0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcm91dGUgYWxsIGF1ZGlvIHRocm91Z2ggYSBmaWx0ZXIgYW5kIGNvbXByZXNzb3JcbiAgICAgKiBjb25zdCBsb3dwYXNzID0gbmV3IFRvbmUuRmlsdGVyKDgwMCwgXCJsb3dwYXNzXCIpO1xuICAgICAqIGNvbnN0IGNvbXByZXNzb3IgPSBuZXcgVG9uZS5Db21wcmVzc29yKC0xOCk7XG4gICAgICogVG9uZS5EZXN0aW5hdGlvbi5jaGFpbihsb3dwYXNzLCBjb21wcmVzc29yKTtcbiAgICAgKi9cbiAgICBjaGFpbiguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuaW5wdXQuZGlzY29ubmVjdCgpO1xuICAgICAgICBhcmdzLnVuc2hpZnQodGhpcy5pbnB1dCk7XG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLm91dHB1dCk7XG4gICAgICAgIGNvbm5lY3RTZXJpZXMoLi4uYXJncyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY2hhbm5lbHMgdGhlIHN5c3RlbSBjYW4gb3V0cHV0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zb2xlLmxvZyhUb25lLkRlc3RpbmF0aW9uLm1heENoYW5uZWxDb3VudCk7XG4gICAgICovXG4gICAgZ2V0IG1heENoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5yYXdDb250ZXh0LmRlc3RpbmF0aW9uLm1heENoYW5uZWxDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudm9sdW1lLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBcdElOSVRJQUxJWkFUSU9OXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uQ29udGV4dEluaXQoY29udGV4dCA9PiB7XG4gICAgY29udGV4dC5kZXN0aW5hdGlvbiA9IG5ldyBEZXN0aW5hdGlvbih7IGNvbnRleHQgfSk7XG59KTtcbm9uQ29udGV4dENsb3NlKGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQuZGVzdGluYXRpb24uZGlzcG9zZSgpO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXN0aW5hdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gXCIuL1RpbWVsaW5lXCI7XG5pbXBvcnQgeyBUb25lIH0gZnJvbSBcIi4uL1RvbmVcIjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHNpbmdsZSB2YWx1ZSB3aGljaCBpcyBnZXR0YWJsZSBhbmQgc2V0dGFibGUgaW4gYSB0aW1lZCB3YXlcbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVsaW5lVmFsdWUgZXh0ZW5kcyBUb25lIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW5pdGlhbFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgdGhlcmUgaXMgbm8gc2NoZWR1bGVkIHZhbHVlc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpbWVsaW5lVmFsdWVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lbGluZSB3aGljaCBzdG9yZXMgdGhlIHZhbHVlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBuZXcgVGltZWxpbmUoeyBtZW1vcnk6IDEwIH0pO1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsdWUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKi9cbiAgICBzZXQodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgdGhpcy5fdGltZWxpbmUuYWRkKHtcbiAgICAgICAgICAgIHZhbHVlLCB0aW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gdGltZVxuICAgICAqL1xuICAgIGdldCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fdGltZWxpbmUuZ2V0KHRpbWUpO1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lbGluZVZhbHVlLmpzLm1hcCIsImltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcmZhY2VcIjtcbi8qKlxuICogVHJhbnNwb3J0RXZlbnQgaXMgYW4gaW50ZXJuYWwgY2xhc3MgdXNlZCBieSBbW1RyYW5zcG9ydF1dXG4gKiB0byBzY2hlZHVsZSBldmVudHMuIERvIG5vIGludm9rZSB0aGlzIGNsYXNzIGRpcmVjdGx5LCBpdCBpc1xuICogaGFuZGxlZCBmcm9tIHdpdGhpbiBUb25lLlRyYW5zcG9ydC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdHJhbnNwb3J0IFRoZSB0cmFuc3BvcnQgb2JqZWN0IHdoaWNoIHRoZSBldmVudCBiZWxvbmdzIHRvXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHJhbnNwb3J0LCBvcHRzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdW5pcXVlIGlkIG9mIHRoZSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IFRyYW5zcG9ydEV2ZW50Ll9ldmVudElkKys7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFRyYW5zcG9ydEV2ZW50LmdldERlZmF1bHRzKCksIG9wdHMpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX29uY2UgPSBvcHRpb25zLm9uY2U7XG4gICAgICAgIHRoaXMudGltZSA9IG9wdGlvbnMudGltZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IG5vT3AsXG4gICAgICAgICAgICBvbmNlOiBmYWxzZSxcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgZXZlbnQgY2FsbGJhY2suXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgQXVkaW9Db250ZXh0IHRpbWUgaW4gc2Vjb25kcyBvZiB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBpbnZva2UodGltZSkge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xlYXIodGhpcy5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIEN1cnJlbnQgSUQgY291bnRlclxuICovXG5UcmFuc3BvcnRFdmVudC5fZXZlbnRJZCA9IDA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc3BvcnRFdmVudC5qcy5tYXAiLCJpbXBvcnQgeyBUaWNrc0NsYXNzIH0gZnJvbSBcIi4uL3R5cGUvVGlja3NcIjtcbmltcG9ydCB7IFRyYW5zcG9ydEV2ZW50IH0gZnJvbSBcIi4vVHJhbnNwb3J0RXZlbnRcIjtcbi8qKlxuICogVHJhbnNwb3J0UmVwZWF0RXZlbnQgaXMgYW4gaW50ZXJuYWwgY2xhc3MgdXNlZCBieSBUb25lLlRyYW5zcG9ydFxuICogdG8gc2NoZWR1bGUgcmVwZWF0IGV2ZW50cy4gVGhpcyBjbGFzcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydFJlcGVhdEV2ZW50IGV4dGVuZHMgVHJhbnNwb3J0RXZlbnQge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0cmFuc3BvcnQgVGhlIHRyYW5zcG9ydCBvYmplY3Qgd2hpY2ggdGhlIGV2ZW50IGJlbG9uZ3MgdG9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQsIG9wdHMpIHtcbiAgICAgICAgc3VwZXIodHJhbnNwb3J0LCBvcHRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJRCBvZiB0aGUgY3VycmVudCB0aW1lbGluZSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudElkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIG5leHQgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHRJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWUgb2YgdGhlIG5leHQgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHRUaWNrID0gdGhpcy50aW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogYSByZWZlcmVuY2UgdG8gdGhlIGJvdW5kIHN0YXJ0IG1ldGhvZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRSZXN0YXJ0ID0gdGhpcy5fcmVzdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihUcmFuc3BvcnRSZXBlYXRFdmVudC5nZXREZWZhdWx0cygpLCBvcHRzKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IG5ldyBUaWNrc0NsYXNzKHRyYW5zcG9ydC5jb250ZXh0LCBvcHRpb25zLmR1cmF0aW9uKS52YWx1ZU9mKCk7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbmV3IFRpY2tzQ2xhc3ModHJhbnNwb3J0LmNvbnRleHQsIG9wdGlvbnMuaW50ZXJ2YWwpLnZhbHVlT2YoKTtcbiAgICAgICAgdGhpcy5fbmV4dFRpY2sgPSBvcHRpb25zLnRpbWU7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0Lm9uKFwic3RhcnRcIiwgdGhpcy5fYm91bmRSZXN0YXJ0KTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQub24oXCJsb29wU3RhcnRcIiwgdGhpcy5fYm91bmRSZXN0YXJ0KTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy50cmFuc3BvcnQuY29udGV4dDtcbiAgICAgICAgdGhpcy5fcmVzdGFydCgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBUcmFuc3BvcnRFdmVudC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogSW5maW5pdHksXG4gICAgICAgICAgICBpbnRlcnZhbDogMSxcbiAgICAgICAgICAgIG9uY2U6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoZSBjYWxsYmFjay4gUmV0dXJucyB0aGUgdGljayB0aW1lIHdoaWNoXG4gICAgICogdGhlIG5leHQgZXZlbnQgc2hvdWxkIGJlIHNjaGVkdWxlZCBhdC5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFRoZSBBdWRpb0NvbnRleHQgdGltZSBpbiBzZWNvbmRzIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIGludm9rZSh0aW1lKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBtb3JlIGV2ZW50cyBpZiBuZWNlc3NhcnlcbiAgICAgICAgdGhpcy5fY3JlYXRlRXZlbnRzKHRpbWUpO1xuICAgICAgICAvLyBjYWxsIHRoZSBzdXBlciBjbGFzc1xuICAgICAgICBzdXBlci5pbnZva2UodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2ggbW9yZSBldmVudHMgb250byB0aGUgdGltZWxpbmUgdG8ga2VlcCB1cCB3aXRoIHRoZSBwb3NpdGlvbiBvZiB0aGUgdGltZWxpbmVcbiAgICAgKi9cbiAgICBfY3JlYXRlRXZlbnRzKHRpbWUpIHtcbiAgICAgICAgLy8gc2NoZWR1bGUgdGhlIG5leHQgZXZlbnRcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLnRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZSh0aW1lKTtcbiAgICAgICAgaWYgKHRpY2tzID49IHRoaXMudGltZSAmJiB0aWNrcyA+PSB0aGlzLl9uZXh0VGljayAmJiB0aGlzLl9uZXh0VGljayArIHRoaXMuX2ludGVydmFsIDwgdGhpcy50aW1lICsgdGhpcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbmV4dFRpY2sgKz0gdGhpcy5faW50ZXJ2YWw7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SWQgPSB0aGlzLl9uZXh0SWQ7XG4gICAgICAgICAgICB0aGlzLl9uZXh0SWQgPSB0aGlzLnRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSwgbmV3IFRpY2tzQ2xhc3ModGhpcy5jb250ZXh0LCB0aGlzLl9uZXh0VGljaykudG9TZWNvbmRzKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2ggbW9yZSBldmVudHMgb250byB0aGUgdGltZWxpbmUgdG8ga2VlcCB1cCB3aXRoIHRoZSBwb3NpdGlvbiBvZiB0aGUgdGltZWxpbmVcbiAgICAgKi9cbiAgICBfcmVzdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuX2N1cnJlbnRJZCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuX25leHRJZCk7XG4gICAgICAgIHRoaXMuX25leHRUaWNrID0gdGhpcy50aW1lO1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMudHJhbnNwb3J0LmdldFRpY2tzQXRUaW1lKHRpbWUpO1xuICAgICAgICBpZiAodGlja3MgPiB0aGlzLnRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRUaWNrID0gdGhpcy50aW1lICsgTWF0aC5jZWlsKCh0aWNrcyAtIHRoaXMudGltZSkgLyB0aGlzLl9pbnRlcnZhbCkgKiB0aGlzLl9pbnRlcnZhbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50SWQgPSB0aGlzLnRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSwgbmV3IFRpY2tzQ2xhc3ModGhpcy5jb250ZXh0LCB0aGlzLl9uZXh0VGljaykudG9TZWNvbmRzKCkpO1xuICAgICAgICB0aGlzLl9uZXh0VGljayArPSB0aGlzLl9pbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fbmV4dElkID0gdGhpcy50cmFuc3BvcnQuc2NoZWR1bGVPbmNlKHRoaXMuaW52b2tlLmJpbmQodGhpcyksIG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fbmV4dFRpY2spLnRvU2Vjb25kcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuX2N1cnJlbnRJZCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuX25leHRJZCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0Lm9mZihcInN0YXJ0XCIsIHRoaXMuX2JvdW5kUmVzdGFydCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0Lm9mZihcImxvb3BTdGFydFwiLCB0aGlzLl9ib3VuZFJlc3RhcnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc3BvcnRSZXBlYXRFdmVudC5qcy5tYXAiLCJpbXBvcnQgeyBUaW1lQ2xhc3MgfSBmcm9tIFwiLi4vLi4vY29yZS90eXBlL1RpbWVcIjtcbmltcG9ydCB7IFRpbWVsaW5lVmFsdWUgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1RpbWVsaW5lVmFsdWVcIjtcbmltcG9ydCB7IG9uQ29udGV4dENsb3NlLCBvbkNvbnRleHRJbml0IH0gZnJvbSBcIi4uL2NvbnRleHQvQ29udGV4dEluaXRpYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uL2NvbnRleHQvR2FpblwiO1xuaW1wb3J0IHsgVG9uZVdpdGhDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvVG9uZVdpdGhDb250ZXh0XCI7XG5pbXBvcnQgeyBUaWNrc0NsYXNzIH0gZnJvbSBcIi4uL3R5cGUvVGlja3NcIjtcbmltcG9ydCB7IFRyYW5zcG9ydFRpbWVDbGFzcyB9IGZyb20gXCIuLi90eXBlL1RyYW5zcG9ydFRpbWVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiLi4vdXRpbC9FbWl0dGVyXCI7XG5pbXBvcnQgeyByZWFkT25seSwgd3JpdGFibGUgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IEludGVydmFsVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcnZhbFRpbWVsaW5lXCI7XG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gXCIuLi91dGlsL1RpbWVsaW5lXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0RlZmluZWQgfSBmcm9tIFwiLi4vdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IENsb2NrIH0gZnJvbSBcIi4vQ2xvY2tcIjtcbmltcG9ydCB7IFRyYW5zcG9ydEV2ZW50IH0gZnJvbSBcIi4vVHJhbnNwb3J0RXZlbnRcIjtcbmltcG9ydCB7IFRyYW5zcG9ydFJlcGVhdEV2ZW50IH0gZnJvbSBcIi4vVHJhbnNwb3J0UmVwZWF0RXZlbnRcIjtcbi8qKlxuICogVHJhbnNwb3J0IGZvciB0aW1pbmcgbXVzaWNhbCBldmVudHMuXG4gKiBTdXBwb3J0cyB0ZW1wbyBjdXJ2ZXMgYW5kIHRpbWUgY2hhbmdlcy4gVW5saWtlIGJyb3dzZXItYmFzZWQgdGltaW5nIChzZXRJbnRlcnZhbCwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICogVHJhbnNwb3J0IHRpbWluZyBldmVudHMgcGFzcyBpbiB0aGUgZXhhY3QgdGltZSBvZiB0aGUgc2NoZWR1bGVkIGV2ZW50XG4gKiBpbiB0aGUgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLiBQYXNzIHRoYXQgdGltZSB2YWx1ZSB0byB0aGUgb2JqZWN0XG4gKiB5b3UncmUgc2NoZWR1bGluZy4gPGJyPjxicj5cbiAqIEEgc2luZ2xlIHRyYW5zcG9ydCBpcyBjcmVhdGVkIGZvciB5b3Ugd2hlbiB0aGUgbGlicmFyeSBpcyBpbml0aWFsaXplZC5cbiAqIDxicj48YnI+XG4gKiBUaGUgdHJhbnNwb3J0IGVtaXRzIHRoZSBldmVudHM6IFwic3RhcnRcIiwgXCJzdG9wXCIsIFwicGF1c2VcIiwgYW5kIFwibG9vcFwiIHdoaWNoIGFyZVxuICogY2FsbGVkIHdpdGggdGhlIHRpbWUgb2YgdGhhdCBldmVudCBhcyB0aGUgYXJndW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiAvLyByZXBlYXRlZCBldmVudCBldmVyeSA4dGggbm90ZVxuICogVG9uZS5UcmFuc3BvcnQuc2NoZWR1bGVSZXBlYXQoKHRpbWUpID0+IHtcbiAqIFx0Ly8gdXNlIHRoZSBjYWxsYmFjayB0aW1lIHRvIHNjaGVkdWxlIGV2ZW50c1xuICogXHRvc2Muc3RhcnQodGltZSkuc3RvcCh0aW1lICsgMC4xKTtcbiAqIH0sIFwiOG5cIik7XG4gKiAvLyB0cmFuc3BvcnQgbXVzdCBiZSBzdGFydGVkIGJlZm9yZSBpdCBzdGFydHMgaW52b2tpbmcgZXZlbnRzXG4gKiBUb25lLlRyYW5zcG9ydC5zdGFydCgpO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydCBleHRlbmRzIFRvbmVXaXRoQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFRyYW5zcG9ydC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFuc3BvcnRcIjtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFx0TE9PUElOR1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB0cmFuc3BvcnQgbG9vcHMgb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9vcCA9IG5ldyBUaW1lbGluZVZhbHVlKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb29wIHN0YXJ0IHBvc2l0aW9uIGluIHRpY2tzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb29wU3RhcnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvb3AgZW5kIHBvc2l0aW9uIGluIHRpY2tzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb29wRW5kID0gMDtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFx0VElNRUxJTkUgRVZFTlRTXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHRoZSBldmVudHMgaW4gYW4gb2JqZWN0IHRvIGtlZXAgdHJhY2sgYnkgSURcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50cyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjaGVkdWxlZCBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW1lbGluZSA9IG5ldyBUaW1lbGluZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwZWF0ZWQgZXZlbnRzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXBlYXRlZEV2ZW50cyA9IG5ldyBJbnRlcnZhbFRpbWVsaW5lKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgb2YgdGhlIHN5bmNlZCBTaWduYWxzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeW5jZWRTaWduYWxzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3dpbmcgYW1vdW50XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zd2luZ0Ftb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUcmFuc3BvcnQuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKTtcbiAgICAgICAgLy8gQ0xPQ0svVEVNUE9cbiAgICAgICAgdGhpcy5fcHBxID0gb3B0aW9ucy5wcHE7XG4gICAgICAgIHRoaXMuX2Nsb2NrID0gbmV3IENsb2NrKHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLl9wcm9jZXNzVGljay5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAwLFxuICAgICAgICAgICAgdW5pdHM6IFwiYnBtXCIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9iaW5kQ2xvY2tFdmVudHMoKTtcbiAgICAgICAgdGhpcy5icG0gPSB0aGlzLl9jbG9jay5mcmVxdWVuY3k7XG4gICAgICAgIHRoaXMuX2Nsb2NrLmZyZXF1ZW5jeS5tdWx0aXBsaWVyID0gb3B0aW9ucy5wcHE7XG4gICAgICAgIHRoaXMuYnBtLnNldFZhbHVlQXRUaW1lKG9wdGlvbnMuYnBtLCAwKTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJicG1cIik7XG4gICAgICAgIHRoaXMuX3RpbWVTaWduYXR1cmUgPSBvcHRpb25zLnRpbWVTaWduYXR1cmU7XG4gICAgICAgIC8vIFNXSU5HXG4gICAgICAgIHRoaXMuX3N3aW5nVGlja3MgPSBvcHRpb25zLnBwcSAvIDI7IC8vIDhuXG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZVdpdGhDb250ZXh0LmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGJwbTogMTIwLFxuICAgICAgICAgICAgbG9vcEVuZDogXCI0bVwiLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgcHBxOiAxOTIsXG4gICAgICAgICAgICBzd2luZzogMCxcbiAgICAgICAgICAgIHN3aW5nU3ViZGl2aXNpb246IFwiOG5cIixcbiAgICAgICAgICAgIHRpbWVTaWduYXR1cmU6IDQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFRJQ0tTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogY2FsbGVkIG9uIGV2ZXJ5IHRpY2tcbiAgICAgKiBAcGFyYW0gIHRpY2tUaW1lIGNsb2NrIHJlbGF0aXZlIHRpY2sgdGltZVxuICAgICAqL1xuICAgIF9wcm9jZXNzVGljayh0aWNrVGltZSwgdGlja3MpIHtcbiAgICAgICAgLy8gZG8gdGhlIGxvb3AgdGVzdFxuICAgICAgICBpZiAodGhpcy5fbG9vcC5nZXQodGlja1RpbWUpKSB7XG4gICAgICAgICAgICBpZiAodGlja3MgPj0gdGhpcy5fbG9vcEVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImxvb3BFbmRcIiwgdGlja1RpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb2NrLnNldFRpY2tzQXRUaW1lKHRoaXMuX2xvb3BTdGFydCwgdGlja1RpbWUpO1xuICAgICAgICAgICAgICAgIHRpY2tzID0gdGhpcy5fbG9vcFN0YXJ0O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImxvb3BTdGFydFwiLCB0aWNrVGltZSwgdGhpcy5fY2xvY2suZ2V0U2Vjb25kc0F0VGltZSh0aWNrVGltZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImxvb3BcIiwgdGlja1RpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBzd2luZ1xuICAgICAgICBpZiAodGhpcy5fc3dpbmdBbW91bnQgPiAwICYmXG4gICAgICAgICAgICB0aWNrcyAlIHRoaXMuX3BwcSAhPT0gMCAmJiAvLyBub3Qgb24gYSBkb3duYmVhdFxuICAgICAgICAgICAgdGlja3MgJSAodGhpcy5fc3dpbmdUaWNrcyAqIDIpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBhZGQgc29tZSBzd2luZ1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAodGlja3MgJSAodGhpcy5fc3dpbmdUaWNrcyAqIDIpKSAvICh0aGlzLl9zd2luZ1RpY2tzICogMik7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBNYXRoLnNpbigocHJvZ3Jlc3MpICogTWF0aC5QSSkgKiB0aGlzLl9zd2luZ0Ftb3VudDtcbiAgICAgICAgICAgIHRpY2tUaW1lICs9IG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fc3dpbmdUaWNrcyAqIDIgLyAzKS50b1NlY29uZHMoKSAqIGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbnZva2UgdGhlIHRpbWVsaW5lIGV2ZW50cyBzY2hlZHVsZWQgb24gdGhpcyB0aWNrXG4gICAgICAgIHRoaXMuX3RpbWVsaW5lLmZvckVhY2hBdFRpbWUodGlja3MsIGV2ZW50ID0+IGV2ZW50Lmludm9rZSh0aWNrVGltZSkpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFNDSEVEVUxBQkxFIEVWRU5UU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGFuIGV2ZW50IGFsb25nIHRoZSB0aW1lbGluZS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYXQgdGhlIHRpbWUuXG4gICAgICogQHBhcmFtIHRpbWUgVGhlIHRpbWUgdG8gaW52b2tlIHRoZSBjYWxsYmFjayBhdC5cbiAgICAgKiBAcmV0dXJuIFRoZSBpZCBvZiB0aGUgZXZlbnQgd2hpY2ggY2FuIGJlIHVzZWQgZm9yIGNhbmNlbGluZyB0aGUgZXZlbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBzY2hlZHVsZSBhbiBldmVudCBvbiB0aGUgMTZ0aCBtZWFzdXJlXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc2NoZWR1bGUoKHRpbWUpID0+IHtcbiAgICAgKiBcdC8vIGludm9rZWQgb24gbWVhc3VyZSAxNlxuICAgICAqIFx0Y29uc29sZS5sb2coXCJtZWFzdXJlIDE2IVwiKTtcbiAgICAgKiB9LCBcIjE2OjA6MFwiKTtcbiAgICAgKi9cbiAgICBzY2hlZHVsZShjYWxsYmFjaywgdGltZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBUcmFuc3BvcnRFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHRpbWU6IG5ldyBUcmFuc3BvcnRUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCB0aW1lKS50b1RpY2tzKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkRXZlbnQoZXZlbnQsIHRoaXMuX3RpbWVsaW5lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGUgYSByZXBlYXRlZCBldmVudCBhbG9uZyB0aGUgdGltZWxpbmUuIFRoZSBldmVudCB3aWxsIGZpcmVcbiAgICAgKiBhdCB0aGUgYGludGVydmFsYCBzdGFydGluZyBhdCB0aGUgYHN0YXJ0VGltZWAgYW5kIGZvciB0aGUgc3BlY2lmaWVkXG4gICAgICogYGR1cmF0aW9uYC5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gIGludGVydmFsICAgVGhlIGR1cmF0aW9uIGJldHdlZW4gc3VjY2Vzc2l2ZSBjYWxsYmFja3MuIE11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuXG4gICAgICogQHBhcmFtICBzdGFydFRpbWUgIFdoZW4gYWxvbmcgdGhlIHRpbWVsaW5lIHRoZSBldmVudHMgc2hvdWxkIHN0YXJ0IGJlaW5nIGludm9rZWQuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBIb3cgbG9uZyB0aGUgZXZlbnQgc2hvdWxkIHJlcGVhdC5cbiAgICAgKiBAcmV0dXJuICBUaGUgSUQgb2YgdGhlIHNjaGVkdWxlZCBldmVudC4gVXNlIHRoaXMgdG8gY2FuY2VsIHRoZSBldmVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAgICAgKiAvLyBhIGNhbGxiYWNrIGludm9rZWQgZXZlcnkgZWlnaHRoIG5vdGUgYWZ0ZXIgdGhlIGZpcnN0IG1lYXN1cmVcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zY2hlZHVsZVJlcGVhdCgodGltZSkgPT4ge1xuICAgICAqIFx0b3NjLnN0YXJ0KHRpbWUpLnN0b3AodGltZSArIDAuMSk7XG4gICAgICogfSwgXCI4blwiLCBcIjFtXCIpO1xuICAgICAqL1xuICAgIHNjaGVkdWxlUmVwZWF0KGNhbGxiYWNrLCBpbnRlcnZhbCwgc3RhcnRUaW1lLCBkdXJhdGlvbiA9IEluZmluaXR5KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFRyYW5zcG9ydFJlcGVhdEV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgZHVyYXRpb246IG5ldyBUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCBkdXJhdGlvbikudG9UaWNrcygpLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IG5ldyBUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCBpbnRlcnZhbCkudG9UaWNrcygpLFxuICAgICAgICAgICAgdGltZTogbmV3IFRyYW5zcG9ydFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIHN0YXJ0VGltZSkudG9UaWNrcygpLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8ga2ljayBpdCBvZmYgaWYgdGhlIFRyYW5zcG9ydCBpcyBzdGFydGVkXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEV2ZW50KGV2ZW50LCB0aGlzLl9yZXBlYXRlZEV2ZW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGFuIGV2ZW50IHRoYXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGl0IGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugb25jZS5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQuXG4gICAgICogQHJldHVybnMgVGhlIElEIG9mIHRoZSBzY2hlZHVsZWQgZXZlbnQuXG4gICAgICovXG4gICAgc2NoZWR1bGVPbmNlKGNhbGxiYWNrLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFRyYW5zcG9ydEV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWU6IG5ldyBUcmFuc3BvcnRUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCB0aW1lKS50b1RpY2tzKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkRXZlbnQoZXZlbnQsIHRoaXMuX3RpbWVsaW5lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIHBhc3NlZCBpbiBldmVudCBpZCBmcm9tIHRoZSB0aW1lbGluZVxuICAgICAqIEBwYXJhbSBldmVudElkIFRoZSBpZCBvZiB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgY2xlYXIoZXZlbnRJZCkge1xuICAgICAgICBpZiAodGhpcy5fc2NoZWR1bGVkRXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50SWQpKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5fc2NoZWR1bGVkRXZlbnRzW2V2ZW50SWQudG9TdHJpbmcoKV07XG4gICAgICAgICAgICBpdGVtLnRpbWVsaW5lLnJlbW92ZShpdGVtLmV2ZW50KTtcbiAgICAgICAgICAgIGl0ZW0uZXZlbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NjaGVkdWxlZEV2ZW50c1tldmVudElkLnRvU3RyaW5nKCldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gZXZlbnQgdG8gdGhlIGNvcnJlY3QgdGltZWxpbmUuIEtlZXAgdHJhY2sgb2YgdGhlXG4gICAgICogdGltZWxpbmUgaXQgd2FzIGFkZGVkIHRvLlxuICAgICAqIEByZXR1cm5zIHRoZSBldmVudCBpZCB3aGljaCB3YXMganVzdCBhZGRlZFxuICAgICAqL1xuICAgIF9hZGRFdmVudChldmVudCwgdGltZWxpbmUpIHtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVkRXZlbnRzW2V2ZW50LmlkLnRvU3RyaW5nKCldID0ge1xuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICB0aW1lbGluZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGltZWxpbmUuYWRkKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgc2NoZWR1bGVkIGV2ZW50cyBmcm9tIHRoZSB0aW1lbGluZSBhZnRlclxuICAgICAqIHRoZSBnaXZlbiB0aW1lLiBSZXBlYXRlZCBldmVudHMgd2lsbCBiZSByZW1vdmVkXG4gICAgICogaWYgdGhlaXIgc3RhcnRUaW1lIGlzIGFmdGVyIHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtIGFmdGVyIENsZWFyIGFsbCBldmVudHMgYWZ0ZXIgdGhpcyB0aW1lLlxuICAgICAqL1xuICAgIGNhbmNlbChhZnRlciA9IDApIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRBZnRlciA9IHRoaXMudG9UaWNrcyhhZnRlcik7XG4gICAgICAgIHRoaXMuX3RpbWVsaW5lLmZvckVhY2hGcm9tKGNvbXB1dGVkQWZ0ZXIsIGV2ZW50ID0+IHRoaXMuY2xlYXIoZXZlbnQuaWQpKTtcbiAgICAgICAgdGhpcy5fcmVwZWF0ZWRFdmVudHMuZm9yRWFjaEZyb20oY29tcHV0ZWRBZnRlciwgZXZlbnQgPT4gdGhpcy5jbGVhcihldmVudC5pZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRTVEFSVC9TVE9QL1BBVVNFXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogQmluZCBzdGFydC9zdG9wL3BhdXNlIGV2ZW50cyBmcm9tIHRoZSBjbG9jayBhbmQgZW1pdCB0aGVtLlxuICAgICAqL1xuICAgIF9iaW5kQ2xvY2tFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX2Nsb2NrLm9uKFwic3RhcnRcIiwgKHRpbWUsIG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgb2Zmc2V0ID0gbmV3IFRpY2tzQ2xhc3ModGhpcy5jb250ZXh0LCBvZmZzZXQpLnRvU2Vjb25kcygpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RhcnRcIiwgdGltZSwgb2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2Nsb2NrLm9uKFwic3RvcFwiLCAodGltZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RvcFwiLCB0aW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2Nsb2NrLm9uKFwicGF1c2VcIiwgKHRpbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInBhdXNlXCIsIHRpbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGxheWJhY2sgc3RhdGUgb2YgdGhlIHNvdXJjZSwgZWl0aGVyIFwic3RhcnRlZFwiLCBcInN0b3BwZWRcIiwgb3IgXCJwYXVzZWRcIlxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrLmdldFN0YXRlQXRUaW1lKHRoaXMubm93KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgdHJhbnNwb3J0IGFuZCBhbGwgc291cmNlcyBzeW5jZWQgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgd2hlbiB0aGUgdHJhbnNwb3J0IHNob3VsZCBzdGFydC5cbiAgICAgKiBAcGFyYW0gIG9mZnNldCBUaGUgdGltZWxpbmUgb2Zmc2V0IHRvIHN0YXJ0IHRoZSB0cmFuc3BvcnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBzdGFydCB0aGUgdHJhbnNwb3J0IGluIG9uZSBzZWNvbmQgc3RhcnRpbmcgYXQgYmVnaW5uaW5nIG9mIHRoZSA1dGggbWVhc3VyZS5cbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zdGFydChcIisxXCIsIFwiNDowOjBcIik7XG4gICAgICovXG4gICAgc3RhcnQodGltZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBvZmZzZXRUaWNrcztcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvZmZzZXQpKSB7XG4gICAgICAgICAgICBvZmZzZXRUaWNrcyA9IHRoaXMudG9UaWNrcyhvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBjbG9ja1xuICAgICAgICB0aGlzLl9jbG9jay5zdGFydCh0aW1lLCBvZmZzZXRUaWNrcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSB0cmFuc3BvcnQgYW5kIGFsbCBzb3VyY2VzIHN5bmNlZCB0byB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIHdoZW4gdGhlIHRyYW5zcG9ydCBzaG91bGQgc3RvcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnN0b3AoKTtcbiAgICAgKi9cbiAgICBzdG9wKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fY2xvY2suc3RvcCh0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSB0cmFuc3BvcnQgYW5kIGFsbCBzb3VyY2VzIHN5bmNlZCB0byB0aGUgdHJhbnNwb3J0LlxuICAgICAqL1xuICAgIHBhdXNlKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fY2xvY2sucGF1c2UodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHRyYW5zcG9ydC4gSWYgaXQgaXNcbiAgICAgKiBzdGFydGVkLCBpdCB3aWxsIHN0b3AgaXQsIG90aGVyd2lzZSBpdCB3aWxsIHN0YXJ0IHRoZSBUcmFuc3BvcnQuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIHRvZ2dsZSh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMuX2Nsb2NrLmdldFN0YXRlQXRUaW1lKHRpbWUpICE9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zdGFydCh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRTRVRURVJTL0dFVFRFUlNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSBzaWduYXR1cmUgYXMganVzdCB0aGUgbnVtZXJhdG9yIG92ZXIgNC5cbiAgICAgKiBGb3IgZXhhbXBsZSA0LzQgd291bGQgYmUganVzdCA0IGFuZCA2Lzggd291bGQgYmUgMy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGNvbW1vbiB0aW1lXG4gICAgICogVG9uZS5UcmFuc3BvcnQudGltZVNpZ25hdHVyZSA9IDQ7XG4gICAgICogLy8gNy84XG4gICAgICogVG9uZS5UcmFuc3BvcnQudGltZVNpZ25hdHVyZSA9IFs3LCA4XTtcbiAgICAgKiAvLyB0aGlzIHdpbGwgYmUgcmVkdWNlZCB0byBhIHNpbmdsZSBudW1iZXJcbiAgICAgKiBUb25lLlRyYW5zcG9ydC50aW1lU2lnbmF0dXJlOyAvLyByZXR1cm5zIDMuNVxuICAgICAqL1xuICAgIGdldCB0aW1lU2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZVNpZ25hdHVyZTtcbiAgICB9XG4gICAgc2V0IHRpbWVTaWduYXR1cmUodGltZVNpZykge1xuICAgICAgICBpZiAoaXNBcnJheSh0aW1lU2lnKSkge1xuICAgICAgICAgICAgdGltZVNpZyA9ICh0aW1lU2lnWzBdIC8gdGltZVNpZ1sxXSkgKiA0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpbWVTaWduYXR1cmUgPSB0aW1lU2lnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBUcmFuc3BvcnQubG9vcCA9IHRydWUsIHRoaXMgaXMgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBsb29wLlxuICAgICAqL1xuICAgIGdldCBsb29wU3RhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fbG9vcFN0YXJ0LCBcImlcIikudG9TZWNvbmRzKCk7XG4gICAgfVxuICAgIHNldCBsb29wU3RhcnQoc3RhcnRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLl9sb29wU3RhcnQgPSB0aGlzLnRvVGlja3Moc3RhcnRQb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIFRyYW5zcG9ydC5sb29wID0gdHJ1ZSwgdGhpcyBpcyB0aGUgZW5kaW5nIHBvc2l0aW9uIG9mIHRoZSBsb29wLlxuICAgICAqL1xuICAgIGdldCBsb29wRW5kKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIHRoaXMuX2xvb3BFbmQsIFwiaVwiKS50b1NlY29uZHMoKTtcbiAgICB9XG4gICAgc2V0IGxvb3BFbmQoZW5kUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5fbG9vcEVuZCA9IHRoaXMudG9UaWNrcyhlbmRQb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB0cmFuc3BvcnQgbG9vcHMgb3Igbm90LlxuICAgICAqL1xuICAgIGdldCBsb29wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9vcC5nZXQodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIHNldCBsb29wKGxvb3ApIHtcbiAgICAgICAgdGhpcy5fbG9vcC5zZXQobG9vcCwgdGhpcy5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbG9vcCBzdGFydCBhbmQgc3RvcCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9vcCBvdmVyIHRoZSBmaXJzdCBtZWFzdXJlXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc2V0TG9vcFBvaW50cygwLCBcIjFtXCIpO1xuICAgICAqIFRvbmUuVHJhbnNwb3J0Lmxvb3AgPSB0cnVlO1xuICAgICAqL1xuICAgIHNldExvb3BQb2ludHMoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5sb29wU3RhcnQgPSBzdGFydFBvc2l0aW9uO1xuICAgICAgICB0aGlzLmxvb3BFbmQgPSBlbmRQb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzd2luZyB2YWx1ZS4gQmV0d2VlbiAwLTEgd2hlcmUgMSBlcXVhbCB0byB0aGUgbm90ZSArIGhhbGYgdGhlIHN1YmRpdmlzaW9uLlxuICAgICAqL1xuICAgIGdldCBzd2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N3aW5nQW1vdW50O1xuICAgIH1cbiAgICBzZXQgc3dpbmcoYW1vdW50KSB7XG4gICAgICAgIC8vIHNjYWxlIHRoZSB2YWx1ZXMgdG8gYSBub3JtYWwgcmFuZ2VcbiAgICAgICAgdGhpcy5fc3dpbmdBbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3ViZGl2aXNpb24gd2hpY2ggdGhlIHN3aW5nIHdpbGwgYmUgYXBwbGllZCB0by5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBhbiA4dGggbm90ZS4gVmFsdWUgbXVzdCBiZSBsZXNzXG4gICAgICogdGhhbiBhIHF1YXJ0ZXIgbm90ZS5cbiAgICAgKi9cbiAgICBnZXQgc3dpbmdTdWJkaXZpc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fc3dpbmdUaWNrcykudG9Ob3RhdGlvbigpO1xuICAgIH1cbiAgICBzZXQgc3dpbmdTdWJkaXZpc2lvbihzdWJkaXZpc2lvbikge1xuICAgICAgICB0aGlzLl9zd2luZ1RpY2tzID0gdGhpcy50b1RpY2tzKHN1YmRpdmlzaW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIFRyYW5zcG9ydCdzIHBvc2l0aW9uIGluIEJhcnM6QmVhdHM6U2l4dGVlbnRocy5cbiAgICAgKiBTZXR0aW5nIHRoZSB2YWx1ZSB3aWxsIGp1bXAgdG8gdGhhdCBwb3NpdGlvbiByaWdodCBhd2F5LlxuICAgICAqL1xuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLl9jbG9jay5nZXRUaWNrc0F0VGltZShub3cpO1xuICAgICAgICByZXR1cm4gbmV3IFRpY2tzQ2xhc3ModGhpcy5jb250ZXh0LCB0aWNrcykudG9CYXJzQmVhdHNTaXh0ZWVudGhzKCk7XG4gICAgfVxuICAgIHNldCBwb3NpdGlvbihwcm9ncmVzcykge1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMudG9UaWNrcyhwcm9ncmVzcyk7XG4gICAgICAgIHRoaXMudGlja3MgPSB0aWNrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIFRyYW5zcG9ydCdzIHBvc2l0aW9uIGluIHNlY29uZHNcbiAgICAgKiBTZXR0aW5nIHRoZSB2YWx1ZSB3aWxsIGp1bXAgdG8gdGhhdCBwb3NpdGlvbiByaWdodCBhd2F5LlxuICAgICAqL1xuICAgIGdldCBzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvY2suc2Vjb25kcztcbiAgICB9XG4gICAgc2V0IHNlY29uZHMocykge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMuX2Nsb2NrLmZyZXF1ZW5jeS50aW1lVG9UaWNrcyhzLCBub3cpO1xuICAgICAgICB0aGlzLnRpY2tzID0gdGlja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBUcmFuc3BvcnQncyBsb29wIHBvc2l0aW9uIGFzIGEgbm9ybWFsaXplZCB2YWx1ZS4gQWx3YXlzXG4gICAgICogcmV0dXJucyAwIGlmIHRoZSB0cmFuc3BvcnQgaWYgbG9vcCBpcyBub3QgdHJ1ZS5cbiAgICAgKi9cbiAgICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMuX2Nsb2NrLmdldFRpY2tzQXRUaW1lKG5vdyk7XG4gICAgICAgICAgICByZXR1cm4gKHRpY2tzIC0gdGhpcy5fbG9vcFN0YXJ0KSAvICh0aGlzLl9sb29wRW5kIC0gdGhpcy5fbG9vcFN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc3BvcnRzIGN1cnJlbnQgdGljayBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgdGlja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9jay50aWNrcztcbiAgICB9XG4gICAgc2V0IHRpY2tzKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Nsb2NrLnRpY2tzICE9PSB0KSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICAgICAgLy8gc3RvcCBldmVyeXRoaW5nIHN5bmNlZCB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMuX2Nsb2NrLmdldFRpY2tzQXRUaW1lKG5vdyk7XG4gICAgICAgICAgICAgICAgLy8gc2NoZWR1bGUgdG8gc3RhcnQgb24gdGhlIG5leHQgdGljaywgIzU3M1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1RpY2sgPSB0aGlzLl9jbG9jay5mcmVxdWVuY3kuZ2V0RHVyYXRpb25PZlRpY2tzKE1hdGguY2VpbCh0aWNrcykgLSB0aWNrcywgbm93KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbm93ICsgcmVtYWluaW5nVGljaztcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdG9wXCIsIHRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb2NrLnNldFRpY2tzQXRUaW1lKHQsIHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIHJlc3RhcnQgaXQgd2l0aCB0aGUgbmV3IHRpbWVcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCB0aW1lLCB0aGlzLl9jbG9jay5nZXRTZWNvbmRzQXRUaW1lKHRpbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb2NrLnNldFRpY2tzQXRUaW1lKHQsIG5vdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9jaydzIHRpY2tzIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgV2hlbiB0byBnZXQgdGhlIHRpY2sgdmFsdWVcbiAgICAgKiBAcmV0dXJuIFRoZSB0aWNrIHZhbHVlIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqL1xuICAgIGdldFRpY2tzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUodGltZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVsYXBzZWQgc2Vjb25kcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSBlbGFwc2VkIHNlY29uZHNcbiAgICAgKiBAcmV0dXJuICBUaGUgbnVtYmVyIG9mIGVsYXBzZWQgc2Vjb25kc1xuICAgICAqL1xuICAgIGdldFNlY29uZHNBdFRpbWUodGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvY2suZ2V0U2Vjb25kc0F0VGltZSh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVsc2VzIFBlciBRdWFydGVyIG5vdGUuIFRoaXMgaXMgdGhlIHNtYWxsZXN0IHJlc29sdXRpb25cbiAgICAgKiB0aGUgVHJhbnNwb3J0IHRpbWluZyBzdXBwb3J0cy4gVGhpcyBzaG91bGQgYmUgc2V0IG9uY2VcbiAgICAgKiBvbiBpbml0aWFsaXphdGlvbiBhbmQgbm90IHNldCBhZ2Fpbi4gQ2hhbmdpbmcgdGhpcyB2YWx1ZVxuICAgICAqIGFmdGVyIG90aGVyIG9iamVjdHMgaGF2ZSBiZWVuIGNyZWF0ZWQgY2FuIGNhdXNlIHByb2JsZW1zLlxuICAgICAqL1xuICAgIGdldCBQUFEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9jay5mcmVxdWVuY3kubXVsdGlwbGllcjtcbiAgICB9XG4gICAgc2V0IFBQUShwcHEpIHtcbiAgICAgICAgdGhpcy5fY2xvY2suZnJlcXVlbmN5Lm11bHRpcGxpZXIgPSBwcHE7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0U1lOQ0lOR1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRpbWUgYWxpZ25lZCB0byB0aGUgbmV4dCBzdWJkaXZpc2lvblxuICAgICAqIG9mIHRoZSBUcmFuc3BvcnQuIElmIHRoZSBUcmFuc3BvcnQgaXMgbm90IHN0YXJ0ZWQsXG4gICAgICogaXQgd2lsbCByZXR1cm4gMC5cbiAgICAgKiBOb3RlOiB0aGlzIHdpbGwgbm90IHdvcmsgcHJlY2lzZWx5IGR1cmluZyB0ZW1wbyByYW1wcy5cbiAgICAgKiBAcGFyYW0gIHN1YmRpdmlzaW9uICBUaGUgc3ViZGl2aXNpb24gdG8gcXVhbnRpemUgdG9cbiAgICAgKiBAcmV0dXJuICBUaGUgY29udGV4dCB0aW1lIG9mIHRoZSBuZXh0IHN1YmRpdmlzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gdGhlIHRyYW5zcG9ydCBtdXN0IGJlIHN0YXJ0ZWQsIG90aGVyd2lzZSByZXR1cm5zIDBcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zdGFydCgpO1xuICAgICAqIFRvbmUuVHJhbnNwb3J0Lm5leHRTdWJkaXZpc2lvbihcIjRuXCIpO1xuICAgICAqL1xuICAgIG5leHRTdWJkaXZpc2lvbihzdWJkaXZpc2lvbikge1xuICAgICAgICBzdWJkaXZpc2lvbiA9IHRoaXMudG9UaWNrcyhzdWJkaXZpc2lvbik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHRyYW5zcG9ydCdzIG5vdCBzdGFydGVkLCByZXR1cm4gMFxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICAgICAgLy8gdGhlIHJlbWFpbmRlciBvZiB0aGUgY3VycmVudCB0aWNrcyBhbmQgdGhlIHN1YmRpdmlzaW9uXG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnRQb3MgPSB0aGlzLmdldFRpY2tzQXRUaW1lKG5vdyk7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdUaWNrcyA9IHN1YmRpdmlzaW9uIC0gdHJhbnNwb3J0UG9zICUgc3ViZGl2aXNpb247XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2xvY2submV4dFRpY2tUaW1lKHJlbWFpbmluZ1RpY2tzLCBub3cpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBzaWduYWwgdG8gdGhlIHRlbXBvIGNvbnRyb2wgc2lnbmFsIHNvIHRoYXRcbiAgICAgKiBhbnkgY2hhbmdlcyBpbiB0aGUgdGVtcG8gd2lsbCBjaGFuZ2UgdGhlIHNpZ25hbCBpbiB0aGUgc2FtZVxuICAgICAqIHJhdGlvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25hbFxuICAgICAqIEBwYXJhbSByYXRpbyBPcHRpb25hbGx5IHBhc3MgaW4gdGhlIHJhdGlvIGJldHdlZW4gdGhlIHR3byBzaWduYWxzLlxuICAgICAqIFx0XHRcdE90aGVyd2lzZSBpdCB3aWxsIGJlIGNvbXB1dGVkIGJhc2VkIG9uIHRoZWlyIGN1cnJlbnQgdmFsdWVzLlxuICAgICAqL1xuICAgIHN5bmNTaWduYWwoc2lnbmFsLCByYXRpbykge1xuICAgICAgICBpZiAoIXJhdGlvKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHN5bmMgcmF0aW9cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmdldFZhbHVlQXRUaW1lKG5vdykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBicG0gPSB0aGlzLmJwbS5nZXRWYWx1ZUF0VGltZShub3cpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkRnJlcSA9IDEgLyAoNjAgLyBicG0gLyB0aGlzLlBQUSk7XG4gICAgICAgICAgICAgICAgcmF0aW8gPSBzaWduYWwuZ2V0VmFsdWVBdFRpbWUobm93KSAvIGNvbXB1dGVkRnJlcTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXRpb1NpZ25hbCA9IG5ldyBHYWluKHJhdGlvKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLmJwbS5jb25uZWN0KHJhdGlvU2lnbmFsKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByYXRpb1NpZ25hbC5jb25uZWN0KHNpZ25hbC5fcGFyYW0pO1xuICAgICAgICB0aGlzLl9zeW5jZWRTaWduYWxzLnB1c2goe1xuICAgICAgICAgICAgaW5pdGlhbDogc2lnbmFsLnZhbHVlLFxuICAgICAgICAgICAgcmF0aW86IHJhdGlvU2lnbmFsLFxuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmFsLnZhbHVlID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3luY3MgYSBwcmV2aW91c2x5IHN5bmNlZCBzaWduYWwgZnJvbSB0aGUgdHJhbnNwb3J0J3MgY29udHJvbC5cbiAgICAgKiBTZWUgVHJhbnNwb3J0LnN5bmNTaWduYWwuXG4gICAgICovXG4gICAgdW5zeW5jU2lnbmFsKHNpZ25hbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fc3luY2VkU2lnbmFscy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgc3luY2VkU2lnbmFsID0gdGhpcy5fc3luY2VkU2lnbmFsc1tpXTtcbiAgICAgICAgICAgIGlmIChzeW5jZWRTaWduYWwuc2lnbmFsID09PSBzaWduYWwpIHtcbiAgICAgICAgICAgICAgICBzeW5jZWRTaWduYWwucmF0aW8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHN5bmNlZFNpZ25hbC5zaWduYWwudmFsdWUgPSBzeW5jZWRTaWduYWwuaW5pdGlhbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zeW5jZWRTaWduYWxzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jbG9jay5kaXNwb3NlKCk7XG4gICAgICAgIHdyaXRhYmxlKHRoaXMsIFwiYnBtXCIpO1xuICAgICAgICB0aGlzLl90aW1lbGluZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3JlcGVhdGVkRXZlbnRzLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuRW1pdHRlci5taXhpbihUcmFuc3BvcnQpO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBcdElOSVRJQUxJWkFUSU9OXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uQ29udGV4dEluaXQoY29udGV4dCA9PiB7XG4gICAgY29udGV4dC50cmFuc3BvcnQgPSBuZXcgVHJhbnNwb3J0KHsgY29udGV4dCB9KTtcbn0pO1xub25Db250ZXh0Q2xvc2UoY29udGV4dCA9PiB7XG4gICAgY29udGV4dC50cmFuc3BvcnQuZGlzcG9zZSgpO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc3BvcnQuanMubWFwIiwiaW1wb3J0IHsgVm9sdW1lIH0gZnJvbSBcIi4uL2NvbXBvbmVudC9jaGFubmVsL1ZvbHVtZVwiO1xuaW1wb3J0IFwiLi4vY29yZS9jb250ZXh0L0Rlc3RpbmF0aW9uXCI7XG5pbXBvcnQgXCIuLi9jb3JlL2Nsb2NrL1RyYW5zcG9ydFwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgZGVmYXVsdEFyZyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AsIHJlYWRPbmx5IH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFN0YXRlVGltZWxpbmUgfSBmcm9tIFwiLi4vY29yZS91dGlsL1N0YXRlVGltZWxpbmVcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNVbmRlZiB9IGZyb20gXCIuLi9jb3JlL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBhc3NlcnQsIGFzc2VydENvbnRleHRSdW5uaW5nIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgR1QgfSBmcm9tIFwiLi4vY29yZS91dGlsL01hdGhcIjtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcy5cbiAqIHN0YXJ0L3N0b3Agb2YgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5cbiAqXG4gKiBgYGBcbiAqIC8vIE11bHRpcGxlIHN0YXRlIGNoYW5nZSBldmVudHMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIsXG4gKiAvLyBidXQgbXVzdCBiZSBzZXQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgYW5kIHdpdGggYXNjZW5kaW5nIHRpbWVzXG4gKiAvLyBPS1xuICogc3RhdGUuc3RhcnQoKS5zdG9wKFwiKzAuMlwiKTtcbiAqIC8vIE9LXG4gKiBzdGF0ZS5zdGFydCgpLnN0b3AoXCIrMC4yXCIpLnN0YXJ0KFwiKzAuNFwiKS5zdG9wKFwiKzAuN1wiKVxuICogLy8gQkFEXG4gKiBzdGF0ZS5zdG9wKFwiKzAuMlwiKS5zdGFydCgpO1xuICogLy8gQkFEXG4gKiBzdGF0ZS5zdGFydChcIiswLjNcIikuc3RvcChcIiswLjJcIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFNvdXJjZSBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2VzIGhhdmUgbm8gaW5wdXRzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlucHV0ID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiB0aGUgc2NoZWR1bGVkIHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgU3RhdGVUaW1lbGluZShcInN0b3BwZWRcIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3luY2VkIGBzdGFydGAgY2FsbGJhY2sgZnVuY3Rpb24gZnJvbSB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeW5jZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgYWxsIG9mIHRoZSBzY2hlZHVsZWQgZXZlbnQgaWRzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWQgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYWNlaG9sZGVyIGZ1bmN0aW9ucyBmb3Igc3luY2luZy91bnN5bmNpbmcgdG8gdHJhbnNwb3J0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeW5jZWRTdGFydCA9IG5vT3A7XG4gICAgICAgIHRoaXMuX3N5bmNlZFN0b3AgPSBub09wO1xuICAgICAgICB0aGlzLl9zdGF0ZS5tZW1vcnkgPSAxMDA7XG4gICAgICAgIHRoaXMuX3N0YXRlLmluY3JlYXNpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl92b2x1bWUgPSB0aGlzLm91dHB1dCA9IG5ldyBWb2x1bWUoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgbXV0ZTogb3B0aW9ucy5tdXRlLFxuICAgICAgICAgICAgdm9sdW1lOiBvcHRpb25zLnZvbHVtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5fdm9sdW1lLnZvbHVtZTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJ2b2x1bWVcIik7XG4gICAgICAgIHRoaXMub25zdG9wID0gb3B0aW9ucy5vbnN0b3A7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBtdXRlOiBmYWxzZSxcbiAgICAgICAgICAgIG9uc3RvcDogbm9PcCxcbiAgICAgICAgICAgIHZvbHVtZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBsYXliYWNrIHN0YXRlIG9mIHRoZSBzb3VyY2UsIGVpdGhlciBcInN0YXJ0ZWRcIiBvciBcInN0b3BwZWRcIi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL2FobnRvbmVfYzMubXAzXCIsICgpID0+IHtcbiAgICAgKiBcdHBsYXllci5zdGFydCgpO1xuICAgICAqIFx0Y29uc29sZS5sb2cocGxheWVyLnN0YXRlKTtcbiAgICAgKiB9KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zdGF0ZSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zZWNvbmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN0b3BwZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBvdXRwdXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gICAgICogLy8gbXV0ZSB0aGUgb3V0cHV0XG4gICAgICogb3NjLm11dGUgPSB0cnVlO1xuICAgICAqL1xuICAgIGdldCBtdXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdm9sdW1lLm11dGU7XG4gICAgfVxuICAgIHNldCBtdXRlKG11dGUpIHtcbiAgICAgICAgdGhpcy5fdm9sdW1lLm11dGUgPSBtdXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmUgdGhhdCB0aGUgc2NoZWR1bGVkIHRpbWUgaXMgbm90IGJlZm9yZSB0aGUgY3VycmVudCB0aW1lLlxuICAgICAqIFNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiBzY2hlZHVsZWQgdW5zeW5jZWQuXG4gICAgICovXG4gICAgX2NsYW1wVG9DdXJyZW50VGltZSh0aW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeW5jZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRpbWUsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIHNvdXJjZSBhdCB0aGUgc3BlY2lmaWVkIHRpbWUuIElmIG5vIHRpbWUgaXMgZ2l2ZW4sXG4gICAgICogc3RhcnQgdGhlIHNvdXJjZSBub3cuXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdGhlIHNvdXJjZSBzaG91bGQgYmUgc3RhcnRlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvdXJjZSA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogc291cmNlLnN0YXJ0KFwiKzAuNVwiKTsgLy8gc3RhcnRzIHRoZSBzb3VyY2UgMC41IHNlY29uZHMgZnJvbSBub3dcbiAgICAgKi9cbiAgICBzdGFydCh0aW1lLCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gICAgICAgIGxldCBjb21wdXRlZFRpbWUgPSBpc1VuZGVmKHRpbWUpICYmIHRoaXMuX3N5bmNlZCA/IHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kcyA6IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb21wdXRlZFRpbWUgPSB0aGlzLl9jbGFtcFRvQ3VycmVudFRpbWUoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgLy8gaWYgaXQncyBzdGFydGVkLCBzdG9wIGl0IGFuZCByZXN0YXJ0IGl0XG4gICAgICAgIGlmICghdGhpcy5fc3luY2VkICYmIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGNvbXB1dGVkVGltZSkgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHNob3VsZCBiZSBzdHJpY3RseSBncmVhdGVyIHRoYW4gdGhlIHByZXZpb3VzIHN0YXJ0IHRpbWVcbiAgICAgICAgICAgIGFzc2VydChHVChjb21wdXRlZFRpbWUsIHRoaXMuX3N0YXRlLmdldChjb21wdXRlZFRpbWUpLnRpbWUpLCBcIlN0YXJ0IHRpbWUgbXVzdCBiZSBzdHJpY3RseSBncmVhdGVyIHRoYW4gcHJldmlvdXMgc3RhcnQgdGltZVwiKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB0aGlzLmxvZyhcInJlc3RhcnRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydChjb21wdXRlZFRpbWUsIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2coXCJzdGFydFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBvZmZzZXQgdGltZSB0byB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX3N0YXRlLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5vZmZzZXQgPSB0aGlzLnRvU2Vjb25kcyhkZWZhdWx0QXJnKG9mZnNldCwgMCkpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5kdXJhdGlvbiA9IGR1cmF0aW9uID8gdGhpcy50b1NlY29uZHMoZHVyYXRpb24pIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzY2hlZCA9IHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2NoZWR1bGUodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KHQsIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVkLnB1c2goc2NoZWQpO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0cmFuc3BvcnQgaXMgYWxyZWFkeSBzdGFydGVkXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSB0aW1lIGlzIGdyZWF0ZXIgdGhhbiB3aGVyZSB0aGUgdHJhbnNwb3J0IGlzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC50cmFuc3BvcnQuc3RhdGUgPT09IFwic3RhcnRlZFwiICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQuZ2V0U2Vjb25kc0F0VGltZSh0aGlzLmltbWVkaWF0ZSgpKSA+IGNvbXB1dGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zeW5jZWRTdGFydCh0aGlzLm5vdygpLCB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2VydENvbnRleHRSdW5uaW5nKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoY29tcHV0ZWRUaW1lLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgc291cmNlIGF0IHRoZSBzcGVjaWZpZWQgdGltZS4gSWYgbm8gdGltZSBpcyBnaXZlbixcbiAgICAgKiBzdG9wIHRoZSBzb3VyY2Ugbm93LlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBzb3VyY2Ugc2hvdWxkIGJlIHN0b3BwZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2UgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHNvdXJjZS5zdGFydCgpO1xuICAgICAqIHNvdXJjZS5zdG9wKFwiKzAuNVwiKTsgLy8gc3RvcHMgdGhlIHNvdXJjZSAwLjUgc2Vjb25kcyBmcm9tIG5vd1xuICAgICAqL1xuICAgIHN0b3AodGltZSkge1xuICAgICAgICBsZXQgY29tcHV0ZWRUaW1lID0gaXNVbmRlZih0aW1lKSAmJiB0aGlzLl9zeW5jZWQgPyB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHMgOiB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29tcHV0ZWRUaW1lID0gdGhpcy5fY2xhbXBUb0N1cnJlbnRUaW1lKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0YXJ0ZWRcIiB8fCBpc0RlZmluZWQodGhpcy5fc3RhdGUuZ2V0TmV4dFN0YXRlKFwic3RhcnRlZFwiLCBjb21wdXRlZFRpbWUpKSkge1xuICAgICAgICAgICAgdGhpcy5sb2coXCJzdG9wXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3AoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVkID0gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zY2hlZHVsZSh0aGlzLl9zdG9wLmJpbmQodGhpcyksIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVkLnB1c2goc2NoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuY2FuY2VsKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0b3BwZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzdGFydCB0aGUgc291cmNlLlxuICAgICAqL1xuICAgIHJlc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbikge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aW1lKSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbCh0aW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmMgdGhlIHNvdXJjZSB0byB0aGUgVHJhbnNwb3J0IHNvIHRoYXQgYWxsIHN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byBgc3RhcnRgIGFuZCBgc3RvcGAgYXJlIHN5bmNlZCB0byB0aGUgVHJhbnNwb3J0VGltZVxuICAgICAqIGluc3RlYWQgb2YgdGhlIEF1ZGlvQ29udGV4dCB0aW1lLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIHN5bmMgdGhlIHNvdXJjZSBzbyB0aGF0IGl0IHBsYXlzIGJldHdlZW4gMCBhbmQgMC4zIG9uIHRoZSBUcmFuc3BvcnQncyB0aW1lbGluZVxuICAgICAqIG9zYy5zeW5jKCkuc3RhcnQoMCkuc3RvcCgwLjMpO1xuICAgICAqIC8vIHN0YXJ0IHRoZSB0cmFuc3BvcnQuXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgKiAvLyBzZXQgaXQgdG8gbG9vcCBvbmNlIGEgc2Vjb25kXG4gICAgICogVG9uZS5UcmFuc3BvcnQubG9vcCA9IHRydWU7XG4gICAgICogVG9uZS5UcmFuc3BvcnQubG9vcEVuZCA9IDE7XG4gICAgICovXG4gICAgc3luYygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zeW5jZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N5bmNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zeW5jZWRTdGFydCA9ICh0aW1lLCBvZmZzZXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIHBsYXliYWNrIHN0YXRlIGF0IHRoYXQgdGltZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZUV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0KG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxpc3RlbiBmb3Igc3RhcnQgZXZlbnRzIHdoaWNoIG1heSBvY2N1ciBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzeW5jJ2VkIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlRXZlbnQgJiYgc3RhdGVFdmVudC5zdGF0ZSA9PT0gXCJzdGFydGVkXCIgJiYgc3RhdGVFdmVudC50aW1lICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IG9mZnNldCAtIHRoaXMudG9TZWNvbmRzKHN0YXRlRXZlbnQudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVFdmVudC5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy50b1NlY29uZHMoc3RhdGVFdmVudC5kdXJhdGlvbikgLSBzdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KHRpbWUsIHRoaXMudG9TZWNvbmRzKHN0YXRlRXZlbnQub2Zmc2V0KSArIHN0YXJ0T2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fc3luY2VkU3RvcCA9IHRpbWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLmNvbnRleHQudHJhbnNwb3J0LmdldFNlY29uZHNBdFRpbWUoTWF0aC5tYXgodGltZSAtIHRoaXMuc2FtcGxlVGltZSwgMCkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShzZWNvbmRzKSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcCh0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcInN0YXJ0XCIsIHRoaXMuX3N5bmNlZFN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJsb29wU3RhcnRcIiwgdGhpcy5fc3luY2VkU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcInN0b3BcIiwgdGhpcy5fc3luY2VkU3RvcCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9uKFwicGF1c2VcIiwgdGhpcy5fc3luY2VkU3RvcCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9uKFwibG9vcEVuZFwiLCB0aGlzLl9zeW5jZWRTdG9wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zeW5jIHRoZSBzb3VyY2UgdG8gdGhlIFRyYW5zcG9ydC4gU2VlIFNvdXJjZS5zeW5jXG4gICAgICovXG4gICAgdW5zeW5jKCkge1xuICAgICAgICBpZiAodGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9mZihcInN0b3BcIiwgdGhpcy5fc3luY2VkU3RvcCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9mZihcInBhdXNlXCIsIHRoaXMuX3N5bmNlZFN0b3ApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJsb29wRW5kXCIsIHRoaXMuX3N5bmNlZFN0b3ApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJzdGFydFwiLCB0aGlzLl9zeW5jZWRTdGFydCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9mZihcImxvb3BTdGFydFwiLCB0aGlzLl9zeW5jZWRTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3luY2VkID0gZmFsc2U7XG4gICAgICAgIC8vIGNsZWFyIGFsbCBvZiB0aGUgc2NoZWR1bGVkIGlkc1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWQuZm9yRWFjaChpZCA9PiB0aGlzLmNvbnRleHQudHJhbnNwb3J0LmNsZWFyKGlkKSk7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZCA9IFtdO1xuICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoMCk7XG4gICAgICAgIC8vIHN0b3AgaXQgYWxzb1xuICAgICAgICB0aGlzLl9zdG9wKDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm9uc3RvcCA9IG5vT3A7XG4gICAgICAgIHRoaXMudW5zeW5jKCk7XG4gICAgICAgIHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U291cmNlLmpzLm1hcCIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9QYXJhbVwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvQnVmZmVyIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9CdWZmZXJcIjtcbmltcG9ydCB7IGRlZmF1bHRBcmcsIG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgbm9PcCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgT25lU2hvdFNvdXJjZSB9IGZyb20gXCIuLi9PbmVTaG90U291cmNlXCI7XG5pbXBvcnQgeyBFUSwgR1RFLCBMVCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvTWF0aFwiO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgbmF0aXZlIEJ1ZmZlclNvdXJjZU5vZGUuXG4gKiBAY2F0ZWdvcnkgU291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lQnVmZmVyU291cmNlIGV4dGVuZHMgT25lU2hvdFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVCdWZmZXJTb3VyY2UuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxcIiwgXCJvbmxvYWRcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUb25lQnVmZmVyU291cmNlXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3NjaWxsYXRvclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbENoYW5uZWxzID0gW3RoaXMuX3NvdXJjZV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbmRpY2F0b3JzIGlmIHRoZSBzb3VyY2UgaGFzIHN0YXJ0ZWQvc3RvcHBlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc291cmNlU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zb3VyY2VTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lQnVmZmVyU291cmNlLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widXJsXCIsIFwib25sb2FkXCJdKTtcbiAgICAgICAgY29ubmVjdCh0aGlzLl9zb3VyY2UsIHRoaXMuX2dhaW5Ob2RlKTtcbiAgICAgICAgdGhpcy5fc291cmNlLm9uZW5kZWQgPSAoKSA9PiB0aGlzLl9zdG9wU291cmNlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGxheWJhY2tSYXRlIG9mIHRoZSBidWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGxheWJhY2tSYXRlID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9zb3VyY2UucGxheWJhY2tSYXRlLFxuICAgICAgICAgICAgdW5pdHM6IFwicG9zaXRpdmVcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLnBsYXliYWNrUmF0ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNldCBzb21lIHZhbHVlcyBpbml0aWFsbHlcbiAgICAgICAgdGhpcy5sb29wID0gb3B0aW9ucy5sb29wO1xuICAgICAgICB0aGlzLmxvb3BTdGFydCA9IG9wdGlvbnMubG9vcFN0YXJ0O1xuICAgICAgICB0aGlzLmxvb3BFbmQgPSBvcHRpb25zLmxvb3BFbmQ7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBUb25lQXVkaW9CdWZmZXIob3B0aW9ucy51cmwsIG9wdGlvbnMub25sb2FkLCBvcHRpb25zLm9uZXJyb3IpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbENoYW5uZWxzLnB1c2godGhpcy5fc291cmNlKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPbmVTaG90U291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIHVybDogbmV3IFRvbmVBdWRpb0J1ZmZlcigpLFxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICBsb29wRW5kOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgb25sb2FkOiBub09wLFxuICAgICAgICAgICAgb25lcnJvcjogbm9PcCxcbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogMSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmYWRlSW4gdGltZSBvZiB0aGUgYW1wbGl0dWRlIGVudmVsb3BlLlxuICAgICAqL1xuICAgIGdldCBmYWRlSW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYWRlSW47XG4gICAgfVxuICAgIHNldCBmYWRlSW4odCkge1xuICAgICAgICB0aGlzLl9mYWRlSW4gPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmFkZU91dCB0aW1lIG9mIHRoZSBhbXBsaXR1ZGUgZW52ZWxvcGUuXG4gICAgICovXG4gICAgZ2V0IGZhZGVPdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYWRlT3V0O1xuICAgIH1cbiAgICBzZXQgZmFkZU91dCh0KSB7XG4gICAgICAgIHRoaXMuX2ZhZGVPdXQgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VydmUgYXBwbGllZCB0byB0aGUgZmFkZXMsIGVpdGhlciBcImxpbmVhclwiIG9yIFwiZXhwb25lbnRpYWxcIlxuICAgICAqL1xuICAgIGdldCBjdXJ2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnZlO1xuICAgIH1cbiAgICBzZXQgY3VydmUodCkge1xuICAgICAgICB0aGlzLl9jdXJ2ZSA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBidWZmZXJcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0aGUgcGxheWVyIHNob3VsZCBzdGFydC5cbiAgICAgKiBAcGFyYW0gIG9mZnNldCBUaGUgb2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc2FtcGxlIHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gSG93IGxvbmcgdGhlIHNhbXBsZSBzaG91bGQgcGxheS4gSWYgbm8gZHVyYXRpb24gaXMgZ2l2ZW4sIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgZnVsbCBsZW5ndGggb2YgdGhlIHNhbXBsZSAobWludXMgYW55IG9mZnNldClcbiAgICAgKiBAcGFyYW0gIGdhaW4gIFRoZSBnYWluIHRvIHBsYXkgdGhlIGJ1ZmZlciBiYWNrIGF0LlxuICAgICAqL1xuICAgIHN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24sIGdhaW4gPSAxKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlci5sb2FkZWQsIFwiYnVmZmVyIGlzIGVpdGhlciBub3Qgc2V0IG9yIG5vdCBsb2FkZWRcIik7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICAvLyBhcHBseSB0aGUgZ2FpbiBlbnZlbG9wZVxuICAgICAgICB0aGlzLl9zdGFydEdhaW4oY29tcHV0ZWRUaW1lLCBnYWluKTtcbiAgICAgICAgLy8gaWYgaXQncyBhIGxvb3AgdGhlIGRlZmF1bHQgb2Zmc2V0IGlzIHRoZSBsb29wc3RhcnQgcG9pbnRcbiAgICAgICAgaWYgKHRoaXMubG9vcCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZGVmYXVsdEFyZyhvZmZzZXQsIHRoaXMubG9vcFN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGUgZGVmYXVsdCBvZmZzZXQgaXMgMFxuICAgICAgICAgICAgb2Zmc2V0ID0gZGVmYXVsdEFyZyhvZmZzZXQsIDApO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgb2Zmc2V0IGlzIG5vdCBsZXNzIHRoYW4gMFxuICAgICAgICBsZXQgY29tcHV0ZWRPZmZzZXQgPSBNYXRoLm1heCh0aGlzLnRvU2Vjb25kcyhvZmZzZXQpLCAwKTtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGJ1ZmZlciBzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMubG9vcCkge1xuICAgICAgICAgICAgLy8gbW9kaWZ5IHRoZSBvZmZzZXQgaWYgaXQncyBncmVhdGVyIHRoYW4gdGhlIGxvb3AgdGltZVxuICAgICAgICAgICAgY29uc3QgbG9vcEVuZCA9IHRoaXMudG9TZWNvbmRzKHRoaXMubG9vcEVuZCkgfHwgdGhpcy5idWZmZXIuZHVyYXRpb247XG4gICAgICAgICAgICBjb25zdCBsb29wU3RhcnQgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLmxvb3BTdGFydCk7XG4gICAgICAgICAgICBjb25zdCBsb29wRHVyYXRpb24gPSBsb29wRW5kIC0gbG9vcFN0YXJ0O1xuICAgICAgICAgICAgLy8gbW92ZSB0aGUgb2Zmc2V0IGJhY2tcbiAgICAgICAgICAgIGlmIChHVEUoY29tcHV0ZWRPZmZzZXQsIGxvb3BFbmQpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRPZmZzZXQgPSAoKGNvbXB1dGVkT2Zmc2V0IC0gbG9vcFN0YXJ0KSAlIGxvb3BEdXJhdGlvbikgKyBsb29wU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBvZmZzZXQgaXMgdmVyeSBjbG9zZSB0byB0aGUgZHVyYXRpb24sIHNldCBpdCB0byAwXG4gICAgICAgICAgICBpZiAoRVEoY29tcHV0ZWRPZmZzZXQsIHRoaXMuYnVmZmVyLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmJ1ZmZlci5sb2FkZWQgd291bGQgaGF2ZSByZXR1cm4gZmFsc2UgaWYgdGhlIEF1ZGlvQnVmZmVyIHdhcyB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5fc291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLmdldCgpO1xuICAgICAgICB0aGlzLl9zb3VyY2UubG9vcEVuZCA9IHRoaXMudG9TZWNvbmRzKHRoaXMubG9vcEVuZCkgfHwgdGhpcy5idWZmZXIuZHVyYXRpb247XG4gICAgICAgIGlmIChMVChjb21wdXRlZE9mZnNldCwgdGhpcy5idWZmZXIuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5zdGFydChjb21wdXRlZFRpbWUsIGNvbXB1dGVkT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBhIGR1cmF0aW9uIGlzIGdpdmVuLCBzY2hlZHVsZSBhIHN0b3BcbiAgICAgICAgaWYgKGlzRGVmaW5lZChkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGxldCBjb21wdXRlZER1ciA9IHRoaXMudG9TZWNvbmRzKGR1cmF0aW9uKTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpdCdzIG5ldmVyIG5lZ2F0aXZlXG4gICAgICAgICAgICBjb21wdXRlZER1ciA9IE1hdGgubWF4KGNvbXB1dGVkRHVyLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcChjb21wdXRlZFRpbWUgKyBjb21wdXRlZER1cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9zdG9wU291cmNlKHRpbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VTdG9wcGVkICYmIHRoaXMuX3NvdXJjZVN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZVN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLnN0b3AodGhpcy50b1NlY29uZHModGltZSkpO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGxvb3AgaXMgdHJ1ZSwgdGhlIGxvb3Agd2lsbCBzdGFydCBhdCB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGdldCBsb29wU3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UubG9vcFN0YXJ0O1xuICAgIH1cbiAgICBzZXQgbG9vcFN0YXJ0KGxvb3BTdGFydCkge1xuICAgICAgICB0aGlzLl9zb3VyY2UubG9vcFN0YXJ0ID0gdGhpcy50b1NlY29uZHMobG9vcFN0YXJ0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgbG9vcCBpcyB0cnVlLCB0aGUgbG9vcCB3aWxsIGVuZCBhdCB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGdldCBsb29wRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmxvb3BFbmQ7XG4gICAgfVxuICAgIHNldCBsb29wRW5kKGxvb3BFbmQpIHtcbiAgICAgICAgdGhpcy5fc291cmNlLmxvb3BFbmQgPSB0aGlzLnRvU2Vjb25kcyhsb29wRW5kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGF1ZGlvIGJ1ZmZlciBiZWxvbmdpbmcgdG8gdGhlIHBsYXllci5cbiAgICAgKi9cbiAgICBnZXQgYnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgIH1cbiAgICBzZXQgYnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLl9idWZmZXIuc2V0KGJ1ZmZlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBidWZmZXIgc2hvdWxkIGxvb3Agb25jZSBpdCdzIG92ZXIuXG4gICAgICovXG4gICAgZ2V0IGxvb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UubG9vcDtcbiAgICB9XG4gICAgc2V0IGxvb3AobG9vcCkge1xuICAgICAgICB0aGlzLl9zb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2VTdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5vbmVuZGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wbGF5YmFja1JhdGUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQnVmZmVyU291cmNlLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2ZmbGluZUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L09mZmxpbmVDb250ZXh0XCI7XG4vKipcbiAqIFJlbmRlciBhIHNlZ21lbnQgb2YgdGhlIG9zY2lsbGF0b3IgdG8gYW4gb2ZmbGluZSBjb250ZXh0IGFuZCByZXR1cm4gdGhlIHJlc3VsdHMgYXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlV2F2ZWZvcm0oaW5zdGFuY2UsIGxlbmd0aCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gbGVuZ3RoIC8gaW5zdGFuY2UuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IE9mZmxpbmVDb250ZXh0KDEsIGR1cmF0aW9uLCBpbnN0YW5jZS5jb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBpbnN0YW5jZS5jb25zdHJ1Y3RvcihPYmplY3QuYXNzaWduKGluc3RhbmNlLmdldCgpLCB7XG4gICAgICAgICAgICAvLyBzaG91bGQgZG8gMiBpdGVyYXRpb25zXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDIgLyBkdXJhdGlvbixcbiAgICAgICAgICAgIC8vIHplcm8gb3V0IHRoZSBkZXR1bmVcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgfSkpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgICAgY2xvbmUuc3RhcnQoMCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkIGNvbnRleHQucmVuZGVyKCk7XG4gICAgICAgIHJldHVybiBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Pc2NpbGxhdG9ySW50ZXJmYWNlLmpzLm1hcCIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9QYXJhbVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBPbmVTaG90U291cmNlIH0gZnJvbSBcIi4uL09uZVNob3RTb3VyY2VcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBmaXJlLWFuZC1mb3JnZXQgT3NjaWxsYXRvck5vZGUuXG4gKiBBZGRzIHRoZSBhYmlsaXR5IHRvIHJlc2NoZWR1bGUgdGhlIHN0b3AgbWV0aG9kLlxuICogKioqW1tPc2NpbGxhdG9yXV0gaXMgYmV0dGVyIGZvciBtb3N0IHVzZS1jYXNlcyoqKlxuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgVG9uZU9zY2lsbGF0b3JOb2RlIGV4dGVuZHMgT25lU2hvdFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVPc2NpbGxhdG9yTm9kZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUb25lT3NjaWxsYXRvck5vZGVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvc2NpbGxhdG9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5jb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxDaGFubmVscyA9IFt0aGlzLl9vc2NpbGxhdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVPc2NpbGxhdG9yTm9kZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIl0pO1xuICAgICAgICBjb25uZWN0KHRoaXMuX29zY2lsbGF0b3IsIHRoaXMuX2dhaW5Ob2RlKTtcbiAgICAgICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3ksXG4gICAgICAgICAgICB1bml0czogXCJmcmVxdWVuY3lcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0dW5lID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9vc2NpbGxhdG9yLmRldHVuZSxcbiAgICAgICAgICAgIHVuaXRzOiBcImNlbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJmcmVxdWVuY3lcIiwgXCJkZXR1bmVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9uZVNob3RTb3VyY2UuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgZGV0dW5lOiAwLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiA0NDAsXG4gICAgICAgICAgICB0eXBlOiBcInNpbmVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBvc2NpbGxhdG9yIG5vZGUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0byBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIHN0YXJ0KHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMubG9nKFwic3RhcnRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fc3RhcnRHYWluKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RhcnQoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9zdG9wU291cmNlKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zdG9wKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIGFyYml0cmFyeSBjdXN0b20gcGVyaW9kaWMgd2F2ZWZvcm0gZ2l2ZW4gYSBQZXJpb2RpY1dhdmUuXG4gICAgICogQHBhcmFtICBwZXJpb2RpY1dhdmUgUGVyaW9kaWNXYXZlIHNob3VsZCBiZSBjcmVhdGVkIHdpdGggY29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmVcbiAgICAgKi9cbiAgICBzZXRQZXJpb2RpY1dhdmUocGVyaW9kaWNXYXZlKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHBlcmlvZGljV2F2ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgb3NjaWxsYXRvciB0eXBlLiBFaXRoZXIgJ3NpbmUnLCAnc2F3dG9vdGgnLCAnc3F1YXJlJywgb3IgJ3RyaWFuZ2xlJ1xuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci50eXBlO1xuICAgIH1cbiAgICBzZXQgdHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3IudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmRldHVuZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvbmVPc2NpbGxhdG9yTm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGRlZXBFcXVhbHMsIG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuLi8uLi9zaWduYWwvU2lnbmFsXCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vU291cmNlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVdhdmVmb3JtIH0gZnJvbSBcIi4vT3NjaWxsYXRvckludGVyZmFjZVwiO1xuaW1wb3J0IHsgVG9uZU9zY2lsbGF0b3JOb2RlIH0gZnJvbSBcIi4vVG9uZU9zY2lsbGF0b3JOb2RlXCI7XG5pbXBvcnQgeyBhc3NlcnRSYW5nZSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVidWdcIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9NYXRoXCI7XG4vKipcbiAqIE9zY2lsbGF0b3Igc3VwcG9ydHMgYSBudW1iZXIgb2YgZmVhdHVyZXMgaW5jbHVkaW5nXG4gKiBwaGFzZSByb3RhdGlvbiwgbXVsdGlwbGUgb3NjaWxsYXRvciB0eXBlcyAoc2VlIE9zY2lsbGF0b3IudHlwZSksXG4gKiBhbmQgVHJhbnNwb3J0IHN5bmNpbmcgKHNlZSBPc2NpbGxhdG9yLnN5bmNGcmVxdWVuY3kpLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBtYWtlIGFuZCBzdGFydCBhIDQ0MGh6IHNpbmUgdG9uZVxuICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcig0NDAsIFwic2luZVwiKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIE9zY2lsbGF0b3IgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk9zY2lsbGF0b3JcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBtYWluIG9zY2lsbGF0b3JcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSBudWxsO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIl0pO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IG5ldyBTaWduYWwoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdW5pdHM6IFwiZnJlcXVlbmN5XCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBcImZyZXF1ZW5jeVwiKTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImNlbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBcImRldHVuZVwiKTtcbiAgICAgICAgdGhpcy5fcGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSBvcHRpb25zLnBhcnRpYWxDb3VudDtcbiAgICAgICAgdGhpcy5fdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgaWYgKG9wdGlvbnMucGFydGlhbENvdW50ICYmIG9wdGlvbnMudHlwZSAhPT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHRoaXMuYmFzZVR5cGUgKyBvcHRpb25zLnBhcnRpYWxDb3VudC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGhhc2UgPSBvcHRpb25zLnBoYXNlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBkZXR1bmU6IDAsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDQ0MCxcbiAgICAgICAgICAgIHBhcnRpYWxDb3VudDogMCxcbiAgICAgICAgICAgIHBhcnRpYWxzOiBbXSxcbiAgICAgICAgICAgIHBoYXNlOiAwLFxuICAgICAgICAgICAgdHlwZTogXCJzaW5lXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdGFydCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICAvLyBuZXcgb3NjaWxsYXRvciB3aXRoIHByZXZpb3VzIHZhbHVlc1xuICAgICAgICBjb25zdCBvc2NpbGxhdG9yID0gbmV3IFRvbmVPc2NpbGxhdG9yTm9kZSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBvbmVuZGVkOiAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSBvc2NpbGxhdG9yO1xuICAgICAgICBpZiAodGhpcy5fd2F2ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zZXRQZXJpb2RpY1dhdmUodGhpcy5fd2F2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgPSB0aGlzLl90eXBlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbm5lY3QgdGhlIGNvbnRyb2wgc2lnbmFsIHRvIHRoZSBvc2NpbGxhdG9yIGZyZXF1ZW5jeSAmIGRldHVuZVxuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmNvbm5lY3QodGhpcy5vdXRwdXQpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX29zY2lsbGF0b3IuZnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5kZXR1bmUuY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLmRldHVuZSk7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RhcnQoY29tcHV0ZWRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnN0b3AoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN0YXJ0IHRoZSBvc2NpbGxhdG9yLiBEb2VzIG5vdCBzdG9wIHRoZSBvc2NpbGxhdG9yLCBidXQgaW5zdGVhZFxuICAgICAqIGp1c3QgY2FuY2VscyBhbnkgc2NoZWR1bGVkICdzdG9wJyBmcm9tIGJlaW5nIGludm9rZWQuXG4gICAgICovXG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5sb2coXCJyZXN0YXJ0XCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmNhbmNlbFN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmMgdGhlIHNpZ25hbCB0byB0aGUgVHJhbnNwb3J0J3MgYnBtLiBBbnkgY2hhbmdlcyB0byB0aGUgdHJhbnNwb3J0cyBicG0sXG4gICAgICogd2lsbCBhbHNvIGFmZmVjdCB0aGUgb3NjaWxsYXRvcnMgZnJlcXVlbmN5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICAgICAqIG9zYy5mcmVxdWVuY3kudmFsdWUgPSA0NDA7XG4gICAgICogLy8gdGhlIHJhdGlvIGJldHdlZW4gdGhlIGJwbSBhbmQgdGhlIGZyZXF1ZW5jeSB3aWxsIGJlIG1haW50YWluZWRcbiAgICAgKiBvc2Muc3luY0ZyZXF1ZW5jeSgpO1xuICAgICAqIC8vIGRvdWJsZSB0aGUgdGVtcG9cbiAgICAgKiBUb25lLlRyYW5zcG9ydC5icG0udmFsdWUgKj0gMjtcbiAgICAgKiAvLyB0aGUgZnJlcXVlbmN5IG9mIHRoZSBvc2NpbGxhdG9yIGlzIGRvdWJsZWQgdG8gODgwXG4gICAgICovXG4gICAgc3luY0ZyZXF1ZW5jeSgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zeW5jU2lnbmFsKHRoaXMuZnJlcXVlbmN5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3luYyB0aGUgb3NjaWxsYXRvcidzIGZyZXF1ZW5jeSBmcm9tIHRoZSBUcmFuc3BvcnQuXG4gICAgICogU2VlIE9zY2lsbGF0b3Iuc3luY0ZyZXF1ZW5jeVxuICAgICAqL1xuICAgIHVuc3luY0ZyZXF1ZW5jeSgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC51bnN5bmNTaWduYWwodGhpcy5mcmVxdWVuY3kpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgY2FjaGVkIHBlcmlvZGljIHdhdmUuIEF2b2lkcyBoYXZpbmcgdG8gcmVjb21wdXRlXG4gICAgICogdGhlIG9zY2lsbGF0b3IgdmFsdWVzIHdoZW4gdGhleSBoYXZlIGFscmVhZHkgYmVlbiBjb21wdXRlZFxuICAgICAqIHdpdGggdGhlIHNhbWUgdmFsdWVzLlxuICAgICAqL1xuICAgIF9nZXRDYWNoZWRQZXJpb2RpY1dhdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICBjb25zdCBvc2NQcm9wcyA9IE9zY2lsbGF0b3IuX3BlcmlvZGljV2F2ZUNhY2hlLmZpbmQoZGVzY3JpcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi5waGFzZSA9PT0gdGhpcy5fcGhhc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgZGVlcEVxdWFscyhkZXNjcmlwdGlvbi5wYXJ0aWFscywgdGhpcy5fcGFydGlhbHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb3NjUHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvc2NQcm9wcyA9IE9zY2lsbGF0b3IuX3BlcmlvZGljV2F2ZUNhY2hlLmZpbmQoZGVzY3JpcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi50eXBlID09PSB0aGlzLl90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLnBoYXNlID09PSB0aGlzLl9waGFzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gb3NjUHJvcHMgPyBvc2NQcm9wcy5wYXJ0aWFsQ291bnQgOiB0aGlzLl9wYXJ0aWFsQ291bnQ7XG4gICAgICAgICAgICByZXR1cm4gb3NjUHJvcHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICBzZXQgdHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICBjb25zdCBpc0Jhc2ljVHlwZSA9IFtcInNpbmVcIiwgXCJzcXVhcmVcIiwgXCJzYXd0b290aFwiLCBcInRyaWFuZ2xlXCJdLmluZGV4T2YodHlwZSkgIT09IC0xO1xuICAgICAgICBpZiAodGhpcy5fcGhhc2UgPT09IDAgJiYgaXNCYXNpY1R5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dhdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSAwO1xuICAgICAgICAgICAgLy8ganVzdCBnbyB3aXRoIHRoZSBiYXNpYyBhcHByb2FjaFxuICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCB0aGF0IGl0J3MgYSBiYXNpYyB0eXBlXG4gICAgICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZSB2YWx1ZSBpcyBjYWNoZWRcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fZ2V0Q2FjaGVkUGVyaW9kaWNXYXZlKCk7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGNhY2hlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFydGlhbHMsIHdhdmUgfSA9IGNhY2hlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhdmUgPSB3YXZlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxzID0gcGFydGlhbHM7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zZXRQZXJpb2RpY1dhdmUodGhpcy5fd2F2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3JlYWwsIGltYWddID0gdGhpcy5fZ2V0UmVhbEltYWdpbmFyeSh0eXBlLCB0aGlzLl9waGFzZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVyaW9kaWNXYXZlID0gdGhpcy5jb250ZXh0LmNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93YXZlID0gcGVyaW9kaWNXYXZlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHRoaXMuX3dhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgT3NjaWxsYXRvci5fcGVyaW9kaWNXYXZlQ2FjaGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGltYWcsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxDb3VudDogdGhpcy5fcGFydGlhbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsczogdGhpcy5fcGFydGlhbHMsXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlOiB0aGlzLl9waGFzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgd2F2ZTogdGhpcy5fd2F2ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoT3NjaWxsYXRvci5fcGVyaW9kaWNXYXZlQ2FjaGUubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIE9zY2lsbGF0b3IuX3BlcmlvZGljV2F2ZUNhY2hlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBiYXNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGUucmVwbGFjZSh0aGlzLnBhcnRpYWxDb3VudC50b1N0cmluZygpLCBcIlwiKTtcbiAgICB9XG4gICAgc2V0IGJhc2VUeXBlKGJhc2VUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcnRpYWxDb3VudCAmJiB0aGlzLl90eXBlICE9PSBcImN1c3RvbVwiICYmIGJhc2VUeXBlICE9PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBiYXNlVHlwZSArIHRoaXMucGFydGlhbENvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gYmFzZVR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRpYWxDb3VudDtcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxDb3VudChwKSB7XG4gICAgICAgIGFzc2VydFJhbmdlKHAsIDApO1xuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgICAgIGNvbnN0IHBhcnRpYWwgPSAvXihzaW5lfHRyaWFuZ2xlfHNxdWFyZXxzYXd0b290aCkoXFxkKykkLy5leGVjKHRoaXMuX3R5cGUpO1xuICAgICAgICBpZiAocGFydGlhbCkge1xuICAgICAgICAgICAgdHlwZSA9IHBhcnRpYWxbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgIT09IFwiY3VzdG9tXCIpIHtcbiAgICAgICAgICAgIGlmIChwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGUgKyBwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBleHRlbmQgb3Igc2hvcnRlbiB0aGUgcGFydGlhbHMgYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXJ0aWFscyA9IG5ldyBGbG9hdDMyQXJyYXkocCk7XG4gICAgICAgICAgICAvLyBjb3B5IG92ZXIgdGhlIHBhcnRpYWxzIGFycmF5XG4gICAgICAgICAgICB0aGlzLl9wYXJ0aWFscy5mb3JFYWNoKCh2LCBpKSA9PiBmdWxsUGFydGlhbHNbaV0gPSB2KTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxzID0gQXJyYXkuZnJvbShmdWxsUGFydGlhbHMpO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5fdHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByZWFsIGFuZCBpbWFnaW5hcnkgY29tcG9uZW50cyBiYXNlZFxuICAgICAqIG9uIHRoZSBvc2NpbGxhdG9yIHR5cGUuXG4gICAgICogQHJldHVybnMgW3JlYWw6IEZsb2F0MzJBcnJheSwgaW1hZ2luYXJ5OiBGbG9hdDMyQXJyYXldXG4gICAgICovXG4gICAgX2dldFJlYWxJbWFnaW5hcnkodHlwZSwgcGhhc2UpIHtcbiAgICAgICAgY29uc3QgZmZ0U2l6ZSA9IDQwOTY7XG4gICAgICAgIGxldCBwZXJpb2RpY1dhdmVTaXplID0gZmZ0U2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IHJlYWwgPSBuZXcgRmxvYXQzMkFycmF5KHBlcmlvZGljV2F2ZVNpemUpO1xuICAgICAgICBjb25zdCBpbWFnID0gbmV3IEZsb2F0MzJBcnJheShwZXJpb2RpY1dhdmVTaXplKTtcbiAgICAgICAgbGV0IHBhcnRpYWxDb3VudCA9IDE7XG4gICAgICAgIGlmICh0eXBlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICBwYXJ0aWFsQ291bnQgPSB0aGlzLl9wYXJ0aWFscy5sZW5ndGggKyAxO1xuICAgICAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gdGhpcy5fcGFydGlhbHMubGVuZ3RoO1xuICAgICAgICAgICAgcGVyaW9kaWNXYXZlU2l6ZSA9IHBhcnRpYWxDb3VudDtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJ0aWFsIGNvdW50IGlzIDAsIGRvbid0IGJvdGhlciBkb2luZyBhbnkgY29tcHV0YXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJ0aWFscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3JlYWwsIGltYWddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbCA9IC9eKHNpbmV8dHJpYW5nbGV8c3F1YXJlfHNhd3Rvb3RoKShcXGQrKSQvLmV4ZWModHlwZSk7XG4gICAgICAgICAgICBpZiAocGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxDb3VudCA9IHBhcnNlSW50KHBhcnRpYWxbMl0sIDEwKSArIDE7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gcGFyc2VJbnQocGFydGlhbFsyXSwgMTApO1xuICAgICAgICAgICAgICAgIHR5cGUgPSBwYXJ0aWFsWzFdO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxDb3VudCA9IE1hdGgubWF4KHBhcnRpYWxDb3VudCwgMik7XG4gICAgICAgICAgICAgICAgcGVyaW9kaWNXYXZlU2l6ZSA9IHBhcnRpYWxDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wYXJ0aWFscyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG4gPSAxOyBuIDwgcGVyaW9kaWNXYXZlU2l6ZTsgKytuKSB7XG4gICAgICAgICAgICBjb25zdCBwaUZhY3RvciA9IDIgLyAobiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgbGV0IGI7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2luZVwiOlxuICAgICAgICAgICAgICAgICAgICBiID0gKG4gPD0gcGFydGlhbENvdW50KSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFsc1tuIC0gMV0gPSBiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgICAgICAgICAgIGIgPSAobiAmIDEpID8gMiAqIHBpRmFjdG9yIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbHNbbiAtIDFdID0gYjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNhd3Rvb3RoXCI6XG4gICAgICAgICAgICAgICAgICAgIGIgPSBwaUZhY3RvciAqICgobiAmIDEpID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbHNbbiAtIDFdID0gYjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaWFuZ2xlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuICYgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IDIgKiAocGlGYWN0b3IgKiBwaUZhY3RvcikgKiAoKCgobiAtIDEpID4+IDEpICYgMSkgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbHNbbiAtIDFdID0gYjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImN1c3RvbVwiOlxuICAgICAgICAgICAgICAgICAgICBiID0gdGhpcy5fcGFydGlhbHNbbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT3NjaWxsYXRvcjogaW52YWxpZCB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZWFsW25dID0gLWIgKiBNYXRoLnNpbihwaGFzZSAqIG4pO1xuICAgICAgICAgICAgICAgIGltYWdbbl0gPSBiICogTWF0aC5jb3MocGhhc2UgKiBuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlYWxbbl0gPSAwO1xuICAgICAgICAgICAgICAgIGltYWdbbl0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmVhbCwgaW1hZ107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIGludmVyc2UgRkZUIGZvciBhIGdpdmVuIHBoYXNlLlxuICAgICAqL1xuICAgIF9pbnZlcnNlRkZUKHJlYWwsIGltYWcsIHBoYXNlKSB7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBjb25zdCBsZW4gPSByZWFsLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc3VtICs9IHJlYWxbaV0gKiBNYXRoLmNvcyhpICogcGhhc2UpICsgaW1hZ1tpXSAqIE1hdGguc2luKGkgKiBwaGFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGUgb3NjaWxsYXRvciB3aGVuIHN0b3BwZWQuXG4gICAgICogRS5nLiBhIFwic2luZVwiIG9zY2lsbGF0b3Igd2l0aCBwaGFzZSA9IDkwIHdvdWxkIHJldHVybiBhbiBpbml0aWFsIHZhbHVlIG9mIC0xLlxuICAgICAqL1xuICAgIGdldEluaXRpYWxWYWx1ZSgpIHtcbiAgICAgICAgY29uc3QgW3JlYWwsIGltYWddID0gdGhpcy5fZ2V0UmVhbEltYWdpbmFyeSh0aGlzLl90eXBlLCAwKTtcbiAgICAgICAgbGV0IG1heFZhbHVlID0gMDtcbiAgICAgICAgY29uc3QgdHdvUGkgPSBNYXRoLlBJICogMjtcbiAgICAgICAgY29uc3QgdGVzdFBvc2l0aW9ucyA9IDMyO1xuICAgICAgICAvLyBjaGVjayBmb3IgcGVha3MgaW4gMTYgcGxhY2VzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVzdFBvc2l0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4KHRoaXMuX2ludmVyc2VGRlQocmVhbCwgaW1hZywgKGkgLyB0ZXN0UG9zaXRpb25zKSAqIHR3b1BpKSwgbWF4VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGFtcCgtdGhpcy5faW52ZXJzZUZGVChyZWFsLCBpbWFnLCB0aGlzLl9waGFzZSkgLyBtYXhWYWx1ZSwgLTEsIDEpO1xuICAgIH1cbiAgICBnZXQgcGFydGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJ0aWFscy5zbGljZSgwLCB0aGlzLnBhcnRpYWxDb3VudCk7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFscyhwYXJ0aWFscykge1xuICAgICAgICB0aGlzLl9wYXJ0aWFscyA9IHBhcnRpYWxzO1xuICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSB0aGlzLl9wYXJ0aWFscy5sZW5ndGg7XG4gICAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwiY3VzdG9tXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGhhc2UgKiAoMTgwIC8gTWF0aC5QSSk7XG4gICAgfVxuICAgIHNldCBwaGFzZShwaGFzZSkge1xuICAgICAgICB0aGlzLl9waGFzZSA9IHBoYXNlICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgLy8gcmVzZXQgdGhlIHR5cGVcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy5fdHlwZTtcbiAgICB9XG4gICAgYXNBcnJheShsZW5ndGggPSAxMDI0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVXYXZlZm9ybSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2F2ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmRldHVuZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogQ2FjaGUgdGhlIHBlcmlvZGljIHdhdmVzIHRvIGF2b2lkIGhhdmluZyB0byByZWRvIGNvbXB1dGF0aW9uc1xuICovXG5Pc2NpbGxhdG9yLl9wZXJpb2RpY1dhdmVDYWNoZSA9IFtdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3NjaWxsYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IGNvbm5lY3RTaWduYWwgfSBmcm9tIFwiLi9TaWduYWxcIjtcbi8qKlxuICogQSBzaWduYWwgb3BlcmF0b3IgaGFzIGFuIGlucHV0IGFuZCBvdXRwdXQgYW5kIG1vZGlmaWVzIHRoZSBzaWduYWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxPcGVyYXRvciBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKG9wdGlvbnNGcm9tQXJndW1lbnRzKFNpZ25hbE9wZXJhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiY29udGV4dFwiXSkpKTtcbiAgICB9XG4gICAgY29ubmVjdChkZXN0aW5hdGlvbiwgb3V0cHV0TnVtID0gMCwgaW5wdXROdW0gPSAwKSB7XG4gICAgICAgIGNvbm5lY3RTaWduYWwodGhpcywgZGVzdGluYXRpb24sIG91dHB1dE51bSwgaW5wdXROdW0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaWduYWxPcGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24gfSBmcm9tIFwiLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4vU2lnbmFsXCI7XG5pbXBvcnQgeyBTaWduYWxPcGVyYXRvciB9IGZyb20gXCIuL1NpZ25hbE9wZXJhdG9yXCI7XG4vKipcbiAqIFdyYXBzIHRoZSBuYXRpdmUgV2ViIEF1ZGlvIEFQSVxuICogW1dhdmVTaGFwZXJOb2RlXShodHRwOi8vd2ViYXVkaW8uZ2l0aHViLmlvL3dlYi1hdWRpby1hcGkvI3RoZS13YXZlc2hhcGVybm9kZS1pbnRlcmZhY2UpLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiAvLyBtdWx0aXBseSB0aGUgb3V0cHV0IG9mIHRoZSBzaWduYWwgYnkgMiB1c2luZyB0aGUgd2F2ZXNoYXBlcidzIGZ1bmN0aW9uXG4gKiBjb25zdCB0aW1lc1R3byA9IG5ldyBUb25lLldhdmVTaGFwZXIoKHZhbCkgPT4gdmFsICogMiwgMjA0OCkuY29ubmVjdChvc2MuZnJlcXVlbmN5KTtcbiAqIGNvbnN0IHNpZ25hbCA9IG5ldyBUb25lLlNpZ25hbCg0NDApLmNvbm5lY3QodGltZXNUd28pO1xuICogQGNhdGVnb3J5IFNpZ25hbFxuICovXG5leHBvcnQgY2xhc3MgV2F2ZVNoYXBlciBleHRlbmRzIFNpZ25hbE9wZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbihvcHRpb25zRnJvbUFyZ3VtZW50cyhXYXZlU2hhcGVyLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wibWFwcGluZ1wiLCBcImxlbmd0aFwiXSkpKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJXYXZlU2hhcGVyXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgd2F2ZXNoYXBlciBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaGFwZXIgPSB0aGlzLmNvbnRleHQuY3JlYXRlV2F2ZVNoYXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlucHV0IHRvIHRoZSB3YXZlc2hhcGVyIG5vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fc2hhcGVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG91dHB1dCBmcm9tIHRoZSB3YXZlc2hhcGVyIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fc2hhcGVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoV2F2ZVNoYXBlci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcIm1hcHBpbmdcIiwgXCJsZW5ndGhcIl0pO1xuICAgICAgICBpZiAoaXNBcnJheShvcHRpb25zLm1hcHBpbmcpIHx8IG9wdGlvbnMubWFwcGluZyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5jdXJ2ZSA9IEZsb2F0MzJBcnJheS5mcm9tKG9wdGlvbnMubWFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihvcHRpb25zLm1hcHBpbmcpKSB7XG4gICAgICAgICAgICB0aGlzLnNldE1hcChvcHRpb25zLm1hcHBpbmcsIG9wdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNpZ25hbC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBsZW5ndGg6IDEwMjQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgbWFwcGluZyBmdW5jdGlvbiB0byBzZXQgdGhlIHZhbHVlIG9mIHRoZSBjdXJ2ZS5cbiAgICAgKiBAcGFyYW0gbWFwcGluZyBUaGUgZnVuY3Rpb24gdXNlZCB0byBkZWZpbmUgdGhlIHZhbHVlcy5cbiAgICAgKiAgICAgICAgICAgICAgICBUaGUgbWFwcGluZyBmdW5jdGlvbiB0YWtlIHR3byBhcmd1bWVudHM6XG4gICAgICogICAgICAgICAgICAgICAgdGhlIGZpcnN0IGlzIHRoZSB2YWx1ZSBhdCB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAqICAgICAgICAgICAgICAgIHdoaWNoIGdvZXMgZnJvbSAtMSB0byAxIG92ZXIgdGhlIG51bWJlciBvZiBlbGVtZW50c1xuICAgICAqICAgICAgICAgICAgICAgIGluIHRoZSBjdXJ2ZSBhcnJheS4gVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgYXJyYXkgcG9zaXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzaGFwZXIgPSBuZXcgVG9uZS5XYXZlU2hhcGVyKCk7XG4gICAgICogLy8gbWFwIHRoZSBpbnB1dCBzaWduYWwgZnJvbSBbLTEsIDFdIHRvIFswLCAxMF1cbiAgICAgKiBzaGFwZXIuc2V0TWFwKCh2YWwsIGluZGV4KSA9PiAodmFsICsgMSkgKiA1KTtcbiAgICAgKi9cbiAgICBzZXRNYXAobWFwcGluZywgbGVuZ3RoID0gMTAyNCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gKGkgLyAobGVuIC0gMSkpICogMiAtIDE7XG4gICAgICAgICAgICBhcnJheVtpXSA9IG1hcHBpbmcobm9ybWFsaXplZCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJ2ZSA9IGFycmF5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IHRvIHNldCBhcyB0aGUgd2F2ZXNoYXBlciBjdXJ2ZS4gRm9yIGxpbmVhciBjdXJ2ZXNcbiAgICAgKiBhcnJheSBsZW5ndGggZG9lcyBub3QgbWFrZSBtdWNoIGRpZmZlcmVuY2UsIGJ1dCBmb3IgY29tcGxleCBjdXJ2ZXNcbiAgICAgKiBsb25nZXIgYXJyYXlzIHdpbGwgcHJvdmlkZSBzbW9vdGhlciBpbnRlcnBvbGF0aW9uLlxuICAgICAqL1xuICAgIGdldCBjdXJ2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlci5jdXJ2ZTtcbiAgICB9XG4gICAgc2V0IGN1cnZlKG1hcHBpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVyLmN1cnZlID0gbWFwcGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHdoYXQgdHlwZSBvZiBvdmVyc2FtcGxpbmcgKGlmIGFueSkgc2hvdWxkIGJlIHVzZWQgd2hlblxuICAgICAqIGFwcGx5aW5nIHRoZSBzaGFwaW5nIGN1cnZlLiBDYW4gZWl0aGVyIGJlIFwibm9uZVwiLCBcIjJ4XCIgb3IgXCI0eFwiLlxuICAgICAqL1xuICAgIGdldCBvdmVyc2FtcGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hhcGVyLm92ZXJzYW1wbGU7XG4gICAgfVxuICAgIHNldCBvdmVyc2FtcGxlKG92ZXJzYW1wbGluZykge1xuICAgICAgICBjb25zdCBpc092ZXJTYW1wbGVUeXBlID0gW1wibm9uZVwiLCBcIjJ4XCIsIFwiNHhcIl0uc29tZShzdHIgPT4gc3RyLmluY2x1ZGVzKG92ZXJzYW1wbGluZykpO1xuICAgICAgICBhc3NlcnQoaXNPdmVyU2FtcGxlVHlwZSwgXCJvdmVyc2FtcGxpbmcgbXVzdCBiZSBlaXRoZXIgJ25vbmUnLCAnMngnLCBvciAnNHgnXCIpO1xuICAgICAgICB0aGlzLl9zaGFwZXIub3ZlcnNhbXBsZSA9IG92ZXJzYW1wbGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zaGFwZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XYXZlU2hhcGVyLmpzLm1hcCIsImltcG9ydCB7IFNpZ25hbE9wZXJhdG9yIH0gZnJvbSBcIi4vU2lnbmFsT3BlcmF0b3JcIjtcbmltcG9ydCB7IFdhdmVTaGFwZXIgfSBmcm9tIFwiLi9XYXZlU2hhcGVyXCI7XG4vKipcbiAqIEF1ZGlvVG9HYWluIGNvbnZlcnRzIGFuIGlucHV0IGluIEF1ZGlvUmFuZ2UgWy0xLDFdIHRvIE5vcm1hbFJhbmdlIFswLDFdLlxuICogU2VlIFtbR2FpblRvQXVkaW9dXS5cbiAqIEBjYXRlZ29yeSBTaWduYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEF1ZGlvVG9HYWluIGV4dGVuZHMgU2lnbmFsT3BlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1ZGlvVG9HYWluXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbm9kZSB3aGljaCBjb252ZXJ0cyB0aGUgYXVkaW8gcmFuZ2VzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ub3JtID0gbmV3IFdhdmVTaGFwZXIoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgbWFwcGluZzogeCA9PiAoeCArIDEpIC8gMixcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgQXVkaW9SYW5nZSBpbnB1dCBbLTEsIDFdXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fbm9ybTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBHYWluUmFuZ2Ugb3V0cHV0IFswLCAxXVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdXRwdXQgPSB0aGlzLl9ub3JtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbm9ybS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1ZGlvVG9HYWluLmpzLm1hcCIsImltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4vU2lnbmFsXCI7XG4vKipcbiAqIE11bHRpcGx5IHR3byBpbmNvbWluZyBzaWduYWxzLiBPciwgaWYgYSBudW1iZXIgaXMgZ2l2ZW4gaW4gdGhlIGNvbnN0cnVjdG9yLFxuICogbXVsdGlwbGllcyB0aGUgaW5jb21pbmcgc2lnbmFsIGJ5IHRoYXQgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIG11bHRpcGx5IHR3byBzaWduYWxzXG4gKiBjb25zdCBtdWx0ID0gbmV3IFRvbmUuTXVsdGlwbHkoKTtcbiAqIGNvbnN0IHNpZ0EgPSBuZXcgVG9uZS5TaWduYWwoMyk7XG4gKiBjb25zdCBzaWdCID0gbmV3IFRvbmUuU2lnbmFsKDQpO1xuICogc2lnQS5jb25uZWN0KG11bHQpO1xuICogc2lnQi5jb25uZWN0KG11bHQuZmFjdG9yKTtcbiAqIC8vIG91dHB1dCBvZiBtdWx0IGlzIDEyLlxuICogQGV4YW1wbGVcbiAqIC8vIG11bHRpcGx5IGEgc2lnbmFsIGFuZCBhIG51bWJlclxuICogY29uc3QgbXVsdCA9IG5ldyBUb25lLk11bHRpcGx5KDEwKTtcbiAqIGNvbnN0IHNpZyA9IG5ldyBUb25lLlNpZ25hbCgyKS5jb25uZWN0KG11bHQpO1xuICogLy8gdGhlIG91dHB1dCBvZiBtdWx0IGlzIDIwLlxuICogQGNhdGVnb3J5IFNpZ25hbFxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwbHkgZXh0ZW5kcyBTaWduYWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKG9wdGlvbnNGcm9tQXJndW1lbnRzKE11bHRpcGx5LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIl0pKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTXVsdGlwbHlcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgdmFsdWUgc2hvdWxkIGJlIG92ZXJyaWRkZW4gb24gY29ubmVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdmVycmlkZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoTXVsdGlwbHkuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIHRoaXMuX211bHQgPSB0aGlzLmlucHV0ID0gdGhpcy5vdXRwdXQgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBtaW5WYWx1ZTogb3B0aW9ucy5taW5WYWx1ZSxcbiAgICAgICAgICAgIG1heFZhbHVlOiBvcHRpb25zLm1heFZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mYWN0b3IgPSB0aGlzLl9wYXJhbSA9IHRoaXMuX211bHQuZ2FpbjtcbiAgICAgICAgdGhpcy5mYWN0b3Iuc2V0VmFsdWVBdFRpbWUob3B0aW9ucy52YWx1ZSwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oU2lnbmFsLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9tdWx0LmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlwbHkuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IEF1ZGlvVG9HYWluIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9BdWRpb1RvR2FpblwiO1xuaW1wb3J0IHsgTXVsdGlwbHkgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL011bHRpcGx5XCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vU291cmNlXCI7XG5pbXBvcnQgeyBPc2NpbGxhdG9yIH0gZnJvbSBcIi4vT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVXYXZlZm9ybSB9IGZyb20gXCIuL09zY2lsbGF0b3JJbnRlcmZhY2VcIjtcbi8qKlxuICogQW4gYW1wbGl0dWRlIG1vZHVsYXRlZCBvc2NpbGxhdG9yIG5vZGUuIEl0IGlzIGltcGxlbWVudGVkIHdpdGhcbiAqIHR3byBvc2NpbGxhdG9ycywgb25lIHdoaWNoIG1vZHVsYXRvcnMgdGhlIG90aGVyJ3MgYW1wbGl0dWRlXG4gKiB0aHJvdWdoIGEgZ2FpbiBub2RlLlxuICogYGBgXG4gKiAgICArLS0tLS0tLS0tLS0tLSsgICAgICAgKy0tLS0tLS0tLS0rXG4gKiAgICB8IENhcnJpZXIgT3NjICs+LS0tLS0tPiBHYWluTm9kZSB8XG4gKiAgICArLS0tLS0tLS0tLS0tLSsgICAgICAgfCAgICAgICAgICArLS0tPk91dHB1dFxuICogICAgICAgICAgICAgICAgICAgICAgKy0tLT4gZ2FpbiAgICAgfFxuICogKy0tLS0tLS0tLS0tLS0tLSsgICAgfCAgICstLS0tLS0tLS0tK1xuICogfCBNb2R1bGF0b3IgT3NjICs+LS0tK1xuICogKy0tLS0tLS0tLS0tLS0tLStcbiAqIGBgYFxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogXHRjb25zdCBhbU9zYyA9IG5ldyBUb25lLkFNT3NjaWxsYXRvcigzMCwgXCJzaW5lXCIsIFwic3F1YXJlXCIpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogfSwgMC4yLCAxKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEFNT3NjaWxsYXRvciBleHRlbmRzIFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKEFNT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIiwgXCJtb2R1bGF0aW9uVHlwZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFNT3NjaWxsYXRvclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogY29udmVydCB0aGUgLTEsMSBvdXRwdXQgdG8gMCwxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uU2NhbGUgPSBuZXcgQXVkaW9Ub0dhaW4oeyBjb250ZXh0OiB0aGlzLmNvbnRleHQgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgbm9kZSB3aGVyZSB0aGUgbW9kdWxhdGlvbiBoYXBwZW5zXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uTm9kZSA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhBTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCIsIFwibW9kdWxhdGlvblR5cGVcIl0pO1xuICAgICAgICB0aGlzLl9jYXJyaWVyID0gbmV3IE9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZGV0dW5lOiBvcHRpb25zLmRldHVuZSxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgICAgICBvbnN0b3A6ICgpID0+IHRoaXMub25zdG9wKHRoaXMpLFxuICAgICAgICAgICAgcGhhc2U6IG9wdGlvbnMucGhhc2UsXG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5LFxuICAgICAgICAgICAgdGhpcy5kZXR1bmUgPSB0aGlzLl9jYXJyaWVyLmRldHVuZTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yID0gbmV3IE9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGhhc2U6IG9wdGlvbnMucGhhc2UsXG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLm1vZHVsYXRpb25UeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYXJtb25pY2l0eSA9IG5ldyBNdWx0aXBseSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJwb3NpdGl2ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuaGFybW9uaWNpdHksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb25uZWN0aW9uc1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLmhhcm1vbmljaXR5LCB0aGlzLl9tb2R1bGF0b3IuZnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLmNoYWluKHRoaXMuX21vZHVsYXRpb25TY2FsZSwgdGhpcy5fbW9kdWxhdGlvbk5vZGUuZ2Fpbik7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuY2hhaW4odGhpcy5fbW9kdWxhdGlvbk5vZGUsIHRoaXMub3V0cHV0KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCIsIFwiaGFybW9uaWNpdHlcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgaGFybW9uaWNpdHk6IDEsXG4gICAgICAgICAgICBtb2R1bGF0aW9uVHlwZTogXCJzcXVhcmVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnN0YXJ0KHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdG9wIHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0b3AodGltZSkge1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3Iuc3RvcCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5zdG9wKHRpbWUpO1xuICAgIH1cbiAgICBfcmVzdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5yZXN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnJlc3RhcnQodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBjYXJyaWVyIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIudHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLmJhc2VUeXBlO1xuICAgIH1cbiAgICBzZXQgYmFzZVR5cGUoYmFzZVR5cGUpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci5iYXNlVHlwZSA9IGJhc2VUeXBlO1xuICAgIH1cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFsQ291bnQ7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFsQ291bnQocGFydGlhbENvdW50KSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50ID0gcGFydGlhbENvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgbW9kdWxhdG9yIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBnZXQgbW9kdWxhdGlvblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGF0b3IudHlwZTtcbiAgICB9XG4gICAgc2V0IG1vZHVsYXRpb25UeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBnZXQgcGhhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLnBoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci5waGFzZSA9IHBoYXNlO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IucGhhc2UgPSBwaGFzZTtcbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFscztcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxzKHBhcnRpYWxzKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGFydGlhbHMgPSBwYXJ0aWFscztcbiAgICB9XG4gICAgYXNBcnJheShsZW5ndGggPSAxMDI0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVXYXZlZm9ybSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGV0dW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uTm9kZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRpb25TY2FsZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFNT3NjaWxsYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgTXVsdGlwbHkgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL011bHRpcGx5XCI7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL1NpZ25hbFwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgT3NjaWxsYXRvciB9IGZyb20gXCIuL09zY2lsbGF0b3JcIjtcbmltcG9ydCB7IGdlbmVyYXRlV2F2ZWZvcm0gfSBmcm9tIFwiLi9Pc2NpbGxhdG9ySW50ZXJmYWNlXCI7XG4vKipcbiAqIEZNT3NjaWxsYXRvciBpbXBsZW1lbnRzIGEgZnJlcXVlbmN5IG1vZHVsYXRpb24gc3ludGhlc2lzXG4gKiBgYGBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tK1xuICogKy0tLS0tLS0tLS0tLS0tLSsgICAgICAgICstLS0tLS0tLS0tLS0tKyAgICAgfCBDYXJyaWVyIE9zYyB8XG4gKiB8IE1vZHVsYXRvciBPc2MgKz4tLS0tLS0tPiBHYWluTm9kZSAgICB8ICAgICB8ICAgICAgICAgICAgICstLS0+T3V0cHV0XG4gKiArLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgfCAgICAgICAgICAgICArPi0tLS0+IGZyZXF1ZW5jeSAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICArLS0+IGdhaW4gICAgICAgIHwgICAgICstLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgIHwgICstLS0tLS0tLS0tLS0tK1xuICogKy0tLS0tLS0tLS0tLS0tLS0tKyAgIHxcbiAqIHwgbW9kdWxhdGlvbkluZGV4ICs+LS0rXG4gKiArLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiBcdGNvbnN0IGZtT3NjID0gbmV3IFRvbmUuRk1Pc2NpbGxhdG9yKHtcbiAqIFx0XHRmcmVxdWVuY3k6IDIwMCxcbiAqIFx0XHR0eXBlOiBcInNxdWFyZVwiLFxuICogXHRcdG1vZHVsYXRpb25UeXBlOiBcInRyaWFuZ2xlXCIsXG4gKiBcdFx0aGFybW9uaWNpdHk6IDAuMixcbiAqIFx0XHRtb2R1bGF0aW9uSW5kZXg6IDNcbiAqIFx0fSkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiB9LCAwLjEsIDEpO1xuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgRk1Pc2NpbGxhdG9yIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoRk1Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiLCBcIm1vZHVsYXRpb25UeXBlXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRk1Pc2NpbGxhdG9yXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgbm9kZSB3aGVyZSB0aGUgbW9kdWxhdGlvbiBoYXBwZW5zXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uTm9kZSA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGdhaW46IDAsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoRk1Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiLCBcIm1vZHVsYXRpb25UeXBlXCJdKTtcbiAgICAgICAgdGhpcy5fY2FycmllciA9IG5ldyBPc2NpbGxhdG9yKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGRldHVuZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDAsXG4gICAgICAgICAgICBvbnN0b3A6ICgpID0+IHRoaXMub25zdG9wKHRoaXMpLFxuICAgICAgICAgICAgcGhhc2U6IG9wdGlvbnMucGhhc2UsXG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldHVuZSA9IHRoaXMuX2NhcnJpZXIuZGV0dW5lO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IG5ldyBTaWduYWwoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdW5pdHM6IFwiZnJlcXVlbmN5XCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IgPSBuZXcgT3NjaWxsYXRvcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwaGFzZTogb3B0aW9ucy5waGFzZSxcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMubW9kdWxhdGlvblR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhcm1vbmljaXR5ID0gbmV3IE11bHRpcGx5KHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcInBvc2l0aXZlXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5oYXJtb25pY2l0eSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kdWxhdGlvbkluZGV4ID0gbmV3IE11bHRpcGx5KHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcInBvc2l0aXZlXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5tb2R1bGF0aW9uSW5kZXgsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb25uZWN0aW9uc1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuY2hhaW4odGhpcy5oYXJtb25pY2l0eSwgdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMubW9kdWxhdGlvbkluZGV4LCB0aGlzLl9tb2R1bGF0aW9uTm9kZSk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5jb25uZWN0KHRoaXMuX21vZHVsYXRpb25Ob2RlLmdhaW4pO1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uTm9kZS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgdGhpcy5kZXR1bmUuY29ubmVjdCh0aGlzLl9tb2R1bGF0b3IuZGV0dW5lKTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wibW9kdWxhdGlvbkluZGV4XCIsIFwiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCIsIFwiaGFybW9uaWNpdHlcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgaGFybW9uaWNpdHk6IDEsXG4gICAgICAgICAgICBtb2R1bGF0aW9uSW5kZXg6IDIsXG4gICAgICAgICAgICBtb2R1bGF0aW9uVHlwZTogXCJzcXVhcmVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnN0YXJ0KHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdG9wIHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0b3AodGltZSkge1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3Iuc3RvcCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5zdG9wKHRpbWUpO1xuICAgIH1cbiAgICBfcmVzdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5yZXN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnJlc3RhcnQodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIudHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLmJhc2VUeXBlO1xuICAgIH1cbiAgICBzZXQgYmFzZVR5cGUoYmFzZVR5cGUpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci5iYXNlVHlwZSA9IGJhc2VUeXBlO1xuICAgIH1cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFsQ291bnQ7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFsQ291bnQocGFydGlhbENvdW50KSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50ID0gcGFydGlhbENvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgbW9kdWxhdG9yIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBnZXQgbW9kdWxhdGlvblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGF0b3IudHlwZTtcbiAgICB9XG4gICAgc2V0IG1vZHVsYXRpb25UeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBnZXQgcGhhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLnBoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci5waGFzZSA9IHBoYXNlO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IucGhhc2UgPSBwaGFzZTtcbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFscztcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxzKHBhcnRpYWxzKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGFydGlhbHMgPSBwYXJ0aWFscztcbiAgICB9XG4gICAgYXNBcnJheShsZW5ndGggPSAxMDI0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVXYXZlZm9ybSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaGFybW9uaWNpdHkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvbk5vZGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1vZHVsYXRpb25JbmRleC5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZNT3NjaWxsYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IFdhdmVTaGFwZXIgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL1dhdmVTaGFwZXJcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9Tb3VyY2VcIjtcbmltcG9ydCB7IE9zY2lsbGF0b3IgfSBmcm9tIFwiLi9Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVdhdmVmb3JtIH0gZnJvbSBcIi4vT3NjaWxsYXRvckludGVyZmFjZVwiO1xuLyoqXG4gKiBQdWxzZU9zY2lsbGF0b3IgaXMgYW4gb3NjaWxsYXRvciB3aXRoIGNvbnRyb2wgb3ZlciBwdWxzZSB3aWR0aCxcbiAqIGFsc28ga25vd24gYXMgdGhlIGR1dHkgY3ljbGUuIEF0IDUwJSBkdXR5IGN5Y2xlICh3aWR0aCA9IDApIHRoZSB3YXZlIGlzXG4gKiBhIHNxdWFyZSB3YXZlLlxuICogW1JlYWQgbW9yZV0oaHR0cHM6Ly93aWdnbGV3YXZlLndvcmRwcmVzcy5jb20vMjAxNC8wOC8xNi9wdWxzZS13YXZlZm9ybXMtYW5kLWhhcm1vbmljcy8pLlxuICogYGBgXG4gKiAgICB3aWR0aCA9IC0wLjI1ICAgICAgICB3aWR0aCA9IDAuMCAgICAgICAgICB3aWR0aCA9IDAuMjVcbiAqXG4gKiAgICstLS0tLSsgICAgICAgICAgICArLS0tLS0tLSsgICAgICAgKyAgICArLS0tLS0tLSsgICAgICstK1xuICogICB8ICAgICB8ICAgICAgICAgICAgfCAgICAgICB8ICAgICAgIHwgICAgICAgICAgICB8ICAgICB8XG4gKiAgIHwgICAgIHwgICAgICAgICAgICB8ICAgICAgIHwgICAgICAgfCAgICAgICAgICAgIHwgICAgIHxcbiAqICstKyAgICAgKy0tLS0tLS0rICAgICsgICAgICAgKy0tLS0tLS0rICAgICAgICAgICAgKy0tLS0tK1xuICpcbiAqXG4gKiAgICB3aWR0aCA9IC0wLjUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDAuNVxuICpcbiAqICAgICArLS0tKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKyAgICstLS0rXG4gKiAgICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiArLS0tKyAgICstLS0tLS0tKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0rXG4gKlxuICpcbiAqICAgIHdpZHRoID0gLTAuNzUgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMC43NVxuICpcbiAqICAgICAgICstKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKyArLS0tLS0rXG4gKiAgICAgICB8IHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfFxuICogICAgICAgfCB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHxcbiAqICstLS0tLSsgKy0tLS0tLS0rICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKy0rXG4gKiBgYGBcbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3QgcHVsc2UgPSBuZXcgVG9uZS5QdWxzZU9zY2lsbGF0b3IoNTAsIDAuNCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiB9LCAwLjEsIDEpO1xuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgUHVsc2VPc2NpbGxhdG9yIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoUHVsc2VPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwid2lkdGhcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQdWxzZU9zY2lsbGF0b3JcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdhdGUgdGhlIHdpZHRoIGFtb3VudFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGhHYXRlID0gbmV3IEdhaW4oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZ2FpbjogMCxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaHJlc2hvbGQgdGhlIHNpZ25hbCB0byB0dXJuIGl0IGludG8gYSBzcXVhcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RocmVzaCA9IG5ldyBXYXZlU2hhcGVyKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIG1hcHBpbmc6IHZhbCA9PiB2YWwgPD0gMCA/IC0xIDogMSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhQdWxzZU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ3aWR0aFwiXSk7XG4gICAgICAgIHRoaXMud2lkdGggPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImF1ZGlvUmFuZ2VcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLndpZHRoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUgPSBuZXcgT3NjaWxsYXRvcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBkZXR1bmU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgICAgIG9uc3RvcDogKCkgPT4gdGhpcy5vbnN0b3AodGhpcyksXG4gICAgICAgICAgICBwaGFzZTogb3B0aW9ucy5waGFzZSxcbiAgICAgICAgICAgIHR5cGU6IFwidHJpYW5nbGVcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gdGhpcy5fdHJpYW5nbGUuZnJlcXVlbmN5O1xuICAgICAgICB0aGlzLmRldHVuZSA9IHRoaXMuX3RyaWFuZ2xlLmRldHVuZTtcbiAgICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUuY2hhaW4odGhpcy5fdGhyZXNoLCB0aGlzLm91dHB1dCk7XG4gICAgICAgIHRoaXMud2lkdGguY2hhaW4odGhpcy5fd2lkdGhHYXRlLCB0aGlzLl90aHJlc2gpO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJ3aWR0aFwiLCBcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiXSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oU291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogNDQwLFxuICAgICAgICAgICAgcGhhc2U6IDAsXG4gICAgICAgICAgICB0eXBlOiBcInB1bHNlXCIsXG4gICAgICAgICAgICB3aWR0aDogMC4yLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RhcnQodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlLnN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl93aWR0aEdhdGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLCB0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl90cmlhbmdsZS5zdG9wKHRpbWUpO1xuICAgICAgICAvLyB0aGUgd2lkdGggaXMgc3RpbGwgY29ubmVjdGVkIHRvIHRoZSBvdXRwdXQuXG4gICAgICAgIC8vIHRoYXQgbmVlZHMgdG8gYmUgc3RvcHBlZCBhbHNvXG4gICAgICAgIHRoaXMuX3dpZHRoR2F0ZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fd2lkdGhHYXRlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgdGltZSk7XG4gICAgfVxuICAgIF9yZXN0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUucmVzdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fd2lkdGhHYXRlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRpbWUpO1xuICAgICAgICB0aGlzLl93aWR0aEdhdGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLCB0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBoYXNlIG9mIHRoZSBvc2NpbGxhdG9yIGluIGRlZ3JlZXMuXG4gICAgICovXG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJpYW5nbGUucGhhc2U7XG4gICAgfVxuICAgIHNldCBwaGFzZShwaGFzZSkge1xuICAgICAgICB0aGlzLl90cmlhbmdsZS5waGFzZSA9IHBoYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb3NjaWxsYXRvci4gQWx3YXlzIHJldHVybnMgXCJwdWxzZVwiLlxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gXCJwdWxzZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZVR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIEFsd2F5cyByZXR1cm5zIFwicHVsc2VcIi5cbiAgICAgKi9cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInB1bHNlXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJ0aWFscyBvZiB0aGUgd2F2ZWZvcm0uIENhbm5vdCBzZXQgcGFydGlhbHMgZm9yIHRoaXMgd2F2ZWZvcm0gdHlwZVxuICAgICAqL1xuICAgIGdldCBwYXJ0aWFscygpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBObyBwYXJ0aWFscyBmb3IgdGhpcyB3YXZlZm9ybSB0eXBlLlxuICAgICAqL1xuICAgIGdldCBwYXJ0aWFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAqSW50ZXJuYWwgdXNlKiBUaGUgY2FycmllciBvc2NpbGxhdG9yIHR5cGUgaXMgZmVkIHRocm91Z2ggdGhlXG4gICAgICogd2F2ZXNoYXBlciBub2RlIHRvIGNyZWF0ZSB0aGUgcHVsc2UuIFVzaW5nIGRpZmZlcmVudCBjYXJyaWVyIG9zY2lsbGF0b3JzXG4gICAgICogY2hhbmdlcyBvc2NpbGxhdG9yJ3MgYmVoYXZpb3IuXG4gICAgICovXG4gICAgc2V0IGNhcnJpZXJUeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIG1ldGhvZC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy53aWR0aC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3dpZHRoR2F0ZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3RocmVzaC5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1bHNlT3NjaWxsYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgbm9PcCwgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9Tb3VyY2VcIjtcbmltcG9ydCB7IE9zY2lsbGF0b3IgfSBmcm9tIFwiLi9Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVdhdmVmb3JtIH0gZnJvbSBcIi4vT3NjaWxsYXRvckludGVyZmFjZVwiO1xuaW1wb3J0IHsgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlYnVnXCI7XG4vKipcbiAqIEZhdE9zY2lsbGF0b3IgaXMgYW4gYXJyYXkgb2Ygb3NjaWxsYXRvcnMgd2l0aCBkZXR1bmUgc3ByZWFkIGJldHdlZW4gdGhlIG9zY2lsbGF0b3JzXG4gKiBAZXhhbXBsZVxuICogY29uc3QgZmF0T3NjID0gbmV3IFRvbmUuRmF0T3NjaWxsYXRvcihcIkFiM1wiLCBcInNhd3Rvb3RoXCIsIDQwKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEZhdE9zY2lsbGF0b3IgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhGYXRPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiLCBcInNwcmVhZFwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZhdE9zY2lsbGF0b3JcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBvc2NpbGxhdG9yc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvcnMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKEZhdE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCIsIFwic3ByZWFkXCJdKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImZyZXF1ZW5jeVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImNlbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zcHJlYWQgPSBvcHRpb25zLnNwcmVhZDtcbiAgICAgICAgdGhpcy5fdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgdGhpcy5fcGhhc2UgPSBvcHRpb25zLnBoYXNlO1xuICAgICAgICB0aGlzLl9wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IG9wdGlvbnMucGFydGlhbENvdW50O1xuICAgICAgICAvLyBzZXQgdGhlIGNvdW50IGluaXRpYWxseVxuICAgICAgICB0aGlzLmNvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGNvdW50OiAzLFxuICAgICAgICAgICAgc3ByZWFkOiAyMCxcbiAgICAgICAgICAgIHR5cGU6IFwic2F3dG9vdGhcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2Muc3RhcnQodGltZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdG9wIHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0b3AodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5zdG9wKHRpbWUpKTtcbiAgICB9XG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MucmVzdGFydCh0aW1lKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbGwgb2YgdGhlIG9zY2lsbGF0b3JzXG4gICAgICovXG4gICAgX2ZvckVhY2goaXRlcmF0b3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlcmF0b3IodGhpcy5fb3NjaWxsYXRvcnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICBzZXQgdHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MudHlwZSA9IHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGV0dW5lIHNwcmVhZCBiZXR3ZWVuIHRoZSBvc2NpbGxhdG9ycy4gSWYgXCJjb3VudFwiIGlzXG4gICAgICogc2V0IHRvIDMgb3NjaWxsYXRvcnMgYW5kIHRoZSBcInNwcmVhZFwiIGlzIHNldCB0byA0MCxcbiAgICAgKiB0aGUgdGhyZWUgb3NjaWxsYXRvcnMgd291bGQgYmUgZGV0dW5lZCBsaWtlIHRoaXM6IFstMjAsIDAsIDIwXVxuICAgICAqIGZvciBhIHRvdGFsIGRldHVuZSBzcHJlYWQgb2YgNDAgY2VudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBmYXRPc2MgPSBuZXcgVG9uZS5GYXRPc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gICAgICogZmF0T3NjLnNwcmVhZCA9IDcwO1xuICAgICAqL1xuICAgIGdldCBzcHJlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcHJlYWQ7XG4gICAgfVxuICAgIHNldCBzcHJlYWQoc3ByZWFkKSB7XG4gICAgICAgIHRoaXMuX3NwcmVhZCA9IHNwcmVhZDtcbiAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gLXNwcmVhZCAvIDI7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gc3ByZWFkIC8gKHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaCgob3NjLCBpKSA9PiBvc2MuZGV0dW5lLnZhbHVlID0gc3RhcnQgKyBzdGVwICogaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBkZXR1bmVkIG9zY2lsbGF0b3JzLiBNdXN0IGJlIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIDEuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBmYXRPc2MgPSBuZXcgVG9uZS5GYXRPc2NpbGxhdG9yKFwiQyMzXCIsIFwic2F3dG9vdGhcIikudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gICAgICogLy8gdXNlIDQgc2F3dG9vdGggb3NjaWxsYXRvcnNcbiAgICAgKiBmYXRPc2MuY291bnQgPSA0O1xuICAgICAqL1xuICAgIGdldCBjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aDtcbiAgICB9XG4gICAgc2V0IGNvdW50KGNvdW50KSB7XG4gICAgICAgIGFzc2VydFJhbmdlKGNvdW50LCAxKTtcbiAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aCAhPT0gY291bnQpIHtcbiAgICAgICAgICAgIC8vIGRpc3Bvc2UgdGhlIHByZXZpb3VzIG9zY2lsbGF0b3JzXG4gICAgICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MuZGlzcG9zZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvc2MgPSBuZXcgT3NjaWxsYXRvcih7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAtNiAtIGNvdW50ICogMS4xLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLl90eXBlLFxuICAgICAgICAgICAgICAgICAgICBwaGFzZTogdGhpcy5fcGhhc2UgKyAoaSAvIGNvdW50KSAqIDM2MCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbENvdW50OiB0aGlzLl9wYXJ0aWFsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIG9uc3RvcDogaSA9PT0gMCA/ICgpID0+IHRoaXMub25zdG9wKHRoaXMpIDogbm9PcCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG9zYy5wYXJ0aWFscyA9IHRoaXMuX3BhcnRpYWxzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KG9zYy5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0dW5lLmNvbm5lY3Qob3NjLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgb3NjLmRldHVuZS5vdmVycmlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3NjLmNvbm5lY3QodGhpcy5vdXRwdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JzW2ldID0gb3NjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHRoZSBzcHJlYWRcbiAgICAgICAgICAgIHRoaXMuc3ByZWFkID0gdGhpcy5fc3ByZWFkO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLnN0YXJ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBwaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fcGhhc2UgPSBwaGFzZTtcbiAgICAgICAgdGhpcy5fZm9yRWFjaCgob3NjLCBpKSA9PiBvc2MucGhhc2UgPSB0aGlzLl9waGFzZSArIChpIC8gdGhpcy5jb3VudCkgKiAzNjApO1xuICAgIH1cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5iYXNlVHlwZTtcbiAgICB9XG4gICAgc2V0IGJhc2VUeXBlKGJhc2VUeXBlKSB7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5iYXNlVHlwZSA9IGJhc2VUeXBlKTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHRoaXMuX29zY2lsbGF0b3JzWzBdLnR5cGU7XG4gICAgfVxuICAgIGdldCBwYXJ0aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3JzWzBdLnBhcnRpYWxzO1xuICAgIH1cbiAgICBzZXQgcGFydGlhbHMocGFydGlhbHMpIHtcbiAgICAgICAgdGhpcy5fcGFydGlhbHMgPSBwYXJ0aWFscztcbiAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gdGhpcy5fcGFydGlhbHMubGVuZ3RoO1xuICAgICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gXCJjdXN0b21cIjtcbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5wYXJ0aWFscyA9IHBhcnRpYWxzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnNbMF0ucGFydGlhbENvdW50O1xuICAgIH1cbiAgICBzZXQgcGFydGlhbENvdW50KHBhcnRpYWxDb3VudCkge1xuICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSBwYXJ0aWFsQ291bnQ7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5wYXJ0aWFsQ291bnQgPSBwYXJ0aWFsQ291bnQpO1xuICAgICAgICB0aGlzLl90eXBlID0gdGhpcy5fb3NjaWxsYXRvcnNbMF0udHlwZTtcbiAgICB9XG4gICAgYXNBcnJheShsZW5ndGggPSAxMDI0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVXYXZlZm9ybSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGV0dW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLmRpc3Bvc2UoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhdE9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE11bHRpcGx5IH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9NdWx0aXBseVwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgT3NjaWxsYXRvciB9IGZyb20gXCIuL09zY2lsbGF0b3JcIjtcbmltcG9ydCB7IGdlbmVyYXRlV2F2ZWZvcm0gfSBmcm9tIFwiLi9Pc2NpbGxhdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBQdWxzZU9zY2lsbGF0b3IgfSBmcm9tIFwiLi9QdWxzZU9zY2lsbGF0b3JcIjtcbi8qKlxuICogUFdNT3NjaWxsYXRvciBtb2R1bGF0ZXMgdGhlIHdpZHRoIG9mIGEgVG9uZS5QdWxzZU9zY2lsbGF0b3JcbiAqIGF0IHRoZSBtb2R1bGF0aW9uRnJlcXVlbmN5LiBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mIGNvbnRpbnVvdXNseVxuICogY2hhbmdpbmcgdGhlIHRpbWJyZSBvZiB0aGUgb3NjaWxsYXRvciBieSBhbHRlcmluZyB0aGUgaGFybW9uaWNzXG4gKiBnZW5lcmF0ZWQuXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiBcdGNvbnN0IHB3bSA9IG5ldyBUb25lLlBXTU9zY2lsbGF0b3IoNjAsIDAuMykudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiB9LCAwLjEsIDEpO1xuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgUFdNT3NjaWxsYXRvciBleHRlbmRzIFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFBXTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJtb2R1bGF0aW9uRnJlcXVlbmN5XCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUFdNT3NjaWxsYXRvclwiO1xuICAgICAgICB0aGlzLnNvdXJjZVR5cGUgPSBcInB3bVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgdGhlIG9zY2lsbGF0b3Igc28gaXQgZG9lc24ndCBnbyBzaWxlbnRcbiAgICAgICAgICogYXQgdGhlIGV4dHJlbWUgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2NhbGUgPSBuZXcgTXVsdGlwbHkoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoUFdNT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcIm1vZHVsYXRpb25GcmVxdWVuY3lcIl0pO1xuICAgICAgICB0aGlzLl9wdWxzZSA9IG5ldyBQdWxzZU9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBvcHRpb25zLm1vZHVsYXRpb25GcmVxdWVuY3ksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjaGFuZ2UgdGhlIHB1bHNlIG9zY2lsbGF0b3IgdHlwZVxuICAgICAgICB0aGlzLl9wdWxzZS5jYXJyaWVyVHlwZSA9IFwic2luZVwiO1xuICAgICAgICB0aGlzLm1vZHVsYXRpb25GcmVxdWVuY3kgPSB0aGlzLl9wdWxzZS5mcmVxdWVuY3k7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvciA9IG5ldyBPc2NpbGxhdG9yKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGRldHVuZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICAgICAgb25zdG9wOiAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKSxcbiAgICAgICAgICAgIHBoYXNlOiBvcHRpb25zLnBoYXNlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSB0aGlzLl9tb2R1bGF0b3IuZnJlcXVlbmN5O1xuICAgICAgICB0aGlzLmRldHVuZSA9IHRoaXMuX21vZHVsYXRvci5kZXR1bmU7XG4gICAgICAgIC8vIGNvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5jaGFpbih0aGlzLl9zY2FsZSwgdGhpcy5fcHVsc2Uud2lkdGgpO1xuICAgICAgICB0aGlzLl9wdWxzZS5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wibW9kdWxhdGlvbkZyZXF1ZW5jeVwiLCBcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiXSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oU291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogNDQwLFxuICAgICAgICAgICAgbW9kdWxhdGlvbkZyZXF1ZW5jeTogMC40LFxuICAgICAgICAgICAgcGhhc2U6IDAsXG4gICAgICAgICAgICB0eXBlOiBcInB3bVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RhcnQodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5zdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fcHVsc2Uuc3RhcnQodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0b3AgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RvcCh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnN0b3AodGltZSk7XG4gICAgICAgIHRoaXMuX3B1bHNlLnN0b3AodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfcmVzdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5yZXN0YXJ0KHRpbWUpO1xuICAgICAgICB0aGlzLl9wdWxzZS5yZXN0YXJ0KHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb3NjaWxsYXRvci4gQWx3YXlzIHJldHVybnMgXCJwd21cIi5cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicHdtXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlVHlwZSBvZiB0aGUgb3NjaWxsYXRvci4gQWx3YXlzIHJldHVybnMgXCJwd21cIi5cbiAgICAgKi9cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInB3bVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydGlhbHMgb2YgdGhlIHdhdmVmb3JtLiBDYW5ub3Qgc2V0IHBhcnRpYWxzIGZvciB0aGlzIHdhdmVmb3JtIHR5cGVcbiAgICAgKi9cbiAgICBnZXQgcGFydGlhbHMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm8gcGFydGlhbHMgZm9yIHRoaXMgd2F2ZWZvcm0gdHlwZS5cbiAgICAgKi9cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBoYXNlIG9mIHRoZSBvc2NpbGxhdG9yIGluIGRlZ3JlZXMuXG4gICAgICovXG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kdWxhdG9yLnBoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnBoYXNlID0gcGhhc2U7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcHVsc2UuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zY2FsZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBXTU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGlzTnVtYmVyLCBpc1N0cmluZyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL1NpZ25hbFwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgQU1Pc2NpbGxhdG9yIH0gZnJvbSBcIi4vQU1Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBGYXRPc2NpbGxhdG9yIH0gZnJvbSBcIi4vRmF0T3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgRk1Pc2NpbGxhdG9yIH0gZnJvbSBcIi4vRk1Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBPc2NpbGxhdG9yIH0gZnJvbSBcIi4vT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVXYXZlZm9ybSB9IGZyb20gXCIuL09zY2lsbGF0b3JJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFB1bHNlT3NjaWxsYXRvciB9IGZyb20gXCIuL1B1bHNlT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgUFdNT3NjaWxsYXRvciB9IGZyb20gXCIuL1BXTU9zY2lsbGF0b3JcIjtcbmNvbnN0IE9tbmlPc2NpbGxhdG9yU291cmNlTWFwID0ge1xuICAgIGFtOiBBTU9zY2lsbGF0b3IsXG4gICAgZmF0OiBGYXRPc2NpbGxhdG9yLFxuICAgIGZtOiBGTU9zY2lsbGF0b3IsXG4gICAgb3NjaWxsYXRvcjogT3NjaWxsYXRvcixcbiAgICBwdWxzZTogUHVsc2VPc2NpbGxhdG9yLFxuICAgIHB3bTogUFdNT3NjaWxsYXRvcixcbn07XG4vKipcbiAqIE9tbmlPc2NpbGxhdG9yIGFnZ3JlZ2F0ZXMgYWxsIG9mIHRoZSBvc2NpbGxhdG9yIHR5cGVzIGludG8gb25lLlxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogXHRjb25zdCBvbW5pT3NjID0gbmV3IFRvbmUuT21uaU9zY2lsbGF0b3IoXCJDIzRcIiwgXCJwd21cIikudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiB9LCAwLjEsIDEpO1xuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgT21uaU9zY2lsbGF0b3IgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhPbW5pT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPbW5pT3NjaWxsYXRvclwiO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoT21uaU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCJdKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImZyZXF1ZW5jeVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImNlbnRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJmcmVxdWVuY3lcIiwgXCJkZXR1bmVcIl0pO1xuICAgICAgICAvLyBzZXQgdGhlIG9wdGlvbnNcbiAgICAgICAgdGhpcy5zZXQob3B0aW9ucyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBGTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgQU1Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIEZhdE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgUHVsc2VPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIFBXTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zdGFydCh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RvcCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RvcCh0aW1lKTtcbiAgICB9XG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnJlc3RhcnQodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb3NjaWxsYXRvci4gQ2FuIGJlIGFueSBvZiB0aGUgYmFzaWMgdHlwZXM6IHNpbmUsIHNxdWFyZSwgdHJpYW5nbGUsIHNhd3Rvb3RoLiBPclxuICAgICAqIHByZWZpeCB0aGUgYmFzaWMgdHlwZXMgd2l0aCBcImZtXCIsIFwiYW1cIiwgb3IgXCJmYXRcIiB0byB1c2UgdGhlIEZNT3NjaWxsYXRvciwgQU1Pc2NpbGxhdG9yIG9yIEZhdE9zY2lsbGF0b3JcbiAgICAgKiB0eXBlcy4gVGhlIG9zY2lsbGF0b3IgY291bGQgYWxzbyBiZSBzZXQgdG8gXCJwd21cIiBvciBcInB1bHNlXCIuIEFsbCBvZiB0aGUgcGFyYW1ldGVycyBvZiB0aGVcbiAgICAgKiBvc2NpbGxhdG9yJ3MgY2xhc3MgYXJlIGFjY2Vzc2libGUgd2hlbiB0aGUgb3NjaWxsYXRvciBpcyBzZXQgdG8gdGhhdCB0eXBlLCBidXQgdGhyb3dzIGFuIGVycm9yXG4gICAgICogd2hlbiBpdCdzIG5vdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9tbmlPc2MgPSBuZXcgVG9uZS5PbW5pT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICAgICAqIG9tbmlPc2MudHlwZSA9IFwicHdtXCI7XG4gICAgICogLy8gbW9kdWxhdGlvbkZyZXF1ZW5jeSBpcyBwYXJhbWV0ZXIgd2hpY2ggaXMgYXZhaWxhYmxlXG4gICAgICogLy8gb25seSB3aGVuIHRoZSB0eXBlIGlzIFwicHdtXCIuXG4gICAgICogb21uaU9zYy5tb2R1bGF0aW9uRnJlcXVlbmN5LnZhbHVlID0gMC41O1xuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICBsZXQgcHJlZml4ID0gXCJcIjtcbiAgICAgICAgaWYgKFtcImFtXCIsIFwiZm1cIiwgXCJmYXRcIl0uc29tZShwID0+IHRoaXMuX3NvdXJjZVR5cGUgPT09IHApKSB7XG4gICAgICAgICAgICBwcmVmaXggPSB0aGlzLl9zb3VyY2VUeXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmVmaXggKyB0aGlzLl9vc2NpbGxhdG9yLnR5cGU7XG4gICAgfVxuICAgIHNldCB0eXBlKHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUuc3Vic3RyKDAsIDIpID09PSBcImZtXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJmbVwiKTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSB0aGlzLl9vc2NpbGxhdG9yO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci50eXBlID0gdHlwZS5zdWJzdHIoMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZS5zdWJzdHIoMCwgMikgPT09IFwiYW1cIikge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcImFtXCIpO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvciA9IHRoaXMuX29zY2lsbGF0b3I7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgPSB0eXBlLnN1YnN0cigyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlLnN1YnN0cigwLCAzKSA9PT0gXCJmYXRcIikge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcImZhdFwiKTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSB0aGlzLl9vc2NpbGxhdG9yO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci50eXBlID0gdHlwZS5zdWJzdHIoMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJwd21cIikge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcInB3bVwiKTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSB0aGlzLl9vc2NpbGxhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwicHVsc2VcIikge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcInB1bHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcIm9zY2lsbGF0b3JcIik7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5fb3NjaWxsYXRvcjtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IudHlwZSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGlzIGFuIGVtcHR5IGFycmF5IHdoZW4gdGhlIHR5cGUgaXMgbm90IFwiY3VzdG9tXCIuXG4gICAgICogVGhpcyBpcyBub3QgYXZhaWxhYmxlIG9uIFwicHdtXCIgYW5kIFwicHVsc2VcIiBvc2NpbGxhdG9yIHR5cGVzLlxuICAgICAqIFNlZSBbW09zY2lsbGF0b3IucGFydGlhbHNdXVxuICAgICAqL1xuICAgIGdldCBwYXJ0aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IucGFydGlhbHM7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFscyhwYXJ0aWFscykge1xuICAgICAgICBpZiAoIXRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJwdWxzZVwiKSAmJiAhdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcInB3bVwiKSkge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFscyA9IHBhcnRpYWxzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBwYXJ0aWFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxDb3VudDtcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxDb3VudChwYXJ0aWFsQ291bnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHVsc2VcIikgJiYgIXRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJwd21cIikpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IucGFydGlhbENvdW50ID0gcGFydGlhbENvdW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldChwcm9wcykge1xuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHR5cGUgaXMgc2V0IGZpcnN0XG4gICAgICAgIGlmIChSZWZsZWN0Lmhhcyhwcm9wcywgXCJ0eXBlXCIpICYmIHByb3BzLnR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHByb3BzLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlbiBzZXQgdGhlIHJlc3RcbiAgICAgICAgc3VwZXIuc2V0KHByb3BzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbm5lY3QgdGhlIG9zY2lsbGF0b3IgdG8gdGhlIGZyZXF1ZW5jeSBhbmQgZGV0dW5lIHNpZ25hbHNcbiAgICAgKi9cbiAgICBfY3JlYXRlTmV3T3NjaWxsYXRvcihvc2NUeXBlKSB7XG4gICAgICAgIGlmIChvc2NUeXBlICE9PSB0aGlzLl9zb3VyY2VUeXBlKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VUeXBlID0gb3NjVHlwZTtcbiAgICAgICAgICAgIGNvbnN0IE9zY0NvbnN0cnVjdG9yID0gT21uaU9zY2lsbGF0b3JTb3VyY2VNYXBbb3NjVHlwZV07XG4gICAgICAgICAgICAvLyBzaG9ydCBkZWxheSB0byBhdm9pZCBjbGlja3Mgb24gdGhlIGNoYW5nZVxuICAgICAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkT3NjID0gdGhpcy5fb3NjaWxsYXRvcjtcbiAgICAgICAgICAgICAgICBvbGRPc2Muc3RvcChub3cpO1xuICAgICAgICAgICAgICAgIC8vIGRpc3Bvc2UgdGhlIG9sZCBvbmVcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc2V0VGltZW91dCgoKSA9PiBvbGRPc2MuZGlzcG9zZSgpLCB0aGlzLmJsb2NrVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gbmV3IE9zY0NvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgdGhpcy5kZXR1bmUuY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLmRldHVuZSk7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmNvbm5lY3QodGhpcy5vdXRwdXQpO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5vbnN0b3AgPSAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RhcnQobm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGhhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5waGFzZSA9IHBoYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc291cmNlIHR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvbW5pT3NjID0gbmV3IFRvbmUuT21uaU9zY2lsbGF0b3IoNDQwLCBcImZtc3F1YXJlXCIpO1xuICAgICAqIGNvbnNvbGUubG9nKG9tbmlPc2Muc291cmNlVHlwZSk7IC8vICdmbSdcbiAgICAgKi9cbiAgICBnZXQgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZVR5cGU7XG4gICAgfVxuICAgIHNldCBzb3VyY2VUeXBlKHNUeXBlKSB7XG4gICAgICAgIC8vIHRoZSBiYXNldHlwZSBkZWZhdWx0cyB0byBzaW5lXG4gICAgICAgIGxldCBiYXNlVHlwZSA9IFwic2luZVwiO1xuICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvci50eXBlICE9PSBcInB3bVwiICYmIHRoaXMuX29zY2lsbGF0b3IudHlwZSAhPT0gXCJwdWxzZVwiKSB7XG4gICAgICAgICAgICBiYXNlVHlwZSA9IHRoaXMuX29zY2lsbGF0b3IudHlwZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGhlIHR5cGVcbiAgICAgICAgaWYgKHNUeXBlID09PSBcImZtXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwiZm1cIiArIGJhc2VUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNUeXBlID09PSBcImFtXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwiYW1cIiArIGJhc2VUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNUeXBlID09PSBcImZhdFwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcImZhdFwiICsgYmFzZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc1R5cGUgPT09IFwib3NjaWxsYXRvclwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBiYXNlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzVHlwZSA9PT0gXCJwdWxzZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcInB1bHNlXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc1R5cGUgPT09IFwicHdtXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFwicHdtXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldE9zY1R5cGUob3NjLCBzb3VyY2VUeXBlKSB7XG4gICAgICAgIHJldHVybiBvc2MgaW5zdGFuY2VvZiBPbW5pT3NjaWxsYXRvclNvdXJjZU1hcFtzb3VyY2VUeXBlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdHlwZSBvZiB0aGUgb3NjaWxsYXRvci4gU2VlIFtbT3NjaWxsYXRvci5iYXNlVHlwZV1dXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvbW5pT3NjID0gbmV3IFRvbmUuT21uaU9zY2lsbGF0b3IoNDQwLCBcImZtc3F1YXJlNFwiKTtcbiAgICAgKiBjb25zb2xlLmxvZyhvbW5pT3NjLnNvdXJjZVR5cGUsIG9tbmlPc2MuYmFzZVR5cGUsIG9tbmlPc2MucGFydGlhbENvdW50KTtcbiAgICAgKi9cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLmJhc2VUeXBlO1xuICAgIH1cbiAgICBzZXQgYmFzZVR5cGUoYmFzZVR5cGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHVsc2VcIikgJiZcbiAgICAgICAgICAgICF0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHdtXCIpICYmXG4gICAgICAgICAgICBiYXNlVHlwZSAhPT0gXCJwdWxzZVwiICYmIGJhc2VUeXBlICE9PSBcInB3bVwiKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmJhc2VUeXBlID0gYmFzZVR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBvc2NpbGxhdG9yIHdoZW4gc291cmNlVHlwZSA9PT0gXCJwdWxzZVwiLlxuICAgICAqIFNlZSBbW1BXTU9zY2lsbGF0b3Iud2lkdGhdXVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJwdWxzZVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3Iud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGV0dW5lZCBvc2NpbGxhdG9ycyB3aGVuIHNvdXJjZVR5cGUgPT09IFwiZmF0XCIuXG4gICAgICogU2VlIFtbRmF0T3NjaWxsYXRvci5jb3VudF1dXG4gICAgICovXG4gICAgZ2V0IGNvdW50KCkge1xuICAgICAgICBpZiAodGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImZhdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IuY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBjb3VudChjb3VudCkge1xuICAgICAgICBpZiAodGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImZhdFwiKSAmJiBpc051bWJlcihjb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IuY291bnQgPSBjb3VudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGV0dW5lIHNwcmVhZCBiZXR3ZWVuIHRoZSBvc2NpbGxhdG9ycyB3aGVuIHNvdXJjZVR5cGUgPT09IFwiZmF0XCIuXG4gICAgICogU2VlIFtbRmF0T3NjaWxsYXRvci5jb3VudF1dXG4gICAgICovXG4gICAgZ2V0IHNwcmVhZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmYXRcIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLnNwcmVhZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IHNwcmVhZChzcHJlYWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmYXRcIikgJiYgaXNOdW1iZXIoc3ByZWFkKSkge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG1vZHVsYXRvciBvc2NpbGxhdG9yLiBPbmx5IGlmIHRoZSBvc2NpbGxhdG9yIGlzIHNldCB0byBcImFtXCIgb3IgXCJmbVwiIHR5cGVzLlxuICAgICAqIFNlZSBbW0FNT3NjaWxsYXRvcl1dIG9yIFtbRk1Pc2NpbGxhdG9yXV1cbiAgICAgKi9cbiAgICBnZXQgbW9kdWxhdGlvblR5cGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiZm1cIikgfHwgdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImFtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IG1vZHVsYXRpb25UeXBlKG1UeXBlKSB7XG4gICAgICAgIGlmICgodGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImZtXCIpIHx8IHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJhbVwiKSkgJiYgaXNTdHJpbmcobVR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLm1vZHVsYXRpb25UeXBlID0gbVR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1vZHVsYXRpb24gaW5kZXggd2hlbiB0aGUgc291cmNlVHlwZSA9PT0gXCJmbVwiXG4gICAgICogU2VlIFtbRk1Pc2NpbGxhdG9yXV0uXG4gICAgICovXG4gICAgZ2V0IG1vZHVsYXRpb25JbmRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmbVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IubW9kdWxhdGlvbkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYXJtb25pY2l0eSBpcyB0aGUgZnJlcXVlbmN5IHJhdGlvIGJldHdlZW4gdGhlIGNhcnJpZXIgYW5kIHRoZSBtb2R1bGF0b3Igb3NjaWxsYXRvcnMuXG4gICAgICogU2VlIFtbQU1Pc2NpbGxhdG9yXV0gb3IgW1tGTU9zY2lsbGF0b3JdXVxuICAgICAqL1xuICAgIGdldCBoYXJtb25pY2l0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmbVwiKSB8fCB0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiYW1cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLmhhcm1vbmljaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbW9kdWxhdGlvbkZyZXF1ZW5jeSBTaWduYWwgb2YgdGhlIG9zY2lsbGF0b3Igd2hlbiBzb3VyY2VUeXBlID09PSBcInB3bVwiXG4gICAgICogc2VlIFtbUFdNT3NjaWxsYXRvcl1dXG4gICAgICogQG1pbiAwLjFcbiAgICAgKiBAbWF4IDVcbiAgICAgKi9cbiAgICBnZXQgbW9kdWxhdGlvbkZyZXF1ZW5jeSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJwd21cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLm1vZHVsYXRpb25GcmVxdWVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kZXR1bmUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3IuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PbW5pT3NjaWxsYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBhc3NlcnRSYW5nZSB9IGZyb20gXCIuL0RlYnVnXCI7XG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSBudW1iZXIgaXMgaW4gdGhlIGdpdmVuIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobWluLCBtYXggPSBJbmZpbml0eSkge1xuICAgIGNvbnN0IHZhbHVlTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTWFwLmdldCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydFJhbmdlKG5ld1ZhbHVlLCBtaW4sIG1heCk7XG4gICAgICAgICAgICAgICAgdmFsdWVNYXAuc2V0KHRoaXMsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ29udmVydCB0aGUgdGltZSB0byBzZWNvbmRzIGFuZCBhc3NlcnQgdGhhdCB0aGUgdGltZSBpcyBpbiBiZXR3ZWVuIHRoZSB0d29cbiAqIHZhbHVlcyB3aGVuIGJlaW5nIHNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVSYW5nZShtaW4sIG1heCA9IEluZmluaXR5KSB7XG4gICAgY29uc3QgdmFsdWVNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXksIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVNYXAuZ2V0KHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2UodGhpcy50b1NlY29uZHMobmV3VmFsdWUpLCBtaW4sIG1heCk7XG4gICAgICAgICAgICAgICAgdmFsdWVNYXAuc2V0KHRoaXMsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29yYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFRvbmVBdWRpb0J1ZmZlciB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyXCI7XG5pbXBvcnQgeyBkZWZhdWx0QXJnLCBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgaXNVbmRlZiB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vU291cmNlXCI7XG5pbXBvcnQgeyBUb25lQnVmZmVyU291cmNlIH0gZnJvbSBcIi4vVG9uZUJ1ZmZlclNvdXJjZVwiO1xuaW1wb3J0IHsgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlYnVnXCI7XG5pbXBvcnQgeyB0aW1lUmFuZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlY29yYXRvclwiO1xuLyoqXG4gKiBQbGF5ZXIgaXMgYW4gYXVkaW8gZmlsZSBwbGF5ZXIgd2l0aCBzdGFydCwgbG9vcCwgYW5kIHN0b3AgZnVuY3Rpb25zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL2dvbmdfMS5tcDNcIikudG9EZXN0aW5hdGlvbigpO1xuICogLy8gcGxheSBhcyBzb29uIGFzIHRoZSBidWZmZXIgaXMgbG9hZGVkXG4gKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFBsYXllci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybFwiLCBcIm9ubG9hZFwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBsYXllclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG9mIHRoZSBhY3RpdmUgYnVmZmVyIHNvdXJjZSBub2Rlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFBsYXllci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybFwiLCBcIm9ubG9hZFwiXSk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBUb25lQXVkaW9CdWZmZXIoe1xuICAgICAgICAgICAgb25sb2FkOiB0aGlzLl9vbmxvYWQuYmluZCh0aGlzLCBvcHRpb25zLm9ubG9hZCksXG4gICAgICAgICAgICBvbmVycm9yOiBvcHRpb25zLm9uZXJyb3IsXG4gICAgICAgICAgICByZXZlcnNlOiBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdXRvc3RhcnQgPSBvcHRpb25zLmF1dG9zdGFydDtcbiAgICAgICAgdGhpcy5fbG9vcCA9IG9wdGlvbnMubG9vcDtcbiAgICAgICAgdGhpcy5fbG9vcFN0YXJ0ID0gb3B0aW9ucy5sb29wU3RhcnQ7XG4gICAgICAgIHRoaXMuX2xvb3BFbmQgPSBvcHRpb25zLmxvb3BFbmQ7XG4gICAgICAgIHRoaXMuX3BsYXliYWNrUmF0ZSA9IG9wdGlvbnMucGxheWJhY2tSYXRlO1xuICAgICAgICB0aGlzLmZhZGVJbiA9IG9wdGlvbnMuZmFkZUluO1xuICAgICAgICB0aGlzLmZhZGVPdXQgPSBvcHRpb25zLmZhZGVPdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oU291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGF1dG9zdGFydDogZmFsc2UsXG4gICAgICAgICAgICBmYWRlSW46IDAsXG4gICAgICAgICAgICBmYWRlT3V0OiAwLFxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICBsb29wRW5kOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgb25sb2FkOiBub09wLFxuICAgICAgICAgICAgb25lcnJvcjogbm9PcCxcbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogMSxcbiAgICAgICAgICAgIHJldmVyc2U6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgYXVkaW8gZmlsZSBhcyBhbiBhdWRpbyBidWZmZXIuXG4gICAgICogRGVjb2RlcyB0aGUgYXVkaW8gYXN5bmNocm9ub3VzbHkgYW5kIGludm9rZXNcbiAgICAgKiB0aGUgY2FsbGJhY2sgb25jZSB0aGUgYXVkaW8gYnVmZmVyIGxvYWRzLlxuICAgICAqIE5vdGU6IHRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBjYWxsZWQgaWYgYSB1cmxcbiAgICAgKiB3YXMgcGFzc2VkIGluIHRvIHRoZSBjb25zdHJ1Y3Rvci4gT25seSB1c2UgdGhpc1xuICAgICAqIGlmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGxvYWQgYSBuZXcgdXJsLlxuICAgICAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgYnVmZmVyIHRvIGxvYWQuIEZpbGV0eXBlIHN1cHBvcnQgZGVwZW5kcyBvbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBsb2FkKHVybCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5fYnVmZmVyLmxvYWQodXJsKTtcbiAgICAgICAgICAgIHRoaXMuX29ubG9hZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBjYWxsYmFjayB3aGVuIHRoZSBidWZmZXIgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIF9vbmxvYWQoY2FsbGJhY2sgPSBub09wKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIGlmICh0aGlzLmF1dG9zdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGNhbGxiYWNrIHdoZW4gdGhlIGJ1ZmZlciBpcyBkb25lIHBsYXlpbmcuXG4gICAgICovXG4gICAgX29uU291cmNlRW5kKHNvdXJjZSkge1xuICAgICAgICAvLyBpbnZva2UgdGhlIG9uc3RvcCBmdW5jdGlvblxuICAgICAgICB0aGlzLm9uc3RvcCh0aGlzKTtcbiAgICAgICAgLy8gZGVsZXRlIHRoZSBzb3VyY2UgZnJvbSB0aGUgYWN0aXZlIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5kZWxldGUoc291cmNlKTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNvdXJjZXMuc2l6ZSA9PT0gMCAmJiAhdGhpcy5fc3luY2VkICYmXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgJ2ltcGxpY2l0RW5kJyBldmVudCBhbmQgcmVwbGFjZSB3aXRoIGFuIGV4cGxpY2l0IGVuZFxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuY2FuY2VsKHRoaXMubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIHRoaXMubm93KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBsYXkgdGhlIGJ1ZmZlciBhdCB0aGUgZ2l2ZW4gc3RhcnRUaW1lLiBPcHRpb25hbGx5IGFkZCBhbiBvZmZzZXRcbiAgICAgKiBhbmQvb3IgZHVyYXRpb24gd2hpY2ggd2lsbCBwbGF5IHRoZSBidWZmZXIgZnJvbSBhIHBvc2l0aW9uXG4gICAgICogd2l0aGluIHRoZSBidWZmZXIgZm9yIHRoZSBnaXZlbiBkdXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBwbGF5ZXIgc2hvdWxkIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAgb2Zmc2V0IFRoZSBvZmZzZXQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzYW1wbGUgdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBIb3cgbG9uZyB0aGUgc2FtcGxlIHNob3VsZCBwbGF5LiBJZiBubyBkdXJhdGlvbiBpcyBnaXZlbiwgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBmdWxsIGxlbmd0aCBvZiB0aGUgc2FtcGxlIChtaW51cyBhbnkgb2Zmc2V0KVxuICAgICAqL1xuICAgIHN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pIHtcbiAgICAgICAgc3VwZXIuc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzdGFydCBtZXRob2RcbiAgICAgKi9cbiAgICBfc3RhcnQoc3RhcnRUaW1lLCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gICAgICAgIC8vIGlmIGl0J3MgYSBsb29wIHRoZSBkZWZhdWx0IG9mZnNldCBpcyB0aGUgbG9vcFN0YXJ0IHBvaW50XG4gICAgICAgIGlmICh0aGlzLl9sb29wKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkZWZhdWx0QXJnKG9mZnNldCwgdGhpcy5fbG9vcFN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGUgZGVmYXVsdCBvZmZzZXQgaXMgMFxuICAgICAgICAgICAgb2Zmc2V0ID0gZGVmYXVsdEFyZyhvZmZzZXQsIDApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIHZhbHVlcyBpbiBzZWNvbmRzXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkT2Zmc2V0ID0gdGhpcy50b1NlY29uZHMob2Zmc2V0KTtcbiAgICAgICAgLy8gY29tcHV0ZSB0aGUgZHVyYXRpb24gd2hpY2ggaXMgZWl0aGVyIHRoZSBwYXNzZWQgaW4gZHVyYXRpb24gb2YgdGhlIGJ1ZmZlci5kdXJhdGlvbiAtIG9mZnNldFxuICAgICAgICBjb25zdCBvcmlnRHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgZHVyYXRpb24gPSBkZWZhdWx0QXJnKGR1cmF0aW9uLCBNYXRoLm1heCh0aGlzLl9idWZmZXIuZHVyYXRpb24gLSBjb21wdXRlZE9mZnNldCwgMCkpO1xuICAgICAgICBsZXQgY29tcHV0ZWREdXJhdGlvbiA9IHRoaXMudG9TZWNvbmRzKGR1cmF0aW9uKTtcbiAgICAgICAgLy8gc2NhbGUgaXQgYnkgdGhlIHBsYXliYWNrIHJhdGVcbiAgICAgICAgY29tcHV0ZWREdXJhdGlvbiA9IGNvbXB1dGVkRHVyYXRpb24gLyB0aGlzLl9wbGF5YmFja1JhdGU7XG4gICAgICAgIC8vIGdldCB0aGUgc3RhcnQgdGltZVxuICAgICAgICBzdGFydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICAvLyBtYWtlIHRoZSBzb3VyY2VcbiAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IFRvbmVCdWZmZXJTb3VyY2Uoe1xuICAgICAgICAgICAgdXJsOiB0aGlzLl9idWZmZXIsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBmYWRlSW46IHRoaXMuZmFkZUluLFxuICAgICAgICAgICAgZmFkZU91dDogdGhpcy5mYWRlT3V0LFxuICAgICAgICAgICAgbG9vcDogdGhpcy5fbG9vcCxcbiAgICAgICAgICAgIGxvb3BFbmQ6IHRoaXMuX2xvb3BFbmQsXG4gICAgICAgICAgICBsb29wU3RhcnQ6IHRoaXMuX2xvb3BTdGFydCxcbiAgICAgICAgICAgIG9uZW5kZWQ6IHRoaXMuX29uU291cmNlRW5kLmJpbmQodGhpcyksXG4gICAgICAgICAgICBwbGF5YmFja1JhdGU6IHRoaXMuX3BsYXliYWNrUmF0ZSxcbiAgICAgICAgfSkuY29ubmVjdCh0aGlzLm91dHB1dCk7XG4gICAgICAgIC8vIHNldCB0aGUgbG9vcGluZyBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghdGhpcy5fbG9vcCAmJiAhdGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICAvLyBjYW5jZWwgdGhlIHByZXZpb3VzIHN0b3BcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChzdGFydFRpbWUgKyBjb21wdXRlZER1cmF0aW9uKTtcbiAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IGxvb3BpbmcsIHNldCB0aGUgc3RhdGUgY2hhbmdlIGF0IHRoZSBlbmQgb2YgdGhlIHNhbXBsZVxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIHN0YXJ0VGltZSArIGNvbXB1dGVkRHVyYXRpb24sIHtcbiAgICAgICAgICAgICAgICBpbXBsaWNpdEVuZDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgYXJyYXkgb2YgYWN0aXZlIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgICAgLy8gc3RhcnQgaXRcbiAgICAgICAgaWYgKHRoaXMuX2xvb3AgJiYgaXNVbmRlZihvcmlnRHVyYXRpb24pKSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3RhcnQoc3RhcnRUaW1lLCBjb21wdXRlZE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdWJ0cmFjdCB0aGUgZmFkZSBvdXQgdGltZVxuICAgICAgICAgICAgc291cmNlLnN0YXJ0KHN0YXJ0VGltZSwgY29tcHV0ZWRPZmZzZXQsIGNvbXB1dGVkRHVyYXRpb24gLSB0aGlzLnRvU2Vjb25kcyh0aGlzLmZhZGVPdXQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHBsYXliYWNrLlxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4gc291cmNlLnN0b3AoY29tcHV0ZWRUaW1lKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgYW5kIHRoZW4gcmVzdGFydCB0aGUgcGxheWVyIGZyb20gdGhlIGJlZ2lubmluZyAob3Igb2Zmc2V0KVxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBwbGF5ZXIgc2hvdWxkIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAgb2Zmc2V0IFRoZSBvZmZzZXQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzYW1wbGUgdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBIb3cgbG9uZyB0aGUgc2FtcGxlIHNob3VsZCBwbGF5LiBJZiBubyBkdXJhdGlvbiBpcyBnaXZlbixcbiAgICAgKiBcdFx0XHRcdFx0aXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBmdWxsIGxlbmd0aCBvZiB0aGUgc2FtcGxlIChtaW51cyBhbnkgb2Zmc2V0KVxuICAgICAqL1xuICAgIHJlc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbikge1xuICAgICAgICBzdXBlci5yZXN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3Jlc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9zdG9wKHRpbWUpO1xuICAgICAgICB0aGlzLl9zdGFydCh0aW1lLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlayB0byBhIHNwZWNpZmljIHRpbWUgaW4gdGhlIHBsYXllcidzIGJ1ZmZlci4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIG5vIGxvbmdlciBwbGF5aW5nIGF0IHRoYXQgdGltZSwgaXQgd2lsbCBzdG9wLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgVGhlIHRpbWUgdG8gc2VlayB0by5cbiAgICAgKiBAcGFyYW0gd2hlbiBUaGUgdGltZSBmb3IgdGhlIHNlZWsgZXZlbnQgdG8gb2NjdXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vYmVya2xlZS9ndXJnbGluZ190aGVyZW1pbl8xLm1wM1wiLCAoKSA9PiB7XG4gICAgICogXHRwbGF5ZXIuc3RhcnQoKTtcbiAgICAgKiBcdC8vIHNlZWsgdG8gdGhlIG9mZnNldCBpbiAxIHNlY29uZCBmcm9tIG5vd1xuICAgICAqIFx0cGxheWVyLnNlZWsoMC40LCBcIisxXCIpO1xuICAgICAqIH0pLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKi9cbiAgICBzZWVrKG9mZnNldCwgd2hlbikge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh3aGVuKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGNvbXB1dGVkVGltZSkgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZE9mZnNldCA9IHRoaXMudG9TZWNvbmRzKG9mZnNldCk7XG4gICAgICAgICAgICAvLyBpZiBpdCdzIGN1cnJlbnRseSBwbGF5aW5nLCBzdG9wIGl0XG4gICAgICAgICAgICB0aGlzLl9zdG9wKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICAvLyByZXN0YXJ0IGl0IGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICAgICAgICB0aGlzLl9zdGFydChjb21wdXRlZFRpbWUsIGNvbXB1dGVkT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsb29wIHN0YXJ0IGFuZCBlbmQuIFdpbGwgb25seSBsb29wIGlmIGxvb3AgaXMgc2V0IHRvIHRydWUuXG4gICAgICogQHBhcmFtIGxvb3BTdGFydCBUaGUgbG9vcCBzdGFydCB0aW1lXG4gICAgICogQHBhcmFtIGxvb3BFbmQgVGhlIGxvb3AgZW5kIHRpbWVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL21hbGV2b2ljZXNfYWEyX0YzLm1wM1wiKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogLy8gbG9vcCBiZXR3ZWVuIHRoZSBnaXZlbiBwb2ludHNcbiAgICAgKiBwbGF5ZXIuc2V0TG9vcFBvaW50cygwLjIsIDAuMyk7XG4gICAgICogcGxheWVyLmxvb3AgPSB0cnVlO1xuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqL1xuICAgIHNldExvb3BQb2ludHMobG9vcFN0YXJ0LCBsb29wRW5kKSB7XG4gICAgICAgIHRoaXMubG9vcFN0YXJ0ID0gbG9vcFN0YXJ0O1xuICAgICAgICB0aGlzLmxvb3BFbmQgPSBsb29wRW5kO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgbG9vcCBpcyB0cnVlLCB0aGUgbG9vcCB3aWxsIHN0YXJ0IGF0IHRoaXMgcG9zaXRpb24uXG4gICAgICovXG4gICAgZ2V0IGxvb3BTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3BTdGFydDtcbiAgICB9XG4gICAgc2V0IGxvb3BTdGFydChsb29wU3RhcnQpIHtcbiAgICAgICAgdGhpcy5fbG9vcFN0YXJ0ID0gbG9vcFN0YXJ0O1xuICAgICAgICBpZiAodGhpcy5idWZmZXIubG9hZGVkKSB7XG4gICAgICAgICAgICBhc3NlcnRSYW5nZSh0aGlzLnRvU2Vjb25kcyhsb29wU3RhcnQpLCAwLCB0aGlzLmJ1ZmZlci5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IHNvdXJjZVxuICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgIHNvdXJjZS5sb29wU3RhcnQgPSBsb29wU3RhcnQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBsb29wIGlzIHRydWUsIHRoZSBsb29wIHdpbGwgZW5kIGF0IHRoaXMgcG9zaXRpb24uXG4gICAgICovXG4gICAgZ2V0IGxvb3BFbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb29wRW5kO1xuICAgIH1cbiAgICBzZXQgbG9vcEVuZChsb29wRW5kKSB7XG4gICAgICAgIHRoaXMuX2xvb3BFbmQgPSBsb29wRW5kO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIubG9hZGVkKSB7XG4gICAgICAgICAgICBhc3NlcnRSYW5nZSh0aGlzLnRvU2Vjb25kcyhsb29wRW5kKSwgMCwgdGhpcy5idWZmZXIuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBzb3VyY2VcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UubG9vcEVuZCA9IGxvb3BFbmQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYXVkaW8gYnVmZmVyIGJlbG9uZ2luZyB0byB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIGdldCBidWZmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgfVxuICAgIHNldCBidWZmZXIoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlci5zZXQoYnVmZmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJ1ZmZlciBzaG91bGQgbG9vcCBvbmNlIGl0J3Mgb3Zlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9kcnVtLXNhbXBsZXMvYnJlYWtiZWF0Lm1wM1wiKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogcGxheWVyLmxvb3AgPSB0cnVlO1xuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqL1xuICAgIGdldCBsb29wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9vcDtcbiAgICB9XG4gICAgc2V0IGxvb3AobG9vcCkge1xuICAgICAgICAvLyBpZiBubyBjaGFuZ2UsIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKHRoaXMuX2xvb3AgPT09IGxvb3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb29wID0gbG9vcDtcbiAgICAgICAgLy8gc2V0IHRoZSBsb29wIG9mIGFsbCBvZiB0aGUgc291cmNlc1xuICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgIHNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG5leHQgc3RvcEV2ZW50XG4gICAgICAgICAgICBjb25zdCBzdG9wRXZlbnQgPSB0aGlzLl9zdGF0ZS5nZXROZXh0U3RhdGUoXCJzdG9wcGVkXCIsIHRoaXMubm93KCkpO1xuICAgICAgICAgICAgaWYgKHN0b3BFdmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChzdG9wRXZlbnQudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTm9ybWFsIHNwZWVkIGlzIDEuIFRoZSBwaXRjaCB3aWxsIGNoYW5nZSB3aXRoIHRoZSBwbGF5YmFjayByYXRlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGxheWVyID0gbmV3IFRvbmUuUGxheWVyKFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2JlcmtsZWUvZmVtYWxldm9pY2VzX2FhMl9BNS5tcDNcIikudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIHBsYXkgYXQgMS80IHNwZWVkXG4gICAgICogcGxheWVyLnBsYXliYWNrUmF0ZSA9IDAuMjU7XG4gICAgICogLy8gcGxheSBhcyBzb29uIGFzIHRoZSBidWZmZXIgaXMgbG9hZGVkXG4gICAgICogcGxheWVyLmF1dG9zdGFydCA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHBsYXliYWNrUmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZTtcbiAgICB9XG4gICAgc2V0IHBsYXliYWNrUmF0ZShyYXRlKSB7XG4gICAgICAgIHRoaXMuX3BsYXliYWNrUmF0ZSA9IHJhdGU7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgIC8vIGNhbmNlbCB0aGUgc3RvcCBldmVudCBzaW5jZSBpdCdzIGF0IGEgZGlmZmVyZW50IHRpbWUgbm93XG4gICAgICAgIGNvbnN0IHN0b3BFdmVudCA9IHRoaXMuX3N0YXRlLmdldE5leHRTdGF0ZShcInN0b3BwZWRcIiwgbm93KTtcbiAgICAgICAgaWYgKHN0b3BFdmVudCAmJiBzdG9wRXZlbnQuaW1wbGljaXRFbmQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChzdG9wRXZlbnQudGltZSk7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goc291cmNlID0+IHNvdXJjZS5jYW5jZWxTdG9wKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBhbGwgdGhlIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIG5vdyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgYnVmZmVyIHNob3VsZCBiZSByZXZlcnNlZFxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGxheWVyID0gbmV3IFRvbmUuUGxheWVyKFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2JlcmtsZWUvY2hpbWVfMS5tcDNcIikudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqIHBsYXllci5yZXZlcnNlID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgcmV2ZXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5yZXZlcnNlO1xuICAgIH1cbiAgICBzZXQgcmV2ZXJzZShyZXYpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyLnJldmVyc2UgPSByZXY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBidWZmZXIgaXMgbG9hZGVkXG4gICAgICovXG4gICAgZ2V0IGxvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5sb2FkZWQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgLy8gZGlzY29ubmVjdCBhbGwgb2YgdGhlIHBsYXllcnNcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiBzb3VyY2UuZGlzcG9zZSgpKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9idWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIFBsYXllci5wcm90b3R5cGUsIFwiZmFkZUluXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIFBsYXllci5wcm90b3R5cGUsIFwiZmFkZU91dFwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxheWVyLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciwgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgY29ubmVjdFNpZ25hbCwgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IE9mZmxpbmVDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9PZmZsaW5lQ29udGV4dFwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgcmFuZ2UsIHRpbWVSYW5nZSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVjb3JhdG9yXCI7XG4vKipcbiAqIEVudmVsb3BlIGlzIGFuIFtBRFNSXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW50aGVzaXplciNBRFNSX2VudmVsb3BlKVxuICogZW52ZWxvcGUgZ2VuZXJhdG9yLiBFbnZlbG9wZSBvdXRwdXRzIGEgc2lnbmFsIHdoaWNoXG4gKiBjYW4gYmUgY29ubmVjdGVkIHRvIGFuIEF1ZGlvUGFyYW0gb3IgVG9uZS5TaWduYWwuXG4gKiBgYGBcbiAqICAgICAgICAgICAvXFxcbiAqICAgICAgICAgIC8gIFxcXG4gKiAgICAgICAgIC8gICAgXFxcbiAqICAgICAgICAvICAgICAgXFxcbiAqICAgICAgIC8gICAgICAgIFxcX19fX19fX19fX19cbiAqICAgICAgLyAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiAgICAgLyAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAqICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAqICAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiBgYGBcbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3QgZW52ID0gbmV3IFRvbmUuRW52ZWxvcGUoe1xuICogXHRcdGF0dGFjazogMC4xLFxuICogXHRcdGRlY2F5OiAwLjIsXG4gKiBcdFx0c3VzdGFpbjogMC41LFxuICogXHRcdHJlbGVhc2U6IDAuOCxcbiAqIFx0fSkudG9EZXN0aW5hdGlvbigpO1xuICogXHRlbnYudHJpZ2dlckF0dGFja1JlbGVhc2UoMC41KTtcbiAqIH0sIDEuNSwgMSk7XG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBFbnZlbG9wZSBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhFbnZlbG9wZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImF0dGFja1wiLCBcImRlY2F5XCIsIFwic3VzdGFpblwiLCBcInJlbGVhc2VcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFbnZlbG9wZVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHNpZ25hbCB3aGljaCBpcyBvdXRwdXQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaWcgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvdXRwdXQgc2lnbmFsIG9mIHRoZSBlbnZlbG9wZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdXRwdXQgPSB0aGlzLl9zaWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnZlbG9wZSBoYXMgbm8gaW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhFbnZlbG9wZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImF0dGFja1wiLCBcImRlY2F5XCIsIFwic3VzdGFpblwiLCBcInJlbGVhc2VcIl0pO1xuICAgICAgICB0aGlzLmF0dGFjayA9IG9wdGlvbnMuYXR0YWNrO1xuICAgICAgICB0aGlzLmRlY2F5ID0gb3B0aW9ucy5kZWNheTtcbiAgICAgICAgdGhpcy5zdXN0YWluID0gb3B0aW9ucy5zdXN0YWluO1xuICAgICAgICB0aGlzLnJlbGVhc2UgPSBvcHRpb25zLnJlbGVhc2U7XG4gICAgICAgIHRoaXMuYXR0YWNrQ3VydmUgPSBvcHRpb25zLmF0dGFja0N1cnZlO1xuICAgICAgICB0aGlzLnJlbGVhc2VDdXJ2ZSA9IG9wdGlvbnMucmVsZWFzZUN1cnZlO1xuICAgICAgICB0aGlzLmRlY2F5Q3VydmUgPSBvcHRpb25zLmRlY2F5Q3VydmU7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBhdHRhY2s6IDAuMDEsXG4gICAgICAgICAgICBhdHRhY2tDdXJ2ZTogXCJsaW5lYXJcIixcbiAgICAgICAgICAgIGRlY2F5OiAwLjEsXG4gICAgICAgICAgICBkZWNheUN1cnZlOiBcImV4cG9uZW50aWFsXCIsXG4gICAgICAgICAgICByZWxlYXNlOiAxLFxuICAgICAgICAgICAgcmVsZWFzZUN1cnZlOiBcImV4cG9uZW50aWFsXCIsXG4gICAgICAgICAgICBzdXN0YWluOiAwLjUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBlbnZlbG9wZS4gVXNlZnVsIGZvclxuICAgICAqIHN5bmNocm9uaXppbmcgdmlzdWFsIG91dHB1dCB0byB0aGUgZW52ZWxvcGUuXG4gICAgICovXG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJ2ZVxuICAgICAqIEBwYXJhbSAgY3VydmVcbiAgICAgKiBAcGFyYW0gIGRpcmVjdGlvbiAgSW4vT3V0XG4gICAgICogQHJldHVybiBUaGUgY3VydmUgbmFtZVxuICAgICAqL1xuICAgIF9nZXRDdXJ2ZShjdXJ2ZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhjdXJ2ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJ2ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxvb2sgdXAgdGhlIG5hbWUgaW4gdGhlIGN1cnZlcyBhcnJheVxuICAgICAgICAgICAgbGV0IGN1cnZlTmFtZTtcbiAgICAgICAgICAgIGZvciAoY3VydmVOYW1lIGluIEVudmVsb3BlQ3VydmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKEVudmVsb3BlQ3VydmVzW2N1cnZlTmFtZV1bZGlyZWN0aW9uXSA9PT0gY3VydmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnZlTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGN1c3RvbSBjdXJ2ZVxuICAgICAgICAgICAgcmV0dXJuIGN1cnZlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIHRoZSBjdXJ2ZSB0byB0aGUgZ2l2ZW4gbmFtZSB1c2luZyB0aGUgZGlyZWN0aW9uXG4gICAgICogQHBhcmFtICBuYW1lXG4gICAgICogQHBhcmFtICBkaXJlY3Rpb24gSW4vT3V0XG4gICAgICogQHBhcmFtICBjdXJ2ZVxuICAgICAqL1xuICAgIF9zZXRDdXJ2ZShuYW1lLCBkaXJlY3Rpb24sIGN1cnZlKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGl0J3MgYSB2YWxpZCB0eXBlXG4gICAgICAgIGlmIChpc1N0cmluZyhjdXJ2ZSkgJiYgUmVmbGVjdC5oYXMoRW52ZWxvcGVDdXJ2ZXMsIGN1cnZlKSkge1xuICAgICAgICAgICAgY29uc3QgY3VydmVEZWYgPSBFbnZlbG9wZUN1cnZlc1tjdXJ2ZV07XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoY3VydmVEZWYpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09IFwiX2RlY2F5Q3VydmVcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gY3VydmVEZWZbZGlyZWN0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gY3VydmVEZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShjdXJ2ZSkgJiYgbmFtZSAhPT0gXCJfZGVjYXlDdXJ2ZVwiKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gY3VydmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnZlbG9wZTogaW52YWxpZCBjdXJ2ZTogXCIgKyBjdXJ2ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9mIHRoZSBhdHRhY2suXG4gICAgICogQ2FuIGJlIGFueSBvZiB0aGVzZSBzdHJpbmdzOlxuICAgICAqICogXCJsaW5lYXJcIlxuICAgICAqICogXCJleHBvbmVudGlhbFwiXG4gICAgICogKiBcInNpbmVcIlxuICAgICAqICogXCJjb3NpbmVcIlxuICAgICAqICogXCJib3VuY2VcIlxuICAgICAqICogXCJyaXBwbGVcIlxuICAgICAqICogXCJzdGVwXCJcbiAgICAgKlxuICAgICAqIENhbiBhbHNvIGJlIGFuIGFycmF5IHdoaWNoIGRlc2NyaWJlcyB0aGUgY3VydmUuIFZhbHVlc1xuICAgICAqIGluIHRoZSBhcnJheSBhcmUgZXZlbmx5IHN1YmRpdmlkZWQgYW5kIGxpbmVhcmx5XG4gICAgICogaW50ZXJwb2xhdGVkIG92ZXIgdGhlIGR1cmF0aW9uIG9mIHRoZSBhdHRhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAgICAgKiBcdGNvbnN0IGVudiA9IG5ldyBUb25lLkVudmVsb3BlKDAuNCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIFx0ZW52LmF0dGFja0N1cnZlID0gXCJsaW5lYXJcIjtcbiAgICAgKiBcdGVudi50cmlnZ2VyQXR0YWNrKCk7XG4gICAgICogfSwgMSwgMSk7XG4gICAgICovXG4gICAgZ2V0IGF0dGFja0N1cnZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q3VydmUodGhpcy5fYXR0YWNrQ3VydmUsIFwiSW5cIik7XG4gICAgfVxuICAgIHNldCBhdHRhY2tDdXJ2ZShjdXJ2ZSkge1xuICAgICAgICB0aGlzLl9zZXRDdXJ2ZShcIl9hdHRhY2tDdXJ2ZVwiLCBcIkluXCIsIGN1cnZlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9mIHRoZSByZWxlYXNlLiBTZWUgdGhlIGF0dGFjayBjdXJ2ZSB0eXBlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICAgICAqIFx0Y29uc3QgZW52ID0gbmV3IFRvbmUuRW52ZWxvcGUoe1xuICAgICAqIFx0XHRyZWxlYXNlOiAwLjhcbiAgICAgKiBcdH0pLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBcdGVudi50cmlnZ2VyQXR0YWNrKCk7XG4gICAgICogXHQvLyByZWxlYXNlIGN1cnZlIGNvdWxkIGFsc28gYmUgZGVmaW5lZCBieSBhbiBhcnJheVxuICAgICAqIFx0ZW52LnJlbGVhc2VDdXJ2ZSA9IFsxLCAwLjMsIDAuNCwgMC4yLCAwLjcsIDBdO1xuICAgICAqIFx0ZW52LnRyaWdnZXJSZWxlYXNlKDAuMik7XG4gICAgICogfSwgMSwgMSk7XG4gICAgICovXG4gICAgZ2V0IHJlbGVhc2VDdXJ2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnZlKHRoaXMuX3JlbGVhc2VDdXJ2ZSwgXCJPdXRcIik7XG4gICAgfVxuICAgIHNldCByZWxlYXNlQ3VydmUoY3VydmUpIHtcbiAgICAgICAgdGhpcy5fc2V0Q3VydmUoXCJfcmVsZWFzZUN1cnZlXCIsIFwiT3V0XCIsIGN1cnZlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9mIHRoZSBkZWNheSBlaXRoZXIgXCJsaW5lYXJcIiBvciBcImV4cG9uZW50aWFsXCJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICAgICAqIFx0Y29uc3QgZW52ID0gbmV3IFRvbmUuRW52ZWxvcGUoe1xuICAgICAqIFx0XHRzdXN0YWluOiAwLjEsXG4gICAgICogXHRcdGRlY2F5OiAwLjVcbiAgICAgKiBcdH0pLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBcdGVudi5kZWNheUN1cnZlID0gXCJsaW5lYXJcIjtcbiAgICAgKiBcdGVudi50cmlnZ2VyQXR0YWNrKCk7XG4gICAgICogfSwgMSwgMSk7XG4gICAgICovXG4gICAgZ2V0IGRlY2F5Q3VydmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNheUN1cnZlO1xuICAgIH1cbiAgICBzZXQgZGVjYXlDdXJ2ZShjdXJ2ZSkge1xuICAgICAgICBhc3NlcnQoW1wibGluZWFyXCIsIFwiZXhwb25lbnRpYWxcIl0uc29tZShjID0+IGMgPT09IGN1cnZlKSwgYEludmFsaWQgZW52ZWxvcGUgY3VydmU6ICR7Y3VydmV9YCk7XG4gICAgICAgIHRoaXMuX2RlY2F5Q3VydmUgPSBjdXJ2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgYXR0YWNrL2RlY2F5IHBvcnRpb24gb2YgdGhlIEFEU1IgZW52ZWxvcGUuXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdGhlIGF0dGFjayBzaG91bGQgc3RhcnQuXG4gICAgICogQHBhcmFtIHZlbG9jaXR5IFRoZSB2ZWxvY2l0eSBvZiB0aGUgZW52ZWxvcGUgc2NhbGVzIHRoZSB2YWxlcy5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIGJldHdlZW4gMC0xXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBlbnYgPSBuZXcgVG9uZS5BbXBsaXR1ZGVFbnZlbG9wZSgpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkuY29ubmVjdChlbnYpLnN0YXJ0KCk7XG4gICAgICogLy8gdHJpZ2dlciB0aGUgYXR0YWNrIDAuNSBzZWNvbmRzIGZyb20gbm93IHdpdGggYSB2ZWxvY2l0eSBvZiAwLjJcbiAgICAgKiBlbnYudHJpZ2dlckF0dGFjayhcIiswLjVcIiwgMC4yKTtcbiAgICAgKi9cbiAgICB0cmlnZ2VyQXR0YWNrKHRpbWUsIHZlbG9jaXR5ID0gMSkge1xuICAgICAgICB0aGlzLmxvZyhcInRyaWdnZXJBdHRhY2tcIiwgdGltZSwgdmVsb2NpdHkpO1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsQXR0YWNrID0gdGhpcy50b1NlY29uZHModGhpcy5hdHRhY2spO1xuICAgICAgICBsZXQgYXR0YWNrID0gb3JpZ2luYWxBdHRhY2s7XG4gICAgICAgIGNvbnN0IGRlY2F5ID0gdGhpcy50b1NlY29uZHModGhpcy5kZWNheSk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGl0J3Mgbm90IGEgY29tcGxldGUgYXR0YWNrXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAvLyBzdWJ0cmFjdCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIHRoZSBhdHRhY2sgdGltZVxuICAgICAgICAgICAgY29uc3QgYXR0YWNrUmF0ZSA9IDEgLyBhdHRhY2s7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdEaXN0YW5jZSA9IDEgLSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAvLyB0aGUgYXR0YWNrIGlzIG5vdyB0aGUgcmVtYWluaW5nIHRpbWVcbiAgICAgICAgICAgIGF0dGFjayA9IHJlbWFpbmluZ0Rpc3RhbmNlIC8gYXR0YWNrUmF0ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdHRhY2tcbiAgICAgICAgaWYgKGF0dGFjayA8IHRoaXMuc2FtcGxlVGltZSkge1xuICAgICAgICAgICAgdGhpcy5fc2lnLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aW1lKTtcbiAgICAgICAgICAgIC8vIGNhc2Ugd2hlcmUgdGhlIGF0dGFjayB0aW1lIGlzIDAgc2hvdWxkIHNldCBpbnN0YW50bHlcbiAgICAgICAgICAgIHRoaXMuX3NpZy5zZXRWYWx1ZUF0VGltZSh2ZWxvY2l0eSwgdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYXR0YWNrQ3VydmUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZy5saW5lYXJSYW1wVG8odmVsb2NpdHksIGF0dGFjaywgdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYXR0YWNrQ3VydmUgPT09IFwiZXhwb25lbnRpYWxcIikge1xuICAgICAgICAgICAgdGhpcy5fc2lnLnRhcmdldFJhbXBUbyh2ZWxvY2l0eSwgYXR0YWNrLCB0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZy5jYW5jZWxBbmRIb2xkQXRUaW1lKHRpbWUpO1xuICAgICAgICAgICAgbGV0IGN1cnZlID0gdGhpcy5fYXR0YWNrQ3VydmU7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBzdGFydGluZyBwb3NpdGlvbiBpbiB0aGUgY3VydmVcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY3VydmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3RhcnRpbmcgaW5kZXggaXMgYmV0d2VlbiB0aGUgdHdvIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmIChjdXJ2ZVtpIC0gMV0gPD0gY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZSA8PSBjdXJ2ZVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJ2ZSA9IHRoaXMuX2F0dGFja0N1cnZlLnNsaWNlKGkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QgaW5kZXggaXMgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgY3VydmVbMF0gPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NpZy5zZXRWYWx1ZUN1cnZlQXRUaW1lKGN1cnZlLCB0aW1lLCBhdHRhY2ssIHZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWNheVxuICAgICAgICBpZiAoZGVjYXkgJiYgdGhpcy5zdXN0YWluIDwgMSkge1xuICAgICAgICAgICAgY29uc3QgZGVjYXlWYWx1ZSA9IHZlbG9jaXR5ICogdGhpcy5zdXN0YWluO1xuICAgICAgICAgICAgY29uc3QgZGVjYXlTdGFydCA9IHRpbWUgKyBhdHRhY2s7XG4gICAgICAgICAgICB0aGlzLmxvZyhcImRlY2F5XCIsIGRlY2F5U3RhcnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlY2F5Q3VydmUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWcubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZGVjYXlWYWx1ZSwgZGVjYXkgKyBkZWNheVN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZy5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUoZGVjYXlWYWx1ZSwgZGVjYXlTdGFydCwgZGVjYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyB0aGUgcmVsZWFzZSBvZiB0aGUgZW52ZWxvcGUuXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdGhlIHJlbGVhc2UgcG9ydGlvbiBvZiB0aGUgZW52ZWxvcGUgc2hvdWxkIHN0YXJ0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZW52ID0gbmV3IFRvbmUuQW1wbGl0dWRlRW52ZWxvcGUoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcih7XG4gICAgICogXHR0eXBlOiBcInNhd3Rvb3RoXCJcbiAgICAgKiB9KS5jb25uZWN0KGVudikuc3RhcnQoKTtcbiAgICAgKiBlbnYudHJpZ2dlckF0dGFjaygpO1xuICAgICAqIC8vIHRyaWdnZXIgdGhlIHJlbGVhc2UgaGFsZiBhIHNlY29uZCBhZnRlciB0aGUgYXR0YWNrXG4gICAgICogZW52LnRyaWdnZXJSZWxlYXNlKFwiKzAuNVwiKTtcbiAgICAgKi9cbiAgICB0cmlnZ2VyUmVsZWFzZSh0aW1lKSB7XG4gICAgICAgIHRoaXMubG9nKFwidHJpZ2dlclJlbGVhc2VcIiwgdGltZSk7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXRWYWx1ZUF0VGltZSh0aW1lKTtcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGVhc2UgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpO1xuICAgICAgICAgICAgaWYgKHJlbGVhc2UgPCB0aGlzLnNhbXBsZVRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWcuc2V0VmFsdWVBdFRpbWUoMCwgdGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9yZWxlYXNlQ3VydmUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWcubGluZWFyUmFtcFRvKDAsIHJlbGVhc2UsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVsZWFzZUN1cnZlID09PSBcImV4cG9uZW50aWFsXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWcudGFyZ2V0UmFtcFRvKDAsIHJlbGVhc2UsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGlzQXJyYXkodGhpcy5fcmVsZWFzZUN1cnZlKSwgXCJyZWxlYXNlQ3VydmUgbXVzdCBiZSBlaXRoZXIgJ2xpbmVhcicsICdleHBvbmVudGlhbCcgb3IgYW4gYXJyYXlcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLmNhbmNlbEFuZEhvbGRBdFRpbWUodGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLnNldFZhbHVlQ3VydmVBdFRpbWUodGhpcy5fcmVsZWFzZUN1cnZlLCB0aW1lLCByZWxlYXNlLCBjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNjaGVkdWxlZCB2YWx1ZSBhdCB0aGUgZ2l2ZW4gdGltZS4gVGhpcyB3aWxsXG4gICAgICogcmV0dXJuIHRoZSB1bmNvbnZlcnRlZCAocmF3KSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGVudiA9IG5ldyBUb25lLkVudmVsb3BlKDAuNSwgMSwgMC40LCAyKTtcbiAgICAgKiBlbnYudHJpZ2dlckF0dGFja1JlbGVhc2UoMik7XG4gICAgICogc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coZW52LmdldFZhbHVlQXRUaW1lKFRvbmUubm93KCkpKSwgMTAwKTtcbiAgICAgKi9cbiAgICBnZXRWYWx1ZUF0VGltZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWcuZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRyaWdnZXJBdHRhY2tSZWxlYXNlIGlzIHNob3J0aGFuZCBmb3IgdHJpZ2dlckF0dGFjaywgdGhlbiB3YWl0aW5nXG4gICAgICogc29tZSBkdXJhdGlvbiwgdGhlbiB0cmlnZ2VyUmVsZWFzZS5cbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIG9mIHRoZSBzdXN0YWluLlxuICAgICAqIEBwYXJhbSB0aW1lIFdoZW4gdGhlIGF0dGFjayBzaG91bGQgYmUgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgb2YgdGhlIGVudmVsb3BlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZW52ID0gbmV3IFRvbmUuQW1wbGl0dWRlRW52ZWxvcGUoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLmNvbm5lY3QoZW52KS5zdGFydCgpO1xuICAgICAqIC8vIHRyaWdnZXIgdGhlIHJlbGVhc2UgMC41IHNlY29uZHMgYWZ0ZXIgdGhlIGF0dGFja1xuICAgICAqIGVudi50cmlnZ2VyQXR0YWNrUmVsZWFzZSgwLjUpO1xuICAgICAqL1xuICAgIHRyaWdnZXJBdHRhY2tSZWxlYXNlKGR1cmF0aW9uLCB0aW1lLCB2ZWxvY2l0eSA9IDEpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLnRyaWdnZXJBdHRhY2sodGltZSwgdmVsb2NpdHkpO1xuICAgICAgICB0aGlzLnRyaWdnZXJSZWxlYXNlKHRpbWUgKyB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbikpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbGwgc2NoZWR1bGVkIGVudmVsb3BlIGNoYW5nZXMgYWZ0ZXIgdGhlIGdpdmVuIHRpbWUuXG4gICAgICovXG4gICAgY2FuY2VsKGFmdGVyKSB7XG4gICAgICAgIHRoaXMuX3NpZy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy50b1NlY29uZHMoYWZ0ZXIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIGVudmVsb3BlIHRvIGEgZGVzdGluYXRpb24gbm9kZS5cbiAgICAgKi9cbiAgICBjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXROdW1iZXIgPSAwLCBpbnB1dE51bWJlciA9IDApIHtcbiAgICAgICAgY29ubmVjdFNpZ25hbCh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtYmVyLCBpbnB1dE51bWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGVudmVsb3BlIGN1cnZlIHRvIGFuIGFycmF5IG9mIHRoZSBnaXZlbiBsZW5ndGguXG4gICAgICogR29vZCBmb3IgdmlzdWFsaXppbmcgdGhlIGVudmVsb3BlIGN1cnZlLiBSZXNjYWxlcyB0aGUgZHVyYXRpb24gb2YgdGhlXG4gICAgICogZW52ZWxvcGUgdG8gZml0IHRoZSBsZW5ndGguXG4gICAgICovXG4gICAgYXNBcnJheShsZW5ndGggPSAxMDI0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGxlbmd0aCAvIHRoaXMuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBPZmZsaW5lQ29udGV4dCgxLCBkdXJhdGlvbiwgdGhpcy5jb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBBRFNSIGZvciB0aGUgZ2l2ZW4gZHVyYXRpb24gd2l0aCAyMCUgc3VzdGFpbiB0aW1lXG4gICAgICAgICAgICBjb25zdCBhdHRhY2tQb3J0aW9uID0gdGhpcy50b1NlY29uZHModGhpcy5hdHRhY2spICsgdGhpcy50b1NlY29uZHModGhpcy5kZWNheSk7XG4gICAgICAgICAgICBjb25zdCBlbnZlbG9wZUR1cmF0aW9uID0gYXR0YWNrUG9ydGlvbiArIHRoaXMudG9TZWNvbmRzKHRoaXMucmVsZWFzZSk7XG4gICAgICAgICAgICBjb25zdCBzdXN0YWluVGltZSA9IGVudmVsb3BlRHVyYXRpb24gKiAwLjE7XG4gICAgICAgICAgICBjb25zdCB0b3RhbER1cmF0aW9uID0gZW52ZWxvcGVEdXJhdGlvbiArIHN1c3RhaW5UaW1lO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihPYmplY3QuYXNzaWduKHRoaXMuZ2V0KCksIHtcbiAgICAgICAgICAgICAgICBhdHRhY2s6IGR1cmF0aW9uICogdGhpcy50b1NlY29uZHModGhpcy5hdHRhY2spIC8gdG90YWxEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBkZWNheTogZHVyYXRpb24gKiB0aGlzLnRvU2Vjb25kcyh0aGlzLmRlY2F5KSAvIHRvdGFsRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgcmVsZWFzZTogZHVyYXRpb24gKiB0aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpIC8gdG90YWxEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjbG9uZS5fc2lnLnRvRGVzdGluYXRpb24oKTtcbiAgICAgICAgICAgIGNsb25lLnRyaWdnZXJBdHRhY2tSZWxlYXNlKGR1cmF0aW9uICogKGF0dGFja1BvcnRpb24gKyBzdXN0YWluVGltZSkgLyB0b3RhbER1cmF0aW9uLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkIGNvbnRleHQucmVuZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zaWcuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIEVudmVsb3BlLnByb3RvdHlwZSwgXCJhdHRhY2tcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgRW52ZWxvcGUucHJvdG90eXBlLCBcImRlY2F5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByYW5nZSgwLCAxKVxuXSwgRW52ZWxvcGUucHJvdG90eXBlLCBcInN1c3RhaW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgRW52ZWxvcGUucHJvdG90eXBlLCBcInJlbGVhc2VcIiwgdm9pZCAwKTtcbi8qKlxuICogR2VuZXJhdGUgc29tZSBjb21wbGV4IGVudmVsb3BlIGN1cnZlcy5cbiAqL1xuY29uc3QgRW52ZWxvcGVDdXJ2ZXMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnZlTGVuID0gMTI4O1xuICAgIGxldCBpO1xuICAgIGxldCBrO1xuICAgIC8vIGNvc2luZSBjdXJ2ZVxuICAgIGNvbnN0IGNvc2luZUN1cnZlID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGN1cnZlTGVuOyBpKyspIHtcbiAgICAgICAgY29zaW5lQ3VydmVbaV0gPSBNYXRoLnNpbigoaSAvIChjdXJ2ZUxlbiAtIDEpKSAqIChNYXRoLlBJIC8gMikpO1xuICAgIH1cbiAgICAvLyByaXBwbGUgY3VydmVcbiAgICBjb25zdCByaXBwbGVDdXJ2ZSA9IFtdO1xuICAgIGNvbnN0IHJpcHBsZUN1cnZlRnJlcSA9IDYuNDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY3VydmVMZW4gLSAxOyBpKyspIHtcbiAgICAgICAgayA9IChpIC8gKGN1cnZlTGVuIC0gMSkpO1xuICAgICAgICBjb25zdCBzaW5lV2F2ZSA9IE1hdGguc2luKGsgKiAoTWF0aC5QSSAqIDIpICogcmlwcGxlQ3VydmVGcmVxIC0gTWF0aC5QSSAvIDIpICsgMTtcbiAgICAgICAgcmlwcGxlQ3VydmVbaV0gPSBzaW5lV2F2ZSAvIDEwICsgayAqIDAuODM7XG4gICAgfVxuICAgIHJpcHBsZUN1cnZlW2N1cnZlTGVuIC0gMV0gPSAxO1xuICAgIC8vIHN0YWlycyBjdXJ2ZVxuICAgIGNvbnN0IHN0YWlyc0N1cnZlID0gW107XG4gICAgY29uc3Qgc3RlcHMgPSA1O1xuICAgIGZvciAoaSA9IDA7IGkgPCBjdXJ2ZUxlbjsgaSsrKSB7XG4gICAgICAgIHN0YWlyc0N1cnZlW2ldID0gTWF0aC5jZWlsKChpIC8gKGN1cnZlTGVuIC0gMSkpICogc3RlcHMpIC8gc3RlcHM7XG4gICAgfVxuICAgIC8vIGluLW91dCBlYXNpbmcgY3VydmVcbiAgICBjb25zdCBzaW5lQ3VydmUgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY3VydmVMZW47IGkrKykge1xuICAgICAgICBrID0gaSAvIChjdXJ2ZUxlbiAtIDEpO1xuICAgICAgICBzaW5lQ3VydmVbaV0gPSAwLjUgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiBrKSk7XG4gICAgfVxuICAgIC8vIGEgYm91bmNlIGN1cnZlXG4gICAgY29uc3QgYm91bmNlQ3VydmUgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY3VydmVMZW47IGkrKykge1xuICAgICAgICBrID0gaSAvIChjdXJ2ZUxlbiAtIDEpO1xuICAgICAgICBjb25zdCBmcmVxID0gTWF0aC5wb3coaywgMykgKiA0ICsgMC4yO1xuICAgICAgICBjb25zdCB2YWwgPSBNYXRoLmNvcyhmcmVxICogTWF0aC5QSSAqIDIgKiBrKTtcbiAgICAgICAgYm91bmNlQ3VydmVbaV0gPSBNYXRoLmFicyh2YWwgKiAoMSAtIGspKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52ZXJ0IGEgdmFsdWUgY3VydmUgdG8gbWFrZSBpdCB3b3JrIGZvciB0aGUgcmVsZWFzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVydEN1cnZlKGN1cnZlKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBBcnJheShjdXJ2ZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN1cnZlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBvdXRbal0gPSAxIC0gY3VydmVbal07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmV2ZXJzZSB0aGUgY3VydmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlQ3VydmUoY3VydmUpIHtcbiAgICAgICAgcmV0dXJuIGN1cnZlLnNsaWNlKDApLnJldmVyc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYXR0YWNrIGFuZCByZWxlYXNlIGN1cnZlIGFycmF5c1xuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIGJvdW5jZToge1xuICAgICAgICAgICAgSW46IGludmVydEN1cnZlKGJvdW5jZUN1cnZlKSxcbiAgICAgICAgICAgIE91dDogYm91bmNlQ3VydmUsXG4gICAgICAgIH0sXG4gICAgICAgIGNvc2luZToge1xuICAgICAgICAgICAgSW46IGNvc2luZUN1cnZlLFxuICAgICAgICAgICAgT3V0OiByZXZlcnNlQ3VydmUoY29zaW5lQ3VydmUpLFxuICAgICAgICB9LFxuICAgICAgICBleHBvbmVudGlhbDogXCJleHBvbmVudGlhbFwiLFxuICAgICAgICBsaW5lYXI6IFwibGluZWFyXCIsXG4gICAgICAgIHJpcHBsZToge1xuICAgICAgICAgICAgSW46IHJpcHBsZUN1cnZlLFxuICAgICAgICAgICAgT3V0OiBpbnZlcnRDdXJ2ZShyaXBwbGVDdXJ2ZSksXG4gICAgICAgIH0sXG4gICAgICAgIHNpbmU6IHtcbiAgICAgICAgICAgIEluOiBzaW5lQ3VydmUsXG4gICAgICAgICAgICBPdXQ6IGludmVydEN1cnZlKHNpbmVDdXJ2ZSksXG4gICAgICAgIH0sXG4gICAgICAgIHN0ZXA6IHtcbiAgICAgICAgICAgIEluOiBzdGFpcnNDdXJ2ZSxcbiAgICAgICAgICAgIE91dDogaW52ZXJ0Q3VydmUoc3RhaXJzQ3VydmUpLFxuICAgICAgICB9LFxuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW52ZWxvcGUuanMubWFwIiwiaW1wb3J0IHsgVm9sdW1lIH0gZnJvbSBcIi4uL2NvbXBvbmVudC9jaGFubmVsL1ZvbHVtZVwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG4vKipcbiAqIEJhc2UtY2xhc3MgZm9yIGFsbCBpbnN0cnVtZW50c1xuICovXG5leHBvcnQgY2xhc3MgSW5zdHJ1bWVudCBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhJbnN0cnVtZW50LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cykpO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiBhbGwgZXZlbnRzIHNjaGVkdWxlZCB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAqIHdoZW4gdGhlIGluc3RydW1lbnQgaXMgJ3N5bmNlZCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGluc3RydW1lbnQgaXMgY3VycmVudGx5IHN5bmNlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3luY2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsX3RyaWdnZXJBdHRhY2sgPSB0aGlzLnRyaWdnZXJBdHRhY2s7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsX3RyaWdnZXJSZWxlYXNlID0gdGhpcy50cmlnZ2VyUmVsZWFzZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKEluc3RydW1lbnQuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fdm9sdW1lID0gdGhpcy5vdXRwdXQgPSBuZXcgVm9sdW1lKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHZvbHVtZTogb3B0aW9ucy52b2x1bWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuX3ZvbHVtZS52b2x1bWU7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwidm9sdW1lXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgdm9sdW1lOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luYyB0aGUgaW5zdHJ1bWVudCB0byB0aGUgVHJhbnNwb3J0LiBBbGwgc3Vic2VxdWVudCBjYWxscyBvZlxuICAgICAqIFtbdHJpZ2dlckF0dGFja11dIGFuZCBbW3RyaWdnZXJSZWxlYXNlXV0gd2lsbCBiZSBzY2hlZHVsZWQgYWxvbmcgdGhlIHRyYW5zcG9ydC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZtU3ludGggPSBuZXcgVG9uZS5GTVN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIGZtU3ludGgudm9sdW1lLnZhbHVlID0gLTY7XG4gICAgICogZm1TeW50aC5zeW5jKCk7XG4gICAgICogLy8gc2NoZWR1bGUgMyBub3RlcyB3aGVuIHRoZSB0cmFuc3BvcnQgZmlyc3Qgc3RhcnRzXG4gICAgICogZm1TeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcIkM0XCIsIFwiOG5cIiwgMCk7XG4gICAgICogZm1TeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcIkU0XCIsIFwiOG5cIiwgXCI4blwiKTtcbiAgICAgKiBmbVN5bnRoLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFwiRzRcIiwgXCI4blwiLCBcIjRuXCIpO1xuICAgICAqIC8vIHN0YXJ0IHRoZSB0cmFuc3BvcnQgdG8gaGVhciB0aGUgbm90ZXNcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zdGFydCgpO1xuICAgICAqL1xuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeW5jU3RhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJBdHRhY2tcIiwgMSk7XG4gICAgICAgICAgICB0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlclJlbGVhc2VcIiwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldCBfc3luY1xuICAgICAqL1xuICAgIF9zeW5jU3RhdGUoKSB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXAgdGhlIGdpdmVuIG1ldGhvZCBzbyB0aGF0IGl0IGNhbiBiZSBzeW5jaHJvbml6ZWRcbiAgICAgKiBAcGFyYW0gbWV0aG9kIFdoaWNoIG1ldGhvZCB0byB3cmFwIGFuZCBzeW5jXG4gICAgICogQHBhcmFtICB0aW1lUG9zaXRpb24gV2hhdCBwb3NpdGlvbiB0aGUgdGltZSBhcmd1bWVudCBhcHBlYXJzIGluXG4gICAgICovXG4gICAgX3N5bmNNZXRob2QobWV0aG9kLCB0aW1lUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSB0aGlzW1wiX29yaWdpbmFsX1wiICsgbWV0aG9kXSA9IHRoaXNbbWV0aG9kXTtcbiAgICAgICAgdGhpc1ttZXRob2RdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBhcmdzW3RpbWVQb3NpdGlvbl07XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2NoZWR1bGUoKHQpID0+IHtcbiAgICAgICAgICAgICAgICBhcmdzW3RpbWVQb3NpdGlvbl0gPSB0O1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfSwgdGltZSk7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZWRFdmVudHMucHVzaChpZCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3luYyB0aGUgaW5zdHJ1bWVudCBmcm9tIHRoZSBUcmFuc3BvcnRcbiAgICAgKi9cbiAgICB1bnN5bmMoKSB7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50cy5mb3JFYWNoKGlkID0+IHRoaXMuY29udGV4dC50cmFuc3BvcnQuY2xlYXIoaWQpKTtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVkRXZlbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLl9zeW5jZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N5bmNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQXR0YWNrID0gdGhpcy5fb3JpZ2luYWxfdHJpZ2dlckF0dGFjaztcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlbGVhc2UgPSB0aGlzLl9vcmlnaW5hbF90cmlnZ2VyUmVsZWFzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgYXR0YWNrIGFuZCB0aGVuIHRoZSByZWxlYXNlIGFmdGVyIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIG5vdGUgICAgIFRoZSBub3RlIHRvIHRyaWdnZXIuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBIb3cgbG9uZyB0aGUgbm90ZSBzaG91bGQgYmUgaGVsZCBmb3IgYmVmb3JlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmluZyB0aGUgcmVsZWFzZS4gVGhpcyB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLlxuICAgICAqIEBwYXJhbSB0aW1lICBXaGVuIHRoZSBub3RlIHNob3VsZCBiZSB0cmlnZ2VyZWQuXG4gICAgICogQHBhcmFtICB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgdGhlIG5vdGUgc2hvdWxkIGJlIHRyaWdnZXJlZCBhdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN5bnRoID0gbmV3IFRvbmUuU3ludGgoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogLy8gdHJpZ2dlciBcIkM0XCIgZm9yIHRoZSBkdXJhdGlvbiBvZiBhbiA4dGggbm90ZVxuICAgICAqIHN5bnRoLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFwiQzRcIiwgXCI4blwiKTtcbiAgICAgKi9cbiAgICB0cmlnZ2VyQXR0YWNrUmVsZWFzZShub3RlLCBkdXJhdGlvbiwgdGltZSwgdmVsb2NpdHkpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRHVyYXRpb24gPSB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbik7XG4gICAgICAgIHRoaXMudHJpZ2dlckF0dGFjayhub3RlLCBjb21wdXRlZFRpbWUsIHZlbG9jaXR5KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyUmVsZWFzZShjb21wdXRlZFRpbWUgKyBjb21wdXRlZER1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFuIHVwXG4gICAgICogQHJldHVybnMge0luc3RydW1lbnR9IHRoaXNcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudW5zeW5jKCk7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50cyA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnN0cnVtZW50LmpzLm1hcCIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEZyZXF1ZW5jeUNsYXNzIH0gZnJvbSBcIi4uL2NvcmUvdHlwZS9GcmVxdWVuY3lcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgbm9PcCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJbnN0cnVtZW50IH0gZnJvbSBcIi4uL2luc3RydW1lbnQvSW5zdHJ1bWVudFwiO1xuaW1wb3J0IHsgdGltZVJhbmdlIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWNvcmF0b3JcIjtcbi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3Igb3RoZXIgbW9ub3Bob25pYyBpbnN0cnVtZW50cyB0byBleHRlbmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb25vcGhvbmljIGV4dGVuZHMgSW5zdHJ1bWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKE1vbm9waG9uaWMuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhNb25vcGhvbmljLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucG9ydGFtZW50byA9IG9wdGlvbnMucG9ydGFtZW50bztcbiAgICAgICAgdGhpcy5vbnNpbGVuY2UgPSBvcHRpb25zLm9uc2lsZW5jZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihJbnN0cnVtZW50LmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIG9uc2lsZW5jZTogbm9PcCxcbiAgICAgICAgICAgIHBvcnRhbWVudG86IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBhdHRhY2sgb2YgdGhlIG5vdGUgb3B0aW9uYWxseSB3aXRoIGEgZ2l2ZW4gdmVsb2NpdHkuXG4gICAgICogQHBhcmFtICBub3RlIFRoZSBub3RlIHRvIHRyaWdnZXIuXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdGhlIG5vdGUgc2hvdWxkIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAgdmVsb2NpdHkgVGhlIHZlbG9jaXR5IHNjYWxlciBkZXRlcm1pbmVzIGhvdyBcImxvdWRcIiB0aGUgbm90ZSB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN5bnRoID0gbmV3IFRvbmUuU3ludGgoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogLy8gdHJpZ2dlciB0aGUgbm90ZSBhIGhhbGYgc2Vjb25kIGZyb20gbm93IGF0IGhhbGYgdmVsb2NpdHlcbiAgICAgKiBzeW50aC50cmlnZ2VyQXR0YWNrKFwiQzRcIiwgXCIrMC41XCIsIDAuNSk7XG4gICAgICovXG4gICAgdHJpZ2dlckF0dGFjayhub3RlLCB0aW1lLCB2ZWxvY2l0eSA9IDEpIHtcbiAgICAgICAgdGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsIG5vdGUsIHRpbWUsIHZlbG9jaXR5KTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2soc2Vjb25kcywgdmVsb2NpdHkpO1xuICAgICAgICB0aGlzLnNldE5vdGUobm90ZSwgc2Vjb25kcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSByZWxlYXNlIHBvcnRpb24gb2YgdGhlIGVudmVsb3BlXG4gICAgICogQHBhcmFtICB0aW1lIElmIG5vIHRpbWUgaXMgZ2l2ZW4sIHRoZSByZWxlYXNlIGhhcHBlbnMgaW1tZWRpYXRseVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ludGggPSBuZXcgVG9uZS5TeW50aCgpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBzeW50aC50cmlnZ2VyQXR0YWNrKFwiQzRcIik7XG4gICAgICogLy8gdHJpZ2dlciB0aGUgcmVsZWFzZSBhIHNlY29uZCBmcm9tIG5vd1xuICAgICAqIHN5bnRoLnRyaWdnZXJSZWxlYXNlKFwiKzFcIik7XG4gICAgICovXG4gICAgdHJpZ2dlclJlbGVhc2UodGltZSkge1xuICAgICAgICB0aGlzLmxvZyhcInRyaWdnZXJSZWxlYXNlXCIsIHRpbWUpO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2Uoc2Vjb25kcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG5vdGUgYXQgdGhlIGdpdmVuIHRpbWUuIElmIG5vIHRpbWUgaXMgZ2l2ZW4sIHRoZSBub3RlXG4gICAgICogd2lsbCBzZXQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIG5vdGUgVGhlIG5vdGUgdG8gY2hhbmdlIHRvLlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB3aGVuIHRoZSBub3RlIHNob3VsZCBiZSBzZXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzeW50aCA9IG5ldyBUb25lLlN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHN5bnRoLnRyaWdnZXJBdHRhY2soXCJDNFwiKTtcbiAgICAgKiAvLyBjaGFuZ2UgdG8gRiM2IGluIG9uZSBxdWFydGVyIG5vdGUgZnJvbSBub3cuXG4gICAgICogc3ludGguc2V0Tm90ZShcIkYjNlwiLCBcIis0blwiKTtcbiAgICAgKi9cbiAgICBzZXROb3RlKG5vdGUsIHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRnJlcXVlbmN5ID0gbm90ZSBpbnN0YW5jZW9mIEZyZXF1ZW5jeUNsYXNzID8gbm90ZS50b0ZyZXF1ZW5jeSgpIDogbm90ZTtcbiAgICAgICAgaWYgKHRoaXMucG9ydGFtZW50byA+IDAgJiYgdGhpcy5nZXRMZXZlbEF0VGltZShjb21wdXRlZFRpbWUpID4gMC4wNSkge1xuICAgICAgICAgICAgY29uc3QgcG9ydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLnBvcnRhbWVudG8pO1xuICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG8oY29tcHV0ZWRGcmVxdWVuY3ksIHBvcnRUaW1lLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRGcmVxdWVuY3ksIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgdGltZVJhbmdlKDApXG5dLCBNb25vcGhvbmljLnByb3RvdHlwZSwgXCJwb3J0YW1lbnRvXCIsIHZvaWQgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb25vcGhvbmljLmpzLm1hcCIsImltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgRW52ZWxvcGUgfSBmcm9tIFwiLi9FbnZlbG9wZVwiO1xuLyoqXG4gKiBBbXBsaXR1ZGVFbnZlbG9wZSBpcyBhIFRvbmUuRW52ZWxvcGUgY29ubmVjdGVkIHRvIGEgZ2FpbiBub2RlLlxuICogVW5saWtlIFRvbmUuRW52ZWxvcGUsIHdoaWNoIG91dHB1dHMgdGhlIGVudmVsb3BlJ3MgdmFsdWUsIEFtcGxpdHVkZUVudmVsb3BlIGFjY2VwdHNcbiAqIGFuIGF1ZGlvIHNpZ25hbCBhcyB0aGUgaW5wdXQgYW5kIHdpbGwgYXBwbHkgdGhlIGVudmVsb3BlIHRvIHRoZSBhbXBsaXR1ZGVcbiAqIG9mIHRoZSBzaWduYWwuXG4gKiBSZWFkIG1vcmUgYWJvdXQgQURTUiBFbnZlbG9wZXMgb24gW1dpa2lwZWRpYV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ludGhlc2l6ZXIjQURTUl9lbnZlbG9wZSkuXG4gKlxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogXHRjb25zdCBhbXBFbnYgPSBuZXcgVG9uZS5BbXBsaXR1ZGVFbnZlbG9wZSh7XG4gKiBcdFx0YXR0YWNrOiAwLjEsXG4gKiBcdFx0ZGVjYXk6IDAuMixcbiAqIFx0XHRzdXN0YWluOiAxLjAsXG4gKiBcdFx0cmVsZWFzZTogMC44XG4gKiBcdH0pLnRvRGVzdGluYXRpb24oKTtcbiAqIFx0Ly8gY3JlYXRlIGFuIG9zY2lsbGF0b3IgYW5kIGNvbm5lY3QgaXRcbiAqIFx0Y29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLmNvbm5lY3QoYW1wRW52KS5zdGFydCgpO1xuICogXHQvLyB0cmlnZ2VyIHRoZSBlbnZlbG9wZXMgYXR0YWNrIGFuZCByZWxlYXNlIFwiOHRcIiBhcGFydFxuICogXHRhbXBFbnYudHJpZ2dlckF0dGFja1JlbGVhc2UoXCI4dFwiKTtcbiAqIH0sIDEuNSwgMSk7XG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBsaXR1ZGVFbnZlbG9wZSBleHRlbmRzIEVudmVsb3BlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoQW1wbGl0dWRlRW52ZWxvcGUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJhdHRhY2tcIiwgXCJkZWNheVwiLCBcInN1c3RhaW5cIiwgXCJyZWxlYXNlXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQW1wbGl0dWRlRW52ZWxvcGVcIjtcbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBnYWluOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXQgPSB0aGlzLl9nYWluTm9kZTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX2dhaW5Ob2RlO1xuICAgICAgICB0aGlzLl9zaWcuY29ubmVjdCh0aGlzLl9nYWluTm9kZS5nYWluKTtcbiAgICAgICAgdGhpcy5vdXRwdXQgPSB0aGlzLl9nYWluTm9kZTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX2dhaW5Ob2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbXBsaXR1ZGVFbnZlbG9wZS5qcy5tYXAiLCJpbXBvcnQgeyBBbXBsaXR1ZGVFbnZlbG9wZSB9IGZyb20gXCIuLi9jb21wb25lbnQvZW52ZWxvcGUvQW1wbGl0dWRlRW52ZWxvcGVcIjtcbmltcG9ydCB7IEVudmVsb3BlIH0gZnJvbSBcIi4uL2NvbXBvbmVudC9lbnZlbG9wZS9FbnZlbG9wZVwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgb21pdEZyb21PYmplY3QsIG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgT21uaU9zY2lsbGF0b3IgfSBmcm9tIFwiLi4vc291cmNlL29zY2lsbGF0b3IvT21uaU9zY2lsbGF0b3JcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9zb3VyY2UvU291cmNlXCI7XG5pbXBvcnQgeyBNb25vcGhvbmljIH0gZnJvbSBcIi4vTW9ub3Bob25pY1wiO1xuLyoqXG4gKiBTeW50aCBpcyBjb21wb3NlZCBzaW1wbHkgb2YgYSBbW09tbmlPc2NpbGxhdG9yXV0gcm91dGVkIHRocm91Z2ggYW4gW1tBbXBsaXR1ZGVFbnZlbG9wZV1dLlxuICogYGBgXG4gKiArLS0tLS0tLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIHwgT21uaU9zY2lsbGF0b3IgKz4tLT4gQW1wbGl0dWRlRW52ZWxvcGUgKz4tLT4gT3V0cHV0XG4gKiArLS0tLS0tLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIGBgYFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHN5bnRoID0gbmV3IFRvbmUuU3ludGgoKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBzeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcIkM0XCIsIFwiOG5cIik7XG4gKiBAY2F0ZWdvcnkgSW5zdHJ1bWVudFxuICovXG5leHBvcnQgY2xhc3MgU3ludGggZXh0ZW5kcyBNb25vcGhvbmljIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoU3ludGguZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU3ludGhcIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFN5bnRoLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMub3NjaWxsYXRvciA9IG5ldyBPbW5pT3NjaWxsYXRvcihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGRldHVuZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgICAgICBvbnN0b3A6ICgpID0+IHRoaXMub25zaWxlbmNlKHRoaXMpLFxuICAgICAgICB9LCBvcHRpb25zLm9zY2lsbGF0b3IpKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSB0aGlzLm9zY2lsbGF0b3IuZnJlcXVlbmN5O1xuICAgICAgICB0aGlzLmRldHVuZSA9IHRoaXMub3NjaWxsYXRvci5kZXR1bmU7XG4gICAgICAgIHRoaXMuZW52ZWxvcGUgPSBuZXcgQW1wbGl0dWRlRW52ZWxvcGUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgIH0sIG9wdGlvbnMuZW52ZWxvcGUpKTtcbiAgICAgICAgLy8gY29ubmVjdCB0aGUgb3NjaWxsYXRvcnMgdG8gdGhlIG91dHB1dFxuICAgICAgICB0aGlzLm9zY2lsbGF0b3IuY2hhaW4odGhpcy5lbnZlbG9wZSwgdGhpcy5vdXRwdXQpO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJvc2NpbGxhdG9yXCIsIFwiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCIsIFwiZW52ZWxvcGVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE1vbm9waG9uaWMuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgZW52ZWxvcGU6IE9iamVjdC5hc3NpZ24ob21pdEZyb21PYmplY3QoRW52ZWxvcGUuZ2V0RGVmYXVsdHMoKSwgT2JqZWN0LmtleXMoVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpKSksIHtcbiAgICAgICAgICAgICAgICBhdHRhY2s6IDAuMDA1LFxuICAgICAgICAgICAgICAgIGRlY2F5OiAwLjEsXG4gICAgICAgICAgICAgICAgcmVsZWFzZTogMSxcbiAgICAgICAgICAgICAgICBzdXN0YWluOiAwLjMsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9zY2lsbGF0b3I6IE9iamVjdC5hc3NpZ24ob21pdEZyb21PYmplY3QoT21uaU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgWy4uLk9iamVjdC5rZXlzKFNvdXJjZS5nZXREZWZhdWx0cygpKSwgXCJmcmVxdWVuY3lcIiwgXCJkZXR1bmVcIl0pLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0cmlhbmdsZVwiLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgYXR0YWNrIHBvcnRpb24gb2YgdGhlIGVudmVsb3BlXG4gICAgICogQHBhcmFtIHRpbWUgdGhlIHRpbWUgdGhlIGF0dGFjayBzaG91bGQgc3RhcnRcbiAgICAgKiBAcGFyYW0gdmVsb2NpdHkgdGhlIHZlbG9jaXR5IG9mIHRoZSBub3RlICgwLTEpXG4gICAgICovXG4gICAgX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0aW1lLCB2ZWxvY2l0eSkge1xuICAgICAgICAvLyB0aGUgZW52ZWxvcGVzXG4gICAgICAgIHRoaXMuZW52ZWxvcGUudHJpZ2dlckF0dGFjayh0aW1lLCB2ZWxvY2l0eSk7XG4gICAgICAgIHRoaXMub3NjaWxsYXRvci5zdGFydCh0aW1lKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gcmVsZWFzZSBwb3J0aW9uLCBzdG9wIHRoZSBvc2NpbGxhdG9yXG4gICAgICAgIGlmICh0aGlzLmVudmVsb3BlLnN1c3RhaW4gPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkQXR0YWNrID0gdGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5hdHRhY2spO1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWREZWNheSA9IHRoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUuZGVjYXkpO1xuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yLnN0b3AodGltZSArIGNvbXB1dGVkQXR0YWNrICsgY29tcHV0ZWREZWNheSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIHJlbGVhc2UgcG9ydGlvbiBvZiB0aGUgZW52ZWxvcGVcbiAgICAgKiBAcGFyYW0gdGltZSB0aGUgdGltZSB0aGUgcmVsZWFzZSBzaG91bGQgc3RhcnRcbiAgICAgKi9cbiAgICBfdHJpZ2dlckVudmVsb3BlUmVsZWFzZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuZW52ZWxvcGUudHJpZ2dlclJlbGVhc2UodGltZSk7XG4gICAgICAgIHRoaXMub3NjaWxsYXRvci5zdG9wKHRpbWUgKyB0aGlzLnRvU2Vjb25kcyh0aGlzLmVudmVsb3BlLnJlbGVhc2UpKTtcbiAgICB9XG4gICAgZ2V0TGV2ZWxBdFRpbWUodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVudmVsb3BlLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9yLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5lbnZlbG9wZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN5bnRoLmpzLm1hcCIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEZyZXF1ZW5jeUNsYXNzIH0gZnJvbSBcIi4uL2NvcmUvdHlwZS9GcmVxdWVuY3lcIjtcbmltcG9ydCB7IGRlZXBNZXJnZSwgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBNb25vcGhvbmljIH0gZnJvbSBcIi4vTW9ub3Bob25pY1wiO1xuaW1wb3J0IHsgU3ludGggfSBmcm9tIFwiLi9TeW50aFwiO1xuaW1wb3J0IHsgcmFuZ2UsIHRpbWVSYW5nZSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVjb3JhdG9yXCI7XG4vKipcbiAqIE1lbWJyYW5lU3ludGggbWFrZXMga2ljayBhbmQgdG9tIHNvdW5kcyB1c2luZyBhIHNpbmdsZSBvc2NpbGxhdG9yXG4gKiB3aXRoIGFuIGFtcGxpdHVkZSBlbnZlbG9wZSBhbmQgZnJlcXVlbmN5IHJhbXAuIEEgVG9uZS5PbW5pT3NjaWxsYXRvclxuICogaXMgcm91dGVkIHRocm91Z2ggYSBUb25lLkFtcGxpdHVkZUVudmVsb3BlIHRvIHRoZSBvdXRwdXQuIFRoZSBkcnVtXG4gKiBxdWFsaXR5IG9mIHRoZSBzb3VuZCBjb21lcyBmcm9tIHRoZSBmcmVxdWVuY3kgZW52ZWxvcGUgYXBwbGllZFxuICogZHVyaW5nIE1lbWJyYW5lU3ludGgudHJpZ2dlckF0dGFjayhub3RlKS4gVGhlIGZyZXF1ZW5jeSBlbnZlbG9wZVxuICogc3RhcnRzIGF0IDxjb2RlPm5vdGUgKiAub2N0YXZlczwvY29kZT4gYW5kIHJhbXBzIHRvIDxjb2RlPm5vdGU8L2NvZGU+XG4gKiBvdmVyIHRoZSBkdXJhdGlvbiBvZiA8Y29kZT4ucGl0Y2hEZWNheTwvY29kZT4uXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc3ludGggPSBuZXcgVG9uZS5NZW1icmFuZVN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICogc3ludGgudHJpZ2dlckF0dGFja1JlbGVhc2UoXCJDMlwiLCBcIjhuXCIpO1xuICogQGNhdGVnb3J5IEluc3RydW1lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIE1lbWJyYW5lU3ludGggZXh0ZW5kcyBTeW50aCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKE1lbWJyYW5lU3ludGguZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWVtYnJhbmVTeW50aFwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9ydGFtZW50byBpcyBpZ25vcmVkIGluIHRoaXMgc3ludGguIHVzZSBwaXRjaCBkZWNheSBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3J0YW1lbnRvID0gMDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKE1lbWJyYW5lU3ludGguZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5waXRjaERlY2F5ID0gb3B0aW9ucy5waXRjaERlY2F5O1xuICAgICAgICB0aGlzLm9jdGF2ZXMgPSBvcHRpb25zLm9jdGF2ZXM7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcIm9zY2lsbGF0b3JcIiwgXCJlbnZlbG9wZVwiXSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBNZXJnZShNb25vcGhvbmljLmdldERlZmF1bHRzKCksIFN5bnRoLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGVudmVsb3BlOiB7XG4gICAgICAgICAgICAgICAgYXR0YWNrOiAwLjAwMSxcbiAgICAgICAgICAgICAgICBhdHRhY2tDdXJ2ZTogXCJleHBvbmVudGlhbFwiLFxuICAgICAgICAgICAgICAgIGRlY2F5OiAwLjQsXG4gICAgICAgICAgICAgICAgcmVsZWFzZTogMS40LFxuICAgICAgICAgICAgICAgIHN1c3RhaW46IDAuMDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2N0YXZlczogMTAsXG4gICAgICAgICAgICBvc2NpbGxhdG9yOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzaW5lXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGl0Y2hEZWNheTogMC4wNSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldE5vdGUobm90ZSwgdGltZSkge1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGhlcnR6ID0gdGhpcy50b0ZyZXF1ZW5jeShub3RlIGluc3RhbmNlb2YgRnJlcXVlbmN5Q2xhc3MgPyBub3RlLnRvRnJlcXVlbmN5KCkgOiBub3RlKTtcbiAgICAgICAgY29uc3QgbWF4Tm90ZSA9IGhlcnR6ICogdGhpcy5vY3RhdmVzO1xuICAgICAgICB0aGlzLm9zY2lsbGF0b3IuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKG1heE5vdGUsIHNlY29uZHMpO1xuICAgICAgICB0aGlzLm9zY2lsbGF0b3IuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoaGVydHosIHNlY29uZHMgKyB0aGlzLnRvU2Vjb25kcyh0aGlzLnBpdGNoRGVjYXkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcmFuZ2UoMClcbl0sIE1lbWJyYW5lU3ludGgucHJvdG90eXBlLCBcIm9jdGF2ZXNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgTWVtYnJhbmVTeW50aC5wcm90b3R5cGUsIFwicGl0Y2hEZWNheVwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVtYnJhbmVTeW50aC5qcy5tYXAiLCIvKipcbiAqIEFsbCBvZiB0aGUgY2xhc3NlcyBvciBmdW5jdGlvbnMgd2hpY2ggYXJlIGxvYWRlZCBpbnRvIHRoZSBBdWRpb1dvcmtsZXRHbG9iYWxTY29wZVxuICovXG5jb25zdCB3b3JrbGV0Q29udGV4dCA9IG5ldyBTZXQoKTtcbi8qKlxuICogQWRkIGEgY2xhc3MgdG8gdGhlIEF1ZGlvV29ya2xldEdsb2JhbFNjb3BlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRUb1dvcmtsZXQoY2xhc3NPckZ1bmN0aW9uKSB7XG4gICAgd29ya2xldENvbnRleHQuYWRkKGNsYXNzT3JGdW5jdGlvbik7XG59XG4vKipcbiAqIFJlZ2lzdGVyIGEgcHJvY2Vzc29yIGluIHRoZSBBdWRpb1dvcmtsZXRHbG9iYWxTY29wZSB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclByb2Nlc3NvcihuYW1lLCBjbGFzc0Rlc2MpIHtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSAvKiBqYXZhc2NyaXB0ICovIGByZWdpc3RlclByb2Nlc3NvcihcIiR7bmFtZX1cIiwgJHtjbGFzc0Rlc2N9KWA7XG4gICAgd29ya2xldENvbnRleHQuYWRkKHByb2Nlc3Nvcik7XG59XG4vKipcbiAqIEdldCBhbGwgb2YgdGhlIG1vZHVsZXMgd2hpY2ggaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgdG8gdGhlIEF1ZGlvV29ya2xldEdsb2JhbFNjb3BlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JrbGV0R2xvYmFsU2NvcGUoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20od29ya2xldENvbnRleHQpLmpvaW4oXCJcXG5cIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Xb3JrbGV0R2xvYmFsU2NvcGUuanMubWFwIiwiaW1wb3J0IHsgYWRkVG9Xb3JrbGV0IH0gZnJvbSBcIi4vV29ya2xldEdsb2JhbFNjb3BlXCI7XG5jb25zdCB0b25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yID0gLyogamF2YXNjcmlwdCAqLyBgXG5cdC8qKlxuXHQgKiBUaGUgYmFzZSBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgZm9yIHVzZSBpbiBUb25lLmpzLiBXb3JrcyB3aXRoIHRoZSBbW1RvbmVBdWRpb1dvcmtsZXRdXS4gXG5cdCAqL1xuXHRjbGFzcyBUb25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcblxuXHRcdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRcdFxuXHRcdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0XHQvKipcblx0XHRcdCAqIElmIHRoZSBwcm9jZXNzb3Igd2FzIGRpc3Bvc2VkIG9yIG5vdC4gS2VlcCBhbGl2ZSB1bnRpbCBpdCdzIGRpc3Bvc2VkLlxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG5cdFx0ICAgXHQvKiogXG5cdFx0XHQgKiBUaGUgbnVtYmVyIG9mIHNhbXBsZXMgaW4gdGhlIHByb2Nlc3NpbmcgYmxvY2tcblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5ibG9ja1NpemUgPSAxMjg7XG5cdFx0XHQvKipcblx0XHRcdCAqIHRoZSBzYW1wbGUgcmF0ZVxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuXG5cdFx0XHR0aGlzLnBvcnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdC8vIHdoZW4gaXQgcmVjZWl2ZXMgYSBkaXNwb3NlIFxuXHRcdFx0XHRpZiAoZXZlbnQuZGF0YSA9PT0gXCJkaXNwb3NlXCIpIHtcblx0XHRcdFx0XHR0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH1cbmA7XG5hZGRUb1dvcmtsZXQodG9uZUF1ZGlvV29ya2xldFByb2Nlc3Nvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLndvcmtsZXQuanMubWFwIiwiaW1wb3J0IFwiLi9Ub25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLndvcmtsZXRcIjtcbmltcG9ydCB7IGFkZFRvV29ya2xldCB9IGZyb20gXCIuL1dvcmtsZXRHbG9iYWxTY29wZVwiO1xuZXhwb3J0IGNvbnN0IHNpbmdsZUlPUHJvY2VzcyA9IC8qIGphdmFzY3JpcHQgKi8gYFxuXHQvKipcblx0ICogQWJzdHJhY3QgY2xhc3MgZm9yIGEgc2luZ2xlIGlucHV0L291dHB1dCBwcm9jZXNzb3IuIFxuXHQgKiBoYXMgYSAnZ2VuZXJhdGUnIGZ1bmN0aW9uIHdoaWNoIHByb2Nlc3NlcyBvbmUgc2FtcGxlIGF0IGEgdGltZVxuXHQgKi9cblx0Y2xhc3MgU2luZ2xlSU9Qcm9jZXNzb3IgZXh0ZW5kcyBUb25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcblxuXHRcdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyKE9iamVjdC5hc3NpZ24ob3B0aW9ucywge1xuXHRcdFx0XHRudW1iZXJPZklucHV0czogMSxcblx0XHRcdFx0bnVtYmVyT2ZPdXRwdXRzOiAxXG5cdFx0XHR9KSk7XG5cdFx0XHQvKipcblx0XHRcdCAqIEhvbGRzIHRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgYW5kIGEgc2luZ2xlIHZhbHVlIG9mIHRoYXRcblx0XHRcdCAqIHBhcmFtZXRlciBhdCB0aGUgY3VycmVudCBzYW1wbGVcblx0XHRcdCAqIEB0eXBlIHsgW25hbWU6IHN0cmluZ106IG51bWJlciB9XG5cdFx0XHQgKi9cblx0XHRcdHRoaXMucGFyYW1zID0ge31cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBHZW5lcmF0ZSBhbiBvdXRwdXQgc2FtcGxlIGZyb20gdGhlIGlucHV0IHNhbXBsZSBhbmQgcGFyYW1ldGVyc1xuXHRcdCAqIEBhYnN0cmFjdFxuXHRcdCAqIEBwYXJhbSBpbnB1dCBudW1iZXJcblx0XHQgKiBAcGFyYW0gY2hhbm5lbCBudW1iZXJcblx0XHQgKiBAcGFyYW0gcGFyYW1ldGVycyB7IFtuYW1lOiBzdHJpbmddOiBudW1iZXIgfVxuXHRcdCAqIEByZXR1cm5zIG51bWJlclxuXHRcdCAqL1xuXHRcdGdlbmVyYXRlKCl7fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlIHRoZSBwcml2YXRlIHBhcmFtcyBvYmplY3Qgd2l0aCB0aGUgXG5cdFx0ICogdmFsdWVzIG9mIHRoZSBwYXJhbWV0ZXJzIGF0IHRoZSBnaXZlbiBpbmRleFxuXHRcdCAqIEBwYXJhbSBwYXJhbWV0ZXJzIHsgW25hbWU6IHN0cmluZ106IEZsb2F0MzJBcnJheSB9LFxuXHRcdCAqIEBwYXJhbSBpbmRleCBudW1iZXJcblx0XHQgKi9cblx0XHR1cGRhdGVQYXJhbXMocGFyYW1ldGVycywgaW5kZXgpIHtcblx0XHRcdGZvciAoY29uc3QgcGFyYW1OYW1lIGluIHBhcmFtZXRlcnMpIHtcblx0XHRcdFx0Y29uc3QgcGFyYW0gPSBwYXJhbWV0ZXJzW3BhcmFtTmFtZV07XG5cdFx0XHRcdGlmIChwYXJhbS5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJhbXNbcGFyYW1OYW1lXSA9IHBhcmFtZXRlcnNbcGFyYW1OYW1lXVtpbmRleF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJhbXNbcGFyYW1OYW1lXSA9IHBhcmFtZXRlcnNbcGFyYW1OYW1lXVswXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFByb2Nlc3MgYSBzaW5nbGUgZnJhbWUgb2YgdGhlIGF1ZGlvXG5cdFx0ICogQHBhcmFtIGlucHV0cyBGbG9hdDMyQXJyYXlbXVtdXG5cdFx0ICogQHBhcmFtIG91dHB1dHMgRmxvYXQzMkFycmF5W11bXVxuXHRcdCAqL1xuXHRcdHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7XG5cdFx0XHRjb25zdCBpbnB1dCA9IGlucHV0c1swXTtcblx0XHRcdGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07XG5cdFx0XHQvLyBnZXQgdGhlIHBhcmFtZXRlciB2YWx1ZXNcblx0XHRcdGNvbnN0IGNoYW5uZWxDb3VudCA9IE1hdGgubWF4KGlucHV0ICYmIGlucHV0Lmxlbmd0aCB8fCAwLCBvdXRwdXQubGVuZ3RoKTtcblx0XHRcdGZvciAobGV0IHNhbXBsZSA9IDA7IHNhbXBsZSA8IHRoaXMuYmxvY2tTaXplOyBzYW1wbGUrKykge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVBhcmFtcyhwYXJhbWV0ZXJzLCBzYW1wbGUpO1xuXHRcdFx0XHRmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IGNoYW5uZWxDb3VudDsgY2hhbm5lbCsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgaW5wdXRTYW1wbGUgPSBpbnB1dCAmJiBpbnB1dC5sZW5ndGggPyBpbnB1dFtjaGFubmVsXVtzYW1wbGVdIDogMDtcblx0XHRcdFx0XHRvdXRwdXRbY2hhbm5lbF1bc2FtcGxlXSA9IHRoaXMuZ2VuZXJhdGUoaW5wdXRTYW1wbGUsIGNoYW5uZWwsIHRoaXMucGFyYW1zKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICF0aGlzLmRpc3Bvc2VkO1xuXHRcdH1cblx0fTtcbmA7XG5hZGRUb1dvcmtsZXQoc2luZ2xlSU9Qcm9jZXNzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbmdsZUlPUHJvY2Vzc29yLndvcmtsZXQuanMubWFwIiwiaW1wb3J0IHsgYWRkVG9Xb3JrbGV0IH0gZnJvbSBcIi4vV29ya2xldEdsb2JhbFNjb3BlXCI7XG5jb25zdCBkZWxheUxpbmUgPSAvKiBqYXZhc2NyaXB0ICovIGBcblx0LyoqXG5cdCAqIEEgbXVsdGljaGFubmVsIGJ1ZmZlciBmb3IgdXNlIHdpdGhpbiBhbiBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgYXMgYSBkZWxheSBsaW5lXG5cdCAqL1xuXHRjbGFzcyBEZWxheUxpbmUge1xuXHRcdFxuXHRcdGNvbnN0cnVjdG9yKHNpemUsIGNoYW5uZWxzKSB7XG5cdFx0XHR0aGlzLmJ1ZmZlciA9IFtdO1xuXHRcdFx0dGhpcy53cml0ZUhlYWQgPSBbXVxuXHRcdFx0dGhpcy5zaXplID0gc2l6ZTtcblxuXHRcdFx0Ly8gY3JlYXRlIHRoZSBlbXB0eSBjaGFubmVsc1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsczsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuYnVmZmVyW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpO1xuXHRcdFx0XHR0aGlzLndyaXRlSGVhZFtpXSA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUHVzaCBhIHZhbHVlIG9udG8gdGhlIGVuZFxuXHRcdCAqIEBwYXJhbSBjaGFubmVsIG51bWJlclxuXHRcdCAqIEBwYXJhbSB2YWx1ZSBudW1iZXJcblx0XHQgKi9cblx0XHRwdXNoKGNoYW5uZWwsIHZhbHVlKSB7XG5cdFx0XHR0aGlzLndyaXRlSGVhZFtjaGFubmVsXSArPSAxO1xuXHRcdFx0aWYgKHRoaXMud3JpdGVIZWFkW2NoYW5uZWxdID4gdGhpcy5zaXplKSB7XG5cdFx0XHRcdHRoaXMud3JpdGVIZWFkW2NoYW5uZWxdID0gMDtcblx0XHRcdH1cblx0XHRcdHRoaXMuYnVmZmVyW2NoYW5uZWxdW3RoaXMud3JpdGVIZWFkW2NoYW5uZWxdXSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgcmVjb3JkZWQgdmFsdWUgb2YgdGhlIGNoYW5uZWwgZ2l2ZW4gdGhlIGRlbGF5XG5cdFx0ICogQHBhcmFtIGNoYW5uZWwgbnVtYmVyXG5cdFx0ICogQHBhcmFtIGRlbGF5IG51bWJlciBkZWxheSBzYW1wbGVzXG5cdFx0ICovXG5cdFx0Z2V0KGNoYW5uZWwsIGRlbGF5KSB7XG5cdFx0XHRsZXQgcmVhZEhlYWQgPSB0aGlzLndyaXRlSGVhZFtjaGFubmVsXSAtIE1hdGguZmxvb3IoZGVsYXkpO1xuXHRcdFx0aWYgKHJlYWRIZWFkIDwgMCkge1xuXHRcdFx0XHRyZWFkSGVhZCArPSB0aGlzLnNpemU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5idWZmZXJbY2hhbm5lbF1bcmVhZEhlYWRdO1xuXHRcdH1cblx0fVxuYDtcbmFkZFRvV29ya2xldChkZWxheUxpbmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVsYXlMaW5lLndvcmtsZXQuanMubWFwIiwiaW1wb3J0IFwiLi4vLi4vY29yZS93b3JrbGV0L1NpbmdsZUlPUHJvY2Vzc29yLndvcmtsZXRcIjtcbmltcG9ydCBcIi4uLy4uL2NvcmUvd29ya2xldC9EZWxheUxpbmUud29ya2xldFwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJQcm9jZXNzb3IgfSBmcm9tIFwiLi4vLi4vY29yZS93b3JrbGV0L1dvcmtsZXRHbG9iYWxTY29wZVwiO1xuZXhwb3J0IGNvbnN0IHdvcmtsZXROYW1lID0gXCJmZWVkYmFjay1jb21iLWZpbHRlclwiO1xuY29uc3QgZmVlZGJhY2tDb21iRmlsdGVyID0gLyogamF2YXNjcmlwdCAqLyBgXG5cdGNsYXNzIEZlZWRiYWNrQ29tYkZpbHRlcldvcmtsZXQgZXh0ZW5kcyBTaW5nbGVJT1Byb2Nlc3NvciB7XG5cblx0XHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRcdHRoaXMuZGVsYXlMaW5lID0gbmV3IERlbGF5TGluZSh0aGlzLnNhbXBsZVJhdGUsIG9wdGlvbnMuY2hhbm5lbENvdW50IHx8IDIpO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7XG5cdFx0XHRyZXR1cm4gW3tcblx0XHRcdFx0bmFtZTogXCJkZWxheVRpbWVcIixcblx0XHRcdFx0ZGVmYXVsdFZhbHVlOiAwLjEsXG5cdFx0XHRcdG1pblZhbHVlOiAwLFxuXHRcdFx0XHRtYXhWYWx1ZTogMSxcblx0XHRcdFx0YXV0b21hdGlvblJhdGU6IFwiay1yYXRlXCJcblx0XHRcdH0sIHtcblx0XHRcdFx0bmFtZTogXCJmZWVkYmFja1wiLFxuXHRcdFx0XHRkZWZhdWx0VmFsdWU6IDAuNSxcblx0XHRcdFx0bWluVmFsdWU6IDAsXG5cdFx0XHRcdG1heFZhbHVlOiAwLjk5OTksXG5cdFx0XHRcdGF1dG9tYXRpb25SYXRlOiBcImstcmF0ZVwiXG5cdFx0XHR9XTtcblx0XHR9XG5cblx0XHRnZW5lcmF0ZShpbnB1dCwgY2hhbm5lbCwgcGFyYW1ldGVycykge1xuXHRcdFx0Y29uc3QgZGVsYXllZFNhbXBsZSA9IHRoaXMuZGVsYXlMaW5lLmdldChjaGFubmVsLCBwYXJhbWV0ZXJzLmRlbGF5VGltZSAqIHRoaXMuc2FtcGxlUmF0ZSk7XG5cdFx0XHR0aGlzLmRlbGF5TGluZS5wdXNoKGNoYW5uZWwsIGlucHV0ICsgZGVsYXllZFNhbXBsZSAqIHBhcmFtZXRlcnMuZmVlZGJhY2spO1xuXHRcdFx0cmV0dXJuIGRlbGF5ZWRTYW1wbGU7XG5cdFx0fVxuXHR9XG5gO1xucmVnaXN0ZXJQcm9jZXNzb3Iod29ya2xldE5hbWUsIGZlZWRiYWNrQ29tYkZpbHRlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWVkYmFja0NvbWJGaWx0ZXIud29ya2xldC5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9CdWZmZXJzIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9CdWZmZXJzXCI7XG5pbXBvcnQgeyBmdG9tZiwgaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvIH0gZnJvbSBcIi4uL2NvcmUvdHlwZS9Db252ZXJzaW9uc1wiO1xuaW1wb3J0IHsgRnJlcXVlbmN5Q2xhc3MgfSBmcm9tIFwiLi4vY29yZS90eXBlL0ZyZXF1ZW5jeVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGlzQXJyYXksIGlzTm90ZSwgaXNOdW1iZXIgfSBmcm9tIFwiLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgSW5zdHJ1bWVudCB9IGZyb20gXCIuLi9pbnN0cnVtZW50L0luc3RydW1lbnRcIjtcbmltcG9ydCB7IFRvbmVCdWZmZXJTb3VyY2UgfSBmcm9tIFwiLi4vc291cmNlL2J1ZmZlci9Ub25lQnVmZmVyU291cmNlXCI7XG5pbXBvcnQgeyB0aW1lUmFuZ2UgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlY29yYXRvclwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBQYXNzIGluIGFuIG9iamVjdCB3aGljaCBtYXBzIHRoZSBub3RlJ3MgcGl0Y2ggb3IgbWlkaSB2YWx1ZSB0byB0aGUgdXJsLFxuICogdGhlbiB5b3UgY2FuIHRyaWdnZXIgdGhlIGF0dGFjayBhbmQgcmVsZWFzZSBvZiB0aGF0IG5vdGUgbGlrZSBvdGhlciBpbnN0cnVtZW50cy5cbiAqIEJ5IGF1dG9tYXRpY2FsbHkgcmVwaXRjaGluZyB0aGUgc2FtcGxlcywgaXQgaXMgcG9zc2libGUgdG8gcGxheSBwaXRjaGVzIHdoaWNoXG4gKiB3ZXJlIG5vdCBleHBsaWNpdGx5IGluY2x1ZGVkIHdoaWNoIGNhbiBzYXZlIGxvYWRpbmcgdGltZS5cbiAqXG4gKiBGb3Igc2FtcGxlIG9yIGJ1ZmZlciBwbGF5YmFjayB3aGVyZSByZXBpdGNoaW5nIGlzIG5vdCBuZWNlc3NhcnksXG4gKiB1c2UgW1tQbGF5ZXJdXS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzYW1wbGVyID0gbmV3IFRvbmUuU2FtcGxlcih7XG4gKiBcdHVybHM6IHtcbiAqIFx0XHRBMTogXCJBMS5tcDNcIixcbiAqIFx0XHRBMjogXCJBMi5tcDNcIixcbiAqIFx0fSxcbiAqIFx0YmFzZVVybDogXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vY2FzaW8vXCIsXG4gKiBcdG9ubG9hZDogKCkgPT4ge1xuICogXHRcdHNhbXBsZXIudHJpZ2dlckF0dGFja1JlbGVhc2UoW1wiQzFcIiwgXCJFMVwiLCBcIkcxXCIsIFwiQjFcIl0sIDAuNSk7XG4gKiBcdH1cbiAqIH0pLnRvRGVzdGluYXRpb24oKTtcbiAqIEBjYXRlZ29yeSBJbnN0cnVtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBTYW1wbGVyIGV4dGVuZHMgSW5zdHJ1bWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFNhbXBsZXIuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxzXCIsIFwib25sb2FkXCIsIFwiYmFzZVVybFwiXSwgXCJ1cmxzXCIpKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTYW1wbGVyXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IG9mIGFsbCBjdXJyZW50bHkgcGxheWluZyBCdWZmZXJTb3VyY2VzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoU2FtcGxlci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybHNcIiwgXCJvbmxvYWRcIiwgXCJiYXNlVXJsXCJdLCBcInVybHNcIik7XG4gICAgICAgIGNvbnN0IHVybE1hcCA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLnVybHMpLmZvckVhY2goKG5vdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVOdW1iZXIgPSBwYXJzZUludChub3RlLCAxMCk7XG4gICAgICAgICAgICBhc3NlcnQoaXNOb3RlKG5vdGUpXG4gICAgICAgICAgICAgICAgfHwgKGlzTnVtYmVyKG5vdGVOdW1iZXIpICYmIGlzRmluaXRlKG5vdGVOdW1iZXIpKSwgYHVybCBrZXkgaXMgbmVpdGhlciBhIG5vdGUgb3IgbWlkaSBwaXRjaDogJHtub3RlfWApO1xuICAgICAgICAgICAgaWYgKGlzTm90ZShub3RlKSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIG5vdGUgbmFtZSB0byBNSURJXG4gICAgICAgICAgICAgICAgY29uc3QgbWlkID0gbmV3IEZyZXF1ZW5jeUNsYXNzKHRoaXMuY29udGV4dCwgbm90ZSkudG9NaWRpKCk7XG4gICAgICAgICAgICAgICAgdXJsTWFwW21pZF0gPSBvcHRpb25zLnVybHNbbm90ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bWJlcihub3RlTnVtYmVyKSAmJiBpc0Zpbml0ZShub3RlTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpZiBpdCdzIG51bWJlcnMgYXNzdW1lIGl0J3MgbWlkaVxuICAgICAgICAgICAgICAgIHVybE1hcFtub3RlTnVtYmVyXSA9IG9wdGlvbnMudXJsc1tub3RlTnVtYmVyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgVG9uZUF1ZGlvQnVmZmVycyh7XG4gICAgICAgICAgICB1cmxzOiB1cmxNYXAsXG4gICAgICAgICAgICBvbmxvYWQ6IG9wdGlvbnMub25sb2FkLFxuICAgICAgICAgICAgYmFzZVVybDogb3B0aW9ucy5iYXNlVXJsLFxuICAgICAgICAgICAgb25lcnJvcjogb3B0aW9ucy5vbmVycm9yLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdHRhY2sgPSBvcHRpb25zLmF0dGFjaztcbiAgICAgICAgdGhpcy5yZWxlYXNlID0gb3B0aW9ucy5yZWxlYXNlO1xuICAgICAgICB0aGlzLmN1cnZlID0gb3B0aW9ucy5jdXJ2ZTtcbiAgICAgICAgLy8gaW52b2tlIHRoZSBjYWxsYmFjayBpZiBpdCdzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzLmxvYWRlZCkge1xuICAgICAgICAgICAgLy8gaW52b2tlIG9ubG9hZCBkZWZlcnJlZFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihvcHRpb25zLm9ubG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihJbnN0cnVtZW50LmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGF0dGFjazogMCxcbiAgICAgICAgICAgIGJhc2VVcmw6IFwiXCIsXG4gICAgICAgICAgICBjdXJ2ZTogXCJleHBvbmVudGlhbFwiLFxuICAgICAgICAgICAgb25sb2FkOiBub09wLFxuICAgICAgICAgICAgb25lcnJvcjogbm9PcCxcbiAgICAgICAgICAgIHJlbGVhc2U6IDAuMSxcbiAgICAgICAgICAgIHVybHM6IHt9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBpbiBzdGVwcyBiZXR3ZWVuIHRoZSBnaXZlbiBtaWRpIG5vdGUgYXQgdGhlIGNsb3NldHMgc2FtcGxlLlxuICAgICAqL1xuICAgIF9maW5kQ2xvc2VzdChtaWRpKSB7XG4gICAgICAgIC8vIHNlYXJjaGVzIHdpdGhpbiA4IG9jdGF2ZXMgb2YgdGhlIGdpdmVuIG1pZGkgbm90ZVxuICAgICAgICBjb25zdCBNQVhfSU5URVJWQUwgPSA5NjtcbiAgICAgICAgbGV0IGludGVydmFsID0gMDtcbiAgICAgICAgd2hpbGUgKGludGVydmFsIDwgTUFYX0lOVEVSVkFMKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBhYm92ZSBhbmQgYmVsb3dcbiAgICAgICAgICAgIGlmICh0aGlzLl9idWZmZXJzLmhhcyhtaWRpICsgaW50ZXJ2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1pbnRlcnZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2J1ZmZlcnMuaGFzKG1pZGkgLSBpbnRlcnZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcnZhbCsrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gYXZhaWxhYmxlIGJ1ZmZlcnMgZm9yIG5vdGU6ICR7bWlkaX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtICBub3Rlc1x0VGhlIG5vdGUgdG8gcGxheSwgb3IgYW4gYXJyYXkgb2Ygbm90ZXMuXG4gICAgICogQHBhcmFtICB0aW1lICAgICBXaGVuIHRvIHBsYXkgdGhlIG5vdGVcbiAgICAgKiBAcGFyYW0gIHZlbG9jaXR5IFRoZSB2ZWxvY2l0eSB0byBwbGF5IHRoZSBzYW1wbGUgYmFjay5cbiAgICAgKi9cbiAgICB0cmlnZ2VyQXR0YWNrKG5vdGVzLCB0aW1lLCB2ZWxvY2l0eSA9IDEpIHtcbiAgICAgICAgdGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsIG5vdGVzLCB0aW1lLCB2ZWxvY2l0eSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShub3RlcykpIHtcbiAgICAgICAgICAgIG5vdGVzID0gW25vdGVzXTtcbiAgICAgICAgfVxuICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWlkaUZsb2F0ID0gZnRvbWYobmV3IEZyZXF1ZW5jeUNsYXNzKHRoaXMuY29udGV4dCwgbm90ZSkudG9GcmVxdWVuY3koKSk7XG4gICAgICAgICAgICBjb25zdCBtaWRpID0gTWF0aC5yb3VuZChtaWRpRmxvYXQpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluZGVyID0gbWlkaUZsb2F0IC0gbWlkaTtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGNsb3Nlc3Qgbm90ZSBwaXRjaFxuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IHRoaXMuX2ZpbmRDbG9zZXN0KG1pZGkpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VzdE5vdGUgPSBtaWRpIC0gZGlmZmVyZW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2J1ZmZlcnMuZ2V0KGNsb3Nlc3ROb3RlKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXliYWNrUmF0ZSA9IGludGVydmFsVG9GcmVxdWVuY3lSYXRpbyhkaWZmZXJlbmNlICsgcmVtYWluZGVyKTtcbiAgICAgICAgICAgIC8vIHBsYXkgdGhhdCBub3RlXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBuZXcgVG9uZUJ1ZmZlclNvdXJjZSh7XG4gICAgICAgICAgICAgICAgdXJsOiBidWZmZXIsXG4gICAgICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICAgIGN1cnZlOiB0aGlzLmN1cnZlLFxuICAgICAgICAgICAgICAgIGZhZGVJbjogdGhpcy5hdHRhY2ssXG4gICAgICAgICAgICAgICAgZmFkZU91dDogdGhpcy5yZWxlYXNlLFxuICAgICAgICAgICAgICAgIHBsYXliYWNrUmF0ZSxcbiAgICAgICAgICAgIH0pLmNvbm5lY3QodGhpcy5vdXRwdXQpO1xuICAgICAgICAgICAgc291cmNlLnN0YXJ0KHRpbWUsIDAsIGJ1ZmZlci5kdXJhdGlvbiAvIHBsYXliYWNrUmF0ZSwgdmVsb2NpdHkpO1xuICAgICAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBhY3RpdmUgc291cmNlc1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KG1pZGkpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuc2V0KG1pZGksIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KG1pZGkpLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpdCB3aGVuIGl0J3MgZG9uZVxuICAgICAgICAgICAgc291cmNlLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNvdXJjZXMgJiYgdGhpcy5fYWN0aXZlU291cmNlcy5oYXMobWlkaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KG1pZGkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHNvdXJjZXMuaW5kZXhPZihzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAgbm90ZXNcdFRoZSBub3RlIHRvIHJlbGVhc2UsIG9yIGFuIGFycmF5IG9mIG5vdGVzLlxuICAgICAqIEBwYXJhbSAgdGltZSAgICAgXHRXaGVuIHRvIHJlbGVhc2UgdGhlIG5vdGUuXG4gICAgICovXG4gICAgdHJpZ2dlclJlbGVhc2Uobm90ZXMsIHRpbWUpIHtcbiAgICAgICAgdGhpcy5sb2coXCJ0cmlnZ2VyUmVsZWFzZVwiLCBub3RlcywgdGltZSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShub3RlcykpIHtcbiAgICAgICAgICAgIG5vdGVzID0gW25vdGVzXTtcbiAgICAgICAgfVxuICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWlkaSA9IG5ldyBGcmVxdWVuY3lDbGFzcyh0aGlzLmNvbnRleHQsIG5vdGUpLnRvTWlkaSgpO1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgbm90ZVxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNvdXJjZXMuaGFzKG1pZGkpICYmIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KG1pZGkpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9hY3RpdmVTb3VyY2VzLmdldChtaWRpKTtcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdG9wKHRpbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuc2V0KG1pZGksIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIGFsbCBjdXJyZW50bHkgYWN0aXZlIG5vdGVzLlxuICAgICAqIEBwYXJhbSAgdGltZSAgICAgXHRXaGVuIHRvIHJlbGVhc2UgdGhlIG5vdGVzLlxuICAgICAqL1xuICAgIHJlbGVhc2VBbGwodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZXMgPT4ge1xuICAgICAgICAgICAgd2hpbGUgKHNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5zdG9wKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3luYygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNTdGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlckF0dGFja1wiLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyUmVsZWFzZVwiLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoZSBhdHRhY2sgcGhhc2UsIHRoZW4gYWZ0ZXIgdGhlIGR1cmF0aW9uLCBpbnZva2UgdGhlIHJlbGVhc2UuXG4gICAgICogQHBhcmFtICBub3Rlc1x0VGhlIG5vdGUgdG8gcGxheSBhbmQgcmVsZWFzZSwgb3IgYW4gYXJyYXkgb2Ygbm90ZXMuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBUaGUgdGltZSB0aGUgbm90ZSBzaG91bGQgYmUgaGVsZFxuICAgICAqIEBwYXJhbSAgdGltZSAgICAgV2hlbiB0byBzdGFydCB0aGUgYXR0YWNrXG4gICAgICogQHBhcmFtICB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgb2YgdGhlIGF0dGFja1xuICAgICAqL1xuICAgIHRyaWdnZXJBdHRhY2tSZWxlYXNlKG5vdGVzLCBkdXJhdGlvbiwgdGltZSwgdmVsb2NpdHkgPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLnRyaWdnZXJBdHRhY2sobm90ZXMsIGNvbXB1dGVkVGltZSwgdmVsb2NpdHkpO1xuICAgICAgICBpZiAoaXNBcnJheShkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGFzc2VydChpc0FycmF5KG5vdGVzKSwgXCJub3RlcyBtdXN0IGJlIGFuIGFycmF5IHdoZW4gZHVyYXRpb24gaXMgYXJyYXlcIik7XG4gICAgICAgICAgICBub3Rlcy5mb3JFYWNoKChub3RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBkdXJhdGlvbltNYXRoLm1pbihpbmRleCwgZHVyYXRpb24ubGVuZ3RoIC0gMSldO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlbGVhc2Uobm90ZSwgY29tcHV0ZWRUaW1lICsgdGhpcy50b1NlY29uZHMoZCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJSZWxlYXNlKG5vdGVzLCBjb21wdXRlZFRpbWUgKyB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBub3RlIHRvIHRoZSBzYW1wbGVyLlxuICAgICAqIEBwYXJhbSAgbm90ZSAgICAgIFRoZSBidWZmZXIncyBwaXRjaC5cbiAgICAgKiBAcGFyYW0gIHVybCAgRWl0aGVyIHRoZSB1cmwgb2YgdGhlIGJ1ZmZlciwgb3IgYSBidWZmZXIgd2hpY2ggd2lsbCBiZSBhZGRlZCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2hlbiB0aGUgdXJsIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBhZGQobm90ZSwgdXJsLCBjYWxsYmFjaykge1xuICAgICAgICBhc3NlcnQoaXNOb3RlKG5vdGUpIHx8IGlzRmluaXRlKG5vdGUpLCBgbm90ZSBtdXN0IGJlIGEgcGl0Y2ggb3IgbWlkaTogJHtub3RlfWApO1xuICAgICAgICBpZiAoaXNOb3RlKG5vdGUpKSB7XG4gICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBub3RlIG5hbWUgdG8gTUlESVxuICAgICAgICAgICAgY29uc3QgbWlkID0gbmV3IEZyZXF1ZW5jeUNsYXNzKHRoaXMuY29udGV4dCwgbm90ZSkudG9NaWRpKCk7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLmFkZChtaWQsIHVybCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGlmIGl0J3MgbnVtYmVycyBhc3N1bWUgaXQncyBtaWRpXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLmFkZChub3RlLCB1cmwsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJ1ZmZlcnMgYXJlIGxvYWRlZCBvciBub3RcbiAgICAgKi9cbiAgICBnZXQgbG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVycy5sb2FkZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9idWZmZXJzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZXMgPT4ge1xuICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiBzb3VyY2UuZGlzcG9zZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgdGltZVJhbmdlKDApXG5dLCBTYW1wbGVyLnByb3RvdHlwZSwgXCJhdHRhY2tcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgU2FtcGxlci5wcm90b3R5cGUsIFwicmVsZWFzZVwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2FtcGxlci5qcy5tYXAiLCJpbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuLyoqXG4gKiBQYW5uZXIgaXMgYW4gZXF1YWwgcG93ZXIgTGVmdC9SaWdodCBQYW5uZXIuIEl0IGlzIGEgd3JhcHBlciBhcm91bmQgdGhlIFN0ZXJlb1Bhbm5lck5vZGUuXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiAvLyBtb3ZlIHRoZSBpbnB1dCBzaWduYWwgZnJvbSByaWdodCB0byBsZWZ0XG4gKiBcdGNvbnN0IHBhbm5lciA9IG5ldyBUb25lLlBhbm5lcigxKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBcdHBhbm5lci5wYW4ucmFtcFRvKC0xLCAwLjUpO1xuICogXHRjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKDEwMCkuY29ubmVjdChwYW5uZXIpLnN0YXJ0KCk7XG4gKiB9LCAwLjUsIDIpO1xuICogQGNhdGVnb3J5IENvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgUGFubmVyIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24ob3B0aW9uc0Zyb21Bcmd1bWVudHMoUGFubmVyLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wicGFuXCJdKSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBhbm5lclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHBhbm5lciBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYW5uZXIgPSB0aGlzLmNvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLl9wYW5uZXI7XG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fcGFubmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoUGFubmVyLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wicGFuXCJdKTtcbiAgICAgICAgdGhpcy5wYW4gPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuX3Bhbm5lci5wYW4sXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5wYW4sXG4gICAgICAgICAgICBtaW5WYWx1ZTogLTEsXG4gICAgICAgICAgICBtYXhWYWx1ZTogMSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBzdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dFxuICAgICAgICAvLyBkb2Vzbid0IG1ha2UgYW55IGRpZmZlcmVuY2UgZm9yIHRoZSBuYXRpdmUgQXVkaW9Db250ZXh0XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2d1dHRhbmRpbi9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9pc3N1ZXMvNjQ3XG4gICAgICAgIHRoaXMuX3Bhbm5lci5jaGFubmVsQ291bnQgPSBvcHRpb25zLmNoYW5uZWxDb3VudDtcbiAgICAgICAgdGhpcy5fcGFubmVyLmNoYW5uZWxDb3VudE1vZGUgPSBcImV4cGxpY2l0XCI7XG4gICAgICAgIC8vIGluaXRpYWwgdmFsdWVcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJwYW5cIik7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBwYW46IDAsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3Bhbm5lci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMucGFuLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFubmVyLmpzLm1hcCIsImltcG9ydCBcIi4uL2NvcmUvd29ya2xldC9TaW5nbGVJT1Byb2Nlc3Nvci53b3JrbGV0XCI7XG5pbXBvcnQgeyByZWdpc3RlclByb2Nlc3NvciB9IGZyb20gXCIuLi9jb3JlL3dvcmtsZXQvV29ya2xldEdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3Qgd29ya2xldE5hbWUgPSBcImJpdC1jcnVzaGVyXCI7XG5leHBvcnQgY29uc3QgYml0Q3J1c2hlcldvcmtsZXQgPSAvKiBqYXZhc2NyaXB0ICovIGBcblx0Y2xhc3MgQml0Q3J1c2hlcldvcmtsZXQgZXh0ZW5kcyBTaW5nbGVJT1Byb2Nlc3NvciB7XG5cblx0XHRzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkge1xuXHRcdFx0cmV0dXJuIFt7XG5cdFx0XHRcdG5hbWU6IFwiYml0c1wiLFxuXHRcdFx0XHRkZWZhdWx0VmFsdWU6IDEyLFxuXHRcdFx0XHRtaW5WYWx1ZTogMSxcblx0XHRcdFx0bWF4VmFsdWU6IDE2LFxuXHRcdFx0XHRhdXRvbWF0aW9uUmF0ZTogJ2stcmF0ZSdcblx0XHRcdH1dO1xuXHRcdH1cblxuXHRcdGdlbmVyYXRlKGlucHV0LCBfY2hhbm5lbCwgcGFyYW1ldGVycykge1xuXHRcdFx0Y29uc3Qgc3RlcCA9IE1hdGgucG93KDAuNSwgcGFyYW1ldGVycy5iaXRzIC0gMSk7XG5cdFx0XHRjb25zdCB2YWwgPSBzdGVwICogTWF0aC5mbG9vcihpbnB1dCAvIHN0ZXAgKyAwLjUpO1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdH1cbmA7XG5yZWdpc3RlclByb2Nlc3Nvcih3b3JrbGV0TmFtZSwgYml0Q3J1c2hlcldvcmtsZXQpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0Q3J1c2hlci53b3JrbGV0LmpzLm1hcCIsImltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuLyoqXG4gKiBTb2xvIGxldHMgeW91IGlzb2xhdGUgYSBzcGVjaWZpYyBhdWRpbyBzdHJlYW0uIFdoZW4gYW4gaW5zdGFuY2UgaXMgc2V0IHRvIGBzb2xvPXRydWVgLFxuICogaXQgd2lsbCBtdXRlIGFsbCBvdGhlciBpbnN0YW5jZXMgb2YgU29sby5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzb2xvQSA9IG5ldyBUb25lLlNvbG8oKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBjb25zdCBvc2NBID0gbmV3IFRvbmUuT3NjaWxsYXRvcihcIkM0XCIsIFwic2F3dG9vdGhcIikuY29ubmVjdChzb2xvQSk7XG4gKiBjb25zdCBzb2xvQiA9IG5ldyBUb25lLlNvbG8oKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBjb25zdCBvc2NCID0gbmV3IFRvbmUuT3NjaWxsYXRvcihcIkU0XCIsIFwic3F1YXJlXCIpLmNvbm5lY3Qoc29sb0IpO1xuICogc29sb0Euc29sbyA9IHRydWU7XG4gKiAvLyBubyBhdWRpbyB3aWxsIHBhc3MgdGhyb3VnaCBzb2xvQlxuICogQGNhdGVnb3J5IENvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgU29sbyBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhTb2xvLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wic29sb1wiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlNvbG9cIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFNvbG8uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJzb2xvXCJdKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMub3V0cHV0ID0gbmV3IEdhaW4oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFTb2xvLl9hbGxTb2xvcy5oYXModGhpcy5jb250ZXh0KSkge1xuICAgICAgICAgICAgU29sby5fYWxsU29sb3Muc2V0KHRoaXMuY29udGV4dCwgbmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBTb2xvLl9hbGxTb2xvcy5nZXQodGhpcy5jb250ZXh0KS5hZGQodGhpcyk7XG4gICAgICAgIC8vIHNldCBpbml0aWFsbHlcbiAgICAgICAgdGhpcy5zb2xvID0gb3B0aW9ucy5zb2xvO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgc29sbzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJc29sYXRlcyB0aGlzIGluc3RhbmNlIGFuZCBtdXRlcyBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIFNvbG8uXG4gICAgICogT25seSBvbmUgaW5zdGFuY2UgY2FuIGJlIHNvbG9lZCBhdCBhIHRpbWUuIEEgc29sb2VkXG4gICAgICogaW5zdGFuY2Ugd2lsbCByZXBvcnQgYHNvbG89ZmFsc2VgIHdoZW4gYW5vdGhlciBpbnN0YW5jZSBpcyBzb2xvZWQuXG4gICAgICovXG4gICAgZ2V0IHNvbG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NvbG9lZCgpO1xuICAgIH1cbiAgICBzZXQgc29sbyhzb2xvKSB7XG4gICAgICAgIGlmIChzb2xvKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRTb2xvKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVTb2xvKCk7XG4gICAgICAgIH1cbiAgICAgICAgU29sby5fYWxsU29sb3MuZ2V0KHRoaXMuY29udGV4dCkuZm9yRWFjaChpbnN0YW5jZSA9PiBpbnN0YW5jZS5fdXBkYXRlU29sbygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaXMgbXV0ZWQsIGkuZS4gYW5vdGhlciBpbnN0YW5jZSBpcyBzb2xvZWRcbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LmdhaW4udmFsdWUgPT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGlzIHRvIHRoZSBzb2xvZWQgYXJyYXlcbiAgICAgKi9cbiAgICBfYWRkU29sbygpIHtcbiAgICAgICAgaWYgKCFTb2xvLl9zb2xvZWQuaGFzKHRoaXMuY29udGV4dCkpIHtcbiAgICAgICAgICAgIFNvbG8uX3NvbG9lZC5zZXQodGhpcy5jb250ZXh0LCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIFNvbG8uX3NvbG9lZC5nZXQodGhpcy5jb250ZXh0KS5hZGQodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGlzIGZyb20gdGhlIHNvbG9lZCBhcnJheVxuICAgICAqL1xuICAgIF9yZW1vdmVTb2xvKCkge1xuICAgICAgICBpZiAoU29sby5fc29sb2VkLmhhcyh0aGlzLmNvbnRleHQpKSB7XG4gICAgICAgICAgICBTb2xvLl9zb2xvZWQuZ2V0KHRoaXMuY29udGV4dCkuZGVsZXRlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoaXMgb24gdGhlIHNvbG9lZCBhcnJheVxuICAgICAqL1xuICAgIF9pc1NvbG9lZCgpIHtcbiAgICAgICAgcmV0dXJuIFNvbG8uX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSAmJiBTb2xvLl9zb2xvZWQuZ2V0KHRoaXMuY29udGV4dCkuaGFzKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgbm8gb25lIGlzIHNvbG9lZFxuICAgICAqL1xuICAgIF9ub1NvbG9zKCkge1xuICAgICAgICAvLyBlaXRoZXIgZG9lcyBub3QgaGF2ZSBhbnkgc29sb2VkIGFkZGVkXG4gICAgICAgIHJldHVybiAhU29sby5fc29sb2VkLmhhcyh0aGlzLmNvbnRleHQpIHx8XG4gICAgICAgICAgICAvLyBvciBoYXMgYSBzb2xvIHNldCBidXQgZG9lc24ndCBpbmNsdWRlIGFueSBpdGVtc1xuICAgICAgICAgICAgKFNvbG8uX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSAmJiBTb2xvLl9zb2xvZWQuZ2V0KHRoaXMuY29udGV4dCkuc2l6ZSA9PT0gMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNvbG8gdGhlIGN1cnJlbnQgaW5zdGFuY2UgYW5kIHVuc29sbyBhbGwgb3RoZXIgaW5zdGFuY2VzLlxuICAgICAqL1xuICAgIF91cGRhdGVTb2xvKCkge1xuICAgICAgICBpZiAodGhpcy5faXNTb2xvZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5nYWluLnZhbHVlID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ub1NvbG9zKCkpIHtcbiAgICAgICAgICAgIC8vIG5vIG9uZSBpcyBzb2xvZWRcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZ2Fpbi52YWx1ZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmdhaW4udmFsdWUgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgU29sby5fYWxsU29sb3MuZ2V0KHRoaXMuY29udGV4dCkuZGVsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZW1vdmVTb2xvKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogSG9sZCBhbGwgb2YgdGhlIHNvbG8nZWQgdHJhY2tzIGJlbG9uZ2luZyB0byBhIHNwZWNpZmljIGNvbnRleHRcbiAqL1xuU29sby5fYWxsU29sb3MgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEhvbGQgdGhlIGN1cnJlbnRseSBzb2xvJ2VkIGluc3RhbmNlKHMpXG4gKi9cblNvbG8uX3NvbG9lZCA9IG5ldyBNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvbG8uanMubWFwIiwiaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBQYW5uZXIgfSBmcm9tIFwiLi9QYW5uZXJcIjtcbmltcG9ydCB7IFZvbHVtZSB9IGZyb20gXCIuL1ZvbHVtZVwiO1xuLyoqXG4gKiBQYW5Wb2wgaXMgYSBUb25lLlBhbm5lciBhbmQgVG9uZS5Wb2x1bWUgaW4gb25lLlxuICogQGV4YW1wbGVcbiAqIC8vIHBhbiB0aGUgaW5jb21pbmcgc2lnbmFsIGxlZnQgYW5kIGRyb3AgdGhlIHZvbHVtZVxuICogY29uc3QgcGFuVm9sID0gbmV3IFRvbmUuUGFuVm9sKC0wLjI1LCAtMTIpLnRvRGVzdGluYXRpb24oKTtcbiAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS5jb25uZWN0KHBhblZvbCkuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFBhblZvbCBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhQYW5Wb2wuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJwYW5cIiwgXCJ2b2x1bWVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQYW5Wb2xcIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFBhblZvbC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInBhblwiLCBcInZvbHVtZVwiXSk7XG4gICAgICAgIHRoaXMuX3Bhbm5lciA9IHRoaXMuaW5wdXQgPSBuZXcgUGFubmVyKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhbjogb3B0aW9ucy5wYW4sXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wYW4gPSB0aGlzLl9wYW5uZXIucGFuO1xuICAgICAgICB0aGlzLl92b2x1bWUgPSB0aGlzLm91dHB1dCA9IG5ldyBWb2x1bWUoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdm9sdW1lOiBvcHRpb25zLnZvbHVtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5fdm9sdW1lLnZvbHVtZTtcbiAgICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgICAgdGhpcy5fcGFubmVyLmNvbm5lY3QodGhpcy5fdm9sdW1lKTtcbiAgICAgICAgdGhpcy5tdXRlID0gb3B0aW9ucy5tdXRlO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJwYW5cIiwgXCJ2b2x1bWVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbXV0ZTogZmFsc2UsXG4gICAgICAgICAgICBwYW46IDAsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlL3VubXV0ZSB0aGUgdm9sdW1lXG4gICAgICovXG4gICAgZ2V0IG11dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92b2x1bWUubXV0ZTtcbiAgICB9XG4gICAgc2V0IG11dGUobXV0ZSkge1xuICAgICAgICB0aGlzLl92b2x1bWUubXV0ZSA9IG11dGU7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcGFubmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wYW4uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl92b2x1bWUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhblZvbC5qcy5tYXAiLCJpbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFNvbG8gfSBmcm9tIFwiLi9Tb2xvXCI7XG5pbXBvcnQgeyBQYW5Wb2wgfSBmcm9tIFwiLi9QYW5Wb2xcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbi8qKlxuICogQ2hhbm5lbCBwcm92aWRlcyBhIGNoYW5uZWwgc3RyaXAgaW50ZXJmYWNlIHdpdGggdm9sdW1lLCBwYW4sIHNvbG8gYW5kIG11dGUgY29udHJvbHMuXG4gKiBTZWUgW1tQYW5Wb2xdXSBhbmQgW1tTb2xvXV1cbiAqIEBleGFtcGxlXG4gKiAvLyBwYW4gdGhlIGluY29taW5nIHNpZ25hbCBsZWZ0IGFuZCBkcm9wIHRoZSB2b2x1bWUgMTJkYlxuICogY29uc3QgY2hhbm5lbCA9IG5ldyBUb25lLkNoYW5uZWwoLTAuMjUsIC0xMik7XG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFubmVsIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKENoYW5uZWwuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2b2x1bWVcIiwgXCJwYW5cIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDaGFubmVsXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhDaGFubmVsLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widm9sdW1lXCIsIFwicGFuXCJdKTtcbiAgICAgICAgdGhpcy5fc29sbyA9IHRoaXMuaW5wdXQgPSBuZXcgU29sbyh7XG4gICAgICAgICAgICBzb2xvOiBvcHRpb25zLnNvbG8sXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wYW5Wb2wgPSB0aGlzLm91dHB1dCA9IG5ldyBQYW5Wb2woe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFuOiBvcHRpb25zLnBhbixcbiAgICAgICAgICAgIHZvbHVtZTogb3B0aW9ucy52b2x1bWUsXG4gICAgICAgICAgICBtdXRlOiBvcHRpb25zLm11dGUsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBhbiA9IHRoaXMuX3BhblZvbC5wYW47XG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5fcGFuVm9sLnZvbHVtZTtcbiAgICAgICAgdGhpcy5fc29sby5jb25uZWN0KHRoaXMuX3BhblZvbCk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcInBhblwiLCBcInZvbHVtZVwiXSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBwYW46IDAsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgICAgICBtdXRlOiBmYWxzZSxcbiAgICAgICAgICAgIHNvbG86IGZhbHNlLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU29sby91bnNvbG8gdGhlIGNoYW5uZWwuIFNvbG9pbmcgaXMgb25seSByZWxhdGl2ZSB0byBvdGhlciBbW0NoYW5uZWxzXV0gYW5kIFtbU29sb11dIGluc3RhbmNlc1xuICAgICAqL1xuICAgIGdldCBzb2xvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc29sby5zb2xvO1xuICAgIH1cbiAgICBzZXQgc29sbyhzb2xvKSB7XG4gICAgICAgIHRoaXMuX3NvbG8uc29sbyA9IHNvbG87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIG11dGVkLCBpLmUuIGFub3RoZXIgaW5zdGFuY2UgaXMgc29sb2VkLFxuICAgICAqIG9yIHRoZSBjaGFubmVsIGlzIG11dGVkXG4gICAgICovXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc29sby5tdXRlZCB8fCB0aGlzLm11dGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11dGUvdW5tdXRlIHRoZSB2b2x1bWVcbiAgICAgKi9cbiAgICBnZXQgbXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhblZvbC5tdXRlO1xuICAgIH1cbiAgICBzZXQgbXV0ZShtdXRlKSB7XG4gICAgICAgIHRoaXMuX3BhblZvbC5tdXRlID0gbXV0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBnYWluIG5vZGUgYmVsb25naW5nIHRvIHRoZSBidXMgbmFtZS4gQ3JlYXRlIGl0IGlmXG4gICAgICogaXQgZG9lc24ndCBleGlzdFxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBidXMgbmFtZVxuICAgICAqL1xuICAgIF9nZXRCdXMobmFtZSkge1xuICAgICAgICBpZiAoIUNoYW5uZWwuYnVzZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICBDaGFubmVsLmJ1c2VzLnNldChuYW1lLCBuZXcgR2Fpbih7IGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYW5uZWwuYnVzZXMuZ2V0KG5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGF1ZGlvIHRvIGFub3RoZXIgY2hhbm5lbCB1c2luZyBhIHN0cmluZy4gYHNlbmRgIGlzIGEgbG90IGxpa2VcbiAgICAgKiBbW2Nvbm5lY3RdXSwgZXhjZXB0IGl0IHVzZXMgYSBzdHJpbmcgaW5zdGVhZCBvZiBhbiBvYmplY3QuIFRoaXMgY2FuXG4gICAgICogYmUgdXNlZnVsIGluIGxhcmdlIGFwcGxpY2F0aW9ucyB0byBkZWNvdXBsZSBzZWN0aW9ucyBzaW5jZSBbW3NlbmRdXVxuICAgICAqIGFuZCBbW3JlY2VpdmVdXSBjYW4gYmUgaW52b2tlZCBzZXBhcmF0ZWx5IGluIG9yZGVyIHRvIGNvbm5lY3QgYW4gb2JqZWN0XG4gICAgICogQHBhcmFtIG5hbWUgVGhlIGNoYW5uZWwgbmFtZSB0byBzZW5kIHRoZSBhdWRpb1xuICAgICAqIEBwYXJhbSB2b2x1bWUgVGhlIGFtb3VudCBvZiB0aGUgc2lnbmFsIHRvIHNlbmQuXG4gICAgICogXHREZWZhdWx0cyB0byAwZGIsIGkuZS4gc2VuZCB0aGUgZW50aXJlIHNpZ25hbFxuICAgICAqIEByZXR1cm5zIFJldHVybnMgdGhlIGdhaW4gbm9kZSBvZiB0aGlzIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgc2VuZChuYW1lLCB2b2x1bWUgPSAwKSB7XG4gICAgICAgIGNvbnN0IGJ1cyA9IHRoaXMuX2dldEJ1cyhuYW1lKTtcbiAgICAgICAgY29uc3Qgc2VuZEtub2IgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJkZWNpYmVsc1wiLFxuICAgICAgICAgICAgZ2Fpbjogdm9sdW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25uZWN0KHNlbmRLbm9iKTtcbiAgICAgICAgc2VuZEtub2IuY29ubmVjdChidXMpO1xuICAgICAgICByZXR1cm4gc2VuZEtub2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYXVkaW8gZnJvbSBhIGNoYW5uZWwgd2hpY2ggd2FzIGNvbm5lY3RlZCB3aXRoIFtbc2VuZF1dLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBjaGFubmVsIG5hbWUgdG8gcmVjZWl2ZSBhdWRpbyBmcm9tLlxuICAgICAqL1xuICAgIHJlY2VpdmUobmFtZSkge1xuICAgICAgICBjb25zdCBidXMgPSB0aGlzLl9nZXRCdXMobmFtZSk7XG4gICAgICAgIGJ1cy5jb25uZWN0KHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wYW5Wb2wuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnBhbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudm9sdW1lLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fc29sby5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogU3RvcmUgdGhlIHNlbmQvcmVjZWl2ZSBjaGFubmVscyBieSBuYW1lLlxuICovXG5DaGFubmVsLmJ1c2VzID0gbmV3IE1hcCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhbm5lbC5qcy5tYXAiLCJpbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4vVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgUGFyYW0gfSBmcm9tIFwiLi9QYXJhbVwiO1xuaW1wb3J0IHsgb25Db250ZXh0Q2xvc2UsIG9uQ29udGV4dEluaXQgfSBmcm9tIFwiLi9Db250ZXh0SW5pdGlhbGl6YXRpb25cIjtcbi8qKlxuICogVG9uZS5MaXN0ZW5lciBpcyBhIHRoaW4gd3JhcHBlciBhcm91bmQgdGhlIEF1ZGlvTGlzdGVuZXIuIExpc3RlbmVyIGNvbWJpbmVkXG4gKiB3aXRoIFtbUGFubmVyM0RdXSBtYWtlcyB1cCB0aGUgV2ViIEF1ZGlvIEFQSSdzIDNEIHBhbm5pbmcgc3lzdGVtLiBQYW5uZXIzRCBhbGxvd3MgeW91XG4gKiB0byBwbGFjZSBzb3VuZHMgaW4gM0QgYW5kIExpc3RlbmVyIGFsbG93cyB5b3UgdG8gbmF2aWdhdGUgdGhlIDNEIHNvdW5kIGVudmlyb25tZW50IGZyb21cbiAqIGEgZmlyc3QtcGVyc29uIHBlcnNwZWN0aXZlLiBUaGVyZSBpcyBvbmx5IG9uZSBsaXN0ZW5lciBwZXIgYXVkaW8gY29udGV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RlbmVyIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGlzdGVuZXJcIjtcbiAgICAgICAgdGhpcy5wb3NpdGlvblggPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnBvc2l0aW9uWCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9zaXRpb25ZID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5wb3NpdGlvblksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvc2l0aW9uWiA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25aLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3J3YXJkWCA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIuZm9yd2FyZFgsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcndhcmRZID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9yd2FyZFogPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRaLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cFggPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBZID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci51cFksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwWiA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIudXBaLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIHBvc2l0aW9uWDogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uWTogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uWjogMCxcbiAgICAgICAgICAgIGZvcndhcmRYOiAwLFxuICAgICAgICAgICAgZm9yd2FyZFk6IDAsXG4gICAgICAgICAgICBmb3J3YXJkWjogLTEsXG4gICAgICAgICAgICB1cFg6IDAsXG4gICAgICAgICAgICB1cFk6IDEsXG4gICAgICAgICAgICB1cFo6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb25YLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uWi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZm9yd2FyZFguZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZvcndhcmRZLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mb3J3YXJkWi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudXBYLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy51cFkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnVwWi5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gXHRJTklUSUFMSVpBVElPTlxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbkNvbnRleHRJbml0KGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQubGlzdGVuZXIgPSBuZXcgTGlzdGVuZXIoeyBjb250ZXh0IH0pO1xufSk7XG5vbkNvbnRleHRDbG9zZShjb250ZXh0ID0+IHtcbiAgICBjb250ZXh0Lmxpc3RlbmVyLmRpc3Bvc2UoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlzdGVuZXIuanMubWFwIiwiZXhwb3J0IHsgZ2V0Q29udGV4dCwgc2V0Q29udGV4dCB9IGZyb20gXCIuL2NvcmUvR2xvYmFsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jbGFzc2VzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi92ZXJzaW9uXCI7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSBcIi4vY29yZS9HbG9iYWxcIjtcbmltcG9ydCB7IFRvbmVBdWRpb0J1ZmZlciB9IGZyb20gXCIuL2NvcmUvY29udGV4dC9Ub25lQXVkaW9CdWZmZXJcIjtcbmV4cG9ydCB7IHN0YXJ0IH0gZnJvbSBcIi4vY29yZS9HbG9iYWxcIjtcbmV4cG9ydCB7IHN1cHBvcnRlZCB9IGZyb20gXCIuL2NvcmUvY29udGV4dC9BdWRpb0NvbnRleHRcIjtcbi8qKlxuICogVGhlIGN1cnJlbnQgYXVkaW8gY29udGV4dCB0aW1lIG9mIHRoZSBnbG9iYWwgW1tDb250ZXh0XV0uXG4gKiBTZWUgW1tDb250ZXh0Lm5vd11dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkubm93KCk7XG59XG4vKipcbiAqIFRoZSBjdXJyZW50IGF1ZGlvIGNvbnRleHQgdGltZSBvZiB0aGUgZ2xvYmFsIFtbQ29udGV4dF1dIHdpdGhvdXQgdGhlIFtbQ29udGV4dC5sb29rQWhlYWRdXVxuICogU2VlIFtbQ29udGV4dC5pbW1lZGlhdGVdXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltbWVkaWF0ZSgpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLmltbWVkaWF0ZSgpO1xufVxuLyoqXG4gKiBUaGUgVHJhbnNwb3J0IG9iamVjdCBiZWxvbmdpbmcgdG8gdGhlIGdsb2JhbCBUb25lLmpzIENvbnRleHQuXG4gKiBTZWUgW1tUcmFuc3BvcnRdXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zcG9ydCA9IGdldENvbnRleHQoKS50cmFuc3BvcnQ7XG4vKipcbiAqIFRoZSBUcmFuc3BvcnQgb2JqZWN0IGJlbG9uZ2luZyB0byB0aGUgZ2xvYmFsIFRvbmUuanMgQ29udGV4dC5cbiAqIFNlZSBbW1RyYW5zcG9ydF1dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNwb3J0KCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkudHJhbnNwb3J0O1xufVxuLyoqXG4gKiBUaGUgRGVzdGluYXRpb24gKG91dHB1dCkgYmVsb25naW5nIHRvIHRoZSBnbG9iYWwgVG9uZS5qcyBDb250ZXh0LlxuICogU2VlIFtbRGVzdGluYXRpb25dXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERlc3RpbmF0aW9uID0gZ2V0Q29udGV4dCgpLmRlc3RpbmF0aW9uO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgW1tEZXN0aW5hdGlvbl1dXG4gKi9cbmV4cG9ydCBjb25zdCBNYXN0ZXIgPSBnZXRDb250ZXh0KCkuZGVzdGluYXRpb247XG4vKipcbiAqIFRoZSBEZXN0aW5hdGlvbiAob3V0cHV0KSBiZWxvbmdpbmcgdG8gdGhlIGdsb2JhbCBUb25lLmpzIENvbnRleHQuXG4gKiBTZWUgW1tEZXN0aW5hdGlvbl1dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVzdGluYXRpb24oKSB7XG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5kZXN0aW5hdGlvbjtcbn1cbi8qKlxuICogVGhlIFtbTGlzdGVuZXJdXSBiZWxvbmdpbmcgdG8gdGhlIGdsb2JhbCBUb25lLmpzIENvbnRleHQuXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY29uc3QgTGlzdGVuZXIgPSBnZXRDb250ZXh0KCkubGlzdGVuZXI7XG4vKipcbiAqIFRoZSBbW0xpc3RlbmVyXV0gYmVsb25naW5nIHRvIHRoZSBnbG9iYWwgVG9uZS5qcyBDb250ZXh0LlxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RlbmVyKCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkubGlzdGVuZXI7XG59XG4vKipcbiAqIERyYXcgaXMgdXNlZCB0byBzeW5jaHJvbml6ZSB0aGUgZHJhdyBmcmFtZSB3aXRoIHRoZSBUcmFuc3BvcnQncyBjYWxsYmFja3MuXG4gKiBTZWUgW1tEcmF3XV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjb25zdCBEcmF3ID0gZ2V0Q29udGV4dCgpLmRyYXc7XG4vKipcbiAqIEdldCB0aGUgc2luZ2xldG9uIGF0dGFjaGVkIHRvIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqIERyYXcgaXMgdXNlZCB0byBzeW5jaHJvbml6ZSB0aGUgZHJhdyBmcmFtZSB3aXRoIHRoZSBUcmFuc3BvcnQncyBjYWxsYmFja3MuXG4gKiBTZWUgW1tEcmF3XV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREcmF3KCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkuZHJhdztcbn1cbi8qKlxuICogQSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBjb250ZXh0XG4gKiBTZWUgW1tDb250ZXh0XV1cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KCk7XG4vKipcbiAqIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgb2YgdGhlIGxvYWRpbmcgcHJvbWlzZXMgYXJlIHJlc29sdmVkLlxuICogQWxpYXMgZm9yIHN0YXRpYyBbW1RvbmVBdWRpb0J1ZmZlci5sb2FkZWRdXSBtZXRob2QuXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZGVkKCkge1xuICAgIHJldHVybiBUb25lQXVkaW9CdWZmZXIubG9hZGVkKCk7XG59XG4vLyB0aGlzIGZpbGxzIGluIG5hbWUgY2hhbmdlcyBmcm9tIDEzLnggdG8gMTQueFxuaW1wb3J0IHsgVG9uZUF1ZGlvQnVmZmVycyB9IGZyb20gXCIuL2NvcmUvY29udGV4dC9Ub25lQXVkaW9CdWZmZXJzXCI7XG5pbXBvcnQgeyBUb25lQnVmZmVyU291cmNlIH0gZnJvbSBcIi4vc291cmNlL2J1ZmZlci9Ub25lQnVmZmVyU291cmNlXCI7XG5leHBvcnQgY29uc3QgQnVmZmVyID0gVG9uZUF1ZGlvQnVmZmVyO1xuZXhwb3J0IGNvbnN0IEJ1ZmZlcnMgPSBUb25lQXVkaW9CdWZmZXJzO1xuZXhwb3J0IGNvbnN0IEJ1ZmZlclNvdXJjZSA9IFRvbmVCdWZmZXJTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBTYW1wbGVyLCBsb2FkZWQgfSBmcm9tICd0b25lJztcblxubGV0IGluaXRpYXRlZCA9IGZhbHNlXG5sZXQgc2FtcGxlcjogU2FtcGxlcjtcbi8vIEZ1bmN0aW9uIHRvIGluaXRpYWxpemUgYW5kIGxvYWQgdGhlIHNhbXBsZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRTb3VuZCgpIHtcbiAgICBzYW1wbGVyID0gbmV3IFNhbXBsZXIoe1xuICAgICAgICB1cmxzOiB7XG4gICAgICAgICAgICBcIkM0XCI6IFwiQzQubXAzXCIsXG4gICAgICAgICAgICBcIkQjNFwiOiBcIkRzNC5tcDNcIixcbiAgICAgICAgICAgIFwiRiM0XCI6IFwiRnM0Lm1wM1wiLFxuICAgICAgICAgICAgXCJBNFwiOiBcIkE0Lm1wM1wiLFxuICAgICAgICB9LFxuICAgICAgICByZWxlYXNlOiAxLFxuICAgICAgICBiYXNlVXJsOiBcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9zYWxhbWFuZGVyL1wiLFxuICAgIH0pLnRvRGVzdGluYXRpb24oKTtcbiAgICBhd2FpdCBsb2FkZWQoKTtcbiAgICBpbml0aWF0ZWQgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVNhbXBsZShsYWJlbDogc3RyaW5nLCBzcGVlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFpbml0aWF0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYG5vdCBpbml0aWF0ZWRgKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgdmVsb2NpdHkgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLjEsIHNwZWVkIC8gNDApKVxuICAgIGNvbnN0IHBhcnRzID0gbGFiZWwuc3BsaXQoJy0nKTtcbiAgICBjb25zdCB3YWxsID0gcGFydHNbMF07XG4gICAgY29uc3QgYmluID0gcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzWzFdIDogJyc7XG5cbiAgICBzd2l0Y2ggKHdhbGwpIHtcbiAgICAgICAgY2FzZSAnTGVmdCc6XG4gICAgICAgICAgICBzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFtcIkViNFwiXSwgNCwgdW5kZWZpbmVkLCB2ZWxvY2l0eSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmlnaHQnOlxuICAgICAgICAgICAgc2FtcGxlci50cmlnZ2VyQXR0YWNrUmVsZWFzZShbXCJHM1wiXSwgNCwgdW5kZWZpbmVkLCB2ZWxvY2l0eSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVG9wJzpcbiAgICAgICAgICAgIHNhbXBsZXIudHJpZ2dlckF0dGFja1JlbGVhc2UoW1wiRzRcIl0sIDQsIHVuZGVmaW5lZCwgdmVsb2NpdHkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0JvdHRvbSc6XG4gICAgICAgICAgICBzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFtcIkJiNFwiXSwgNCwgdW5kZWZpbmVkLCB2ZWxvY2l0eSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGB1bmV4cGVjdGVkIHdhbGwgJHt3YWxsfWApXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBNYXR0ZXIgZnJvbSAnbWF0dGVyLWpzJztcbmltcG9ydCB7IHBsYXlTYW1wbGUgfSBmcm9tICcuL3NvdW5kJztcblxuLy8gbW9kdWxlIGFsaWFzZXNcbmNvbnN0IEVuZ2luZSA9IE1hdHRlci5FbmdpbmUsXG4gICAgUmVuZGVyID0gTWF0dGVyLlJlbmRlcixcbiAgICBSdW5uZXIgPSBNYXR0ZXIuUnVubmVyLFxuICAgIEJvZGllcyA9IE1hdHRlci5Cb2RpZXMsXG4gICAgQ29tcG9zaXRlID0gTWF0dGVyLkNvbXBvc2l0ZSxcbiAgICBFdmVudHMgPSBNYXR0ZXIuRXZlbnRzO1xuXG5sZXQgZW5naW5lOiBNYXR0ZXIuRW5naW5lO1xubGV0IHJlbmRlcjogTWF0dGVyLlJlbmRlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQaHlzaWNzKCkge1xuXG4gICAgLy8gY3JlYXRlIGFuIGVuZ2luZVxuICAgIGVuZ2luZSA9IEVuZ2luZS5jcmVhdGUoKTtcbiAgICBlbmdpbmUuZ3Jhdml0eS5zY2FsZSA9IDAuMDAwNTtcblxuICAgIC8vIENyZWF0ZSBhIHJlbmRlcmVyXG4gICAgcmVuZGVyID0gUmVuZGVyLmNyZWF0ZSh7XG4gICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGVuZ2luZTogZW5naW5lLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgIHdpcmVmcmFtZXM6IGZhbHNlIC8vIFRoaXMgYWxsb3dzIGZvciBjb2xvclxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBjcmVhdGUgdHdvIGJveGVzIGFuZCBhIGdyb3VuZFxuICAgIGNvbnN0IGJhbGwgPSBCb2RpZXMuY2lyY2xlKDQwMCwgMjAwLCA4MCwge1xuICAgICAgICByZXN0aXR1dGlvbjogMC42LCAvLyBCb3VuY2luZXNzXG4gICAgICAgIGxhYmVsOiAnQmFsbCcsXG4gICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgZmlsbFN0eWxlOiAncmVkJ1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgQ29tcG9zaXRlLmFkZChlbmdpbmUud29ybGQsIFtiYWxsXSk7XG5cbiAgICAvLyBBZGQgd2FsbHNcbiAgICBjb25zdCB3YWxsVGhpY2tuZXNzID0gMTA7XG4gICAgY3JlYXRlV2FsbCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdhbGxUaGlja25lc3MgLyAyLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2FsbFRoaWNrbmVzcywgJ3JlZCcsICdUb3AnKTsgLy8gVG9wXG4gICAgY3JlYXRlV2FsbCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAtIHdhbGxUaGlja25lc3MgLyAyLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2FsbFRoaWNrbmVzcywgJ2JsdWUnLCAnQm90dG9tJyk7IC8vIEJvdHRvbVxuICAgIGNyZWF0ZVdhbGwod2FsbFRoaWNrbmVzcyAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAvIDIsIHdhbGxUaGlja25lc3MsIHdpbmRvdy5pbm5lckhlaWdodCwgJ2dyZWVuJywgJ0xlZnQnKTsgLy8gTGVmdFxuICAgIGNyZWF0ZVdhbGwod2luZG93LmlubmVyV2lkdGggLSB3YWxsVGhpY2tuZXNzIC8gMiwgd2luZG93LmlubmVySGVpZ2h0IC8gMiwgd2FsbFRoaWNrbmVzcywgd2luZG93LmlubmVySGVpZ2h0LCAneWVsbG93JywgJ1JpZ2h0Jyk7IC8vIFJpZ2h0XG5cbiAgICAvLyBDb2xsaXNpb24gaGFuZGxpbmdcbiAgICBFdmVudHMub24oZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCBoYW5kbGVDb2xsaXNpb24pO1xuXG4gICAgLy8gcnVuIHRoZSByZW5kZXJlclxuICAgIFJlbmRlci5ydW4ocmVuZGVyKTtcblxuICAgIC8vIGNyZWF0ZSBydW5uZXJcbiAgICBjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7XG5cbiAgICAvLyBydW4gdGhlIGVuZ2luZVxuICAgIFJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpO1xuICAgIGNvbnNvbGUubG9nKCdQaHlzaWNzIGxvYWRlZCcpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdhbGwoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSB7XG4gICAgY29uc3Qgd2FsbCA9IEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwge1xuICAgICAgICBpc1N0YXRpYzogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICByZW5kZXI6IHsgZmlsbFN0eWxlOiBjb2xvciB9XG4gICAgfSk7XG4gICAgQ29tcG9zaXRlLmFkZChlbmdpbmUud29ybGQsIFt3YWxsXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgaWYgKGVuZ2luZSkge1xuICAgICAgICBlbmdpbmUuZ3Jhdml0eS54ID0geDtcbiAgICAgICAgZW5naW5lLmdyYXZpdHkueSA9IHk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsYWJlbEZyb21Db2xsaXNpb25FdmVudChldmVudDogTWF0dGVyLklFdmVudENvbGxpc2lvbjxNYXR0ZXIuRW5naW5lPikge1xuICAgIGNvbnN0IHNvdXJjZSA9IGV2ZW50LnNvdXJjZVxuICAgIGxldCBsYWJlbDogc3RyaW5nID0gJydcbiAgICBpZiAoc291cmNlID09IG51bGwpXG4gICAgICAgIHJldHVybiB7IGxhYmVsOiAnJywgc3BlZWQ6IDB9O1xuICAgIGNvbnN0IGNvbGxpc2lvbnM6IGFueSA9IHNvdXJjZS5wYWlycy5saXN0XG4gICAgaWYgKGNvbGxpc2lvbnMgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6ICcnLCBzcGVlZDogMH07XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbGxpc2lvbnMpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb2xsaXNpb25zOiBOb3QgYW4gYXJyYXknKVxuICAgICAgICByZXR1cm4geyBsYWJlbDogJycsIHNwZWVkOiAwfTtcbiAgICB9XG4gICAgaWYgKCFjb2xsaXNpb25zLmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY29sbGlzaW9uczogRW1wdHkgYXJyYXknKVxuICAgICAgICByZXR1cm4geyBsYWJlbDogJycsIHNwZWVkOiAwfTtcbiAgICB9XG4gICAgaWYgKCFjb2xsaXNpb25zWzBdLmJvZHlBKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb2xsaXNpb25zOiBCb2R5QSBpcyBudWxsJywgY29sbGlzaW9uc1swXSlcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6ICcnLCBzcGVlZDogMH07XG4gICAgfVxuICAgIGlmICghY29sbGlzaW9uc1swXS5ib2R5Qikge1xuICAgICAgICBjb25zb2xlLmxvZygnY29sbGlzaW9uczogQm9keUIgaXMgbnVsbCcsIGNvbGxpc2lvbnNbMF0pXG4gICAgICAgIHJldHVybiB7IGxhYmVsOiAnJywgc3BlZWQ6IDB9O1xuICAgIH1cbiAgICBsYWJlbCA9IGNvbGxpc2lvbnNbMF0uYm9keUIubGFiZWxcbiAgICBjb25zdCBzcGVlZDogbnVtYmVyID0gY29sbGlzaW9uc1swXS5ib2R5QS5zcGVlZFxuXG4gICAgcmV0dXJuIHtsYWJlbCwgc3BlZWR9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDb2xsaXNpb24oZXZlbnQ6IE1hdHRlci5JRXZlbnRDb2xsaXNpb248TWF0dGVyLkVuZ2luZT4pIHtcbiAgICBjb25zdCB7bGFiZWwsIHNwZWVkfSA9IGxhYmVsRnJvbUNvbGxpc2lvbkV2ZW50KGV2ZW50KTtcbiAgICAvLyBjb25zb2xlLmxvZygnQ29sbGlzaW9uIHdpdGggd2FsbCcsIGxhYmVsKTtcbiAgICBjb25zb2xlLmxvZyhldmVudClcbiAgICBwbGF5U2FtcGxlKGxhYmVsLCBzcGVlZCk7XG59XG5cbi8vIFJlc2l6ZSBoYW5kbGluZ1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZW5kZXIuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmVuZGVyLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59KTtcbiIsImltcG9ydCB7IGdldDJkR3Jhdml0eSwgcmVxdWVzdFBlcm1pc3Npb24gfSBmcm9tICcuL3NlbnNvcnMuanMnO1xuaW1wb3J0IHsgbG9hZFBoeXNpY3MsIHNldEdyYXZpdHkgfSBmcm9tICcuL3BoeXNpY3MnXG5pbXBvcnQgeyBsb2FkU291bmQgfSBmcm9tICcuL3NvdW5kJ1xuXG5mdW5jdGlvbiB1cGRhdGVCYWxsUG9zaXRpb24oKSB7XG4gICAgY29uc3QgZyA9IGdldDJkR3Jhdml0eSgpO1xuICAgIHNldEVsZW1lbnRJbm5lckh0bWwoJ3gxJywgYHg6ICR7Zy54fWApXG4gICAgc2V0RWxlbWVudElubmVySHRtbCgneTEnLCBgeTogJHtnLnl9YClcbiAgICBzZXRHcmF2aXR5KGcueCwgZy55KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlQmFsbFBvc2l0aW9uKTtcbn1cblxuLy8gU3RhcnQgdGhlIGxvb3BcbnVwZGF0ZUJhbGxQb3NpdGlvbigpO1xuXG5mdW5jdGlvbiBzZXRFbGVtZW50SW5uZXJIdG1sKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIGNvbnN0IHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKTtcbiAgICBpZiAoeCkge1xuICAgICAgICB4LmlubmVySFRNTCA9IGAke3ZhbHVlfWA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50KG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKTtcbiAgICBpZiAoeCkge1xuICAgICAgICB4LnJlbW92ZSgpO1xuICAgIH1cbn1cblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnQtYnRuXCIpO1xuICAgIGlmIChzdGFydEJ1dHRvbikge1xuICAgICAgICBzZXRFbGVtZW50SW5uZXJIdG1sKCdtc2cnLCAnUmVnaXN0ZXJlZCBjbGljayBoYW5kbGVyJyk7XG4gICAgICAgIHN0YXJ0QnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2V0RWxlbWVudElubmVySHRtbCgnbXNnJywgJ1JlcXVlc3RpbmcgcGVybWlzc2lvbicpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgcnAgPSByZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICBzZXRFbGVtZW50SW5uZXJIdG1sKCdtc2cnLCBgcnA6ICR7cnB9YCk7XG4gICAgICAgICAgICByZW1vdmVFbGVtZW50KCdzdGFydC1idG4nKTtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoJ21zZycpO1xuICAgICAgICAgICAgbG9hZFNvdW5kKCk7XG4gICAgICAgICAgICBsb2FkUGh5c2ljcygpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJleHBvcnRzIiwiX3NsaWNlZFRvQXJyYXkiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY3JlYXRlQ2xhc3MiLCJjcmVhdGVFeHRlbmRlZEV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJ2YWx1ZSIsImVuZFRpbWUiLCJpbnNlcnRUaW1lIiwidHlwZSIsImNyZWF0ZUV4dGVuZGVkTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCIsInN0YXJ0VGltZSIsImNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQiLCJ2YWx1ZXMiLCJkdXJhdGlvbiIsImdldFRhcmdldFZhbHVlQXRUaW1lIiwidGltZSIsInZhbHVlQXRTdGFydFRpbWUiLCJfcmVmIiwidGFyZ2V0IiwidGltZUNvbnN0YW50IiwiTWF0aCIsImV4cCIsImlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCIsImF1dG9tYXRpb25FdmVudCIsImlzTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50IiwiaXNTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCIsImlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCIsImdldFZhbHVlT2ZBdXRvbWF0aW9uRXZlbnRBdEluZGV4QXRUaW1lIiwiYXV0b21hdGlvbkV2ZW50cyIsImluZGV4IiwiZGVmYXVsdFZhbHVlIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiZ2V0RW5kVGltZUFuZFZhbHVlT2ZQcmV2aW91c0F1dG9tYXRpb25FdmVudCIsImN1cnJlbnRBdXRvbWF0aW9uRXZlbnQiLCJuZXh0QXV0b21hdGlvbkV2ZW50IiwiaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50IiwiaXNDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQiLCJnZXRFdmVudFRpbWUiLCJjYW5jZWxUaW1lIiwiZ2V0RXhwb25lbnRpYWxSYW1wVmFsdWVBdFRpbWUiLCJwb3ciLCJnZXRMaW5lYXJSYW1wVmFsdWVBdFRpbWUiLCJnZXRWYWx1ZUN1cnZlVmFsdWVBdFRpbWUiLCJ0aGVvcmV0aWNJbmRleCIsImxvd2VySW5kZXgiLCJmbG9vciIsInVwcGVySW5kZXgiLCJjZWlsIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImlzU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50IiwiQXV0b21hdGlvbkV2ZW50TGlzdCIsIl9TeW1ib2wkaXRlcmF0b3IiLCJ0aGlzIiwiX2F1dG9tYXRpb25FdmVudHMiLCJfY3VycmVuVGltZSIsIl9kZWZhdWx0VmFsdWUiLCJrZXkiLCJTeW1ib2wiLCJpdGVyYXRvciIsImV2ZW50VGltZSIsImZpbmRJbmRleCIsInJlbW92ZWRBdXRvbWF0aW9uRXZlbnQiLCJzbGljZSIsImxhc3RBdXRvbWF0aW9uRXZlbnQiLCJFcnJvciIsInN0YXJ0VmFsdWUiLCJ0cnVuY2F0ZWRBdXRvbWF0aW9uRXZlbnQiLCJwdXNoIiwiZ2V0VmFsdWUiLCJyYXRpbyIsIm1heCIsImZyYWN0aW9uIiwiaSIsImZhY3RvciIsIl9pbmRleCIsInByZXZpb3VzQXV0b21hdGlvbkV2ZW50IiwicGVyc2lzdGVudEF1dG9tYXRpb25FdmVudCIsInNwbGljZSIsInJlbWFpbmluZ0F1dG9tYXRpb25FdmVudHMiLCJmaXJzdFJlbWFpbmluZ0F1dG9tYXRpb25FdmVudCIsInVuc2hpZnQiLCJpbmRleE9mTmV4dEV2ZW50IiwiaW5kZXhPZkN1cnJlbnRFdmVudCIsIl9nZXRFbmRUaW1lQW5kVmFsdWVPZiIsIl9nZXRFbmRUaW1lQW5kVmFsdWVPZjIiLCJfZ2V0RW5kVGltZUFuZFZhbHVlT2YzIiwiX2dldEVuZFRpbWVBbmRWYWx1ZU9mNCIsIl9zdGFydFRpbWUiLCJfdmFsdWUiLCJjcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50IiwiY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50IiwiY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCIsImNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50IiwiY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50IiwiZmFjdG9yeSIsIm1vZHVsZXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwibW9kdWxlSWQiLCJtb2R1bGUiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInRvU3RyaW5nVGFnIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbW1vbiIsIl9iYXNlRGVsdGEiLCJfbmV4dElkIiwiX3NlZWQiLCJfbm93U3RhcnRUaW1lIiwiRGF0ZSIsIl93YXJuZWRPbmNlIiwiX2RlY29tcCIsImV4dGVuZCIsIm9iaiIsImRlZXAiLCJhcmdzU3RhcnQiLCJkZWVwQ2xvbmUiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJwcm9wIiwiY29uc3RydWN0b3IiLCJjbG9uZSIsImtleXMiLCJwYXRoIiwiYmVnaW4iLCJlbmQiLCJzcGxpdCIsInNldCIsInZhbCIsInBhcnRzIiwic2h1ZmZsZSIsImFycmF5IiwiaiIsInJhbmRvbSIsInRlbXAiLCJjaG9vc2UiLCJjaG9pY2VzIiwiaXNFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwiaXNBcnJheSIsInRvU3RyaW5nIiwiaXNGdW5jdGlvbiIsImlzUGxhaW5PYmplY3QiLCJpc1N0cmluZyIsImNsYW1wIiwibWluIiwic2lnbiIsIm5vdyIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwid2Via2l0Tm93IiwiX3NlZWRlZFJhbmRvbSIsImNvbG9yVG9OdW1iZXIiLCJjb2xvclN0cmluZyIsInJlcGxhY2UiLCJjaGFyQXQiLCJwYXJzZUludCIsImxvZ0xldmVsIiwibG9nIiwiY29uc29sZSIsImFwcGx5IiwiY29uY2F0IiwiQXJyYXkiLCJpbmZvIiwid2FybiIsIndhcm5PbmNlIiwibWVzc2FnZSIsImpvaW4iLCJkZXByZWNhdGVkIiwid2FybmluZyIsImNoYWluIiwibmV4dElkIiwiaW5kZXhPZiIsImhheXN0YWNrIiwibmVlZGxlIiwibWFwIiwibGlzdCIsImZ1bmMiLCJtYXBwZWQiLCJ0b3BvbG9naWNhbFNvcnQiLCJncmFwaCIsInJlc3VsdCIsInZpc2l0ZWQiLCJub2RlIiwiX3RvcG9sb2dpY2FsU29ydCIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwiZnVuY3MiLCJfY2hhaW5lZCIsImxhc3RSZXN1bHQiLCJhcmdzIiwiY2hhaW5QYXRoQmVmb3JlIiwiYmFzZSIsImNoYWluUGF0aEFmdGVyIiwic2V0RGVjb21wIiwiZGVjb21wIiwiZ2V0RGVjb21wIiwiZyIsImUiLCJCb3VuZHMiLCJ2ZXJ0aWNlcyIsImJvdW5kcyIsIngiLCJ5IiwidXBkYXRlIiwidmVsb2NpdHkiLCJJbmZpbml0eSIsInZlcnRleCIsImNvbnRhaW5zIiwicG9pbnQiLCJvdmVybGFwcyIsImJvdW5kc0EiLCJib3VuZHNCIiwidHJhbnNsYXRlIiwidmVjdG9yIiwic2hpZnQiLCJwb3NpdGlvbiIsImRlbHRhWCIsImRlbHRhWSIsIlZlY3RvciIsIm1hZ25pdHVkZSIsInNxcnQiLCJtYWduaXR1ZGVTcXVhcmVkIiwicm90YXRlIiwiYW5nbGUiLCJvdXRwdXQiLCJjb3MiLCJzaW4iLCJyb3RhdGVBYm91dCIsIm5vcm1hbGlzZSIsImRvdCIsInZlY3RvckEiLCJ2ZWN0b3JCIiwiY3Jvc3MiLCJjcm9zczMiLCJ2ZWN0b3JDIiwiYWRkIiwic3ViIiwibXVsdCIsInNjYWxhciIsImRpdiIsInBlcnAiLCJuZWdhdGUiLCJuZWciLCJhdGFuMiIsIl90ZW1wIiwiVmVydGljZXMiLCJwb2ludHMiLCJib2R5IiwiaXNJbnRlcm5hbCIsImZyb21QYXRoIiwibWF0Y2giLCJwYXJzZUZsb2F0IiwiY2VudHJlIiwiYXJlYSIsIm1lYW4iLCJhdmVyYWdlIiwic2lnbmVkIiwiYWJzIiwiaW5lcnRpYSIsIm1hc3MiLCJudW1lcmF0b3IiLCJkZW5vbWluYXRvciIsInYiLCJ2ZXJ0aWNlc0xlbmd0aCIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwiZHgiLCJkeSIsInBvaW50WCIsInBvaW50WSIsIm5leHRWZXJ0ZXgiLCJzY2FsZSIsInNjYWxlWCIsInNjYWxlWSIsImRlbHRhIiwiY2hhbWZlciIsInJhZGl1cyIsInF1YWxpdHkiLCJxdWFsaXR5TWluIiwicXVhbGl0eU1heCIsIm5ld1ZlcnRpY2VzIiwicHJldlZlcnRleCIsImN1cnJlbnRSYWRpdXMiLCJwcmV2Tm9ybWFsIiwibmV4dE5vcm1hbCIsImRpYWdvbmFsUmFkaXVzIiwicmFkaXVzVmVjdG9yIiwibWlkTm9ybWFsIiwic2NhbGVkVmVydGV4IiwicHJlY2lzaW9uIiwidGhldGEiLCJhY29zIiwiY2xvY2t3aXNlU29ydCIsInNvcnQiLCJ2ZXJ0ZXhBIiwidmVydGV4QiIsImlzQ29udmV4IiwiayIsInoiLCJmbGFnIiwiaHVsbCIsInVwcGVyIiwibG93ZXIiLCJwb3AiLCJCb2R5IiwiU2xlZXBpbmciLCJBeGVzIiwiX3RpbWVDb3JyZWN0aW9uIiwiX2luZXJ0aWFTY2FsZSIsIl9uZXh0Q29sbGlkaW5nR3JvdXBJZCIsIl9uZXh0Tm9uQ29sbGlkaW5nR3JvdXBJZCIsIl9uZXh0Q2F0ZWdvcnkiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJpZCIsImxhYmVsIiwicGx1Z2luIiwiZm9yY2UiLCJ0b3JxdWUiLCJwb3NpdGlvbkltcHVsc2UiLCJjb25zdHJhaW50SW1wdWxzZSIsInRvdGFsQ29udGFjdHMiLCJzcGVlZCIsImFuZ3VsYXJTcGVlZCIsImFuZ3VsYXJWZWxvY2l0eSIsImlzU2Vuc29yIiwiaXNTdGF0aWMiLCJpc1NsZWVwaW5nIiwibW90aW9uIiwic2xlZXBUaHJlc2hvbGQiLCJkZW5zaXR5IiwicmVzdGl0dXRpb24iLCJmcmljdGlvbiIsImZyaWN0aW9uU3RhdGljIiwiZnJpY3Rpb25BaXIiLCJjb2xsaXNpb25GaWx0ZXIiLCJjYXRlZ29yeSIsIm1hc2siLCJncm91cCIsInNsb3AiLCJ0aW1lU2NhbGUiLCJyZW5kZXIiLCJ2aXNpYmxlIiwib3BhY2l0eSIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwibGluZVdpZHRoIiwic3ByaXRlIiwieFNjYWxlIiwieVNjYWxlIiwieE9mZnNldCIsInlPZmZzZXQiLCJldmVudHMiLCJjaXJjbGVSYWRpdXMiLCJwb3NpdGlvblByZXYiLCJhbmdsZVByZXYiLCJwYXJlbnQiLCJheGVzIiwiZGVsdGFUaW1lIiwiX29yaWdpbmFsIiwiX2luaXRQcm9wZXJ0aWVzIiwibmV4dEdyb3VwIiwiaXNOb25Db2xsaWRpbmciLCJuZXh0Q2F0ZWdvcnkiLCJkZWZhdWx0RmlsbFN0eWxlIiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiZGVmYXVsdExpbmVXaWR0aCIsInNldHRpbmdzIiwic2V0U3RhdGljIiwic2V0TWFzcyIsInNldERlbnNpdHkiLCJzZXRJbmVydGlhIiwic2V0VmVydGljZXMiLCJzZXRQb3NpdGlvbiIsInNldEFuZ2xlIiwic2V0VmVsb2NpdHkiLCJzZXRBbmd1bGFyVmVsb2NpdHkiLCJzZXRTcGVlZCIsInNldEFuZ3VsYXJTcGVlZCIsInNldFBhcnRzIiwic2V0Q2VudHJlIiwicGFydCIsImludmVyc2VNYXNzIiwiaW52ZXJzZUluZXJ0aWEiLCJtb21lbnQiLCJmcm9tVmVydGljZXMiLCJhdXRvSHVsbCIsImh1bGxDZW50cmUiLCJ0b3RhbCIsIl90b3RhbFByb3BlcnRpZXMiLCJyZWxhdGl2ZSIsInVwZGF0ZVZlbG9jaXR5IiwiZ2V0VmVsb2NpdHkiLCJnZXRTcGVlZCIsImdldEFuZ3VsYXJWZWxvY2l0eSIsImdldEFuZ3VsYXJTcGVlZCIsInRyYW5zbGF0aW9uIiwicm90YXRpb24iLCJ0b3RhbEFyZWEiLCJ0b3RhbEluZXJ0aWEiLCJkZWx0YVRpbWVTcXVhcmVkIiwiY29ycmVjdGlvbiIsInZlbG9jaXR5UHJldlgiLCJ2ZWxvY2l0eVByZXZZIiwidXBkYXRlVmVsb2NpdGllcyIsImJvZHlWZWxvY2l0eSIsImFwcGx5Rm9yY2UiLCJvZmZzZXQiLCJwcm9wZXJ0aWVzIiwiRXZlbnRzIiwib24iLCJldmVudE5hbWVzIiwiY2FsbGJhY2siLCJuYW1lcyIsIm9mZiIsImNhbGxiYWNrcyIsIm5ld0NhbGxiYWNrcyIsInRyaWdnZXIiLCJldmVudCIsImV2ZW50Q2xvbmUiLCJDb21wb3NpdGUiLCJpc01vZGlmaWVkIiwiYm9kaWVzIiwiY29uc3RyYWludHMiLCJjb21wb3NpdGVzIiwiY2FjaGUiLCJhbGxCb2RpZXMiLCJhbGxDb25zdHJhaW50cyIsImFsbENvbXBvc2l0ZXMiLCJzZXRNb2RpZmllZCIsImNvbXBvc2l0ZSIsInVwZGF0ZVBhcmVudHMiLCJ1cGRhdGVDaGlsZHJlbiIsImNoaWxkQ29tcG9zaXRlIiwib2JqZWN0cyIsImFkZEJvZHkiLCJhZGRDb25zdHJhaW50IiwiYWRkQ29tcG9zaXRlIiwiY29uc3RyYWludCIsInJlbW92ZSIsInJlbW92ZUJvZHkiLCJyZW1vdmVDb25zdHJhaW50IiwicmVtb3ZlQ29tcG9zaXRlIiwiY29tcG9zaXRlQSIsImNvbXBvc2l0ZUIiLCJyZW1vdmVDb21wb3NpdGVBdCIsInJlbW92ZUJvZHlBdCIsInJlbW92ZUNvbnN0cmFpbnRBdCIsImNsZWFyIiwia2VlcFN0YXRpYyIsImZpbHRlciIsIm1vdmUiLCJyZWJhc2UiLCJyZWN1cnNpdmUiLCJfbW90aW9uV2FrZVRocmVzaG9sZCIsIl9tb3Rpb25TbGVlcFRocmVzaG9sZCIsIl9taW5CaWFzIiwibW90aW9uU2xlZXBUaHJlc2hvbGQiLCJtaW5Nb3Rpb24iLCJtYXhNb3Rpb24iLCJzbGVlcENvdW50ZXIiLCJhZnRlckNvbGxpc2lvbnMiLCJwYWlycyIsInBhaXIiLCJpc0FjdGl2ZSIsImNvbGxpc2lvbiIsImJvZHlBIiwiYm9keUIiLCJzbGVlcGluZ0JvZHkiLCJtb3ZpbmdCb2R5Iiwid2FzU2xlZXBpbmciLCJDb2xsaXNpb24iLCJfc3VwcG9ydHMiLCJfb3ZlcmxhcEFCIiwiX292ZXJsYXBCQSIsIlBhaXIiLCJvdmVybGFwIiwiYXhpcyIsImNvbGxpZGVkIiwicGFyZW50QSIsInBhcmVudEIiLCJkZXB0aCIsIm5vcm1hbCIsInRhbmdlbnQiLCJwZW5ldHJhdGlvbiIsInN1cHBvcnRzIiwiY29sbGlkZXMiLCJfb3ZlcmxhcEF4ZXMiLCJtaW5PdmVybGFwIiwidGFibGUiLCJtaW5BeGlzIiwibWluQXhpc1giLCJtaW5BeGlzWSIsInN1cHBvcnRzQiIsIl9maW5kU3VwcG9ydHMiLCJzdXBwb3J0Q291bnQiLCJzdXBwb3J0c0EiLCJ2ZXJ0aWNlc0EiLCJ2ZXJ0aWNlc0IiLCJvdmVybGFwQUIiLCJvdmVybGFwQkEiLCJ2ZXJ0aWNlc0FMZW5ndGgiLCJ2ZXJ0aWNlc0JMZW5ndGgiLCJ2ZXJ0aWNlc0FYIiwidmVydGljZXNBWSIsInZlcnRpY2VzQlgiLCJ2ZXJ0aWNlc0JZIiwiYXhlc0xlbmd0aCIsIm92ZXJsYXBNaW4iLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJvdmVybGFwQXhpc051bWJlciIsImF4aXNYIiwiYXhpc1kiLCJtaW5BIiwibWluQiIsIm1heEEiLCJtYXhCIiwiX3Byb2plY3RUb0F4aXMiLCJwcm9qZWN0aW9uIiwiZGlyZWN0aW9uIiwidmVydGV4QyIsImRpc3RhbmNlIiwiYm9keUFQb3NpdGlvblgiLCJib2R5QVBvc2l0aW9uWSIsIm5vcm1hbFgiLCJub3JtYWxZIiwibmVhcmVzdERpc3RhbmNlIiwiQ29udGFjdCIsInRpbWVzdGFtcCIsImNvbnRhY3RzIiwiYWN0aXZlQ29udGFjdHMiLCJzZXBhcmF0aW9uIiwiY29uZmlybWVkQWN0aXZlIiwidGltZUNyZWF0ZWQiLCJ0aW1lVXBkYXRlZCIsInBhcmVudEFWZXJ0aWNlc0xlbmd0aCIsInN1cHBvcnQiLCJjb250YWN0SWQiLCJjb250YWN0Iiwic2V0QWN0aXZlIiwiQ29uc3RyYWludCIsIl93YXJtaW5nIiwiX3RvcnF1ZURhbXBlbiIsIl9taW5MZW5ndGgiLCJwb2ludEEiLCJwb2ludEIiLCJpbml0aWFsUG9pbnRBIiwiaW5pdGlhbFBvaW50QiIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJhbmd1bGFyU3RpZmZuZXNzIiwiYW5nbGVBIiwiYW5nbGVCIiwiYW5jaG9ycyIsInByZVNvbHZlQWxsIiwiaW1wdWxzZSIsInNvbHZlQWxsIiwiZml4ZWRBIiwiZml4ZWRCIiwic29sdmUiLCJwb2ludEFXb3JsZCIsInBvaW50QldvcmxkIiwiY3VycmVudExlbmd0aCIsInNoYXJlIiwibm9ybWFsVmVsb2NpdHkiLCJyZWxhdGl2ZVZlbG9jaXR5IiwiZGlmZmVyZW5jZSIsIm1hc3NUb3RhbCIsInJlc2lzdGFuY2VUb3RhbCIsInplcm8iLCJwb3N0U29sdmVBbGwiLCJncmFkaWVudCIsInRvRml4ZWQiLCJ4eCIsIkJvZGllcyIsInJlY3RhbmdsZSIsIndpZHRoIiwiaGVpZ2h0IiwidHJhcGV6b2lkIiwic2xvcGUiLCJ2ZXJ0aWNlc1BhdGgiLCJ4MSIsIngyIiwieDMiLCJjaXJjbGUiLCJtYXhTaWRlcyIsInNpZGVzIiwicG9seWdvbiIsIlBJIiwieXkiLCJ2ZXJ0ZXhTZXRzIiwiZmxhZ0ludGVybmFsIiwicmVtb3ZlQ29sbGluZWFyIiwibWluaW11bUFyZWEiLCJyZW1vdmVEdXBsaWNhdGVQb2ludHMiLCJjYW5EZWNvbXAiLCJCb29sZWFuIiwicXVpY2tEZWNvbXAiLCJjb25jYXZlIiwibWFrZUNDVyIsInJlbW92ZUNvbGxpbmVhclBvaW50cyIsImRlY29tcG9zZWQiLCJjaHVua1ZlcnRpY2VzIiwicGFydEEiLCJwYXJ0QiIsInBhdiIsInBidiIsImRhIiwiZGIiLCJEZXRlY3RvciIsInNldEJvZGllcyIsImRldGVjdG9yIiwiY29sbGlzaW9ucyIsImJvZGllc0xlbmd0aCIsImNhbkNvbGxpZGUiLCJfY29tcGFyZUJvdW5kc1giLCJib3VuZFhNYXgiLCJib3VuZFlNYXgiLCJib3VuZFlNaW4iLCJib2R5QVN0YXRpYyIsInBhcnRzQUxlbmd0aCIsInBhcnRzQVNpbmdsZSIsInBhcnRzQkxlbmd0aCIsInBhcnRzQlN0YXJ0IiwiZmlsdGVyQSIsImZpbHRlckIiLCJNb3VzZSIsImVsZW1lbnQiLCJtb3VzZSIsImRvY3VtZW50IiwiYWJzb2x1dGUiLCJtb3VzZWRvd25Qb3NpdGlvbiIsIm1vdXNldXBQb3NpdGlvbiIsIndoZWVsRGVsdGEiLCJidXR0b24iLCJwaXhlbFJhdGlvIiwiZ2V0QXR0cmlidXRlIiwic291cmNlRXZlbnRzIiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJfZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uIiwiY2hhbmdlZFRvdWNoZXMiLCJwcmV2ZW50RGVmYXVsdCIsImRldGFpbCIsInNldEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJTb3VyY2VFdmVudHMiLCJzZXRPZmZzZXQiLCJzZXRTY2FsZSIsImVsZW1lbnRCb3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyb290Tm9kZSIsImRvY3VtZW50RWxlbWVudCIsInBhcmVudE5vZGUiLCJzY3JvbGxYIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwidG91Y2hlcyIsInBhZ2VYIiwibGVmdCIsInBhZ2VZIiwidG9wIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJQbHVnaW4iLCJfcmVnaXN0cnkiLCJyZWdpc3RlciIsImlzUGx1Z2luIiwicmVnaXN0ZXJlZCIsInBsdWdpblZlcnNpb24iLCJ2ZXJzaW9uUGFyc2UiLCJ2ZXJzaW9uIiwibnVtYmVyIiwicmVnaXN0ZXJlZFZlcnNpb24iLCJyZXNvbHZlIiwiZGVwZW5kZW5jeSIsImRlcGVuZGVuY3lQYXJzZSIsInJhbmdlIiwiaW5zdGFsbCIsImlzVXNlZCIsInVzZWQiLCJpc0ZvciIsInBhcnNlZCIsImZvciIsInZlcnNpb25TYXRpc2ZpZXMiLCJ1c2UiLCJwbHVnaW5zIiwidXNlcyIsImRlcGVuZGVuY2llcyIsInNvcnRlZERlcGVuZGVuY2llcyIsInN0YXR1cyIsIl93YXJuZWQiLCJ0cmFja2VkIiwicGFyc2VkQmFzZSIsInJlc29sdmVkIiwidGVzdCIsInBhdHRlcm4iLCJleGVjIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwiaXNSYW5nZSIsIm9wZXJhdG9yIiwicHJlcmVsZWFzZSIsIm5vcm1hbEltcHVsc2UiLCJ0YW5nZW50SW1wdWxzZSIsIkVuZ2luZSIsIlJlc29sdmVyIiwiUGFpcnMiLCJlbmdpbmUiLCJwb3NpdGlvbkl0ZXJhdGlvbnMiLCJ2ZWxvY2l0eUl0ZXJhdGlvbnMiLCJjb25zdHJhaW50SXRlcmF0aW9ucyIsImVuYWJsZVNsZWVwaW5nIiwiZ3Jhdml0eSIsInRpbWluZyIsImxhc3REZWx0YSIsImxhc3RFbGFwc2VkIiwid29ybGQiLCJncmlkIiwiYnVja2V0cyIsImJyb2FkcGhhc2UiLCJtZXRyaWNzIiwiX2JvZGllc0FwcGx5R3Jhdml0eSIsIl9ib2RpZXNVcGRhdGUiLCJjb2xsaXNpb25TdGFydCIsInBvc2l0aW9uRGFtcGluZyIsInByZVNvbHZlUG9zaXRpb24iLCJzb2x2ZVBvc2l0aW9uIiwicG9zdFNvbHZlUG9zaXRpb24iLCJwcmVTb2x2ZVZlbG9jaXR5Iiwic29sdmVWZWxvY2l0eSIsIl9ib2RpZXNVcGRhdGVWZWxvY2l0aWVzIiwiY29sbGlzaW9uQWN0aXZlIiwiY29sbGlzaW9uRW5kIiwiX2JvZGllc0NsZWFyRm9yY2VzIiwibWVyZ2UiLCJlbmdpbmVBIiwiZW5naW5lQiIsImdyYXZpdHlTY2FsZSIsIl9yZXN0aW5nVGhyZXNoIiwiX3Jlc3RpbmdUaHJlc2hUYW5nZW50IiwiX3Bvc2l0aW9uRGFtcGVuIiwiX3Bvc2l0aW9uV2FybWluZyIsIl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIiLCJfZnJpY3Rpb25NYXhTdGF0aWMiLCJhY3RpdmVDb3VudCIsInBhaXJzTGVuZ3RoIiwiY29udGFjdFNoYXJlIiwicG9zaXRpb25EYW1wZW4iLCJzbG9wRGFtcGVuIiwicG9zaXRpb25XYXJtaW5nIiwidmVydGljZXNUcmFuc2xhdGUiLCJib3VuZHNVcGRhdGUiLCJwb3NpdGlvbkltcHVsc2VYIiwicG9zaXRpb25JbXB1bHNlWSIsImNvbnRhY3RzTGVuZ3RoIiwiY29udGFjdFZlcnRleCIsImltcHVsc2VYIiwiaW1wdWxzZVkiLCJtYXhGcmljdGlvbiIsInRpbWVTY2FsZUN1YmVkIiwicmVzdGluZ1RocmVzaCIsInJlc3RpbmdUaHJlc2hUYW5nZW50IiwiZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyIiwiZnJpY3Rpb25NYXhTdGF0aWMiLCJib2R5QVZlbG9jaXR5IiwiYm9keUJWZWxvY2l0eSIsInRhbmdlbnRYIiwidGFuZ2VudFkiLCJpbnZlcnNlTWFzc1RvdGFsIiwib2Zmc2V0QVgiLCJvZmZzZXRBWSIsIm9mZnNldEJYIiwib2Zmc2V0QlkiLCJ2ZWxvY2l0eVBvaW50QVgiLCJ2ZWxvY2l0eVBvaW50QVkiLCJyZWxhdGl2ZVZlbG9jaXR5WCIsInJlbGF0aXZlVmVsb2NpdHlZIiwidGFuZ2VudFZlbG9jaXR5Iiwibm9ybWFsT3ZlcmxhcCIsIm5vcm1hbEZvcmNlIiwiZnJpY3Rpb25MaW1pdCIsIm9BY04iLCJvQmNOIiwiY29udGFjdE5vcm1hbEltcHVsc2UiLCJjb250YWN0VGFuZ2VudEltcHVsc2UiLCJwYWlySW5kZXgiLCJwYWlyc0xpc3QiLCJwYWlyc0xpc3RMZW5ndGgiLCJwYWlyc1RhYmxlIiwiY29sbGlzaW9uc0xlbmd0aCIsInJlbW92ZVBhaXJJbmRleCIsIk1hdHRlciIsIkNvbXBvc2l0ZXMiLCJHcmlkIiwiTW91c2VDb25zdHJhaW50IiwiUXVlcnkiLCJSZW5kZXIiLCJSdW5uZXIiLCJTQVQiLCJTdmciLCJXb3JsZCIsInJ1biIsImJlZm9yZSIsImFmdGVyIiwic3RhY2siLCJjb2x1bW5zIiwicm93cyIsImNvbHVtbkdhcCIsInJvd0dhcCIsImxhc3RCb2R5Iiwicm93IiwibWF4SGVpZ2h0IiwiY29sdW1uIiwiYm9keUhlaWdodCIsImJvZHlXaWR0aCIsInhPZmZzZXRBIiwieU9mZnNldEEiLCJ4T2Zmc2V0QiIsInlPZmZzZXRCIiwiYm9keUFIZWlnaHQiLCJib2R5QVdpZHRoIiwiYm9keUJIZWlnaHQiLCJtZXNoIiwiY3Jvc3NCcmFjZSIsImNvbCIsImJvZHlDIiwicHlyYW1pZCIsImFjdHVhbFJvd3MiLCJsYXN0Qm9keVdpZHRoIiwibmV3dG9uc0NyYWRsZSIsInNpemUiLCJjYXIiLCJ3aGVlbFNpemUiLCJ3aGVlbEFPZmZzZXQiLCJ3aGVlbEJPZmZzZXQiLCJ3aGVlbEEiLCJ3aGVlbEIiLCJheGVsQSIsImF4ZWxCIiwic29mdEJvZHkiLCJwYXJ0aWNsZVJhZGl1cyIsInBhcnRpY2xlT3B0aW9ucyIsImNvbnN0cmFpbnRPcHRpb25zIiwiYnVja2V0V2lkdGgiLCJidWNrZXRIZWlnaHQiLCJmb3JjZVVwZGF0ZSIsImJ1Y2tldCIsImJ1Y2tldElkIiwiZ3JpZENoYW5nZWQiLCJuZXdSZWdpb24iLCJfZ2V0UmVnaW9uIiwicmVnaW9uIiwidW5pb24iLCJfcmVnaW9uVW5pb24iLCJzdGFydENvbCIsImVuZENvbCIsInN0YXJ0Um93IiwiZW5kUm93IiwiX2dldEJ1Y2tldElkIiwiaXNJbnNpZGVOZXdSZWdpb24iLCJpc0luc2lkZU9sZFJlZ2lvbiIsIl9idWNrZXRSZW1vdmVCb2R5IiwiX2NyZWF0ZUJ1Y2tldCIsIl9idWNrZXRBZGRCb2R5IiwiX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCIsInJlZ2lvbkEiLCJyZWdpb25CIiwiX2NyZWF0ZVJlZ2lvbiIsImdyaWRQYWlycyIsInBhaXJJZCIsImJ1Y2tldExlbmd0aCIsInBhaXJLZXlzIiwicGFpcktleXNMZW5ndGgiLCJjYW52YXMiLCJtb3VzZUNvbnN0cmFpbnQiLCJfdHJpZ2dlckV2ZW50cyIsIm1vdXNlRXZlbnRzIiwicGFydHNBU3RhcnQiLCJyYXkiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJyYXlXaWR0aCIsInJheUFuZ2xlIiwicmF5TGVuZ3RoIiwicmF5WCIsInJheVkiLCJvdXRzaWRlIiwiX3JlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9jYW5jZWxBbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfZ29vZEZwcyIsIl9nb29kRGVsdGEiLCJmcmFtZVJlcXVlc3RJZCIsImhpc3RvcnlTaXplIiwiZGVsdGFIaXN0b3J5IiwibGFzdFRpbWUiLCJsYXN0VGltZXN0YW1wIiwidGltZXN0YW1wRWxhcHNlZCIsInRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5IiwiZW5naW5lRGVsdGFIaXN0b3J5IiwiZW5naW5lRWxhcHNlZEhpc3RvcnkiLCJlbGFwc2VkSGlzdG9yeSIsImJhY2tncm91bmQiLCJ3aXJlZnJhbWVCYWNrZ3JvdW5kIiwiaGFzQm91bmRzIiwiZW5hYmxlZCIsIndpcmVmcmFtZXMiLCJzaG93U2xlZXBpbmciLCJzaG93RGVidWciLCJzaG93U3RhdHMiLCJzaG93UGVyZm9ybWFuY2UiLCJzaG93Qm91bmRzIiwic2hvd1ZlbG9jaXR5Iiwic2hvd0NvbGxpc2lvbnMiLCJzaG93U2VwYXJhdGlvbnMiLCJzaG93QXhlcyIsInNob3dQb3NpdGlvbnMiLCJzaG93QW5nbGVJbmRpY2F0b3IiLCJzaG93SWRzIiwic2hvd1ZlcnRleE51bWJlcnMiLCJzaG93Q29udmV4SHVsbHMiLCJzaG93SW50ZXJuYWxFZGdlcyIsInNob3dNb3VzZVBvc2l0aW9uIiwiX2NyZWF0ZUNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwidGV4dHVyZXMiLCJjb250cm9sbGVyIiwic2hvd0Jyb2FkcGhhc2UiLCJzZXRQaXhlbFJhdGlvIiwiYXBwZW5kQ2hpbGQiLCJsb29wIiwiX3VwZGF0ZVRpbWluZyIsInN0YXRzIiwic3RvcCIsIl9nZXRQaXhlbFJhdGlvIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJsb29rQXQiLCJwYWRkaW5nIiwiY2VudGVyIiwidmlld0hlaWdodCIsIm91dGVyUmF0aW8iLCJpbm5lclJhdGlvIiwic3RhcnRWaWV3VHJhbnNmb3JtIiwiYm91bmRzV2lkdGgiLCJib3VuZHNIZWlnaHQiLCJib3VuZHNTY2FsZVgiLCJib3VuZHNTY2FsZVkiLCJzZXRUcmFuc2Zvcm0iLCJlbmRWaWV3VHJhbnNmb3JtIiwiY3VycmVudEJhY2tncm91bmQiLCJfYXBwbHlCYWNrZ3JvdW5kIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZmlsbFJlY3QiLCJib2R5Q29udmV4SHVsbHMiLCJib2R5V2lyZWZyYW1lcyIsImJvZHlCb3VuZHMiLCJib2R5QXhlcyIsImJvZHlQb3NpdGlvbnMiLCJib2R5SWRzIiwic2VwYXJhdGlvbnMiLCJ2ZXJ0ZXhOdW1iZXJzIiwibW91c2VQb3NpdGlvbiIsInNlY3Rpb25zIiwiZm9udCIsInRleHRCYXNlbGluZSIsInRleHRBbGlnbiIsInNlY3Rpb24iLCJmaWxsVGV4dCIsImxhc3RFbmdpbmVEZWx0YSIsImRlbHRhTWVhbiIsIl9tZWFuIiwiZWxhcHNlZE1lYW4iLCJlbmdpbmVEZWx0YU1lYW4iLCJlbmdpbmVFbGFwc2VkTWVhbiIsInJhdGVNZWFuIiwiZnBzIiwiZ2FwIiwicm91bmQiLCJjb3VudCIsImluZGljYXRvciIsInBsb3RZIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwic3RhcnQiLCJhcmMiLCJjbG9zZVBhdGgiLCJjb2lscyIsImZpbGwiLCJnbG9iYWxBbHBoYSIsInRleHR1cmUiLCJfZ2V0VGV4dHVyZSIsImRyYXdJbWFnZSIsInJlY3QiLCJub3JtYWxQb3NYIiwibm9ybWFsUG9zWSIsImluc3BlY3RvciIsInNlbGVjdGVkIiwiaXRlbSIsImRhdGEiLCJzZXRMaW5lRGFzaCIsInNlbGVjdFN0YXJ0Iiwic2VsZWN0Qm91bmRzIiwiY3JlYXRlRWxlbWVudCIsIm9uY29udGV4dG1lbnUiLCJvbnNlbGVjdHN0YXJ0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiaW1hZ2VQYXRoIiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsImNzc0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kU2l6ZSIsIl9mcmFtZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJydW5uZXIiLCJkZWx0YVNhbXBsZVNpemUiLCJjb3VudGVyVGltZXN0YW1wIiwiZnJhbWVDb3VudGVyIiwidGltZVByZXYiLCJpc0ZpeGVkIiwiZGVsdGFNaW4iLCJkZWx0YU1heCIsInRpY2siLCJwYXRoVG9WZXJ0aWNlcyIsInNhbXBsZUxlbmd0aCIsImlsIiwic2VnbWVudCIsInNlZ21lbnRzIiwic2VnbWVudHNRdWV1ZSIsImxhc3RTZWdtZW50IiwibGFzdFBvaW50IiwibHgiLCJseSIsImFkZFBvaW50IiwicHgiLCJweSIsInBhdGhTZWdUeXBlIiwiaXNSZWxhdGl2ZSIsImFkZFNlZ21lbnRQb2ludCIsInNlZ1R5cGUiLCJwYXRoU2VnVHlwZUFzTGV0dGVyIiwidG9VcHBlckNhc2UiLCJfc3ZnUGF0aFRvQWJzb2x1dGUiLCJnZXRUb3RhbExlbmd0aCIsInBhdGhTZWdMaXN0IiwibnVtYmVyT2ZJdGVtcyIsImdldEl0ZW0iLCJnZXRQYXRoU2VnQXRMZW5ndGgiLCJnZXRQb2ludEF0TGVuZ3RoIiwieDAiLCJ5MCIsInkxIiwieTIiLCJzZWdzIiwibGVuIiwic2VnIiwicmVwbGFjZUl0ZW0iLCJjcmVhdGVTVkdQYXRoU2VnTW92ZXRvQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b0FicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0FicyIsImNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0FicyIsImNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0FyY0FicyIsInIxIiwicjIiLCJsYXJnZUFyY0ZsYWciLCJzd2VlcEZsYWciLCJhcnIiLCJhcnIyIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsInRvUHJvcGVydHlLZXkiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwidSIsImEiLCJmIiwibmV4dCIsImRvbmUiLCJhcnJheVdpdGhIb2xlcyIsIml0ZXJhYmxlVG9BcnJheUxpbWl0IiwidW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVJlc3QiLCJfdHlwZW9mIiwidG9QcmltaXRpdmUiLCJTdHJpbmciLCJhcnJheUxpa2VUb0FycmF5IiwibWluTGVuIiwiZnJvbSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiaGFuZGxlTW90aW9uIiwiYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSIsImFjY2VsZXJhdGlvbiIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwiQUNUSVZFX0FVRElPX05PREVfU1RPUkUiLCJXZWFrU2V0IiwiQVVESU9fTk9ERV9DT05ORUNUSU9OU19TVE9SRSIsIldlYWtNYXAiLCJBVURJT19OT0RFX1NUT1JFIiwiQVVESU9fUEFSQU1fQ09OTkVDVElPTlNfU1RPUkUiLCJBVURJT19QQVJBTV9TVE9SRSIsIkNPTlRFWFRfU1RPUkUiLCJFVkVOVF9MSVNURU5FUlMiLCJDWUNMRV9DT1VOVEVSUyIsIk5PREVfTkFNRV9UT19QUk9DRVNTT1JfQ09OU1RSVUNUT1JfTUFQUyIsIk5PREVfVE9fUFJPQ0VTU09SX01BUFMiLCJoYW5kbGVyIiwiY29uc3RydWN0IiwiSU1QT1JUX1NUQVRFTUVOVF9SRUdFWCIsInNwbGl0SW1wb3J0U3RhdGVtZW50cyIsInVybCIsImltcG9ydFN0YXRlbWVudHMiLCJzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cyIsInVucmVzb2x2ZWRVcmwiLCJpbXBvcnRTdGF0ZW1lbnRXaXRoUmVzb2x2ZWRVcmwiLCJVUkwiLCJ2ZXJpZnlQYXJhbWV0ZXJEZXNjcmlwdG9ycyIsInBhcmFtZXRlckRlc2NyaXB0b3JzIiwidmVyaWZ5UHJvY2Vzc29yQ3RvciIsInByb2Nlc3NvckN0b3IiLCJjb25zdHJ1Y3RpYmxlIiwiUHJveHkiLCJpc0NvbnN0cnVjdGlibGUiLCJnZXRWYWx1ZUZvcktleSIsInBpY2tFbGVtZW50RnJvbVNldCIsInByZWRpY2F0ZSIsIm1hdGNoaW5nRWxlbWVudHMiLCJtYXRjaGluZ0VsZW1lbnQiLCJkZWxldGUiLCJkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJwYXNzaXZlSW5wdXRzIiwiaW5wdXQiLCJwYXNzaXZlSW5wdXRDb25uZWN0aW9ucyIsIm1hdGNoaW5nQ29ubmVjdGlvbiIsInBhc3NpdmVJbnB1dENvbm5lY3Rpb24iLCJnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlIiwiYXVkaW9Ob2RlIiwic2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlIiwiaGFzIiwiZm9yRWFjaCIsImV2ZW50TGlzdGVuZXIiLCJpc0F1ZGlvV29ya2xldE5vZGUiLCJzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlIiwic2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZVdoZW5OZWNlc3NhcnkiLCJhY3RpdmVJbnB1dHMiLCJldmVyeSIsImNvbm5lY3Rpb25zIiwiREVGQVVMVF9PUFRJT05TIiwiY2hhbm5lbENvdW50IiwiY2hhbm5lbENvdW50TW9kZSIsImNoYW5uZWxJbnRlcnByZXRhdGlvbiIsImZmdFNpemUiLCJtYXhEZWNpYmVscyIsIm1pbkRlY2liZWxzIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiaXNPd25lZEJ5Q29udGV4dCIsIm5hdGl2ZUF1ZGlvTm9kZSIsIm5hdGl2ZUNvbnRleHQiLCJ0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQiLCJuYXRpdmVBdWRpb0J1ZmZlciIsImNvcHlUb0NoYW5uZWwiLCJGbG9hdDMyQXJyYXkiLCJjcmVhdGVJbmRleFNpemVFcnJvciIsIkRPTUV4Y2VwdGlvbiIsIndyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kIiwiYXVkaW9CdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsImNoYW5uZWwiLCJlcnIiLCJjb2RlIiwibnVtYmVyT2ZDaGFubmVscyIsIk1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUIiwiTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQiLCJpc0FjdGl2ZUF1ZGlvTm9kZSIsImJ1ZmZlciIsImxvb3BFbmQiLCJsb29wU3RhcnQiLCJwbGF5YmFja1JhdGUiLCJnZXRBdWRpb05vZGVDb25uZWN0aW9ucyIsImdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyIsImF1ZGlvUGFyYW0iLCJkZWFjdGl2YXRlQWN0aXZlQXVkaW9Ob2RlSW5wdXRDb25uZWN0aW9ucyIsInRyYWNlIiwiYXVkaW9QYXJhbXMiLCJpc0F1ZGlvQnVmZmVyU291cmNlTm9kZSIsInBhcmFtZXRlcnMiLCJpc0JpcXVhZEZpbHRlck5vZGUiLCJRIiwiZGV0dW5lIiwiZnJlcXVlbmN5IiwiZ2FpbiIsImlzQ29uc3RhbnRTb3VyY2VOb2RlIiwiaXNHYWluTm9kZSIsImlzT3NjaWxsYXRvck5vZGUiLCJpc1N0ZXJlb1Bhbm5lck5vZGUiLCJwYW4iLCJhdWRpb1BhcmFtQ29ubmVjdGlvbnMiLCJkZWFjdGl2YXRlQXVkaW9HcmFwaCIsImRlc3RpbmF0aW9uIiwiaXNBdWRpb05vZGUiLCJhdWRpb05vZGVPckF1ZGlvUGFyYW0iLCJpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24iLCJvdXRwdXRDb25uZWN0aW9uIiwiaW5zZXJ0RWxlbWVudEluU2V0IiwiaWdub3JlRHVwbGljYXRlcyIsImxtbnQiLCJhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0iLCJhY3RpdmVJbnB1dENvbm5lY3Rpb24iLCJhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtIiwiU2V0IiwiaXNOYXRpdmVBdWRpb05vZGVGYWtlciIsIm5hdGl2ZUF1ZGlvTm9kZU9yTmF0aXZlQXVkaW9Ob2RlRmFrZXIiLCJjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUiLCJuYXRpdmVTb3VyY2VBdWRpb05vZGUiLCJuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSIsImZha2VOYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSIsImlucHV0cyIsImNvbm5lY3QiLCJkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb24iLCJhY3RpdmVJbnB1dENvbm5lY3Rpb25zIiwiZGVsZXRlRXZlbnRMaXN0ZW5lck9mQXVkaW9Ob2RlIiwiZGVsZXRlUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSIsImRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsImdldE5hdGl2ZUF1ZGlvTm9kZSIsImdldE5hdGl2ZUF1ZGlvUGFyYW0iLCJpc1BhcnRPZkFDeWNsZSIsImlzUGFzc2l2ZUF1ZGlvTm9kZSIsInRlc3RBdWRpb05vZGVEaXNjb25uZWN0TWV0aG9kU3VwcG9ydCIsIm5hdGl2ZUF1ZGlvQ29udGV4dCIsIm5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciIsIlByb21pc2UiLCJhbmFseXplciIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsImR1bW15IiwiY3JlYXRlR2FpbiIsIm9uZXMiLCJjcmVhdGVCdWZmZXIiLCJjaGFubmVsRGF0YSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsIm9uYXVkaW9wcm9jZXNzIiwiY2hubmxEdCIsImlucHV0QnVmZmVyIiwic29tZSIsInNhbXBsZSIsInZpc2l0RWFjaEF1ZGlvTm9kZU9uY2UiLCJjeWNsZXMiLCJ2aXNpdG9yIiwiY291bnRzIiwiTWFwIiwiY3ljbGUiLCJpc05hdGl2ZUF1ZGlvTm9kZSIsIm5hdGl2ZUF1ZGlvTm9kZU9yQXVkaW9QYXJhbSIsIndyYXBBdWRpb05vZGVEaXNjb25uZWN0TWV0aG9kIiwicmV0dXJuVmFsdWUiLCJjb25uZWN0aW9uc1RvRGVzdGluYXRpb24iLCJjb25uZWN0aW9uIiwiZGVzdGluYXRpb25Pck91dHB1dCIsImZpbHRlcmVkQ29ubmVjdGlvbnMiLCJkZWxldGVJbnB1dHNPZkF1ZGlvTm9kZSIsImlzT2ZmbGluZSIsImxpc3RlbmVyIiwiZGVsZXRlSW5wdXRDb25uZWN0aW9uT2ZBdWRpb05vZGUiLCJkZWxldGVJbnB1dHNPZkF1ZGlvUGFyYW0iLCJkZWxldGVJbnB1dENvbm5lY3Rpb25PZkF1ZGlvUGFyYW0iLCJSZWFkT25seU1hcCIsIl9tYXAiLCJlbnRyaWVzIiwidGhpc0FyZyIsIm51bWJlck9mSW5wdXRzIiwibnVtYmVyT2ZPdXRwdXRzIiwicGFyYW1ldGVyRGF0YSIsInByb2Nlc3Nvck9wdGlvbnMiLCJjb3B5RnJvbUNoYW5uZWwiLCJjaGFubmVsTnVtYmVyIiwiYnVmZmVyT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsInNsaWNlZElucHV0IiwiQllURVNfUEVSX0VMRU1FTlQiLCJjcmVhdGVOZXN0ZWRBcnJheXMiLCJhcnJheXMiLCJwcm9jZXNzQnVmZmVyIiwiYXN5bmMiLCJwcm94eSIsInJlbmRlcmVkQnVmZmVyIiwibmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsIm91dHB1dENoYW5uZWxDb3VudCIsInByb2Nlc3NvckNvbnN0cnVjdG9yIiwiZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUiLCJudW1iZXJPZklucHV0Q2hhbm5lbHMiLCJudW1iZXJPZk91dHB1dENoYW5uZWxzIiwicmVkdWNlIiwic3VtIiwicHJvY2Vzc2VkQnVmZmVyIiwic2FtcGxlUmF0ZSIsImF1ZGlvTm9kZUNvbm5lY3Rpb25zIiwiYXVkaW9Xb3JrbGV0UHJvY2Vzc29yIiwibm9kZVRvUHJvY2Vzc29yTWFwIiwibmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSIsImdldEF1ZGlvV29ya2xldFByb2Nlc3NvciIsIm91dHB1dHMiLCJwcm10cnMiLCJwb3RlbnRpYWxseUVtcHR5SW5wdXRzIiwiYWN0aXZlU291cmNlRmxhZyIsInByb2Nlc3MiLCJvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0IiwiZXJyb3IiLCJkaXNwYXRjaEV2ZW50IiwiRXJyb3JFdmVudCIsImNvbG5vIiwiZmlsZW5hbWUiLCJsaW5lbm8iLCJkaXNhYmxlTm9ybWFsaXphdGlvbiIsImRldGFjaEFycmF5QnVmZmVyIiwiYXJyYXlCdWZmZXIiLCJwb3J0MSIsInBvcnQyIiwiTWVzc2FnZUNoYW5uZWwiLCJjbG9zZUFuZFJlc29sdmUiLCJvbm1lc3NhZ2UiLCJjbG9zZSIsInBvc3RNZXNzYWdlIiwiZGVsYXlUaW1lIiwibWF4RGVsYXlUaW1lIiwiZ2V0T3V0cHV0QXVkaW9Ob2RlQXRJbmRleCIsIm91dHB1dEF1ZGlvTm9kZXMiLCJvdXRwdXRBdWRpb05vZGUiLCJhdHRhY2siLCJrbmVlIiwicmVsZWFzZSIsInRocmVzaG9sZCIsImNyZWF0ZUludmFsaWRTdGF0ZUVycm9yIiwiY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yIiwiZmlsdGVyQnVmZmVyIiwiZmVlZGJhY2siLCJmZWVkYmFja0xlbmd0aCIsImZlZWRmb3J3YXJkIiwiZmVlZGZvcndhcmRMZW5ndGgiLCJtaW5MZW5ndGgiLCJ4QnVmZmVyIiwieUJ1ZmZlciIsImJ1ZmZlckluZGV4IiwiYnVmZmVyTGVuZ3RoIiwiaW5wdXRMZW5ndGgiLCJ0ZXN0UHJvbWlzZVN1cHBvcnQiLCJ1aW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwicHJvbWlzZSIsImRlY29kZUF1ZGlvRGF0YSIsImNhdGNoIiwiYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIiwib3B0aW9uIiwiYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyIsInRlc3RBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kU3VwcG9ydCIsIm5hdGl2ZUFuYWx5c2VyTm9kZSIsImdldEZsb2F0VGltZURvbWFpbkRhdGEiLCJhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUiLCJ3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMiLCJuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUiLCJ3aGVuIiwiUmFuZ2VFcnJvciIsIndyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIiwiY29tcHV0ZUJ1ZmZlclNpemUiLCJiYXNlTGF0ZW5jeSIsImxvZzIiLCJjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlIiwibmF0aXZlQmlxdWFkRmlsdGVyTm9kZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUiLCJuYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlIiwiY3JlYXRlQ2hhbm5lbFNwbGl0dGVyIiwiY2hhbm5lbFNwbGl0dGVyTm9kZSIsIndyYXBDaGFubmVsU3BsaXR0ZXJOb2RlIiwiaW50ZXJjZXB0Q29ubmVjdGlvbnMiLCJvcmlnaW5hbCIsImludGVyY2VwdG9yIiwiY3JlYXRlTmF0aXZlRGVsYXlOb2RlIiwibmF0aXZlRGVsYXlOb2RlIiwiY3JlYXRlRGVsYXkiLCJjcmVhdGVOYXRpdmVHYWluTm9kZSIsIm5hdGl2ZUdhaW5Ob2RlIiwiZGl2aWRlIiwiYiIsImV2YWx1YXRlUG9seW5vbWlhbCIsImNvZWZmaWNpZW50IiwiY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSIsImJ1ZmZlclNpemUiLCJjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciIsInBlcmlvZGljV2F2ZSIsImNvbmVJbm5lckFuZ2xlIiwiY29uZU91dGVyQW5nbGUiLCJjb25lT3V0ZXJHYWluIiwiZGlzdGFuY2VNb2RlbCIsIm1heERpc3RhbmNlIiwib3JpZW50YXRpb25YIiwib3JpZW50YXRpb25ZIiwib3JpZW50YXRpb25aIiwicGFubmluZ01vZGVsIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwicG9zaXRpb25aIiwicmVmRGlzdGFuY2UiLCJyb2xsb2ZmRmFjdG9yIiwiY3JlYXRlVW5rbm93bkVycm9yIiwiY3VydmUiLCJvdmVyc2FtcGxlIiwiZ2V0Rmlyc3RTYW1wbGUiLCJpc0RDQ3VydmUiLCJvdmVyd3JpdGVBY2Nlc3NvcnMiLCJjcmVhdGVHZXR0ZXIiLCJjcmVhdGVTZXR0ZXIiLCJnZXRQcm90b3R5cGVPZiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZSIsInNldFZhbHVlQXRUaW1lIiwidGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCIsIm5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImNyZWF0ZU9zY2lsbGF0b3IiLCJ0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0IiwidGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0Iiwid3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzIiwiZGlzY29ubmVjdEdhaW5Ob2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzU3RvcHBlZCIsIndyYXBFdmVudExpc3RlbmVyIiwiZGVmaW5lUHJvcGVydGllcyIsImN1cnJlbnRUYXJnZXQiLCJoYW5kbGVFdmVudCIsImFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiY3JlYXRlQWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJjcmVhdGVBZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSIsImNyZWF0ZURlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiYXVkaW9Ob2RlVGFpbFRpbWVTdG9yZSIsImdldEF1ZGlvTm9kZVRhaWxUaW1lIiwiX2EiLCJjcmVhdGVHZXRBdWRpb05vZGVUYWlsVGltZSIsImNhY2hlVGVzdFJlc3VsdCIsIm9uZ29pbmdUZXN0cyIsInRlc3RSZXN1bHRzIiwidGVzdGVyIiwiY2FjaGVkVGVzdFJlc3VsdCIsIm9uZ29pbmdUZXN0Iiwic3luY2hyb25vdXNUZXN0UmVzdWx0IiwidGhlbiIsImZpbmFsVGVzdFJlc3VsdCIsImNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZSIsImNyZWF0ZUFuYWx5c2VyIiwiYnl0ZVRpbWVEb21haW5EYXRhIiwiVWludDhBcnJheSIsImdldEJ5dGVUaW1lRG9tYWluRGF0YSIsIndyYXBBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kIiwiY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlRmFjdG9yeSIsImdldEF1ZGlvTm9kZVJlbmRlcmVyIiwicmVuZGVyZXIiLCJjcmVhdGVHZXRBdWRpb05vZGVSZW5kZXJlciIsInJlbmRlcklucHV0c09mQXVkaW9Ob2RlIiwiYWxsIiwiYXVkaW9Ob2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSIsImFsbFJlbmRlcmluZ1Byb21pc2VzIiwicmVuZGVyaW5nUHJvbWlzZXMiLCJjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSIsImNyZWF0ZUFuYWx5c2VyTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGVzIiwicmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGUiLCJjcmVhdGVBbmFseXNlck5vZGUiLCJjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlckZhY3RvcnkiLCJnZXROYXRpdmVDb250ZXh0IiwiY29udGV4dFN0b3JlIiwibmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiT2ZmbGluZUF1ZGlvQ29udGV4dCIsIndlYmtpdE9mZmxpbmVBdWRpb0NvbnRleHQiLCJjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJhbnl0aGluZyIsImNyZWF0ZUlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsImF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSIsImV2ZW50VGFyZ2V0Q29uc3RydWN0b3IiLCJfbmF0aXZlRXZlbnRUYXJnZXQiLCJfbGlzdGVuZXJzIiwid3JhcHBlZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVFdmVudFRhcmdldENvbnN0cnVjdG9yIiwibmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJjcmVhdGVOYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsImlzTmF0aXZlQXVkaW9Db250ZXh0IiwiY3JlYXRlSXNOYXRpdmVBdWRpb0NvbnRleHQiLCJBdWRpb05vZGUiLCJjcmVhdGVJc05hdGl2ZUF1ZGlvTm9kZSIsImlzTmF0aXZlQXVkaW9QYXJhbSIsIkF1ZGlvUGFyYW0iLCJjcmVhdGVJc05hdGl2ZUF1ZGlvUGFyYW0iLCJBdWRpb1dvcmtsZXROb2RlIiwiY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yIiwiYXVkaW9Ob2RlQ29uc3RydWN0b3IiLCJhZGRBdWRpb05vZGVDb25uZWN0aW9ucyIsImFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSIsImNyZWF0ZUluY3JlbWVudEN5Y2xlQ291bnRlciIsImRlY3JlbWVudEN5Y2xlQ291bnRlciIsImRldGVjdEN5Y2xlcyIsInN1cGVyIiwiX2NvbnRleHQiLCJfbmF0aXZlQXVkaW9Ob2RlIiwic3RhdGUiLCJpc1Bhc3NpdmUiLCJuYXRpdmVBdWRpb1BhcmFtIiwibWF4VmFsdWUiLCJldmVudExpc3RlbmVycyIsInBhcnRpYWxDb25uZWN0aW9uIiwiZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtIiwiYWRkQ29ubmVjdGlvblRvQXVkaW9QYXJhbU9mQXVkaW9Db250ZXh0IiwiZGVzdGluYXRpb25zIiwiYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZSIsImRlbGV0ZUFueUNvbm5lY3Rpb24iLCJkZWxldGVDb25uZWN0aW9uQXRPdXRwdXQiLCJkZWxldGVDb25uZWN0aW9uVG9EZXN0aW5hdGlvbiIsImNyZWF0ZUF1ZGlvTm9kZUNvbnN0cnVjdG9yIiwiYXVkaW9Ob2RlQ29ubmVjdGlvbnNTdG9yZSIsInRhaWxUaW1lVGltZW91dElkcyIsInRhaWxUaW1lIiwidGFpbFRpbWVUaW1lb3V0SWQiLCJjcmVhdGVBZGRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJjeWNsZUNvdW50ZXJzIiwiY3ljbGVDb3VudGVyIiwibmF0aXZlRGVzdGluYXRpb25BdWRpb1BhcmFtIiwiY3JlYXRlSW5jcmVtZW50Q3ljbGVDb3VudGVyRmFjdG9yeSIsImNyZWF0ZURlY3JlbWVudEN5Y2xlQ291bnRlciIsIm5leHRMaW5rIiwiaXNEZWxheU5vZGUiLCJtZXJnZWRDeWNsZXMiLCJuZXN0ZWRDeWNsZXMiLCJjcmVhdGVEZXRlY3RDeWNsZXMiLCJhbmFseXNlck5vZGVDb25zdHJ1Y3RvciIsImF1ZGlvbk5vZGVDb25zdHJ1Y3RvciIsIm1lcmdlZE9wdGlvbnMiLCJfbmF0aXZlQW5hbHlzZXJOb2RlIiwiZnJlcXVlbmN5QmluQ291bnQiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsImdldEZsb2F0RnJlcXVlbmN5RGF0YSIsImNyZWF0ZUFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yIiwiYXVkaW9CdWZmZXJTdG9yZSIsIm5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IiLCJBdWRpb0J1ZmZlciIsImNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IiLCJjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmciLCJ1bml0MzJBcnJheSIsIndyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcyIsImNoYW5uZWxOdW1iZXJBc051bWJlciIsImJ1ZmZlck9mZnNldEFzTnVtYmVyIiwiYXVkaW9CdWZmZXJMZW5ndGgiLCJkZXN0aW5hdGlvbkxlbmd0aCIsInNvdXJjZUxlbmd0aCIsImNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcyIsIndyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzIiwiY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMiLCJhdWRpb0J1ZmZlckNvbnN0cnVjdG9yIiwidGVzdE5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3JTdXBwb3J0IiwiaGFzSW5zdGFuY2UiLCJjcmVhdGVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yIiwiY3JlYXRlVGVzdEF1ZGlvQnVmZmVyQ29uc3RydWN0b3JTdXBwb3J0IiwiYWRkU2lsZW50Q29ubmVjdGlvbiIsImNyZWF0ZUFkZFNpbGVudENvbm5lY3Rpb24iLCJyZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0iLCJjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0iLCJjb25uZWN0QXVkaW9QYXJhbSIsImNyZWF0ZUNvbm5lY3RBdWRpb1BhcmFtIiwiY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwidGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQiLCJ0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZ1N1cHBvcnQiLCJ0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlclN1cHBvcnQiLCJ3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGxpbmciLCJ3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlciIsImlzU2NoZWR1bGVkIiwid3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxscyIsImNsYW1wZWRPZmZzZXQiLCJjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVGYWN0b3J5IiwibnVsbGlmaWVkQnVmZmVyIiwiY3JlYXRlV3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXIiLCJyZW5kZXJBdXRvbWF0aW9uIiwiZ2V0QXVkaW9QYXJhbVJlbmRlcmVyIiwicmVwbGF5IiwiY3JlYXRlUmVuZGVyQXV0b21hdGlvbiIsImNyZWF0ZUdldEF1ZGlvUGFyYW1SZW5kZXJlciIsImNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVzIiwicmVuZGVyZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUiLCJuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwiY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY3JlYXRlQXVkaW9QYXJhbSIsImFkZEF1ZGlvUGFyYW1Db25uZWN0aW9ucyIsImF1ZGlvUGFyYW1TdG9yZSIsImNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlciIsImlzQXVkaW9QYXJhbU9mT2ZmbGluZUF1ZGlvQ29udGV4dCIsIm1pblZhbHVlIiwiYXV0b21hdGlvbkV2ZW50TGlzdCIsImF1ZGlvUGFyYW1SZW5kZXJlciIsImV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsInNldFRhcmdldEF0VGltZSIsInNldFZhbHVlQ3VydmVBdFRpbWUiLCJjdXJyZW50VGltZSIsImNhbmNlbEFuZEhvbGRBdFRpbWUiLCJmbHVzaCIsInByZXZpb3VzTGFzdEV2ZW50IiwiY3VycmVudExhc3RFdmVudCIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsImlzRmluaXRlIiwiY29udmVydGVkVmFsdWVzIiwiZmlyc3RTYW1wbGUiLCJsYXN0U2FtcGxlIiwibnVtYmVyT2ZJbnRlcnBvbGF0ZWRWYWx1ZXMiLCJpbnRlcnBvbGF0ZWRWYWx1ZXMiLCJ0aW1lT2ZMYXN0U2FtcGxlIiwiY3JlYXRlQXVkaW9QYXJhbUZhY3RvcnkiLCJhdWRpb1BhcmFtQ29ubmVjdGlvbnNTdG9yZSIsImF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yIiwiYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIiLCJfYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIiLCJfaXNCdWZmZXJOdWxsaWZpZWQiLCJfaXNCdWZmZXJTZXQiLCJfbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwiX29uZW5kZWQiLCJfcGxheWJhY2tSYXRlIiwib25lbmRlZCIsIndyYXBwZWRMaXN0ZW5lciIsIm5hdGl2ZU9uRW5kZWQiLCJyZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUiLCJjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciIsImF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IiLCJjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyIiwiY3JlYXRlTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUiLCJuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSIsInJlbmRlcmVkTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGVzIiwicmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSIsImNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlIiwiX2lzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsIl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSIsIm1heENoYW5uZWxDb3VudCIsImNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IiLCJpc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJnYWluTm9kZSIsImNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlRmFjdG9yeSIsImNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQmlxdWFkRmlsdGVyTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZUJpcXVhZEZpbHRlck5vZGUiLCJuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZUJpcXVhZEZpbHRlck5vZGUiLCJjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5Iiwic2V0QXVkaW9Ob2RlVGFpbFRpbWUiLCJjcmVhdGVTZXRBdWRpb05vZGVUYWlsVGltZSIsImJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciIsIl9RIiwiX2RldHVuZSIsIl9mcmVxdWVuY3kiLCJfZ2FpbiIsImxvZzEwIiwiX25hdGl2ZUJpcXVhZEZpbHRlck5vZGUiLCJnZXRGcmVxdWVuY3lSZXNwb25zZSIsImZyZXF1ZW5jeUh6IiwibWFnUmVzcG9uc2UiLCJwaGFzZVJlc3BvbnNlIiwiY3JlYXRlQmlxdWFkRmlsdGVyTm9kZUNvbnN0cnVjdG9yIiwibW9uaXRvckNvbm5lY3Rpb25zIiwid2hlbkNvbm5lY3RlZCIsIndoZW5EaXNjb25uZWN0ZWQiLCJ3YXNEaXNjb25uZWN0ZWQiLCJ3YXNDb25uZWN0ZWQiLCJpc0Rpc2Nvbm5lY3RlZCIsImNyZWF0ZU1vbml0b3JDb25uZWN0aW9ucyIsIndyYXBDaGFubmVsTWVyZ2VyTm9kZSIsImNoYW5uZWxNZXJnZXJOb2RlIiwiYXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwiY3JlYXRlV3JhcENoYW5uZWxNZXJnZXJOb2RlIiwiY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUiLCJuYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSIsImNyZWF0ZUNoYW5uZWxNZXJnZXIiLCJjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZUZhY3RvcnkiLCJjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVBdWRpb05vZGVzIiwiY3JlYXRlQXVkaW9Ob2RlIiwiY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlckZhY3RvcnkiLCJjaGFubmVsTWVyZ2VyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlciIsImNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlckZhY3RvcnkiLCJjaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IiLCJzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMiLCJjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciIsImF1ZGlvTm9kZU9wdGlvbnMiLCJuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciIsImNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyRmFjdG9yeSIsImNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSIsImNyZWF0ZUNvbnN0YW50U291cmNlIiwibmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlIiwiY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFjdG9yeSIsImNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGVzIiwicmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGUiLCJuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlIiwiY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciIsIl9jb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciIsIl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUiLCJfb2Zmc2V0IiwiY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlIiwibmF0aXZlQ29udm9sdmVyTm9kZSIsImNyZWF0ZUNvbnZvbHZlciIsIm5vcm1hbGl6ZSIsImNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGVGYWN0b3J5IiwiY3JlYXRlQ29udm9sdmVyTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2RlcyIsInJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZSIsImNyZWF0ZUNvbnZvbHZlck5vZGUiLCJjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yIiwiX25hdGl2ZUNvbnZvbHZlck5vZGUiLCJjcmVhdGVDb252b2x2ZXJOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVEZWxheU5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlRGVsYXlOb2RlcyIsInJlbmRlcmVkTmF0aXZlRGVsYXlOb2RlIiwibmF0aXZlRGVsYXlOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZURlbGF5Tm9kZSIsImNyZWF0ZURlbGF5Tm9kZVJlbmRlcmVyRmFjdG9yeSIsImRlbGF5Tm9kZUNvbnN0cnVjdG9yIiwiX2RlbGF5VGltZSIsImNyZWF0ZURlbGF5Tm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSIsIm5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUiLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3IiLCJjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlRmFjdG9yeSIsImNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUiLCJuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUiLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXJGYWN0b3J5IiwiZHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yIiwiX2F0dGFjayIsIl9rbmVlIiwiX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUiLCJfcmF0aW8iLCJfcmVsZWFzZSIsIl90aHJlc2hvbGQiLCJwcmV2aW91c0NoYW5uZWxDb3VudCIsInJlZHVjdGlvbiIsImNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlcyIsInJlbmRlcmVkTmF0aXZlR2Fpbk5vZGUiLCJuYXRpdmVHYWluTm9kZUlzT3duZWRCeUNvbnRleHQiLCJjcmVhdGVHYWluTm9kZSIsImNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXJGYWN0b3J5IiwiZ2Fpbk5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZUdhaW5Ob2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXIiLCJjb252ZXJ0ZWRGZWVkYmFjayIsIkZsb2F0NjRBcnJheSIsImNvbnZlcnRlZEZlZWRmb3J3YXJkIiwic2NyaXB0UHJvY2Vzc29yTm9kZSIsImJ1ZmZlckluZGV4ZXMiLCJ4QnVmZmVycyIsInlCdWZmZXJzIiwib3V0cHV0QnVmZmVyIiwibnlxdWlzdCIsIm5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlciIsIm9tZWdhIiwicmVzcG9uc2UiLCJjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXJGYWN0b3J5IiwicmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsInRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0IiwiaXNPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0ZWQiLCJvbmNvbXBsZXRlIiwic3RhcnRSZW5kZXJpbmciLCJjcmVhdGVSZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlVGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQiLCJjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXIiLCJmaWx0ZXJlZEJ1ZmZlclByb21pc2UiLCJuYXRpdmVJSVJGaWx0ZXJOb2RlIiwibmF0aXZlSUlSRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQiLCJjcmVhdGVJSVJGaWx0ZXIiLCJwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCIsImZpbHRlcmVkQnVmZmVyIiwiZmlsdGVyRnVsbEJ1ZmZlciIsImNyZWF0ZUlJUkZpbHRlck5vZGVSZW5kZXJlckZhY3RvcnkiLCJjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlIiwiY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZhY3RvcnkiLCJpSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IiLCJ3cmFwSUlSRmlsdGVyTm9kZUdldEZyZXF1ZW5jeVJlc3BvbnNlTWV0aG9kIiwiX25hdGl2ZUlJUkZpbHRlck5vZGUiLCJjcmVhdGVJSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVBdWRpb0xpc3RlbmVyIiwibmF0aXZlTGlzdGVuZXIiLCJmb3J3YXJkWCIsImZvcndhcmRZIiwiZm9yd2FyZFoiLCJ1cFgiLCJ1cFkiLCJ1cFoiLCJpc1NjcmlwdFByb2Nlc3Nvck5vZGVDcmVhdGVkIiwibGFzdE9yaWVudGF0aW9uIiwibGFzdFBvc2l0aW9uIiwiY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSIsIm9yaWVudGF0aW9uIiwic2V0T3JpZW50YXRpb24iLCJwb3NpdG9uIiwiY3JlYXRlU2V0T3JpZW50YXRpb24iLCJjcmVhdGVTZXRQb3NpdGlvbiIsImNyZWF0ZUZha2VBdWRpb1BhcmFtIiwiaW5pdGlhbFZhbHVlIiwic2V0VmFsdWUiLCJjb25zdGFudFNvdXJjZU5vZGUiLCJjcmVhdGVGYWtlQXVkaW9QYXJhbXMiLCJjcmVhdGVBdWRpb0xpc3RlbmVyRmFjdG9yeSIsInVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUiLCJtaW5pbWFsQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiX25hdGl2ZUNvbnRleHQiLCJfZGVzdGluYXRpb24iLCJfbGlzdGVuZXIiLCJfb25zdGF0ZWNoYW5nZSIsIm9uc3RhdGVjaGFuZ2UiLCJuYXRpdmVPblN0YXRlQ2hhbmdlIiwiY3JlYXRlTWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlIiwibmF0aXZlT3NjaWxsYXRvck5vZGUiLCJzZXRQZXJpb2RpY1dhdmUiLCJjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZUZhY3RvcnkiLCJjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVPc2NpbGxhdG9yTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2RlIiwibmF0aXZlT3NjaWxsYXRvck5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlT3NjaWxsYXRvck5vZGUiLCJjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyRmFjdG9yeSIsIm9zY2lsbGF0b3JOb2RlQ29uc3RydWN0b3IiLCJvc2NpbGxhdG9yTm9kZVJlbmRlcmVyIiwiX25hdGl2ZU9zY2lsbGF0b3JOb2RlIiwiX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIiLCJjcmVhdGVPc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwiY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeSIsImNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIiLCJuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlIiwiY3JlYXRlV2F2ZVNoYXBlciIsInBvc2l0aXZlV2F2ZVNoYXBlck5vZGUiLCJpbnB1dEdhaW5Ob2RlIiwiaW52ZXJ0R2Fpbk5vZGUiLCJvdXRwdXRHYWluTm9kZSIsInJldmVydEdhaW5Ob2RlIiwiZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImlzQ29ubmVjdGVkIiwidW5tb2RpZmllZEN1cnZlIiwibmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciIsImN1cnZlTGVuZ3RoIiwibmVnYXRpdmVDdXJ2ZSIsInBvc2l0aXZlQ3VydmUiLCJjZW50ZXJJbmRleCIsImNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXJGYWN0b3J5IiwiY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUiLCJuYXRpdmVXYXZlU2hhcGVyTm9kZSIsImF1dG9tYXRpb25SYXRlIiwiY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWN0b3J5IiwiY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZha2VyIiwicGFubmVyTm9kZSIsImNyZWF0ZVBhbm5lciIsIlNJTkdMRV9DSEFOTkVMX09QVElPTlMiLCJvcmllbnRhdGlvblhHYWluTm9kZSIsIm9yaWVudGF0aW9uWUdhaW5Ob2RlIiwib3JpZW50YXRpb25aR2Fpbk5vZGUiLCJwb3NpdGlvblhHYWluTm9kZSIsInBvc2l0aW9uWUdhaW5Ob2RlIiwicG9zaXRpb25aR2Fpbk5vZGUiLCJ3YXZlU2hhcGVyTm9kZSIsIm5hdGl2ZVBhbm5lck5vZGVGYWtlciIsImNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlckZhY3RvcnkiLCJjcmVhdGVOYXRpdmVQYW5uZXJOb2RlIiwibmF0aXZlUGFubmVyTm9kZSIsImNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWN0b3J5IiwiY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyIiwicmVuZGVyZWRCdWZmZXJQcm9taXNlIiwicmVuZGVyZWROYXRpdmVHYWluTm9kZU9yTmF0aXZlUGFubmVyTm9kZSIsImNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMiLCJjb21tb25OYXRpdmVQYW5uZXJOb2RlT3B0aW9ucyIsIm5hdGl2ZVBhbm5lck5vZGVJc093bmVkQnlDb250ZXh0IiwibmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlcyIsImNoYW5uZWxEYXRhcyIsImdhdGVHYWluTm9kZSIsInBhcnRpYWxQYW5uZXJOb2RlIiwiY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyRmFjdG9yeSIsInBhbm5lck5vZGVDb25zdHJ1Y3RvciIsIl9uYXRpdmVQYW5uZXJOb2RlIiwiX29yaWVudGF0aW9uWCIsIl9vcmllbnRhdGlvblkiLCJfb3JpZW50YXRpb25aIiwiX3Bvc2l0aW9uWCIsIl9wb3NpdGlvblkiLCJfcG9zaXRpb25aIiwiY3JlYXRlUGFubmVyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlIiwiaW1hZyIsInJlYWwiLCJjb252ZXJ0ZWRJbWFnIiwiY29udmVydGVkUmVhbCIsIm5hdGl2ZVBlcmlvZGljV2F2ZSIsImNyZWF0ZVBlcmlvZGljV2F2ZSIsImNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZUZhY3RvcnkiLCJwZXJpb2RpY1dhdmVDb25zdHJ1Y3RvciIsInBlcmlvZGljV2F2ZVN0b3JlIiwic2FuaXRpemVQZXJpb2RpY1dhdmVPcHRpb25zIiwiUGVyaW9kaWNXYXZlIiwiY3JlYXRlUGVyaW9kaWNXYXZlQ29uc3RydWN0b3IiLCJuYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5IiwiQ1VSVkVfU0laRSIsIkRDX0NVUlZFIiwiSEFMRl9QSSIsIlNJTkdMRV9DSEFOTkVMX1dBVkVfU0hBUEVSX09QVElPTlMiLCJidWlsZEludGVybmFsR3JhcGgiLCJwYW5HYWluTm9kZSIsImxlZnRXYXZlU2hhcGVyQ3VydmUiLCJyaWdodFdhdmVTaGFwZXJDdXJ2ZSIsImxlZnRHYWluTm9kZSIsImxlZnRXYXZlU2hhcGVyTm9kZSIsInBhbldhdmVTaGFwZXJOb2RlIiwicmlnaHRHYWluTm9kZSIsInJpZ2h0V2F2ZVNoYXBlck5vZGUiLCJjb25uZWN0R3JhcGgiLCJkaXNjb25uZWN0R3JhcGgiLCJidWlsZEludGVybmFsR3JhcGhGb3JNb25vIiwibGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZSIsImxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlIiwicmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmUiLCJyaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmUiLCJsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUiLCJsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUiLCJsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlIiwibGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZSIsInJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUiLCJyaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlIiwicmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUiLCJyaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZSIsImJ1aWxkSW50ZXJuYWxHcmFwaEZvclN0ZXJlbyIsImNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlckZhY3RvcnkiLCJjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlIiwiY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyIiwiY3JlYXRlU3RlcmVvUGFubmVyIiwibmF0aXZlU3RlcmVvUGFubmVyTm9kZSIsImNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWN0b3J5IiwiY3JlYXRlU3RlcmVvUGFubmVyTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVTdGVyZW9QYW5uZXJOb2RlcyIsInJlbmRlcmVkTmF0aXZlU3RlcmVvUGFubmVyTm9kZSIsIm5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlU3RlcmVvUGFubmVyTm9kZSIsImNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkiLCJzdGVyZW9QYW5uZXJOb2RlQ29uc3RydWN0b3IiLCJfcGFuIiwiY3JlYXRlU3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGVzIiwicmVuZGVyZWROYXRpdmVXYXZlU2hhcGVyTm9kZSIsImNyZWF0ZVdhdmVTaGFwZXJOb2RlIiwiY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlckZhY3RvcnkiLCJ3YXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yIiwiX2lzQ3VydmVOdWxsaWZpZWQiLCJfbmF0aXZlV2F2ZVNoYXBlck5vZGUiLCJjcmVhdGVXYXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yIiwiaXNTZWN1cmVDb250ZXh0IiwiY3JlYXRlSXNTZWN1cmVDb250ZXh0IiwiZm4iLCJjdXJyZW50RnJhbWUiLCJjcmVhdGVFeHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSIsImJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZSIsImdldE9yQ3JlYXRlQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCIsImJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJjcmVhdGVHZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJhZGRBdWRpb1dvcmtsZXRNb2R1bGUiLCJldmFsdWF0ZVNvdXJjZSIsImZldGNoU291cmNlIiwib25nb2luZ1JlcXVlc3RzIiwicmVzb2x2ZWRSZXF1ZXN0cyIsInRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQiLCJtb2R1bGVVUkwiLCJjcmVkZW50aWFscyIsInJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQiLCJvbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQiLCJwcm9taXNlT2ZPbmdvaW5nUmVxdWVzdCIsImF1ZGlvV29ya2xldCIsImFic29sdXRlVXJsIiwiZXZhbHVhdGVBdWRpb1dvcmtsZXRHbG9iYWxTY29wZSIsIl9BV0dTIiwiU3ludGF4RXJyb3IiLCJ0cmltIiwibm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwIiwiaXNTdXBwb3J0aW5nUG9zdE1lc3NhZ2UiLCJjdXJyZW50SW5kZXgiLCJibG9iIiwiQmxvYiIsImNyZWF0ZU9iamVjdFVSTCIsImFkZE1vZHVsZSIsIm5hdGl2ZUNvbnRleHRPckJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJmaW5hbGx5IiwicmV2b2tlT2JqZWN0VVJMIiwidXBkYXRlZFJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQiLCJ1cGRhdGVkT25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0IiwiY3JlYXRlQWRkQXVkaW9Xb3JrbGV0TW9kdWxlIiwicmVqZWN0IiwiaGVhZCIsInNjcmlwdCIsIm9yaWdpbmFsT25FcnJvckhhbmRsZXIiLCJvbmVycm9yIiwicmVtb3ZlRXJyb3JFdmVudExpc3RlbmVyQW5kUmV2b2tlVXJsIiwib25sb2FkIiwiY3JlYXRlRXZhbHVhdGVTb3VyY2UiLCJmZXRjaCIsIm9rIiwidGV4dCIsIm9mZmxpbmVBdWRpb0NvbnRleHQiLCJpc0VtaXR0aW5nTWVzc2FnZUV2ZW50cyIsImlzRW1pdHRpbmdQcm9jZXNzb3JFcnJvckV2ZW50cyIsImF1ZGlvV29ya2xldE5vZGUiLCJvc2NpbGxhdG9yIiwicG9ydCIsIm9ucHJvY2Vzc29yZXJyb3IiLCJjcmVhdGVUZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yUG9zdE1lc3NhZ2VTdXBwb3J0IiwiaXNOYXRpdmVDb250ZXh0IiwiY3JlYXRlSXNOYXRpdmVDb250ZXh0IiwiY3JlYXRlRGF0YUNsb25lRXJyb3IiLCJjcmVhdGVFbmNvZGluZ0Vycm9yIiwiZGV0YWNoZWRBcnJheUJ1ZmZlcnMiLCJhbnlDb250ZXh0IiwiYXVkaW9EYXRhIiwiY29tcGxldGUiLCJmYWlsIiwiY3JlYXRlRGVjb2RlQXVkaW9EYXRhIiwiYmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiX2F1ZGlvV29ya2xldCIsInN1Y2Nlc3NDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJjcmVhdGVCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJtZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSIsIm5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsIm1lZGlhRWxlbWVudCIsIl9uYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUiLCJjcmVhdGVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciIsIm1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUiLCJuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlIiwiY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbiIsIl9uYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlIiwic3RyZWFtIiwiY3JlYXRlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yIiwibWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlIiwibmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUiLCJtZWRpYVN0cmVhbSIsImF1ZGlvU3RyZWFtVHJhY2tzIiwiZ2V0QXVkaW9UcmFja3MiLCJmaWx0ZXJlZEF1ZGlvU3RyZWFtVHJhY2tzIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJNZWRpYVN0cmVhbSIsIl9uYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSIsImNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlIiwibWVkaWFTdHJlYW1UcmFjayIsImNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UiLCJraW5kIiwiY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUZhY3RvcnkiLCJtZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJhdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsImxhdGVuY3lIaW50IiwiaXNWYWxpZExhdGVuY3lIaW50IiwiX2Jhc2VMYXRlbmN5IiwiX25hdGl2ZUF1ZGlvQ29udGV4dCIsIl9uYXRpdmVHYWluTm9kZSIsIl9zdGF0ZSIsInJldm9rZVN0YXRlIiwicmVzdW1lIiwicmVzb2x2ZVByb21pc2UiLCJzdXNwZW5kIiwiY3JlYXRlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMiLCJ1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMiLCJjcmVhdGVHZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMiLCJhZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSIsImNyZWF0ZUFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlIiwiY29ubmVjdE11bHRpcGxlT3V0cHV0cyIsImNyZWF0ZUNvbm5lY3RNdWx0aXBsZU91dHB1dHMiLCJkZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSIsImNyZWF0ZURlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlIiwiZGlzY29ubmVjdE11bHRpcGxlT3V0cHV0cyIsImNyZWF0ZURpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMiLCJhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUiLCJnZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzIiwiY3JlYXRlR2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyIsImNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciIsIm51bWJlck9mUGFyYW1ldGVycyIsIm1lc3NhZ2VDaGFubmVsIiwiZ2Fpbk5vZGVzIiwiaW5wdXRDaGFubmVsU3BsaXR0ZXJOb2RlcyIsImNvbnN0YW50U291cmNlTm9kZXMiLCJpbnB1dENoYW5uZWxNZXJnZXJOb2RlIiwib3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSIsIm91dHB1dENoYW5uZWxNZXJnZXJOb2RlcyIsInBhcmFtZXRlck1hcCIsIm5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciIsIl8iLCJwYXRjaGVkRXZlbnRMaXN0ZW5lcnMiLCJ1bnBhdGNoZWRFdmVudExpc3RlbmVyIiwicGF0Y2hlZEV2ZW50TGlzdGVuZXIiLCJhdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlIiwiYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMiLCJjbG9uZWRBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyIsIm9ubWVzc2FnZWVycm9yIiwiY2xvbmVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyIsImNyZWF0ZUF1ZGlvV29ya2xldFByb2Nlc3NvclByb21pc2UiLCJjcmVhdGVBdWRpb1dvcmtsZXRQcm9jZXNzb3IiLCJkV3JrbHRQcmNzc3IiLCJkaXNjb25uZWN0T3V0cHV0c0dyYXBoIiwib3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUiLCJhY3RpdmVJbnB1dEluZGV4ZXMiLCJkaXNjb25uZWN0RmFrZUdyYXBoIiwiY29ubmVjdEZha2VHcmFwaCIsImNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlckZhY3RvcnkiLCJjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlIiwidGVzdENsb25hYmlsaXR5T2ZBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyIsImNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWN0b3J5IiwiY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyIiwicHJvY2Vzc2VkQnVmZmVyUHJvbWlzZSIsInJlbmRlcmVkTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZU9yR2Fpbk5vZGUiLCJuYXRpdmVPdXRwdXROb2RlcyIsIm5hdGl2ZUF1ZGlvV29ya2xldE5vZGVJc093bmVkQnlDb250ZXh0IiwicmVuZGVyQnVmZmVyIiwibm0iLCJjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXJGYWN0b3J5IiwiZ2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCIsImNyZWF0ZUdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJzZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzIiwiY3JlYXRlU2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyIsImF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciIsInNhbml0aXplQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMiLCJ0ZXN0QXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnNDbG9uYWJpbGl0eSIsIl9uYXRpdmVBdWRpb1dvcmtsZXROb2RlIiwiX29ucHJvY2Vzc29yZXJyb3IiLCJfcGFyYW1ldGVycyIsIm5hdGl2ZU9uUHJvY2Vzc29yRXJyb3IiLCJjcmVhdGVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlQ3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsImNyZWF0ZVN0YXJ0UmVuZGVyaW5nIiwib2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiZGVsYXlTdGF0ZUNoYW5nZUV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX3dhaXRGb3JUaGVQcm9taXNlVG9TZXR0bGUiLCJfbGVuZ3RoIiwiX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJpc0FueUF1ZGlvQ29udGV4dCIsImNyZWF0ZUlzQW55QXVkaW9Db250ZXh0IiwiaXNBbnlBdWRpb05vZGUiLCJhdWRpb05vZGVTdG9yZSIsImNyZWF0ZUlzQW55QXVkaW9Ob2RlIiwiaXNBbnlBdWRpb1BhcmFtIiwiY3JlYXRlSXNBbnlBdWRpb1BhcmFtIiwiaXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlSXNBbnlPZmZsaW5lQXVkaW9Db250ZXh0Iiwic3RhdGVtZW50IiwiZ3RlIiwibHRlIiwiYXNzZXJ0Q29udGV4dFJ1bm5pbmciLCJkZWZhdWx0TG9nZ2VyIiwiYXJnIiwiaXNOb3RlIiwic2VsZiIsImhhc0F1ZGlvQ29udGV4dCIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwiU3VwcHJlc3NlZEVycm9yIiwiVGlja2VyIiwidXBkYXRlSW50ZXJ2YWwiLCJfY2FsbGJhY2siLCJfdHlwZSIsIl91cGRhdGVJbnRlcnZhbCIsIl9jcmVhdGVDbG9jayIsIl9jcmVhdGVXb3JrZXIiLCJibG9iVXJsIiwid29ya2VyIiwiV29ya2VyIiwiX3dvcmtlciIsIl9jcmVhdGVUaW1lb3V0IiwiX3RpbWVvdXQiLCJfZGlzcG9zZUNsb2NrIiwidGVybWluYXRlIiwiaW50ZXJ2YWwiLCJkaXNwb3NlIiwiaXNBdWRpb1BhcmFtIiwiaXNPZmZsaW5lQXVkaW9Db250ZXh0IiwiaXNBdWRpb0NvbnRleHQiLCJpc0F1ZGlvQnVmZmVyIiwibm9Db3B5Iiwic291cmNlcyIsImFzc2lnbiIsImFyZ3NBcnJheSIsIm9iaktleSIsIm9wdHMiLCJnaXZlbiIsImZhbGxiYWNrIiwib21pdCIsIlRvbmUiLCJkZWJ1ZyIsIl93YXNEaXNwb3NlZCIsImdldERlZmF1bHRzIiwiVE9ORV9ERUJVR19DTEFTUyIsImRpc3Bvc2VkIiwiRVBTSUxPTiIsIkdUIiwiR1RFIiwiRVEiLCJMVCIsIlRpbWVsaW5lIiwiX3RpbWVsaW5lIiwibWVtb3J5IiwiaW5jcmVhc2luZyIsInZhbHVlT2YiLCJsYXN0VmFsdWUiLCJfc2VhcmNoIiwiZGlmZiIsInBhcmFtIiwicGVlayIsImdldEFmdGVyIiwiZ2V0QmVmb3JlIiwiY2FuY2VsIiwiY2FuY2VsQmVmb3JlIiwicHJldmlvdXNFdmVudCIsImJlZ2lubmluZyIsIm1pZFBvaW50IiwibmV4dEV2ZW50IiwiX2l0ZXJhdGUiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsImZvckVhY2hCZWZvcmUiLCJmb3JFYWNoQWZ0ZXIiLCJmb3JFYWNoQmV0d2VlbiIsImZvckVhY2hGcm9tIiwiZm9yRWFjaEF0VGltZSIsIm5vdGlmeU5ld0NvbnRleHQiLCJvbkNvbnRleHRJbml0IiwiY2IiLCJub3RpZnlDbG9zZUNvbnRleHQiLCJvbkNvbnRleHRDbG9zZSIsIkVtaXR0ZXIiLCJldmVudE5hbWUiLCJfZXZlbnRzIiwib25jZSIsImJvdW5kQ2FsbGJhY2siLCJldmVudExpc3QiLCJlbWl0IiwibWl4aW4iLCJjb25zdHIiLCJCYXNlQ29udGV4dCIsInRvSlNPTiIsIkNvbnRleHQiLCJfY29uc3RhbnRzIiwiX3RpbWVvdXRzIiwiX3RpbWVvdXRJZHMiLCJfaW5pdGlhbGl6ZWQiLCJfd29ya2xldE1vZHVsZXMiLCJjcmVhdGVBdWRpb0NvbnRleHQiLCJfdGlja2VyIiwiY2xvY2tTb3VyY2UiLCJfdGltZW91dExvb3AiLCJfc2V0TGF0ZW5jeUhpbnQiLCJsb29rQWhlYWQiLCJpbml0aWFsaXplIiwiY3R4IiwiZmVlZEZvcndhcmQiLCJ0cmFuc3BvcnQiLCJfdHJhbnNwb3J0IiwiZHJhdyIsIl9kcmF3IiwiY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZSIsInJhd0NvbnRleHQiLCJ3b3JrbGV0c0FyZVJlYWR5IiwicHJvbWlzZXMiLCJfbGF0ZW5jeUhpbnQiLCJoaW50IiwibG9va0FoZWFkVmFsdWUiLCJpbW1lZGlhdGUiLCJnZXRDb25zdGFudCIsImNvbnN0YW50IiwiZmlyc3RFdmVudCIsInRpbWVvdXQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJpbnRlcnZhbEZuIiwic3RyIiwicmV2ZXJzZSIsImxvYWQiLCJfYnVmZmVyIiwibG9hZGVkIiwiX3JldmVyc2VkIiwiX3JldmVyc2UiLCJkb25lTG9hZGluZyIsImRvd25sb2FkcyIsImZyb21BcnJheSIsImlzTXVsdGlkaW1lbnNpb25hbCIsImNoYW5uZWxzIiwibXVsdGlDaGFubmVsQXJyYXkiLCJ0b01vbm8iLCJjaGFuTnVtIiwidG9BcnJheSIsIm91dHB1dEFycmF5IiwibnVtQ2hhbm5lbHMiLCJjaGFubmVsQXJyYXkiLCJyZXQiLCJzdGFydFNhbXBsZXMiLCJlbmRTYW1wbGVzIiwicmV0QnVmZmVyIiwic3ViYXJyYXkiLCJyZXYiLCJmcm9tVXJsIiwibWF0Y2hlcyIsImV4dGVuc2lvbnMiLCJleHRlbnNpb24iLCJleHQiLCJzdXBwb3J0c1R5cGUiLCJiYXNlVXJsIiwiZW5kc1dpdGgiLCJjYW5QbGF5VHlwZSIsIl9jdXJyZW50VGltZSIsIl9kdXJhdGlvbiIsIl9yZW5kZXJDbG9jayIsImFzeW5jaHJvbm91cyIsInlpZWxkRXZlcnkiLCJkdW1teUNvbnRleHQiLCJfbnVtYmVyT2ZDaGFubmVscyIsIl9zYW1wbGVSYXRlIiwiX251bWJlck9mSW5wdXRzIiwiX251bWJlck9mT3V0cHV0cyIsIl9tYXhEZWxheVRpbWUiLCJfZmVlZEZvcndhcmQiLCJfZmVlZGJhY2siLCJfcmVhbCIsIl9pbWFnIiwiX2NvbnN0cmFpbnRzIiwiX3N0cmVhbSIsIl9lbGVtZW50IiwiX2F1ZGlvRGF0YSIsIl9uYW1lIiwiX29wdGlvbnMiLCJfdXJsIiwiX2ZuIiwiX2lkIiwiX2ludGVydmFsIiwiX3ZhbCIsIl9kIiwiZ2xvYmFsQ29udGV4dCIsIlRPTkVfU0lMRU5DRV9MT0dHSU5HIiwicHJpbnRTdHJpbmciLCJBNCIsImZ0b21mIiwiVGltZUJhc2VDbGFzcyIsInVuaXRzIiwiZGVmYXVsdFVuaXRzIiwiX3VuaXRzIiwiX2V4cHJlc3Npb25zIiwiX2dldEV4cHJlc3Npb25zIiwiaHoiLCJtZXRob2QiLCJfZnJlcXVlbmN5VG9Vbml0cyIsInJlZ2V4cCIsIl90aWNrc1RvVW5pdHMiLCJfYmVhdHNUb1VuaXRzIiwiX2dldFRpbWVTaWduYXR1cmUiLCJudW1lcmljVmFsdWUiLCJfc2Vjb25kc1RvVW5pdHMiLCJzYW1wbGVzIiwidHIiLCJxIiwiZnJvbVR5cGUiLCJfbm9BcmciLCJ0eXBlTmFtZSIsInF1YW50aXR5IiwiZXhwciIsIm1hdGNoaW5nIiwiZnJlcSIsImJlYXRzIiwiX2dldEJwbSIsInNlY29uZHMiLCJ0aWNrcyIsIl9nZXRQUFEiLCJfbm93IiwiYnBtIiwidGltZVNpZ25hdHVyZSIsIlBQUSIsInRvU2Vjb25kcyIsInRvVGlja3MiLCJ0b0ZyZXF1ZW5jeSIsInRvTWlkaSIsInRvU2FtcGxlcyIsInRvTWlsbGlzZWNvbmRzIiwiVGltZUNsYXNzIiwiY2FwdHVyZSIsInF1YW50aXplIiwicXVhbnRUbyIsIm5leHRTdWJkaXZpc2lvbiIsInN1YmRpdiIsInBlcmNlbnQiLCJzdWJkaXZpc2lvbiIsInRvTm90YXRpb24iLCJ0ZXN0Tm90YXRpb25zIiwicG93ZXIiLCJjbG9zZXN0IiwiY2xvc2VzdFNlY29uZHMiLCJub3RhdGlvbiIsIm5vdGF0aW9uU2Vjb25kcyIsInRvQmFyc0JlYXRzU2l4dGVlbnRocyIsInF1YXJ0ZXJUaW1lIiwicXVhcnRlcnMiLCJtZWFzdXJlcyIsInNpeHRlZW50aHMiLCJzaXh0ZWVudGhTdHJpbmciLCJzZXRBNCIsIm1pZGkiLCJtdG9mIiwibm90ZSIsInBpdGNoIiwib2N0YXZlIiwibm90ZU51bWJlciIsIm5vdGVUb1NjYWxlSW5kZXgiLCJ0b0xvd2VyQ2FzZSIsInRyYW5zcG9zZSIsImhhcm1vbml6ZSIsImludGVydmFscyIsInRvTm90ZSIsInNjYWxlSW5kZXhUb05vdGUiLCJmdG9tIiwiY2JiIiwiY3giLCJkYmIiLCJlYmIiLCJlYiIsImV4IiwiZmJiIiwiZmIiLCJmeCIsImdiYiIsImdiIiwiZ3giLCJhYmIiLCJhYiIsImF4IiwiYmJiIiwiYmIiLCJieCIsImRlZmF1bHRDb250ZXh0Iiwic2FtcGxlVGltZSIsImJsb2NrVGltZSIsIl9nZXRQYXJ0aWFsUHJvcGVydGllcyIsImF0dHJpYnV0ZSIsIm1lbWJlciIsImluaXRpYWwiLCJfaW5pdGlhbCIsInNldFN0YXRlQXRUaW1lIiwiZ2V0VmFsdWVBdFRpbWUiLCJnZXRMYXN0U3RhdGUiLCJnZXROZXh0U3RhdGUiLCJvdmVycmlkZGVuIiwiX21pbk91dHB1dCIsIl9wYXJhbSIsIl9zd2FwcGFibGUiLCJzd2FwcGFibGUiLCJfaW5pdGlhbFZhbHVlIiwiY29udmVydCIsIl9taW5WYWx1ZSIsIl9tYXhWYWx1ZSIsIl90b1R5cGUiLCJfaXMiLCJfYXNzZXJ0UmFuZ2UiLCJfZnJvbVR5cGUiLCJMTjEwIiwiY29tcHV0ZWRUaW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsImJlZm9yZVZhbHVlIiwicHJldmlvdXMiLCJfbGluZWFySW50ZXJwb2xhdGUiLCJfZXhwb25lbnRpYWxJbnRlcnBvbGF0ZSIsInByZXZpb3VzVmFsIiwiX2V4cG9uZW50aWFsQXBwcm9hY2giLCJzZXRSYW1wUG9pbnQiLCJjdXJyZW50VmFsIiwiZXhwb25lbnRpYWxSYW1wVG8iLCJyYW1wVGltZSIsImxpbmVhclJhbXBUbyIsInRhcmdldFJhbXBUbyIsImV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSIsInNjYWxpbmciLCJzdGFydGluZ1ZhbHVlIiwic2VnVGltZSIsInZhbHVlQXRUaW1lIiwicmFtcFRvIiwic3ViZGl2aXNpb25zIiwic2V0UGFyYW0iLCJ0MCIsInYwIiwidjEiLCJ0MSIsIl9pbnRlcm5hbENoYW5uZWxzIiwiX2lzQXVkaW9Ob2RlIiwiX2dldEludGVybmFsTm9kZXMiLCJub2RlTGlzdCIsIl9zZXRDaGFubmVsUHJvcGVydGllcyIsIl9nZXRDaGFubmVsUHJvcGVydGllcyIsIm91dHB1dE51bSIsImlucHV0TnVtIiwidG9EZXN0aW5hdGlvbiIsInRvTWFzdGVyIiwic3JjTm9kZSIsImRzdE5vZGUiLCJvdXRwdXROdW1iZXIiLCJpbnB1dE51bWJlciIsIm5vZGVzIiwiZmFuIiwiZmlyc3QiLCJwcmV2IiwiY3VycmVudCIsIl9nYWluTm9kZSIsIk9uZVNob3RTb3VyY2UiLCJfc3RvcFRpbWUiLCJnZXRTdGF0ZUF0VGltZSIsIl9mYWRlSW4iLCJmYWRlSW4iLCJfZmFkZU91dCIsImZhZGVPdXQiLCJfY3VydmUiLCJfc3RhcnRHYWluIiwiZmFkZUluVGltZSIsIl9zdG9wR2FpbiIsImNhbmNlbFN0b3AiLCJmYWRlT3V0VGltZSIsImFkZGl0aW9uYWxUYWlsIiwiX3N0b3BTb3VyY2UiLCJkaXNwb3NlQ2FsbGJhY2siLCJyZXF1ZXN0SWRsZUNhbGxiYWNrIiwiX3NvdXJjZSIsIm92ZXJyaWRlIiwiX2NvbnN0YW50U291cmNlIiwic2lnbmFsIiwiVGlja1BhcmFtIiwiX211bHRpcGxpZXIiLCJtdWx0aXBsaWVyIiwiY29tcHV0ZWRWYWx1ZSIsInByZXZFdmVudCIsInJhbXBWYWwiLCJ0aWNrc1VudGlsVGltZSIsIl9nZXRUaWNrc1VudGlsRXZlbnQiLCJjb21wdXRlZFZhbCIsInNlZ21lbnREdXIiLCJ2YWwwIiwidmFsMSIsIm9uVGhlTGluZUV2ZW50IiwiZ2V0VGlja3NBdFRpbWUiLCJnZXREdXJhdGlvbk9mVGlja3MiLCJjdXJyZW50VGljayIsImdldFRpbWVPZlRpY2siLCJzb2wxIiwidGlja3NUb1RpbWUiLCJ0aW1lVG9UaWNrcyIsImNvbXB1dGVkRHVyYXRpb24iLCJzdGFydFRpY2tzIiwiVGlja1NpZ25hbCIsIlRpY2tTb3VyY2UiLCJfdGlja09mZnNldCIsInNldFRpY2tzQXRUaW1lIiwicGF1c2UiLCJzdG9wRXZlbnQiLCJ0bXBFdmVudCIsImxhc3RTdGF0ZSIsImVsYXBzZWRUaWNrcyIsInBlcmlvZFN0YXJ0VGltZSIsIm9mZnNldEV2ZW50IiwiZ2V0U2Vjb25kc0F0VGltZSIsImVsYXBzZWRTZWNvbmRzIiwiYWJzb2x1dGVUaWNrcyIsImZvckVhY2hUaWNrQmV0d2VlbiIsImxhc3RTdGF0ZUV2ZW50IiwibWF4U3RhcnRUaW1lIiwibmV4dFRpY2tUaW1lIiwiX2xhc3RVcGRhdGUiLCJfYm91bmRMb29wIiwiX2xvb3AiLCJfdGlja1NvdXJjZSIsIl9idWZmZXJzIiwiX2xvYWRpbmdDb3VudCIsInVybHMiLCJfYnVmZmVyTG9hZGVkIiwiRHJhdyIsImV4cGlyYXRpb24iLCJhbnRpY2lwYXRpb24iLCJfYm91bmREcmF3TG9vcCIsIl9kcmF3TG9vcCIsIl9hbmltYXRpb25GcmFtZSIsInNjaGVkdWxlIiwiSW50ZXJ2YWxUaW1lbGluZSIsIl9yb290IiwiSW50ZXJ2YWxOb2RlIiwiaW5zZXJ0IiwidXBkYXRlSGVpZ2h0IiwidXBkYXRlTWF4IiwiX3JlYmFsYW5jZSIsInJlc3VsdHMiLCJzZWFyY2giLCJfcmVtb3ZlTm9kZSIsIl9zZXRSb290IiwiX3JlcGxhY2VOb2RlSW5QYXJlbnQiLCJyZXBsYWNlbWVudCIsImlzTGVmdENoaWxkIiwicmlnaHQiLCJnZXRCYWxhbmNlIiwiX3JvdGF0ZUxlZnQiLCJwaXZvdE5vZGUiLCJfcm90YXRlUmlnaHQiLCJiYWxhbmNlIiwibG93IiwiYWxsTm9kZXMiLCJ0cmF2ZXJzZSIsInNlYXJjaEFmdGVyIiwiaGlnaCIsIl9sZWZ0IiwiX3JpZ2h0Iiwidm9sdW1lIiwiX3VubXV0ZWRWb2x1bWUiLCJtdXRlIiwiRGVzdGluYXRpb24iLCJUaW1lbGluZVZhbHVlIiwiVHJhbnNwb3J0RXZlbnQiLCJfZXZlbnRJZCIsIl9vbmNlIiwiaW52b2tlIiwiVHJhbnNwb3J0UmVwZWF0RXZlbnQiLCJfY3VycmVudElkIiwiX25leHRUaWNrIiwiX2JvdW5kUmVzdGFydCIsIl9yZXN0YXJ0IiwiX2NyZWF0ZUV2ZW50cyIsInNjaGVkdWxlT25jZSIsIlRyYW5zcG9ydCIsIl9sb29wU3RhcnQiLCJfbG9vcEVuZCIsIl9zY2hlZHVsZWRFdmVudHMiLCJfcmVwZWF0ZWRFdmVudHMiLCJfc3luY2VkU2lnbmFscyIsIl9zd2luZ0Ftb3VudCIsIl9wcHEiLCJwcHEiLCJfY2xvY2siLCJfcHJvY2Vzc1RpY2siLCJfYmluZENsb2NrRXZlbnRzIiwiX3RpbWVTaWduYXR1cmUiLCJfc3dpbmdUaWNrcyIsInN3aW5nIiwic3dpbmdTdWJkaXZpc2lvbiIsInRpY2tUaW1lIiwicHJvZ3Jlc3MiLCJhbW91bnQiLCJfYWRkRXZlbnQiLCJzY2hlZHVsZVJlcGVhdCIsImV2ZW50SWQiLCJ0aW1lbGluZSIsImNvbXB1dGVkQWZ0ZXIiLCJvZmZzZXRUaWNrcyIsInRvZ2dsZSIsInRpbWVTaWciLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJzZXRMb29wUG9pbnRzIiwicmVtYWluaW5nVGlja3MiLCJzeW5jU2lnbmFsIiwiY29tcHV0ZWRGcmVxIiwicmF0aW9TaWduYWwiLCJ1bnN5bmNTaWduYWwiLCJzeW5jZWRTaWduYWwiLCJfc3luY2VkIiwiX3NjaGVkdWxlZCIsIl9zeW5jZWRTdGFydCIsIl9zeW5jZWRTdG9wIiwiX3ZvbHVtZSIsIm9uc3RvcCIsIl9jbGFtcFRvQ3VycmVudFRpbWUiLCJzY2hlZCIsIl9zdGFydCIsInJlc3RhcnQiLCJfc3RvcCIsInN5bmMiLCJzdGF0ZUV2ZW50Iiwic3RhcnRPZmZzZXQiLCJ1bnN5bmMiLCJfc291cmNlU3RhcnRlZCIsIl9zb3VyY2VTdG9wcGVkIiwiY29tcHV0ZWRPZmZzZXQiLCJsb29wRHVyYXRpb24iLCJjb21wdXRlZER1ciIsImdlbmVyYXRlV2F2ZWZvcm0iLCJfb3NjaWxsYXRvciIsIl9wYXJ0aWFscyIsInBhcnRpYWxzIiwiX3BhcnRpYWxDb3VudCIsInBhcnRpYWxDb3VudCIsImJhc2VUeXBlIiwicGhhc2UiLCJfd2F2ZSIsInN5bmNGcmVxdWVuY3kiLCJ1bnN5bmNGcmVxdWVuY3kiLCJfZ2V0Q2FjaGVkUGVyaW9kaWNXYXZlIiwiX3BlcmlvZGljV2F2ZUNhY2hlIiwiZmluZCIsImRlc2NyaXB0aW9uIiwiX3BoYXNlIiwiYXJyYXlBIiwiYXJyYXlCIiwib3NjUHJvcHMiLCJpc0Jhc2ljVHlwZSIsIndhdmUiLCJfZ2V0UmVhbEltYWdpbmFyeSIsInBhcnRpYWwiLCJmdWxsUGFydGlhbHMiLCJwZXJpb2RpY1dhdmVTaXplIiwicGlGYWN0b3IiLCJfaW52ZXJzZUZGVCIsImdldEluaXRpYWxWYWx1ZSIsInR3b1BpIiwiYXNBcnJheSIsIl9zaGFwZXIiLCJtYXBwaW5nIiwic2V0TWFwIiwibm9ybWFsaXplZCIsIm92ZXJzYW1wbGluZyIsIl9ub3JtIiwiX211bHQiLCJBTU9zY2lsbGF0b3IiLCJfbW9kdWxhdGlvblNjYWxlIiwiX21vZHVsYXRpb25Ob2RlIiwiX2NhcnJpZXIiLCJfbW9kdWxhdG9yIiwibW9kdWxhdGlvblR5cGUiLCJoYXJtb25pY2l0eSIsIm1vZHVsYXRpb25JbmRleCIsIlB1bHNlT3NjaWxsYXRvciIsIl93aWR0aEdhdGUiLCJfdGhyZXNoIiwiX3RyaWFuZ2xlIiwiY2FycmllclR5cGUiLCJGYXRPc2NpbGxhdG9yIiwiX29zY2lsbGF0b3JzIiwiX3NwcmVhZCIsInNwcmVhZCIsIl9mb3JFYWNoIiwib3NjIiwiUFdNT3NjaWxsYXRvciIsInNvdXJjZVR5cGUiLCJfc2NhbGUiLCJfcHVsc2UiLCJtb2R1bGF0aW9uRnJlcXVlbmN5IiwiT21uaU9zY2lsbGF0b3JTb3VyY2VNYXAiLCJhbSIsImZhdCIsImZtIiwicHVsc2UiLCJwd20iLCJwcmVmaXgiLCJfc291cmNlVHlwZSIsInN1YnN0ciIsIl9jcmVhdGVOZXdPc2NpbGxhdG9yIiwiX2dldE9zY1R5cGUiLCJvc2NUeXBlIiwiT3NjQ29uc3RydWN0b3IiLCJvbGRPc2MiLCJzVHlwZSIsIm1UeXBlIiwidmFsdWVNYXAiLCJwcm9wZXJ0eUtleSIsIm5ld1ZhbHVlIiwidGltZVJhbmdlIiwiX2FjdGl2ZVNvdXJjZXMiLCJfb25sb2FkIiwiYXV0b3N0YXJ0IiwiX29uU291cmNlRW5kIiwib3JpZ0R1cmF0aW9uIiwiaW1wbGljaXRFbmQiLCJzZWVrIiwicmF0ZSIsIl9zaWciLCJkZWNheSIsInN1c3RhaW4iLCJhdHRhY2tDdXJ2ZSIsInJlbGVhc2VDdXJ2ZSIsImRlY2F5Q3VydmUiLCJfZ2V0Q3VydmUiLCJjdXJ2ZU5hbWUiLCJFbnZlbG9wZUN1cnZlcyIsIl9zZXRDdXJ2ZSIsImN1cnZlRGVmIiwiX2F0dGFja0N1cnZlIiwiX3JlbGVhc2VDdXJ2ZSIsIl9kZWNheUN1cnZlIiwidHJpZ2dlckF0dGFjayIsImN1cnJlbnRWYWx1ZSIsImRlY2F5VmFsdWUiLCJkZWNheVN0YXJ0IiwidHJpZ2dlclJlbGVhc2UiLCJ0cmlnZ2VyQXR0YWNrUmVsZWFzZSIsImF0dGFja1BvcnRpb24iLCJlbnZlbG9wZUR1cmF0aW9uIiwic3VzdGFpblRpbWUiLCJ0b3RhbER1cmF0aW9uIiwiY3VydmVMZW4iLCJjb3NpbmVDdXJ2ZSIsInJpcHBsZUN1cnZlIiwic2luZVdhdmUiLCJzdGFpcnNDdXJ2ZSIsInNpbmVDdXJ2ZSIsImJvdW5jZUN1cnZlIiwiaW52ZXJ0Q3VydmUiLCJvdXQiLCJib3VuY2UiLCJJbiIsIk91dCIsImNvc2luZSIsImV4cG9uZW50aWFsIiwibGluZWFyIiwicmlwcGxlIiwic2luZSIsIl9vcmlnaW5hbF90cmlnZ2VyQXR0YWNrIiwiX29yaWdpbmFsX3RyaWdnZXJSZWxlYXNlIiwiX3N5bmNTdGF0ZSIsIl9zeW5jTWV0aG9kIiwiY2hhbmdlZCIsInRpbWVQb3NpdGlvbiIsIm9yaWdpbmFsTWV0aG9kIiwicG9ydGFtZW50byIsIm9uc2lsZW5jZSIsIl90cmlnZ2VyRW52ZWxvcGVBdHRhY2siLCJzZXROb3RlIiwiX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UiLCJjb21wdXRlZEZyZXF1ZW5jeSIsImdldExldmVsQXRUaW1lIiwicG9ydFRpbWUiLCJlbnZlbG9wZSIsImNvbXB1dGVkQXR0YWNrIiwiY29tcHV0ZWREZWNheSIsIk1lbWJyYW5lU3ludGgiLCJwaXRjaERlY2F5Iiwib2N0YXZlcyIsImhlcnR6IiwibWF4Tm90ZSIsIndvcmtsZXRDb250ZXh0IiwiYWRkVG9Xb3JrbGV0IiwiY2xhc3NPckZ1bmN0aW9uIiwicmVnaXN0ZXJQcm9jZXNzb3IiLCJjbGFzc0Rlc2MiLCJwcm9jZXNzb3IiLCJTYW1wbGVyIiwidXJsTWFwIiwibWlkIiwiX2ZpbmRDbG9zZXN0Iiwibm90ZXMiLCJtaWRpRmxvYXQiLCJyZW1haW5kZXIiLCJjbG9zZXN0Tm90ZSIsInJlbGVhc2VBbGwiLCJfcGFubmVyIiwiU29sbyIsIl9hbGxTb2xvcyIsInNvbG8iLCJfaXNTb2xvZWQiLCJfYWRkU29sbyIsIl9yZW1vdmVTb2xvIiwiX3VwZGF0ZVNvbG8iLCJtdXRlZCIsIl9zb2xvZWQiLCJfbm9Tb2xvcyIsIlBhblZvbCIsIkNoYW5uZWwiLCJfc29sbyIsIl9wYW5Wb2wiLCJfZ2V0QnVzIiwiYnVzZXMiLCJzZW5kIiwiYnVzIiwic2VuZEtub2IiLCJyZWNlaXZlIiwiTGlzdGVuZXIiLCJzYW1wbGVyIiwiaW5pdGlhdGVkIiwiY3JlYXRlV2FsbCIsImNvbG9yIiwid2FsbCIsImhhbmRsZUNvbGxpc2lvbiIsImxhYmVsRnJvbUNvbGxpc2lvbkV2ZW50IiwicGxheVNhbXBsZSIsInNldEVsZW1lbnRJbm5lckh0bWwiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJlbW92ZUVsZW1lbnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ1cGRhdGVCYWxsUG9zaXRpb24iLCJzZXRHcmF2aXR5Iiwic3RhcnRCdXR0b24iLCJvbmNsaWNrIiwiRGV2aWNlTW90aW9uRXZlbnQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsImxvYWRTb3VuZCIsImJhbGwiLCJ3YWxsVGhpY2tuZXNzIiwibG9hZFBoeXNpY3MiXSwic291cmNlUm9vdCI6IiJ9