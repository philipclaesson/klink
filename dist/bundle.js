/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={382:function(t,e,n){!function(t,e,n,i){"use strict";var s=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},o=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},r=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var i=n.startTime,s=n.target,o=n.timeConstant;return s+(e-s)*Math.exp((i-t)/o)},c=function(t){return"exponentialRampToValue"===t.type},u=function(t){return"linearRampToValue"===t.type},h=function(t){return c(t)||u(t)},p=function(t){return"setValue"===t.type},d=function(t){return"setValueCurve"===t.type},f=function t(e,n,i,s){var o=e[n];return void 0===o?s:h(o)||p(o)?o.value:d(o)?o.values[o.values.length-1]:l(i,t(e,n-1,o.startTime,s),o)},m=function(t,e,n,i,s){return void 0===n?[i.insertTime,s]:h(n)?[n.endTime,n.value]:p(n)?[n.startTime,n.value]:d(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,s)]},g=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},y=function(t){return g(t)||v(t)?t.cancelTime:c(t)||u(t)?t.endTime:t.startTime},_=function(t,e,n,i){var s=i.endTime,o=i.value;return n===o?o:0<n&&0<o||n<0&&o<0?n*Math.pow(o/n,(t-e)/(s-e)):0},x=function(t,e,n,i){return n+(t-e)/(i.endTime-e)*(i.value-n)},b=function(t,e){var n=e.duration,i=e.startTime,s=e.values;return function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]}(s,(t-i)/n*(s.length-1))},w=function(t){return"setTarget"===t.type},T=function(t){function T(t){n(this,T),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return i(T,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=y(t);if(g(t)||v(t)){var n=this._automationEvents.findIndex((function(n){return v(t)&&d(n)?n.startTime+n.duration>=e:y(n)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&h(i)){if(void 0!==l&&w(l))throw new Error("The internal list is malformed.");var p=void 0===l?i.insertTime:d(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:d(l)?l.values[l.values.length-1]:l.value,m=c(i)?_(e,p,f,i):x(e,p,f,i),b=c(i)?s(m,e,this._currenTime):o(m,e,this._currenTime);this._automationEvents.push(b)}if(void 0!==l&&w(l)&&this._automationEvents.push(r(this.getValue(e),e)),void 0!==l&&d(l)&&l.startTime+l.duration>e){var T=e-l.startTime,S=(l.values.length-1)/l.duration,C=Math.max(2,1+Math.ceil(T*S)),A=T/(C-1)*S,k=l.values.slice(0,C);if(A<1)for(var M=1;M<C;M+=1){var O=A*M%1;k[M]=l.values[M-1]*(1-O)+l.values[M]*O}this._automationEvents[this._automationEvents.length-1]=a(k,l.startTime,T)}}}else{var I=this._automationEvents.findIndex((function(t){return y(t)>e})),E=-1===I?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[I-1];if(void 0!==E&&d(E)&&y(E)+E.duration>e)return!1;var P=c(t)?s(t.value,t.endTime,this._currenTime):u(t)?o(t.value,e,this._currenTime):t;if(-1===I)this._automationEvents.push(P);else{if(d(t)&&e+t.duration>y(this._automationEvents[I]))return!1;this._automationEvents.splice(I,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return y(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];w(i)&&n.unshift(r(f(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return y(e)>t})),i=this._automationEvents[n],s=(-1===n?this._automationEvents.length:n)-1,o=this._automationEvents[s];if(void 0!==o&&w(o)&&(void 0===i||!h(i)||i.insertTime>t))return l(t,f(this._automationEvents,s-1,o.startTime,this._defaultValue),o);if(void 0!==o&&p(o)&&(void 0===i||!h(i)))return o.value;if(void 0!==o&&d(o)&&(void 0===i||!h(i)||o.startTime+o.duration>t))return t<o.startTime+o.duration?b(t,o):o.values[o.values.length-1];if(void 0!==o&&h(o)&&(void 0===i||!h(i)))return o.value;if(void 0!==i&&c(i)){var r=m(this._automationEvents,s,o,i,this._defaultValue),a=e(r,2),g=a[0],v=a[1];return _(t,g,v,i)}if(void 0!==i&&u(i)){var T=m(this._automationEvents,s,o,i,this._defaultValue),S=e(T,2),C=S[0],A=S[1];return x(t,C,A,i)}return this._defaultValue}}]),T}(Symbol.iterator);t.AutomationEventList=T,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=r,t.createSetValueCurveAutomationEvent=a}(e,n(424),n(690),n(728))},842:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){var i={};t.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(t,e){var n,s;"boolean"==typeof e?(n=2,s=e):(n=1,s=!0);for(var o=n;o<arguments.length;o++){var r=arguments[o];if(r)for(var a in r)s&&r[a]&&r[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=r[a]:(t[a]=t[a]||{},i.extend(t[a],s,r[a])):t[a]=r[a]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];if(Object.keys){for(var n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}for(var s in t)e.push(t[s]);return e},i.get=function(t,e,n,i){e=e.split(".").slice(n,i);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},i.set=function(t,e,n,s,o){var r=e.split(".").slice(s,o);return i.get(t,e,0,-1)[r[r.length-1]]=n,n},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(i.random()*(e+1)),s=t[e];t[e]=t[n],t[n]=s}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"==typeof t},i.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===toString.call(t)},i.clamp=function(t,e,n){return t<e?e:t>n?n:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(e,n){return n=void 0!==n?n:1,(e=void 0!==e?e:0)+t()*(n-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[t]||(i.warn(t),i._warnedOnce[t]=!0)},i.deprecated=function(t,e,n){t[e]=i.chain((function(){i.warnOnce("ðŸ”… deprecated ðŸ”…",n)}),t[e])},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i+=1)n.push(e(t[i]));return n},i.topologicalSort=function(t){var e=[],n=[],s=[];for(var o in t)n[o]||s[o]||i._topologicalSort(o,n,s,t,e);return e},i._topologicalSort=function(t,e,n,s,o){var r=s[t]||[];n[t]=!0;for(var a=0;a<r.length;a+=1){var l=r[a];n[l]||e[l]||i._topologicalSort(l,e,n,s,o)}n[t]=!1,e[t]=!0,o.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var n=arguments[e];n._chained?t.push.apply(t,n._chained):t.push(n)}var i=function(){for(var e,n=new Array(arguments.length),i=0,s=arguments.length;i<s;i++)n[i]=arguments[i];for(i=0;i<t.length;i+=1){var o=t[i].apply(e,n);void 0!==o&&(e=o)}return e};return i._chained=t,i},i.chainPathBefore=function(t,e,n){return i.set(t,e,i.chain(n,i.get(t,e)))},i.chainPathAfter=function(t,e,n){return i.set(t,e,i.chain(i.get(t,e),n))},i.setDecomp=function(t){i._decomp=t},i.getDecomp=function(){var t=i._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===n.g||(t=n.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var n={};t.exports=n,n.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&n.update(e,t),e},n.update=function(t,e,n){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var i=0;i<e.length;i++){var s=e[i];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}n&&(n.x>0?t.max.x+=n.x:t.min.x+=n.x,n.y>0?t.max.y+=n.y:t.min.y+=n.y)},n.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},n.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},n.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},n.shift=function(t,e){var n=t.max.x-t.min.x,i=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+n,t.min.y=e.y,t.max.y=e.y+i}},function(t,e){var n={};t.exports=n,n.create=function(t,e){return{x:t||0,y:e||0}},n.clone=function(t){return{x:t.x,y:t.y}},n.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},n.rotate=function(t,e,n){var i=Math.cos(e),s=Math.sin(e);n||(n={});var o=t.x*i-t.y*s;return n.y=t.x*s+t.y*i,n.x=o,n},n.rotateAbout=function(t,e,n,i){var s=Math.cos(e),o=Math.sin(e);i||(i={});var r=n.x+((t.x-n.x)*s-(t.y-n.y)*o);return i.y=n.y+((t.x-n.x)*o+(t.y-n.y)*s),i.x=r,i},n.normalise=function(t){var e=n.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.cross=function(t,e){return t.x*e.y-t.y*e.x},n.cross3=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},n.add=function(t,e,n){return n||(n={}),n.x=t.x+e.x,n.y=t.y+e.y,n},n.sub=function(t,e,n){return n||(n={}),n.x=t.x-e.x,n.y=t.y-e.y,n},n.mult=function(t,e){return{x:t.x*e,y:t.y*e}},n.div=function(t,e){return{x:t.x/e,y:t.y/e}},n.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},n.neg=function(t){return{x:-t.x,y:-t.y}},n.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(0);i.create=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=t[i],o={x:s.x,y:s.y,index:i,body:e,isInternal:!1};n.push(o)}return n},i.fromPath=function(t,e){var n=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,i){n.push({x:parseFloat(e),y:parseFloat(i)})})),i.create(n,e)},i.centre=function(t){for(var e,n,o,r=i.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)o=(l+1)%t.length,e=s.cross(t[l],t[o]),n=s.mult(s.add(t[l],t[o]),e),a=s.add(a,n);return s.div(a,6*r)},i.mean=function(t){for(var e={x:0,y:0},n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y;return s.div(e,t.length)},i.area=function(t,e){for(var n=0,i=t.length-1,s=0;s<t.length;s++)n+=(t[i].x-t[s].x)*(t[i].y+t[s].y),i=s;return e?n/2:Math.abs(n)/2},i.inertia=function(t,e){for(var n,i,o=0,r=0,a=t,l=0;l<a.length;l++)i=(l+1)%a.length,o+=(n=Math.abs(s.cross(a[i],a[l])))*(s.dot(a[i],a[i])+s.dot(a[i],a[l])+s.dot(a[l],a[l])),r+=n;return e/6*(o/r)},i.translate=function(t,e,n){n=void 0!==n?n:1;var i,s=t.length,o=e.x*n,r=e.y*n;for(i=0;i<s;i++)t[i].x+=o,t[i].y+=r;return t},i.rotate=function(t,e,n){if(0!==e){var i,s,o,r,a=Math.cos(e),l=Math.sin(e),c=n.x,u=n.y,h=t.length;for(r=0;r<h;r++)s=(i=t[r]).x-c,o=i.y-u,i.x=c+(s*a-o*l),i.y=u+(s*l+o*a);return t}},i.contains=function(t,e){for(var n,i=e.x,s=e.y,o=t.length,r=t[o-1],a=0;a<o;a++){if(n=t[a],(i-r.x)*(n.y-r.y)+(s-r.y)*(r.x-n.x)>0)return!1;r=n}return!0},i.scale=function(t,e,n,o){if(1===e&&1===n)return t;var r,a;o=o||i.centre(t);for(var l=0;l<t.length;l++)r=t[l],a=s.sub(r,o),t[l].x=o.x+a.x*e,t[l].y=o.y+a.y*n;return t},i.chamfer=function(t,e,n,i,r){e="number"==typeof e?[e]:e||[8],n=void 0!==n?n:-1,i=i||2,r=r||14;for(var a=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],u=t[l],h=t[(l+1)%t.length],p=e[l<e.length?l:e.length-1];if(0!==p){var d=s.normalise({x:u.y-c.y,y:c.x-u.x}),f=s.normalise({x:h.y-u.y,y:u.x-h.x}),m=Math.sqrt(2*Math.pow(p,2)),g=s.mult(o.clone(d),p),v=s.normalise(s.mult(s.add(d,f),.5)),y=s.sub(u,s.mult(v,m)),_=n;-1===n&&(_=1.75*Math.pow(p,.32)),(_=o.clamp(_,i,r))%2==1&&(_+=1);for(var x=Math.acos(s.dot(d,f))/_,b=0;b<_;b++)a.push(s.add(s.rotate(g,x*b),y))}else a.push(u)}return a},i.clockwiseSort=function(t){var e=i.mean(t);return t.sort((function(t,n){return s.angle(e,t)-s.angle(e,n)})),t},i.isConvex=function(t){var e,n,i,s,o=0,r=t.length;if(r<3)return null;for(e=0;e<r;e++)if(i=(e+2)%r,s=(t[n=(e+1)%r].x-t[e].x)*(t[i].y-t[n].y),(s-=(t[n].y-t[e].y)*(t[i].x-t[n].x))<0?o|=1:s>0&&(o|=2),3===o)return!1;return 0!==o||null},i.hull=function(t){var e,n,i=[],o=[];for((t=t.slice(0)).sort((function(t,e){var n=t.x-e.x;return 0!==n?n:t.y-e.y})),n=0;n<t.length;n+=1){for(e=t[n];o.length>=2&&s.cross3(o[o.length-2],o[o.length-1],e)<=0;)o.pop();o.push(e)}for(n=t.length-1;n>=0;n-=1){for(e=t[n];i.length>=2&&s.cross3(i[i.length-2],i[i.length-1],e)<=0;)i.pop();i.push(e)}return i.pop(),o.pop(),i.concat(o)}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(2),r=n(7),a=n(0),l=n(1),c=n(11);!function(){i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(e){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=a.extend(n,e);return t(i,e),i},i.nextGroup=function(t){return t?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var t=function(t,e){e=e||{},i.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),i.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var n=t.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),r=t.isStatic?"#555":"#ccc",u=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||n,t.render.strokeStyle=t.render.strokeStyle||r,t.render.lineWidth=t.render.lineWidth||u,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};i.set=function(t,e,n){var s;for(s in"string"==typeof e&&(s=e,(e={})[s]=n),e)if(Object.prototype.hasOwnProperty.call(e,s))switch(n=e[s],s){case"isStatic":i.setStatic(t,n);break;case"isSleeping":r.set(t,n);break;case"mass":i.setMass(t,n);break;case"density":i.setDensity(t,n);break;case"inertia":i.setInertia(t,n);break;case"vertices":i.setVertices(t,n);break;case"position":i.setPosition(t,n);break;case"angle":i.setAngle(t,n);break;case"velocity":i.setVelocity(t,n);break;case"angularVelocity":i.setAngularVelocity(t,n);break;case"speed":i.setSpeed(t,n);break;case"angularSpeed":i.setAngularSpeed(t,n);break;case"parts":i.setParts(t,n);break;case"centre":i.setCentre(t,n);break;default:t[s]=n}},i.setStatic=function(t,e){for(var n=0;n<t.parts.length;n++){var i=t.parts[n];i.isStatic=e,e?(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia},i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,i._original=null)}},i.setMass=function(t,e){var n=t.inertia/(t.mass/6);t.inertia=n*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},i.setDensity=function(t,e){i.setMass(t,e*t.area),t.density=e},i.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},i.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=s.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=s.area(t.vertices),i.setMass(t,t.density*t.area);var n=s.centre(t.vertices);s.translate(t.vertices,n,-1),i.setInertia(t,i._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},i.setParts=function(t,e,n){var o;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<e.length;o++){var r=e[o];r!==t&&(r.parent=t,t.parts.push(r))}if(1!==t.parts.length){if(n=void 0===n||n){var a=[];for(o=0;o<e.length;o++)a=a.concat(e[o].vertices);s.clockwiseSort(a);var l=s.hull(a),c=s.centre(l);i.setVertices(t,l),s.translate(t.vertices,c)}var u=i._totalProperties(t);t.area=u.area,t.parent=t,t.position.x=u.centre.x,t.position.y=u.centre.y,t.positionPrev.x=u.centre.x,t.positionPrev.y=u.centre.y,i.setMass(t,u.mass),i.setInertia(t,u.inertia),i.setPosition(t,u.centre)}},i.setCentre=function(t,e,n){n?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},i.setPosition=function(t,e,n){var i=o.sub(e,t.position);n?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=i.x,t.velocity.y=i.y,t.speed=o.magnitude(i)):(t.positionPrev.x+=i.x,t.positionPrev.y+=i.y);for(var r=0;r<t.parts.length;r++){var a=t.parts[r];a.position.x+=i.x,a.position.y+=i.y,s.translate(a.vertices,i),l.update(a.bounds,a.vertices,t.velocity)}},i.setAngle=function(t,e,n){var i=e-t.angle;n?(t.anglePrev=t.angle,t.angularVelocity=i,t.angularSpeed=Math.abs(i)):t.anglePrev+=i;for(var r=0;r<t.parts.length;r++){var a=t.parts[r];a.angle+=i,s.rotate(a.vertices,i,t.position),c.rotate(a.axes,i),l.update(a.bounds,a.vertices,t.velocity),r>0&&o.rotateAbout(a.position,i,t.position,a.position)}},i.setVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.positionPrev.x=t.position.x-e.x*n,t.positionPrev.y=t.position.y-e.y*n,t.velocity.x=(t.position.x-t.positionPrev.x)/n,t.velocity.y=(t.position.y-t.positionPrev.y)/n,t.speed=o.magnitude(t.velocity)},i.getVelocity=function(t){var e=i._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},i.getSpeed=function(t){return o.magnitude(i.getVelocity(t))},i.setSpeed=function(t,e){i.setVelocity(t,o.mult(o.normalise(i.getVelocity(t)),e))},i.setAngularVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.anglePrev=t.angle-e*n,t.angularVelocity=(t.angle-t.anglePrev)/n,t.angularSpeed=Math.abs(t.angularVelocity)},i.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*i._baseDelta/t.deltaTime},i.getAngularSpeed=function(t){return Math.abs(i.getAngularVelocity(t))},i.setAngularSpeed=function(t,e){i.setAngularVelocity(t,a.sign(i.getAngularVelocity(t))*e)},i.translate=function(t,e,n){i.setPosition(t,o.add(t.position,e),n)},i.rotate=function(t,e,n,s){if(n){var o=Math.cos(e),r=Math.sin(e),a=t.position.x-n.x,l=t.position.y-n.y;i.setPosition(t,{x:n.x+(a*o-l*r),y:n.y+(a*r+l*o)},s),i.setAngle(t,t.angle+e,s)}else i.setAngle(t,t.angle+e,s)},i.scale=function(t,e,n,o){var r=0,a=0;o=o||t.position;for(var u=0;u<t.parts.length;u++){var h=t.parts[u];s.scale(h.vertices,e,n,o),h.axes=c.fromVertices(h.vertices),h.area=s.area(h.vertices),i.setMass(h,t.density*h.area),s.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),i.setInertia(h,i._inertiaScale*s.inertia(h.vertices,h.mass)),s.translate(h.vertices,{x:h.position.x,y:h.position.y}),u>0&&(r+=h.area,a+=h.inertia),h.position.x=o.x+(h.position.x-o.x)*e,h.position.y=o.y+(h.position.y-o.y)*n,l.update(h.bounds,h.vertices,t.velocity)}t.parts.length>1&&(t.area=r,t.isStatic||(i.setMass(t,t.density*r),i.setInertia(t,a))),t.circleRadius&&(e===n?t.circleRadius*=e:t.circleRadius=null)},i.update=function(t,e){var n=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,r=i._timeCorrection?e/(t.deltaTime||e):1,u=1-t.frictionAir*(e/a._baseDelta),h=(t.position.x-t.positionPrev.x)*r,p=(t.position.y-t.positionPrev.y)*r;t.velocity.x=h*u+t.force.x/t.mass*n,t.velocity.y=p*u+t.force.y/t.mass*n,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*u*r+t.torque/t.inertia*n,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var d=0;d<t.parts.length;d++){var f=t.parts[d];s.translate(f.vertices,t.velocity),d>0&&(f.position.x+=t.velocity.x,f.position.y+=t.velocity.y),0!==t.angularVelocity&&(s.rotate(f.vertices,t.angularVelocity,t.position),c.rotate(f.axes,t.angularVelocity),d>0&&o.rotateAbout(f.position,t.angularVelocity,t.position,f.position)),l.update(f.bounds,f.vertices,t.velocity)}},i.updateVelocities=function(t){var e=i._baseDelta/t.deltaTime,n=t.velocity;n.x=(t.position.x-t.positionPrev.x)*e,n.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(n.x*n.x+n.y*n.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},i.applyForce=function(t,e,n){var i=e.x-t.position.x,s=e.y-t.position.y;t.force.x+=n.x,t.force.y+=n.y,t.torque+=i*n.y-s*n.x},i._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===t.parts.length?0:1;n<t.parts.length;n++){var i=t.parts[n],s=i.mass!==1/0?i.mass:1;e.mass+=s,e.area+=i.area,e.inertia+=i.inertia,e.centre=o.add(e.centre,o.mult(i.position,s))}return e.centre=o.div(e.centre,e.mass),e}}()},function(t,e,n){var i={};t.exports=i;var s=n(0);i.on=function(t,e,n){for(var i,s=e.split(" "),o=0;o<s.length;o++)i=s[o],t.events=t.events||{},t.events[i]=t.events[i]||[],t.events[i].push(n);return n},i.off=function(t,e,n){if(e){"function"==typeof e&&(n=e,e=s.keys(t.events).join(" "));for(var i=e.split(" "),o=0;o<i.length;o++){var r=t.events[i[o]],a=[];if(n&&r)for(var l=0;l<r.length;l++)r[l]!==n&&a.push(r[l]);t.events[i[o]]=a}}else t.events={}},i.trigger=function(t,e,n){var i,o,r,a,l=t.events;if(l&&s.keys(l).length>0){n||(n={}),i=e.split(" ");for(var c=0;c<i.length;c++)if(r=l[o=i[c]]){(a=s.clone(n,!1)).name=o,a.source=t;for(var u=0;u<r.length;u++)r[u].apply(t,[a])}}}},function(t,e,n){var i={};t.exports=i;var s=n(5),o=n(0),r=n(1),a=n(4);i.create=function(t){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},i.setModified=function(t,e,n,s){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),n&&t.parent&&i.setModified(t.parent,e,n,s),s)for(var o=0;o<t.composites.length;o++){var r=t.composites[o];i.setModified(r,e,n,s)}},i.add=function(t,e){var n=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var r=0;r<n.length;r++){var a=n[r];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(t,a);break;case"constraint":i.addConstraint(t,a);break;case"composite":i.addComposite(t,a);break;case"mouseConstraint":i.addConstraint(t,a.constraint)}}return s.trigger(t,"afterAdd",{object:e}),t},i.remove=function(t,e,n){var o=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var r=0;r<o.length;r++){var a=o[r];switch(a.type){case"body":i.removeBody(t,a,n);break;case"constraint":i.removeConstraint(t,a,n);break;case"composite":i.removeComposite(t,a,n);break;case"mouseConstraint":i.removeConstraint(t,a.constraint)}}return s.trigger(t,"afterRemove",{object:e}),t},i.addComposite=function(t,e){return t.composites.push(e),e.parent=t,i.setModified(t,!0,!0,!1),t},i.removeComposite=function(t,e,n){var s=o.indexOf(t.composites,e);if(-1!==s&&i.removeCompositeAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeComposite(t.composites[r],e,!0);return t},i.removeCompositeAt=function(t,e){return t.composites.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addBody=function(t,e){return t.bodies.push(e),i.setModified(t,!0,!0,!1),t},i.removeBody=function(t,e,n){var s=o.indexOf(t.bodies,e);if(-1!==s&&i.removeBodyAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeBody(t.composites[r],e,!0);return t},i.removeBodyAt=function(t,e){return t.bodies.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addConstraint=function(t,e){return t.constraints.push(e),i.setModified(t,!0,!0,!1),t},i.removeConstraint=function(t,e,n){var s=o.indexOf(t.constraints,e);if(-1!==s&&i.removeConstraintAt(t,s),n)for(var r=0;r<t.composites.length;r++)i.removeConstraint(t.composites[r],e,!0);return t},i.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),i.setModified(t,!0,!0,!1),t},i.clear=function(t,e,n){if(n)for(var s=0;s<t.composites.length;s++)i.clear(t.composites[s],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,i.setModified(t,!0,!0,!1),t},i.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),n=0;n<t.composites.length;n++)e=e.concat(i.allBodies(t.composites[n]));return t.cache&&(t.cache.allBodies=e),e},i.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),n=0;n<t.composites.length;n++)e=e.concat(i.allConstraints(t.composites[n]));return t.cache&&(t.cache.allConstraints=e),e},i.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),n=0;n<t.composites.length;n++)e=e.concat(i.allComposites(t.composites[n]));return t.cache&&(t.cache.allComposites=e),e},i.get=function(t,e,n){var s,o;switch(n){case"body":s=i.allBodies(t);break;case"constraint":s=i.allConstraints(t);break;case"composite":s=i.allComposites(t).concat(t)}return s?0===(o=s.filter((function(t){return t.id.toString()===e.toString()}))).length?null:o[0]:null},i.move=function(t,e,n){return i.remove(t,e),i.add(n,e),t},i.rebase=function(t){for(var e=i.allBodies(t).concat(i.allConstraints(t)).concat(i.allComposites(t)),n=0;n<e.length;n++)e[n].id=o.nextId();return t},i.translate=function(t,e,n){for(var s=n?i.allBodies(t):t.bodies,o=0;o<s.length;o++)a.translate(s[o],e);return t},i.rotate=function(t,e,n,s){for(var o=Math.cos(e),r=Math.sin(e),l=s?i.allBodies(t):t.bodies,c=0;c<l.length;c++){var u=l[c],h=u.position.x-n.x,p=u.position.y-n.y;a.setPosition(u,{x:n.x+(h*o-p*r),y:n.y+(h*r+p*o)}),a.rotate(u,e)}return t},i.scale=function(t,e,n,s,o){for(var r=o?i.allBodies(t):t.bodies,l=0;l<r.length;l++){var c=r[l],u=c.position.x-s.x,h=c.position.y-s.y;a.setPosition(c,{x:s.x+u*e,y:s.y+h*n}),a.scale(c,e,n)}return t},i.bounds=function(t){for(var e=i.allBodies(t),n=[],s=0;s<e.length;s+=1){var o=e[s];n.push(o.bounds.min,o.bounds.max)}return r.create(n)}},function(t,e,n){var i={};t.exports=i;var s=n(4),o=n(5),r=n(0);i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(t,e){for(var n=e/r._baseDelta,o=i._motionSleepThreshold,a=0;a<t.length;a++){var l=t[a],c=s.getSpeed(l),u=s.getAngularSpeed(l),h=c*c+u*u;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,h),d=Math.max(l.motion,h);l.motion=i._minBias*p+(1-i._minBias)*d,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&i.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else i.set(l,!1)}},i.afterCollisions=function(t){for(var e=i._motionSleepThreshold,n=0;n<t.length;n++){var s=t[n];if(s.isActive){var o=s.collision,r=o.bodyA.parent,a=o.bodyB.parent;if(!(r.isSleeping&&a.isSleeping||r.isStatic||a.isStatic)&&(r.isSleeping||a.isSleeping)){var l=r.isSleeping&&!r.isStatic?r:a,c=l===r?a:r;!l.isStatic&&c.motion>e&&i.set(l,!1)}}}},i.set=function(t,e){var n=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,n||o.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,n&&o.trigger(t,"sleepEnd"))}},function(t,e,n){var i={};t.exports=i;var s,o,r,a=n(3),l=n(9);s=[],o={overlap:0,axis:null},r={overlap:0,axis:null},i.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},i.collides=function(t,e,n){if(i._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;if(i._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0)return null;var s,c,u=n&&n.table[l.id(t,e)];u?s=u.collision:((s=i.create(t,e)).collided=!0,s.bodyA=t.id<e.id?t:e,s.bodyB=t.id<e.id?e:t,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),t=s.bodyA,e=s.bodyB,c=o.overlap<r.overlap?o:r;var h=s.normal,p=s.supports,d=c.axis,f=d.x,m=d.y;f*(e.position.x-t.position.x)+m*(e.position.y-t.position.y)<0?(h.x=f,h.y=m):(h.x=-f,h.y=-m),s.tangent.x=-h.y,s.tangent.y=h.x,s.depth=c.overlap,s.penetration.x=h.x*s.depth,s.penetration.y=h.y*s.depth;var g=i._findSupports(t,e,h,1),v=0;if(a.contains(t.vertices,g[0])&&(p[v++]=g[0]),a.contains(t.vertices,g[1])&&(p[v++]=g[1]),v<2){var y=i._findSupports(e,t,h,-1);a.contains(e.vertices,y[0])&&(p[v++]=y[0]),v<2&&a.contains(e.vertices,y[1])&&(p[v++]=y[1])}return 0===v&&(p[v++]=g[0]),p.length=v,s},i._overlapAxes=function(t,e,n,i){var s,o,r,a,l,c,u=e.length,h=n.length,p=e[0].x,d=e[0].y,f=n[0].x,m=n[0].y,g=i.length,v=Number.MAX_VALUE,y=0;for(l=0;l<g;l++){var _=i[l],x=_.x,b=_.y,w=p*x+d*b,T=f*x+m*b,S=w,C=T;for(c=1;c<u;c+=1)(a=e[c].x*x+e[c].y*b)>S?S=a:a<w&&(w=a);for(c=1;c<h;c+=1)(a=n[c].x*x+n[c].y*b)>C?C=a:a<T&&(T=a);if((s=(o=S-T)<(r=C-w)?o:r)<v&&(v=s,y=l,s<=0))break}t.axis=i[y],t.overlap=v},i._projectToAxis=function(t,e,n){for(var i=e[0].x*n.x+e[0].y*n.y,s=i,o=1;o<e.length;o+=1){var r=e[o].x*n.x+e[o].y*n.y;r>s?s=r:r<i&&(i=r)}t.min=i,t.max=s},i._findSupports=function(t,e,n,i){var o,r,a,l,c,u=e.vertices,h=u.length,p=t.position.x,d=t.position.y,f=n.x*i,m=n.y*i,g=Number.MAX_VALUE;for(c=0;c<h;c+=1)(l=f*(p-(r=u[c]).x)+m*(d-r.y))<g&&(g=l,o=r);return g=f*(p-(a=u[(h+o.index-1)%h]).x)+m*(d-a.y),f*(p-(r=u[(o.index+1)%h]).x)+m*(d-r.y)<g?(s[0]=o,s[1]=r,s):(s[0]=o,s[1]=a,s)}},function(t,e,n){var i={};t.exports=i;var s=n(16);i.create=function(t,e){var n=t.bodyA,s=t.bodyB,o={id:i.id(n,s),bodyA:n,bodyB:s,collision:t,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||s.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(o,t,e),o},i.update=function(t,e,n){var i=t.contacts,o=e.supports,r=t.activeContacts,a=e.parentA,l=e.parentB,c=a.vertices.length;t.isActive=!0,t.timeUpdated=n,t.collision=e,t.separation=e.depth,t.inverseMass=a.inverseMass+l.inverseMass,t.friction=a.friction<l.friction?a.friction:l.friction,t.frictionStatic=a.frictionStatic>l.frictionStatic?a.frictionStatic:l.frictionStatic,t.restitution=a.restitution>l.restitution?a.restitution:l.restitution,t.slop=a.slop>l.slop?a.slop:l.slop,e.pair=t,r.length=0;for(var u=0;u<o.length;u++){var h=o[u],p=h.body===a?h.index:c+h.index,d=i[p];d?r.push(d):r.push(i[p]=s.create(h))}},i.setActive=function(t,e,n){e?(t.isActive=!0,t.timeUpdated=n):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(2),r=n(7),a=n(1),l=n(11),c=n(0);i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var n=e.bodyA?o.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?o.add(e.bodyB.position,e.pointB):e.pointB,s=o.magnitude(o.sub(n,i));e.length=void 0!==e.length?e.length:s,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=c.extend(r,e.render),e},i.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var n=t[e],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},i.solveAll=function(t,e){for(var n=c.clamp(e/c._baseDelta,0,1),s=0;s<t.length;s+=1){var o=t[s],r=!o.bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(r||a)&&i.solve(t[s],n)}for(s=0;s<t.length;s+=1)r=!(o=t[s]).bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic,r||a||i.solve(t[s],n)},i.solve=function(t,e){var n=t.bodyA,s=t.bodyB,r=t.pointA,a=t.pointB;if(n||s){n&&!n.isStatic&&(o.rotate(r,n.angle-t.angleA,r),t.angleA=n.angle),s&&!s.isStatic&&(o.rotate(a,s.angle-t.angleB,a),t.angleB=s.angle);var l=r,c=a;if(n&&(l=o.add(n.position,r)),s&&(c=o.add(s.position,a)),l&&c){var u=o.sub(l,c),h=o.magnitude(u);h<i._minLength&&(h=i._minLength);var p,d,f,m,g,v=(h-t.length)/h,y=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,_=t.damping*e,x=o.mult(u,v*y),b=(n?n.inverseMass:0)+(s?s.inverseMass:0),w=b+((n?n.inverseInertia:0)+(s?s.inverseInertia:0));if(_>0){var T=o.create();f=o.div(u,h),g=o.sub(s&&o.sub(s.position,s.positionPrev)||T,n&&o.sub(n.position,n.positionPrev)||T),m=o.dot(f,g)}n&&!n.isStatic&&(d=n.inverseMass/b,n.constraintImpulse.x-=x.x*d,n.constraintImpulse.y-=x.y*d,n.position.x-=x.x*d,n.position.y-=x.y*d,_>0&&(n.positionPrev.x-=_*f.x*m*d,n.positionPrev.y-=_*f.y*m*d),p=o.cross(r,x)/w*i._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),s&&!s.isStatic&&(d=s.inverseMass/b,s.constraintImpulse.x+=x.x*d,s.constraintImpulse.y+=x.y*d,s.position.x+=x.x*d,s.position.y+=x.y*d,_>0&&(s.positionPrev.x+=_*f.x*m*d,s.positionPrev.y+=_*f.y*m*d),p=o.cross(a,x)/w*i._torqueDampen*s.inverseInertia*(1-t.angularStiffness),s.constraintImpulse.angle+=p,s.angle+=p)}}},i.postSolveAll=function(t){for(var e=0;e<t.length;e++){var n=t[e],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){r.set(n,!1);for(var u=0;u<n.parts.length;u++){var h=n.parts[u];s.translate(h.vertices,c),u>0&&(h.position.x+=c.x,h.position.y+=c.y),0!==c.angle&&(s.rotate(h.vertices,c.angle,n.position),l.rotate(h.axes,c.angle),u>0&&o.rotateAbout(h.position,c.angle,n.position,h.position)),a.update(h.bounds,h.vertices,n.velocity)}c.angle*=i._warming,c.x*=i._warming,c.y*=i._warming}}},i.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},i.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}}},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(0);i.fromVertices=function(t){for(var e={},n=0;n<t.length;n++){var i=(n+1)%t.length,r=s.normalise({x:t[i].y-t[n].y,y:t[n].x-t[i].x}),a=0===r.y?1/0:r.x/r.y;e[a=a.toFixed(3).toString()]=r}return o.values(e)},i.rotate=function(t,e){if(0!==e)for(var n=Math.cos(e),i=Math.sin(e),s=0;s<t.length;s++){var o,r=t[s];o=r.x*n-r.y*i,r.y=r.x*i+r.y*n,r.x=o}}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(0),r=n(4),a=n(1),l=n(2);i.rectangle=function(t,e,n,i,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(a.chamfer){var c=a.chamfer;l.vertices=s.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return r.create(o.extend({},l,a))},i.trapezoid=function(t,e,n,i,a,l){l=l||{};var c,u=n*(a*=.5),h=u+(1-2*a)*n,p=h+u;c=a<.5?"L 0 0 L "+u+" "+-i+" L "+h+" "+-i+" L "+p+" 0":"L 0 0 L "+h+" "+-i+" L "+p+" 0";var d={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(c)};if(l.chamfer){var f=l.chamfer;d.vertices=s.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return r.create(o.extend({},d,l))},i.circle=function(t,e,n,s,r){s=s||{};var a={label:"Circle Body",circleRadius:n};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,n)));return l%2==1&&(l+=1),i.polygon(t,e,l,n,o.extend({},a,s))},i.polygon=function(t,e,n,a,l){if(l=l||{},n<3)return i.circle(t,e,a,l);for(var c=2*Math.PI/n,u="",h=.5*c,p=0;p<n;p+=1){var d=h+p*c,f=Math.cos(d)*a,m=Math.sin(d)*a;u+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(u)};if(l.chamfer){var v=l.chamfer;g.vertices=s.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return r.create(o.extend({},g,l))},i.fromVertices=function(t,e,n,i,c,u,h,p){var d,f,m,g,v,y,_,x,b,w,T=o.getDecomp();for(d=Boolean(T&&T.quickDecomp),i=i||{},m=[],c=void 0!==c&&c,u=void 0!==u?u:.01,h=void 0!==h?h:10,p=void 0!==p?p:.01,o.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(v=n[b],!(g=s.isConvex(v))&&!d&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!d)v=g?s.clockwiseSort(v):s.hull(v),m.push({position:{x:t,y:e},vertices:v});else{var S=v.map((function(t){return[t.x,t.y]}));T.makeCCW(S),!1!==u&&T.removeCollinearPoints(S,u),!1!==p&&T.removeDuplicatePoints&&T.removeDuplicatePoints(S,p);var C=T.quickDecomp(S);for(y=0;y<C.length;y++){var A=C[y].map((function(t){return{x:t[0],y:t[1]}}));h>0&&s.area(A)<h||m.push({position:s.centre(A),vertices:A})}}for(y=0;y<m.length;y++)m[y]=r.create(o.extend(m[y],i));if(c)for(y=0;y<m.length;y++){var k=m[y];for(_=y+1;_<m.length;_++){var M=m[_];if(a.overlaps(k.bounds,M.bounds)){var O=k.vertices,I=M.vertices;for(x=0;x<k.vertices.length;x++)for(w=0;w<M.vertices.length;w++){var E=l.magnitudeSquared(l.sub(O[(x+1)%O.length],I[w])),P=l.magnitudeSquared(l.sub(O[x],I[(w+1)%I.length]));E<5&&P<5&&(O[x].isInternal=!0,I[w].isInternal=!0)}}}}return m.length>1?(f=r.create(o.extend({parts:m.slice(0)},i)),r.setPosition(f,{x:t,y:e}),f):m[0]}},function(t,e,n){var i={};t.exports=i;var s=n(0),o=n(8);i.create=function(t){return s.extend({bodies:[],pairs:null},t)},i.setBodies=function(t,e){t.bodies=e.slice(0)},i.clear=function(t){t.bodies=[]},i.collisions=function(t){var e,n,s=[],r=t.pairs,a=t.bodies,l=a.length,c=i.canCollide,u=o.collides;for(a.sort(i._compareBoundsX),e=0;e<l;e++){var h=a[e],p=h.bounds,d=h.bounds.max.x,f=h.bounds.max.y,m=h.bounds.min.y,g=h.isStatic||h.isSleeping,v=h.parts.length,y=1===v;for(n=e+1;n<l;n++){var _=a[n];if((k=_.bounds).min.x>d)break;if(!(f<k.min.y||m>k.max.y)&&(!g||!_.isStatic&&!_.isSleeping)&&c(h.collisionFilter,_.collisionFilter)){var x=_.parts.length;if(y&&1===x)(C=u(h,_,r))&&s.push(C);else for(var b=x>1?1:0,w=v>1?1:0;w<v;w++)for(var T=h.parts[w],S=(p=T.bounds,b);S<x;S++){var C,A=_.parts[S],k=A.bounds;p.min.x>k.max.x||p.max.x<k.min.x||p.max.y<k.min.y||p.min.y>k.max.y||(C=u(T,A,r))&&s.push(C)}}}}return s},i.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)},i._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,n){var i={};t.exports=i;var s=n(0);i.create=function(t){var e={};return t||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},i.setElement(e,e.element),e},i.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},i.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},i.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i._getRelativeMousePosition=function(t,e,n){var i,s,o=e.getBoundingClientRect(),r=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:r.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:r.scrollTop,c=t.changedTouches;return c?(i=c[0].pageX-o.left-a,s=c[0].pageY-o.top-l):(i=t.pageX-o.left-a,s=t.pageY-o.top-l),{x:i/(e.clientWidth/(e.width||e.clientWidth)*n),y:s/(e.clientHeight/(e.height||e.clientHeight)*n)}}},function(t,e,n){var i={};t.exports=i;var s=n(0);i._registry={},i.register=function(t){if(i.isPlugin(t)||s.warn("Plugin.register:",i.toString(t),"does not implement all required fields."),t.name in i._registry){var e=i._registry[t.name],n=i.versionParse(t.version).number,o=i.versionParse(e.version).number;n>o?(s.warn("Plugin.register:",i.toString(e),"was upgraded to",i.toString(t)),i._registry[t.name]=t):n<o?s.warn("Plugin.register:",i.toString(e),"can not be downgraded to",i.toString(t)):t!==e&&s.warn("Plugin.register:",i.toString(t),"is already registered to different plugin object")}else i._registry[t.name]=t;return t},i.resolve=function(t){return i._registry[i.dependencyParse(t).name]},i.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},i.isPlugin=function(t){return t&&t.name&&t.version&&t.install},i.isUsed=function(t,e){return t.used.indexOf(e)>-1},i.isFor=function(t,e){var n=t.for&&i.dependencyParse(t.for);return!t.for||e.name===n.name&&i.versionSatisfies(e.version,n.range)},i.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var n=i.dependencies(t),o=s.topologicalSort(n),r=[],a=0;a<o.length;a+=1)if(o[a]!==t.name){var l=i.resolve(o[a]);l?i.isUsed(t,l.name)||(i.isFor(l,t)||(s.warn("Plugin.use:",i.toString(l),"is for",l.for,"but installed on",i.toString(t)+"."),l._warned=!0),l.install?l.install(t):(s.warn("Plugin.use:",i.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(r.push("ðŸ”¶ "+i.toString(l)),delete l._warned):r.push("âœ… "+i.toString(l)),t.used.push(l.name)):r.push("âŒ "+o[a])}r.length>0&&s.info(r.join("  "))}else s.warn("Plugin.use:",i.toString(t),"does not specify any dependencies to install.")},i.dependencies=function(t,e){var n=i.dependencyParse(t),o=n.name;if(!(o in(e=e||{}))){t=i.resolve(t)||t,e[o]=s.map(t.uses||[],(function(e){i.isPlugin(e)&&i.register(e);var o=i.dependencyParse(e),r=i.resolve(e);return r&&!i.versionSatisfies(r.version,o.range)?(s.warn("Plugin.dependencies:",i.toString(r),"does not satisfy",i.toString(o),"used by",i.toString(n)+"."),r._warned=!0,t._warned=!0):r||(s.warn("Plugin.dependencies:",i.toString(e),"used by",i.toString(n),"could not be resolved."),t._warned=!0),o.name}));for(var r=0;r<e[o].length;r+=1)i.dependencies(e[o][r],e);return e}},i.dependencyParse=function(t){return s.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},i.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||s.warn("Plugin.versionParse:",t,"is not a valid version or range.");var n=e.exec(t),i=Number(n[4]),o=Number(n[5]),r=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:t,operator:n[1]||n[2]||"",major:i,minor:o,patch:r,parts:[i,o,r],prerelease:n[7],number:1e8*i+1e4*o+r}},i.versionSatisfies=function(t,e){e=e||"*";var n=i.versionParse(e),s=i.versionParse(t);if(n.isRange){if("*"===n.operator||"*"===t)return!0;if(">"===n.operator)return s.number>n.number;if(">="===n.operator)return s.number>=n.number;if("~"===n.operator)return s.major===n.major&&s.minor===n.minor&&s.patch>=n.patch;if("^"===n.operator)return n.major>0?s.major===n.major&&s.number>=n.number:n.minor>0?s.minor===n.minor&&s.patch>=n.patch:s.patch===n.patch}return t===e||"*"===t}},function(t,e){var n={};t.exports=n,n.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,n){var i={};t.exports=i;var s=n(7),o=n(18),r=n(13),a=n(19),l=n(5),c=n(6),u=n(10),h=n(0),p=n(4);i.create=function(t){t=t||{};var e=h.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},t);return e.world=t.world||c.create({label:"World"}),e.pairs=t.pairs||a.create(),e.detector=t.detector||r.create(),e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},i.update=function(t,e){var n,p=h.now(),d=t.world,f=t.detector,m=t.pairs,g=t.timing,v=g.timestamp;e=void 0!==e?e:h._baseDelta,e*=g.timeScale,g.timestamp+=e,g.lastDelta=e;var y={timestamp:g.timestamp,delta:e};l.trigger(t,"beforeUpdate",y);var _=c.allBodies(d),x=c.allConstraints(d);for(d.isModified&&(r.setBodies(f,_),c.setModified(d,!1,!1,!0)),t.enableSleeping&&s.update(_,e),i._bodiesApplyGravity(_,t.gravity),e>0&&i._bodiesUpdate(_,e),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);u.postSolveAll(_),f.pairs=t.pairs;var b=r.collisions(f);a.update(m,b,v),t.enableSleeping&&s.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:m.collisionStart});var w=h.clamp(20/t.positionIterations,0,1);for(o.preSolvePosition(m.list),n=0;n<t.positionIterations;n++)o.solvePosition(m.list,e,w);for(o.postSolvePosition(_),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);for(u.postSolveAll(_),o.preSolveVelocity(m.list),n=0;n<t.velocityIterations;n++)o.solveVelocity(m.list,e);return i._bodiesUpdateVelocities(_),m.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:m.collisionEnd}),i._bodiesClearForces(_),l.trigger(t,"afterUpdate",y),t.timing.lastElapsed=h.now()-p,t},i.merge=function(t,e){if(h.extend(t,e),e.world){t.world=e.world,i.clear(t);for(var n=c.allBodies(t.world),o=0;o<n.length;o++){var r=n[o];s.set(r,!1),r.id=h.nextId()}}},i.clear=function(t){a.clear(t.pairs),r.clear(t.detector)},i._bodiesClearForces=function(t){for(var e=t.length,n=0;n<e;n++){var i=t[n];i.force.x=0,i.force.y=0,i.torque=0}},i._bodiesApplyGravity=function(t,e){var n=void 0!==e.scale?e.scale:.001,i=t.length;if((0!==e.x||0!==e.y)&&0!==n)for(var s=0;s<i;s++){var o=t[s];o.isStatic||o.isSleeping||(o.force.y+=o.mass*e.y*n,o.force.x+=o.mass*e.x*n)}},i._bodiesUpdate=function(t,e){for(var n=t.length,i=0;i<n;i++){var s=t[i];s.isStatic||s.isSleeping||p.update(s,e)}},i._bodiesUpdateVelocities=function(t){for(var e=t.length,n=0;n<e;n++)p.updateVelocities(t[n])}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(0),r=n(1);i._restingThresh=2,i._restingThreshTangent=Math.sqrt(6),i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i._frictionMaxStatic=Number.MAX_VALUE,i.preSolvePosition=function(t){var e,n,i,s=t.length;for(e=0;e<s;e++)(n=t[e]).isActive&&(i=n.activeContacts.length,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},i.solvePosition=function(t,e,n){var s,r,a,l,c,u,h,p,d=i._positionDampen*(n||1),f=o.clamp(e/o._baseDelta,0,1),m=t.length;for(s=0;s<m;s++)(r=t[s]).isActive&&!r.isSensor&&(l=(a=r.collision).parentA,c=a.parentB,u=a.normal,r.separation=u.x*(c.positionImpulse.x+a.penetration.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y+a.penetration.y-l.positionImpulse.y));for(s=0;s<m;s++)(r=t[s]).isActive&&!r.isSensor&&(l=(a=r.collision).parentA,c=a.parentB,u=a.normal,p=r.separation-r.slop*f,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(h=d/l.totalContacts,l.positionImpulse.x+=u.x*p*h,l.positionImpulse.y+=u.y*p*h),c.isStatic||c.isSleeping||(h=d/c.totalContacts,c.positionImpulse.x-=u.x*p*h,c.positionImpulse.y-=u.y*p*h))},i.postSolvePosition=function(t){for(var e=i._positionWarming,n=t.length,o=s.translate,a=r.update,l=0;l<n;l++){var c=t[l],u=c.positionImpulse,h=u.x,p=u.y,d=c.velocity;if(c.totalContacts=0,0!==h||0!==p){for(var f=0;f<c.parts.length;f++){var m=c.parts[f];o(m.vertices,u),a(m.bounds,m.vertices,d),m.position.x+=h,m.position.y+=p}c.positionPrev.x+=h,c.positionPrev.y+=p,h*d.x+p*d.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},i.preSolveVelocity=function(t){var e,n,i=t.length;for(e=0;e<i;e++){var s=t[e];if(s.isActive&&!s.isSensor){var o=s.activeContacts,r=o.length,a=s.collision,l=a.parentA,c=a.parentB,u=a.normal,h=a.tangent;for(n=0;n<r;n++){var p=o[n],d=p.vertex,f=p.normalImpulse,m=p.tangentImpulse;if(0!==f||0!==m){var g=u.x*f+h.x*m,v=u.y*f+h.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=v*l.inverseMass,l.anglePrev+=l.inverseInertia*((d.x-l.position.x)*v-(d.y-l.position.y)*g)),c.isStatic||c.isSleeping||(c.positionPrev.x-=g*c.inverseMass,c.positionPrev.y-=v*c.inverseMass,c.anglePrev-=c.inverseInertia*((d.x-c.position.x)*v-(d.y-c.position.y)*g))}}}}},i.solveVelocity=function(t,e){var n,s,r,a,l=e/o._baseDelta,c=l*l*l,u=-i._restingThresh*l,h=i._restingThreshTangent,p=i._frictionNormalMultiplier*l,d=i._frictionMaxStatic,f=t.length;for(r=0;r<f;r++){var m=t[r];if(m.isActive&&!m.isSensor){var g=m.collision,v=g.parentA,y=g.parentB,_=v.velocity,x=y.velocity,b=g.normal.x,w=g.normal.y,T=g.tangent.x,S=g.tangent.y,C=m.activeContacts,A=C.length,k=1/A,M=v.inverseMass+y.inverseMass,O=m.friction*m.frictionStatic*p;for(_.x=v.position.x-v.positionPrev.x,_.y=v.position.y-v.positionPrev.y,x.x=y.position.x-y.positionPrev.x,x.y=y.position.y-y.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,y.angularVelocity=y.angle-y.anglePrev,a=0;a<A;a++){var I=C[a],E=I.vertex,P=E.x-v.position.x,D=E.y-v.position.y,R=E.x-y.position.x,V=E.y-y.position.y,N=_.x-D*v.angularVelocity,B=_.y+P*v.angularVelocity,q=N-(x.x-V*y.angularVelocity),F=B-(x.y+R*y.angularVelocity),L=b*q+w*F,j=T*q+S*F,W=m.separation+L,U=Math.min(W,1),H=(U=W<0?0:U)*O;j<-H||j>H?(s=j>0?j:-j,(n=m.friction*(j>0?1:-1)*c)<-s?n=-s:n>s&&(n=s)):(n=j,s=d);var z=P*w-D*b,G=R*w-V*b,X=k/(M+v.inverseInertia*z*z+y.inverseInertia*G*G),Y=(1+m.restitution)*L*X;if(n*=X,L<u)I.normalImpulse=0;else{var Z=I.normalImpulse;I.normalImpulse+=Y,I.normalImpulse>0&&(I.normalImpulse=0),Y=I.normalImpulse-Z}if(j<-h||j>h)I.tangentImpulse=0;else{var $=I.tangentImpulse;I.tangentImpulse+=n,I.tangentImpulse<-s&&(I.tangentImpulse=-s),I.tangentImpulse>s&&(I.tangentImpulse=s),n=I.tangentImpulse-$}var Q=b*Y+T*n,J=w*Y+S*n;v.isStatic||v.isSleeping||(v.positionPrev.x+=Q*v.inverseMass,v.positionPrev.y+=J*v.inverseMass,v.anglePrev+=(P*J-D*Q)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Q*y.inverseMass,y.positionPrev.y-=J*y.inverseMass,y.anglePrev-=(R*J-V*Q)*y.inverseInertia)}}}}},function(t,e,n){var i={};t.exports=i;var s=n(9),o=n(0);i.create=function(t){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},i.update=function(t,e,n){var i,o,r,a,l=t.list,c=l.length,u=t.table,h=e.length,p=t.collisionStart,d=t.collisionEnd,f=t.collisionActive;for(p.length=0,d.length=0,f.length=0,a=0;a<c;a++)l[a].confirmedActive=!1;for(a=0;a<h;a++)(r=(i=e[a]).pair)?(r.isActive?f.push(r):p.push(r),s.update(r,i,n),r.confirmedActive=!0):(u[(r=s.create(i,n)).id]=r,p.push(r),l.push(r));var m=[];for(c=l.length,a=0;a<c;a++)(r=l[a]).confirmedActive||(s.setActive(r,!1,n),d.push(r),r.collision.bodyA.isSleeping||r.collision.bodyB.isSleeping||m.push(a));for(a=0;a<m.length;a++)r=l[o=m[a]-a],l.splice(o,1),delete u[r.id]},i.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,n){var i=t.exports=n(21);i.Axes=n(11),i.Bodies=n(12),i.Body=n(4),i.Bounds=n(1),i.Collision=n(8),i.Common=n(0),i.Composite=n(6),i.Composites=n(22),i.Constraint=n(10),i.Contact=n(16),i.Detector=n(13),i.Engine=n(17),i.Events=n(5),i.Grid=n(23),i.Mouse=n(14),i.MouseConstraint=n(24),i.Pair=n(9),i.Pairs=n(19),i.Plugin=n(15),i.Query=n(25),i.Render=n(26),i.Resolver=n(18),i.Runner=n(27),i.SAT=n(28),i.Sleeping=n(7),i.Svg=n(29),i.Vector=n(2),i.Vertices=n(3),i.World=n(30),i.Engine.run=i.Runner.run,i.Common.deprecated(i.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(t,e,n){var i={};t.exports=i;var s=n(15),o=n(0);i.name="matter-js",i.version="0.19.0",i.uses=[],i.used=[],i.use=function(){s.use(i,Array.prototype.slice.call(arguments))},i.before=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathBefore(i,t,e)},i.after=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathAfter(i,t,e)}},function(t,e,n){var i={};t.exports=i;var s=n(6),o=n(10),r=n(0),a=n(4),l=n(12),c=r.deprecated;i.stack=function(t,e,n,i,o,r,l){for(var c,u=s.create({label:"Stack"}),h=t,p=e,d=0,f=0;f<i;f++){for(var m=0,g=0;g<n;g++){var v=l(h,p,g,f,c,d);if(v){var y=v.bounds.max.y-v.bounds.min.y,_=v.bounds.max.x-v.bounds.min.x;y>m&&(m=y),a.translate(v,{x:.5*_,y:.5*y}),h=v.bounds.max.x+o,s.addBody(u,v),c=v,d+=1}else h+=o}p+=m+r,h=t}return u},i.chain=function(t,e,n,i,a,l){for(var c=t.bodies,u=1;u<c.length;u++){var h=c[u-1],p=c[u],d=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,m=p.bounds.max.y-p.bounds.min.y,g={bodyA:h,pointA:{x:f*e,y:d*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*i,y:m*a}},v=r.extend(g,l);s.addConstraint(t,o.create(v))}return t.label+=" Chain",t},i.mesh=function(t,e,n,i,a){var l,c,u,h,p,d=t.bodies;for(l=0;l<n;l++){for(c=1;c<e;c++)u=d[c-1+l*e],h=d[c+l*e],s.addConstraint(t,o.create(r.extend({bodyA:u,bodyB:h},a)));if(l>0)for(c=0;c<e;c++)u=d[c+(l-1)*e],h=d[c+l*e],s.addConstraint(t,o.create(r.extend({bodyA:u,bodyB:h},a))),i&&c>0&&(p=d[c-1+(l-1)*e],s.addConstraint(t,o.create(r.extend({bodyA:p,bodyB:h},a)))),i&&c<e-1&&(p=d[c+1+(l-1)*e],s.addConstraint(t,o.create(r.extend({bodyA:p,bodyB:h},a))))}return t.label+=" Mesh",t},i.pyramid=function(t,e,n,s,o,r,l){return i.stack(t,e,n,s,o,r,(function(e,i,r,c,u,h){var p=Math.min(s,Math.ceil(n/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p||r<(c=p-c)||r>n-1-c))return 1===h&&a.translate(u,{x:(r+(n%2==1?1:-1))*d,y:0}),l(t+(u?r*d:0)+r*o,i,r,c,u,h)}))},i.newtonsCradle=function(t,e,n,i,r){for(var a=s.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(t+c*(1.9*i),e+r,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:t+c*(1.9*i),y:e},bodyB:u});s.addBody(a,u),s.addConstraint(a,h)}return a},c(i,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),i.car=function(t,e,n,i,r){var c=a.nextGroup(!0),u=.5*-n+20,h=.5*n-20,p=s.create({label:"Car"}),d=l.rectangle(t,e,n,i,{collisionFilter:{group:c},chamfer:{radius:.5*i},density:2e-4}),f=l.circle(t+u,e+0,r,{collisionFilter:{group:c},friction:.8}),m=l.circle(t+h,e+0,r,{collisionFilter:{group:c},friction:.8}),g=o.create({bodyB:d,pointB:{x:u,y:0},bodyA:f,stiffness:1,length:0}),v=o.create({bodyB:d,pointB:{x:h,y:0},bodyA:m,stiffness:1,length:0});return s.addBody(p,d),s.addBody(p,f),s.addBody(p,m),s.addConstraint(p,g),s.addConstraint(p,v),p},c(i,"car","Composites.car âž¤ moved to car example"),i.softBody=function(t,e,n,s,o,a,c,u,h,p){h=r.extend({inertia:1/0},h),p=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var d=i.stack(t,e,n,s,o,a,(function(t,e){return l.circle(t,e,u,h)}));return i.mesh(d,n,s,c,p),d.label="Soft Body",d},c(i,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")},function(t,e,n){var i={};t.exports=i;var s=n(9),o=n(0),r=o.deprecated;i.create=function(t){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},i.update=function(t,e,n,s){var o,r,a,l,c,u=n.world,h=t.buckets,p=!1;for(o=0;o<e.length;o++){var d=e[o];if((!d.isSleeping||s)&&(!u.bounds||!(d.bounds.max.x<u.bounds.min.x||d.bounds.min.x>u.bounds.max.x||d.bounds.max.y<u.bounds.min.y||d.bounds.min.y>u.bounds.max.y))){var f=i._getRegion(t,d);if(!d.region||f.id!==d.region.id||s){d.region&&!s||(d.region=f);var m=i._regionUnion(f,d.region);for(r=m.startCol;r<=m.endCol;r++)for(a=m.startRow;a<=m.endRow;a++){l=h[c=i._getBucketId(r,a)];var g=r>=f.startCol&&r<=f.endCol&&a>=f.startRow&&a<=f.endRow,v=r>=d.region.startCol&&r<=d.region.endCol&&a>=d.region.startRow&&a<=d.region.endRow;!g&&v&&v&&l&&i._bucketRemoveBody(t,l,d),(d.region===f||g&&!v||s)&&(l||(l=i._createBucket(h,c)),i._bucketAddBody(t,l,d))}d.region=f,p=!0}}}p&&(t.pairsList=i._createActivePairsList(t))},r(i,"update","Grid.update âž¤ replaced by Matter.Detector"),i.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},r(i,"clear","Grid.clear âž¤ replaced by Matter.Detector"),i._regionUnion=function(t,e){var n=Math.min(t.startCol,e.startCol),s=Math.max(t.endCol,e.endCol),o=Math.min(t.startRow,e.startRow),r=Math.max(t.endRow,e.endRow);return i._createRegion(n,s,o,r)},i._getRegion=function(t,e){var n=e.bounds,s=Math.floor(n.min.x/t.bucketWidth),o=Math.floor(n.max.x/t.bucketWidth),r=Math.floor(n.min.y/t.bucketHeight),a=Math.floor(n.max.y/t.bucketHeight);return i._createRegion(s,o,r,a)},i._createRegion=function(t,e,n,i){return{id:t+","+e+","+n+","+i,startCol:t,endCol:e,startRow:n,endRow:i}},i._getBucketId=function(t,e){return"C"+t+"R"+e},i._createBucket=function(t,e){return t[e]=[]},i._bucketAddBody=function(t,e,n){var i,o=t.pairs,r=s.id,a=e.length;for(i=0;i<a;i++){var l=e[i];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=r(n,l),u=o[c];u?u[2]+=1:o[c]=[n,l,1]}}e.push(n)},i._bucketRemoveBody=function(t,e,n){var i,r=t.pairs,a=s.id;e.splice(o.indexOf(e,n),1);var l=e.length;for(i=0;i<l;i++){var c=r[a(n,e[i])];c&&(c[2]-=1)}},i._createActivePairsList=function(t){var e,n,i=t.pairs,s=o.keys(i),r=s.length,a=[];for(n=0;n<r;n++)(e=i[s[n]])[2]>0?a.push(e):delete i[s[n]];return a}},function(t,e,n){var i={};t.exports=i;var s=n(3),o=n(7),r=n(14),a=n(5),l=n(13),c=n(10),u=n(6),h=n(0),p=n(1);i.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);n||(t&&t.render&&t.render.canvas?n=r.create(t.render.canvas):e&&e.element?n=r.create(e.element):(n=r.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var s={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=h.extend(s,e);return a.on(t,"beforeUpdate",(function(){var e=u.allBodies(t.world);i.update(o,e),i._triggerEvents(o)})),o},i.update=function(t,e){var n=t.mouse,i=t.constraint,r=t.body;if(0===n.button){if(i.bodyB)o.set(i.bodyB,!1),i.pointA=n.position;else for(var c=0;c<e.length;c++)if(r=e[c],p.contains(r.bounds,n.position)&&l.canCollide(r.collisionFilter,t.collisionFilter))for(var u=r.parts.length>1?1:0;u<r.parts.length;u++){var h=r.parts[u];if(s.contains(h.vertices,n.position)){i.pointA=n.position,i.bodyB=t.body=r,i.pointB={x:n.position.x-r.position.x,y:n.position.y-r.position.y},i.angleB=r.angle,o.set(r,!1),a.trigger(t,"startdrag",{mouse:n,body:r});break}}}else i.bodyB=t.body=null,i.pointB=null,r&&a.trigger(t,"enddrag",{mouse:n,body:r})},i._triggerEvents=function(t){var e=t.mouse,n=e.sourceEvents;n.mousemove&&a.trigger(t,"mousemove",{mouse:e}),n.mousedown&&a.trigger(t,"mousedown",{mouse:e}),n.mouseup&&a.trigger(t,"mouseup",{mouse:e}),r.clearSourceEvents(e)}},function(t,e,n){var i={};t.exports=i;var s=n(2),o=n(8),r=n(1),a=n(12),l=n(3);i.collides=function(t,e){for(var n=[],i=e.length,s=t.bounds,a=o.collides,l=r.overlaps,c=0;c<i;c++){var u=e[c],h=u.parts.length,p=1===h?0:1;if(l(u.bounds,s))for(var d=p;d<h;d++){var f=u.parts[d];if(l(f.bounds,s)){var m=a(f,t);if(m){n.push(m);break}}}}return n},i.ray=function(t,e,n,o){o=o||1e-100;for(var r=s.angle(e,n),l=s.magnitude(s.sub(e,n)),c=.5*(n.x+e.x),u=.5*(n.y+e.y),h=a.rectangle(c,u,l,o,{angle:r}),p=i.collides(h,t),d=0;d<p.length;d+=1){var f=p[d];f.body=f.bodyB=f.bodyA}return p},i.region=function(t,e,n){for(var i=[],s=0;s<t.length;s++){var o=t[s],a=r.overlaps(o.bounds,e);(a&&!n||!a&&n)&&i.push(o)}return i},i.point=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=t[i];if(r.contains(s.bounds,e))for(var o=1===s.parts.length?0:1;o<s.parts.length;o++){var a=s.parts[o];if(r.contains(a.bounds,e)&&l.contains(a.vertices,e)){n.push(s);break}}}return n}},function(t,e,n){var i={};t.exports=i;var s=n(4),o=n(0),r=n(6),a=n(1),l=n(5),c=n(2),u=n(14);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(o.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i._goodFps=30,i._goodDelta=1e3/60,i.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=o.extend(e,t);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=t.mouse,n.engine=t.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=i,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&i.setPixelRatio(n,n.options.pixelRatio),o.isElement(n.element)&&n.element.appendChild(n.canvas),n},i.run=function(e){!function s(o){e.frameRequestId=t(s),n(e,o),i.world(e,o),(e.options.showStats||e.options.showDebug)&&i.stats(e,e.context,o),(e.options.showPerformance||e.options.showDebug)&&i.performance(e,e.context,o)}()},i.stop=function(t){e(t.frameRequestId)},i.setPixelRatio=function(t,e){var n=t.options,i=t.canvas;"auto"===e&&(e=d(i)),n.pixelRatio=e,i.setAttribute("data-pixel-ratio",e),i.width=n.width*e,i.height=n.height*e,i.style.width=n.width+"px",i.style.height=n.height+"px"},i.lookAt=function(t,e,n,i){i=void 0===i||i,e=o.isArray(e)?e:[e],n=n||{x:0,y:0};for(var s={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},r=0;r<e.length;r+=1){var a=e[r],l=a.bounds?a.bounds.min:a.min||a.position||a,c=a.bounds?a.bounds.max:a.max||a.position||a;l&&c&&(l.x<s.min.x&&(s.min.x=l.x),c.x>s.max.x&&(s.max.x=c.x),l.y<s.min.y&&(s.min.y=l.y),c.y>s.max.y&&(s.max.y=c.y))}var h=s.max.x-s.min.x+2*n.x,p=s.max.y-s.min.y+2*n.y,d=t.canvas.height,f=t.canvas.width/d,m=h/p,g=1,v=1;m>f?v=m/f:g=f/m,t.options.hasBounds=!0,t.bounds.min.x=s.min.x,t.bounds.max.x=s.min.x+h*g,t.bounds.min.y=s.min.y,t.bounds.max.y=s.min.y+p*v,i&&(t.bounds.min.x+=.5*h-h*g*.5,t.bounds.max.x+=.5*h-h*g*.5,t.bounds.min.y+=.5*p-p*v*.5,t.bounds.max.y+=.5*p-p*v*.5),t.bounds.min.x-=n.x,t.bounds.max.x-=n.x,t.bounds.min.y-=n.y,t.bounds.max.y-=n.y,t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),u.setOffset(t.mouse,t.bounds.min))},i.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,i=e/t.options.width,s=n/t.options.height;t.context.setTransform(t.options.pixelRatio/i,0,0,t.options.pixelRatio/s,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},i.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},i.world=function(t,e){var n,s=o.now(),h=t.engine,p=h.world,d=t.canvas,f=t.context,g=t.options,v=t.timing,y=r.allBodies(p),_=r.allConstraints(p),x=g.wireframes?g.wireframeBackground:g.background,b=[],w=[],T={timestamp:h.timing.timestamp};if(l.trigger(t,"beforeRender",T),t.currentBackground!==x&&m(t,x),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,d.width,d.height),f.globalCompositeOperation="source-over",g.hasBounds){for(n=0;n<y.length;n++){var S=y[n];a.overlaps(S.bounds,t.bounds)&&b.push(S)}for(n=0;n<_.length;n++){var C=_[n],A=C.bodyA,k=C.bodyB,M=C.pointA,O=C.pointB;A&&(M=c.add(A.position,C.pointA)),k&&(O=c.add(k.position,C.pointB)),M&&O&&(a.contains(t.bounds,M)||a.contains(t.bounds,O))&&w.push(C)}i.startViewTransform(t),t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),u.setOffset(t.mouse,t.bounds.min))}else w=_,b=y,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!g.wireframes||h.enableSleeping&&g.showSleeping?i.bodies(t,b,f):(g.showConvexHulls&&i.bodyConvexHulls(t,b,f),i.bodyWireframes(t,b,f)),g.showBounds&&i.bodyBounds(t,b,f),(g.showAxes||g.showAngleIndicator)&&i.bodyAxes(t,b,f),g.showPositions&&i.bodyPositions(t,b,f),g.showVelocity&&i.bodyVelocity(t,b,f),g.showIds&&i.bodyIds(t,b,f),g.showSeparations&&i.separations(t,h.pairs.list,f),g.showCollisions&&i.collisions(t,h.pairs.list,f),g.showVertexNumbers&&i.vertexNumbers(t,b,f),g.showMousePosition&&i.mousePosition(t,t.mouse,f),i.constraints(w,f),g.hasBounds&&i.endViewTransform(t),l.trigger(t,"afterRender",T),v.lastElapsed=o.now()-s},i.stats=function(t,e,n){for(var i=t.engine,s=i.world,o=r.allBodies(s),a=0,l=0,c=0;c<o.length;c+=1)a+=o[c].parts.length;var u={Part:a,Body:o.length,Cons:r.allConstraints(s).length,Comp:r.allComposites(s).length,Pair:i.pairs.list.length};for(var h in e.fillStyle="#0e0f19",e.fillRect(l,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",u){var p=u[h];e.fillStyle="#aaa",e.fillText(h,l+55,8),e.fillStyle="#eee",e.fillText(p,l+55,26),l+=55}},i.performance=function(t,e){var n=t.engine,s=t.timing,o=s.deltaHistory,r=s.elapsedHistory,a=s.timestampElapsedHistory,l=s.engineDeltaHistory,c=s.engineElapsedHistory,u=n.timing.lastDelta,p=h(o),d=h(r),f=h(l),m=h(c),g=h(a)/p||0,v=1e3/p||0;e.fillStyle="#0e0f19",e.fillRect(0,50,370,34),i.status(e,10,69,60,4,o.length,Math.round(v)+" fps",v/i._goodFps,(function(t){return o[t]/p-1})),i.status(e,82,69,60,4,l.length,u.toFixed(2)+" dt",i._goodDelta/u,(function(t){return l[t]/f-1})),i.status(e,154,69,60,4,c.length,m.toFixed(2)+" ut",1-m/i._goodFps,(function(t){return c[t]/m-1})),i.status(e,226,69,60,4,r.length,d.toFixed(2)+" rt",1-d/i._goodFps,(function(t){return r[t]/d-1})),i.status(e,298,69,60,4,a.length,g.toFixed(2)+" x",g*g*g,(function(t){return(a[t]/o[t]/g||0)-1}))},i.status=function(t,e,n,i,s,r,a,l,c){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,n+7,i,1),t.beginPath(),t.moveTo(e,n+7-s*o.clamp(.4*c(0),-2,2));for(var u=0;u<i;u+=1)t.lineTo(e+u,n+7-(u<r?s*o.clamp(.4*c(u),-2,2):0));t.stroke(),t.fillStyle="hsl("+o.clamp(25+95*l,0,120)+",100%,60%)",t.fillRect(e,n-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(a,e+i,n-5)},i.constraints=function(t,e){for(var n=e,i=0;i<t.length;i++){var s=t[i];if(s.render.visible&&s.pointA&&s.pointB){var r,a,l=s.bodyA,u=s.bodyB;if(r=l?c.add(l.position,s.pointA):s.pointA,"pin"===s.render.type)n.beginPath(),n.arc(r.x,r.y,3,0,2*Math.PI),n.closePath();else{if(a=u?c.add(u.position,s.pointB):s.pointB,n.beginPath(),n.moveTo(r.x,r.y),"spring"===s.render.type)for(var h,p=c.sub(a,r),d=c.perp(c.normalise(p)),f=Math.ceil(o.clamp(s.length/5,12,20)),m=1;m<f;m+=1)h=m%2==0?1:-1,n.lineTo(r.x+p.x*(m/f)+d.x*h*4,r.y+p.y*(m/f)+d.y*h*4);n.lineTo(a.x,a.y)}s.render.lineWidth&&(n.lineWidth=s.render.lineWidth,n.strokeStyle=s.render.strokeStyle,n.stroke()),s.render.anchors&&(n.fillStyle=s.render.strokeStyle,n.beginPath(),n.arc(r.x,r.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},i.bodies=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options),c=l.showInternalEdges||!l.wireframes;for(o=0;o<e.length;o++)if((i=e[o]).render.visible)for(r=i.parts.length>1?1:0;r<i.parts.length;r++)if((s=i.parts[r]).render.visible){if(l.showSleeping&&i.isSleeping?a.globalAlpha=.5*s.render.opacity:1!==s.render.opacity&&(a.globalAlpha=s.render.opacity),s.render.sprite&&s.render.sprite.texture&&!l.wireframes){var u=s.render.sprite,h=f(t,u.texture);a.translate(s.position.x,s.position.y),a.rotate(s.angle),a.drawImage(h,h.width*-u.xOffset*u.xScale,h.height*-u.yOffset*u.yScale,h.width*u.xScale,h.height*u.yScale),a.rotate(-s.angle),a.translate(-s.position.x,-s.position.y)}else{if(s.circleRadius)a.beginPath(),a.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(s.vertices[0].x,s.vertices[0].y);for(var p=1;p<s.vertices.length;p++)!s.vertices[p-1].isInternal||c?a.lineTo(s.vertices[p].x,s.vertices[p].y):a.moveTo(s.vertices[p].x,s.vertices[p].y),s.vertices[p].isInternal&&!c&&a.moveTo(s.vertices[(p+1)%s.vertices.length].x,s.vertices[(p+1)%s.vertices.length].y);a.lineTo(s.vertices[0].x,s.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=s.render.fillStyle,s.render.lineWidth&&(a.lineWidth=s.render.lineWidth,a.strokeStyle=s.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},i.bodyWireframes=function(t,e,n){var i,s,o,r,a,l=n,c=t.options.showInternalEdges;for(l.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(a=i.parts.length>1?1:0;a<i.parts.length;a++){for(s=i.parts[a],l.moveTo(s.vertices[0].x,s.vertices[0].y),r=1;r<s.vertices.length;r++)!s.vertices[r-1].isInternal||c?l.lineTo(s.vertices[r].x,s.vertices[r].y):l.moveTo(s.vertices[r].x,s.vertices[r].y),s.vertices[r].isInternal&&!c&&l.moveTo(s.vertices[(r+1)%s.vertices.length].x,s.vertices[(r+1)%s.vertices.length].y);l.lineTo(s.vertices[0].x,s.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},i.bodyConvexHulls=function(t,e,n){var i,s,o,r=n;for(r.beginPath(),s=0;s<e.length;s++)if((i=e[s]).render.visible&&1!==i.parts.length){for(r.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)r.lineTo(i.vertices[o].x,i.vertices[o].y);r.lineTo(i.vertices[0].x,i.vertices[0].y)}r.lineWidth=1,r.strokeStyle="rgba(255,255,255,0.2)",r.stroke()},i.vertexNumbers=function(t,e,n){var i,s,o,r=n;for(i=0;i<e.length;i++){var a=e[i].parts;for(o=a.length>1?1:0;o<a.length;o++){var l=a[o];for(s=0;s<l.vertices.length;s++)r.fillStyle="rgba(255,255,255,0.2)",r.fillText(i+"_"+s,l.position.x+.8*(l.vertices[s].x-l.position.x),l.position.y+.8*(l.vertices[s].y-l.position.y))}}},i.mousePosition=function(t,e,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},i.bodyBounds=function(t,e,n){var i=n,s=(t.engine,t.options);i.beginPath();for(var o=0;o<e.length;o++)if(e[o].render.visible)for(var r=e[o].parts,a=r.length>1?1:0;a<r.length;a++){var l=r[a];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}s.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},i.bodyAxes=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options);for(a.beginPath(),s=0;s<e.length;s++){var c=e[s],u=c.parts;if(c.render.visible)if(l.showAxes)for(o=u.length>1?1:0;o<u.length;o++)for(i=u[o],r=0;r<i.axes.length;r++){var h=i.axes[r];a.moveTo(i.position.x,i.position.y),a.lineTo(i.position.x+20*h.x,i.position.y+20*h.y)}else for(o=u.length>1?1:0;o<u.length;o++)for(i=u[o],r=0;r<i.axes.length;r++)a.moveTo(i.position.x,i.position.y),a.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},i.bodyPositions=function(t,e,n){var i,s,o,r,a=n,l=(t.engine,t.options);for(a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(r=0;r<i.parts.length;r++)s=i.parts[r],a.arc(s.position.x,s.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),o=0;o<e.length;o++)(i=e[o]).render.visible&&(a.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},i.bodyVelocity=function(t,e,n){var i=n;i.beginPath();for(var o=0;o<e.length;o++){var r=e[o];if(r.render.visible){var a=s.getVelocity(r);i.moveTo(r.position.x,r.position.y),i.lineTo(r.position.x+a.x,r.position.y+a.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},i.bodyIds=function(t,e,n){var i,s,o=n;for(i=0;i<e.length;i++)if(e[i].render.visible){var r=e[i].parts;for(s=r.length>1?1:0;s<r.length;s++){var a=r[s];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(a.id,a.position.x+10,a.position.y-10)}}},i.collisions=function(t,e,n){var i,s,o,r,a=n,l=t.options;for(a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive)for(s=i.collision,r=0;r<i.activeContacts.length;r++){var c=i.activeContacts[r].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive&&(s=i.collision,i.activeContacts.length>0)){var u=i.activeContacts[0].vertex.x,h=i.activeContacts[0].vertex.y;2===i.activeContacts.length&&(u=(i.activeContacts[0].vertex.x+i.activeContacts[1].vertex.x)/2,h=(i.activeContacts[0].vertex.y+i.activeContacts[1].vertex.y)/2),s.bodyB===s.supports[0].body||!0===s.bodyA.isStatic?a.moveTo(u-8*s.normal.x,h-8*s.normal.y):a.moveTo(u+8*s.normal.x,h+8*s.normal.y),a.lineTo(u,h)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},i.separations=function(t,e,n){var i,s,o,r,a,l=n,c=t.options;for(l.beginPath(),a=0;a<e.length;a++)if((i=e[a]).isActive){o=(s=i.collision).bodyA;var u=1;(r=s.bodyB).isStatic||o.isStatic||(u=.5),r.isStatic&&(u=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x-s.penetration.x*u,r.position.y-s.penetration.y*u),u=1,r.isStatic||o.isStatic||(u=.5),o.isStatic&&(u=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+s.penetration.x*u,o.position.y+s.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},i.inspector=function(t,e){t.engine;var n,i=t.selected,s=t.render,o=s.options;if(o.hasBounds){var r=s.bounds.max.x-s.bounds.min.x,a=s.bounds.max.y-s.bounds.min.y,l=r/s.options.width,c=a/s.options.height;e.scale(1/l,1/c),e.translate(-s.bounds.min.x,-s.bounds.min.y)}for(var u=0;u<i.length;u++){var h=i[u].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),h.type){case"body":n=h.bounds,e.beginPath(),e.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var p=h.pointA;h.bodyA&&(p=h.pointB),e.beginPath(),e.arc(p.x,p.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",n=t.selectBounds,e.beginPath(),e.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),o.hasBounds&&e.setTransform(1,0,0,1,0,0)};var n=function(t,e){var n=t.engine,s=t.timing,o=s.historySize,r=n.timing.timestamp;s.delta=e-s.lastTime||i._goodDelta,s.lastTime=e,s.timestampElapsed=r-s.lastTimestamp||0,s.lastTimestamp=r,s.deltaHistory.unshift(s.delta),s.deltaHistory.length=Math.min(s.deltaHistory.length,o),s.engineDeltaHistory.unshift(n.timing.lastDelta),s.engineDeltaHistory.length=Math.min(s.engineDeltaHistory.length,o),s.timestampElapsedHistory.unshift(s.timestampElapsed),s.timestampElapsedHistory.length=Math.min(s.timestampElapsedHistory.length,o),s.engineElapsedHistory.unshift(n.timing.lastElapsed),s.engineElapsedHistory.length=Math.min(s.engineElapsedHistory.length,o),s.elapsedHistory.unshift(s.lastElapsed),s.elapsedHistory.length=Math.min(s.elapsedHistory.length,o)},h=function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length||0},p=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},f=function(t,e){var n=t.textures[e];return n||((n=t.textures[e]=new Image).src=e,n)},m=function(t,e){var n=e;/(jpg|gif|png)$/.test(e)&&(n="url("+e+")"),t.canvas.style.background=n,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,n){var i={};t.exports=i;var s,o,r,a=n(5),l=n(17),c=n(0);"undefined"!=typeof window&&(s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s||(s=function(t){r=setTimeout((function(){t(c.now())}),1e3/60)},o=function(){clearTimeout(r)}),i.create=function(t){var e=c.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},t);return e.delta=e.delta||1e3/e.fps,e.deltaMin=e.deltaMin||1e3/e.fps,e.deltaMax=e.deltaMax||1e3/(.5*e.fps),e.fps=1e3/e.delta,e},i.run=function(t,e){return void 0!==t.positionIterations&&(e=t,t=i.create()),function n(o){t.frameRequestId=s(n),o&&t.enabled&&i.tick(t,e,o)}(),t},i.tick=function(t,e,n){var i,s=e.timing;t.isFixed?i=t.delta:(i=n-t.timePrev||t.delta,t.timePrev=n,t.deltaHistory.push(i),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),i=(i=(i=Math.min.apply(null,t.deltaHistory))<t.deltaMin?t.deltaMin:i)>t.deltaMax?t.deltaMax:i,t.delta=i);var o={timestamp:s.timestamp};a.trigger(t,"beforeTick",o),t.frameCounter+=1,n-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((n-t.counterTimestamp)/1e3),t.counterTimestamp=n,t.frameCounter=0),a.trigger(t,"tick",o),a.trigger(t,"beforeUpdate",o),l.update(e,i),a.trigger(t,"afterUpdate",o),a.trigger(t,"afterTick",o)},i.stop=function(t){o(t.frameRequestId)},i.start=function(t,e){i.run(t,e)}},function(t,e,n){var i={};t.exports=i;var s=n(8),o=n(0).deprecated;i.collides=function(t,e){return s.collides(t,e)},o(i,"collides","SAT.collides âž¤ replaced by Collision.collides")},function(t,e,n){var i={};t.exports=i,n(1);var s=n(0);i.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,r,a,l,c,u,h,p,d,f,m=[],g=0,v=0,y=0;e=e||15;var _=function(t,e,n){var i=n%2==1&&n>1;if(!p||t!=p.x||e!=p.y){p&&i?(d=p.x,f=p.y):(d=0,f=0);var s={x:d+t,y:f+e};!i&&p||(p=s),m.push(s),v=d+t,y=f+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":v=t.x,y=t.y;break;case"H":v=t.x;break;case"V":y=t.y}_(v,y,t.pathSegType)}};for(i._svgPathToAbsolute(t),r=t.getTotalLength(),c=[],n=0;n<t.pathSegList.numberOfItems;n+=1)c.push(t.pathSegList.getItem(n));for(u=c.concat();g<r;){if((l=c[t.getPathSegAtLength(g)])!=h){for(;u.length&&u[0]!=l;)x(u.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(g),_(a.x,a.y,0)}g+=e}for(n=0,o=u.length;n<o;++n)x(u[n]);return m},i._svgPathToAbsolute=function(t){for(var e,n,i,s,o,r,a=t.pathSegList,l=0,c=0,u=a.numberOfItems,h=0;h<u;++h){var p=a.getItem(h),d=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(i=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(s=c+p.y1),"y2"in p&&(r=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),d){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,c),h);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,c),h);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),h);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,i,s,o,r),h);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,r),h);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,i,s),h);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),h);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),h);break;case"z":case"Z":l=e,c=n}"M"!=d&&"m"!=d||(e=l,n=c)}}},function(t,e,n){var i={};t.exports=i;var s=n(6);n(0),i.create=s.create,i.add=s.add,i.remove=s.remove,i.clear=s.clear,i.addComposite=s.addComposite,i.addBody=s.addBody,i.addConstraint=s.addConstraint}])},t.exports=i()},897:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},372:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},728:(t,e,n)=>{var i=n(62);function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s)}}t.exports=function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},872:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,s,o,r,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,s=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw s}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},218:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},424:(t,e,n)=>{var i=n(372),s=n(872),o=n(116),r=n(218);t.exports=function(t,e){return i(t)||s(t,e)||o(t,e)||r()},t.exports.__esModule=!0,t.exports.default=t.exports},36:(t,e,n)=>{var i=n(698).default;t.exports=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},62:(t,e,n)=>{var i=n(698).default,s=n(36);t.exports=function(t){var e=s(t,"string");return"symbol"==i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},116:(t,e,n)=>{var i=n(897);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";let t=0,e=0,i=0;function s(n){t=n.accelerationIncludingGravity.x,e=-1*n.accelerationIncludingGravity.y,i=n.accelerationIncludingGravity.z}window.addEventListener("keydown",(function(n){window.location.href.includes("localhost")&&("ArrowUp"===n.key&&(e=9.8,t=0),"ArrowDown"===n.key&&(e=-9.8,t=0),"ArrowLeft"===n.key&&(t=-9.8,e=0),"ArrowRight"===n.key&&(t=9.8,e=0))}));var o=n(842);const r="14.7.77";var a=n(382);const l=new WeakSet,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y={construct:()=>y},_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,x=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),s=i.match(_);for(;null!==s;){const t=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(o),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(_)}return[n.join(";"),i]},b=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=t=>{if(!(t=>{try{new new Proxy(t,y)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},T=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},S=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},C=(t,e,n,i)=>{const s=T(t,e),o=S(s,(t=>t[0]===n&&t[1]===i));return 0===s.size&&t.delete(e),o},A=t=>T(f,t),k=t=>{if(l.has(t))throw new Error("The AudioNode is already stored.");l.add(t),A(t).forEach((t=>t(!0)))},M=t=>"port"in t,O=t=>{if(!l.has(t))throw new Error("The AudioNode is not stored.");l.delete(t),A(t).forEach((t=>t(!1)))},I=(t,e)=>{!M(t)&&e.every((t=>0===t.size))&&O(t)},E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},P=(t,e)=>t.context===e,D=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},R=()=>new DOMException("","IndexSizeError"),V=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw R();throw t}})},N={numberOfChannels:1},B=-34028234663852886e22,q=-B,F=t=>l.has(t),L={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},j=t=>T(c,t),W=t=>T(h,t),U=(t,e)=>{const{activeInputs:n}=j(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||U(n,[...e,t])}))));const i=(t=>"playbackRate"in t)(t)?[t.playbackRate]:M(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of i){const n=W(t);void 0!==n&&n.activeInputs.forEach((([t])=>U(t,e)))}F(t)&&O(t)},H=t=>{U(t.destination,[])},z=t=>"context"in t,G=t=>z(t[0]),X=(t,e,n,i)=>{for(const e of t)if(n(e)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Y=(t,e,[n,i],s)=>{X(t,[e,n,i],(t=>t[0]===e&&t[1]===n),s)},Z=(t,[e,n,i],s)=>{const o=t.get(e);void 0===o?t.set(e,new Set([[n,i]])):X(o,[n,i],(t=>t[0]===n),s)},$=t=>"inputs"in t,Q=(t,e,n,i)=>{if($(e)){const s=e.inputs[i];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,i),[e,n,i]},J=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},K=(t,e)=>{if(!A(t).delete(e))throw new Error("Missing the expected event listener.")},tt=(t,e,n)=>{const i=T(t,e),s=S(i,(t=>t[0]===n));return 0===i.size&&t.delete(e),s},et=(t,e,n,i)=>{$(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},nt=t=>T(u,t),it=t=>T(p,t),st=t=>m.has(t),ot=t=>!l.has(t),rt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const r=t.createBufferSource();r.buffer=s,r.loop=!0,r.connect(e).connect(t.destination),r.connect(i),r.disconnect(i),e.onaudioprocess=i=>{const s=i.inputBuffer.getChannelData(0);Array.prototype.some.call(s,(t=>1===t))?n(!0):n(!1),r.stop(),e.onaudioprocess=null,r.disconnect(e),e.disconnect(t.destination)},r.start()}})),at=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},lt=t=>"context"in t,ct=t=>{const e=new Map;var n,i;t.connect=(i=t.connect.bind(t),(t,n=0,s=0)=>{const o=lt(t)?i(t,n,s):i(t,n),r=e.get(t);return void 0===r?e.set(t,[{input:s,output:n}]):r.every((t=>t.input!==s||t.output!==n))&&r.push({input:s,output:n}),o}),t.disconnect=(n=t.disconnect,(i,s,o)=>{if(n.apply(t),void 0===i)e.clear();else if("number"==typeof i)for(const[t,n]of e){const s=n.filter((t=>t.output!==i));0===s.length?e.delete(t):e.set(t,s)}else if(e.has(i))if(void 0===s)e.delete(i);else{const t=e.get(i);if(void 0!==t){const n=t.filter((t=>t.output!==s&&(t.input!==o||void 0===o)));0===n.length?e.delete(i):e.set(i,n)}}for(const[n,i]of e)i.forEach((e=>{lt(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})},ut=(t,e,n,i,s)=>{const[o,r]=((t,e,n,i)=>{const{activeInputs:s,passiveInputs:o}=j(e),r=J(s[i],t,n);return null===r?[C(o,t,n,i)[2],!1]:[r[2],!0]})(t,n,i,s);if(null!==o&&(K(t,o),!r||e||st(t)||et(nt(t),nt(n),i,s)),F(n)){const{activeInputs:t}=j(n);I(n,t)}},ht=(t,e,n,i)=>{const[s,o]=((t,e,n)=>{const{activeInputs:i,passiveInputs:s}=W(e),o=J(i,t,n);return null===o?[tt(s,t,n)[1],!1]:[o[2],!0]})(t,n,i);null!==s&&(K(t,s),!o||e||st(t)||nt(t).disconnect(it(n),i))};class pt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,i)=>t.call(e,n,i,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const dt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ft(t,e,n,i,s){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,s);else{const o=t.getChannelData(i);if(0===e[n].byteLength)e[n]=o.slice(s,s+128);else{const t=new Float32Array(o.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const mt=(t,e,n,i,s)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,s):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],s)},gt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],s="number"==typeof e?e:e[i];for(let e=0;e<s;e+=1)t.push(new Float32Array(128));n.push(t)}return n},vt=async(t,e,n,i,s,o,r)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=i.channelCount*i.numberOfInputs,c=s.reduce(((t,e)=>t+e),0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const h=j(t),p=await((t,e)=>{const n=T(v,t),i=nt(e);return T(n,i)})(n,t),d=gt(i.numberOfInputs,i.channelCount),f=gt(i.numberOfOutputs,s),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<a;c+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)ft(e,d[t],n,n,c);void 0!==o.parameterDescriptors&&null!==e&&o.parameterDescriptors.forEach((({name:t},n)=>{ft(e,m,t,l+n,c)}));for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<s[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=d.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=r(c/n.sampleRate,n.sampleRate,(()=>p.process(t,f,m)));if(null!==u)for(let t=0,e=0;t<i.numberOfOutputs;t+=1){for(let n=0;n<s[t];n+=1)mt(u,f[t],n,e+n,c);e+=s[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return u},yt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},xt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},bt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},wt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Tt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((i=>{const s=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}}))},St={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ct=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},At={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},kt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Mt=()=>new DOMException("","InvalidStateError"),Ot=()=>new DOMException("","InvalidAccessError"),It={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Et=(t,e,n,i,s,o,r,a,l,c,u)=>{const h=c.length;let p=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<s;e+=1){const i=p-e&l-1;h+=n[e]*o[i],h-=t[e]*r[i]}for(let t=s;t<i;t+=1)h+=n[t]*o[p-t&l-1];for(let n=s;n<e;n+=1)h-=t[n]*r[p-n&l-1];o[p]=c[a],r[p]=h,p=p+1&l-1,u[a]=h}return p},Pt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Dt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Rt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},Vt=(t,e)=>{Rt(t,e,"channelCount"),Rt(t,e,"channelCountMode"),Rt(t,e,"channelInterpretation")},Nt=t=>"function"==typeof t.getFloatTimeDomainData,Bt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},qt=t=>{var e;t.start=(e=t.start,(n=0,i=0,s)=>{if("number"==typeof s&&s<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,s)})},Ft=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Lt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),jt=(t,e)=>{const n=t.createBiquadFilter();return Vt(n,e),Bt(n,e,"Q"),Bt(n,e,"detune"),Bt(n,e,"frequency"),Bt(n,e,"gain"),Rt(n,e,"type"),n},Wt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Vt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Mt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Mt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Mt()}})})(n),n},Ut=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ht=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Vt(n,e),Bt(n,e,"delayTime"),n},zt=(t,e)=>{const n=t.createGain();return Vt(n,e),Bt(n,e,"gain"),n};function Gt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Xt(t,e){let n=[0,0];for(let o=t.length-1;o>=0;o-=1)s=e,n=[(i=n)[0]*s[0]-i[1]*s[1],i[0]*s[1]+i[1]*s[0]],n[0]+=t[o];var i,s;return n}const Yt=(t,e,n,i)=>t.createScriptProcessor(e,n,i),Zt=()=>new DOMException("","NotSupportedError"),$t={numberOfChannels:1},Qt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Jt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Kt={disableNormalization:!1},te={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},ee=()=>new DOMException("","UnknownError"),ne={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ie=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),se=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},oe=(t,e,n,i)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:o,set:r}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(o),set:i(r)})},re=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(9!==i.code)throw i;re(t,e,n+1e-7)}},ae=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},le=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},ce=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},ue=(t,e)=>{const n=e.createGain();t.connect(n);const i=(s=t.disconnect,()=>{s.call(t,n),t.removeEventListener("ended",i)});var s;t.addEventListener("ended",i),Ut(t,n),t.stop=(e=>{let i=!1;return(s=0)=>{if(i)try{e.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else e.call(t,s),i=!0}})(t.stop)},he=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},pe=(t=>(e,n,[i,s,o],r)=>{t(e[s],[n,i,o],(t=>t[0]===n&&t[1]===i),r)})(X),de=(t=>(e,n,[i,s,o],r)=>{const a=e.get(i);void 0===a?e.set(i,new Set([[s,n,o]])):t(a,[s,n,o],(t=>t[0]===s&&t[1]===n),r)})(X),fe=(t=>(e,n,i,s)=>t(e[s],(t=>t[0]===n&&t[1]===i)))(S),me=new WeakMap,ge=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(me),ve=(ye=new Map,_e=new WeakMap,(t,e)=>{const n=_e.get(t);if(void 0!==n)return n;const i=ye.get(t);if(void 0!==i)return i;try{const n=e();return n instanceof Promise?(ye.set(t,n),n.catch((()=>!1)).then((e=>(ye.delete(t),_e.set(t,e),e)))):(_e.set(t,n),n)}catch{return _e.set(t,!1),!1}});var ye,_e;const xe="undefined"==typeof window?null:window,be=((t,e)=>(n,i)=>{const s=n.createAnalyser();if(Vt(s,i),!(i.maxDecibels>i.minDecibels))throw e();return Rt(s,i,"fftSize"),Rt(s,i,"maxDecibels"),Rt(s,i,"minDecibels"),Rt(s,i,"smoothingTimeConstant"),t(Nt,(()=>Nt(s)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}})(s),s})(ve,R),we=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(j),Te=((t,e,n)=>async(i,s,o)=>{const r=t(i);await Promise.all(r.activeInputs.map(((t,r)=>Array.from(t).map((async([t,a])=>{const l=e(t),c=await l.render(t,s),u=i.context.destination;n(t)||i===u&&n(i)||c.connect(o,a,r)})))).reduce(((t,e)=>[...t,...e]),[]))})(j,we,st),Se=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(be,nt,Te),Ce=(Ae=d,t=>{const e=Ae.get(t);if(void 0===e)throw Mt();return e});var Ae;const ke=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(xe),Me=(t=>e=>null!==t&&e instanceof t)(ke),Oe=new WeakMap,Ie=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}})(he),Ee=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(xe),Pe=(t=>e=>null!==t&&e instanceof t)(Ee),De=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(xe),Re=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(xe),Ve=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(xe),Ne=((t,e,n,i,s,o,r,a,l,c,h,p,d,m,g,v)=>class extends c{constructor(e,i,s,o){super(s),this._context=e,this._nativeAudioNode=s;const r=h(e);p(r)&&!0!==n(rt,(()=>rt(r,v)))&&ct(s),u.set(this,s),f.set(this,new Set),"closed"!==e.state&&i&&k(this),t(this,o,s)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw s();const c=h(this._context),u=g(c);if(d(t)||m(t))throw o();if(z(t)){const s=nt(t);try{const e=Q(this._nativeAudioNode,s,n,a),i=ot(this);(u||i)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!i&&ot(t)&&k(t)}catch(t){if(12===t.code)throw o();throw t}if(e(this,t,n,a,u)){const e=l([this],t);at(e,i(u))}return t}const p=it(t);if("playbackRate"===p.name&&1024===p.maxValue)throw r();try{this._nativeAudioNode.connect(p,n),(u||ot(this))&&this._nativeAudioNode.disconnect(p,n)}catch(t){if(12===t.code)throw o();throw t}if(((t,e,n,i)=>{const{activeInputs:s,passiveInputs:o}=W(e),{outputs:r}=j(t),a=A(t),l=r=>{const a=nt(t),l=it(e);if(r){const e=tt(o,t,n);Y(s,t,e,!1),i||st(t)||a.connect(l,n)}else{const e=((t,e,n)=>S(t,(t=>t[0]===e&&t[1]===n)))(s,t,n);Z(o,e,!1),i||st(t)||a.disconnect(l,n)}};return!!X(r,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),F(t)?Y(s,t,[n,l],!0):Z(o,[t,n,l],!0),!0)})(this,t,n,u)){const e=l([this],t);at(e,i(u))}}disconnect(t,e,n){let i;const r=h(this._context),c=g(r);if(void 0===t)i=((t,e)=>{const n=j(t),i=[];for(const s of n.outputs)G(s)?ut(t,e,...s):ht(t,e,...s),i.push(s[0]);return n.outputs.clear(),i})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw s();i=((t,e,n)=>{const i=j(t),s=[];for(const o of i.outputs)o[1]===n&&(G(o)?ut(t,e,...o):ht(t,e,...o),s.push(o[0]),i.outputs.delete(o));return s})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw s();if(z(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw s();if(i=((t,e,n,i,s)=>{const o=j(t);return Array.from(o.outputs).filter((t=>!(t[0]!==n||void 0!==i&&t[1]!==i||void 0!==s&&t[2]!==s))).map((n=>(G(n)?ut(t,e,...n):ht(t,e,...n),o.outputs.delete(n),n[0])))})(this,c,t,e,n),0===i.length)throw o()}for(const t of i){const e=l([this],t);at(e,a)}}})((Be=c,(t,e,n)=>{const i=[];for(let t=0;t<n.numberOfInputs;t+=1)i.push(new Set);Be.set(t,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,i,s,o,r,a,l,c,u,h,p)=>{const d=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:x}=o(m),{outputs:b}=o(f),w=a(f),T=o=>{const a=l(m),c=l(f);if(o){const e=C(x,f,g,v);t(_,f,e,!1),y||h(f)||n(c,a,g,v),p(m)&&k(m)}else{const t=i(_,f,g,v);e(x,v,t,!1),y||h(f)||s(c,a,g,v);const n=r(m);if(0===n)u(m)&&I(m,_);else{const t=d.get(m);void 0!==t&&clearTimeout(t),d.set(m,setTimeout((()=>{u(m)&&I(m,_)}),1e3*n))}}};return!!c(b,[m,g,v],(t=>t[0]===m&&t[1]===g&&t[2]===v),!0)&&(w.add(T),u(f)?t(_,f,[g,v,T],!0):e(x,v,[f,g,T],!0),!0)}})(pe,de,Q,fe,et,j,ge,A,nt,X,F,st,ot),ve,((t,e,n,i,s,o)=>r=>(a,l)=>{const c=t.get(a);if(void 0===c){if(!r&&o(a)){const t=i(a),{outputs:o}=n(a);for(const n of o)if(G(n)){const s=i(n[0]);e(t,s,n[1],n[2])}else{const e=s(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,c+l)})(m,et,j,nt,it,F),R,Ot,Zt,((t,e,n,i,s,o,r,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=o(l.context),p=a(h);if(u===c){if(e.delete(l),!p&&r(l)){const e=i(l),{outputs:o}=n(l);for(const n of o)if(G(n)){const s=i(n[0]);t(e,s,n[1],n[2])}else{const t=s(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)})(Q,m,j,nt,it,Ce,F,Me),((t,e,n)=>function i(s,o){const r=z(o)?o:n(t,o);if((t=>"delayTime"in t)(r))return[];if(s[0]===r)return[s];if(s.includes(r))return[];const{outputs:a}=e(r);return Array.from(a).map((t=>i([...s,r],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Oe,j,T),Ie,Ce,Pe,De,Re,Me,Ve);var Be;const qe=((t,e,n,i,s,o)=>class extends t{constructor(t,n){const r=s(t),a={...E,...n},l=i(r,a);super(t,!1,l,o(r)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Ne,Se,R,be,Ce,Me),Fe=new WeakSet,Le=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(xe),je=(We=new Uint32Array(1),t=>(We[0]=t,We[0]));var We;const Ue=((t,e)=>n=>{n.copyFromChannel=(i,s,o=0)=>{const r=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=r<0?-r:0;t+r<l&&t<u;t+=1)i[t]=c[t+r]},n.copyToChannel=(i,s,o=0)=>{const r=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=r<0?-r:0;t+r<l&&t<u;t+=1)c[t+r]=i[t]}})(je,R),He=(t=>e=>{e.copyFromChannel=(n=>(i,s,o=0)=>{const r=t(o),a=t(s);if(r<e.length)return n.call(e,i,a,r)})(e.copyFromChannel),e.copyToChannel=(n=>(i,s,o=0)=>{const r=t(o),a=t(s);if(r<e.length)return n.call(e,i,a,r)})(e.copyToChannel)})(je),ze=((t,e,n,i,s,o,r,a)=>{let l=null;return class c{constructor(c){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:p}={...N,...c};null===l&&(l=new s(1,1,44100));const d=null!==i&&e(o,o)?new i({length:u,numberOfChannels:h,sampleRate:p}):l.createBuffer(h,u,p);if(0===d.numberOfChannels)throw n();return"function"!=typeof d.copyFromChannel?(r(d),V(d)):e(D,(()=>D(d)))||a(d),t.add(d),d}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(Fe,ve,Zt,Le,ke,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(Le),Ue,He),Ge=(t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(i),i.disconnect()};n.addEventListener("ended",s)})(zt),Xe=((t,e,n)=>async(i,s,o)=>{const r=e(i);await Promise.all(Array.from(r.activeInputs).map((async([e,i])=>{const r=t(e),a=await r.render(e,s);n(e)||a.connect(o,i)})))})(we,W,st),Ye=(t=>(e,n,i)=>t(n,e,i))(Xe),Ze=((t,e,n,i,s,o,r,a,l,c,u)=>(l,h)=>{const p=l.createBufferSource();return Vt(p,h),Bt(p,h,"playbackRate"),Rt(p,h,"buffer"),Rt(p,h,"loop"),Rt(p,h,"loopEnd"),Rt(p,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(i=0,s=0,o)=>{if(n)throw Mt();e.call(t,i,s,o),n=!0}})(t.start)})(p),e(i,(()=>i(l)))||(t=>{t.start=(e=t.start,(n=0,i=0,s)=>{const o=t.buffer,r=null===o?i:Math.min(o.duration,i);null!==o&&r>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,r,s)});var e})(p),e(s,(()=>s(l)))||c(p,l),e(o,(()=>o(l)))||qt(p),e(r,(()=>r(l)))||u(p,l),e(a,(()=>a(l)))||Ft(p),t(l,p),p})(Ge,ve,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),ae,le,ce,0,(t=>(e,n)=>{const i=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=i),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===i?null:n}),(t=>n=>t.call(e,null===n?i:n)))})(oe),ue),$e=((t,e)=>(n,i,s)=>(t(i).replay(s),e(i,n,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(W),Xe),Qe=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=P(u,c);if(!h){const t={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(c,t),null!==r&&u.start(...r),null!==a&&u.stop(a)}return o.set(c,u),h?await t(c,l.playbackRate,u.playbackRate):await i(c,l.playbackRate,u.playbackRate),await s(l,c,u),u})(l,c)}}})(Ye,Ze,nt,$e,Te),Je=((t,e,n,i,s,o,r,l,c,u,h,p,d)=>(i,f,m,g=null,v=null)=>{const y=m.value,_=new a.AutomationEventList(y),x=f?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:s}=n;e.setTargetAtTime(i,t,s)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,t)}}}}))(_):null,b={get defaultValue(){return y},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(t){m.value=t,b.setValueAtTime(t,i.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof m.cancelAndHoldAtTime)null===x&&_.flush(i.context.currentTime),_.add(s(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===x&&_.flush(i.context.currentTime),_.add(s(t));const n=Array.from(_).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:t=>(null===x&&_.flush(i.context.currentTime),_.add(o(t)),m.cancelScheduledValues(t),b),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=i.context.currentTime;return null===x&&_.flush(n),0===Array.from(_).length&&(_.add(u(y,n)),m.setValueAtTime(y,n)),_.add(r(t,e)),m.exponentialRampToValueAtTime(t,e),b},linearRampToValueAtTime(t,e){const n=i.context.currentTime;return null===x&&_.flush(n),0===Array.from(_).length&&(_.add(u(y,n)),m.setValueAtTime(y,n)),_.add(l(t,e)),m.linearRampToValueAtTime(t,e),b},setTargetAtTime:(t,e,n)=>(null===x&&_.flush(i.context.currentTime),_.add(c(t,e,n)),m.setTargetAtTime(t,e,n),b),setValueAtTime:(t,e)=>(null===x&&_.flush(i.context.currentTime),_.add(u(t,e)),m.setValueAtTime(t,e),b),setValueCurveAtTime(t,e,n){const s=t instanceof Float32Array?t:new Float32Array(t);if(null!==p&&"webkitAudioContext"===p.name){const t=e+n,o=i.context.sampleRate,r=Math.ceil(e*o),a=Math.floor(t*o),l=a-r,c=new Float32Array(l);for(let t=0;t<l;t+=1){const i=(s.length-1)/n*((r+t)/o-e),a=Math.floor(i),l=Math.ceil(i);c[t]=a===l?s[a]:(1-(i-a))*s[a]+(1-(l-i))*s[l]}null===x&&_.flush(i.context.currentTime),_.add(h(c,e,n)),m.setValueCurveAtTime(c,e,n);const u=a/o;u<t&&d(b,c[c.length-1],u),d(b,s[s.length-1],t)}else null===x&&_.flush(i.context.currentTime),_.add(h(s,e,n)),m.setValueCurveAtTime(s,e,n);return b}};return n.set(b,m),e.set(b,i),t(b,x),b})((Ke=h,(t,e)=>{Ke.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Oe,p,0,a.createCancelAndHoldAutomationEvent,a.createCancelScheduledValuesAutomationEvent,a.createExponentialRampToValueAutomationEvent,a.createLinearRampToValueAutomationEvent,a.createSetTargetAutomationEvent,a.createSetValueAutomationEvent,a.createSetValueCurveAutomationEvent,Ee,re);var Ke;const tn=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,i){const a=o(t),l={...L,...i},c=s(a,l),u=r(a),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,q,B)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){k(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Ne,Qe,Je,Mt,Ze,Ce,Me,he),en=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,e){const n=o(t),i=r(n),l=s(n,e,i);super(t,!1,l,i?(t=>{const e=new WeakMap;return{render(n,i){const s=e.get(i);return void 0!==s?Promise.resolve(s):(async(n,i)=>{const s=i.destination;return e.set(i,s),await t(n,i,s),s})(n,i)}}})(a):null),this._isNodeOfNativeOfflineAudioContext=i,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ne,0,R,Mt,((t,e)=>(n,i,s)=>{const o=n.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}s&&"explicit"!==o.channelCountMode&&(o.channelCountMode="explicit"),0===o.maxChannelCount&&Object.defineProperty(o,"maxChannelCount",{value:i});const r=t(n,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(r,"channelCount",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e);try{o.channelCount=e}catch(t){if(e>o.maxChannelCount)throw t}})),e(r,"channelCountMode",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),o.channelCountMode=e})),e(r,"channelInterpretation",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),o.channelInterpretation=e})),Object.defineProperty(r,"maxChannelCount",{get:()=>o.maxChannelCount}),r.connect(o),r})(zt,oe),Ce,Me,Te),nn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return o.set(a,l),c?(await t(a,r.Q,l.Q),await t(a,r.detune,l.detune),await t(a,r.frequency,l.frequency),await t(a,r.gain,l.gain)):(await i(a,r.Q,l.Q),await i(a,r.detune,l.detune),await i(a,r.frequency,l.frequency),await i(a,r.gain,l.gain)),await s(r,a,l),l})(r,a)}}})(Ye,jt,nt,$e,Te),sn=(t=>(e,n)=>t.set(e,n))(me),on=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,i){const l=o(t),c={...yt,...i},u=s(l,c),h=r(l);super(t,!1,u,h?n():null),this._Q=e(this,h,u.Q,q,B),this._detune=e(this,h,u.detune,1200*Math.log2(q),-1200*Math.log2(q)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10(q),B),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw i();throw t}if(t.length!==e.length||e.length!==n.length)throw i()}})(Ne,Je,nn,Ot,jt,Ce,Me,sn),rn=((t,e)=>(n,i,s)=>{const o=new Set;return n.connect=(a=n.connect,(s,r=0,l=0)=>{const c=0===o.size;if(e(s))return a.call(n,s,r,l),t(o,[s,r,l],(t=>t[0]===s&&t[1]===r&&t[2]===l),!0),c&&i(),s;a.call(n,s,r),t(o,[s,r],(t=>t[0]===s&&t[1]===r),!0),c&&i()}),n.disconnect=(r=n.disconnect,(t,i,a)=>{const l=o.size>0;if(void 0===t)r.apply(n),o.clear();else if("number"==typeof t){r.call(n,t);for(const e of o)e[1]===t&&o.delete(e)}else{e(t)?r.call(n,t,i,a):r.call(n,t,i);for(const e of o)e[0]!==t||void 0!==i&&e[1]!==i||void 0!==a&&e[2]!==a||o.delete(e)}const c=0===o.size;l&&c&&s()}),n;var r,a})(X,De),an=((t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(i,(()=>{const t=i.numberOfInputs;for(let e=0;e<t;e+=1)s.connect(i,0,e)}),(()=>s.disconnect(i)))})(Mt,rn),ln=((t,e)=>(n,i)=>{const s=n.createChannelMerger(i.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,s),Vt(s,i),s})(Ee,an),cn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,numberOfInputs:r.numberOfInputs};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(ln,nt,Te),un=((t,e,n,i,s)=>class extends t{constructor(t,o){const r=i(t),a={..._t,...o};super(t,!1,n(r,a),s(r)?e():null)}})(Ne,cn,ln,Ce,Me),hn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,numberOfOutputs:r.numberOfOutputs};r=t(o,e)}return i.set(o,r),await n(s,o,r),r})(s,o)}}})(Wt,nt,Te),pn=((t,e,n,i,s,o)=>class extends t{constructor(t,o){const r=i(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...xt,...o});super(t,!1,n(r,a),s(r)?e():null)}})(Ne,hn,Wt,Ce,Me),dn=((t,e,n,i)=>(s,{offset:o,...r})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...r,gain:o}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(s,l),i(Ut(h,c),(()=>l.connect(c)),(()=>l.disconnect(c)))})(Ge,Ze,zt,rn),fn=((t,e,n,i,s)=>(o,r)=>{if(void 0===o.createConstantSource)return n(o,r);const a=o.createConstantSource();return Vt(a,r),Bt(a,r,"offset"),e(i,(()=>i(o)))||qt(a),e(s,(()=>s(o)))||Ft(a),t(o,a),a})(Ge,ve,dn,ae,ce),mn=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=P(u,c);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(c,t),null!==r&&u.start(r),null!==a&&u.stop(a)}return o.set(c,u),h?await t(c,l.offset,u.offset):await i(c,l.offset,u.offset),await s(l,c,u),u})(l,c)}}})(Ye,fn,nt,$e,Te),gn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,r){const a=s(t),l={...bt,...r},c=i(a,l),u=o(a),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,q,B),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?r(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){k(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Ne,Je,mn,fn,Ce,Me,he),vn=((t,e)=>(n,i)=>{const s=n.createConvolver();if(Vt(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),Rt(s,i,"buffer"),i.channelCount>2)throw t();if(e(s,"channelCount",(t=>()=>t.call(s)),(e=>n=>{if(n>2)throw t();return e.call(s,n)})),"max"===i.channelCountMode)throw t();return e(s,"channelCountMode",(t=>()=>t.call(s)),(e=>n=>{if("max"===n)throw t();return e.call(s,n)})),s})(Zt,oe),yn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={buffer:r.buffer,channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,disableNormalization:!r.normalize};r=t(o,e)}return i.set(o,r),$(r)?await n(s,o,r.inputs[0]):await n(s,o,r),r})(s,o)}}})(vn,nt,Te),_n=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=i(t),l={...wt,...r},c=n(a,l);super(t,!1,c,s(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&o(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Ne,yn,vn,Ce,Me,sn),xn=((t,e,n,i,s)=>o=>{const r=new WeakMap;return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):(async(a,l)=>{let c=n(a);const u=P(c,l);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:o};c=e(l,t)}return r.set(l,c),u?await t(l,a.delayTime,c.delayTime):await i(l,a.delayTime,c.delayTime),await s(a,l,c),c})(a,l)}}})(Ye,Ht,nt,$e,Te),bn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,a){const l=s(t),c={...St,...a},u=i(l,c),h=o(l);super(t,!1,u,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),r(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Ne,Je,xn,Ht,Ce,Me,sn),wn=(t=>(e,n)=>{const i=e.createDynamicsCompressor();if(Vt(i,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Bt(i,n,"attack"),Bt(i,n,"knee"),Bt(i,n,"ratio"),Bt(i,n,"release"),Bt(i,n,"threshold"),i})(Zt),Tn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return o.set(a,l),c?(await t(a,r.attack,l.attack),await t(a,r.knee,l.knee),await t(a,r.ratio,l.ratio),await t(a,r.release,l.release),await t(a,r.threshold,l.threshold)):(await i(a,r.attack,l.attack),await i(a,r.knee,l.knee),await i(a,r.ratio,l.ratio),await i(a,r.release,l.release),await i(a,r.threshold,l.threshold)),await s(r,a,l),l})(r,a)}}})(Ye,wn,nt,$e,Te),Sn=((t,e,n,i,s,o,r,a)=>class extends t{constructor(t,s){const l=o(t),c={...At,...s},u=i(l,c),h=r(l);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ne,Je,Tn,wn,Zt,Ce,Me,sn),Cn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return o.set(a,l),c?await t(a,r.gain,l.gain):await i(a,r.gain,l.gain),await s(r,a,l),l})(r,a)}}})(Ye,zt,nt,$e,Te),An=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=s(t),l={...kt,...r},c=i(a,l),u=o(a);super(t,!1,c,u?n():null),this._gain=e(this,u,c.gain,q,B)}get gain(){return this._gain}})(Ne,Je,Cn,zt,Ce,Me),kn=((t,e,n,i)=>(s,o,{channelCount:r,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=Lt(o,s.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),d=u instanceof Float64Array?u:new Float64Array(u),f=p.length,m=d.length,g=Math.min(f,m);if(0===f||f>20)throw i();if(0===p[0])throw e();if(0===m||m>20)throw i();if(0===d[0])throw e();if(1!==p[0]){for(let t=0;t<m;t+=1)d[t]/=p[0];for(let t=1;t<f;t+=1)p[t]/=p[0]}const v=n(s,h,r,r);v.channelCount=r,v.channelCountMode=a,v.channelInterpretation=l;const y=[],_=[],x=[];for(let t=0;t<r;t+=1){y.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),x.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let t=0;t<i;t+=1){const i=e.getChannelData(t),s=n.getChannelData(t);y[t]=Et(p,f,d,m,g,_[t],x[t],y[t],32,i,s)}};const b=s.sampleRate/2,w={get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const s=e.length;for(let t=0;t<s;t+=1){const s=-Math.PI*(e[t]/b),o=[Math.cos(s),Math.sin(s)],r=Gt(Xt(d,o),Xt(p,o));n[t]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i[t]=Math.atan2(r[1],r[0])}},removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])};return Ut(w,v)})(Ot,Mt,Yt,Zt),Mn=((t,e,n,i)=>s=>t(Dt,(()=>Dt(s)))?Promise.resolve(t(i,i)).then((t=>{if(!t){const t=n(s,512,0,1);s.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>s.currentTime,t.connect(s.destination)}return s.startRendering()})):new Promise((t=>{const n=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(s.destination),s.startRendering()})))(ve,zt,Yt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(zt,ke)),On=((t,e,n,i,s)=>(o,r)=>{const a=new WeakMap;let l=null;return{render(c,u){const h=a.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=null,p=e(c);const d=P(p,u);if(void 0===u.createIIRFilter?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(p=u.createIIRFilter(r,o)),a.set(u,null===h?p:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>(await i(c,t,t.destination),((t,e,n,i)=>{const s=n instanceof Float64Array?n:new Float64Array(n),o=i instanceof Float64Array?i:new Float64Array(i),r=s.length,a=o.length,l=Math.min(r,a);if(1!==s[0]){for(let t=0;t<r;t+=1)o[t]/=s[0];for(let t=1;t<a;t+=1)s[t]/=s[0]}const c=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let e=0;e<p;e+=1){const n=t.getChannelData(e),i=h.getChannelData(e);c.fill(0),u.fill(0),Et(s,r,o,a,l,c,u,0,32,n,i)}return h})(await s(t),u,o,r)))()}const t=await l;return h.buffer=t,h.start(0),h}return await i(c,u,p),p})(c,u)}}})(Ze,nt,ke,Te,Mn),In=(t=>(e,n,i)=>{if(void 0===e.createIIRFilter)return t(e,n,i);const s=e.createIIRFilter(i.feedforward,i.feedback);return Vt(s,i),s})(kn),En=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=i(t),l=s(a),c={...It,...r},u=e(a,l?null:t.baseLatency,c);super(t,!1,u,l?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,i,s)=>{if(n.length!==i.length||i.length!==s.length)throw Ot();return e.call(t,n,i,s)})})(u),this._nativeIIRFilterNode=u,o(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Ne,In,On,Ce,Me,sn),Pn=((t,e,n,i,s,o,r,a)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:p,forwardZ:d,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),p=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),d=r(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const t=i(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[o(t,h,0),o(t,h,1),o(t,h,2),o(t,h,3),o(t,h,4),o(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(u.setOrientation(...e),m=e);const n=[o(t,h,6),o(t,h,7),o(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(u.setPosition(...n),g=n)},p.connect(t)},y=t=>e=>{e!==m[t]&&(m[t]=e,u.setOrientation(...m))},_=t=>e=>{e!==g[t]&&(g[t]=e,u.setPosition(...g))},x=(e,i,o)=>{const r=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});r.connect(p,0,e),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>i});const u=t({context:l},d,r.offset,q,B);var h,f,m,g,y,_,x;return a(u,"value",(t=>()=>t.call(u)),(t=>e=>{try{t.call(u,e)}catch(t){if(9!==t.code)throw t}v(),d&&o(e)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,d?()=>{throw s()}:(...t)=>{const e=h.apply(u,t);return v(),e}),u.cancelScheduledValues=(f=u.cancelScheduledValues,d?()=>{throw s()}:(...t)=>{const e=f.apply(u,t);return v(),e}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,d?()=>{throw s()}:(...t)=>{const e=m.apply(u,t);return v(),e}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,d?()=>{throw s()}:(...t)=>{const e=g.apply(u,t);return v(),e}),u.setTargetAtTime=(y=u.setTargetAtTime,d?()=>{throw s()}:(...t)=>{const e=y.apply(u,t);return v(),e}),u.setValueAtTime=(_=u.setValueAtTime,d?()=>{throw s()}:(...t)=>{const e=_.apply(u,t);return v(),e}),u.setValueCurveAtTime=(x=u.setValueCurveAtTime,d?()=>{throw s()}:(...t)=>{const e=x.apply(u,t);return v(),e}),u};return{forwardX:x(0,0,y(0)),forwardY:x(1,0,y(1)),forwardZ:x(2,-1,y(2)),positionX:x(6,0,_(0)),positionY:x(7,0,_(1)),positionZ:x(8,0,_(2)),upX:x(3,0,y(3)),upY:x(4,1,y(4)),upZ:x(5,0,y(5))}})():u;return{get forwardX(){return h},get forwardY(){return p},get forwardZ(){return d},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(Je,ln,fn,Yt,Zt,ie,Me,oe),Dn=new WeakMap,Rn=((t,e,n,i,s,o)=>class extends n{constructor(n,o){super(n),this._nativeContext=n,d.set(this,n),i(n)&&s.set(n,new Set),this._destination=new t(this,o),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?o(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(en,Pn,Ie,Me,Dn,he),Vn=((t,e,n,i,s,o)=>(r,a)=>{const l=r.createOscillator();return Vt(l,a),Bt(l,a,"detune"),Bt(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Rt(l,a,"type"),e(n,(()=>n(r)))||qt(l),e(i,(()=>i(r)))||o(l,r),e(s,(()=>s(r)))||Ft(l),t(r,l),l})(Ge,ve,ae,le,ce,ue),Nn=((t,e,n,i,s)=>()=>{const o=new WeakMap;let r=null,a=null,l=null;return{set periodicWave(t){r=t},set start(t){a=t},set stop(t){l=t},render(c,u){const h=o.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const p=P(h,u);if(!p){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===r?void 0:r,type:h.type};h=e(u,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return o.set(u,h),p?(await t(u,c.detune,h.detune),await t(u,c.frequency,h.frequency)):(await i(u,c.detune,h.detune),await i(u,c.frequency,h.frequency)),await s(c,u,h),h})(c,u)}}})(Ye,Vn,nt,$e,Te),Bn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,r){const a=s(t),l={...Qt,...r},c=n(a,l),u=o(a),h=u?i():null,p=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,p,-p),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?r(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){k(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),F(this)&&O(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Ne,Je,Vn,Nn,Ce,Me,he),qn=(t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}})(Ze),Fn=((t,e,n,i,s)=>(o,{curve:r,oversample:a,...l})=>{const c=o.createWaveShaper(),u=o.createWaveShaper();Vt(c,l),Vt(u,l);const h=n(o,{...l,gain:1}),p=n(o,{...l,gain:-1}),d=n(o,{...l,gain:1}),f=n(o,{...l,gain:-1});let m=null,g=!1,v=null;const y={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,p.channelCount=t,c.channelCount=t,d.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const s=Math.ceil((t+1)/2),o=(t+1)/2-1;for(let r=1;r<s;r+=1){const a=r/s*o,l=Math.floor(a),c=Math.ceil(a);e[r]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],i[r]=l===c?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(c-a))*n[t-1-c]}e[s]=t%2==1?n[s-1]:(n[s-2]+n[s-1])/2,c.curve=e,u.curve=i}v=n,g&&(i(v)&&null===m?m=t(o,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==r&&(y.curve=r instanceof Float32Array?r:new Float32Array(r)),a!==y.oversample&&(y.oversample=a),s(Ut(y,d),(()=>{h.connect(c).connect(d),h.connect(p).connect(u).connect(f).connect(d),g=!0,i(v)&&(m=t(o,h))}),(()=>{h.disconnect(c),c.disconnect(d),h.disconnect(p),p.disconnect(u),u.disconnect(f),f.disconnect(d),g=!1,null!==m&&(m(),m=null)}))})(qn,Mt,zt,se,rn),Ln=((t,e,n,i,s,o,r)=>(a,l)=>{const c=a.createWaveShaper();if(null!==o&&"webkitAudioContext"===o.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Vt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();Rt(c,{curve:u},"curve"),Rt(c,l,"oversample");let h=null,p=!1;return r(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),p&&(i(n)&&null===h?h=t(a,c):i(n)||null===h||(h(),h=null)),n))),s(c,(()=>{p=!0,i(c.curve)&&(h=t(a,c))}),(()=>{p=!1,null!==h&&(h(),h=null)}))})(qn,Mt,Fn,se,rn,Ee,oe),jn=((t,e,n,i,s,o,r,a,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:d,distanceModel:f,maxDistance:m,orientationX:g,orientationY:v,orientationZ:y,panningModel:_,positionX:x,positionY:b,positionZ:w,refDistance:T,rolloffFactor:S,...C})=>{const A=u.createPanner();if(C.channelCount>2)throw r();if("max"===C.channelCountMode)throw r();Vt(A,C);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},M=n(u,{...k,channelInterpretation:"speakers",numberOfInputs:6}),O=i(u,{...C,gain:1}),I=i(u,{...k,gain:1}),E=i(u,{...k,gain:0}),P=i(u,{...k,gain:0}),D=i(u,{...k,gain:0}),R=i(u,{...k,gain:0}),V=i(u,{...k,gain:0}),N=s(u,256,6,1),B=o(u,{...k,curve:new Float32Array([1,1]),oversample:"none"});let q=[g,v,y],F=[x,b,w];const L=new Float32Array(1);N.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,L,0),l(t,L,1),l(t,L,2)];e.some(((t,e)=>t!==q[e]))&&(A.setOrientation(...e),q=e);const n=[l(t,L,3),l(t,L,4),l(t,L,5)];n.some(((t,e)=>t!==F[e]))&&(A.setPosition(...n),F=n)},Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const j={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(t){if(t>2)throw r();O.channelCount=t,A.channelCount=t},get channelCountMode(){return A.channelCountMode},set channelCountMode(t){if("max"===t)throw r();O.channelCountMode=t,A.channelCountMode=t},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,A.channelInterpretation=t},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(t){A.coneInnerAngle=t},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(t){A.coneOuterAngle=t},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();A.coneOuterGain=t},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(t){A.distanceModel=t},get inputs(){return[O]},get maxDistance(){return A.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;A.maxDistance=t},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return E.gain},get orientationZ(){return P.gain},get panningModel(){return A.panningModel},set panningModel(t){A.panningModel=t},get positionX(){return D.gain},get positionY(){return R.gain},get positionZ(){return V.gain},get refDistance(){return A.refDistance},set refDistance(t){if(t<0)throw new RangeError;A.refDistance=t},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;A.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return h!==j.coneInnerAngle&&(j.coneInnerAngle=h),p!==j.coneOuterAngle&&(j.coneOuterAngle=p),d!==j.coneOuterGain&&(j.coneOuterGain=d),f!==j.distanceModel&&(j.distanceModel=f),m!==j.maxDistance&&(j.maxDistance=m),g!==j.orientationX.value&&(j.orientationX.value=g),v!==j.orientationY.value&&(j.orientationY.value=v),y!==j.orientationZ.value&&(j.orientationZ.value=y),_!==j.panningModel&&(j.panningModel=_),x!==j.positionX.value&&(j.positionX.value=x),b!==j.positionY.value&&(j.positionY.value=b),w!==j.positionZ.value&&(j.positionZ.value=w),T!==j.refDistance&&(j.refDistance=T),S!==j.rolloffFactor&&(j.rolloffFactor=S),1===q[0]&&0===q[1]&&0===q[2]||A.setOrientation(...q),0===F[0]&&0===F[1]&&0===F[2]||A.setPosition(...F),c(Ut(j,A),(()=>{O.connect(A),t(O,B,0,0),B.connect(I).connect(M,0,0),B.connect(E).connect(M,0,1),B.connect(P).connect(M,0,2),B.connect(D).connect(M,0,3),B.connect(R).connect(M,0,4),B.connect(V).connect(M,0,5),M.connect(N).connect(u.destination)}),(()=>{O.disconnect(A),a(O,B,0,0),B.disconnect(I),I.disconnect(M),B.disconnect(E),E.disconnect(M),B.disconnect(P),P.disconnect(M),B.disconnect(D),D.disconnect(M),B.disconnect(R),R.disconnect(M),B.disconnect(V),V.disconnect(M),M.disconnect(N),N.disconnect(u.destination)}))})(Q,Mt,ln,zt,Yt,Ln,Zt,et,ie,rn),Wn=(t=>(e,n)=>{const i=e.createPanner();return void 0===i.orientationX?t(e,n):(Vt(i,n),Bt(i,n,"orientationX"),Bt(i,n,"orientationY"),Bt(i,n,"orientationZ"),Bt(i,n,"positionX"),Bt(i,n,"positionY"),Bt(i,n,"positionZ"),Rt(i,n,"coneInnerAngle"),Rt(i,n,"coneOuterAngle"),Rt(i,n,"coneOuterGain"),Rt(i,n,"distanceModel"),Rt(i,n,"maxDistance"),Rt(i,n,"panningModel"),Rt(i,n,"refDistance"),Rt(i,n,"rolloffFactor"),i)})(jn),Un=((t,e,n,i,s,o,r,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(p,d){const f=u.get(d);return void 0!==f?Promise.resolve(f):(async(p,d)=>{let f=null,m=o(p);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=P(m,d);if("bufferSize"in m)f=i(d,{...g,gain:1});else if(!y){const t={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=s(d,t)}if(u.set(d,null===f?m:f),null!==f){if(null===h){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new r(6,p.context.length,d.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map((async(e,i)=>{const s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(t,e,s.offset),s})));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return c(t)})()}const t=await h,o=i(d,{...g,gain:1});await l(p,d,o);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let m=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],_=i(d,{...g,gain:1}),x=s(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});o.connect(_).connect(x.inputs[0]),x.connect(f);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==y[e]))){m=t,y=n;const r=e/d.sampleRate;_.gain.setValueAtTime(0,r),_=i(d,{...g,gain:0}),x=s(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,r),o.connect(_).connect(x.inputs[0]),x.connect(f)}}return f}return y?(await t(d,p.orientationX,m.orientationX),await t(d,p.orientationY,m.orientationY),await t(d,p.orientationZ,m.orientationZ),await t(d,p.positionX,m.positionX),await t(d,p.positionY,m.positionY),await t(d,p.positionZ,m.positionZ)):(await a(d,p.orientationX,m.orientationX),await a(d,p.orientationY,m.orientationY),await a(d,p.orientationZ,m.orientationZ),await a(d,p.positionX,m.positionX),await a(d,p.positionY,m.positionY),await a(d,p.positionZ,m.positionZ)),$(m)?await l(p,d,m.inputs[0]):await l(p,d,m),m})(p,d)}}})(Ye,ln,fn,zt,Wn,nt,ke,$e,Te,Mn),Hn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,a){const l=s(t),c={...Jt,...a},u=n(l,c),h=o(l);super(t,!1,u,h?i():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,q,B),this._orientationY=e(this,h,u.orientationY,q,B),this._orientationZ=e(this,h,u.orientationZ,q,B),this._positionX=e(this,h,u.positionX,q,B),this._positionY=e(this,h,u.positionY,q,B),this._positionZ=e(this,h,u.positionZ,q,B),r(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Ne,Je,Wn,Un,Ce,Me,sn),zn=(t=>(e,{disableNormalization:n,imag:i,real:s})=>{const o=i instanceof Float32Array?i:new Float32Array(i),r=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(r,o,{disableNormalization:n});if(Array.from(i).length<2)throw t();return a})(R),Gn=((t,e,n,i)=>class i{constructor(i,s){const o=e(i),r=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Kt,...s}),a=t(o,r);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(zn,Ce,new WeakSet),Xn=((t,e,n,i,s,o)=>{const r=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(t,o,h,p,d)=>{if(1===o)return((t,e,s,o)=>{const h=new Float32Array(r),p=new Float32Array(r);for(let t=0;t<r;t+=1){const e=t/16384*l;h[t]=Math.cos(e),p[t]=Math.sin(e)}const d=n(t,{...c,gain:0}),f=i(t,{...u,curve:h}),m=i(t,{...u,curve:a}),g=n(t,{...c,gain:0}),v=i(t,{...u,curve:p});return{connectGraph(){e.connect(d),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(s),s.connect(void 0===f.inputs?f:f.inputs[0]),s.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(d.gain),v.connect(g.gain),d.connect(o,0,0),g.connect(o,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(s),s.disconnect(void 0===f.inputs?f:f.inputs[0]),s.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(d.gain),v.disconnect(g.gain),d.disconnect(o,0,0),g.disconnect(o,0,1)}}})(t,h,p,d);if(2===o)return((t,s,o,h)=>{const p=new Float32Array(r),d=new Float32Array(r),f=new Float32Array(r),m=new Float32Array(r),g=Math.floor(8192.5);for(let t=0;t<r;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;p[t]=Math.cos(e),d[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;p[t]=1,d[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(t,{...c,gain:0}),_=i(t,{...u,curve:p}),x=n(t,{...c,gain:0}),b=i(t,{...u,curve:d}),w=i(t,{...u,curve:a}),T=n(t,{...c,gain:0}),S=i(t,{...u,curve:f}),C=n(t,{...c,gain:0}),A=i(t,{...u,curve:m});return{connectGraph(){s.connect(v),s.connect(void 0===w.inputs?w:w.inputs[0]),v.connect(y,0),v.connect(x,0),v.connect(T,1),v.connect(C,1),w.connect(o),o.connect(void 0===_.inputs?_:_.inputs[0]),o.connect(void 0===b.inputs?b:b.inputs[0]),o.connect(void 0===S.inputs?S:S.inputs[0]),o.connect(void 0===A.inputs?A:A.inputs[0]),_.connect(y.gain),b.connect(x.gain),S.connect(T.gain),A.connect(C.gain),y.connect(h,0,0),T.connect(h,0,0),x.connect(h,0,1),C.connect(h,0,1)},disconnectGraph(){s.disconnect(v),s.disconnect(void 0===w.inputs?w:w.inputs[0]),v.disconnect(y,0),v.disconnect(x,0),v.disconnect(T,1),v.disconnect(C,1),w.disconnect(o),o.disconnect(void 0===_.inputs?_:_.inputs[0]),o.disconnect(void 0===b.inputs?b:b.inputs[0]),o.disconnect(void 0===S.inputs?S:S.inputs[0]),o.disconnect(void 0===A.inputs?A:A.inputs[0]),_.disconnect(y.gain),b.disconnect(x.gain),S.disconnect(T.gain),A.disconnect(C.gain),y.disconnect(h,0,0),T.disconnect(h,0,0),x.disconnect(h,0,1),C.disconnect(h,0,1)}}})(t,h,p,d);throw s()};return(e,{channelCount:i,channelCountMode:r,pan:a,...l})=>{if("max"===r)throw s();const c=t(e,{...l,channelCount:1,channelCountMode:r,numberOfInputs:2}),u=n(e,{...l,channelCount:i,channelCountMode:r,gain:1}),p=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:d,disconnectGraph:f}=h(e,i,u,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(g&&f(),({connectGraph:d,disconnectGraph:f}=h(e,t,u,p,c)),g&&d()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw s();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return p.gain},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2])};let g=!1;return o(Ut(m,c),(()=>{d(),g=!0}),(()=>{f(),g=!1}))}})(ln,Wt,zt,Ln,Zt,rn),Yn=((t,e)=>(n,i)=>{const s=i.channelCountMode;if("clamped-max"===s)throw e();if(void 0===n.createStereoPanner)return t(n,i);const o=n.createStereoPanner();return Vt(o,i),Bt(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>s,set:t=>{if(t!==s)throw e()}}),o})(Xn,Zt),Zn=((t,e,n,i,s)=>()=>{const o=new WeakMap;return{render(r,a){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(r,a)=>{let l=n(r);const c=P(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return o.set(a,l),c?await t(a,r.pan,l.pan):await i(a,r.pan,l.pan),$(l)?await s(r,a,l.inputs[0]):await s(r,a,l),l})(r,a)}}})(Ye,Yn,nt,$e,Te),$n=((t,e,n,i,s,o)=>class extends t{constructor(t,r){const a=s(t),l={...te,...r},c=n(a,l),u=o(a);super(t,!1,c,u?i():null),this._pan=e(this,u,c.pan)}get pan(){return this._pan}})(Ne,Je,Yn,Zn,Ce,Me),Qn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,o){const r=i.get(o);return void 0!==r?Promise.resolve(r):(async(s,o)=>{let r=e(s);if(!P(r,o)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,curve:r.curve,oversample:r.oversample};r=t(o,e)}return i.set(o,r),$(r)?await n(s,o,r.inputs[0]):await n(s,o,r),r})(s,o)}}})(Ln,nt,Te),Jn=((t,e,n,i,s,o,r)=>class extends t{constructor(t,e){const a=s(t),l={...ne,...e},c=n(a,l);super(t,!0,c,o(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,r(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Ne,Mt,Ln,Qn,Ce,Me,sn),Kn=(t=>null!==t&&t.isSecureContext)(xe),ti=(t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(xe),ei=new WeakMap,ni=((t,e)=>n=>{let i=t.get(n);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i})(ei,ke),ii=Kn?((t,e,n,i,s,o,r,a,l,c,u,h,p)=>{let d=0;return(f,m,v={credentials:"omit"})=>{const y=u.get(f);if(void 0!==y&&y.has(m))return Promise.resolve();const _=c.get(f);if(void 0!==_){const t=_.get(m);if(void 0!==t)return t}const T=o(f),S=void 0===T.audioWorklet?s(m).then((([t,e])=>{const[i,s]=x(t,e);return n(`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${s}\n})})(window,'_AWGS')`)})).then((()=>{const t=p._AWGS.pop();if(void 0===t)throw new SyntaxError;i(T.currentTime,T.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const i=g.get(T);if(void 0!==i){if(i.has(t))throw e();w(n),b(n.parameterDescriptors),i.set(t,n)}else w(n),b(n.parameterDescriptors),g.set(T,new Map([[t,n]]))}),T.sampleRate,void 0,void 0)))})):Promise.all([s(m),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const i=d+1;d=i;const[s,o]=x(t,e),c=new Blob([`${s};((AudioWorkletProcessor,registerProcessor)=>{${o}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${i}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(c);return T.audioWorklet.addModule(u,v).then((()=>{if(a(T))return T;const t=r(T);return t.audioWorklet.addModule(u,v).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${i}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));return void 0===_?c.set(f,new Map([[m,S]])):_.set(m,S),S.then((()=>{const t=u.get(f);void 0===t?u.set(f,new Set([m])):t.add(m)})).finally((()=>{const t=c.get(f);void 0!==t&&t.delete(m)})),S}})(ve,Zt,(t=>e=>new Promise(((n,i)=>{if(null===t)return void i(new SyntaxError);const s=t.document.head;if(null===s)i(new SyntaxError);else{const o=t.document.createElement("script"),r=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(r),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,s,o,r)=>n===a||n===t.location.href&&1===s&&1===o?(c(),i(r),!1):null!==l?l(e,n,s,o,r):void 0,o.onerror=()=>{c(),i(new SyntaxError)},o.onload=()=>{c(),n()},o.src=a,o.type="module",s.appendChild(o)}})))(xe),ti,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),Ce,ni,Me,Ve,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),s=URL.createObjectURL(n);let o=!1,r=!1;try{await i.audioWorklet.addModule(s);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>o=!0,e.onprocessorerror=()=>r=!0,n.connect(e),n.start(0),await i.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(s)}return o&&!r})(Ve,ke),xe):void 0,si=((t,e)=>n=>t(n)||e(n))(Pe,Me),oi=((t,e,n,i,s,o,r,a,l,c,u)=>(n,i)=>{const h=r(n)?n:o(n);if(s.has(i)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{s.add(i)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(i).then((n=>(Tt(i).catch((()=>{})),e(a,(()=>a(n)))||u(n),t.add(n),n))):new Promise(((e,n)=>{const s=async()=>{try{await Tt(i)}catch{}},o=t=>{n(t),s()};try{h.decodeAudioData(i,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),V(n)),t.add(n),s().then((()=>e(n)))}),(t=>{o(null===t?new DOMException("","EncodingError"):t)}))}catch(t){o(t)}}))})(Fe,ve,0,0,new WeakSet,Ce,si,D,Dt,Ue,He),ri=((t,e,n,i,s,o,r,a,l,c,u,h,p,d,f,m,g,v,y,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(t=6){return new o(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new r(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(t,e){return new d(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(ii,qe,ze,tn,on,un,pn,gn,_n,oi,bn,Sn,An,En,Rn,Bn,Hn,Gn,$n,Jn),ai=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),o=((t,e)=>t.createMediaElementSource(e.mediaElement))(s,e);if(i(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ne,0,Ce,Me),li=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t);if(i(s))throw new TypeError;const o=((t,e)=>{const n=t.createMediaStreamDestination();return Vt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(s,{...Pt,...e});super(t,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ne,0,Ce,Me),ci=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),o=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const i=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:e}),s})(s,e);if(i(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ne,0,Ce,Me),ui=((t,e)=>(n,{mediaStreamTrack:i})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),o=n.createMediaStreamSource(s);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return o})(Mt,Me),hi=((t,e,n)=>class extends t{constructor(t,i){const s=n(t);super(t,!0,e(s,i),null)}})(Ne,ui,Ce),pi=((t,e,n,i,s,o,r,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw i();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:s}=t,{sampleRate:o}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===s?512/o:"interactive"===s||void 0===s?256/o:"playback"===s?1024/o:128*Math.max(2,Math.min(128,Math.round(s*o/128)))/o,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),H(this)})))}createMediaElementSource(t){return new s(this,{mediaElement:t})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(t){return new r(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(ri,Mt,Zt,ee,ai,li,ci,hi,Ee),di=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Dn),fi=(t=>(e,n)=>{t(e).add(n)})(di),mi=(t=>(e,n,i=0,s=0)=>{const o=e[i];if(void 0===o)throw t();return lt(n)?o.connect(n,0,s):o.connect(n,0)})(R),gi=(t=>(e,n)=>{t(e).delete(n)})(di),vi=(t=>(e,n=void 0,i=void 0,s=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?Ct(t,e,n).disconnect():lt(n)?void 0===i?e.forEach((t=>t.disconnect(n))):void 0===s?Ct(t,e,i).disconnect(n,0):Ct(t,e,i).disconnect(n,0,s):void 0===i?e.forEach((t=>t.disconnect(n))):Ct(t,e,i).disconnect(n,0))(R),yi=new WeakMap,_i=((t,e)=>n=>e(t,n))(yi,T),xi=((t,e,n,i,s,o,r,a,l,c,u,h,p)=>(d,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((t=>t<1)))throw l();if(y.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw l();const _=g.channelCount*g.numberOfInputs,x=y.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+b>6||x>6)throw l();const w=new MessageChannel,T=[],S=[];for(let t=0;t<g.numberOfInputs;t+=1)T.push(r(d,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),S.push(s(d,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const s=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[i]?g.parameterData[i]:void 0===t?0:t});Object.defineProperties(s.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?q:e},minValue:{get:()=>void 0===n?B:n}}),C.push(s)}const A=i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+b)}),k=Lt(f,d.sampleRate),M=a(d,k,_+b,Math.max(1,x)),O=s(d,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),I=[];for(let t=0;t<g.numberOfOutputs;t+=1)I.push(i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<g.numberOfInputs;t+=1){T[t].connect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[t].connect(A,e,t*g.channelCount+e)}const E=new pt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=C[e];return n.connect(A,0,_+e),n.start(0),[t,n.offset]})));A.connect(M);let P=g.channelInterpretation,D=null;const R=0===g.numberOfOutputs?[M]:I,V={get bufferSize(){return k},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return P},set channelInterpretation(t){for(const e of T)e.channelInterpretation=t;P=t},get context(){return M.context},get inputs(){return T},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(t){"function"==typeof D&&V.removeEventListener("processorerror",D),D="function"==typeof t?t:null,"function"==typeof D&&V.addEventListener("processorerror",D)},get parameters(){return E},get port(){return w.port2},addEventListener:(...t)=>M.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,R),disconnect:c.bind(null,R),dispatchEvent:(...t)=>M.dispatchEvent(t[0]),removeEventListener:(...t)=>M.removeEventListener(t[0],t[1],t[2])},N=new Map;var F,L;w.port1.addEventListener=(F=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(d.currentTime,d.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return F.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(L=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return L.call(w.port1,t[0],t[1],t[2])});let j=null;Object.defineProperty(w.port1,"onmessage",{get:()=>j,set:t=>{"function"==typeof j&&w.port1.removeEventListener("message",j),j="function"==typeof t?t:null,"function"==typeof j&&(w.port1.addEventListener("message",j),w.port1.start())}}),m.prototype.port=w.port1;let W=null;const U=((t,e,n,i)=>{let s=v.get(t);void 0===s&&(s=new WeakMap,v.set(t,s));const o=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:t})=>{i.close(),s.close(),e(t)},i.onmessageerror=({data:t})=>{i.close(),s.close(),n(t)},s.postMessage(t)})))(e);return new t(n)})(n,i);return s.set(e,o),o})(d,V,m,g);U.then((t=>W=t));const H=gt(g.numberOfInputs,g.channelCount),z=gt(g.numberOfOutputs,y),G=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let X=!0;const Y=()=>{g.numberOfOutputs>0&&M.disconnect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=I[t];for(let i=0;i<y[t];i+=1)O.disconnect(n,e+i,i);e+=y[t]}},Z=new Map;M.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==W){const n=h(V);for(let i=0;i<k;i+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)ft(t,H[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{ft(t,G,e,_+n,i)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const t=H.map(((t,e)=>{if(n[e].size>0)return Z.set(e,k/128),t;const i=Z.get(e);return void 0===i?[]:(t.every((t=>t.every((t=>0===t))))&&(1===i?Z.delete(e):Z.set(e,i-1)),t)})),s=u(d.currentTime+i/d.sampleRate,d.sampleRate,(()=>W.process(t,z,G)));X=s;for(let t=0,n=0;t<g.numberOfOutputs;t+=1){for(let s=0;s<y[t];s+=1)mt(e,z[t],s,n+s,i);n+=y[t]}}catch(t){X=!1,V.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!X){for(let t=0;t<g.numberOfInputs;t+=1){T[t].disconnect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[i].disconnect(A,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(A,0,_+e),t.stop()}}A.disconnect(M),M.onaudioprocess=null,$?Y():K();break}}}};let $=!1;const Q=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),J=()=>M.connect(Q).connect(d.destination),K=()=>{M.disconnect(Q),Q.disconnect()};return J(),p(V,(()=>{if(X){K(),g.numberOfOutputs>0&&M.connect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=I[t];for(let i=0;i<y[t];i+=1)O.connect(n,e+i,i);e+=y[t]}}$=!0}),(()=>{X&&(J(),Y()),$=!1}))})(mi,R,Mt,ln,Wt,fn,zt,Yt,Zt,vi,ti,_i,rn),bi=((t,e,n,i,s)=>(o,r,a,l,c,u)=>{if(null!==a)try{const e=new a(o,l,u),i=new Map;let r=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>r,set:t=>{"function"==typeof r&&e.removeEventListener("processorerror",r),r="function"==typeof t?t:null,"function"==typeof r&&e.addEventListener("processorerror",r)}}}),e.addEventListener=(p=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=i.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},i.set(e,t[1]))}}return p.call(e,"error",t[1],t[2]),p.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=i.get(t[1]);void 0!==e&&(i.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(o.destination),s(e,(()=>t.disconnect()),(()=>t.connect(o.destination)))}return e}catch(t){if(11===t.code)throw i();throw t}var h,p;if(void 0===c)throw i();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(o,r,c,u)})(Mt,xi,zt,Zt,rn),wi=((t,e,n,i,s,o,r,a,l,c,u,h,p,d,f,m)=>(g,v,y)=>{const _=new WeakMap;let x=null;return{render(b,w){a(w,b);const T=_.get(w);return void 0!==T?Promise.resolve(T):(async(a,b)=>{let w=u(a),T=null;const S=P(w,b),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=s(b,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),o=[];for(let t=0;t<a.numberOfOutputs;t+=1)o.push(i(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const c=r(b,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=e.bind(null,o),c.disconnect=l.bind(null,o),T=[n,o,c]}else S||(w=new h(b,g));if(_.set(b,null===T?w:T[2]),null!==T){if(null===x){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===p)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=t+e,l=async()=>{const l=new p(n,128*Math.ceil(a.context.length/128),b.sampleRate),c=[],u=[];for(let t=0;t<v.numberOfInputs;t+=1)c.push(r(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(s(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=o(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await d(l,t,e.offset),e}))),g=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<v.channelCount;e+=1)u[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(c.map((t=>f(a,l,t)))),m(l)};x=vt(a,0===n?null:await l(),b,v,C,y,c)}const t=await x,e=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=T;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=u[t];for(let i=0;i<C[t];i+=1)l.connect(n,e+i,i);e+=C[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(b,n,w.parameters.get(e));else for(const[t,e]of a.parameters.entries())await d(b,e,w.parameters.get(t));return await f(a,b,w),w})(b,w)}}})(Ye,mi,Ze,ln,Wt,fn,zt,gi,vi,ti,nt,Ve,ke,$e,Te,Mn),Ti=(t=>e=>t.get(e))(ei),Si=(t=>(e,n)=>{t.set(e,n)})(yi),Ci=Kn?((t,e,n,i,s,o,r,a,l,c,u,h,p,d)=>class extends e{constructor(e,u,p){var d;const f=a(e),m=l(f),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...dt,...p});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(v);const y=g.get(f),_=null==y?void 0:y.get(u),x=m||"closed"!==f.state?f:null!==(d=r(f))&&void 0!==d?d:f,b=s(x,m?null:e.baseLatency,c,u,_,v);super(e,!0,b,m?i(u,v,_):null);const w=[];b.parameters.forEach(((t,e)=>{const i=n(this,m,t);w.push([e,i])})),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new pt(w),m&&t(f,this);const{activeInputs:T}=o(this);h(b,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(fi,Ne,Je,wi,bi,j,Ti,Ce,Me,Ve,0,Si,0,he):void 0,Ai=((t,e)=>(n,i,s)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,s)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Zt,ke),ki=((t,e,n,i,s,o,r,a)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(i(c)).map((t=>n(t).render(t,c)))))).then((()=>s(c))).then((n=>("function"!=typeof n.copyFromChannel?(r(n),V(n)):e(o,(()=>o(n)))||a(n),t.add(n),n))))(Fe,ve,we,di,Mn,D,Ue,He),Mi=((t,e,n,i,s)=>class extends t{constructor(t,n,s){let o;if("number"==typeof t&&void 0!==n&&void 0!==s)o={length:n,numberOfChannels:t,sampleRate:s};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");o=t}const{length:r,numberOfChannels:a,sampleRate:l}={...$t,...o},c=i(a,r,l);e(Dt,(()=>Dt(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=r,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,H(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(ri,ve,Mt,Ai,ki),Oi=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Pe),Ii=((t,e)=>n=>t.has(n)||e(n))(u,De),Ei=((t,e)=>n=>t.has(n)||e(n))(p,Re),Pi=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Me);function Di(t,e){if(!t)throw new Error(e)}function Ri(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vi(t){t.isOffline||"running"===t.state||Bi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ni=console;function Bi(...t){Ni.warn(...t)}function qi(t){return void 0===t}function Fi(t){return!qi(t)}function Li(t){return"number"==typeof t}function ji(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Wi(t){return Array.isArray(t)}function Ui(t){return"string"==typeof t}function Hi(t){return Ui(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const zi="object"==typeof self?self:null,Gi=zi&&(zi.hasOwnProperty("AudioContext")||zi.hasOwnProperty("webkitAudioContext"));function Xi(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}function Yi(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((i=i.apply(t,e||[])).next())}))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class Zi{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function $i(t){return Ei(t)}function Qi(t){return Ii(t)}function Ji(t){return Pi(t)}function Ki(t){return Oi(t)}function ts(t){return t instanceof AudioBuffer}function es(t,e){return"value"===t||$i(e)||Qi(e)||ts(e)}function ns(t,...e){if(!e.length)return t;const n=e.shift();if(ji(t)&&ji(n))for(const e in n)es(e,n[e])?t[e]=n[e]:ji(n[e])?(t[e]||Object.assign(t,{[e]:{}}),ns(t[e],n[e])):Object.assign(t,{[e]:n[e]});return ns(t,...e)}function is(t,e,n=[],i){const s={},o=Array.from(e);if(ji(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some((e=>Reflect.has(t,e)))||(ns(s,{[i]:o[0]}),n.splice(n.indexOf(i),1),o.shift())),1===o.length&&ji(o[0]))ns(s,o[0]);else for(let t=0;t<n.length;t++)Fi(o[t])&&(s[n[t]]=o[t]);return ns(t,s)}function ss(t,e){return qi(t)?e:t}function os(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class rs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||zi&&this.toString()===zi.TONE_DEBUG_CLASS)&&function(...t){Ni.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}rs.version=r;const as=1e-6;function ls(t,e){return t>e+as}function cs(t,e){return ls(t,e)||hs(t,e)}function us(t,e){return t+as<e}function hs(t,e){return Math.abs(t-e)<as}class ps extends rs{constructor(){super(),this.name="Timeline",this._timeline=[];const t=is(ps.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Di(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Di(cs(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(hs(this._timeline[e].time,t)){for(let n=e;n>=0&&hs(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&cs(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;for(;n<s;){let i=Math.floor(n+(s-n)/2);const o=this._timeline[i],r=this._timeline[i+1];if(hs(o[e],t)){for(let n=i;n<this._timeline.length&&hs(this._timeline[n][e],t);n++)i=n;return i}if(us(o[e],t)&&ls(r[e],t))return i;ls(o[e],t)?s=i:n=i+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),s=this._search(e);return-1!==i&&-1!==s?(this._timeline[i].time!==t&&(i+=1),this._timeline[s].time===e&&(s-=1),this._iterate(n,i,s)):-1===i&&this._iterate(n,0,s),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&hs(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0&&hs(this._timeline[e].time,t);e--)i=e;this._iterate((t=>{e(t)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ds=[];function fs(t){ds.push(t)}const ms=[];function gs(t){ms.push(t)}class vs extends rs{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...i)=>{e(...i),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(qi(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,i=n.length;t<i;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(vs.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class ys extends vs{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class _s extends ys{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new ps,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=is(_s.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new pi(t)}({latencyHint:t.latencyHint}),this._ticker=new Zi(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,ds.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Di(Ki(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Di(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Di(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Di(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Di(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Di(Fi(Ci),"This node only works in a secure context (https or localhost)"),new Ci(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Yi(this,void 0,void 0,(function*(){Di(Fi(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Yi(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Ui(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ki(this._context)?this._context.resume():Promise.resolve()}close(){return Yi(this,void 0,void 0,(function*(){var t;Ki(this._context)&&(yield this._context.close()),this._initialized&&(t=this,ms.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:s+e})};return i(),n}}function xs(t,e){Wi(e)?e.forEach((e=>xs(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function bs(t,e){Wi(e)?e.forEach((e=>bs(t,e))):Object.defineProperty(t,e,{writable:!0})}const ws=()=>{};class Ts extends rs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ws;const t=is(Ts.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ts(t.url)||t.url instanceof Ts?this.set(t.url):Ui(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:ws,onload:ws,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ks().sampleRate}set(t){return t instanceof Ts?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Yi(this,void 0,void 0,(function*(){const e=Ts.load(t).then((t=>{this.set(t),this.onload(this)}));Ts.downloads.push(e);try{yield e}finally{const t=Ts.downloads.indexOf(e);Ts.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Wi(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,s=ks(),o=s.createBuffer(n,i,s.sampleRate),r=e||1!==n?t:[t];for(let t=0;t<n;t++)o.copyToChannel(r[t],t);return this._buffer=o,this}toMono(t){if(Li(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Li(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);Di(n<i,"The start time must be less than the end time");const s=i-n,o=ks().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)o.copyToChannel(this.getChannelData(t).subarray(n,i),t);return new Ts(o)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Ts).fromArray(t)}static fromUrl(t){return Yi(this,void 0,void 0,(function*(){const e=new Ts;return yield e.load(t)}))}static load(t){return Yi(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(Ts.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===Ts.baseUrl||Ts.baseUrl.endsWith("/")?Ts.baseUrl:Ts.baseUrl+"/",i=yield fetch(n+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const s=yield i.arrayBuffer();return yield ks().decodeAudioData(s)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Yi(this,void 0,void 0,(function*(){for(yield Promise.resolve();Ts.downloads.length;)yield Ts.downloads[0]}))}}Ts.baseUrl="",Ts.downloads=[];class Ss extends _s{constructor(){var t,e,n;super({clockSource:"offline",context:Ji(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Mi(t,e,n)),lookAhead:0,updateInterval:Ji(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ji(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Yi(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return Yi(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Ts(e)}))}close(){return Promise.resolve()}}const Cs=new class extends ys{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Yi(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let As=Cs;function ks(){return As===Cs&&Gi&&(t=new _s,As=Ki(t)?new _s(t):Ji(t)?new Ss(t):t),As;var t}if(zi&&!zi.TONE_SILENCE_LOGGING){const t=` * Tone.js ${"v"}${r} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Ms(t){return Math.pow(2,t/12)}let Os=440;function Is(t){return Math.round(Es(t))}function Es(t){return 69+12*Math.log2(t/Os)}class Ps extends rs{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ps&&this.fromType(this._val),qi(this._val))return this._noArg();if(Ui(this._val)&&qi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ji(this._val)){let t=0;for(const e in this._val)if(Fi(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Fi(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Ui(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Ds extends Ps{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Ds(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],i=new Ds(this.context,e[0]).toSeconds();return e.forEach((e=>{const s=new Ds(this.context,e).toSeconds();Math.abs(s-t)<Math.abs(i-t)&&(n=e,i=s)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[n,e,i].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Is(this.toFrequency())}_now(){return this.context.now()}}class Rs extends Ds{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Os}static set A4(t){!function(t){Os=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Rs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Vs[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Rs.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new Rs(this.context,this.valueOf()*Ms(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Is(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Rs.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);return i<0&&(n+=-12*i),Ns[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return Os*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return Is(t)}}const Vs={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Ns=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Bs extends Ds{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qs extends rs{constructor(){super();const t=is(qs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ks()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Ds(this.context,t).toSeconds()}toFrequency(t){return new Rs(this.context,t).toFrequency()}toTicks(t){return new Bs(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{qi(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Fi(n)&&Fi(n.value)&&Fi(n.setValueAtTime)?t[e]=n.value:n instanceof qs?t[e]=n._getPartialProperties(t[e]):Wi(n)||Li(n)||Ui(n)||"boolean"==typeof n?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Fi(this[e])&&(this[e]&&Fi(this[e].value)&&Fi(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof qs?this[e].set(t[e]):this[e]=t[e])})),this}}class Fs extends ps{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ri(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class Ls extends qs{constructor(){super(is(Ls.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=is(Ls.getDefaults(),arguments,["param","units","convert"]);for(Di(Fi(t.param)&&($i(t.param)||t.param instanceof Ls),"param must be an AudioParam");!$i(t.param);)t.param=t.param._param;this._swappable=!!Fi(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new ps(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Fi(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qs.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Fi(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Fi(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Fi(this.maxValue)&&Fi(this.minValue)&&Ri(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?(e=t,Math.log(e)/Math.LN10*20):t;var e}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return Di(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let s=this._initialValue;if(null===i)s=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)s=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}s="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else s=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(s=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(s)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=hs(n,0)?this._minOutput:n,this._assertRange(n);const i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);Di(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(e);return this._assertRange(i),Di(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,s,n),this._param.setTargetAtTime(i,s,n),this}setValueCurveAtTime(t,e,n,i=1){n=this.toSeconds(n),e=this.toSeconds(e);const s=this._fromType(t[0])*i;this.setValueAtTime(this._toType(s),e);const o=n/(t.length-1);for(let n=1;n<t.length;n++){const s=this._fromType(t[n])*i;this.linearRampToValueAtTime(this._toType(s),e+n*o)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Di(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Di(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),s=this._events.getAfter(e);return i&&hs(i.time,e)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),"linearRampToValueAtTime"===s.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===s.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),s=i?i.time:e+2,o=(s-e)/10;for(let n=e;n<s;n+=o)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Di(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,s){return n+(e-n)*Math.exp(-(s-t)/i)}_linearInterpolate(t,e,n,i,s){return e+(s-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,s){return e*Math.pow(i/e,(s-t)/(n-t))}}class js extends qs{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Fi(this.input)?$i(this.input)||this.input instanceof Ls?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Fi(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Fi(t)&&(t instanceof js||Qi(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Di(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Us(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Bi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,i=0){if(Fi(e))for(;e instanceof js;)e=e.input;for(;!Qi(t);)Fi(t.output)&&(t=t.output);$i(e)?t.disconnect(e,n):Qi(e)?t.disconnect(e,n,i):t.disconnect()}(this,t,e,n),this}chain(...t){return Ws(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Fi(this.input)&&(this.input instanceof js?this.input.dispose():Qi(this.input)&&this.input.disconnect()),Fi(this.output)&&(this.output instanceof js?this.output.dispose():Qi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ws(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof js?t.connect(e):Qi(t)&&Us(t,e),e)),e)}function Us(t,e,n=0,i=0){for(Di(Fi(t),"Cannot connect from undefined node"),Di(Fi(e),"Cannot connect to undefined node"),(e instanceof js||Qi(e))&&Di(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Di(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof js||e instanceof Ls;)Fi(e.input)&&(e=e.input);for(;t instanceof js;)Fi(t.output)&&(t=t.output);$i(e)?t.connect(e,n):t.connect(e,n,i)}class Hs extends js{constructor(){super(is(Hs.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=is(Hs.getDefaults(),arguments,["gain","units"]);this.gain=new Ls({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),xs(this,"gain")}static getDefaults(){return Object.assign(js.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class zs extends js{constructor(t){super(t),this.onended=ws,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Hs({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(js.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ws})}_startGain(t,e=1){Di(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Di(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ws&&(this.onended(this),this.onended=ws,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Di(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Gs extends zs{constructor(){super(is(Gs.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=is(Gs.getDefaults(),arguments,["offset"]);Us(this._source,this._gainNode),this.offset=new Ls({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(zs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Xs extends js{constructor(){super(is(Xs.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=is(Xs.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Gs({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(js.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Ys(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Ys(t,e,n,i){(e instanceof Ls||$i(e)||e instanceof Xs&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Xs&&(e.overridden=!0)),Us(t,e,n,i)}class Zs extends Ls{constructor(){super(is(Zs.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new ps(1/0),this._multiplier=1;const t=is(Zs.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ls.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),s=this._events.get(e),o=Math.round(Math.max(1/n,1));for(let t=0;t<=o;t++){const o=n*t+e,r=this._exponentialApproach(s.time,s.value,i,n,o);this.linearRampToValueAtTime(this._toType(r),o)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(10*(e-i.time),1)),o=(e-i.time)/s;for(let t=0;t<=s;t++){const s=o*t+i.time,r=this._exponentialInterpolate(i.time,i.value,e,n,s);this.linearRampToValueAtTime(this._toType(r),s)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(qi(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const s=this._events.get(e);return s&&s.time===e&&"setValueAtTime"===s.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),s=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-e.time),o=Math.sqrt(Math.pow(i,2)-2*s*(e.ticks-t)),r=(-i+o)/s;return(r>0?r:(-i-o)/s)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),s=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-s}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class $s extends Xs{constructor(){super(is($s.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=is($s.getDefaults(),arguments,["value"]);this.input=this._param=new Zs({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Xs.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Qs extends qs{constructor(){super(is(Qs.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Fs,this._tickOffset=new ps;const t=is(Qs.getDefaults(),arguments,["frequency"]);this.frequency=new $s({context:this.context,units:t.units,value:t.frequency}),xs(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Fi(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let s=n,o=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(o=n.ticks,e=n.time),"started"===s.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),s=t})),this._state.remove(i),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let i=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.seconds,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=t.time-e),i=t})),this._state.remove(n),s}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),i=this._state.get(e),s=Math.max(n.time,i.time),o=this.frequency.getTicksAtTime(s)+t-n.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,(e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e}));let s=null;if(i&&"started"===i.state){const o=Math.max(i.time,t),r=this.frequency.getTicksAtTime(o),a=r-this.frequency.getTicksAtTime(i.time);let l=Math.ceil(a)-a;l=hs(l,1)?0:l;let c=this.frequency.getTimeOfTick(r+l);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){s=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Js extends qs{constructor(){super(is(Js.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ws,this._lastUpdate=0,this._state=new Fs("stopped"),this._boundLoop=this._loop.bind(this);const t=is(Js.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Qs({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xs(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qs.getDefaults(),{callback:ws,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Vi(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}vs.mixin(Js);class Ks extends rs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=is(Ks.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:ws,onload:ws,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Di(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=ws,i=ws){return Ui(e)?this._buffers.set(t.toString(),new Ts(this.baseUrl+e,n,i)):this._buffers.set(t.toString(),new Ts(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class to extends Bs{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class eo extends qs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ps,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}fs((t=>{t.draw=new eo({context:t})})),gs((t=>{t.draw.dispose()}));class no extends rs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Di(Fi(t.time),"Events must have a time property"),Di(Fi(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new io(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class io{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class so extends js{constructor(){super(is(so.getDefaults(),arguments,["volume"])),this.name="Volume";const t=is(so.getDefaults(),arguments,["volume"]);this.input=this.output=new Hs({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,xs(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class oo extends js{constructor(){super(is(oo.getDefaults(),arguments)),this.name="Destination",this.input=new so({context:this.context}),this.output=new Hs({context:this.context}),this.volume=this.input.volume;const t=is(oo.getDefaults(),arguments);Ws(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Ws(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}fs((t=>{t.destination=new oo({context:t})})),gs((t=>{t.destination.dispose()}));class ro extends rs{constructor(t){super(),this.name="TimelineValue",this._timeline=new ps({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ao{constructor(t,e){this.id=ao._eventId++;const n=Object.assign(ao.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:ws,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ao._eventId=0;class lo extends ao{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(lo.getDefaults(),e);this.duration=new to(t.context,n.duration).valueOf(),this._interval=new to(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ao.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new to(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class co extends qs{constructor(){super(is(co.getDefaults(),arguments)),this.name="Transport",this._loop=new ro(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ps,this._repeatedEvents=new no,this._syncedSignals=[],this._swingAmount=0;const t=is(co.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Js({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),xs(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new to(this.context,2*this._swingTicks/3).toSeconds()*i}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new ao(this,{callback:t,time:new Bs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,i=1/0){const s=new lo(this,{callback:t,duration:new Ds(this.context,i).toTicks(),interval:new Ds(this.context,e).toTicks(),time:new Bs(this.context,n).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(t,e){const n=new ao(this,{callback:t,once:!0,time:new Bs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new to(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Fi(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Wi(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Ds(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Ds(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new to(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new to(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new Hs(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bs(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}vs.mixin(co),fs((t=>{t.transport=new co({context:t})})),gs((t=>{t.transport.dispose()}));class uo extends js{constructor(t){super(t),this.input=void 0,this._state=new Fs("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ws,this._syncedStop=ws,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new so({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,xs(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,onstop:ws,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(ss(e,0)),t.duration=n?this.toSeconds(n):void 0);const s=this.context.transport.schedule((t=>{this._start(t,e,n)}),i);this._scheduled.push(s),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vi(this.context),this._start(i,e,n);else Di(ls(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Fi(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let s;n.duration&&(s=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,s)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ws,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ho extends zs{constructor(){super(is(ho.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=is(ho.getDefaults(),arguments,["url","onload"]);Us(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ls({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Ts(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(zs.getDefaults(),{url:new Ts,loop:!1,loopEnd:0,loopStart:0,onload:ws,onerror:ws,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,i=1){Di(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(t);this._startGain(s,i),e=this.loop?ss(e,this.loopStart):ss(e,0);let o=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;cs(o,t)&&(o=(o-e)%n+e),hs(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,us(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,o)),Fi(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(s+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function po(t,e){return Yi(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new Ss(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)}))}class fo extends zs{constructor(){super(is(fo.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=is(fo.getDefaults(),arguments,["frequency","type"]);Us(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ls({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ls({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),xs(this,["frequency","detune"])}static getDefaults(){return Object.assign(zs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class mo extends uo{constructor(){super(is(mo.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=is(mo.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),xs(this,"frequency"),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),xs(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new fo({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return mo._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=mo._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Fi(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),mo._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),mo._periodicWaveCache.length>100&&mo._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ri(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const i=new Float32Array(n),s=new Float32Array(n);let o=1;if("custom"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,n=o,0===this._partials.length)return[i,s]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),n=o):this._partialCount=0,this._partials=[]}for(let r=1;r<n;++r){const n=2/(r*Math.PI);let a;switch(t){case"sine":a=r<=o?1:0,this._partials[r-1]=a;break;case"square":a=1&r?2*n:0,this._partials[r-1]=a;break;case"sawtooth":a=n*(1&r?1:-1),this._partials[r-1]=a;break;case"triangle":a=1&r?n*n*2*(r-1>>1&1?-1:1):0,this._partials[r-1]=a;break;case"custom":a=this._partials[r-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(i[r]=-a*Math.sin(e*r),s[r]=a*Math.cos(e*r)):(i[r]=0,s[r]=0)}return[i,s]}_inverseFFT(t,e,n){let i=0;const s=t.length;for(let o=0;o<s;o++)i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let s=0;s<32;s++)n=Math.max(this._inverseFFT(t,e,s/32*i),n);return s=-this._inverseFFT(t,e,this._phase)/n,-1,1,Math.max(Math.min(s,1),-1);var s}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}mo._periodicWaveCache=[];class go extends js{constructor(){super(Object.assign(is(go.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Ys(this,t,e,n),this}}class vo extends go{constructor(){super(Object.assign(is(vo.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=is(vo.getDefaults(),arguments,["mapping","length"]);Wi(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Xs.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let i=0,s=e;i<s;i++){const e=i/(s-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Di(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class yo extends go{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new vo({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class _o extends Xs{constructor(){super(Object.assign(is(_o.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=is(_o.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Hs({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Xs.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class xo extends uo{constructor(){super(is(xo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new yo({context:this.context}),this._modulationNode=new Hs({context:this.context});const t=is(xo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new mo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new _o({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xs(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(mo.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class bo extends uo{constructor(){super(is(bo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Hs({context:this.context,gain:0});const t=is(bo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new mo({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new mo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new _o({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new _o({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xs(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(mo.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class wo extends uo{constructor(){super(is(wo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Hs({context:this.context,gain:0}),this._thresh=new vo({context:this.context,mapping:t=>t<=0?-1:1});const t=is(wo.getDefaults(),arguments,["frequency","width"]);this.width=new Xs({context:this.context,units:"audioRange",value:t.width}),this._triangle=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xs(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class To extends uo{constructor(){super(is(To.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=is(To.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,xs(this,["frequency","detune"])}static getDefaults(){return Object.assign(mo.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+n*i))}}get count(){return this._oscillators.length}set count(t){if(Ri(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new mo({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):ws});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class So extends uo{constructor(){super(is(So.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new _o({context:this.context,value:2});const t=is(So.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new wo({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new mo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xs(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Co={am:xo,fat:To,fm:bo,oscillator:mo,pulse:wo,pwm:So};class Ao extends uo{constructor(){super(is(Ao.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=is(Ao.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xs({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xs({context:this.context,units:"cents",value:t.detune}),xs(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(mo.getDefaults(),bo.getDefaults(),xo.getDefaults(),To.getDefaults(),wo.getDefaults(),So.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Co[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Co[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Li(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Li(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ui(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){return po(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function ko(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(i,t,e),n.set(this,i)}})}}function Mo(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(this.toSeconds(i),t,e),n.set(this,i)}})}}class Oo extends uo{constructor(){super(is(Oo.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=is(Oo.getDefaults(),arguments,["url","onload"]);this._buffer=new Ts({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(uo.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ws,onerror:ws,playbackRate:1,reverse:!1})}load(t){return Yi(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=ws){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?ss(e,this._loopStart):ss(e,0);const i=this.toSeconds(e),s=n;n=ss(n,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(n);o/=this._playbackRate,t=this.toSeconds(t);const r=new ho({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+o),this._state.setStateAtTime("stopped",t+o,{implicitEnd:!0})),this._activeSources.add(r),this._loop&&qi(s)?r.start(t,i):r.start(t,i,o-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Xi([Mo(0)],Oo.prototype,"fadeIn",void 0),Xi([Mo(0)],Oo.prototype,"fadeOut",void 0);class Io extends js{constructor(){super(is(Io.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Xs({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=is(Io.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(js.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Ui(t))return t;{let n;for(n in Eo)if(Eo[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Ui(n)&&Reflect.has(Eo,n)){const i=Eo[n];ji(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!Wi(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Di(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),s=this.getValueAtTime(t);if(s>0&&(n=(1-s)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let t=1;t<i.length;t++)if(i[t-1]<=s&&s<=i[t]){i=this._attackCurve.slice(t),i[0]=s;break}this._sig.setValueCurveAtTime(i,t,n,e)}if(i&&this.sustain<1){const s=e*this.sustain,o=t+n;this.log("decay",o),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(s,i+o):this._sig.exponentialApproachValueAtTime(s,o,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Di(Wi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Ys(this,t,e,n),this}asArray(t=1024){return Yi(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Ss(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),o=.1*s,r=s+o,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/r,decay:e*this.toSeconds(this.decay)/r,release:e*this.toSeconds(this.release)/r,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(i+o)/r,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Xi([Mo(0)],Io.prototype,"attack",void 0),Xi([Mo(0)],Io.prototype,"decay",void 0),Xi([ko(0,1)],Io.prototype,"sustain",void 0),Xi([Mo(0)],Io.prototype,"release",void 0);const Eo=(()=>{const t=128;let e,n;const i=[];for(e=0;e<t;e++)i[e]=Math.sin(e/127*(Math.PI/2));const s=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;s[e]=t/10+.83*n}s[127]=1;const o=[];for(e=0;e<t;e++)o[e]=Math.ceil(e/127*5)/5;const r=[];for(e=0;e<t;e++)n=e/127,r[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,i=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(i*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:i,Out:(c=i,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:s,Out:l(s)},sine:{In:r,Out:l(r)},step:{In:o,Out:l(o)}};var c})();class Po extends js{constructor(){super(is(Po.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=is(Po.getDefaults(),arguments);this._volume=this.output=new so({context:this.context,volume:t.volume}),this.volume=this._volume.volume,xs(this,"volume")}static getDefaults(){return Object.assign(js.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const i=t[e],s=this.context.transport.schedule((i=>{t[e]=i,n.apply(this,t)}),i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,i){const s=this.toSeconds(n),o=this.toSeconds(e);return this.triggerAttack(t,s,i),this.triggerRelease(s+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Do extends Po{constructor(){super(is(Do.getDefaults(),arguments));const t=is(Do.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Po.getDefaults(),{detune:0,onsilence:ws,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof Rs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}Xi([Mo(0)],Do.prototype,"portamento",void 0);class Ro extends Io{constructor(){super(is(Ro.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Hs({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Vo extends Do{constructor(){super(is(Vo.getDefaults(),arguments)),this.name="Synth";const t=is(Vo.getDefaults(),arguments);this.oscillator=new Ao(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ro(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),xs(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Do.getDefaults(),{envelope:Object.assign(os(Io.getDefaults(),Object.keys(js.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(os(Ao.getDefaults(),[...Object.keys(uo.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class No extends Vo{constructor(){super(is(No.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=is(No.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,xs(this,["oscillator","envelope"])}static getDefaults(){return ns(Do.getDefaults(),Vo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof Rs?t.toFrequency():t),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xi([ko(0)],No.prototype,"octaves",void 0),Xi([Mo(0)],No.prototype,"pitchDecay",void 0);const Bo=new Set;function qo(t){Bo.add(t)}function Fo(t,e){const n=`registerProcessor("${t}", ${e})`;Bo.add(n)}qo('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),qo("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),qo("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),Fo("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Lo extends Po{constructor(){super(is(Lo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=is(Lo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const i=parseInt(n,10);if(Di(Hi(n)||Li(i)&&isFinite(i),`url key is neither a note or midi pitch: ${n}`),Hi(n)){const i=new Rs(this.context,n).toMidi();e[i]=t.urls[n]}else Li(i)&&isFinite(i)&&(e[i]=t.urls[i])})),this._buffers=new Ks({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Po.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ws,onerror:ws,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const i=Es(new Rs(this.context,t).toFrequency()),s=Math.round(i),o=i-s,r=this._findClosest(s),a=s-r,l=this._buffers.get(a),c=Ms(r+o),u=new ho({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(e,0,l.duration/c,n),Wi(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){const t=this._activeSources.get(s),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Rs(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,i=1){const s=this.toSeconds(n);return this.triggerAttack(t,s,i),Wi(e)?(Di(Wi(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,s+this.toSeconds(i))}))):this.triggerRelease(t,s+this.toSeconds(e)),this}add(t,e,n){if(Di(Hi(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Hi(t)){const i=new Rs(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Xi([Mo(0)],Lo.prototype,"attack",void 0),Xi([Mo(0)],Lo.prototype,"release",void 0);class jo extends js{constructor(){super(Object.assign(is(jo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=is(jo.getDefaults(),arguments,["pan"]);this.pan=new Ls({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",xs(this,"pan")}static getDefaults(){return Object.assign(js.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}Fo("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Wo extends js{constructor(){super(is(Wo.getDefaults(),arguments,["solo"])),this.name="Solo";const t=is(Wo.getDefaults(),arguments,["solo"]);this.input=this.output=new Hs({context:this.context}),Wo._allSolos.has(this.context)||Wo._allSolos.set(this.context,new Set),Wo._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(js.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Wo._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Wo._soloed.has(this.context)||Wo._soloed.set(this.context,new Set),Wo._soloed.get(this.context).add(this)}_removeSolo(){Wo._soloed.has(this.context)&&Wo._soloed.get(this.context).delete(this)}_isSoloed(){return Wo._soloed.has(this.context)&&Wo._soloed.get(this.context).has(this)}_noSolos(){return!Wo._soloed.has(this.context)||Wo._soloed.has(this.context)&&0===Wo._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Wo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Wo._allSolos=new Map,Wo._soloed=new Map;class Uo extends js{constructor(){super(is(Uo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=is(Uo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new jo({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new so({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,xs(this,["pan","volume"])}static getDefaults(){return Object.assign(js.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ho extends js{constructor(){super(is(Ho.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=is(Ho.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Wo({solo:t.solo,context:this.context}),this._panVol=this.output=new Uo({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xs(this,["pan","volume"])}static getDefaults(){return Object.assign(js.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Ho.buses.has(t)||Ho.buses.set(t,new Hs({context:this.context})),Ho.buses.get(t)}send(t,e=0){const n=this._getBus(t),i=new Hs({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ho.buses=new Map;class zo extends js{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ls({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ls({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ls({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ls({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ls({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ls({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ls({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ls({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ls({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(js.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}fs((t=>{t.listener=new zo({context:t})})),gs((t=>{t.listener.dispose()})),ks().transport,ks().destination,ks().destination,ks().listener,ks().draw,ks();let Go,Xo=!1;const Yo=o.Engine,Zo=o.Render,$o=o.Runner,Qo=o.Bodies,Jo=o.Composite,Ko=o.Events;let tr,er;function nr(t,e,n,i,s,o){const r=Qo.rectangle(t,e,n,i,{isStatic:!0,label:o,render:{fillStyle:s}});Jo.add(tr.world,[r])}function ir(t){const e=function(t){const e=t.source;let n="";if(null==e)return"";const i=e.pairs.list;return null==i?"":Array.isArray(i)?i.length?i[0].bodyB?(n=i[0].bodyB.label,n):(console.log("collisions: BodyB is null",i[0]),""):(console.log("collisions: Empty array"),""):(console.log("collisions: Not an array"),"")}(t);!function(t){if(!Xo)return void console.log("not initiated");const e=t.split("-"),n=e[0];switch(e.length>1&&e[1],n){case"Left":Go.triggerAttackRelease(["Eb4"],4);break;case"Right":Go.triggerAttackRelease(["G3"],4);break;case"Top":Go.triggerAttackRelease(["G4"],4);break;case"Bottom":Go.triggerAttackRelease(["Bb4"],4);break;default:console.log(`unexpected wall ${n}`)}}(e)}function sr(t,e){const n=document.getElementById(t);n&&(n.innerHTML=`${e}`)}function or(t){const e=document.getElementById(t);e&&e.remove()}window.addEventListener("resize",(function(){er.canvas.width=window.innerWidth,er.canvas.height=window.innerHeight})),function n(){const i={x:t,y:e};sr("x1",`x: ${i.x}`),sr("y1",`y: ${i.y}`),function(t,e){tr&&(tr.gravity.x=t,tr.gravity.y=e)}(i.x,i.y),requestAnimationFrame(n)}(),window.onload=function(){const t=document.getElementById("start-btn");t&&(sr("msg","Registered click handler"),t.onclick=function(t){sr("msg","Requesting permission"),t.preventDefault(),sr("msg",`rp: ${function(){try{DeviceMotionEvent&&"function"==typeof DeviceMotionEvent.requestPermission&&DeviceMotionEvent.requestPermission()}catch(t){return`${t}`}window.addEventListener("devicemotion",s)}()}`),or("start-btn"),or("msg"),async function(){Go=new Lo({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination(),await Ts.loaded(),Xo=!0}(),function(){tr=Yo.create(),tr.gravity.scale=5e-4,er=Zo.create({element:document.body,engine:tr,options:{width:window.innerWidth,height:window.innerHeight,wireframes:!1}});const t=Qo.circle(400,200,80,{restitution:.6,label:"Ball",render:{fillStyle:"red"}});Jo.add(tr.world,[t]);nr(window.innerWidth/2,5,window.innerWidth,10,"red","Top"),nr(window.innerWidth/2,window.innerHeight-5,window.innerWidth,10,"blue","Bottom"),nr(5,window.innerHeight/2,10,window.innerHeight,"green","Left"),nr(window.innerWidth-5,window.innerHeight/2,10,window.innerHeight,"yellow","Right"),Ko.on(tr,"collisionStart",ir),Zo.run(er);const e=$o.create();$o.run(e,tr),console.log("Physics loaded")}()})}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdwdkYsT0FBT2d3RixXQUFhLEVBQUdVLEVBQW1CMXdGLE9BQU9nd0YsV0FEdEMsR0FDaUUsTUFBTyxPQUM5RlosR0FBV3B2RixPQUFPZ3dGLFdBQWEsRUFBR2h3RixPQUFPaXdGLFlBQWNTLEVBQW1CMXdGLE9BQU9nd0YsV0FGM0QsR0FFc0YsT0FBUSxVQUNwSFosR0FBV3NCLEVBQW1CMXdGLE9BQU9pd0YsWUFBYyxFQUg3QixHQUcrQ2p3RixPQUFPaXdGLFlBQWEsUUFBUyxRQUNsR2IsR0FBV3B2RixPQUFPZ3dGLFdBQWFVLEVBQW1CMXdGLE9BQU9pd0YsWUFBYyxFQUpqRCxHQUltRWp3RixPQUFPaXdGLFlBQWEsU0FBVSxTQUd2SDMvRSxHQUFPQyxHQUFHaVQsR0FBUSxpQkFBa0IrckUsSUFHcEN0bUUsR0FBT0ssSUFBSXBkLElBR1gsTUFBTTByQixFQUFTMU8sR0FBT3pzQixTQUd0QnlzQixHQUFPSSxJQUFJc08sRUFBUXBVLElBQ25CN2lCLFFBQVFELElBQUksaUJBQ2hCLENDbkJZaXdGLEVBQ0osRUFFUiIsInNvdXJjZXMiOlsid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL2F1dG9tYXRpb24tZXZlbnRzL2J1aWxkL2VzNS9idW5kbGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvbWF0dGVyLWpzL2J1aWxkL21hdHRlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b1ByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvUHJvcGVydHlLZXkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9rbGluay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9rbGluay93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2tsaW5rLy4vc3JjL3NlbnNvcnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2Fib3J0LWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9nbG9iYWxzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLWNvbnN0cnVjdGlibGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc3BsaXQtaW1wb3J0LXN0YXRlbWVudHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtYXVkaW8td29ya2xldC1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LXZhbHVlLWZvci1rZXkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvcGljay1lbGVtZW50LWZyb20tc2V0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2RlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL2F1ZGlvLXdvcmtsZXQtbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZS13aGVuLW5lY2Vzc2FyeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FuYWx5c2VyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pbmRleC1zaXplLWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtYXVkaW8tYnVmZmVyLWdldC1jaGFubmVsLWRhdGEtbWV0aG9kLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaXMtYWN0aXZlLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1idWZmZXItc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZ2V0LWF1ZGlvLXBhcmFtLWNvbm5lY3Rpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2RlYWN0aXZhdGUtYWN0aXZlLWF1ZGlvLW5vZGUtaW5wdXQtY29ubmVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9hdWRpby1idWZmZXItc291cmNlLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9iaXF1YWQtZmlsdGVyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9jb25zdGFudC1zb3VyY2Utbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL2dhaW4tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL29zY2lsbGF0b3Itbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL3N0ZXJlby1wYW5uZXItbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWFjdGl2YXRlLWF1ZGlvLWdyYXBoLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZ3VhcmRzL2F1ZGlvLW5vZGUtb3V0cHV0LWNvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaW5zZXJ0LWVsZW1lbnQtaW4tc2V0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2FkZC1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1wYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9hZGQtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS10by1uYXRpdmUtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWxldGUtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZGVsZXRlLWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2RlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZGlzY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS1mcm9tLW5hdGl2ZS1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2dldC1uYXRpdmUtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9nZXQtbmF0aXZlLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLXBhcnQtb2YtYS1jeWNsZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9pcy1wYXNzaXZlLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1hdWRpby1ub2RlLWRpc2Nvbm5lY3QtbWV0aG9kLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdmlzaXQtZWFjaC1hdWRpby1ub2RlLW9uY2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWF1ZGlvLW5vZGUtZGlzY29ubmVjdC1tZXRob2QuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9yZWFkLW9ubHktbWFwLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYXVkaW8td29ya2xldC1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2NvcHktZnJvbS1jaGFubmVsLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2NvcHktdG8tY2hhbm5lbC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9jcmVhdGUtbmVzdGVkLWFycmF5cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLXdvcmtsZXQtbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2dldC1hdWRpby13b3JrbGV0LXByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2JpcXVhZC1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2NoYW5uZWwtbWVyZ2VyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jaGFubmVsLXNwbGl0dGVyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb25zdGFudC1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2NvbnZvbHZlci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2RldGFjaC1hcnJheS1idWZmZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZWxheS1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZGlzY29ubmVjdC1tdWx0aXBsZS1vdXRwdXRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZHluYW1pY3MtY29tcHJlc3Nvci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2Fpbi1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaW52YWxpZC1zdGF0ZS1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2ludmFsaWQtYWNjZXNzLWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaWlyLWZpbHRlci1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2ZpbHRlci1idWZmZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9tZWRpYS1zdHJlYW0tYXVkaW8tZGVzdGluYXRpb24tbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LXByb21pc2Utc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2Qtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9jb21wdXRlLWJ1ZmZlci1zaXplLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWJpcXVhZC1maWx0ZXItbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1jaGFubmVsLXNwbGl0dGVyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1jaGFubmVsLXNwbGl0dGVyLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaW50ZXJjZXB0LWNvbm5lY3Rpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWRlbGF5LW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtZ2Fpbi1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWlpci1maWx0ZXItbm9kZS1mYWtlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXNjcmlwdC1wcm9jZXNzb3Itbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25vdC1zdXBwb3J0ZWQtZXJyb3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9vc2NpbGxhdG9yLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9wYW5uZXItbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3BlcmlvZGljLXdhdmUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9zdGVyZW8tcGFubmVyLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy91bmtub3duLWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvd2F2ZS1zaGFwZXItbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9nZXQtZmlyc3Qtc2FtcGxlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL2lzLWRjLWN1cnZlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL292ZXJ3cml0ZS1hY2Nlc3NvcnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvc2V0LXZhbHVlLWF0LXRpbWUtdW50aWwtcG9zc2libGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWV2ZW50LWxpc3RlbmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FkZC1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2V0LWF1ZGlvLW5vZGUtdGFpbC10aW1lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY2FjaGUtdGVzdC1yZXN1bHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy93aW5kb3cuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtYW5hbHlzZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2QuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtYXVkaW8tbm9kZS1yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3JlbmRlci1pbnB1dHMtb2YtYXVkaW8tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FuYWx5c2VyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC1uYXRpdmUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZXZlbnQtdGFyZ2V0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1uYXRpdmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lzLW5hdGl2ZS1hdWRpby1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtbmF0aXZlLWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9kZWxldGUtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hZGQtYXVkaW8tbm9kZS1jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FkZC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pbmNyZW1lbnQtY3ljbGUtY291bnRlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZGVjcmVtZW50LWN5Y2xlLWNvdW50ZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9kZXRlY3QtY3ljbGVzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9ndWFyZHMvZGVsYXktbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1hdWRpby1idWZmZXItY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb252ZXJ0LW51bWJlci10by11bnNpZ25lZC1sb25nLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy93cmFwLWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvdGVzdC1hdWRpby1idWZmZXItY29uc3RydWN0b3Itc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FkZC1zaWxlbnQtY29ubmVjdGlvbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3JlbmRlci1pbnB1dHMtb2YtYXVkaW8tcGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jb25uZWN0LWF1ZGlvLXBhcmFtLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3dyYXAtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1vZmZzZXQtY2xhbXBpbmctc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1udWxsaWZpZWQtYnVmZmVyLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy93cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1udWxsaWZpZWQtYnVmZmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvcmVuZGVyLWF1dG9tYXRpb24uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9nZXQtYXVkaW8tcGFyYW0tcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1idWZmZXItc291cmNlLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLXBhcmFtLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1wYXJhbS1yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FkZC1hdWRpby1wYXJhbS1jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1kZXN0aW5hdGlvbi1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tZGVzdGluYXRpb24tbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2JpcXVhZC1maWx0ZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvc2V0LWF1ZGlvLW5vZGUtdGFpbC10aW1lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbW9uaXRvci1jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3dyYXAtY2hhbm5lbC1tZXJnZXItbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1jaGFubmVsLW1lcmdlci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jaGFubmVsLW1lcmdlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jaGFubmVsLXNwbGl0dGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9zYW5pdGl6ZS1jaGFubmVsLXNwbGl0dGVyLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtY29uc3RhbnQtc291cmNlLW5vZGUtZmFrZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1jb25zdGFudC1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY29uc3RhbnQtc291cmNlLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1jb252b2x2ZXItbm9kZS1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvY29udm9sdmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RlbGF5LW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1keW5hbWljcy1jb21wcmVzc29yLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2R5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2Fpbi1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9yZW5kZXItbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3Rlc3Qtb2ZmbGluZS1hdWRpby1jb250ZXh0LWN1cnJlbnQtdGltZS1zdXBwb3J0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaWlyLWZpbHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtaWlyLWZpbHRlci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvd3JhcC1paXItZmlsdGVyLW5vZGUtZ2V0LWZyZXF1ZW5jeS1yZXNwb25zZS1tZXRob2QuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9hdWRpby1saXN0ZW5lci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbWluaW1hbC1iYXNlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtb3NjaWxsYXRvci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9vc2NpbGxhdG9yLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2Nvbm5lY3RlZC1uYXRpdmUtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtd2F2ZS1zaGFwZXItbm9kZS1mYWtlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXdhdmUtc2hhcGVyLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1wYW5uZXItbm9kZS1mYWtlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXBhbm5lci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9wYW5uZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLXBlcmlvZGljLXdhdmUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9zYW5pdGl6ZS1wZXJpb2RpYy13YXZlLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtc3RlcmVvLXBhbm5lci1ub2RlLWZha2VyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtc3RlcmVvLXBhbm5lci1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9zdGVyZW8tcGFubmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3dhdmUtc2hhcGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lzLXNlY3VyZS1jb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZXhwb3NlLWN1cnJlbnQtZnJhbWUtYW5kLWN1cnJlbnQtdGltZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC1vci1jcmVhdGUtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2V2YWx1YXRlLXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2ZldGNoLXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3Rlc3QtYXVkaW8td29ya2xldC1wcm9jZXNzb3ItcG9zdC1tZXNzYWdlLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1uYXRpdmUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RlY29kZS1hdWRpby1kYXRhLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZGF0YS1jbG9uZS1lcnJvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2VuY29kaW5nLWVycm9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvYmFzZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1lbGVtZW50LWF1ZGlvLXNvdXJjZS1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbWVkaWEtc3RyZWFtLWF1ZGlvLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvbmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1zdHJlYW0tdHJhY2stYXVkaW8tc291cmNlLW5vZGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL21lZGlhLXN0cmVhbS10cmFjay1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2F1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvaXMtdmFsaWQtbGF0ZW5jeS1oaW50LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvZ2V0LXVucmVuZGVyZWQtYXVkaW8td29ya2xldC1ub2Rlcy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2FkZC11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2Nvbm5lY3QtbXVsdGlwbGUtb3V0cHV0cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2RlbGV0ZS11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC1hY3RpdmUtYXVkaW8td29ya2xldC1ub2RlLWlucHV0cy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL25hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtZmFrZXItZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvaGVscGVycy9jcmVhdGUtYXVkaW8td29ya2xldC1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY3JlYXRlLWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yLXByb21pc2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvY2xvbmUtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2hlbHBlcnMvdGVzdC1jbG9uYWJpbGl0eS1vZi1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2dldC1iYWNrdXAtb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvc2V0LWFjdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtaW5wdXRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Nhbml0aXplLWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9oZWxwZXJzL3Rlc3QtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMtY2xvbmFiaWxpdHkuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9jcmVhdGUtbmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL3N0YXJ0LXJlbmRlcmluZy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy9zdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dC9idWlsZC9lczIwMTkvZmFjdG9yaWVzL2lzLWFueS1hdWRpby1jb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0L2J1aWxkL2VzMjAxOS9mYWN0b3JpZXMvaXMtYW55LWF1ZGlvLW5vZGUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1hbnktYXVkaW8tcGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvYnVpbGQvZXMyMDE5L2ZhY3Rvcmllcy9pcy1hbnktb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdXRpbC9EZWJ1Zy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvVHlwZUNoZWNrLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9BdWRpb0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2Nsb2NrL1RpY2tlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvQWR2YW5jZWRUeXBlQ2hlY2suanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0RlZmF1bHRzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvVG9uZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvTWF0aC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvVGltZWxpbmUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0NvbnRleHRJbml0aWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvRW1pdHRlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvQmFzZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS91dGlsL0ludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9PZmZsaW5lQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL0dsb2JhbC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvRHVtbXlDb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdHlwZS9Db252ZXJzaW9ucy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3R5cGUvVGltZUJhc2UuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS90eXBlL1RpbWUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS90eXBlL0ZyZXF1ZW5jeS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3R5cGUvVHJhbnNwb3J0VGltZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvVG9uZVdpdGhDb250ZXh0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdXRpbC9TdGF0ZVRpbWVsaW5lLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9QYXJhbS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2NvbnRleHQvR2Fpbi5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2UvT25lU2hvdFNvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zaWduYWwvVG9uZUNvbnN0YW50U291cmNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NpZ25hbC9TaWduYWwuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9UaWNrUGFyYW0uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9UaWNrU2lnbmFsLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY2xvY2svVGlja1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2Nsb2NrL0Nsb2NrLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY29udGV4dC9Ub25lQXVkaW9CdWZmZXJzLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdHlwZS9UaWNrcy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvRHJhdy5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvSW50ZXJ2YWxUaW1lbGluZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb21wb25lbnQvY2hhbm5lbC9Wb2x1bWUuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0Rlc3RpbmF0aW9uLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvdXRpbC9UaW1lbGluZVZhbHVlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvY2xvY2svVHJhbnNwb3J0RXZlbnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jbG9jay9UcmFuc3BvcnRSZXBlYXRFdmVudC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL2Nsb2NrL1RyYW5zcG9ydC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2UvU291cmNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9idWZmZXIvVG9uZUJ1ZmZlclNvdXJjZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9Pc2NpbGxhdG9ySW50ZXJmYWNlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9vc2NpbGxhdG9yL1RvbmVPc2NpbGxhdG9yTm9kZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9Pc2NpbGxhdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NpZ25hbC9TaWduYWxPcGVyYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zaWduYWwvV2F2ZVNoYXBlci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zaWduYWwvQXVkaW9Ub0dhaW4uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc2lnbmFsL011bHRpcGx5LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9vc2NpbGxhdG9yL0FNT3NjaWxsYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9GTU9zY2lsbGF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvUHVsc2VPc2NpbGxhdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9vc2NpbGxhdG9yL0ZhdE9zY2lsbGF0b3IuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vc291cmNlL29zY2lsbGF0b3IvUFdNT3NjaWxsYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9zb3VyY2Uvb3NjaWxsYXRvci9PbW5pT3NjaWxsYXRvci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3V0aWwvRGVjb3JhdG9yLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL3NvdXJjZS9idWZmZXIvUGxheWVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9lbnZlbG9wZS9FbnZlbG9wZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9pbnN0cnVtZW50L0luc3RydW1lbnQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vaW5zdHJ1bWVudC9Nb25vcGhvbmljLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9lbnZlbG9wZS9BbXBsaXR1ZGVFbnZlbG9wZS5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9pbnN0cnVtZW50L1N5bnRoLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2luc3RydW1lbnQvTWVtYnJhbmVTeW50aC5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9jb3JlL3dvcmtsZXQvV29ya2xldEdsb2JhbFNjb3BlLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvcmUvd29ya2xldC9Ub25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLndvcmtsZXQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS93b3JrbGV0L1NpbmdsZUlPUHJvY2Vzc29yLndvcmtsZXQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS93b3JrbGV0L0RlbGF5TGluZS53b3JrbGV0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9maWx0ZXIvRmVlZGJhY2tDb21iRmlsdGVyLndvcmtsZXQuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vaW5zdHJ1bWVudC9TYW1wbGVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9jaGFubmVsL1Bhbm5lci5qcyIsIndlYnBhY2s6Ly9rbGluay8uL25vZGVfbW9kdWxlcy90b25lL2J1aWxkL2VzbS9lZmZlY3QvQml0Q3J1c2hlci53b3JrbGV0LmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9jaGFubmVsL1NvbG8uanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29tcG9uZW50L2NoYW5uZWwvUGFuVm9sLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2NvbXBvbmVudC9jaGFubmVsL0NoYW5uZWwuanMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9lc20vY29yZS9jb250ZXh0L0xpc3RlbmVyLmpzIiwid2VicGFjazovL2tsaW5rLy4vbm9kZV9tb2R1bGVzL3RvbmUvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2tsaW5rLy4vc3JjL3NvdW5kLnRzIiwid2VicGFjazovL2tsaW5rLy4vc3JjL3BoeXNpY3MudHMiLCJ3ZWJwYWNrOi8va2xpbmsvLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5JyksIHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKSwgcmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXknLCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycsICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJ10sIGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC5hdXRvbWF0aW9uRXZlbnRzID0ge30sIGdsb2JhbC5fc2xpY2VkVG9BcnJheSwgZ2xvYmFsLl9jbGFzc0NhbGxDaGVjaywgZ2xvYmFsLl9jcmVhdGVDbGFzcykpO1xufSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLCBfc2xpY2VkVG9BcnJheSwgX2NsYXNzQ2FsbENoZWNrLCBfY3JlYXRlQ2xhc3MpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNyZWF0ZUV4dGVuZGVkRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV4dGVuZGVkRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZW5kVGltZSwgaW5zZXJ0VGltZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgaW5zZXJ0VGltZTogaW5zZXJ0VGltZSxcbiAgICAgICAgdHlwZTogJ2V4cG9uZW50aWFsUmFtcFRvVmFsdWUnLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVFeHRlbmRlZExpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlRXh0ZW5kZWRMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZW5kVGltZSwgaW5zZXJ0VGltZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgaW5zZXJ0VGltZTogaW5zZXJ0VGltZSxcbiAgICAgICAgdHlwZTogJ2xpbmVhclJhbXBUb1ZhbHVlJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgdHlwZTogJ3NldFZhbHVlJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQodmFsdWVzLCBzdGFydFRpbWUsIGR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICB0eXBlOiAnc2V0VmFsdWVDdXJ2ZScsXG4gICAgICAgIHZhbHVlczogdmFsdWVzXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VGFyZ2V0VmFsdWVBdFRpbWUgPSBmdW5jdGlvbiBnZXRUYXJnZXRWYWx1ZUF0VGltZSh0aW1lLCB2YWx1ZUF0U3RhcnRUaW1lLCBfcmVmKSB7XG4gICAgICB2YXIgc3RhcnRUaW1lID0gX3JlZi5zdGFydFRpbWUsXG4gICAgICAgIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxuICAgICAgICB0aW1lQ29uc3RhbnQgPSBfcmVmLnRpbWVDb25zdGFudDtcbiAgICAgIHJldHVybiB0YXJnZXQgKyAodmFsdWVBdFN0YXJ0VGltZSAtIHRhcmdldCkgKiBNYXRoLmV4cCgoc3RhcnRUaW1lIC0gdGltZSkgLyB0aW1lQ29uc3RhbnQpO1xuICAgIH07XG5cbiAgICB2YXIgaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnZXhwb25lbnRpYWxSYW1wVG9WYWx1ZSc7XG4gICAgfTtcblxuICAgIHZhciBpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ2xpbmVhclJhbXBUb1ZhbHVlJztcbiAgICB9O1xuXG4gICAgdmFyIGlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGlzRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHx8IGlzTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KTtcbiAgICB9O1xuXG4gICAgdmFyIGlzU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBpc1NldFZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnc2V0VmFsdWUnO1xuICAgIH07XG5cbiAgICB2YXIgaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnc2V0VmFsdWVDdXJ2ZSc7XG4gICAgfTtcblxuICAgIHZhciBnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZSA9IGZ1bmN0aW9uIGdldFZhbHVlT2ZBdXRvbWF0aW9uRXZlbnRBdEluZGV4QXRUaW1lKGF1dG9tYXRpb25FdmVudHMsIGluZGV4LCB0aW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciBhdXRvbWF0aW9uRXZlbnQgPSBhdXRvbWF0aW9uRXZlbnRzW2luZGV4XTtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IGlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB8fCBpc1NldFZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgPyBhdXRvbWF0aW9uRXZlbnQudmFsdWUgOiBpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSA/IGF1dG9tYXRpb25FdmVudC52YWx1ZXNbYXV0b21hdGlvbkV2ZW50LnZhbHVlcy5sZW5ndGggLSAxXSA6IGdldFRhcmdldFZhbHVlQXRUaW1lKHRpbWUsIGdldFZhbHVlT2ZBdXRvbWF0aW9uRXZlbnRBdEluZGV4QXRUaW1lKGF1dG9tYXRpb25FdmVudHMsIGluZGV4IC0gMSwgYXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSwgZGVmYXVsdFZhbHVlKSwgYXV0b21hdGlvbkV2ZW50KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEVuZFRpbWVBbmRWYWx1ZU9mUHJldmlvdXNBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBnZXRFbmRUaW1lQW5kVmFsdWVPZlByZXZpb3VzQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudHMsIGluZGV4LCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LCBuZXh0QXV0b21hdGlvbkV2ZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBjdXJyZW50QXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgPyBbbmV4dEF1dG9tYXRpb25FdmVudC5pbnNlcnRUaW1lLCBkZWZhdWx0VmFsdWVdIDogaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSA/IFtjdXJyZW50QXV0b21hdGlvbkV2ZW50LmVuZFRpbWUsIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWVdIDogaXNTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSA/IFtjdXJyZW50QXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSwgY3VycmVudEF1dG9tYXRpb25FdmVudC52YWx1ZV0gOiBpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgPyBbY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUgKyBjdXJyZW50QXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uLCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnZhbHVlc1tjdXJyZW50QXV0b21hdGlvbkV2ZW50LnZhbHVlcy5sZW5ndGggLSAxXV0gOiBbY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIGdldFZhbHVlT2ZBdXRvbWF0aW9uRXZlbnRBdEluZGV4QXRUaW1lKGF1dG9tYXRpb25FdmVudHMsIGluZGV4IC0gMSwgY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUsIGRlZmF1bHRWYWx1ZSldO1xuICAgIH07XG5cbiAgICB2YXIgaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnY2FuY2VsQW5kSG9sZCc7XG4gICAgfTtcblxuICAgIHZhciBpc0NhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGlzQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnY2FuY2VsU2NoZWR1bGVkVmFsdWVzJztcbiAgICB9O1xuXG4gICAgdmFyIGdldEV2ZW50VGltZSA9IGZ1bmN0aW9uIGdldEV2ZW50VGltZShhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIGlmIChpc0NhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB8fCBpc0NhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQuY2FuY2VsVGltZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0V4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSB8fCBpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC5lbmRUaW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF1dG9tYXRpb25FdmVudC5zdGFydFRpbWU7XG4gICAgfTtcblxuICAgIHZhciBnZXRFeHBvbmVudGlhbFJhbXBWYWx1ZUF0VGltZSA9IGZ1bmN0aW9uIGdldEV4cG9uZW50aWFsUmFtcFZhbHVlQXRUaW1lKHRpbWUsIHN0YXJ0VGltZSwgdmFsdWVBdFN0YXJ0VGltZSwgX3JlZikge1xuICAgICAgdmFyIGVuZFRpbWUgPSBfcmVmLmVuZFRpbWUsXG4gICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZUF0U3RhcnRUaW1lID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IHZhbHVlQXRTdGFydFRpbWUgJiYgMCA8IHZhbHVlIHx8IHZhbHVlQXRTdGFydFRpbWUgPCAwICYmIHZhbHVlIDwgMCkge1xuICAgICAgICByZXR1cm4gdmFsdWVBdFN0YXJ0VGltZSAqIE1hdGgucG93KHZhbHVlIC8gdmFsdWVBdFN0YXJ0VGltZSwgKHRpbWUgLSBzdGFydFRpbWUpIC8gKGVuZFRpbWUgLSBzdGFydFRpbWUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0TGluZWFyUmFtcFZhbHVlQXRUaW1lID0gZnVuY3Rpb24gZ2V0TGluZWFyUmFtcFZhbHVlQXRUaW1lKHRpbWUsIHN0YXJ0VGltZSwgdmFsdWVBdFN0YXJ0VGltZSwgX3JlZikge1xuICAgICAgdmFyIGVuZFRpbWUgPSBfcmVmLmVuZFRpbWUsXG4gICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZUF0U3RhcnRUaW1lICsgKHRpbWUgLSBzdGFydFRpbWUpIC8gKGVuZFRpbWUgLSBzdGFydFRpbWUpICogKHZhbHVlIC0gdmFsdWVBdFN0YXJ0VGltZSk7XG4gICAgfTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZVZhbHVlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGVWYWx1ZSh2YWx1ZXMsIHRoZW9yZXRpY0luZGV4KSB7XG4gICAgICB2YXIgbG93ZXJJbmRleCA9IE1hdGguZmxvb3IodGhlb3JldGljSW5kZXgpO1xuICAgICAgdmFyIHVwcGVySW5kZXggPSBNYXRoLmNlaWwodGhlb3JldGljSW5kZXgpO1xuICAgICAgaWYgKGxvd2VySW5kZXggPT09IHVwcGVySW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1tsb3dlckluZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoMSAtICh0aGVvcmV0aWNJbmRleCAtIGxvd2VySW5kZXgpKSAqIHZhbHVlc1tsb3dlckluZGV4XSArICgxIC0gKHVwcGVySW5kZXggLSB0aGVvcmV0aWNJbmRleCkpICogdmFsdWVzW3VwcGVySW5kZXhdO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VmFsdWVDdXJ2ZVZhbHVlQXRUaW1lID0gZnVuY3Rpb24gZ2V0VmFsdWVDdXJ2ZVZhbHVlQXRUaW1lKHRpbWUsIF9yZWYpIHtcbiAgICAgIHZhciBkdXJhdGlvbiA9IF9yZWYuZHVyYXRpb24sXG4gICAgICAgIHN0YXJ0VGltZSA9IF9yZWYuc3RhcnRUaW1lLFxuICAgICAgICB2YWx1ZXMgPSBfcmVmLnZhbHVlcztcbiAgICAgIHZhciB0aGVvcmV0aWNJbmRleCA9ICh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uICogKHZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZVZhbHVlKHZhbHVlcywgdGhlb3JldGljSW5kZXgpO1xuICAgIH07XG5cbiAgICB2YXIgaXNTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBpc1NldFRhcmdldEF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgIHJldHVybiBhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ3NldFRhcmdldCc7XG4gICAgfTtcblxuICAgIHZhciBBdXRvbWF0aW9uRXZlbnRMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3ltYm9sJGl0ZXJhdG9yKSB7XG4gICAgICBmdW5jdGlvbiBBdXRvbWF0aW9uRXZlbnRMaXN0KGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0b21hdGlvbkV2ZW50TGlzdCk7XG4gICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fY3VycmVuVGltZSA9IDA7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIF9jcmVhdGVDbGFzcyhBdXRvbWF0aW9uRXZlbnRMaXN0LCBbe1xuICAgICAgICBrZXk6IF9TeW1ib2wkaXRlcmF0b3IsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImFkZFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGF1dG9tYXRpb25FdmVudCkge1xuICAgICAgICAgIHZhciBldmVudFRpbWUgPSBnZXRFdmVudFRpbWUoYXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgfHwgaXNDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5maW5kSW5kZXgoZnVuY3Rpb24gKGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGlzQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50KGF1dG9tYXRpb25FdmVudCkgJiYgaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lICsgY3VycmVudEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbiA+PSBldmVudFRpbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGdldEV2ZW50VGltZShjdXJyZW50QXV0b21hdGlvbkV2ZW50KSA+PSBldmVudFRpbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciByZW1vdmVkQXV0b21hdGlvbkV2ZW50ID0gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHMgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICB2YXIgbGFzdEF1dG9tYXRpb25FdmVudCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHNbdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgaWYgKHJlbW92ZWRBdXRvbWF0aW9uRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHJlbW92ZWRBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RBdXRvbWF0aW9uRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBpc1NldFRhcmdldEF1dG9tYXRpb25FdmVudChsYXN0QXV0b21hdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW50ZXJuYWwgbGlzdCBpcyBtYWxmb3JtZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBsYXN0QXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgPyByZW1vdmVkQXV0b21hdGlvbkV2ZW50Lmluc2VydFRpbWUgOiBpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQobGFzdEF1dG9tYXRpb25FdmVudCkgPyBsYXN0QXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSArIGxhc3RBdXRvbWF0aW9uRXZlbnQuZHVyYXRpb24gOiBnZXRFdmVudFRpbWUobGFzdEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBsYXN0QXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiBpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQobGFzdEF1dG9tYXRpb25FdmVudCkgPyBsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlc1tsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlcy5sZW5ndGggLSAxXSA6IGxhc3RBdXRvbWF0aW9uRXZlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHJlbW92ZWRBdXRvbWF0aW9uRXZlbnQpID8gZ2V0RXhwb25lbnRpYWxSYW1wVmFsdWVBdFRpbWUoZXZlbnRUaW1lLCBzdGFydFRpbWUsIHN0YXJ0VmFsdWUsIHJlbW92ZWRBdXRvbWF0aW9uRXZlbnQpIDogZ2V0TGluZWFyUmFtcFZhbHVlQXRUaW1lKGV2ZW50VGltZSwgc3RhcnRUaW1lLCBzdGFydFZhbHVlLCByZW1vdmVkQXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgdHJ1bmNhdGVkQXV0b21hdGlvbkV2ZW50ID0gaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHJlbW92ZWRBdXRvbWF0aW9uRXZlbnQpID8gY3JlYXRlRXh0ZW5kZWRFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHZhbHVlLCBldmVudFRpbWUsIHRoaXMuX2N1cnJlblRpbWUpIDogY3JlYXRlRXh0ZW5kZWRMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZXZlbnRUaW1lLCB0aGlzLl9jdXJyZW5UaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLnB1c2godHJ1bmNhdGVkQXV0b21hdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGFzdEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50KGxhc3RBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5wdXNoKGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50KHRoaXMuZ2V0VmFsdWUoZXZlbnRUaW1lKSwgZXZlbnRUaW1lKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxhc3RBdXRvbWF0aW9uRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQobGFzdEF1dG9tYXRpb25FdmVudCkgJiYgbGFzdEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUgKyBsYXN0QXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uID4gZXZlbnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gZXZlbnRUaW1lIC0gbGFzdEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgdmFyIHJhdGlvID0gKGxhc3RBdXRvbWF0aW9uRXZlbnQudmFsdWVzLmxlbmd0aCAtIDEpIC8gbGFzdEF1dG9tYXRpb25FdmVudC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoMiwgMSArIE1hdGguY2VpbChkdXJhdGlvbiAqIHJhdGlvKSk7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWN0aW9uID0gZHVyYXRpb24gLyAobGVuZ3RoIC0gMSkgKiByYXRpbztcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gbGFzdEF1dG9tYXRpb25FdmVudC52YWx1ZXMuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhY3Rpb24gPCAxKSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWN0b3IgPSBmcmFjdGlvbiAqIGkgJSAxO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlc1tpIC0gMV0gKiAoMSAtIGZhY3RvcikgKyBsYXN0QXV0b21hdGlvbkV2ZW50LnZhbHVlc1tpXSAqIGZhY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b21hdGlvbkV2ZW50c1t0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmxlbmd0aCAtIDFdID0gY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCh2YWx1ZXMsIGxhc3RBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIF9pbmRleCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRFdmVudFRpbWUoY3VycmVudEF1dG9tYXRpb25FdmVudCkgPiBldmVudFRpbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c0F1dG9tYXRpb25FdmVudCA9IF9pbmRleCA9PT0gLTEgPyB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW3RoaXMuX2F1dG9tYXRpb25FdmVudHMubGVuZ3RoIC0gMV0gOiB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW19pbmRleCAtIDFdO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzQXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KHByZXZpb3VzQXV0b21hdGlvbkV2ZW50KSAmJiBnZXRFdmVudFRpbWUocHJldmlvdXNBdXRvbWF0aW9uRXZlbnQpICsgcHJldmlvdXNBdXRvbWF0aW9uRXZlbnQuZHVyYXRpb24gPiBldmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBlcnNpc3RlbnRBdXRvbWF0aW9uRXZlbnQgPSBpc0V4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSA/IGNyZWF0ZUV4dGVuZGVkRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQudmFsdWUsIGF1dG9tYXRpb25FdmVudC5lbmRUaW1lLCB0aGlzLl9jdXJyZW5UaW1lKSA6IGlzTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50KSA/IGNyZWF0ZUV4dGVuZGVkTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQoYXV0b21hdGlvbkV2ZW50LnZhbHVlLCBldmVudFRpbWUsIHRoaXMuX2N1cnJlblRpbWUpIDogYXV0b21hdGlvbkV2ZW50O1xuICAgICAgICAgICAgaWYgKF9pbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5wdXNoKHBlcnNpc3RlbnRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGlzU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChhdXRvbWF0aW9uRXZlbnQpICYmIGV2ZW50VGltZSArIGF1dG9tYXRpb25FdmVudC5kdXJhdGlvbiA+IGdldEV2ZW50VGltZSh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW19pbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpb25FdmVudHMuc3BsaWNlKF9pbmRleCwgMCwgcGVyc2lzdGVudEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJmbHVzaFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmx1c2godGltZSkge1xuICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXZlbnRUaW1lKGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpID4gdGltZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaW5kZXggPiAxKSB7XG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nQXV0b21hdGlvbkV2ZW50cyA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHMuc2xpY2UoaW5kZXggLSAxKTtcbiAgICAgICAgICAgIHZhciBmaXJzdFJlbWFpbmluZ0F1dG9tYXRpb25FdmVudCA9IHJlbWFpbmluZ0F1dG9tYXRpb25FdmVudHNbMF07XG4gICAgICAgICAgICBpZiAoaXNTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQoZmlyc3RSZW1haW5pbmdBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICAgIHJlbWFpbmluZ0F1dG9tYXRpb25FdmVudHMudW5zaGlmdChjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZSh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLCBpbmRleCAtIDIsIGZpcnN0UmVtYWluaW5nQXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSwgdGhpcy5fZGVmYXVsdFZhbHVlKSwgZmlyc3RSZW1haW5pbmdBdXRvbWF0aW9uRXZlbnQuc3RhcnRUaW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzID0gcmVtYWluaW5nQXV0b21hdGlvbkV2ZW50cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImdldFZhbHVlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSh0aW1lKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2F1dG9tYXRpb25FdmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXhPZk5leHRFdmVudCA9IHRoaXMuX2F1dG9tYXRpb25FdmVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChhdXRvbWF0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFdmVudFRpbWUoYXV0b21hdGlvbkV2ZW50KSA+IHRpbWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG5leHRBdXRvbWF0aW9uRXZlbnQgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW2luZGV4T2ZOZXh0RXZlbnRdO1xuICAgICAgICAgIHZhciBpbmRleE9mQ3VycmVudEV2ZW50ID0gKGluZGV4T2ZOZXh0RXZlbnQgPT09IC0xID8gdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5sZW5ndGggOiBpbmRleE9mTmV4dEV2ZW50KSAtIDE7XG4gICAgICAgICAgdmFyIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQgPSB0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW2luZGV4T2ZDdXJyZW50RXZlbnRdO1xuICAgICAgICAgIGlmIChjdXJyZW50QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQoY3VycmVudEF1dG9tYXRpb25FdmVudCkgJiYgKG5leHRBdXRvbWF0aW9uRXZlbnQgPT09IHVuZGVmaW5lZCB8fCAhaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChuZXh0QXV0b21hdGlvbkV2ZW50KSB8fCBuZXh0QXV0b21hdGlvbkV2ZW50Lmluc2VydFRpbWUgPiB0aW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRhcmdldFZhbHVlQXRUaW1lKHRpbWUsIGdldFZhbHVlT2ZBdXRvbWF0aW9uRXZlbnRBdEluZGV4QXRUaW1lKHRoaXMuX2F1dG9tYXRpb25FdmVudHMsIGluZGV4T2ZDdXJyZW50RXZlbnQgLSAxLCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LnN0YXJ0VGltZSwgdGhpcy5fZGVmYXVsdFZhbHVlKSwgY3VycmVudEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRWYWx1ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSAmJiAobmV4dEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkIHx8ICFpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KG5leHRBdXRvbWF0aW9uRXZlbnQpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50KGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQpICYmIChuZXh0QXV0b21hdGlvbkV2ZW50ID09PSB1bmRlZmluZWQgfHwgIWlzQW55UmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQobmV4dEF1dG9tYXRpb25FdmVudCkgfHwgY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUgKyBjdXJyZW50QXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uID4gdGltZSkpIHtcbiAgICAgICAgICAgIGlmICh0aW1lIDwgY3VycmVudEF1dG9tYXRpb25FdmVudC5zdGFydFRpbWUgKyBjdXJyZW50QXV0b21hdGlvbkV2ZW50LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZUN1cnZlVmFsdWVBdFRpbWUodGltZSwgY3VycmVudEF1dG9tYXRpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEF1dG9tYXRpb25FdmVudC52YWx1ZXNbY3VycmVudEF1dG9tYXRpb25FdmVudC52YWx1ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudChjdXJyZW50QXV0b21hdGlvbkV2ZW50KSAmJiAobmV4dEF1dG9tYXRpb25FdmVudCA9PT0gdW5kZWZpbmVkIHx8ICFpc0FueVJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KG5leHRBdXRvbWF0aW9uRXZlbnQpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBdXRvbWF0aW9uRXZlbnQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXh0QXV0b21hdGlvbkV2ZW50ICE9PSB1bmRlZmluZWQgJiYgaXNFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KG5leHRBdXRvbWF0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICB2YXIgX2dldEVuZFRpbWVBbmRWYWx1ZU9mID0gZ2V0RW5kVGltZUFuZFZhbHVlT2ZQcmV2aW91c0F1dG9tYXRpb25FdmVudCh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLCBpbmRleE9mQ3VycmVudEV2ZW50LCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LCBuZXh0QXV0b21hdGlvbkV2ZW50LCB0aGlzLl9kZWZhdWx0VmFsdWUpLFxuICAgICAgICAgICAgICBfZ2V0RW5kVGltZUFuZFZhbHVlT2YyID0gX3NsaWNlZFRvQXJyYXkoX2dldEVuZFRpbWVBbmRWYWx1ZU9mLCAyKSxcbiAgICAgICAgICAgICAgc3RhcnRUaW1lID0gX2dldEVuZFRpbWVBbmRWYWx1ZU9mMlswXSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfZ2V0RW5kVGltZUFuZFZhbHVlT2YyWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGdldEV4cG9uZW50aWFsUmFtcFZhbHVlQXRUaW1lKHRpbWUsIHN0YXJ0VGltZSwgdmFsdWUsIG5leHRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmV4dEF1dG9tYXRpb25FdmVudCAhPT0gdW5kZWZpbmVkICYmIGlzTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQobmV4dEF1dG9tYXRpb25FdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBfZ2V0RW5kVGltZUFuZFZhbHVlT2YzID0gZ2V0RW5kVGltZUFuZFZhbHVlT2ZQcmV2aW91c0F1dG9tYXRpb25FdmVudCh0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLCBpbmRleE9mQ3VycmVudEV2ZW50LCBjdXJyZW50QXV0b21hdGlvbkV2ZW50LCBuZXh0QXV0b21hdGlvbkV2ZW50LCB0aGlzLl9kZWZhdWx0VmFsdWUpLFxuICAgICAgICAgICAgICBfZ2V0RW5kVGltZUFuZFZhbHVlT2Y0ID0gX3NsaWNlZFRvQXJyYXkoX2dldEVuZFRpbWVBbmRWYWx1ZU9mMywgMiksXG4gICAgICAgICAgICAgIF9zdGFydFRpbWUgPSBfZ2V0RW5kVGltZUFuZFZhbHVlT2Y0WzBdLFxuICAgICAgICAgICAgICBfdmFsdWUgPSBfZ2V0RW5kVGltZUFuZFZhbHVlT2Y0WzFdO1xuICAgICAgICAgICAgcmV0dXJuIGdldExpbmVhclJhbXBWYWx1ZUF0VGltZSh0aW1lLCBfc3RhcnRUaW1lLCBfdmFsdWUsIG5leHRBdXRvbWF0aW9uRXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICByZXR1cm4gQXV0b21hdGlvbkV2ZW50TGlzdDtcbiAgICB9KFN5bWJvbC5pdGVyYXRvcik7XG5cbiAgICB2YXIgY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQoY2FuY2VsVGltZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsVGltZTogY2FuY2VsVGltZSxcbiAgICAgICAgdHlwZTogJ2NhbmNlbEFuZEhvbGQnXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50KGNhbmNlbFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbFRpbWU6IGNhbmNlbFRpbWUsXG4gICAgICAgIHR5cGU6ICdjYW5jZWxTY2hlZHVsZWRWYWx1ZXMnXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgIHR5cGU6ICdleHBvbmVudGlhbFJhbXBUb1ZhbHVlJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCh2YWx1ZSwgZW5kVGltZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgdHlwZTogJ2xpbmVhclJhbXBUb1ZhbHVlJyxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50KHRhcmdldCwgc3RhcnRUaW1lLCB0aW1lQ29uc3RhbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgdGltZUNvbnN0YW50OiB0aW1lQ29uc3RhbnQsXG4gICAgICAgIHR5cGU6ICdzZXRUYXJnZXQnXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBleHBvcnRzLkF1dG9tYXRpb25FdmVudExpc3QgPSBBdXRvbWF0aW9uRXZlbnRMaXN0O1xuICAgIGV4cG9ydHMuY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCA9IGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQ7XG4gICAgZXhwb3J0cy5jcmVhdGVDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQgPSBjcmVhdGVDYW5jZWxTY2hlZHVsZWRWYWx1ZXNBdXRvbWF0aW9uRXZlbnQ7XG4gICAgZXhwb3J0cy5jcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudDtcbiAgICBleHBvcnRzLmNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50ID0gY3JlYXRlTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQ7XG4gICAgZXhwb3J0cy5jcmVhdGVTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQgPSBjcmVhdGVTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQ7XG4gICAgZXhwb3J0cy5jcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCA9IGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50O1xuICAgIGV4cG9ydHMuY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCA9IGNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQ7XG5cbn0pKTtcbiIsIi8qIVxuICogbWF0dGVyLWpzIDAuMTkuMCBieSBAbGlhYnJ1XG4gKiBodHRwOi8vYnJtLmlvL21hdHRlci1qcy9cbiAqIExpY2Vuc2UgTUlUXG4gKiBcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogXG4gKiBDb3B5cmlnaHQgKGMpIExpYW0gQnJ1bW1pdHQgYW5kIGNvbnRyaWJ1dG9ycy5cbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIk1hdHRlclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJNYXR0ZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiTWF0dGVyXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Db21tb25gIG1vZHVsZSBjb250YWlucyB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IGFyZSBjb21tb24gdG8gYWxsIG1vZHVsZXMuXG4qXG4qIEBjbGFzcyBDb21tb25cbiovXG5cbnZhciBDb21tb24gPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21tb247XG5cbihmdW5jdGlvbigpIHtcblxuICAgIENvbW1vbi5fYmFzZURlbHRhID0gMTAwMCAvIDYwO1xuICAgIENvbW1vbi5fbmV4dElkID0gMDtcbiAgICBDb21tb24uX3NlZWQgPSAwO1xuICAgIENvbW1vbi5fbm93U3RhcnRUaW1lID0gKyhuZXcgRGF0ZSgpKTtcbiAgICBDb21tb24uX3dhcm5lZE9uY2UgPSB7fTtcbiAgICBDb21tb24uX2RlY29tcCA9IG51bGw7XG4gICAgXG4gICAgLyoqXG4gICAgICogRXh0ZW5kcyB0aGUgb2JqZWN0IGluIHRoZSBmaXJzdCBhcmd1bWVudCB1c2luZyB0aGUgb2JqZWN0IGluIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gICAgICogQG1ldGhvZCBleHRlbmRcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkZWVwXG4gICAgICogQHJldHVybiB7fSBvYmogZXh0ZW5kZWRcbiAgICAgKi9cbiAgICBDb21tb24uZXh0ZW5kID0gZnVuY3Rpb24ob2JqLCBkZWVwKSB7XG4gICAgICAgIHZhciBhcmdzU3RhcnQsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgZGVlcENsb25lO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZGVlcCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBhcmdzU3RhcnQgPSAyO1xuICAgICAgICAgICAgZGVlcENsb25lID0gZGVlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3NTdGFydCA9IDE7XG4gICAgICAgICAgICBkZWVwQ2xvbmUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGFyZ3NTdGFydDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWVwQ2xvbmUgJiYgc291cmNlW3Byb3BdICYmIHNvdXJjZVtwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9ialtwcm9wXSB8fCBvYmpbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IG9ialtwcm9wXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tb24uZXh0ZW5kKG9ialtwcm9wXSwgZGVlcENsb25lLCBzb3VyY2VbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY2xvbmUgb2YgdGhlIG9iamVjdCwgaWYgZGVlcCBpcyB0cnVlIHJlZmVyZW5jZXMgd2lsbCBhbHNvIGJlIGNsb25lZC5cbiAgICAgKiBAbWV0aG9kIGNsb25lXG4gICAgICogQHBhcmFtIHt9IG9ialxuICAgICAqIEBwYXJhbSB7Ym9vbH0gZGVlcFxuICAgICAqIEByZXR1cm4ge30gb2JqIGNsb25lZFxuICAgICAqL1xuICAgIENvbW1vbi5jbG9uZSA9IGZ1bmN0aW9uKG9iaiwgZGVlcCkge1xuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZCh7fSwgZGVlcCwgb2JqKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBrZXlzIGZvciB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEBtZXRob2Qga2V5c1xuICAgICAqIEBwYXJhbSB7fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0ga2V5c1xuICAgICAqL1xuICAgIENvbW1vbi5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cylcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xuXG4gICAgICAgIC8vIGF2b2lkIGhhc093blByb3BlcnR5IGZvciBwZXJmb3JtYW5jZVxuICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZhbHVlcyBmb3IgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7fSBvYmpcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gQXJyYXkgb2YgdGhlIG9iamVjdHMgcHJvcGVydHkgdmFsdWVzXG4gICAgICovXG4gICAgQ29tbW9uLnZhbHVlcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIFxuICAgICAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKG9ialtrZXlzW2ldXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iailcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG9ialtrZXldKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHZhbHVlIGZyb20gYGJhc2VgIHJlbGF0aXZlIHRvIHRoZSBgcGF0aGAgc3RyaW5nLlxuICAgICAqIEBtZXRob2QgZ2V0XG4gICAgICogQHBhcmFtIHt9IG9iaiBUaGUgYmFzZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWAsIGUuZy4gJ0Zvby5CYXIuYmF6J1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5dIFBhdGggc2xpY2UgYmVnaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF0gUGF0aCBzbGljZSBlbmRcbiAgICAgKiBAcmV0dXJuIHt9IFRoZSBvYmplY3QgYXQgdGhlIGdpdmVuIHBhdGhcbiAgICAgKi9cbiAgICBDb21tb24uZ2V0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBiZWdpbiwgZW5kKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCcuJykuc2xpY2UoYmVnaW4sIGVuZCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbcGF0aFtpXV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgdmFsdWUgb24gYGJhc2VgIHJlbGF0aXZlIHRvIHRoZSBnaXZlbiBgcGF0aGAgc3RyaW5nLlxuICAgICAqIEBtZXRob2Qgc2V0XG4gICAgICogQHBhcmFtIHt9IG9iaiBUaGUgYmFzZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWAsIGUuZy4gJ0Zvby5CYXIuYmF6J1xuICAgICAqIEBwYXJhbSB7fSB2YWwgVGhlIHZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5dIFBhdGggc2xpY2UgYmVnaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF0gUGF0aCBzbGljZSBlbmRcbiAgICAgKiBAcmV0dXJuIHt9IFBhc3MgdGhyb3VnaCBgdmFsYCBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBDb21tb24uc2V0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCB2YWwsIGJlZ2luLCBlbmQpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLicpLnNsaWNlKGJlZ2luLCBlbmQpO1xuICAgICAgICBDb21tb24uZ2V0KG9iaiwgcGF0aCwgMCwgLTEpW3BhcnRzW3BhcnRzLmxlbmd0aCAtIDFdXSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2h1ZmZsZXMgdGhlIGdpdmVuIGFycmF5IGluLXBsYWNlLlxuICAgICAqIFRoZSBmdW5jdGlvbiB1c2VzIGEgc2VlZGVkIHJhbmRvbSBnZW5lcmF0b3IuXG4gICAgICogQG1ldGhvZCBzaHVmZmxlXG4gICAgICogQHBhcmFtIHthcnJheX0gYXJyYXlcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgc2h1ZmZsZWQgcmFuZG9tbHlcbiAgICAgKi9cbiAgICBDb21tb24uc2h1ZmZsZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoQ29tbW9uLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcbiAgICAgICAgICAgIGFycmF5W2pdID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJhbmRvbWx5IGNob29zZXMgYSB2YWx1ZSBmcm9tIGEgbGlzdCB3aXRoIGVxdWFsIHByb2JhYmlsaXR5LlxuICAgICAqIFRoZSBmdW5jdGlvbiB1c2VzIGEgc2VlZGVkIHJhbmRvbSBnZW5lcmF0b3IuXG4gICAgICogQG1ldGhvZCBjaG9vc2VcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBjaG9pY2VzXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBBIHJhbmRvbSBjaG9pY2Ugb2JqZWN0IGZyb20gdGhlIGFycmF5XG4gICAgICovXG4gICAgQ29tbW9uLmNob29zZSA9IGZ1bmN0aW9uKGNob2ljZXMpIHtcbiAgICAgICAgcmV0dXJuIGNob2ljZXNbTWF0aC5mbG9vcihDb21tb24ucmFuZG9tKCkgKiBjaG9pY2VzLmxlbmd0aCldO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIEhUTUxFbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICogQG1ldGhvZCBpc0VsZW1lbnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgSFRNTEVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIENvbW1vbi5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlICYmIG9iai5ub2RlTmFtZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGFuIGFycmF5LlxuICAgICAqIEBtZXRob2QgaXNBcnJheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gYXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIENvbW1vbi5pc0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBmdW5jdGlvbi5cbiAgICAgKiBAbWV0aG9kIGlzRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgZnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIENvbW1vbi5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBtZXRob2QgaXNQbGFpbk9iamVjdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYSBwbGFpbiBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIENvbW1vbi5pc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBzdHJpbmcuXG4gICAgICogQG1ldGhvZCBpc1N0cmluZ1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYSBzdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIENvbW1vbi5pc1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdpdmVuIHZhbHVlIGNsYW1wZWQgYmV0d2VlbiBhIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWUuXG4gICAgICogQG1ldGhvZCBjbGFtcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmFsdWUgY2xhbXBlZCBiZXR3ZWVuIG1pbiBhbmQgbWF4IGluY2x1c2l2ZVxuICAgICAqL1xuICAgIENvbW1vbi5jbGFtcCA9IGZ1bmN0aW9uKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICBpZiAodmFsdWUgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICBpZiAodmFsdWUgPiBtYXgpXG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduIG9mIHRoZSBnaXZlbiB2YWx1ZS5cbiAgICAgKiBAbWV0aG9kIHNpZ25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IC0xIGlmIG5lZ2F0aXZlLCArMSBpZiAwIG9yIHBvc2l0aXZlXG4gICAgICovXG4gICAgQ29tbW9uLnNpZ24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPCAwID8gLTEgOiAxO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCB0aW1lc3RhbXAgc2luY2UgdGhlIHRpbWUgb3JpZ2luIChlLmcuIGZyb20gcGFnZSBsb2FkKS5cbiAgICAgKiBUaGUgcmVzdWx0IGlzIGluIG1pbGxpc2Vjb25kcyBhbmQgd2lsbCB1c2UgaGlnaC1yZXNvbHV0aW9uIHRpbWluZyBpZiBhdmFpbGFibGUuXG4gICAgICogQG1ldGhvZCBub3dcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHNcbiAgICAgKi9cbiAgICBDb21tb24ubm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBlcmZvcm1hbmNlLndlYmtpdE5vdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uud2Via2l0Tm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoRGF0ZS5ub3cpIHtcbiAgICAgICAgICAgIHJldHVybiBEYXRlLm5vdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKSAtIENvbW1vbi5fbm93U3RhcnRUaW1lO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJhbmRvbSB2YWx1ZSBiZXR3ZWVuIGEgbWluaW11bSBhbmQgYSBtYXhpbXVtIHZhbHVlIGluY2x1c2l2ZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLlxuICAgICAqIEBtZXRob2QgcmFuZG9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IGluY2x1c2l2ZVxuICAgICAqL1xuICAgIENvbW1vbi5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgICAgICBtaW4gPSAodHlwZW9mIG1pbiAhPT0gXCJ1bmRlZmluZWRcIikgPyBtaW4gOiAwO1xuICAgICAgICBtYXggPSAodHlwZW9mIG1heCAhPT0gXCJ1bmRlZmluZWRcIikgPyBtYXggOiAxO1xuICAgICAgICByZXR1cm4gbWluICsgX3NlZWRlZFJhbmRvbSgpICogKG1heCAtIG1pbik7XG4gICAgfTtcblxuICAgIHZhciBfc2VlZGVkUmFuZG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9jb25ncnVlbnRpYWxfZ2VuZXJhdG9yXG4gICAgICAgIENvbW1vbi5fc2VlZCA9IChDb21tb24uX3NlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgICAgICByZXR1cm4gQ29tbW9uLl9zZWVkIC8gMjMzMjgwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIENTUyBoZXggY29sb3VyIHN0cmluZyBpbnRvIGFuIGludGVnZXIuXG4gICAgICogQG1ldGhvZCBjb2xvclRvTnVtYmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yU3RyaW5nXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlZ2VyIHJlcHJlc2VudGluZyB0aGUgQ1NTIGhleCBzdHJpbmdcbiAgICAgKi9cbiAgICBDb21tb24uY29sb3JUb051bWJlciA9IGZ1bmN0aW9uKGNvbG9yU3RyaW5nKSB7XG4gICAgICAgIGNvbG9yU3RyaW5nID0gY29sb3JTdHJpbmcucmVwbGFjZSgnIycsJycpO1xuXG4gICAgICAgIGlmIChjb2xvclN0cmluZy5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgY29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5jaGFyQXQoMCkgKyBjb2xvclN0cmluZy5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3JTdHJpbmcuY2hhckF0KDEpICsgY29sb3JTdHJpbmcuY2hhckF0KDEpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGNvbG9yU3RyaW5nLmNoYXJBdCgyKSArIGNvbG9yU3RyaW5nLmNoYXJBdCgyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc29sZSBsb2dnaW5nIGxldmVsIHRvIHVzZSwgd2hlcmUgZWFjaCBsZXZlbCBpbmNsdWRlcyBhbGwgbGV2ZWxzIGFib3ZlIGFuZCBleGNsdWRlcyB0aGUgbGV2ZWxzIGJlbG93LlxuICAgICAqIFRoZSBkZWZhdWx0IGxldmVsIGlzICdkZWJ1Zycgd2hpY2ggc2hvd3MgYWxsIGNvbnNvbGUgbWVzc2FnZXMuICBcbiAgICAgKlxuICAgICAqIFBvc3NpYmxlIGxldmVsIHZhbHVlcyBhcmU6XG4gICAgICogLSAwID0gTm9uZVxuICAgICAqIC0gMSA9IERlYnVnXG4gICAgICogLSAyID0gSW5mb1xuICAgICAqIC0gMyA9IFdhcm5cbiAgICAgKiAtIDQgPSBFcnJvclxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJvcGVydHkgbG9nTGV2ZWxcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBDb21tb24ubG9nTGV2ZWwgPSAxO1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSBgY29uc29sZS5sb2dgIG1lc3NhZ2Ugb25seSBpZiB0aGUgY3VycmVudCBgQ29tbW9uLmxvZ0xldmVsYCBhbGxvd3MgaXQuXG4gICAgICogVGhlIG1lc3NhZ2Ugd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdtYXR0ZXItanMnIHRvIG1ha2UgaXQgZWFzaWx5IGlkZW50aWZpYWJsZS5cbiAgICAgKiBAbWV0aG9kIGxvZ1xuICAgICAqIEBwYXJhbSAuLi5vYmpzIHt9IFRoZSBvYmplY3RzIHRvIGxvZy5cbiAgICAgKi9cbiAgICBDb21tb24ubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25zb2xlICYmIENvbW1vbi5sb2dMZXZlbCA+IDAgJiYgQ29tbW9uLmxvZ0xldmVsIDw9IDMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIFsnbWF0dGVyLWpzOiddLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSBgY29uc29sZS5pbmZvYCBtZXNzYWdlIG9ubHkgaWYgdGhlIGN1cnJlbnQgYENvbW1vbi5sb2dMZXZlbGAgYWxsb3dzIGl0LlxuICAgICAqIFRoZSBtZXNzYWdlIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnbWF0dGVyLWpzJyB0byBtYWtlIGl0IGVhc2lseSBpZGVudGlmaWFibGUuXG4gICAgICogQG1ldGhvZCBpbmZvXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25zb2xlICYmIENvbW1vbi5sb2dMZXZlbCA+IDAgJiYgQ29tbW9uLmxvZ0xldmVsIDw9IDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLCBbJ21hdHRlci1qczonXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgYGNvbnNvbGUud2FybmAgbWVzc2FnZSBvbmx5IGlmIHRoZSBjdXJyZW50IGBDb21tb24ubG9nTGV2ZWxgIGFsbG93cyBpdC5cbiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ21hdHRlci1qcycgdG8gbWFrZSBpdCBlYXNpbHkgaWRlbnRpZmlhYmxlLlxuICAgICAqIEBtZXRob2Qgd2FyblxuICAgICAqIEBwYXJhbSAuLi5vYmpzIHt9IFRoZSBvYmplY3RzIHRvIGxvZy5cbiAgICAgKi9cbiAgICBDb21tb24ud2FybiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY29uc29sZSAmJiBDb21tb24ubG9nTGV2ZWwgPiAwICYmIENvbW1vbi5sb2dMZXZlbCA8PSAzKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSwgWydtYXR0ZXItanM6J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGBDb21tb24ud2FybmAgdG8gbG9nIHRoZSBnaXZlbiBtZXNzYWdlIG9uZSB0aW1lIG9ubHkuXG4gICAgICogQG1ldGhvZCB3YXJuT25jZVxuICAgICAqIEBwYXJhbSAuLi5vYmpzIHt9IFRoZSBvYmplY3RzIHRvIGxvZy5cbiAgICAgKi9cbiAgICBDb21tb24ud2Fybk9uY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oJyAnKTtcblxuICAgICAgICBpZiAoIUNvbW1vbi5fd2FybmVkT25jZVttZXNzYWdlXSkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICBDb21tb24uX3dhcm5lZE9uY2VbbWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgZGVwcmVjYXRlZCBjb25zb2xlIHdhcm5pbmcgd2hlbiB0aGUgZnVuY3Rpb24gb24gdGhlIGdpdmVuIG9iamVjdCBpcyBjYWxsZWQuXG4gICAgICogVGhlIHRhcmdldCBmdW5jdGlvbiB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSBuZXcgZnVuY3Rpb24gdGhhdCBmaXJzdCBzaG93cyB0aGUgd2FybmluZ1xuICAgICAqIGFuZCB0aGVuIGNhbGxzIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgICAgKiBAbWV0aG9kIGRlcHJlY2F0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFRoZSBvYmplY3Qgb3IgbW9kdWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGZ1bmN0aW9uIG9uIG9ialxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB3YXJuaW5nIFRoZSBvbmUtdGltZSBtZXNzYWdlIHRvIHNob3cgaWYgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICAgICAqL1xuICAgIENvbW1vbi5kZXByZWNhdGVkID0gZnVuY3Rpb24ob2JqLCBwcm9wLCB3YXJuaW5nKSB7XG4gICAgICAgIG9ialtwcm9wXSA9IENvbW1vbi5jaGFpbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuT25jZSgn8J+UhSBkZXByZWNhdGVkIPCflIUnLCB3YXJuaW5nKTtcbiAgICAgICAgfSwgb2JqW3Byb3BdKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmV4dCB1bmlxdWUgc2VxdWVudGlhbCBJRC5cbiAgICAgKiBAbWV0aG9kIG5leHRJZFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gVW5pcXVlIHNlcXVlbnRpYWwgSURcbiAgICAgKi9cbiAgICBDb21tb24ubmV4dElkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uX25leHRJZCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGNyb3NzIGJyb3dzZXIgY29tcGF0aWJsZSBpbmRleE9mIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBtZXRob2QgaW5kZXhPZlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGhheXN0YWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG5lZWRsZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBvc2l0aW9uIG9mIG5lZWRsZSBpbiBoYXlzdGFjaywgb3RoZXJ3aXNlIC0xLlxuICAgICAqL1xuICAgIENvbW1vbi5pbmRleE9mID0gZnVuY3Rpb24oaGF5c3RhY2ssIG5lZWRsZSkge1xuICAgICAgICBpZiAoaGF5c3RhY2suaW5kZXhPZilcbiAgICAgICAgICAgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYXlzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhheXN0YWNrW2ldID09PSBuZWVkbGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgY3Jvc3MgYnJvd3NlciBjb21wYXRpYmxlIGFycmF5IG1hcCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAbWV0aG9kIG1hcFxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGxpc3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jXG4gICAgICogQHJldHVybiB7YXJyYXl9IFZhbHVlcyBmcm9tIGxpc3QgdHJhbnNmb3JtZWQgYnkgZnVuYy5cbiAgICAgKi9cbiAgICBDb21tb24ubWFwID0gZnVuY3Rpb24obGlzdCwgZnVuYykge1xuICAgICAgICBpZiAobGlzdC5tYXApIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0Lm1hcChmdW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZ1bmMobGlzdFtpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBkaXJlY3RlZCBncmFwaCBhbmQgcmV0dXJucyB0aGUgcGFydGlhbGx5IG9yZGVyZWQgc2V0IG9mIHZlcnRpY2VzIGluIHRvcG9sb2dpY2FsIG9yZGVyLlxuICAgICAqIENpcmN1bGFyIGRlcGVuZGVuY2llcyBhcmUgYWxsb3dlZC5cbiAgICAgKiBAbWV0aG9kIHRvcG9sb2dpY2FsU29ydFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBncmFwaFxuICAgICAqIEByZXR1cm4ge2FycmF5fSBQYXJ0aWFsbHkgb3JkZXJlZCBzZXQgb2YgdmVydGljZXMgaW4gdG9wb2xvZ2ljYWwgb3JkZXIuXG4gICAgICovXG4gICAgQ29tbW9uLnRvcG9sb2dpY2FsU29ydCA9IGZ1bmN0aW9uKGdyYXBoKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZ2VjaGV2L2phdmFzY3JpcHQtYWxnb3JpdGhtc1xuICAgICAgICAvLyBDb3B5cmlnaHQgKGMpIE1pbmtvIEdlY2hldiAoTUlUIGxpY2Vuc2UpXG4gICAgICAgIC8vIE1vZGlmaWNhdGlvbnM6IHRpZHkgZm9ybWF0dGluZyBhbmQgbmFtaW5nXG4gICAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgICAgIHZpc2l0ZWQgPSBbXSxcbiAgICAgICAgICAgIHRlbXAgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBub2RlIGluIGdyYXBoKSB7XG4gICAgICAgICAgICBpZiAoIXZpc2l0ZWRbbm9kZV0gJiYgIXRlbXBbbm9kZV0pIHtcbiAgICAgICAgICAgICAgICBDb21tb24uX3RvcG9sb2dpY2FsU29ydChub2RlLCB2aXNpdGVkLCB0ZW1wLCBncmFwaCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIENvbW1vbi5fdG9wb2xvZ2ljYWxTb3J0ID0gZnVuY3Rpb24obm9kZSwgdmlzaXRlZCwgdGVtcCwgZ3JhcGgsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbmVpZ2hib3JzID0gZ3JhcGhbbm9kZV0gfHwgW107XG4gICAgICAgIHRlbXBbbm9kZV0gPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wW25laWdoYm9yXSkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgY2lyY3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdmlzaXRlZFtuZWlnaGJvcl0pIHtcbiAgICAgICAgICAgICAgICBDb21tb24uX3RvcG9sb2dpY2FsU29ydChuZWlnaGJvciwgdmlzaXRlZCwgdGVtcCwgZ3JhcGgsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZW1wW25vZGVdID0gZmFsc2U7XG4gICAgICAgIHZpc2l0ZWRbbm9kZV0gPSB0cnVlO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBfbl8gZnVuY3Rpb25zIGFzIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIG5ldyBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZW0gaW4gb3JkZXIuXG4gICAgICogVGhlIGFyZ3VtZW50cyBhcHBsaWVkIHdoZW4gY2FsbGluZyB0aGUgbmV3IGZ1bmN0aW9uIHdpbGwgYWxzbyBiZSBhcHBsaWVkIHRvIGV2ZXJ5IGZ1bmN0aW9uIHBhc3NlZC5cbiAgICAgKiBUaGUgdmFsdWUgb2YgYHRoaXNgIHJlZmVycyB0byB0aGUgbGFzdCB2YWx1ZSByZXR1cm5lZCBpbiB0aGUgY2hhaW4gdGhhdCB3YXMgbm90IGB1bmRlZmluZWRgLlxuICAgICAqIFRoZXJlZm9yZSBpZiBhIHBhc3NlZCBmdW5jdGlvbiBkb2VzIG5vdCByZXR1cm4gYSB2YWx1ZSwgdGhlIHByZXZpb3VzbHkgcmV0dXJuZWQgdmFsdWUgaXMgbWFpbnRhaW5lZC5cbiAgICAgKiBBZnRlciBhbGwgcGFzc2VkIGZ1bmN0aW9ucyBoYXZlIGJlZW4gY2FsbGVkIHRoZSBuZXcgZnVuY3Rpb24gcmV0dXJucyB0aGUgbGFzdCByZXR1cm5lZCB2YWx1ZSAoaWYgYW55KS5cbiAgICAgKiBJZiBhbnkgb2YgdGhlIHBhc3NlZCBmdW5jdGlvbnMgYXJlIGEgY2hhaW4sIHRoZW4gdGhlIGNoYWluIHdpbGwgYmUgZmxhdHRlbmVkLlxuICAgICAqIEBtZXRob2QgY2hhaW5cbiAgICAgKiBAcGFyYW0gLi4uZnVuY3Mge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb25zIHRvIGNoYWluLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZSBwYXNzZWQgZnVuY3Rpb25zIGluIG9yZGVyLlxuICAgICAqL1xuICAgIENvbW1vbi5jaGFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZnVuY3MgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGZ1bmMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChmdW5jLl9jaGFpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZmxhdHRlbiBhbHJlYWR5IGNoYWluZWQgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgZnVuY3MucHVzaC5hcHBseShmdW5jcywgZnVuYy5fY2hhaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZ1bmNzLnB1c2goZnVuYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvZGV2dG9vbHMtZG9jcy9pc3N1ZXMvNTMjaXNzdWVjb21tZW50LTUxOTQxMzU4XG4gICAgICAgICAgICB2YXIgbGFzdFJlc3VsdCxcbiAgICAgICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZnVuY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuY3NbaV0uYXBwbHkobGFzdFJlc3VsdCwgYXJncyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNoYWluLl9jaGFpbmVkID0gZnVuY3M7XG5cbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYmVmb3JlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBiYXNlYC5cbiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC5cbiAgICAgKiBAbWV0aG9kIGNoYWluUGF0aEJlZm9yZVxuICAgICAqIEBwYXJhbSB7fSBiYXNlIFRoZSBiYXNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGJlZm9yZSB0aGUgb3JpZ2luYWxcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWxcbiAgICAgKi9cbiAgICBDb21tb24uY2hhaW5QYXRoQmVmb3JlID0gZnVuY3Rpb24oYmFzZSwgcGF0aCwgZnVuYykge1xuICAgICAgICByZXR1cm4gQ29tbW9uLnNldChiYXNlLCBwYXRoLCBDb21tb24uY2hhaW4oXG4gICAgICAgICAgICBmdW5jLFxuICAgICAgICAgICAgQ29tbW9uLmdldChiYXNlLCBwYXRoKVxuICAgICAgICApKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGFmdGVyIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBiYXNlYC5cbiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC5cbiAgICAgKiBAbWV0aG9kIGNoYWluUGF0aEFmdGVyXG4gICAgICogQHBhcmFtIHt9IGJhc2UgVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgdGhlIG9yaWdpbmFsXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsXG4gICAgICovXG4gICAgQ29tbW9uLmNoYWluUGF0aEFmdGVyID0gZnVuY3Rpb24oYmFzZSwgcGF0aCwgZnVuYykge1xuICAgICAgICByZXR1cm4gQ29tbW9uLnNldChiYXNlLCBwYXRoLCBDb21tb24uY2hhaW4oXG4gICAgICAgICAgICBDb21tb24uZ2V0KGJhc2UsIHBhdGgpLFxuICAgICAgICAgICAgZnVuY1xuICAgICAgICApKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgW3BvbHktZGVjb21wXShodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvcG9seS1kZWNvbXAuanMpIGxpYnJhcnkgbW9kdWxlIHRvIGVuYWJsZVxuICAgICAqIGNvbmNhdmUgdmVydGV4IGRlY29tcG9zaXRpb24gc3VwcG9ydCB3aGVuIHVzaW5nIGBCb2RpZXMuZnJvbVZlcnRpY2VzYCBlLmcuIGBDb21tb24uc2V0RGVjb21wKHJlcXVpcmUoJ3BvbHktZGVjb21wJykpYC5cbiAgICAgKiBAbWV0aG9kIHNldERlY29tcFxuICAgICAqIEBwYXJhbSB7fSBkZWNvbXAgVGhlIFtwb2x5LWRlY29tcF0oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBsaWJyYXJ5IG1vZHVsZS5cbiAgICAgKi9cbiAgICBDb21tb24uc2V0RGVjb21wID0gZnVuY3Rpb24oZGVjb21wKSB7XG4gICAgICAgIENvbW1vbi5fZGVjb21wID0gZGVjb21wO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgbGlicmFyeSBtb2R1bGUgcHJvdmlkZWQgdGhyb3VnaCBgQ29tbW9uLnNldERlY29tcGAsXG4gICAgICogb3RoZXJ3aXNlIHJldHVybnMgdGhlIGdsb2JhbCBgZGVjb21wYCBpZiBzZXQuXG4gICAgICogQG1ldGhvZCBnZXREZWNvbXBcbiAgICAgKiBAcmV0dXJuIHt9IFRoZSBbcG9seS1kZWNvbXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgbGlicmFyeSBtb2R1bGUgaWYgcHJvdmlkZWQuXG4gICAgICovXG4gICAgQ29tbW9uLmdldERlY29tcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBnZXQgdXNlciBwcm92aWRlZCBkZWNvbXAgaWYgc2V0XG4gICAgICAgIHZhciBkZWNvbXAgPSBDb21tb24uX2RlY29tcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGZyb20gd2luZG93IGdsb2JhbFxuICAgICAgICAgICAgaWYgKCFkZWNvbXAgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWNvbXAgPSB3aW5kb3cuZGVjb21wO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGZyb20gbm9kZSBnbG9iYWxcbiAgICAgICAgICAgIGlmICghZGVjb21wICYmIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZGVjb21wID0gZ2xvYmFsLmRlY29tcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZGVjb21wIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIGRlY29tcCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVjb21wO1xuICAgIH07XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQm91bmRzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94ZXMgKEFBQkIpLlxuKlxuKiBAY2xhc3MgQm91bmRzXG4qL1xuXG52YXIgQm91bmRzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQm91bmRzO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggKEFBQkIpIGZvciB0aGUgZ2l2ZW4gdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge2JvdW5kc30gQSBuZXcgYm91bmRzIG9iamVjdFxuICAgICAqL1xuICAgIEJvdW5kcy5jcmVhdGUgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgYm91bmRzID0geyBcbiAgICAgICAgICAgIG1pbjogeyB4OiAwLCB5OiAwIH0sIFxuICAgICAgICAgICAgbWF4OiB7IHg6IDAsIHk6IDAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNlcylcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUoYm91bmRzLCB2ZXJ0aWNlcyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGJvdW5kcyB1c2luZyB0aGUgZ2l2ZW4gdmVydGljZXMgYW5kIGV4dGVuZHMgdGhlIGJvdW5kcyBnaXZlbiBhIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm91bmRzLnVwZGF0ZSA9IGZ1bmN0aW9uKGJvdW5kcywgdmVydGljZXMsIHZlbG9jaXR5KSB7XG4gICAgICAgIGJvdW5kcy5taW4ueCA9IEluZmluaXR5O1xuICAgICAgICBib3VuZHMubWF4LnggPSAtSW5maW5pdHk7XG4gICAgICAgIGJvdW5kcy5taW4ueSA9IEluZmluaXR5O1xuICAgICAgICBib3VuZHMubWF4LnkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgaWYgKHZlcnRleC54ID4gYm91bmRzLm1heC54KSBib3VuZHMubWF4LnggPSB2ZXJ0ZXgueDtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXgueCA8IGJvdW5kcy5taW4ueCkgYm91bmRzLm1pbi54ID0gdmVydGV4Lng7XG4gICAgICAgICAgICBpZiAodmVydGV4LnkgPiBib3VuZHMubWF4LnkpIGJvdW5kcy5tYXgueSA9IHZlcnRleC55O1xuICAgICAgICAgICAgaWYgKHZlcnRleC55IDwgYm91bmRzLm1pbi55KSBib3VuZHMubWluLnkgPSB2ZXJ0ZXgueTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkueCA+IDApIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWF4LnggKz0gdmVsb2NpdHkueDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi54ICs9IHZlbG9jaXR5Lng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eS55ID4gMCkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueSArPSB2ZWxvY2l0eS55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLnkgKz0gdmVsb2NpdHkueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJvdW5kcyBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAgICogQG1ldGhvZCBjb250YWluc1xuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBib3VuZHMgY29udGFpbiB0aGUgcG9pbnQsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIEJvdW5kcy5jb250YWlucyA9IGZ1bmN0aW9uKGJvdW5kcywgcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50LnggPj0gYm91bmRzLm1pbi54ICYmIHBvaW50LnggPD0gYm91bmRzLm1heC54IFxuICAgICAgICAgICAgICAgJiYgcG9pbnQueSA+PSBib3VuZHMubWluLnkgJiYgcG9pbnQueSA8PSBib3VuZHMubWF4Lnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIGJvdW5kcyBpbnRlcnNlY3QuXG4gICAgICogQG1ldGhvZCBvdmVybGFwc1xuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNBXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc0JcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBib3VuZHMgb3ZlcmxhcCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQm91bmRzLm92ZXJsYXBzID0gZnVuY3Rpb24oYm91bmRzQSwgYm91bmRzQikge1xuICAgICAgICByZXR1cm4gKGJvdW5kc0EubWluLnggPD0gYm91bmRzQi5tYXgueCAmJiBib3VuZHNBLm1heC54ID49IGJvdW5kc0IubWluLnhcbiAgICAgICAgICAgICAgICAmJiBib3VuZHNBLm1heC55ID49IGJvdW5kc0IubWluLnkgJiYgYm91bmRzQS5taW4ueSA8PSBib3VuZHNCLm1heC55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgYm91bmRzIGJ5IHRoZSBnaXZlbiB2ZWN0b3IuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqL1xuICAgIEJvdW5kcy50cmFuc2xhdGUgPSBmdW5jdGlvbihib3VuZHMsIHZlY3Rvcikge1xuICAgICAgICBib3VuZHMubWluLnggKz0gdmVjdG9yLng7XG4gICAgICAgIGJvdW5kcy5tYXgueCArPSB2ZWN0b3IueDtcbiAgICAgICAgYm91bmRzLm1pbi55ICs9IHZlY3Rvci55O1xuICAgICAgICBib3VuZHMubWF4LnkgKz0gdmVjdG9yLnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNoaWZ0cyB0aGUgYm91bmRzIHRvIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKiBAbWV0aG9kIHNoaWZ0XG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvblxuICAgICAqL1xuICAgIEJvdW5kcy5zaGlmdCA9IGZ1bmN0aW9uKGJvdW5kcywgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCxcbiAgICAgICAgICAgIGRlbHRhWSA9IGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueTtcbiAgICAgICAgICAgIFxuICAgICAgICBib3VuZHMubWluLnggPSBwb3NpdGlvbi54O1xuICAgICAgICBib3VuZHMubWF4LnggPSBwb3NpdGlvbi54ICsgZGVsdGFYO1xuICAgICAgICBib3VuZHMubWluLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICBib3VuZHMubWF4LnkgPSBwb3NpdGlvbi55ICsgZGVsdGFZO1xuICAgIH07XG4gICAgXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuVmVjdG9yYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyB2ZWN0b3JzLlxuKiBWZWN0b3JzIGFyZSB0aGUgYmFzaXMgb2YgYWxsIHRoZSBnZW9tZXRyeSByZWxhdGVkIG9wZXJhdGlvbnMgaW4gdGhlIGVuZ2luZS5cbiogQSBgTWF0dGVyLlZlY3RvcmAgb2JqZWN0IGlzIG9mIHRoZSBmb3JtIGB7IHg6IDAsIHk6IDAgfWAuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBWZWN0b3JcbiovXG5cbi8vIFRPRE86IGNvbnNpZGVyIHBhcmFtcyBmb3IgcmV1c2luZyB2ZWN0b3Igb2JqZWN0c1xuXG52YXIgVmVjdG9yID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHZlY3Rvci5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5jcmVhdGUgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHJldHVybiB7IHg6IHggfHwgMCwgeTogeSB8fCAwIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgdmVjdG9yIHdpdGggYHhgIGFuZCBgeWAgY29waWVkIGZyb20gdGhlIGdpdmVuIGB2ZWN0b3JgLlxuICAgICAqIEBtZXRob2QgY2xvbmVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyBjbG9uZWQgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLmNsb25lID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54LCB5OiB2ZWN0b3IueSB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYWduaXR1ZGUgKGxlbmd0aCkgb2YgYSB2ZWN0b3IuXG4gICAgICogQG1ldGhvZCBtYWduaXR1ZGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWFnbml0dWRlIG9mIHRoZSB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IubWFnbml0dWRlID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHZlY3Rvci54ICogdmVjdG9yLngpICsgKHZlY3Rvci55ICogdmVjdG9yLnkpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIGEgdmVjdG9yICh0aGVyZWZvcmUgc2F2aW5nIGEgYHNxcnRgIG9wZXJhdGlvbikuXG4gICAgICogQG1ldGhvZCBtYWduaXR1ZGVTcXVhcmVkXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNxdWFyZWQgbWFnbml0dWRlIG9mIHRoZSB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IubWFnbml0dWRlU3F1YXJlZCA9IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gKHZlY3Rvci54ICogdmVjdG9yLngpICsgKHZlY3Rvci55ICogdmVjdG9yLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSB2ZWN0b3IgYWJvdXQgKDAsIDApIGJ5IHNwZWNpZmllZCBhbmdsZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSB2ZWN0b3Igcm90YXRlZCBhYm91dCAoMCwgMClcbiAgICAgKi9cbiAgICBWZWN0b3Iucm90YXRlID0gZnVuY3Rpb24odmVjdG9yLCBhbmdsZSwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIG91dHB1dCA9IHt9O1xuICAgICAgICB2YXIgeCA9IHZlY3Rvci54ICogY29zIC0gdmVjdG9yLnkgKiBzaW47XG4gICAgICAgIG91dHB1dC55ID0gdmVjdG9yLnggKiBzaW4gKyB2ZWN0b3IueSAqIGNvcztcbiAgICAgICAgb3V0cHV0LnggPSB4O1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSB2ZWN0b3IgYWJvdXQgYSBzcGVjaWZpZWQgcG9pbnQgYnkgc3BlY2lmaWVkIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlQWJvdXRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtvdXRwdXRdXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igcm90YXRlZCBhYm91dCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBWZWN0b3Iucm90YXRlQWJvdXQgPSBmdW5jdGlvbih2ZWN0b3IsIGFuZ2xlLCBwb2ludCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIG91dHB1dCA9IHt9O1xuICAgICAgICB2YXIgeCA9IHBvaW50LnggKyAoKHZlY3Rvci54IC0gcG9pbnQueCkgKiBjb3MgLSAodmVjdG9yLnkgLSBwb2ludC55KSAqIHNpbik7XG4gICAgICAgIG91dHB1dC55ID0gcG9pbnQueSArICgodmVjdG9yLnggLSBwb2ludC54KSAqIHNpbiArICh2ZWN0b3IueSAtIHBvaW50LnkpICogY29zKTtcbiAgICAgICAgb3V0cHV0LnggPSB4O1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpc2VzIGEgdmVjdG9yIChzdWNoIHRoYXQgaXRzIG1hZ25pdHVkZSBpcyBgMWApLlxuICAgICAqIEBtZXRob2Qgbm9ybWFsaXNlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG5vcm1hbGlzZWRcbiAgICAgKi9cbiAgICBWZWN0b3Iubm9ybWFsaXNlID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHZhciBtYWduaXR1ZGUgPSBWZWN0b3IubWFnbml0dWRlKHZlY3Rvcik7XG4gICAgICAgIGlmIChtYWduaXR1ZGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54IC8gbWFnbml0dWRlLCB5OiB2ZWN0b3IueSAvIG1hZ25pdHVkZSB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb3QtcHJvZHVjdCBvZiB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIGRvdFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgdHdvIHZlY3RvcnNcbiAgICAgKi9cbiAgICBWZWN0b3IuZG90ID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQikge1xuICAgICAgICByZXR1cm4gKHZlY3RvckEueCAqIHZlY3RvckIueCkgKyAodmVjdG9yQS55ICogdmVjdG9yQi55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIGNyb3NzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNyb3NzIHByb2R1Y3Qgb2YgdGhlIHR3byB2ZWN0b3JzXG4gICAgICovXG4gICAgVmVjdG9yLmNyb3NzID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQikge1xuICAgICAgICByZXR1cm4gKHZlY3RvckEueCAqIHZlY3RvckIueSkgLSAodmVjdG9yQS55ICogdmVjdG9yQi54KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgY3Jvc3MzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JDXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdGhyZWUgdmVjdG9yc1xuICAgICAqL1xuICAgIFZlY3Rvci5jcm9zczMgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCLCB2ZWN0b3JDKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yQi54IC0gdmVjdG9yQS54KSAqICh2ZWN0b3JDLnkgLSB2ZWN0b3JBLnkpIC0gKHZlY3RvckIueSAtIHZlY3RvckEueSkgKiAodmVjdG9yQy54IC0gdmVjdG9yQS54KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgdHdvIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBhZGRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtvdXRwdXRdXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igb2YgdmVjdG9yQSBhbmQgdmVjdG9yQiBhZGRlZFxuICAgICAqL1xuICAgIFZlY3Rvci5hZGQgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCLCBvdXRwdXQpIHtcbiAgICAgICAgaWYgKCFvdXRwdXQpIG91dHB1dCA9IHt9O1xuICAgICAgICBvdXRwdXQueCA9IHZlY3RvckEueCArIHZlY3RvckIueDtcbiAgICAgICAgb3V0cHV0LnkgPSB2ZWN0b3JBLnkgKyB2ZWN0b3JCLnk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0aGUgdHdvIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBzdWJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtvdXRwdXRdXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igb2YgdmVjdG9yQSBhbmQgdmVjdG9yQiBzdWJ0cmFjdGVkXG4gICAgICovXG4gICAgVmVjdG9yLnN1YiA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIG91dHB1dCkge1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIG91dHB1dC54ID0gdmVjdG9yQS54IC0gdmVjdG9yQi54O1xuICAgICAgICBvdXRwdXQueSA9IHZlY3RvckEueSAtIHZlY3RvckIueTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyBhIHZlY3RvciBhbmQgYSBzY2FsYXIuXG4gICAgICogQG1ldGhvZCBtdWx0XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBtdWx0aXBsaWVkIGJ5IHNjYWxhclxuICAgICAqL1xuICAgIFZlY3Rvci5tdWx0ID0gZnVuY3Rpb24odmVjdG9yLCBzY2FsYXIpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLnggKiBzY2FsYXIsIHk6IHZlY3Rvci55ICogc2NhbGFyIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgYSB2ZWN0b3IgYW5kIGEgc2NhbGFyLlxuICAgICAqIEBtZXRob2QgZGl2XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBkaXZpZGVkIGJ5IHNjYWxhclxuICAgICAqL1xuICAgIFZlY3Rvci5kaXYgPSBmdW5jdGlvbih2ZWN0b3IsIHNjYWxhcikge1xuICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAvIHNjYWxhciwgeTogdmVjdG9yLnkgLyBzY2FsYXIgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGVycGVuZGljdWxhciB2ZWN0b3IuIFNldCBgbmVnYXRlYCB0byB0cnVlIGZvciB0aGUgcGVycGVuZGljdWxhciBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLlxuICAgICAqIEBtZXRob2QgcGVycFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtuZWdhdGU9ZmFsc2VdXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgcGVycGVuZGljdWxhciB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IucGVycCA9IGZ1bmN0aW9uKHZlY3RvciwgbmVnYXRlKSB7XG4gICAgICAgIG5lZ2F0ZSA9IG5lZ2F0ZSA9PT0gdHJ1ZSA/IC0xIDogMTtcbiAgICAgICAgcmV0dXJuIHsgeDogbmVnYXRlICogLXZlY3Rvci55LCB5OiBuZWdhdGUgKiB2ZWN0b3IueCB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGVzIGJvdGggY29tcG9uZW50cyBvZiBhIHZlY3RvciBzdWNoIHRoYXQgaXQgcG9pbnRzIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG4gICAgICogQG1ldGhvZCBuZWdcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgbmVnYXRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IubmVnID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB7IHg6IC12ZWN0b3IueCwgeTogLXZlY3Rvci55IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFuZ2xlIGJldHdlZW4gdGhlIHZlY3RvciBgdmVjdG9yQiAtIHZlY3RvckFgIGFuZCB0aGUgeC1heGlzIGluIHJhZGlhbnMuXG4gICAgICogQG1ldGhvZCBhbmdsZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gICAgICovXG4gICAgVmVjdG9yLmFuZ2xlID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQikge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih2ZWN0b3JCLnkgLSB2ZWN0b3JBLnksIHZlY3RvckIueCAtIHZlY3RvckEueCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSB2ZWN0b3IgcG9vbCAobm90IHRocmVhZC1zYWZlKS5cbiAgICAgKiBAcHJvcGVydHkgX3RlbXBcbiAgICAgKiBAdHlwZSB7dmVjdG9yW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3IuX3RlbXAgPSBbXG4gICAgICAgIFZlY3Rvci5jcmVhdGUoKSwgVmVjdG9yLmNyZWF0ZSgpLCBcbiAgICAgICAgVmVjdG9yLmNyZWF0ZSgpLCBWZWN0b3IuY3JlYXRlKCksIFxuICAgICAgICBWZWN0b3IuY3JlYXRlKCksIFZlY3Rvci5jcmVhdGUoKVxuICAgIF07XG5cbn0pKCk7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuVmVydGljZXNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHNldHMgb2YgdmVydGljZXMuXG4qIEEgc2V0IG9mIHZlcnRpY2VzIGlzIGFuIGFycmF5IG9mIGBNYXR0ZXIuVmVjdG9yYCB3aXRoIGFkZGl0aW9uYWwgaW5kZXhpbmcgcHJvcGVydGllcyBpbnNlcnRlZCBieSBgVmVydGljZXMuY3JlYXRlYC5cbiogQSBgTWF0dGVyLkJvZHlgIG1haW50YWlucyBhIHNldCBvZiB2ZXJ0aWNlcyB0byByZXByZXNlbnQgdGhlIHNoYXBlIG9mIHRoZSBvYmplY3QgKGl0cyBjb252ZXggaHVsbCkuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBWZXJ0aWNlc1xuKi9cblxudmFyIFZlcnRpY2VzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gVmVydGljZXM7XG5cbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc2V0IG9mIGBNYXR0ZXIuQm9keWAgY29tcGF0aWJsZSB2ZXJ0aWNlcy5cbiAgICAgKiBUaGUgYHBvaW50c2AgYXJndW1lbnQgYWNjZXB0cyBhbiBhcnJheSBvZiBgTWF0dGVyLlZlY3RvcmAgcG9pbnRzIG9yaWVudGF0ZWQgYXJvdW5kIHRoZSBvcmlnaW4gYCgwLCAwKWAsIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIFt7IHg6IDAsIHk6IDAgfSwgeyB4OiAyNSwgeTogNTAgfSwgeyB4OiA1MCwgeTogMCB9XVxuICAgICAqXG4gICAgICogVGhlIGBWZXJ0aWNlcy5jcmVhdGVgIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5IG9mIHZlcnRpY2VzLCB3aGljaCBhcmUgc2ltaWxhciB0byBNYXR0ZXIuVmVjdG9yIG9iamVjdHMsXG4gICAgICogYnV0IHdpdGggc29tZSBhZGRpdGlvbmFsIHJlZmVyZW5jZXMgcmVxdWlyZWQgZm9yIGVmZmljaWVudCBjb2xsaXNpb24gZGV0ZWN0aW9uIHJvdXRpbmVzLlxuICAgICAqXG4gICAgICogVmVydGljZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBgYm9keWAgYXJndW1lbnQgaXMgbm90IG9wdGlvbmFsLCBhIGBNYXR0ZXIuQm9keWAgcmVmZXJlbmNlIG11c3QgYmUgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yW119IHBvaW50c1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvaW50cywgYm9keSkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuICAgICAgICAgICAgICAgIHZlcnRleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGlzSW50ZXJuYWw6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgY29udGFpbmluZyBvcmRlcmVkIHggeSBwYWlycyBzZXBhcmF0ZWQgYnkgc3BhY2VzIChhbmQgb3B0aW9uYWxseSBjb21tYXMpLCBcbiAgICAgKiBpbnRvIGEgYE1hdHRlci5WZXJ0aWNlc2Agb2JqZWN0IGZvciB0aGUgZ2l2ZW4gYE1hdHRlci5Cb2R5YC5cbiAgICAgKiBGb3IgcGFyc2luZyBTVkcgcGF0aHMsIHNlZSBgU3ZnLnBhdGhUb1ZlcnRpY2VzYC5cbiAgICAgKiBAbWV0aG9kIGZyb21QYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5mcm9tUGF0aCA9IGZ1bmN0aW9uKHBhdGgsIGJvZHkpIHtcbiAgICAgICAgdmFyIHBhdGhQYXR0ZXJuID0gL0w/XFxzKihbLVxcZC5lXSspW1xccyxdKihbLVxcZC5lXSspKi9pZyxcbiAgICAgICAgICAgIHBvaW50cyA9IFtdO1xuXG4gICAgICAgIHBhdGgucmVwbGFjZShwYXRoUGF0dGVybiwgZnVuY3Rpb24obWF0Y2gsIHgsIHkpIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHsgeDogcGFyc2VGbG9hdCh4KSwgeTogcGFyc2VGbG9hdCh5KSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFZlcnRpY2VzLmNyZWF0ZShwb2ludHMsIGJvZHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjZW50cmUgKGNlbnRyb2lkKSBvZiB0aGUgc2V0IG9mIHZlcnRpY2VzLlxuICAgICAqIEBtZXRob2QgY2VudHJlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBjZW50cmUgcG9pbnRcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jZW50cmUgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgYXJlYSA9IFZlcnRpY2VzLmFyZWEodmVydGljZXMsIHRydWUpLFxuICAgICAgICAgICAgY2VudHJlID0geyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBjcm9zcyxcbiAgICAgICAgICAgIHRlbXAsXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGogPSAoaSArIDEpICUgdmVydGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgY3Jvc3MgPSBWZWN0b3IuY3Jvc3ModmVydGljZXNbaV0sIHZlcnRpY2VzW2pdKTtcbiAgICAgICAgICAgIHRlbXAgPSBWZWN0b3IubXVsdChWZWN0b3IuYWRkKHZlcnRpY2VzW2ldLCB2ZXJ0aWNlc1tqXSksIGNyb3NzKTtcbiAgICAgICAgICAgIGNlbnRyZSA9IFZlY3Rvci5hZGQoY2VudHJlLCB0ZW1wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBWZWN0b3IuZGl2KGNlbnRyZSwgNiAqIGFyZWEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhdmVyYWdlIChtZWFuKSBvZiB0aGUgc2V0IG9mIHZlcnRpY2VzLlxuICAgICAqIEBtZXRob2QgbWVhblxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgYXZlcmFnZSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLm1lYW4gPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgYXZlcmFnZSA9IHsgeDogMCwgeTogMCB9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGF2ZXJhZ2UueCArPSB2ZXJ0aWNlc1tpXS54O1xuICAgICAgICAgICAgYXZlcmFnZS55ICs9IHZlcnRpY2VzW2ldLnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVmVjdG9yLmRpdihhdmVyYWdlLCB2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhcmVhIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBhcmVhXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IHNpZ25lZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFyZWFcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5hcmVhID0gZnVuY3Rpb24odmVydGljZXMsIHNpZ25lZCkge1xuICAgICAgICB2YXIgYXJlYSA9IDAsXG4gICAgICAgICAgICBqID0gdmVydGljZXMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmVhICs9ICh2ZXJ0aWNlc1tqXS54IC0gdmVydGljZXNbaV0ueCkgKiAodmVydGljZXNbal0ueSArIHZlcnRpY2VzW2ldLnkpO1xuICAgICAgICAgICAgaiA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2lnbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGFyZWEgLyAyO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAvIDI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1vbWVudCBvZiBpbmVydGlhIChzZWNvbmQgbW9tZW50IG9mIGFyZWEpIG9mIHRoZSBzZXQgb2YgdmVydGljZXMgZ2l2ZW4gdGhlIHRvdGFsIG1hc3MuXG4gICAgICogQG1ldGhvZCBpbmVydGlhXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBvbHlnb24ncyBtb21lbnQgb2YgaW5lcnRpYVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmluZXJ0aWEgPSBmdW5jdGlvbih2ZXJ0aWNlcywgbWFzcykge1xuICAgICAgICB2YXIgbnVtZXJhdG9yID0gMCxcbiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gMCxcbiAgICAgICAgICAgIHYgPSB2ZXJ0aWNlcyxcbiAgICAgICAgICAgIGNyb3NzLFxuICAgICAgICAgICAgajtcblxuICAgICAgICAvLyBmaW5kIHRoZSBwb2x5Z29uJ3MgbW9tZW50IG9mIGluZXJ0aWEsIHVzaW5nIHNlY29uZCBtb21lbnQgb2YgYXJlYVxuICAgICAgICAvLyBmcm9tIGVxdWF0aW9ucyBhdCBodHRwOi8vd3d3LnBoeXNpY3Nmb3J1bXMuY29tL3Nob3d0aHJlYWQucGhwP3Q9MjUyOTNcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB2Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICBqID0gKG4gKyAxKSAlIHYubGVuZ3RoO1xuICAgICAgICAgICAgY3Jvc3MgPSBNYXRoLmFicyhWZWN0b3IuY3Jvc3ModltqXSwgdltuXSkpO1xuICAgICAgICAgICAgbnVtZXJhdG9yICs9IGNyb3NzICogKFZlY3Rvci5kb3QodltqXSwgdltqXSkgKyBWZWN0b3IuZG90KHZbal0sIHZbbl0pICsgVmVjdG9yLmRvdCh2W25dLCB2W25dKSk7XG4gICAgICAgICAgICBkZW5vbWluYXRvciArPSBjcm9zcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobWFzcyAvIDYpICogKG51bWVyYXRvciAvIGRlbm9taW5hdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgc2V0IG9mIHZlcnRpY2VzIGluLXBsYWNlLlxuICAgICAqIEBtZXRob2QgdHJhbnNsYXRlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxhclxuICAgICAqL1xuICAgIFZlcnRpY2VzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCB2ZWN0b3IsIHNjYWxhcikge1xuICAgICAgICBzY2FsYXIgPSB0eXBlb2Ygc2NhbGFyICE9PSAndW5kZWZpbmVkJyA/IHNjYWxhciA6IDE7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzTGVuZ3RoID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgdHJhbnNsYXRlWCA9IHZlY3Rvci54ICogc2NhbGFyLFxuICAgICAgICAgICAgdHJhbnNsYXRlWSA9IHZlY3Rvci55ICogc2NhbGFyLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpXS54ICs9IHRyYW5zbGF0ZVg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpXS55ICs9IHRyYW5zbGF0ZVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHNldCBvZiB2ZXJ0aWNlcyBpbi1wbGFjZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMucm90YXRlID0gZnVuY3Rpb24odmVydGljZXMsIGFuZ2xlLCBwb2ludCkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHBvaW50WCA9IHBvaW50LngsXG4gICAgICAgICAgICBwb2ludFkgPSBwb2ludC55LFxuICAgICAgICAgICAgdmVydGljZXNMZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgICBkeCxcbiAgICAgICAgICAgIGR5LFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICBkeCA9IHZlcnRleC54IC0gcG9pbnRYO1xuICAgICAgICAgICAgZHkgPSB2ZXJ0ZXgueSAtIHBvaW50WTtcbiAgICAgICAgICAgIHZlcnRleC54ID0gcG9pbnRYICsgKGR4ICogY29zIC0gZHkgKiBzaW4pO1xuICAgICAgICAgICAgdmVydGV4LnkgPSBwb2ludFkgKyAoZHggKiBzaW4gKyBkeSAqIGNvcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBgcG9pbnRgIGlzIGluc2lkZSB0aGUgc2V0IG9mIGB2ZXJ0aWNlc2AuXG4gICAgICogQG1ldGhvZCBjb250YWluc1xuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVydGljZXMgY29udGFpbnMgcG9pbnQsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNvbnRhaW5zID0gZnVuY3Rpb24odmVydGljZXMsIHBvaW50KSB7XG4gICAgICAgIHZhciBwb2ludFggPSBwb2ludC54LFxuICAgICAgICAgICAgcG9pbnRZID0gcG9pbnQueSxcbiAgICAgICAgICAgIHZlcnRpY2VzTGVuZ3RoID0gdmVydGljZXMubGVuZ3RoLFxuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbdmVydGljZXNMZW5ndGggLSAxXSxcbiAgICAgICAgICAgIG5leHRWZXJ0ZXg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXh0VmVydGV4ID0gdmVydGljZXNbaV07XG5cbiAgICAgICAgICAgIGlmICgocG9pbnRYIC0gdmVydGV4LngpICogKG5leHRWZXJ0ZXgueSAtIHZlcnRleC55KSBcbiAgICAgICAgICAgICAgICArIChwb2ludFkgLSB2ZXJ0ZXgueSkgKiAodmVydGV4LnggLSBuZXh0VmVydGV4LngpID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmVydGV4ID0gbmV4dFZlcnRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgdGhlIHZlcnRpY2VzIGZyb20gYSBwb2ludCAoZGVmYXVsdCBpcyBjZW50cmUpIGluLXBsYWNlLlxuICAgICAqIEBtZXRob2Qgc2NhbGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMuc2NhbGUgPSBmdW5jdGlvbih2ZXJ0aWNlcywgc2NhbGVYLCBzY2FsZVksIHBvaW50KSB7XG4gICAgICAgIGlmIChzY2FsZVggPT09IDEgJiYgc2NhbGVZID09PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuXG4gICAgICAgIHBvaW50ID0gcG9pbnQgfHwgVmVydGljZXMuY2VudHJlKHZlcnRpY2VzKTtcblxuICAgICAgICB2YXIgdmVydGV4LFxuICAgICAgICAgICAgZGVsdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICBkZWx0YSA9IFZlY3Rvci5zdWIodmVydGV4LCBwb2ludCk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpXS54ID0gcG9pbnQueCArIGRlbHRhLnggKiBzY2FsZVg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpXS55ID0gcG9pbnQueSArIGRlbHRhLnkgKiBzY2FsZVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW1mZXJzIGEgc2V0IG9mIHZlcnRpY2VzIGJ5IGdpdmluZyB0aGVtIHJvdW5kZWQgY29ybmVycywgcmV0dXJucyBhIG5ldyBzZXQgb2YgdmVydGljZXMuXG4gICAgICogVGhlIHJhZGl1cyBwYXJhbWV0ZXIgaXMgYSBzaW5nbGUgbnVtYmVyIG9yIGFuIGFycmF5IHRvIHNwZWNpZnkgdGhlIHJhZGl1cyBmb3IgZWFjaCB2ZXJ0ZXguXG4gICAgICogQG1ldGhvZCBjaGFtZmVyXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5TWluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHlNYXhcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jaGFtZmVyID0gZnVuY3Rpb24odmVydGljZXMsIHJhZGl1cywgcXVhbGl0eSwgcXVhbGl0eU1pbiwgcXVhbGl0eU1heCkge1xuICAgICAgICBpZiAodHlwZW9mIHJhZGl1cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IFtyYWRpdXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFkaXVzID0gcmFkaXVzIHx8IFs4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHF1YWxpdHkgZGVmYXVsdHMgdG8gLTEsIHdoaWNoIGlzIGF1dG9cbiAgICAgICAgcXVhbGl0eSA9ICh0eXBlb2YgcXVhbGl0eSAhPT0gJ3VuZGVmaW5lZCcpID8gcXVhbGl0eSA6IC0xO1xuICAgICAgICBxdWFsaXR5TWluID0gcXVhbGl0eU1pbiB8fCAyO1xuICAgICAgICBxdWFsaXR5TWF4ID0gcXVhbGl0eU1heCB8fCAxNDtcblxuICAgICAgICB2YXIgbmV3VmVydGljZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJldlZlcnRleCA9IHZlcnRpY2VzW2kgLSAxID49IDAgPyBpIC0gMSA6IHZlcnRpY2VzLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldLFxuICAgICAgICAgICAgICAgIG5leHRWZXJ0ZXggPSB2ZXJ0aWNlc1soaSArIDEpICUgdmVydGljZXMubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmFkaXVzID0gcmFkaXVzW2kgPCByYWRpdXMubGVuZ3RoID8gaSA6IHJhZGl1cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBuZXdWZXJ0aWNlcy5wdXNoKHZlcnRleCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwcmV2Tm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IFxuICAgICAgICAgICAgICAgIHg6IHZlcnRleC55IC0gcHJldlZlcnRleC55LCBcbiAgICAgICAgICAgICAgICB5OiBwcmV2VmVydGV4LnggLSB2ZXJ0ZXgueFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBuZXh0Tm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IFxuICAgICAgICAgICAgICAgIHg6IG5leHRWZXJ0ZXgueSAtIHZlcnRleC55LCBcbiAgICAgICAgICAgICAgICB5OiB2ZXJ0ZXgueCAtIG5leHRWZXJ0ZXgueFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBkaWFnb25hbFJhZGl1cyA9IE1hdGguc3FydCgyICogTWF0aC5wb3coY3VycmVudFJhZGl1cywgMikpLFxuICAgICAgICAgICAgICAgIHJhZGl1c1ZlY3RvciA9IFZlY3Rvci5tdWx0KENvbW1vbi5jbG9uZShwcmV2Tm9ybWFsKSwgY3VycmVudFJhZGl1cyksXG4gICAgICAgICAgICAgICAgbWlkTm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZShWZWN0b3IubXVsdChWZWN0b3IuYWRkKHByZXZOb3JtYWwsIG5leHROb3JtYWwpLCAwLjUpKSxcbiAgICAgICAgICAgICAgICBzY2FsZWRWZXJ0ZXggPSBWZWN0b3Iuc3ViKHZlcnRleCwgVmVjdG9yLm11bHQobWlkTm9ybWFsLCBkaWFnb25hbFJhZGl1cykpO1xuXG4gICAgICAgICAgICB2YXIgcHJlY2lzaW9uID0gcXVhbGl0eTtcblxuICAgICAgICAgICAgaWYgKHF1YWxpdHkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSBkZWNpZGUgcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uID0gTWF0aC5wb3coY3VycmVudFJhZGl1cywgMC4zMikgKiAxLjc1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcmVjaXNpb24gPSBDb21tb24uY2xhbXAocHJlY2lzaW9uLCBxdWFsaXR5TWluLCBxdWFsaXR5TWF4KTtcblxuICAgICAgICAgICAgLy8gdXNlIGFuIGV2ZW4gdmFsdWUgZm9yIHByZWNpc2lvbiwgbW9yZSBsaWtlbHkgdG8gcmVkdWNlIGF4ZXMgYnkgdXNpbmcgc3ltbWV0cnlcbiAgICAgICAgICAgIGlmIChwcmVjaXNpb24gJSAyID09PSAxKVxuICAgICAgICAgICAgICAgIHByZWNpc2lvbiArPSAxO1xuXG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBNYXRoLmFjb3MoVmVjdG9yLmRvdChwcmV2Tm9ybWFsLCBuZXh0Tm9ybWFsKSksXG4gICAgICAgICAgICAgICAgdGhldGEgPSBhbHBoYSAvIHByZWNpc2lvbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcmVjaXNpb247IGorKykge1xuICAgICAgICAgICAgICAgIG5ld1ZlcnRpY2VzLnB1c2goVmVjdG9yLmFkZChWZWN0b3Iucm90YXRlKHJhZGl1c1ZlY3RvciwgdGhldGEgKiBqKSwgc2NhbGVkVmVydGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3VmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSBpbnB1dCB2ZXJ0aWNlcyBpbnRvIGNsb2Nrd2lzZSBvcmRlciBpbiBwbGFjZS5cbiAgICAgKiBAbWV0aG9kIGNsb2Nrd2lzZVNvcnRcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIFZlcnRpY2VzLmNsb2Nrd2lzZVNvcnQgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgY2VudHJlID0gVmVydGljZXMubWVhbih2ZXJ0aWNlcyk7XG5cbiAgICAgICAgdmVydGljZXMuc29ydChmdW5jdGlvbih2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLmFuZ2xlKGNlbnRyZSwgdmVydGV4QSkgLSBWZWN0b3IuYW5nbGUoY2VudHJlLCB2ZXJ0ZXhCKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZlcnRpY2VzIGZvcm0gYSBjb252ZXggc2hhcGUgKHZlcnRpY2VzIG11c3QgYmUgaW4gY2xvY2t3aXNlIG9yZGVyKS5cbiAgICAgKiBAbWV0aG9kIGlzQ29udmV4XG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHtib29sfSBgdHJ1ZWAgaWYgdGhlIGB2ZXJ0aWNlc2AgYXJlIGNvbnZleCwgYGZhbHNlYCBpZiBub3QgKG9yIGBudWxsYCBpZiBub3QgY29tcHV0YWJsZSkuXG4gICAgICovXG4gICAgVmVydGljZXMuaXNDb252ZXggPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICAvLyBodHRwOi8vcGF1bGJvdXJrZS5uZXQvZ2VvbWV0cnkvcG9seWdvbm1lc2gvXG4gICAgICAgIC8vIENvcHlyaWdodCAoYykgUGF1bCBCb3Vya2UgKHVzZSBwZXJtaXR0ZWQpXG5cbiAgICAgICAgdmFyIGZsYWcgPSAwLFxuICAgICAgICAgICAgbiA9IHZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgayxcbiAgICAgICAgICAgIHo7XG5cbiAgICAgICAgaWYgKG4gPCAzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgaiA9IChpICsgMSkgJSBuO1xuICAgICAgICAgICAgayA9IChpICsgMikgJSBuO1xuICAgICAgICAgICAgeiA9ICh2ZXJ0aWNlc1tqXS54IC0gdmVydGljZXNbaV0ueCkgKiAodmVydGljZXNba10ueSAtIHZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgeiAtPSAodmVydGljZXNbal0ueSAtIHZlcnRpY2VzW2ldLnkpICogKHZlcnRpY2VzW2tdLnggLSB2ZXJ0aWNlc1tqXS54KTtcblxuICAgICAgICAgICAgaWYgKHogPCAwKSB7XG4gICAgICAgICAgICAgICAgZmxhZyB8PSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh6ID4gMCkge1xuICAgICAgICAgICAgICAgIGZsYWcgfD0gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWcgPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmxhZyAhPT0gMCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnZleCBodWxsIG9mIHRoZSBpbnB1dCB2ZXJ0aWNlcyBhcyBhIG5ldyBhcnJheSBvZiBwb2ludHMuXG4gICAgICogQG1ldGhvZCBodWxsXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIFt2ZXJ0ZXhdIHZlcnRpY2VzXG4gICAgICovXG4gICAgVmVydGljZXMuaHVsbCA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTEwLV9odWxsLTEuaHRtbFxuXG4gICAgICAgIHZhciB1cHBlciA9IFtdLFxuICAgICAgICAgICAgbG93ZXIgPSBbXSwgXG4gICAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIHNvcnQgdmVydGljZXMgb24geC1heGlzICh5LWF4aXMgZm9yIHRpZXMpXG4gICAgICAgIHZlcnRpY2VzID0gdmVydGljZXMuc2xpY2UoMCk7XG4gICAgICAgIHZlcnRpY2VzLnNvcnQoZnVuY3Rpb24odmVydGV4QSwgdmVydGV4Qikge1xuICAgICAgICAgICAgdmFyIGR4ID0gdmVydGV4QS54IC0gdmVydGV4Qi54O1xuICAgICAgICAgICAgcmV0dXJuIGR4ICE9PSAwID8gZHggOiB2ZXJ0ZXhBLnkgLSB2ZXJ0ZXhCLnk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJ1aWxkIGxvd2VyIGh1bGxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTtcblxuICAgICAgICAgICAgd2hpbGUgKGxvd2VyLmxlbmd0aCA+PSAyIFxuICAgICAgICAgICAgICAgICAgICYmIFZlY3Rvci5jcm9zczMobG93ZXJbbG93ZXIubGVuZ3RoIC0gMl0sIGxvd2VyW2xvd2VyLmxlbmd0aCAtIDFdLCB2ZXJ0ZXgpIDw9IDApIHtcbiAgICAgICAgICAgICAgICBsb3dlci5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG93ZXIucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnVpbGQgdXBwZXIgaHVsbFxuICAgICAgICBmb3IgKGkgPSB2ZXJ0aWNlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07XG5cbiAgICAgICAgICAgIHdoaWxlICh1cHBlci5sZW5ndGggPj0gMiBcbiAgICAgICAgICAgICAgICAgICAmJiBWZWN0b3IuY3Jvc3MzKHVwcGVyW3VwcGVyLmxlbmd0aCAtIDJdLCB1cHBlclt1cHBlci5sZW5ndGggLSAxXSwgdmVydGV4KSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdXBwZXIucG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwcGVyLnB1c2godmVydGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbmNhdGVuYXRpb24gb2YgdGhlIGxvd2VyIGFuZCB1cHBlciBodWxscyBnaXZlcyB0aGUgY29udmV4IGh1bGxcbiAgICAgICAgLy8gb21pdCBsYXN0IHBvaW50cyBiZWNhdXNlIHRoZXkgYXJlIHJlcGVhdGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG90aGVyIGxpc3RcbiAgICAgICAgdXBwZXIucG9wKCk7XG4gICAgICAgIGxvd2VyLnBvcCgpO1xuXG4gICAgICAgIHJldHVybiB1cHBlci5jb25jYXQobG93ZXIpO1xuICAgIH07XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Cb2R5YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyByaWdpZCBib2RpZXMuXG4qIEZvciBjcmVhdGluZyBib2RpZXMgd2l0aCBjb21tb24gY29uZmlndXJhdGlvbnMgc3VjaCBhcyByZWN0YW5nbGVzLCBjaXJjbGVzIGFuZCBvdGhlciBwb2x5Z29ucyBzZWUgdGhlIG1vZHVsZSBgTWF0dGVyLkJvZGllc2AuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG5cbiogQGNsYXNzIEJvZHlcbiovXG5cbnZhciBCb2R5ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQm9keTtcblxudmFyIFZlcnRpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIFNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQXhlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBCb2R5Ll90aW1lQ29ycmVjdGlvbiA9IHRydWU7XG4gICAgQm9keS5faW5lcnRpYVNjYWxlID0gNDtcbiAgICBCb2R5Ll9uZXh0Q29sbGlkaW5nR3JvdXBJZCA9IDE7XG4gICAgQm9keS5fbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQgPSAtMTtcbiAgICBCb2R5Ll9uZXh0Q2F0ZWdvcnkgPSAweDAwMDE7XG4gICAgQm9keS5fYmFzZURlbHRhID0gMTAwMCAvIDYwO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFZlcnRpY2VzIG11c3QgYmUgc3BlY2lmaWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtib2R5fSBib2R5XG4gICAgICovXG4gICAgQm9keS5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGlkOiBDb21tb24ubmV4dElkKCksXG4gICAgICAgICAgICB0eXBlOiAnYm9keScsXG4gICAgICAgICAgICBsYWJlbDogJ0JvZHknLFxuICAgICAgICAgICAgcGFydHM6IFtdLFxuICAgICAgICAgICAgcGx1Z2luOiB7fSxcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKCdMIDAgMCBMIDQwIDAgTCA0MCA0MCBMIDAgNDAnKSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGZvcmNlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIHRvcnF1ZTogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBjb25zdHJhaW50SW1wdWxzZTogeyB4OiAwLCB5OiAwLCBhbmdsZTogMCB9LFxuICAgICAgICAgICAgdG90YWxDb250YWN0czogMCxcbiAgICAgICAgICAgIHNwZWVkOiAwLFxuICAgICAgICAgICAgYW5ndWxhclNwZWVkOiAwLFxuICAgICAgICAgICAgdmVsb2NpdHk6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAwLFxuICAgICAgICAgICAgaXNTZW5zb3I6IGZhbHNlLFxuICAgICAgICAgICAgaXNTdGF0aWM6IGZhbHNlLFxuICAgICAgICAgICAgaXNTbGVlcGluZzogZmFsc2UsXG4gICAgICAgICAgICBtb3Rpb246IDAsXG4gICAgICAgICAgICBzbGVlcFRocmVzaG9sZDogNjAsXG4gICAgICAgICAgICBkZW5zaXR5OiAwLjAwMSxcbiAgICAgICAgICAgIHJlc3RpdHV0aW9uOiAwLFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuMSxcbiAgICAgICAgICAgIGZyaWN0aW9uU3RhdGljOiAwLjUsXG4gICAgICAgICAgICBmcmljdGlvbkFpcjogMC4wMSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAweDAwMDEsXG4gICAgICAgICAgICAgICAgbWFzazogMHhGRkZGRkZGRixcbiAgICAgICAgICAgICAgICBncm91cDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsb3A6IDAuMDUsXG4gICAgICAgICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogbnVsbCxcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgeFNjYWxlOiAxLFxuICAgICAgICAgICAgICAgICAgICB5U2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIHhPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHlPZmZzZXQ6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRzOiBudWxsLFxuICAgICAgICAgICAgYm91bmRzOiBudWxsLFxuICAgICAgICAgICAgY2hhbWZlcjogbnVsbCxcbiAgICAgICAgICAgIGNpcmNsZVJhZGl1czogMCxcbiAgICAgICAgICAgIHBvc2l0aW9uUHJldjogbnVsbCxcbiAgICAgICAgICAgIGFuZ2xlUHJldjogMCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGF4ZXM6IG51bGwsXG4gICAgICAgICAgICBhcmVhOiAwLFxuICAgICAgICAgICAgbWFzczogMCxcbiAgICAgICAgICAgIGluZXJ0aWE6IDAsXG4gICAgICAgICAgICBkZWx0YVRpbWU6IDEwMDAgLyA2MCxcbiAgICAgICAgICAgIF9vcmlnaW5hbDogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBib2R5ID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgX2luaXRQcm9wZXJ0aWVzKGJvZHksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBncm91cCBpbmRleCBmb3Igd2hpY2ggYm9kaWVzIHdpbGwgY29sbGlkZS5cbiAgICAgKiBJZiBgaXNOb25Db2xsaWRpbmdgIGlzIGB0cnVlYCwgcmV0dXJucyB0aGUgbmV4dCB1bmlxdWUgZ3JvdXAgaW5kZXggZm9yIHdoaWNoIGJvZGllcyB3aWxsIF9ub3RfIGNvbGxpZGUuXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQG1ldGhvZCBuZXh0R3JvdXBcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtpc05vbkNvbGxpZGluZz1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFVuaXF1ZSBncm91cCBpbmRleFxuICAgICAqL1xuICAgIEJvZHkubmV4dEdyb3VwID0gZnVuY3Rpb24oaXNOb25Db2xsaWRpbmcpIHtcbiAgICAgICAgaWYgKGlzTm9uQ29sbGlkaW5nKVxuICAgICAgICAgICAgcmV0dXJuIEJvZHkuX25leHROb25Db2xsaWRpbmdHcm91cElkLS07XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuX25leHRDb2xsaWRpbmdHcm91cElkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkIChzdGFydGluZyBhZnRlciB0aGUgaW5pdGlhbCBkZWZhdWx0IGNhdGVnb3J5IGAweDAwMDFgKS5cbiAgICAgKiBUaGVyZSBhcmUgMzIgYXZhaWxhYmxlLiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIG5leHRDYXRlZ29yeVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gVW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkXG4gICAgICovXG4gICAgQm9keS5uZXh0Q2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgQm9keS5fbmV4dENhdGVnb3J5ID0gQm9keS5fbmV4dENhdGVnb3J5IDw8IDE7XG4gICAgICAgIHJldHVybiBCb2R5Ll9uZXh0Q2F0ZWdvcnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2VzIGJvZHkgcHJvcGVydGllcy5cbiAgICAgKiBAbWV0aG9kIF9pbml0UHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt9IFtvcHRpb25zXVxuICAgICAqL1xuICAgIHZhciBfaW5pdFByb3BlcnRpZXMgPSBmdW5jdGlvbihib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8vIGluaXQgcmVxdWlyZWQgcHJvcGVydGllcyAob3JkZXIgaXMgaW1wb3J0YW50KVxuICAgICAgICBCb2R5LnNldChib2R5LCB7XG4gICAgICAgICAgICBib3VuZHM6IGJvZHkuYm91bmRzIHx8IEJvdW5kcy5jcmVhdGUoYm9keS52ZXJ0aWNlcyksXG4gICAgICAgICAgICBwb3NpdGlvblByZXY6IGJvZHkucG9zaXRpb25QcmV2IHx8IFZlY3Rvci5jbG9uZShib2R5LnBvc2l0aW9uKSxcbiAgICAgICAgICAgIGFuZ2xlUHJldjogYm9keS5hbmdsZVByZXYgfHwgYm9keS5hbmdsZSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBib2R5LnZlcnRpY2VzLFxuICAgICAgICAgICAgcGFydHM6IGJvZHkucGFydHMgfHwgW2JvZHldLFxuICAgICAgICAgICAgaXNTdGF0aWM6IGJvZHkuaXNTdGF0aWMsXG4gICAgICAgICAgICBpc1NsZWVwaW5nOiBib2R5LmlzU2xlZXBpbmcsXG4gICAgICAgICAgICBwYXJlbnQ6IGJvZHkucGFyZW50IHx8IGJvZHlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVmVydGljZXMucm90YXRlKGJvZHkudmVydGljZXMsIGJvZHkuYW5nbGUsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICBBeGVzLnJvdGF0ZShib2R5LmF4ZXMsIGJvZHkuYW5nbGUpO1xuICAgICAgICBCb3VuZHMudXBkYXRlKGJvZHkuYm91bmRzLCBib2R5LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcblxuICAgICAgICAvLyBhbGxvdyBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgcHJvcGVydGllc1xuICAgICAgICBCb2R5LnNldChib2R5LCB7XG4gICAgICAgICAgICBheGVzOiBvcHRpb25zLmF4ZXMgfHwgYm9keS5heGVzLFxuICAgICAgICAgICAgYXJlYTogb3B0aW9ucy5hcmVhIHx8IGJvZHkuYXJlYSxcbiAgICAgICAgICAgIG1hc3M6IG9wdGlvbnMubWFzcyB8fCBib2R5Lm1hc3MsXG4gICAgICAgICAgICBpbmVydGlhOiBvcHRpb25zLmluZXJ0aWEgfHwgYm9keS5pbmVydGlhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbmRlciBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBkZWZhdWx0RmlsbFN0eWxlID0gKGJvZHkuaXNTdGF0aWMgPyAnIzE0MTUxZicgOiBDb21tb24uY2hvb3NlKFsnI2YxOTY0OCcsICcjZjVkMjU5JywgJyNmNTVhM2MnLCAnIzA2M2U3YicsICcjZWNlY2QxJ10pKSxcbiAgICAgICAgICAgIGRlZmF1bHRTdHJva2VTdHlsZSA9IGJvZHkuaXNTdGF0aWMgPyAnIzU1NScgOiAnI2NjYycsXG4gICAgICAgICAgICBkZWZhdWx0TGluZVdpZHRoID0gYm9keS5pc1N0YXRpYyAmJiBib2R5LnJlbmRlci5maWxsU3R5bGUgPT09IG51bGwgPyAxIDogMDtcbiAgICAgICAgYm9keS5yZW5kZXIuZmlsbFN0eWxlID0gYm9keS5yZW5kZXIuZmlsbFN0eWxlIHx8IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICAgIGJvZHkucmVuZGVyLnN0cm9rZVN0eWxlID0gYm9keS5yZW5kZXIuc3Ryb2tlU3R5bGUgfHwgZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgICBib2R5LnJlbmRlci5saW5lV2lkdGggPSBib2R5LnJlbmRlci5saW5lV2lkdGggfHwgZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgICAgYm9keS5yZW5kZXIuc3ByaXRlLnhPZmZzZXQgKz0gLShib2R5LmJvdW5kcy5taW4ueCAtIGJvZHkucG9zaXRpb24ueCkgLyAoYm9keS5ib3VuZHMubWF4LnggLSBib2R5LmJvdW5kcy5taW4ueCk7XG4gICAgICAgIGJvZHkucmVuZGVyLnNwcml0ZS55T2Zmc2V0ICs9IC0oYm9keS5ib3VuZHMubWluLnkgLSBib2R5LnBvc2l0aW9uLnkpIC8gKGJvZHkuYm91bmRzLm1heC55IC0gYm9keS5ib3VuZHMubWluLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHByb3BlcnR5IGFuZCBhIHZhbHVlIChvciBtYXAgb2YpLCBzZXRzIHRoZSBwcm9wZXJ0eShzKSBvbiB0aGUgYm9keSwgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIHNldHRlciBmdW5jdGlvbnMgaWYgdGhleSBleGlzdC5cbiAgICAgKiBQcmVmZXIgdG8gdXNlIHRoZSBhY3R1YWwgc2V0dGVyIGZ1bmN0aW9ucyBpbiBwZXJmb3JtYW5jZSBjcml0aWNhbCBzaXR1YXRpb25zLlxuICAgICAqIEBtZXRob2Qgc2V0XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt9IHNldHRpbmdzIEEgcHJvcGVydHkgbmFtZSAob3IgbWFwIG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcykgdG8gc2V0IG9uIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSB7fSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IGlmIGBzZXR0aW5nc2AgaXMgYSBzaW5nbGUgcHJvcGVydHkgbmFtZS5cbiAgICAgKi9cbiAgICBCb2R5LnNldCA9IGZ1bmN0aW9uKGJvZHksIHNldHRpbmdzLCB2YWx1ZSkge1xuICAgICAgICB2YXIgcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHByb3BlcnR5ID0gc2V0dGluZ3M7XG4gICAgICAgICAgICBzZXR0aW5ncyA9IHt9O1xuICAgICAgICAgICAgc2V0dGluZ3NbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZXR0aW5ncywgcHJvcGVydHkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YWx1ZSA9IHNldHRpbmdzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkpIHtcblxuICAgICAgICAgICAgY2FzZSAnaXNTdGF0aWMnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0U3RhdGljKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2lzU2xlZXBpbmcnOlxuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtYXNzJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVuc2l0eSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXREZW5zaXR5KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2luZXJ0aWEnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0SW5lcnRpYShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd2ZXJ0aWNlcyc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRWZXJ0aWNlcyhib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhbmdsZSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRBbmdsZShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd2ZWxvY2l0eSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRWZWxvY2l0eShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhbmd1bGFyVmVsb2NpdHknOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0QW5ndWxhclZlbG9jaXR5KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NwZWVkJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFNwZWVkKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FuZ3VsYXJTcGVlZCc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRBbmd1bGFyU3BlZWQoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGFydHMnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0UGFydHMoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2VudHJlJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldENlbnRyZShib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJvZHlbcHJvcGVydHldID0gdmFsdWU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBib2R5IGFzIHN0YXRpYywgaW5jbHVkaW5nIGlzU3RhdGljIGZsYWcgYW5kIHNldHRpbmcgbWFzcyBhbmQgaW5lcnRpYSB0byBJbmZpbml0eS5cbiAgICAgKiBAbWV0aG9kIHNldFN0YXRpY1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbH0gaXNTdGF0aWNcbiAgICAgKi9cbiAgICBCb2R5LnNldFN0YXRpYyA9IGZ1bmN0aW9uKGJvZHksIGlzU3RhdGljKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldO1xuICAgICAgICAgICAgcGFydC5pc1N0YXRpYyA9IGlzU3RhdGljO1xuXG4gICAgICAgICAgICBpZiAoaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBwYXJ0Ll9vcmlnaW5hbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IHBhcnQucmVzdGl0dXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGZyaWN0aW9uOiBwYXJ0LmZyaWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtYXNzOiBwYXJ0Lm1hc3MsXG4gICAgICAgICAgICAgICAgICAgIGluZXJ0aWE6IHBhcnQuaW5lcnRpYSxcbiAgICAgICAgICAgICAgICAgICAgZGVuc2l0eTogcGFydC5kZW5zaXR5LFxuICAgICAgICAgICAgICAgICAgICBpbnZlcnNlTWFzczogcGFydC5pbnZlcnNlTWFzcyxcbiAgICAgICAgICAgICAgICAgICAgaW52ZXJzZUluZXJ0aWE6IHBhcnQuaW52ZXJzZUluZXJ0aWFcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcGFydC5yZXN0aXR1dGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5mcmljdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgcGFydC5tYXNzID0gcGFydC5pbmVydGlhID0gcGFydC5kZW5zaXR5ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgcGFydC5pbnZlcnNlTWFzcyA9IHBhcnQuaW52ZXJzZUluZXJ0aWEgPSAwO1xuXG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvblByZXYueCA9IHBhcnQucG9zaXRpb24ueDtcbiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uUHJldi55ID0gcGFydC5wb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgIHBhcnQuYW5nbGVQcmV2ID0gcGFydC5hbmdsZTtcbiAgICAgICAgICAgICAgICBwYXJ0LmFuZ3VsYXJWZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5zcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgcGFydC5hbmd1bGFyU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQubW90aW9uID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5fb3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnJlc3RpdHV0aW9uID0gcGFydC5fb3JpZ2luYWwucmVzdGl0dXRpb247XG4gICAgICAgICAgICAgICAgcGFydC5mcmljdGlvbiA9IHBhcnQuX29yaWdpbmFsLmZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuX29yaWdpbmFsLm1hc3M7XG4gICAgICAgICAgICAgICAgcGFydC5pbmVydGlhID0gcGFydC5fb3JpZ2luYWwuaW5lcnRpYTtcbiAgICAgICAgICAgICAgICBwYXJ0LmRlbnNpdHkgPSBwYXJ0Ll9vcmlnaW5hbC5kZW5zaXR5O1xuICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZU1hc3MgPSBwYXJ0Ll9vcmlnaW5hbC5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICBwYXJ0LmludmVyc2VJbmVydGlhID0gcGFydC5fb3JpZ2luYWwuaW52ZXJzZUluZXJ0aWE7XG5cbiAgICAgICAgICAgICAgICBwYXJ0Ll9vcmlnaW5hbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFzcyBvZiB0aGUgYm9keS4gSW52ZXJzZSBtYXNzLCBkZW5zaXR5IGFuZCBpbmVydGlhIGFyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgY2hhbmdlLlxuICAgICAqIEBtZXRob2Qgc2V0TWFzc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gICAgICovXG4gICAgQm9keS5zZXRNYXNzID0gZnVuY3Rpb24oYm9keSwgbWFzcykge1xuICAgICAgICB2YXIgbW9tZW50ID0gYm9keS5pbmVydGlhIC8gKGJvZHkubWFzcyAvIDYpO1xuICAgICAgICBib2R5LmluZXJ0aWEgPSBtb21lbnQgKiAobWFzcyAvIDYpO1xuICAgICAgICBib2R5LmludmVyc2VJbmVydGlhID0gMSAvIGJvZHkuaW5lcnRpYTtcblxuICAgICAgICBib2R5Lm1hc3MgPSBtYXNzO1xuICAgICAgICBib2R5LmludmVyc2VNYXNzID0gMSAvIGJvZHkubWFzcztcbiAgICAgICAgYm9keS5kZW5zaXR5ID0gYm9keS5tYXNzIC8gYm9keS5hcmVhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZW5zaXR5IG9mIHRoZSBib2R5LiBNYXNzIGFuZCBpbmVydGlhIGFyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgY2hhbmdlLlxuICAgICAqIEBtZXRob2Qgc2V0RGVuc2l0eVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZW5zaXR5XG4gICAgICovXG4gICAgQm9keS5zZXREZW5zaXR5ID0gZnVuY3Rpb24oYm9keSwgZGVuc2l0eSkge1xuICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgZGVuc2l0eSAqIGJvZHkuYXJlYSk7XG4gICAgICAgIGJvZHkuZGVuc2l0eSA9IGRlbnNpdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1vbWVudCBvZiBpbmVydGlhIG9mIHRoZSBib2R5LiBUaGlzIGlzIHRoZSBzZWNvbmQgbW9tZW50IG9mIGFyZWEgaW4gdHdvIGRpbWVuc2lvbnMuXG4gICAgICogSW52ZXJzZSBpbmVydGlhIGlzIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBjaGFuZ2UuIE1hc3MgaXMgbm90IGNoYW5nZWQuXG4gICAgICogQG1ldGhvZCBzZXRJbmVydGlhXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZXJ0aWFcbiAgICAgKi9cbiAgICBCb2R5LnNldEluZXJ0aWEgPSBmdW5jdGlvbihib2R5LCBpbmVydGlhKSB7XG4gICAgICAgIGJvZHkuaW5lcnRpYSA9IGluZXJ0aWE7XG4gICAgICAgIGJvZHkuaW52ZXJzZUluZXJ0aWEgPSAxIC8gYm9keS5pbmVydGlhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBib2R5J3MgdmVydGljZXMgYW5kIHVwZGF0ZXMgYm9keSBwcm9wZXJ0aWVzIGFjY29yZGluZ2x5LCBpbmNsdWRpbmcgaW5lcnRpYSwgYXJlYSBhbmQgbWFzcyAod2l0aCByZXNwZWN0IHRvIGBib2R5LmRlbnNpdHlgKS5cbiAgICAgKiBWZXJ0aWNlcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgdHJhbnNmb3JtZWQgdG8gYmUgb3JpZW50YXRlZCBhcm91bmQgdGhlaXIgY2VudHJlIG9mIG1hc3MgYXMgdGhlIG9yaWdpbi5cbiAgICAgKiBUaGV5IGFyZSB0aGVuIGF1dG9tYXRpY2FsbHkgdHJhbnNsYXRlZCB0byB3b3JsZCBzcGFjZSBiYXNlZCBvbiBgYm9keS5wb3NpdGlvbmAuXG4gICAgICpcbiAgICAgKiBUaGUgYHZlcnRpY2VzYCBhcmd1bWVudCBzaG91bGQgYmUgcGFzc2VkIGFzIGFuIGFycmF5IG9mIGBNYXR0ZXIuVmVjdG9yYCBwb2ludHMgKG9yIGEgYE1hdHRlci5WZXJ0aWNlc2AgYXJyYXkpLlxuICAgICAqIFZlcnRpY2VzIG11c3QgZm9ybSBhIGNvbnZleCBodWxsLiBDb25jYXZlIHZlcnRpY2VzIG11c3QgYmUgZGVjb21wb3NlZCBpbnRvIGNvbnZleCBwYXJ0cy5cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIHNldFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3JbXX0gdmVydGljZXNcbiAgICAgKi9cbiAgICBCb2R5LnNldFZlcnRpY2VzID0gZnVuY3Rpb24oYm9keSwgdmVydGljZXMpIHtcbiAgICAgICAgLy8gY2hhbmdlIHZlcnRpY2VzXG4gICAgICAgIGlmICh2ZXJ0aWNlc1swXS5ib2R5ID09PSBib2R5KSB7XG4gICAgICAgICAgICBib2R5LnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnZlcnRpY2VzID0gVmVydGljZXMuY3JlYXRlKHZlcnRpY2VzLCBib2R5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIGJvZHkuYXhlcyA9IEF4ZXMuZnJvbVZlcnRpY2VzKGJvZHkudmVydGljZXMpO1xuICAgICAgICBib2R5LmFyZWEgPSBWZXJ0aWNlcy5hcmVhKGJvZHkudmVydGljZXMpO1xuICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgYm9keS5kZW5zaXR5ICogYm9keS5hcmVhKTtcblxuICAgICAgICAvLyBvcmllbnQgdmVydGljZXMgYXJvdW5kIHRoZSBjZW50cmUgb2YgbWFzcyBhdCBvcmlnaW4gKDAsIDApXG4gICAgICAgIHZhciBjZW50cmUgPSBWZXJ0aWNlcy5jZW50cmUoYm9keS52ZXJ0aWNlcyk7XG4gICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBjZW50cmUsIC0xKTtcblxuICAgICAgICAvLyB1cGRhdGUgaW5lcnRpYSB3aGlsZSB2ZXJ0aWNlcyBhcmUgYXQgb3JpZ2luICgwLCAwKVxuICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgQm9keS5faW5lcnRpYVNjYWxlICogVmVydGljZXMuaW5lcnRpYShib2R5LnZlcnRpY2VzLCBib2R5Lm1hc3MpKTtcblxuICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnlcbiAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKGJvZHkudmVydGljZXMsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICBCb3VuZHMudXBkYXRlKGJvZHkuYm91bmRzLCBib2R5LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGFydHMgb2YgdGhlIGBib2R5YCBhbmQgdXBkYXRlcyBtYXNzLCBpbmVydGlhIGFuZCBjZW50cm9pZC5cbiAgICAgKiBFYWNoIHBhcnQgd2lsbCBoYXZlIGl0cyBwYXJlbnQgc2V0IHRvIGBib2R5YC5cbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBjb252ZXggaHVsbCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY29tcHV0ZWQgYW5kIHNldCBvbiBgYm9keWAsIHVubGVzcyBgYXV0b0h1bGxgIGlzIHNldCB0byBgZmFsc2UuYFxuICAgICAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCB3aWxsIGVuc3VyZSB0aGF0IHRoZSBmaXJzdCBwYXJ0IGluIGBib2R5LnBhcnRzYCB3aWxsIGFsd2F5cyBiZSB0aGUgYGJvZHlgLlxuICAgICAqIEBtZXRob2Qgc2V0UGFydHNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gcGFydHNcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFthdXRvSHVsbD10cnVlXVxuICAgICAqL1xuICAgIEJvZHkuc2V0UGFydHMgPSBmdW5jdGlvbihib2R5LCBwYXJ0cywgYXV0b0h1bGwpIHtcbiAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgLy8gYWRkIGFsbCB0aGUgcGFydHMsIGVuc3VyaW5nIHRoYXQgdGhlIGZpcnN0IHBhcnQgaXMgYWx3YXlzIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDApO1xuICAgICAgICBib2R5LnBhcnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGJvZHkucGFydHMucHVzaChib2R5KTtcbiAgICAgICAgYm9keS5wYXJlbnQgPSBib2R5O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSBib2R5KSB7XG4gICAgICAgICAgICAgICAgcGFydC5wYXJlbnQgPSBib2R5O1xuICAgICAgICAgICAgICAgIGJvZHkucGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBhdXRvSHVsbCA9IHR5cGVvZiBhdXRvSHVsbCAhPT0gJ3VuZGVmaW5lZCcgPyBhdXRvSHVsbCA6IHRydWU7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgY29udmV4IGh1bGwgb2YgYWxsIHBhcnRzIHRvIHNldCBvbiB0aGUgcGFyZW50IGJvZHlcbiAgICAgICAgaWYgKGF1dG9IdWxsKSB7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gdmVydGljZXMuY29uY2F0KHBhcnRzW2ldLnZlcnRpY2VzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVmVydGljZXMuY2xvY2t3aXNlU29ydCh2ZXJ0aWNlcyk7XG5cbiAgICAgICAgICAgIHZhciBodWxsID0gVmVydGljZXMuaHVsbCh2ZXJ0aWNlcyksXG4gICAgICAgICAgICAgICAgaHVsbENlbnRyZSA9IFZlcnRpY2VzLmNlbnRyZShodWxsKTtcblxuICAgICAgICAgICAgQm9keS5zZXRWZXJ0aWNlcyhib2R5LCBodWxsKTtcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBodWxsQ2VudHJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN1bSB0aGUgcHJvcGVydGllcyBvZiBhbGwgY29tcG91bmQgcGFydHMgb2YgdGhlIHBhcmVudCBib2R5XG4gICAgICAgIHZhciB0b3RhbCA9IEJvZHkuX3RvdGFsUHJvcGVydGllcyhib2R5KTtcblxuICAgICAgICBib2R5LmFyZWEgPSB0b3RhbC5hcmVhO1xuICAgICAgICBib2R5LnBhcmVudCA9IGJvZHk7XG4gICAgICAgIGJvZHkucG9zaXRpb24ueCA9IHRvdGFsLmNlbnRyZS54O1xuICAgICAgICBib2R5LnBvc2l0aW9uLnkgPSB0b3RhbC5jZW50cmUueTtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IHRvdGFsLmNlbnRyZS54O1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gdG90YWwuY2VudHJlLnk7XG5cbiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIHRvdGFsLm1hc3MpO1xuICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgdG90YWwuaW5lcnRpYSk7XG4gICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgdG90YWwuY2VudHJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjZW50cmUgb2YgbWFzcyBvZiB0aGUgYm9keS4gXG4gICAgICogVGhlIGBjZW50cmVgIGlzIGEgdmVjdG9yIGluIHdvcmxkLXNwYWNlIHVubGVzcyBgcmVsYXRpdmVgIGlzIHNldCwgaW4gd2hpY2ggY2FzZSBpdCBpcyBhIHRyYW5zbGF0aW9uLlxuICAgICAqIFRoZSBjZW50cmUgb2YgbWFzcyBpcyB0aGUgcG9pbnQgdGhlIGJvZHkgcm90YXRlcyBhYm91dCBhbmQgY2FuIGJlIHVzZWQgdG8gc2ltdWxhdGUgbm9uLXVuaWZvcm0gZGVuc2l0eS5cbiAgICAgKiBUaGlzIGlzIGVxdWFsIHRvIG1vdmluZyBgYm9keS5wb3NpdGlvbmAgYnV0IG5vdCB0aGUgYGJvZHkudmVydGljZXNgLlxuICAgICAqIEludmFsaWQgaWYgdGhlIGBjZW50cmVgIGZhbGxzIG91dHNpZGUgdGhlIGJvZHkncyBjb252ZXggaHVsbC5cbiAgICAgKiBAbWV0aG9kIHNldENlbnRyZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBjZW50cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IHJlbGF0aXZlXG4gICAgICovXG4gICAgQm9keS5zZXRDZW50cmUgPSBmdW5jdGlvbihib2R5LCBjZW50cmUsIHJlbGF0aXZlKSB7XG4gICAgICAgIGlmICghcmVsYXRpdmUpIHtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBjZW50cmUueCAtIChib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54KTtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBjZW50cmUueSAtIChib2R5LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uUHJldi55KTtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueCA9IGNlbnRyZS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi55ID0gY2VudHJlLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ICs9IGNlbnRyZS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSArPSBjZW50cmUueTtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueCArPSBjZW50cmUueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueSArPSBjZW50cmUueTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgYm9keS4gQnkgZGVmYXVsdCB2ZWxvY2l0eSBpcyB1bmNoYW5nZWQuXG4gICAgICogSWYgYHVwZGF0ZVZlbG9jaXR5YCBpcyBgdHJ1ZWAgdGhlbiB2ZWxvY2l0eSBpcyBpbmZlcnJlZCBmcm9tIHRoZSBjaGFuZ2UgaW4gcG9zaXRpb24uXG4gICAgICogQG1ldGhvZCBzZXRQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZVZlbG9jaXR5PWZhbHNlXVxuICAgICAqL1xuICAgIEJvZHkuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihib2R5LCBwb3NpdGlvbiwgdXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gVmVjdG9yLnN1Yihwb3NpdGlvbiwgYm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gYm9keS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueTtcbiAgICAgICAgICAgIGJvZHkudmVsb2NpdHkueCA9IGRlbHRhLng7XG4gICAgICAgICAgICBib2R5LnZlbG9jaXR5LnkgPSBkZWx0YS55O1xuICAgICAgICAgICAgYm9keS5zcGVlZCA9IFZlY3Rvci5tYWduaXR1ZGUoZGVsdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCArPSBkZWx0YS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSArPSBkZWx0YS55O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gZGVsdGEueDtcbiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBkZWx0YS55O1xuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGRlbHRhKTtcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFuZ2xlIG9mIHRoZSBib2R5LiBCeSBkZWZhdWx0IGFuZ3VsYXIgdmVsb2NpdHkgaXMgdW5jaGFuZ2VkLlxuICAgICAqIElmIGB1cGRhdGVWZWxvY2l0eWAgaXMgYHRydWVgIHRoZW4gYW5ndWxhciB2ZWxvY2l0eSBpcyBpbmZlcnJlZCBmcm9tIHRoZSBjaGFuZ2UgaW4gYW5nbGUuXG4gICAgICogQG1ldGhvZCBzZXRBbmdsZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZVZlbG9jaXR5PWZhbHNlXVxuICAgICAqL1xuICAgIEJvZHkuc2V0QW5nbGUgPSBmdW5jdGlvbihib2R5LCBhbmdsZSwgdXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gYW5nbGUgLSBib2R5LmFuZ2xlO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGU7XG4gICAgICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IGRlbHRhO1xuICAgICAgICAgICAgYm9keS5hbmd1bGFyU3BlZWQgPSBNYXRoLmFicyhkZWx0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LmFuZ2xlUHJldiArPSBkZWx0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldO1xuICAgICAgICAgICAgcGFydC5hbmdsZSArPSBkZWx0YTtcbiAgICAgICAgICAgIFZlcnRpY2VzLnJvdGF0ZShwYXJ0LnZlcnRpY2VzLCBkZWx0YSwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgICAgICBBeGVzLnJvdGF0ZShwYXJ0LmF4ZXMsIGRlbHRhKTtcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZUFib3V0KHBhcnQucG9zaXRpb24sIGRlbHRhLCBib2R5LnBvc2l0aW9uLCBwYXJ0LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGxpbmVhciB2ZWxvY2l0eSBvZiB0aGUgYm9keS4gIFxuICAgICAqIEFmZmVjdHMgYm9keSBzcGVlZC5cbiAgICAgKiBAbWV0aG9kIHNldFZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm9keS5zZXRWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHksIHZlbG9jaXR5KSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBib2R5LmRlbHRhVGltZSAvIEJvZHkuX2Jhc2VEZWx0YTtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueCAtIHZlbG9jaXR5LnggKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBib2R5LnBvc2l0aW9uLnkgLSB2ZWxvY2l0eS55ICogdGltZVNjYWxlO1xuICAgICAgICBib2R5LnZlbG9jaXR5LnggPSAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCkgLyB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkudmVsb2NpdHkueSA9IChib2R5LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uUHJldi55KSAvIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5zcGVlZCA9IFZlY3Rvci5tYWduaXR1ZGUoYm9keS52ZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgbGluZWFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LlxuICAgICAqIEBtZXRob2QgZ2V0VmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm9keS5nZXRWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IEJvZHkuX2Jhc2VEZWx0YSAvIGJvZHkuZGVsdGFUaW1lO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCkgKiB0aW1lU2NhbGUsXG4gICAgICAgICAgICB5OiAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSkgKiB0aW1lU2NhbGVcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBsaW5lYXIgc3BlZWQgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBFcXVpdmFsZW50IHRvIHRoZSBtYWduaXR1ZGUgb2YgaXRzIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2QgZ2V0U3BlZWRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHNwZWVkXG4gICAgICovXG4gICAgQm9keS5nZXRTcGVlZCA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5tYWduaXR1ZGUoQm9keS5nZXRWZWxvY2l0eShib2R5KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgbGluZWFyIHNwZWVkIG9mIHRoZSBib2R5LiAgXG4gICAgICogRGlyZWN0aW9uIGlzIG1haW50YWluZWQuIEFmZmVjdHMgYm9keSB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHNldFNwZWVkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkXG4gICAgICovXG4gICAgQm9keS5zZXRTcGVlZCA9IGZ1bmN0aW9uKGJvZHksIHNwZWVkKSB7XG4gICAgICAgIEJvZHkuc2V0VmVsb2NpdHkoYm9keSwgVmVjdG9yLm11bHQoVmVjdG9yLm5vcm1hbGlzZShCb2R5LmdldFZlbG9jaXR5KGJvZHkpKSwgc3BlZWQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCByb3RhdGlvbmFsIHZlbG9jaXR5IG9mIHRoZSBib2R5LiAgXG4gICAgICogQWZmZWN0cyBib2R5IGFuZ3VsYXIgc3BlZWQuXG4gICAgICogQG1ldGhvZCBzZXRBbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHksIHZlbG9jaXR5KSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSBib2R5LmRlbHRhVGltZSAvIEJvZHkuX2Jhc2VEZWx0YTtcbiAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlIC0gdmVsb2NpdHkgKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5ID0gKGJvZHkuYW5nbGUgLSBib2R5LmFuZ2xlUHJldikgLyB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gTWF0aC5hYnMoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHJvdGF0aW9uYWwgdmVsb2NpdHkgb2YgdGhlIGJvZHkuXG4gICAgICogQG1ldGhvZCBnZXRBbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGFuZ3VsYXIgdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb2R5LmdldEFuZ3VsYXJWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIChib2R5LmFuZ2xlIC0gYm9keS5hbmdsZVByZXYpICogQm9keS5fYmFzZURlbHRhIC8gYm9keS5kZWx0YVRpbWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgcm90YXRpb25hbCBzcGVlZCBvZiB0aGUgYm9keS4gIFxuICAgICAqIEVxdWl2YWxlbnQgdG8gdGhlIG1hZ25pdHVkZSBvZiBpdHMgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIGdldEFuZ3VsYXJTcGVlZFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gYW5ndWxhciBzcGVlZFxuICAgICAqL1xuICAgIEJvZHkuZ2V0QW5ndWxhclNwZWVkID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoQm9keS5nZXRBbmd1bGFyVmVsb2NpdHkoYm9keSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGJvZHkuICBcbiAgICAgKiBEaXJlY3Rpb24gaXMgbWFpbnRhaW5lZC4gQWZmZWN0cyBib2R5IGFuZ3VsYXIgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCBzZXRBbmd1bGFyU3BlZWRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRcbiAgICAgKi9cbiAgICBCb2R5LnNldEFuZ3VsYXJTcGVlZCA9IGZ1bmN0aW9uKGJvZHksIHNwZWVkKSB7XG4gICAgICAgIEJvZHkuc2V0QW5ndWxhclZlbG9jaXR5KGJvZHksIENvbW1vbi5zaWduKEJvZHkuZ2V0QW5ndWxhclZlbG9jaXR5KGJvZHkpKSAqIHNwZWVkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBib2R5IGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IHBvc2l0aW9uLiBCeSBkZWZhdWx0IHZlbG9jaXR5IGlzIHVuY2hhbmdlZC5cbiAgICAgKiBJZiBgdXBkYXRlVmVsb2NpdHlgIGlzIGB0cnVlYCB0aGVuIHZlbG9jaXR5IGlzIGluZmVycmVkIGZyb20gdGhlIGNoYW5nZSBpbiBwb3NpdGlvbi5cbiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZVZlbG9jaXR5PWZhbHNlXVxuICAgICAqL1xuICAgIEJvZHkudHJhbnNsYXRlID0gZnVuY3Rpb24oYm9keSwgdHJhbnNsYXRpb24sIHVwZGF0ZVZlbG9jaXR5KSB7XG4gICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgVmVjdG9yLmFkZChib2R5LnBvc2l0aW9uLCB0cmFuc2xhdGlvbiksIHVwZGF0ZVZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBhIGJvZHkgYnkgYSBnaXZlbiBhbmdsZSByZWxhdGl2ZSB0byBpdHMgY3VycmVudCBhbmdsZS4gQnkgZGVmYXVsdCBhbmd1bGFyIHZlbG9jaXR5IGlzIHVuY2hhbmdlZC5cbiAgICAgKiBJZiBgdXBkYXRlVmVsb2NpdHlgIGlzIGB0cnVlYCB0aGVuIGFuZ3VsYXIgdmVsb2NpdHkgaXMgaW5mZXJyZWQgZnJvbSB0aGUgY2hhbmdlIGluIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IFtwb2ludF1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVWZWxvY2l0eT1mYWxzZV1cbiAgICAgKi9cbiAgICBCb2R5LnJvdGF0ZSA9IGZ1bmN0aW9uKGJvZHksIHJvdGF0aW9uLCBwb2ludCwgdXBkYXRlVmVsb2NpdHkpIHtcbiAgICAgICAgaWYgKCFwb2ludCkge1xuICAgICAgICAgICAgQm9keS5zZXRBbmdsZShib2R5LCBib2R5LmFuZ2xlICsgcm90YXRpb24sIHVwZGF0ZVZlbG9jaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyb3RhdGlvbiksXG4gICAgICAgICAgICAgICAgc2luID0gTWF0aC5zaW4ocm90YXRpb24pLFxuICAgICAgICAgICAgICAgIGR4ID0gYm9keS5wb3NpdGlvbi54IC0gcG9pbnQueCxcbiAgICAgICAgICAgICAgICBkeSA9IGJvZHkucG9zaXRpb24ueSAtIHBvaW50Lnk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC54ICsgKGR4ICogY29zIC0gZHkgKiBzaW4pLFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnkgKyAoZHggKiBzaW4gKyBkeSAqIGNvcylcbiAgICAgICAgICAgIH0sIHVwZGF0ZVZlbG9jaXR5KTtcblxuICAgICAgICAgICAgQm9keS5zZXRBbmdsZShib2R5LCBib2R5LmFuZ2xlICsgcm90YXRpb24sIHVwZGF0ZVZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgdGhlIGJvZHksIGluY2x1ZGluZyB1cGRhdGluZyBwaHlzaWNhbCBwcm9wZXJ0aWVzIChtYXNzLCBhcmVhLCBheGVzLCBpbmVydGlhKSwgZnJvbSBhIHdvcmxkLXNwYWNlIHBvaW50IChkZWZhdWx0IGlzIGJvZHkgY2VudHJlKS5cbiAgICAgKiBAbWV0aG9kIHNjYWxlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW3BvaW50XVxuICAgICAqL1xuICAgIEJvZHkuc2NhbGUgPSBmdW5jdGlvbihib2R5LCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQpIHtcbiAgICAgICAgdmFyIHRvdGFsQXJlYSA9IDAsXG4gICAgICAgICAgICB0b3RhbEluZXJ0aWEgPSAwO1xuXG4gICAgICAgIHBvaW50ID0gcG9pbnQgfHwgYm9keS5wb3NpdGlvbjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcblxuICAgICAgICAgICAgLy8gc2NhbGUgdmVydGljZXNcbiAgICAgICAgICAgIFZlcnRpY2VzLnNjYWxlKHBhcnQudmVydGljZXMsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBwYXJ0LmF4ZXMgPSBBeGVzLmZyb21WZXJ0aWNlcyhwYXJ0LnZlcnRpY2VzKTtcbiAgICAgICAgICAgIHBhcnQuYXJlYSA9IFZlcnRpY2VzLmFyZWEocGFydC52ZXJ0aWNlcyk7XG4gICAgICAgICAgICBCb2R5LnNldE1hc3MocGFydCwgYm9keS5kZW5zaXR5ICogcGFydC5hcmVhKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGluZXJ0aWEgKHJlcXVpcmVzIHZlcnRpY2VzIHRvIGJlIGF0IG9yaWdpbilcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCB7IHg6IC1wYXJ0LnBvc2l0aW9uLngsIHk6IC1wYXJ0LnBvc2l0aW9uLnkgfSk7XG4gICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEocGFydCwgQm9keS5faW5lcnRpYVNjYWxlICogVmVydGljZXMuaW5lcnRpYShwYXJ0LnZlcnRpY2VzLCBwYXJ0Lm1hc3MpKTtcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCB7IHg6IHBhcnQucG9zaXRpb24ueCwgeTogcGFydC5wb3NpdGlvbi55IH0pO1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICB0b3RhbEFyZWEgKz0gcGFydC5hcmVhO1xuICAgICAgICAgICAgICAgIHRvdGFsSW5lcnRpYSArPSBwYXJ0LmluZXJ0aWE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNjYWxlIHBvc2l0aW9uXG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggPSBwb2ludC54ICsgKHBhcnQucG9zaXRpb24ueCAtIHBvaW50LngpICogc2NhbGVYO1xuICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ID0gcG9pbnQueSArIChwYXJ0LnBvc2l0aW9uLnkgLSBwb2ludC55KSAqIHNjYWxlWTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGJvdW5kc1xuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgcGFyZW50IGJvZHlcbiAgICAgICAgaWYgKGJvZHkucGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgYm9keS5hcmVhID0gdG90YWxBcmVhO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgYm9keS5kZW5zaXR5ICogdG90YWxBcmVhKTtcbiAgICAgICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgdG90YWxJbmVydGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBjaXJjbGVzXG4gICAgICAgIGlmIChib2R5LmNpcmNsZVJhZGl1cykgeyBcbiAgICAgICAgICAgIGlmIChzY2FsZVggPT09IHNjYWxlWSkge1xuICAgICAgICAgICAgICAgIGJvZHkuY2lyY2xlUmFkaXVzICo9IHNjYWxlWDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYm9keSBpcyBubyBsb25nZXIgYSBjaXJjbGVcbiAgICAgICAgICAgICAgICBib2R5LmNpcmNsZVJhZGl1cyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gdXBkYXRlIGJ5IGludGVncmF0aW5nIHRoZSBlcXVhdGlvbnMgb2YgbW90aW9uIG9uIHRoZSBgYm9keWAuXG4gICAgICogVGhpcyBpcyBhcHBsaWVkIGV2ZXJ5IHVwZGF0ZSBieSBgTWF0dGVyLkVuZ2luZWAgYXV0b21hdGljYWxseS5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTE2LjY2Nl1cbiAgICAgKi9cbiAgICBCb2R5LnVwZGF0ZSA9IGZ1bmN0aW9uKGJvZHksIGRlbHRhVGltZSkge1xuICAgICAgICBkZWx0YVRpbWUgPSAodHlwZW9mIGRlbHRhVGltZSAhPT0gJ3VuZGVmaW5lZCcgPyBkZWx0YVRpbWUgOiAoMTAwMCAvIDYwKSkgKiBib2R5LnRpbWVTY2FsZTtcblxuICAgICAgICB2YXIgZGVsdGFUaW1lU3F1YXJlZCA9IGRlbHRhVGltZSAqIGRlbHRhVGltZSxcbiAgICAgICAgICAgIGNvcnJlY3Rpb24gPSBCb2R5Ll90aW1lQ29ycmVjdGlvbiA/IGRlbHRhVGltZSAvIChib2R5LmRlbHRhVGltZSB8fCBkZWx0YVRpbWUpIDogMTtcblxuICAgICAgICAvLyBmcm9tIHRoZSBwcmV2aW91cyBzdGVwXG4gICAgICAgIHZhciBmcmljdGlvbkFpciA9IDEgLSBib2R5LmZyaWN0aW9uQWlyICogKGRlbHRhVGltZSAvIENvbW1vbi5fYmFzZURlbHRhKSxcbiAgICAgICAgICAgIHZlbG9jaXR5UHJldlggPSAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCkgKiBjb3JyZWN0aW9uLFxuICAgICAgICAgICAgdmVsb2NpdHlQcmV2WSA9IChib2R5LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uUHJldi55KSAqIGNvcnJlY3Rpb247XG5cbiAgICAgICAgLy8gdXBkYXRlIHZlbG9jaXR5IHdpdGggVmVybGV0IGludGVncmF0aW9uXG4gICAgICAgIGJvZHkudmVsb2NpdHkueCA9ICh2ZWxvY2l0eVByZXZYICogZnJpY3Rpb25BaXIpICsgKGJvZHkuZm9yY2UueCAvIGJvZHkubWFzcykgKiBkZWx0YVRpbWVTcXVhcmVkO1xuICAgICAgICBib2R5LnZlbG9jaXR5LnkgPSAodmVsb2NpdHlQcmV2WSAqIGZyaWN0aW9uQWlyKSArIChib2R5LmZvcmNlLnkgLyBib2R5Lm1hc3MpICogZGVsdGFUaW1lU3F1YXJlZDtcblxuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ID0gYm9keS5wb3NpdGlvbi54O1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55O1xuICAgICAgICBib2R5LnBvc2l0aW9uLnggKz0gYm9keS52ZWxvY2l0eS54O1xuICAgICAgICBib2R5LnBvc2l0aW9uLnkgKz0gYm9keS52ZWxvY2l0eS55O1xuICAgICAgICBib2R5LmRlbHRhVGltZSA9IGRlbHRhVGltZTtcblxuICAgICAgICAvLyB1cGRhdGUgYW5ndWxhciB2ZWxvY2l0eSB3aXRoIFZlcmxldCBpbnRlZ3JhdGlvblxuICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9ICgoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAqIGZyaWN0aW9uQWlyICogY29ycmVjdGlvbikgKyAoYm9keS50b3JxdWUgLyBib2R5LmluZXJ0aWEpICogZGVsdGFUaW1lU3F1YXJlZDtcbiAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlO1xuICAgICAgICBib2R5LmFuZ2xlICs9IGJvZHkuYW5ndWxhclZlbG9jaXR5O1xuXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgYm9keSBnZW9tZXRyeVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcblxuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gYm9keS52ZWxvY2l0eS54O1xuICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBib2R5LnZlbG9jaXR5Lnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib2R5LmFuZ3VsYXJWZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIFZlcnRpY2VzLnJvdGF0ZShwYXJ0LnZlcnRpY2VzLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHByb3BlcnRpZXMgYGJvZHkudmVsb2NpdHlgLCBgYm9keS5zcGVlZGAsIGBib2R5LmFuZ3VsYXJWZWxvY2l0eWAgYW5kIGBib2R5LmFuZ3VsYXJTcGVlZGAgd2hpY2ggYXJlIG5vcm1hbGlzZWQgaW4gcmVsYXRpb24gdG8gYEJvZHkuX2Jhc2VEZWx0YWAuXG4gICAgICogQG1ldGhvZCB1cGRhdGVWZWxvY2l0aWVzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICovXG4gICAgQm9keS51cGRhdGVWZWxvY2l0aWVzID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICB2YXIgdGltZVNjYWxlID0gQm9keS5fYmFzZURlbHRhIC8gYm9keS5kZWx0YVRpbWUsXG4gICAgICAgICAgICBib2R5VmVsb2NpdHkgPSBib2R5LnZlbG9jaXR5O1xuXG4gICAgICAgIGJvZHlWZWxvY2l0eS54ID0gKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpICogdGltZVNjYWxlO1xuICAgICAgICBib2R5VmVsb2NpdHkueSA9IChib2R5LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uUHJldi55KSAqIHRpbWVTY2FsZTtcbiAgICAgICAgYm9keS5zcGVlZCA9IE1hdGguc3FydCgoYm9keVZlbG9jaXR5LnggKiBib2R5VmVsb2NpdHkueCkgKyAoYm9keVZlbG9jaXR5LnkgKiBib2R5VmVsb2NpdHkueSkpO1xuXG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5ID0gKGJvZHkuYW5nbGUgLSBib2R5LmFuZ2xlUHJldikgKiB0aW1lU2NhbGU7XG4gICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gTWF0aC5hYnMoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBgZm9yY2VgIHRvIHRoZSBgYm9keWAgZnJvbSB0aGUgZm9yY2Ugb3JpZ2luIGBwb3NpdGlvbmAgaW4gd29ybGQtc3BhY2UsIG92ZXIgYSBzaW5nbGUgdGltZXN0ZXAsIGluY2x1ZGluZyBhcHBseWluZyBhbnkgcmVzdWx0aW5nIGFuZ3VsYXIgdG9ycXVlLlxuICAgICAqIFxuICAgICAqIEZvcmNlcyBhcmUgdXNlZnVsIGZvciBlZmZlY3RzIGxpa2UgZ3Jhdml0eSwgd2luZCBvciByb2NrZXQgdGhydXN0LCBidXQgY2FuIGJlIGRpZmZpY3VsdCBpbiBwcmFjdGljZSB3aGVuIHByZWNpc2UgY29udHJvbCBpcyBuZWVkZWQuIEluIHRoZXNlIGNhc2VzIHNlZSBgQm9keS5zZXRWZWxvY2l0eWAgYW5kIGBCb2R5LnNldFBvc2l0aW9uYCBhcyBhbiBhbHRlcm5hdGl2ZS5cbiAgICAgKiBcbiAgICAgKiBUaGUgZm9yY2UgZnJvbSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgYXBwbGllZCBvbmNlIGZvciB0aGUgZHVyYXRpb24gb2YgYSBzaW5nbGUgdGltZXN0ZXAsIGluIG90aGVyIHdvcmRzIHRoZSBkdXJhdGlvbiBkZXBlbmRzIGRpcmVjdGx5IG9uIHRoZSBjdXJyZW50IGVuZ2luZSB1cGRhdGUgYGRlbHRhYCBhbmQgdGhlIHJhdGUgb2YgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBcbiAgICAgKiBUaGVyZWZvcmUgdG8gYWNjb3VudCBmb3IgdGltZSwgeW91IHNob3VsZCBhcHBseSB0aGUgZm9yY2UgY29uc3RhbnRseSBvdmVyIGFzIG1hbnkgZW5naW5lIHVwZGF0ZXMgYXMgZXF1aXZhbGVudCB0byB0aGUgaW50ZW5kZWQgZHVyYXRpb24uXG4gICAgICogXG4gICAgICogSWYgYWxsIG9yIHBhcnQgb2YgdGhlIGZvcmNlIGR1cmF0aW9uIGlzIHNvbWUgZnJhY3Rpb24gb2YgYSB0aW1lc3RlcCwgZmlyc3QgbXVsdGlwbHkgdGhlIGZvcmNlIGJ5IGBkdXJhdGlvbiAvIHRpbWVzdGVwYC5cbiAgICAgKiBcbiAgICAgKiBUaGUgZm9yY2Ugb3JpZ2luIGBwb3NpdGlvbmAgaW4gd29ybGQtc3BhY2UgbXVzdCBhbHNvIGJlIHNwZWNpZmllZC4gUGFzc2luZyBgYm9keS5wb3NpdGlvbmAgd2lsbCByZXN1bHQgaW4gemVybyBhbmd1bGFyIGVmZmVjdCBhcyB0aGUgZm9yY2Ugb3JpZ2luIHdvdWxkIGJlIGF0IHRoZSBjZW50cmUgb2YgbWFzcy5cbiAgICAgKiBcbiAgICAgKiBUaGUgYGJvZHlgIHdpbGwgdGFrZSB0aW1lIHRvIGFjY2VsZXJhdGUgdW5kZXIgYSBmb3JjZSwgdGhlIHJlc3VsdGluZyBlZmZlY3QgZGVwZW5kcyBvbiBkdXJhdGlvbiBvZiB0aGUgZm9yY2UsIHRoZSBib2R5IG1hc3MgYW5kIG90aGVyIGZvcmNlcyBvbiB0aGUgYm9keSBpbmNsdWRpbmcgZnJpY3Rpb24gY29tYmluZWQuXG4gICAgICogQG1ldGhvZCBhcHBseUZvcmNlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvc2l0aW9uIFRoZSBmb3JjZSBvcmlnaW4gaW4gd29ybGQtc3BhY2UuIFBhc3MgYGJvZHkucG9zaXRpb25gIHRvIGF2b2lkIGFuZ3VsYXIgdG9ycXVlLlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBmb3JjZVxuICAgICAqL1xuICAgIEJvZHkuYXBwbHlGb3JjZSA9IGZ1bmN0aW9uKGJvZHksIHBvc2l0aW9uLCBmb3JjZSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0geyB4OiBwb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvbi55IH07XG4gICAgICAgIGJvZHkuZm9yY2UueCArPSBmb3JjZS54O1xuICAgICAgICBib2R5LmZvcmNlLnkgKz0gZm9yY2UueTtcbiAgICAgICAgYm9keS50b3JxdWUgKz0gb2Zmc2V0LnggKiBmb3JjZS55IC0gb2Zmc2V0LnkgKiBmb3JjZS54O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdW1zIG9mIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCBjb21wb3VuZCBwYXJ0cyBvZiB0aGUgcGFyZW50IGJvZHkuXG4gICAgICogQG1ldGhvZCBfdG90YWxQcm9wZXJ0aWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHt9XG4gICAgICovXG4gICAgQm9keS5fdG90YWxQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgICAvLyBmcm9tIGVxdWF0aW9ucyBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9lY291cnNlcy5vdS5lZHUvY2dpLWJpbi9lYm9vay5jZ2k/ZG9jPSZ0b3BpYz1zdCZjaGFwX3NlYz0wNy4yJnBhZ2U9dGhlb3J5XG4gICAgICAgIC8vIGh0dHA6Ly9vdXRwdXQudG8vc2lkZXdheS9kZWZhdWx0LmFzcD9xbm89MTIxMTAwMDg3XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBtYXNzOiAwLFxuICAgICAgICAgICAgYXJlYTogMCxcbiAgICAgICAgICAgIGluZXJ0aWE6IDAsXG4gICAgICAgICAgICBjZW50cmU6IHsgeDogMCwgeTogMCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc3VtIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCBjb21wb3VuZCBwYXJ0cyBvZiB0aGUgcGFyZW50IGJvZHlcbiAgICAgICAgZm9yICh2YXIgaSA9IGJvZHkucGFydHMubGVuZ3RoID09PSAxID8gMCA6IDE7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV0sXG4gICAgICAgICAgICAgICAgbWFzcyA9IHBhcnQubWFzcyAhPT0gSW5maW5pdHkgPyBwYXJ0Lm1hc3MgOiAxO1xuXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLm1hc3MgKz0gbWFzcztcbiAgICAgICAgICAgIHByb3BlcnRpZXMuYXJlYSArPSBwYXJ0LmFyZWE7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmluZXJ0aWEgKz0gcGFydC5pbmVydGlhO1xuICAgICAgICAgICAgcHJvcGVydGllcy5jZW50cmUgPSBWZWN0b3IuYWRkKHByb3BlcnRpZXMuY2VudHJlLCBWZWN0b3IubXVsdChwYXJ0LnBvc2l0aW9uLCBtYXNzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmNlbnRyZSA9IFZlY3Rvci5kaXYocHJvcGVydGllcy5jZW50cmUsIHByb3BlcnRpZXMubWFzcyk7XG5cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gYSBib2R5IHN0YXJ0cyBzbGVlcGluZyAod2hlcmUgYHRoaXNgIGlzIHRoZSBib2R5KS5cbiAgICAqXG4gICAgKiBAZXZlbnQgc2xlZXBTdGFydFxuICAgICogQHRoaXMge2JvZHl9IFRoZSBib2R5IHRoYXQgaGFzIHN0YXJ0ZWQgc2xlZXBpbmdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgYm9keSBlbmRzIHNsZWVwaW5nICh3aGVyZSBgdGhpc2AgaXMgdGhlIGJvZHkpLlxuICAgICpcbiAgICAqIEBldmVudCBzbGVlcEVuZFxuICAgICogQHRoaXMge2JvZHl9IFRoZSBib2R5IHRoYXQgaGFzIGVuZGVkIHNsZWVwaW5nXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gaW50ZWdlciBgTnVtYmVyYCB1bmlxdWVseSBpZGVudGlmeWluZyBudW1iZXIgZ2VuZXJhdGVkIGluIGBCb2R5LmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gU2V0IGJ5IGBCb2R5LmNyZWF0ZWAuXG4gICAgICogXG4gICAgICogQSBgU3RyaW5nYCBkZW5vdGluZyB0aGUgdHlwZSBvZiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgdHlwZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiYm9keVwiXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgYm9kaWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGxhYmVsXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJCb2R5XCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0UGFydHNgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQW4gYXJyYXkgb2YgYm9kaWVzIHRoYXQgbWFrZSB1cCB0aGlzIGJvZHkuIFxuICAgICAqIFRoZSBmaXJzdCBib2R5IGluIHRoZSBhcnJheSBtdXN0IGFsd2F5cyBiZSBhIHNlbGYgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGJvZHkgaW5zdGFuY2UuXG4gICAgICogQWxsIGJvZGllcyBpbiB0aGUgYHBhcnRzYCBhcnJheSB0b2dldGhlciBmb3JtIGEgc2luZ2xlIHJpZ2lkIGNvbXBvdW5kIGJvZHkuXG4gICAgICogUGFydHMgYXJlIGFsbG93ZWQgdG8gb3ZlcmxhcCwgaGF2ZSBnYXBzIG9yIGhvbGVzIG9yIGV2ZW4gZm9ybSBjb25jYXZlIGJvZGllcy5cbiAgICAgKiBQYXJ0cyB0aGVtc2VsdmVzIHNob3VsZCBuZXZlciBiZSBhZGRlZCB0byBhIGBXb3JsZGAsIG9ubHkgdGhlIHBhcmVudCBib2R5IHNob3VsZCBiZS5cbiAgICAgKiBVc2UgYEJvZHkuc2V0UGFydHNgIHdoZW4gc2V0dGluZyBwYXJ0cyB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzIG9mIGFsbCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHBhcnRzXG4gICAgICogQHR5cGUgYm9keVtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGx1Z2luXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVcGRhdGVkIGJ5IGBCb2R5LnNldFBhcnRzYC5cbiAgICAgKiBcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYm9keSB0aGF0IHRoaXMgaXMgYSBwYXJ0IG9mLiBTZWUgYGJvZHkucGFydHNgLlxuICAgICAqIFRoaXMgaXMgYSBzZWxmIHJlZmVyZW5jZSBpZiB0aGUgYm9keSBpcyBub3QgYSBwYXJ0IG9mIGFub3RoZXIgYm9keS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBwYXJlbnRcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHNwZWNpZnlpbmcgdGhlIGFuZ2xlIG9mIHRoZSBib2R5LCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGFuZ2xlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRWZXJ0aWNlc2Agb3IgYEJvZHkuc2V0UGFydHNgIHRvIHNldC4gU2VlIGFsc28gYEJvZGllcy5mcm9tVmVydGljZXNgLlxuICAgICAqIFxuICAgICAqIEFuIGFycmF5IG9mIGBWZWN0b3JgIG9iamVjdHMgdGhhdCBzcGVjaWZ5IHRoZSBjb252ZXggaHVsbCBvZiB0aGUgcmlnaWQgYm9keS5cbiAgICAgKiBUaGVzZSBzaG91bGQgYmUgcHJvdmlkZWQgYWJvdXQgdGhlIG9yaWdpbiBgKDAsIDApYC4gRS5nLlxuICAgICAqXG4gICAgICogYFt7IHg6IDAsIHk6IDAgfSwgeyB4OiAyNSwgeTogNTAgfSwgeyB4OiA1MCwgeTogMCB9XWBcbiAgICAgKiBcbiAgICAgKiBWZXJ0aWNlcyBtdXN0IGFsd2F5cyBiZSBjb252ZXgsIGluIGNsb2Nrd2lzZSBvcmRlciBhbmQgbXVzdCBub3QgY29udGFpbiBhbnkgZHVwbGljYXRlIHBvaW50cy5cbiAgICAgKiBcbiAgICAgKiBDb25jYXZlIHZlcnRpY2VzIHNob3VsZCBiZSBkZWNvbXBvc2VkIGludG8gY29udmV4IGBwYXJ0c2AsIHNlZSBgQm9kaWVzLmZyb21WZXJ0aWNlc2AgYW5kIGBCb2R5LnNldFBhcnRzYC5cbiAgICAgKlxuICAgICAqIFdoZW4gc2V0IHRoZSB2ZXJ0aWNlcyBhcmUgdHJhbnNsYXRlZCBzdWNoIHRoYXQgYGJvZHkucG9zaXRpb25gIGlzIGF0IHRoZSBjZW50cmUgb2YgbWFzcy5cbiAgICAgKiBNYW55IG90aGVyIGJvZHkgcHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZyb20gdGhlc2UgdmVydGljZXMgd2hlbiBzZXQgaW5jbHVkaW5nIGBkZW5zaXR5YCwgYGFyZWFgIGFuZCBgaW5lcnRpYWAuXG4gICAgICogXG4gICAgICogVGhlIG1vZHVsZSBgTWF0dGVyLlZlcnRpY2VzYCBjb250YWlucyB1c2VmdWwgbWV0aG9kcyBmb3Igd29ya2luZyB3aXRoIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHZlcnRpY2VzXG4gICAgICogQHR5cGUgdmVjdG9yW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0UG9zaXRpb25gIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgY3VycmVudCB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgcG9zaXRpb25cbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IGFjY3VtdWxhdGVzIHRoZSB0b3RhbCBmb3JjZSBhcHBsaWVkIHRvIHRoZSBib2R5IGZvciBhIHNpbmdsZSB1cGRhdGUuXG4gICAgICogRm9yY2UgaXMgemVyb2VkIGFmdGVyIGV2ZXJ5IGBFbmdpbmUudXBkYXRlYCwgc28gY29uc3RhbnQgZm9yY2VzIHNob3VsZCBiZSBhcHBsaWVkIGZvciBldmVyeSB1cGRhdGUgdGhleSBhcmUgbmVlZGVkLiBTZWUgYWxzbyBgQm9keS5hcHBseUZvcmNlYC5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgZm9yY2VcbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGFjY3VtdWxhdGVzIHRoZSB0b3RhbCB0b3JxdWUgKHR1cm5pbmcgZm9yY2UpIGFwcGxpZWQgdG8gdGhlIGJvZHkgZm9yIGEgc2luZ2xlIHVwZGF0ZS4gU2VlIGFsc28gYEJvZHkuYXBwbHlGb3JjZWAuXG4gICAgICogVG9ycXVlIGlzIHplcm9lZCBhZnRlciBldmVyeSBgRW5naW5lLnVwZGF0ZWAsIHNvIGNvbnN0YW50IHRvcnF1ZXMgc2hvdWxkIGJlIGFwcGxpZWQgZm9yIGV2ZXJ5IHVwZGF0ZSB0aGV5IGFyZSBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBUb3JxdWVzIHJlc3VsdCBpbiBhbmd1bGFyIGFjY2VsZXJhdGlvbiBvbiBldmVyeSB1cGRhdGUsIHdoaWNoIGRlcGVuZHMgb24gYm9keSBpbmVydGlhIGFuZCB0aGUgZW5naW5lIHVwZGF0ZSBkZWx0YS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgdG9ycXVlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRTcGVlZGAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYEJvZHkuZ2V0U3BlZWRgIGZvciBkZXRhaWxzLlxuICAgICAqIFxuICAgICAqIEVxdWl2YWxlbnQgdG8gdGhlIG1hZ25pdHVkZSBvZiBgYm9keS52ZWxvY2l0eWAgKGFsd2F5cyBwb3NpdGl2ZSkuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IHNwZWVkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRWZWxvY2l0eWAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYEJvZHkuZ2V0VmVsb2NpdHlgIGZvciBkZXRhaWxzLlxuICAgICAqIFxuICAgICAqIEVxdWl2YWxlbnQgdG8gdGhlIG1hZ25pdHVkZSBvZiBgYm9keS5hbmd1bGFyVmVsb2NpdHlgIChhbHdheXMgcG9zaXRpdmUpLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSB2ZWxvY2l0eVxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldEFuZ3VsYXJTcGVlZGAgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBTZWUgYEJvZHkuZ2V0QW5ndWxhclNwZWVkYCBmb3IgZGV0YWlscy5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgYW5ndWxhclNwZWVkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHlgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogU2VlIGBCb2R5LmdldEFuZ3VsYXJWZWxvY2l0eWAgZm9yIGRldGFpbHMuXG4gICAgICogXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgYW5ndWxhclZlbG9jaXR5XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgQm9keS5zZXRTdGF0aWNgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBib2R5IGlzIGNvbnNpZGVyZWQgc3RhdGljLiBBIHN0YXRpYyBib2R5IGNhbiBuZXZlciBjaGFuZ2UgcG9zaXRpb24gb3IgYW5nbGUgYW5kIGlzIGNvbXBsZXRlbHkgZml4ZWQuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgaXNTdGF0aWNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGEgYm9keSBpcyBhIHNlbnNvci4gU2Vuc29yIHRyaWdnZXJzIGNvbGxpc2lvbiBldmVudHMsIGJ1dCBkb2Vzbid0IHJlYWN0IHdpdGggY29sbGlkaW5nIGJvZHkgcGh5c2ljYWxseS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpc1NlbnNvclxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVzZSBgU2xlZXBpbmcuc2V0YCB0byBzZXQuIFxuICAgICAqIFxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSBib2R5IGlzIGNvbnNpZGVyZWQgc2xlZXBpbmcuIEEgc2xlZXBpbmcgYm9keSBhY3RzIHNpbWlsYXIgdG8gYSBzdGF0aWMgYm9keSwgZXhjZXB0IGl0IGlzIG9ubHkgdGVtcG9yYXJ5IGFuZCBjYW4gYmUgYXdva2VuLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGlzU2xlZXBpbmdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBDYWxjdWxhdGVkIGR1cmluZyBlbmdpbmUgdXBkYXRlIG9ubHkgd2hlbiBzbGVlcGluZyBpcyBlbmFibGVkLlxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBsb29zZWx5IG1lYXN1cmVzIHRoZSBhbW91bnQgb2YgbW92ZW1lbnQgYSBib2R5IGN1cnJlbnRseSBoYXMuXG4gICAgICpcbiAgICAgKiBEZXJpdmVkIGZyb20gYGJvZHkuc3BlZWReMiArIGJvZHkuYW5ndWxhclNwZWVkXjJgLiBTZWUgYFNsZWVwaW5nLnVwZGF0ZWAuXG4gICAgICogXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IG1vdGlvblxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBsZW5ndGggb2YgdGltZSBkdXJpbmcgd2hpY2ggdGhpcyBib2R5IG11c3QgaGF2ZSBuZWFyLXplcm8gdmVsb2NpdHkgYmVmb3JlIGl0IGlzIHNldCBhcyBzbGVlcGluZyBieSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlIChpZiBzbGVlcGluZyBpcyBlbmFibGVkIGJ5IHRoZSBlbmdpbmUpLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBzbGVlcFRocmVzaG9sZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDYwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldERlbnNpdHlgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGRlbnNpdHkgb2YgdGhlIGJvZHkgKG1hc3MgcGVyIHVuaXQgYXJlYSkuXG4gICAgICogXG4gICAgICogTWFzcyB3aWxsIGFsc28gYmUgdXBkYXRlZCB3aGVuIHNldC5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBkZW5zaXR5XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC4wMDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBVc2UgYEJvZHkuc2V0TWFzc2AgdG8gc2V0LiBcbiAgICAgKiBcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbWFzcyBvZiB0aGUgYm9keS5cbiAgICAgKiBcbiAgICAgKiBEZW5zaXR5IHdpbGwgYWxzbyBiZSB1cGRhdGVkIHdoZW4gc2V0LlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBtYXNzXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBfUmVhZCBvbmx5Xy4gVXNlIGBCb2R5LnNldE1hc3NgIHRvIHNldC4gXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGludmVyc2UgbWFzcyBvZiB0aGUgYm9keSAoYDEgLyBtYXNzYCkuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgaW52ZXJzZU1hc3NcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBBdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgd2hlbiB2ZXJ0aWNlcywgbWFzcyBvciBkZW5zaXR5IGFyZSBzZXQgb3Igc2V0IHRocm91Z2ggYEJvZHkuc2V0SW5lcnRpYWAuXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG1vbWVudCBvZiBpbmVydGlhIG9mIHRoZSBib2R5LiBUaGlzIGlzIHRoZSBzZWNvbmQgbW9tZW50IG9mIGFyZWEgaW4gdHdvIGRpbWVuc2lvbnMuXG4gICAgICogXG4gICAgICogQ2FuIGJlIG1hbnVhbGx5IHNldCB0byBgSW5maW5pdHlgIHRvIHByZXZlbnQgcm90YXRpb24gb2YgdGhlIGJvZHkuIFNlZSBgQm9keS5zZXRJbmVydGlhYC5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgaW5lcnRpYVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIEF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCB3aGVuIHZlcnRpY2VzLCBtYXNzIG9yIGRlbnNpdHkgYXJlIHNldCBvciBjYWxjdWxhdGVkIGJ5IGBCb2R5LnNldEluZXJ0aWFgLlxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBpbnZlcnNlIG1vbWVudCBvZiBpbmVydGlhIG9mIHRoZSBib2R5IChgMSAvIGluZXJ0aWFgKS5cbiAgICAgKiBcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgaW52ZXJzZUluZXJ0aWFcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSByZXN0aXR1dGlvbiAoZWxhc3RpY2l0eSkgb2YgdGhlIGJvZHkuIFRoZSB2YWx1ZSBpcyBhbHdheXMgcG9zaXRpdmUgYW5kIGlzIGluIHRoZSByYW5nZSBgKDAsIDEpYC5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyBjb2xsaXNpb25zIG1heSBiZSBwZXJmZWN0bHkgaW5lbGFzdGljIGFuZCBubyBib3VuY2luZyBtYXkgb2NjdXIuIFxuICAgICAqIEEgdmFsdWUgb2YgYDAuOGAgbWVhbnMgdGhlIGJvZHkgbWF5IGJvdW5jZSBiYWNrIHdpdGggYXBwcm94aW1hdGVseSA4MCUgb2YgaXRzIGtpbmV0aWMgZW5lcmd5LlxuICAgICAqIE5vdGUgdGhhdCBjb2xsaXNpb24gcmVzcG9uc2UgaXMgYmFzZWQgb24gX3BhaXJzXyBvZiBib2RpZXMsIGFuZCB0aGF0IGByZXN0aXR1dGlvbmAgdmFsdWVzIGFyZSBfY29tYmluZWRfIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtdWxhOlxuICAgICAqXG4gICAgICogYE1hdGgubWF4KGJvZHlBLnJlc3RpdHV0aW9uLCBib2R5Qi5yZXN0aXR1dGlvbilgXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb25cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgZnJpY3Rpb24gb2YgdGhlIGJvZHkuIFRoZSB2YWx1ZSBpcyBhbHdheXMgcG9zaXRpdmUgYW5kIGlzIGluIHRoZSByYW5nZSBgKDAsIDEpYC5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGF0IHRoZSBib2R5IG1heSBzbGlkZSBpbmRlZmluaXRlbHkuXG4gICAgICogQSB2YWx1ZSBvZiBgMWAgbWVhbnMgdGhlIGJvZHkgbWF5IGNvbWUgdG8gYSBzdG9wIGFsbW9zdCBpbnN0YW50bHkgYWZ0ZXIgYSBmb3JjZSBpcyBhcHBsaWVkLlxuICAgICAqXG4gICAgICogVGhlIGVmZmVjdHMgb2YgdGhlIHZhbHVlIG1heSBiZSBub24tbGluZWFyLiBcbiAgICAgKiBIaWdoIHZhbHVlcyBtYXkgYmUgdW5zdGFibGUgZGVwZW5kaW5nIG9uIHRoZSBib2R5LlxuICAgICAqIFRoZSBlbmdpbmUgdXNlcyBhIENvdWxvbWIgZnJpY3Rpb24gbW9kZWwgaW5jbHVkaW5nIHN0YXRpYyBhbmQga2luZXRpYyBmcmljdGlvbi5cbiAgICAgKiBOb3RlIHRoYXQgY29sbGlzaW9uIHJlc3BvbnNlIGlzIGJhc2VkIG9uIF9wYWlyc18gb2YgYm9kaWVzLCBhbmQgdGhhdCBgZnJpY3Rpb25gIHZhbHVlcyBhcmUgX2NvbWJpbmVkXyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybXVsYTpcbiAgICAgKlxuICAgICAqIGBNYXRoLm1pbihib2R5QS5mcmljdGlvbiwgYm9keUIuZnJpY3Rpb24pYFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZyaWN0aW9uXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC4xXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc3RhdGljIGZyaWN0aW9uIG9mIHRoZSBib2R5IChpbiB0aGUgQ291bG9tYiBmcmljdGlvbiBtb2RlbCkuIFxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoZSBib2R5IHdpbGwgbmV2ZXIgJ3N0aWNrJyB3aGVuIGl0IGlzIG5lYXJseSBzdGF0aW9uYXJ5IGFuZCBvbmx5IGR5bmFtaWMgYGZyaWN0aW9uYCBpcyB1c2VkLlxuICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlIChlLmcuIGAxMGApLCB0aGUgbW9yZSBmb3JjZSBpdCB3aWxsIHRha2UgdG8gaW5pdGlhbGx5IGdldCB0aGUgYm9keSBtb3Zpbmcgd2hlbiBuZWFybHkgc3RhdGlvbmFyeS5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIG11bHRpcGxpZWQgd2l0aCB0aGUgYGZyaWN0aW9uYCBwcm9wZXJ0eSB0byBtYWtlIGl0IGVhc2llciB0byBjaGFuZ2UgYGZyaWN0aW9uYCBhbmQgbWFpbnRhaW4gYW4gYXBwcm9wcmlhdGUgYW1vdW50IG9mIHN0YXRpYyBmcmljdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblN0YXRpY1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGFpciBmcmljdGlvbiBvZiB0aGUgYm9keSAoYWlyIHJlc2lzdGFuY2UpLiBcbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGUgYm9keSB3aWxsIG5ldmVyIHNsb3cgYXMgaXQgbW92ZXMgdGhyb3VnaCBzcGFjZS5cbiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIGZhc3RlciBhIGJvZHkgc2xvd3Mgd2hlbiBtb3ZpbmcgdGhyb3VnaCBzcGFjZS5cbiAgICAgKiBUaGUgZWZmZWN0cyBvZiB0aGUgdmFsdWUgYXJlIG5vbi1saW5lYXIuIFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZyaWN0aW9uQWlyXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC4wMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBmaWx0ZXJpbmcgcHJvcGVydGllcyBvZiB0aGlzIGJvZHkuXG4gICAgICpcbiAgICAgKiBDb2xsaXNpb25zIGJldHdlZW4gdHdvIGJvZGllcyB3aWxsIG9iZXkgdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICAgKiAtIElmIHRoZSB0d28gYm9kaWVzIGhhdmUgdGhlIHNhbWUgbm9uLXplcm8gdmFsdWUgb2YgYGNvbGxpc2lvbkZpbHRlci5ncm91cGAsXG4gICAgICogICB0aGV5IHdpbGwgYWx3YXlzIGNvbGxpZGUgaWYgdGhlIHZhbHVlIGlzIHBvc2l0aXZlLCBhbmQgdGhleSB3aWxsIG5ldmVyIGNvbGxpZGVcbiAgICAgKiAgIGlmIHRoZSB2YWx1ZSBpcyBuZWdhdGl2ZS5cbiAgICAgKiAtIElmIHRoZSB0d28gYm9kaWVzIGhhdmUgZGlmZmVyZW50IHZhbHVlcyBvZiBgY29sbGlzaW9uRmlsdGVyLmdyb3VwYCBvciBpZiBvbmVcbiAgICAgKiAgIChvciBib3RoKSBvZiB0aGUgYm9kaWVzIGhhcyBhIHZhbHVlIG9mIDAsIHRoZW4gdGhlIGNhdGVnb3J5L21hc2sgcnVsZXMgYXBwbHkgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIEVhY2ggYm9keSBiZWxvbmdzIHRvIGEgY29sbGlzaW9uIGNhdGVnb3J5LCBnaXZlbiBieSBgY29sbGlzaW9uRmlsdGVyLmNhdGVnb3J5YC4gVGhpc1xuICAgICAqIHZhbHVlIGlzIHVzZWQgYXMgYSBiaXQgZmllbGQgYW5kIHRoZSBjYXRlZ29yeSBzaG91bGQgaGF2ZSBvbmx5IG9uZSBiaXQgc2V0LCBtZWFuaW5nIHRoYXRcbiAgICAgKiB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpcyBhIHBvd2VyIG9mIHR3byBpbiB0aGUgcmFuZ2UgWzEsIDJeMzFdLiBUaHVzLCB0aGVyZSBhcmUgMzJcbiAgICAgKiBkaWZmZXJlbnQgY29sbGlzaW9uIGNhdGVnb3JpZXMgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogRWFjaCBib2R5IGFsc28gZGVmaW5lcyBhIGNvbGxpc2lvbiBiaXRtYXNrLCBnaXZlbiBieSBgY29sbGlzaW9uRmlsdGVyLm1hc2tgIHdoaWNoIHNwZWNpZmllc1xuICAgICAqIHRoZSBjYXRlZ29yaWVzIGl0IGNvbGxpZGVzIHdpdGggKHRoZSB2YWx1ZSBpcyB0aGUgYml0d2lzZSBBTkQgdmFsdWUgb2YgYWxsIHRoZXNlIGNhdGVnb3JpZXMpLlxuICAgICAqXG4gICAgICogVXNpbmcgdGhlIGNhdGVnb3J5L21hc2sgcnVsZXMsIHR3byBib2RpZXMgYEFgIGFuZCBgQmAgY29sbGlkZSBpZiBlYWNoIGluY2x1ZGVzIHRoZSBvdGhlcidzXG4gICAgICogY2F0ZWdvcnkgaW4gaXRzIG1hc2ssIGkuZS4gYChjYXRlZ29yeUEgJiBtYXNrQikgIT09IDBgIGFuZCBgKGNhdGVnb3J5QiAmIG1hc2tBKSAhPT0gMGBcbiAgICAgKiBhcmUgYm90aCB0cnVlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkZpbHRlclxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gSW50ZWdlciBgTnVtYmVyYCwgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBncm91cCB0aGlzIGJvZHkgYmVsb25ncyB0by5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIuZ3JvdXBcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGJpdCBmaWVsZCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGNhdGVnb3J5IHRoaXMgYm9keSBiZWxvbmdzIHRvLlxuICAgICAqIFRoZSBjYXRlZ29yeSB2YWx1ZSBzaG91bGQgaGF2ZSBvbmx5IG9uZSBiaXQgc2V0LCBmb3IgZXhhbXBsZSBgMHgwMDAxYC5cbiAgICAgKiBUaGlzIG1lYW5zIHRoZXJlIGFyZSB1cCB0byAzMiB1bmlxdWUgY29sbGlzaW9uIGNhdGVnb3JpZXMgYXZhaWxhYmxlLlxuICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkZpbHRlci5jYXRlZ29yeVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYml0IG1hc2sgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBjYXRlZ29yaWVzIHRoaXMgYm9keSBtYXkgY29sbGlkZSB3aXRoLlxuICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkZpbHRlci5tYXNrXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgLTFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgYSB0aGluIGJvdW5kYXJ5IGFyb3VuZCB0aGUgYm9keSB3aGVyZSBpdCBpcyBhbGxvd2VkIHRvIHNsaWdodGx5IHNpbmsgaW50byBvdGhlciBib2RpZXMuXG4gICAgICogXG4gICAgICogVGhpcyBpcyByZXF1aXJlZCBmb3IgcHJvcGVyIGNvbGxpc2lvbiByZXNwb25zZSwgaW5jbHVkaW5nIGZyaWN0aW9uIGFuZCByZXN0aXR1dGlvbiBlZmZlY3RzLlxuICAgICAqIFxuICAgICAqIFRoZSBkZWZhdWx0IHNob3VsZCBnZW5lcmFsbHkgc3VmZmljZSBpbiBtb3N0IGNhc2VzLiBZb3UgbWF5IG5lZWQgdG8gZGVjcmVhc2UgdGhpcyB2YWx1ZSBmb3IgdmVyeSBzbWFsbCBib2RpZXMgdGhhdCBhcmUgbmVhcmluZyB0aGUgZGVmYXVsdCB2YWx1ZSBpbiBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzbG9wXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC4wNVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyBwZXItYm9keSB0aW1lIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGltZVNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogX1JlYWQgb25seV8uIFVwZGF0ZWQgZHVyaW5nIGVuZ2luZSB1cGRhdGUuXG4gICAgICogXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHJlY29yZHMgdGhlIGxhc3QgZGVsdGEgdGltZSB2YWx1ZSB1c2VkIHRvIHVwZGF0ZSB0aGlzIGJvZHkuXG4gICAgICogVXNlZCB0byBjYWxjdWxhdGUgc3BlZWQgYW5kIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGRlbHRhVGltZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDEwMDAgLyA2MFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgdGhhdCBkZWZpbmVzIHRoZSByZW5kZXJpbmcgcHJvcGVydGllcyB0byBiZSBjb25zdW1lZCBieSB0aGUgbW9kdWxlIGBNYXR0ZXIuUmVuZGVyYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyBpZiB0aGUgYm9keSBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnZpc2libGVcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgb3BhY2l0eSB0byB1c2Ugd2hlbiByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLm9wYWNpdHlcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgZGVmaW5lcyB0aGUgc3ByaXRlIHByb3BlcnRpZXMgdG8gdXNlIHdoZW4gcmVuZGVyaW5nLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBwYXRoIHRvIHRoZSBpbWFnZSB0byB1c2UgYXMgdGhlIHNwcml0ZSB0ZXh0dXJlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS50ZXh0dXJlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG4gICAgIFxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBzY2FsaW5nIGluIHRoZSB4LWF4aXMgZm9yIHRoZSBzcHJpdGUsIGlmIGFueS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnhTY2FsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBzY2FsaW5nIGluIHRoZSB5LWF4aXMgZm9yIHRoZSBzcHJpdGUsIGlmIGFueS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnlTY2FsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB4LWF4aXMgZm9yIHRoZSBzcHJpdGUgKG5vcm1hbGlzZWQgYnkgdGV4dHVyZSB3aWR0aCkuXG4gICAgICAqXG4gICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnhPZmZzZXRcbiAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICovXG5cbiAgICAvKipcbiAgICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgeS1heGlzIGZvciB0aGUgc3ByaXRlIChub3JtYWxpc2VkIGJ5IHRleHR1cmUgaGVpZ2h0KS5cbiAgICAgICpcbiAgICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueU9mZnNldFxuICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICogQGRlZmF1bHQgMFxuICAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBsaW5lIHdpZHRoIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgYm9keSBvdXRsaW5lIChpZiBhIHNwcml0ZSBpcyBub3QgZGVmaW5lZCkuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgbm8gb3V0bGluZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5saW5lV2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgZmlsbCBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGJvZHkgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS5cbiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmZpbGxTdHlsZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IGEgcmFuZG9tIGNvbG91clxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGJvZHkgb3V0bGluZSAoaWYgYSBzcHJpdGUgaXMgbm90IGRlZmluZWQpLlxuICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3Ryb2tlU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBDYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB2ZXJ0aWNlcyBhcmUgc2V0LlxuICAgICAqIFxuICAgICAqIEFuIGFycmF5IG9mIHVuaXF1ZSBheGlzIHZlY3RvcnMgKGVkZ2Ugbm9ybWFscykgdXNlZCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKiBUaGVzZSBhcmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIHdoZW4gdmVydGljZXMgYXJlIHNldC5cbiAgICAgKiBUaGV5IGFyZSBjb25zdGFudGx5IHVwZGF0ZWQgYnkgYEJvZHkudXBkYXRlYCBkdXJpbmcgdGhlIHNpbXVsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgYXhlc1xuICAgICAqIEB0eXBlIHZlY3RvcltdXG4gICAgICovXG4gICAgIFxuICAgIC8qKlxuICAgICAqIF9SZWFkIG9ubHlfLiBDYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB2ZXJ0aWNlcyBhcmUgc2V0LlxuICAgICAqIFxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBtZWFzdXJlcyB0aGUgYXJlYSBvZiB0aGUgYm9keSdzIGNvbnZleCBodWxsLlxuICAgICAqIFxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBhcmVhXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBCb3VuZHNgIG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIEFBQkIgcmVnaW9uIGZvciB0aGUgYm9keS5cbiAgICAgKiBJdCBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgd2hlbiB2ZXJ0aWNlcyBhcmUgc2V0IGFuZCBjb25zdGFudGx5IHVwZGF0ZWQgYnkgYEJvZHkudXBkYXRlYCBkdXJpbmcgc2ltdWxhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgYm91bmRzXG4gICAgICogQHR5cGUgYm91bmRzXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5FdmVudHNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIHRvIGZpcmUgYW5kIGxpc3RlbiB0byBldmVudHMgb24gb3RoZXIgb2JqZWN0cy5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIEV2ZW50c1xuKi9cblxudmFyIEV2ZW50cyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50cztcblxudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGUgZ2l2ZW4gb2JqZWN0J3MgYGV2ZW50TmFtZWAuXG4gICAgICogQG1ldGhvZCBvblxuICAgICAqIEBwYXJhbSB7fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgRXZlbnRzLm9uID0gZnVuY3Rpb24ob2JqZWN0LCBldmVudE5hbWVzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyksXG4gICAgICAgICAgICBuYW1lO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgIG9iamVjdC5ldmVudHMgPSBvYmplY3QuZXZlbnRzIHx8IHt9O1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lXSA9IG9iamVjdC5ldmVudHNbbmFtZV0gfHwgW107XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzW25hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBldmVudCBjYWxsYmFjay4gSWYgbm8gY2FsbGJhY2ssIGNsZWFycyBhbGwgY2FsbGJhY2tzIGluIGBldmVudE5hbWVzYC4gSWYgbm8gYGV2ZW50TmFtZXNgLCBjbGVhcnMgYWxsIGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIG9mZlxuICAgICAqIEBwYXJhbSB7fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgRXZlbnRzLm9mZiA9IGZ1bmN0aW9uKG9iamVjdCwgZXZlbnROYW1lcywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCFldmVudE5hbWVzKSB7XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzID0ge307XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgRXZlbnRzLm9mZihvYmplY3QsIGNhbGxiYWNrKVxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gZXZlbnROYW1lcztcbiAgICAgICAgICAgIGV2ZW50TmFtZXMgPSBDb21tb24ua2V5cyhvYmplY3QuZXZlbnRzKS5qb2luKCcgJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IG9iamVjdC5ldmVudHNbbmFtZXNbaV1dLFxuICAgICAgICAgICAgICAgIG5ld0NhbGxiYWNrcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1tqXSAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDYWxsYmFja3MucHVzaChjYWxsYmFja3Nbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lc1tpXV0gPSBuZXdDYWxsYmFja3M7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgYWxsIHRoZSBjYWxsYmFja3Mgc3Vic2NyaWJlZCB0byB0aGUgZ2l2ZW4gb2JqZWN0J3MgYGV2ZW50TmFtZWAsIGluIHRoZSBvcmRlciB0aGV5IHN1YnNjcmliZWQsIGlmIGFueS5cbiAgICAgKiBAbWV0aG9kIHRyaWdnZXJcbiAgICAgKiBAcGFyYW0ge30gb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXNcbiAgICAgKiBAcGFyYW0ge30gZXZlbnRcbiAgICAgKi9cbiAgICBFdmVudHMudHJpZ2dlciA9IGZ1bmN0aW9uKG9iamVjdCwgZXZlbnROYW1lcywgZXZlbnQpIHtcbiAgICAgICAgdmFyIG5hbWVzLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIGV2ZW50Q2xvbmU7XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IG9iamVjdC5ldmVudHM7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXZlbnRzICYmIENvbW1vbi5rZXlzKGV2ZW50cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKCFldmVudClcbiAgICAgICAgICAgICAgICBldmVudCA9IHt9O1xuXG4gICAgICAgICAgICBuYW1lcyA9IGV2ZW50TmFtZXMuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBldmVudHNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUgPSBDb21tb24uY2xvbmUoZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDbG9uZS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDbG9uZS5zb3VyY2UgPSBvYmplY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tqXS5hcHBseShvYmplY3QsIFtldmVudENsb25lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogQSBjb21wb3NpdGUgaXMgYSBjb2xsZWN0aW9uIG9mIGBNYXR0ZXIuQm9keWAsIGBNYXR0ZXIuQ29uc3RyYWludGAgYW5kIG90aGVyIGBNYXR0ZXIuQ29tcG9zaXRlYCBvYmplY3RzLlxuKlxuKiBUaGV5IGFyZSBhIGNvbnRhaW5lciB0aGF0IGNhbiByZXByZXNlbnQgY29tcGxleCBvYmplY3RzIG1hZGUgb2YgbXVsdGlwbGUgcGFydHMsIGV2ZW4gaWYgdGhleSBhcmUgbm90IHBoeXNpY2FsbHkgY29ubmVjdGVkLlxuKiBBIGNvbXBvc2l0ZSBjb3VsZCBjb250YWluIGFueXRoaW5nIGZyb20gYSBzaW5nbGUgYm9keSBhbGwgdGhlIHdheSB1cCB0byBhIHdob2xlIHdvcmxkLlxuKiBcbiogV2hlbiBtYWtpbmcgYW55IGNoYW5nZXMgdG8gY29tcG9zaXRlcywgdXNlIHRoZSBpbmNsdWRlZCBmdW5jdGlvbnMgcmF0aGVyIHRoYW4gY2hhbmdpbmcgdGhlaXIgcHJvcGVydGllcyBkaXJlY3RseS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIENvbXBvc2l0ZVxuKi9cblxudmFyIENvbXBvc2l0ZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvc2l0ZTtcblxudmFyIEV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbXBvc2l0ZS4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJpdGVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uZXh0ZW5kKHsgXG4gICAgICAgICAgICBpZDogQ29tbW9uLm5leHRJZCgpLFxuICAgICAgICAgICAgdHlwZTogJ2NvbXBvc2l0ZScsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBpc01vZGlmaWVkOiBmYWxzZSxcbiAgICAgICAgICAgIGJvZGllczogW10sIFxuICAgICAgICAgICAgY29uc3RyYWludHM6IFtdLCBcbiAgICAgICAgICAgIGNvbXBvc2l0ZXM6IFtdLFxuICAgICAgICAgICAgbGFiZWw6ICdDb21wb3NpdGUnLFxuICAgICAgICAgICAgcGx1Z2luOiB7fSxcbiAgICAgICAgICAgIGNhY2hlOiB7XG4gICAgICAgICAgICAgICAgYWxsQm9kaWVzOiBudWxsLFxuICAgICAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzOiBudWxsLFxuICAgICAgICAgICAgICAgIGFsbENvbXBvc2l0ZXM6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbXBvc2l0ZSdzIGBpc01vZGlmaWVkYCBmbGFnLiBcbiAgICAgKiBJZiBgdXBkYXRlUGFyZW50c2AgaXMgdHJ1ZSwgYWxsIHBhcmVudHMgd2lsbCBiZSBzZXQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAgICAgKiBJZiBgdXBkYXRlQ2hpbGRyZW5gIGlzIHRydWUsIGFsbCBjaGlsZHJlbiB3aWxsIGJlIHNldCAoZGVmYXVsdDogZmFsc2UpLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzZXRNb2RpZmllZFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTW9kaWZpZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVQYXJlbnRzPWZhbHNlXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZUNoaWxkcmVuPWZhbHNlXVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgaXNNb2RpZmllZCwgdXBkYXRlUGFyZW50cywgdXBkYXRlQ2hpbGRyZW4pIHtcbiAgICAgICAgY29tcG9zaXRlLmlzTW9kaWZpZWQgPSBpc01vZGlmaWVkO1xuXG4gICAgICAgIGlmIChpc01vZGlmaWVkICYmIGNvbXBvc2l0ZS5jYWNoZSkge1xuICAgICAgICAgICAgY29tcG9zaXRlLmNhY2hlLmFsbEJvZGllcyA9IG51bGw7XG4gICAgICAgICAgICBjb21wb3NpdGUuY2FjaGUuYWxsQ29uc3RyYWludHMgPSBudWxsO1xuICAgICAgICAgICAgY29tcG9zaXRlLmNhY2hlLmFsbENvbXBvc2l0ZXMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVwZGF0ZVBhcmVudHMgJiYgY29tcG9zaXRlLnBhcmVudCkge1xuICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZS5wYXJlbnQsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvc2l0ZSA9IGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldO1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjaGlsZENvbXBvc2l0ZSwgaXNNb2RpZmllZCwgdXBkYXRlUGFyZW50cywgdXBkYXRlQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgc2luZ2xlIG9yIG11bHRpLWFkZCBmdW5jdGlvbi4gQWRkcyBhIHNpbmdsZSBvciBhbiBhcnJheSBvZiBib2R5KHMpLCBjb25zdHJhaW50KHMpIG9yIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIFRyaWdnZXJzIGBiZWZvcmVBZGRgIGFuZCBgYWZ0ZXJBZGRgIGV2ZW50cyBvbiB0aGUgYGNvbXBvc2l0ZWAuXG4gICAgICogQG1ldGhvZCBhZGRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R8YXJyYXl9IG9iamVjdCBBIHNpbmdsZSBvciBhbiBhcnJheSBvZiBib2R5KHMpLCBjb25zdHJhaW50KHMpIG9yIGNvbXBvc2l0ZShzKVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBvYmplY3RzIGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgb2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gW10uY29uY2F0KG9iamVjdCk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYmVmb3JlQWRkJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBvYmplY3RzW2ldO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgICAgIC8vIHNraXAgYWRkaW5nIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICAgICAgaWYgKG9iai5wYXJlbnQgIT09IG9iaikge1xuICAgICAgICAgICAgICAgICAgICBDb21tb24ud2FybignQ29tcG9zaXRlLmFkZDogc2tpcHBlZCBhZGRpbmcgYSBjb21wb3VuZCBib2R5IHBhcnQgKHlvdSBtdXN0IGFkZCBpdHMgcGFyZW50IGluc3RlYWQpJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNvbXBvc2l0ZSwgb2JqKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZShjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb3VzZUNvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlckFkZCcsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyByZW1vdmUgZnVuY3Rpb24uIFJlbW92ZXMgb25lIG9yIG1hbnkgYm9keShzKSwgY29uc3RyYWludChzKSBvciBhIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIE9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlUmVtb3ZlYCBhbmQgYGFmdGVyUmVtb3ZlYCBldmVudHMgb24gdGhlIGBjb21wb3NpdGVgLlxuICAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBvYmplY3RzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlID0gZnVuY3Rpb24oY29tcG9zaXRlLCBvYmplY3QsIGRlZXApIHtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBbXS5jb25jYXQob2JqZWN0KTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdiZWZvcmVSZW1vdmUnLCB7IG9iamVjdDogb2JqZWN0IH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG9iamVjdHNbaV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAob2JqLnR5cGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnYm9keSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUJvZHkoY29tcG9zaXRlLCBvYmosIGRlZXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLCBvYmosIGRlZXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29tcG9zaXRlJzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlKGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vdXNlQ29uc3RyYWludCc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLCBvYmouY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGNvbXBvc2l0ZSwgJ2FmdGVyUmVtb3ZlJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29tcG9zaXRlIHRvIHRoZSBnaXZlbiBjb21wb3NpdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGFkZENvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVBXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUJcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGVBIHdpdGggdGhlIG9iamVjdHMgZnJvbSBjb21wb3NpdGVCIGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIGNvbXBvc2l0ZUIpIHtcbiAgICAgICAgY29tcG9zaXRlQS5jb21wb3NpdGVzLnB1c2goY29tcG9zaXRlQik7XG4gICAgICAgIGNvbXBvc2l0ZUIucGFyZW50ID0gY29tcG9zaXRlQTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZUEsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZUE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjb21wb3NpdGUgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVCXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGVBIHdpdGggdGhlIGNvbXBvc2l0ZSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIGNvbXBvc2l0ZUIsIGRlZXApIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gQ29tbW9uLmluZGV4T2YoY29tcG9zaXRlQS5jb21wb3NpdGVzLCBjb21wb3NpdGVCKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZUF0KGNvbXBvc2l0ZUEsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZUEuY29tcG9zaXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZShjb21wb3NpdGVBLmNvbXBvc2l0ZXNbaV0sIGNvbXBvc2l0ZUIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZUE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjb21wb3NpdGUgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb21wb3NpdGVBdFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgY29tcG9zaXRlIHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlQXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5jb21wb3NpdGVzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGJvZHkgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYWRkQm9keVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgYm9keSBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGRCb2R5ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBib2R5KSB7XG4gICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMucHVzaChib2R5KTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgYm9keSBmcm9tIHRoZSBnaXZlbiBjb21wb3NpdGUsIGFuZCBvcHRpb25hbGx5IHNlYXJjaGluZyBpdHMgY2hpbGRyZW4gcmVjdXJzaXZlbHkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHJlbW92ZUJvZHlcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgYm9keSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUJvZHkgPSBmdW5jdGlvbihjb21wb3NpdGUsIGJvZHksIGRlZXApIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gQ29tbW9uLmluZGV4T2YoY29tcG9zaXRlLmJvZGllcywgYm9keSk7XG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5QXQoY29tcG9zaXRlLCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUJvZHkoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGJvZHksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVCb2R5QXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5QXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29uc3RyYWludCB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBhZGRDb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGNvbnN0cmFpbnQpIHtcbiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLnB1c2goY29uc3RyYWludCk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnQgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbnN0cmFpbnQgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBjb25zdHJhaW50LCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZS5jb25zdHJhaW50cywgY29uc3RyYWludCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50QXQoY29tcG9zaXRlLCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGNvbnN0cmFpbnQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb25zdHJhaW50QXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbnN0cmFpbnQgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50QXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5jb25zdHJhaW50cy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGJvZGllcywgY29uc3RyYWludHMgYW5kIGNvbXBvc2l0ZXMgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIE9wdGlvbmFsbHkgY2xlYXJpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBrZWVwU3RhdGljXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUuY2xlYXIgPSBmdW5jdGlvbihjb21wb3NpdGUsIGtlZXBTdGF0aWMsIGRlZXApIHtcbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5jbGVhcihjb21wb3NpdGUuY29tcG9zaXRlc1tpXSwga2VlcFN0YXRpYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChrZWVwU3RhdGljKSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuYm9kaWVzID0gY29tcG9zaXRlLmJvZGllcy5maWx0ZXIoZnVuY3Rpb24oYm9keSkgeyByZXR1cm4gYm9keS5pc1N0YXRpYzsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wb3NpdGUuYm9kaWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb3NpdGUuY29uc3RyYWludHMubGVuZ3RoID0gMDtcbiAgICAgICAgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBjb21wb3NpdGUsIGluY2x1ZGluZyBhbGwgYm9kaWVzIGluIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuXG4gICAgICogQG1ldGhvZCBhbGxCb2RpZXNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHJldHVybiB7Ym9keVtdfSBBbGwgdGhlIGJvZGllc1xuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hbGxCb2RpZXMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5jYWNoZSAmJiBjb21wb3NpdGUuY2FjaGUuYWxsQm9kaWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9zaXRlLmNhY2hlLmFsbEJvZGllcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib2RpZXMgPSBbXS5jb25jYXQoY29tcG9zaXRlLmJvZGllcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGJvZGllcyA9IGJvZGllcy5jb25jYXQoQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxCb2RpZXMgPSBib2RpZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9kaWVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBjb25zdHJhaW50cyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGNvbnN0cmFpbnRzIGluIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuXG4gICAgICogQG1ldGhvZCBhbGxDb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtjb25zdHJhaW50W119IEFsbCB0aGUgY29uc3RyYWludHNcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5jYWNoZSAmJiBjb21wb3NpdGUuY2FjaGUuYWxsQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb3NpdGUuY2FjaGUuYWxsQ29uc3RyYWludHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29uc3RyYWludHMgPSBbXS5jb25jYXQoY29tcG9zaXRlLmNvbnN0cmFpbnRzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5jb25jYXQoQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldKSk7XG5cbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5jYWNoZSkge1xuICAgICAgICAgICAgY29tcG9zaXRlLmNhY2hlLmFsbENvbnN0cmFpbnRzID0gY29uc3RyYWludHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29uc3RyYWludHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGNvbXBvc2l0ZXMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIGFsbCBjb21wb3NpdGVzIGluIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuXG4gICAgICogQG1ldGhvZCBhbGxDb21wb3NpdGVzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZVtdfSBBbGwgdGhlIGNvbXBvc2l0ZXNcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkge1xuICAgICAgICBpZiAoY29tcG9zaXRlLmNhY2hlICYmIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9zaXRlLmNhY2hlLmFsbENvbXBvc2l0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcG9zaXRlcyA9IFtdLmNvbmNhdChjb21wb3NpdGUuY29tcG9zaXRlcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNvbXBvc2l0ZXMgPSBjb21wb3NpdGVzLmNvbmNhdChDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUuY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZS5jYWNoZS5hbGxDb21wb3NpdGVzID0gY29tcG9zaXRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyB0aGUgY29tcG9zaXRlIHJlY3Vyc2l2ZWx5IGZvciBhbiBvYmplY3QgbWF0Y2hpbmcgdGhlIHR5cGUgYW5kIGlkIHN1cHBsaWVkLCBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgKiBAbWV0aG9kIGdldFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHJlcXVlc3RlZCBvYmplY3QsIGlmIGZvdW5kXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmdldCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgaWQsIHR5cGUpIHtcbiAgICAgICAgdmFyIG9iamVjdHMsXG4gICAgICAgICAgICBvYmplY3Q7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgb2JqZWN0cyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjb25zdHJhaW50JzpcbiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMoY29tcG9zaXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjb21wb3NpdGUnOlxuICAgICAgICAgICAgb2JqZWN0cyA9IENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKGNvbXBvc2l0ZSkuY29uY2F0KGNvbXBvc2l0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb2JqZWN0cylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIG9iamVjdCA9IG9iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkgeyBcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QuaWQudG9TdHJpbmcoKSA9PT0gaWQudG9TdHJpbmcoKTsgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvYmplY3QubGVuZ3RoID09PSAwID8gbnVsbCA6IG9iamVjdFswXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGdpdmVuIG9iamVjdChzKSBmcm9tIGNvbXBvc2l0ZUEgdG8gY29tcG9zaXRlQiAoZXF1YWwgdG8gYSByZW1vdmUgZm9sbG93ZWQgYnkgYW4gYWRkKS5cbiAgICAgKiBAbWV0aG9kIG1vdmVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZUF9IGNvbXBvc2l0ZUFcbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBvYmplY3RzXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGVCfSBjb21wb3NpdGVCXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBSZXR1cm5zIGNvbXBvc2l0ZUFcbiAgICAgKi9cbiAgICBDb21wb3NpdGUubW92ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIG9iamVjdHMsIGNvbXBvc2l0ZUIpIHtcbiAgICAgICAgQ29tcG9zaXRlLnJlbW92ZShjb21wb3NpdGVBLCBvYmplY3RzKTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZChjb21wb3NpdGVCLCBvYmplY3RzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZUE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgbmV3IGlkcyBmb3IgYWxsIG9iamVjdHMgaW4gdGhlIGNvbXBvc2l0ZSwgcmVjdXJzaXZlbHkuXG4gICAgICogQG1ldGhvZCByZWJhc2VcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBSZXR1cm5zIGNvbXBvc2l0ZVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZWJhc2UgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSlcbiAgICAgICAgICAgIC5jb25jYXQoQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKGNvbXBvc2l0ZSkpXG4gICAgICAgICAgICAuY29uY2F0KENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKGNvbXBvc2l0ZSkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb2JqZWN0c1tpXS5pZCA9IENvbW1vbi5uZXh0SWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgYWxsIGNoaWxkcmVuIGluIHRoZSBjb21wb3NpdGUgYnkgYSBnaXZlbiB2ZWN0b3IgcmVsYXRpdmUgdG8gdGhlaXIgY3VycmVudCBwb3NpdGlvbnMsIFxuICAgICAqIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUudHJhbnNsYXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCB0cmFuc2xhdGlvbiwgcmVjdXJzaXZlKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSByZWN1cnNpdmUgPyBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSkgOiBjb21wb3NpdGUuYm9kaWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShib2RpZXNbaV0sIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYWxsIGNoaWxkcmVuIGluIHRoZSBjb21wb3NpdGUgYnkgYSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgZ2l2ZW4gcG9pbnQsIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSBhbmd1bGFyIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW3JlY3Vyc2l2ZT10cnVlXVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yb3RhdGUgPSBmdW5jdGlvbihjb21wb3NpdGUsIHJvdGF0aW9uLCBwb2ludCwgcmVjdXJzaXZlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyb3RhdGlvbiksXG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihyb3RhdGlvbiksXG4gICAgICAgICAgICBib2RpZXMgPSByZWN1cnNpdmUgPyBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSkgOiBjb21wb3NpdGUuYm9kaWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBkeCA9IGJvZHkucG9zaXRpb24ueCAtIHBvaW50LngsXG4gICAgICAgICAgICAgICAgZHkgPSBib2R5LnBvc2l0aW9uLnkgLSBwb2ludC55O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCArIChkeCAqIGNvcyAtIGR5ICogc2luKSxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC55ICsgKGR4ICogc2luICsgZHkgKiBjb3MpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgQm9keS5yb3RhdGUoYm9keSwgcm90YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlLCBpbmNsdWRpbmcgdXBkYXRpbmcgcGh5c2ljYWwgcHJvcGVydGllcyAobWFzcywgYXJlYSwgYXhlcywgaW5lcnRpYSksIGZyb20gYSB3b3JsZC1zcGFjZSBwb2ludC5cbiAgICAgKiBAbWV0aG9kIHNjYWxlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHBhcmFtIHtib29sfSBbcmVjdXJzaXZlPXRydWVdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnNjYWxlID0gZnVuY3Rpb24oY29tcG9zaXRlLCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQsIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyBkeCAqIHNjYWxlWCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC55ICsgZHkgKiBzY2FsZVlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBCb2R5LnNjYWxlKGJvZHksIHNjYWxlWCwgc2NhbGVZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuaW9uIG9mIHRoZSBib3VuZHMgb2YgYWxsIG9mIHRoZSBjb21wb3NpdGUncyBib2RpZXMuXG4gICAgICogQG1ldGhvZCBib3VuZHNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlIFRoZSBjb21wb3NpdGUuXG4gICAgICogQHJldHVybnMge2JvdW5kc30gVGhlIGNvbXBvc2l0ZSBib3VuZHMuXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmJvdW5kcyA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpLFxuICAgICAgICAgICAgdmVydGljZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKGJvZHkuYm91bmRzLm1pbiwgYm9keS5ib3VuZHMubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb3VuZHMuY3JlYXRlKHZlcnRpY2VzKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5hZGRgIGlzIG1hZGUsIGJlZm9yZSBvYmplY3RzIGhhdmUgYmVlbiBhZGRlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlQWRkXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdG8gYmUgYWRkZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLmFkZGAgaXMgbWFkZSwgYWZ0ZXIgb2JqZWN0cyBoYXZlIGJlZW4gYWRkZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyQWRkXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gYWRkZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLnJlbW92ZWAgaXMgbWFkZSwgYmVmb3JlIG9iamVjdHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVJlbW92ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRvIGJlIHJlbW92ZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLnJlbW92ZWAgaXMgbWFkZSwgYWZ0ZXIgb2JqZWN0cyBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgYWZ0ZXJSZW1vdmVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5vYmplY3QgVGhlIG9iamVjdChzKSB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gaW50ZWdlciBgTnVtYmVyYCB1bmlxdWVseSBpZGVudGlmeWluZyBudW1iZXIgZ2VuZXJhdGVkIGluIGBDb21wb3NpdGUuY3JlYXRlYCBieSBgQ29tbW9uLm5leHRJZGAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImNvbXBvc2l0ZVwiXG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgY29tcG9zaXRlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsYWJlbFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiQ29tcG9zaXRlXCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBjb21wb3NpdGUgaGFzIGJlZW4gbW9kaWZpZWQgZHVyaW5nIHRoZSBjdXJyZW50IHN0ZXAuXG4gICAgICogVGhpcyBpcyBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgd2hlbiBib2RpZXMsIGNvbnN0cmFpbnRzIG9yIGNvbXBvc2l0ZXMgYXJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaXNNb2RpZmllZFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBDb21wb3NpdGVgIHRoYXQgaXMgdGhlIHBhcmVudCBvZiB0aGlzIGNvbXBvc2l0ZS4gSXQgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkIGJ5IHRoZSBgTWF0dGVyLkNvbXBvc2l0ZWAgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwYXJlbnRcbiAgICAgKiBAdHlwZSBjb21wb3NpdGVcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBgQm9keWAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuXG4gICAgICogVG8gYWRkIG9yIHJlbW92ZSBib2RpZXMgeW91IHNob3VsZCB1c2UgYENvbXBvc2l0ZS5hZGRgIGFuZCBgQ29tcG9zaXRlLnJlbW92ZWAgbWV0aG9kcyByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKiBJZiB5b3Ugd2lzaCB0byByZWN1cnNpdmVseSBmaW5kIGFsbCBkZXNjZW5kYW50cywgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuYWxsQm9kaWVzYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9kaWVzXG4gICAgICogQHR5cGUgYm9keVtdXG4gICAgICogQGRlZmF1bHQgW11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGBDb25zdHJhaW50YCB0aGF0IGFyZSBfZGlyZWN0XyBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvc2l0ZS5cbiAgICAgKiBUbyBhZGQgb3IgcmVtb3ZlIGNvbnN0cmFpbnRzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICogSWYgeW91IHdpc2ggdG8gcmVjdXJzaXZlbHkgZmluZCBhbGwgZGVzY2VuZGFudHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludHNcbiAgICAgKiBAdHlwZSBjb25zdHJhaW50W11cbiAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYENvbXBvc2l0ZWAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuXG4gICAgICogVG8gYWRkIG9yIHJlbW92ZSBjb21wb3NpdGVzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICogSWYgeW91IHdpc2ggdG8gcmVjdXJzaXZlbHkgZmluZCBhbGwgZGVzY2VuZGFudHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXNgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb21wb3NpdGVzXG4gICAgICogQHR5cGUgY29tcG9zaXRlW11cbiAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlc2VydmVkIGZvciBzdG9yaW5nIHBsdWdpbi1zcGVjaWZpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBsdWdpblxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdXNlZCBmb3Igc3RvcmluZyBjYWNoZWQgcmVzdWx0cyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgKiBUaGlzIGlzIHVzZWQgaW50ZXJuYWxseSBvbmx5IGFuZCBpcyBhdXRvbWF0aWNhbGx5IG1hbmFnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwcm9wZXJ0eSBjYWNoZVxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgdG8gbWFuYWdlIHRoZSBzbGVlcGluZyBzdGF0ZSBvZiBib2RpZXMuXG4qXG4qIEBjbGFzcyBTbGVlcGluZ1xuKi9cblxudmFyIFNsZWVwaW5nID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gU2xlZXBpbmc7XG5cbnZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIFNsZWVwaW5nLl9tb3Rpb25XYWtlVGhyZXNob2xkID0gMC4xODtcbiAgICBTbGVlcGluZy5fbW90aW9uU2xlZXBUaHJlc2hvbGQgPSAwLjA4O1xuICAgIFNsZWVwaW5nLl9taW5CaWFzID0gMC45O1xuXG4gICAgLyoqXG4gICAgICogUHV0cyBib2RpZXMgdG8gc2xlZXAgb3Igd2FrZXMgdGhlbSB1cCBkZXBlbmRpbmcgb24gdGhlaXIgbW90aW9uLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICAgICAqL1xuICAgIFNsZWVwaW5nLnVwZGF0ZSA9IGZ1bmN0aW9uKGJvZGllcywgZGVsdGEpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IGRlbHRhIC8gQ29tbW9uLl9iYXNlRGVsdGEsXG4gICAgICAgICAgICBtb3Rpb25TbGVlcFRocmVzaG9sZCA9IFNsZWVwaW5nLl9tb3Rpb25TbGVlcFRocmVzaG9sZDtcbiAgICAgICAgXG4gICAgICAgIC8vIHVwZGF0ZSBib2RpZXMgc2xlZXBpbmcgc3RhdHVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBzcGVlZCA9IEJvZHkuZ2V0U3BlZWQoYm9keSksXG4gICAgICAgICAgICAgICAgYW5ndWxhclNwZWVkID0gQm9keS5nZXRBbmd1bGFyU3BlZWQoYm9keSksXG4gICAgICAgICAgICAgICAgbW90aW9uID0gc3BlZWQgKiBzcGVlZCArIGFuZ3VsYXJTcGVlZCAqIGFuZ3VsYXJTcGVlZDtcblxuICAgICAgICAgICAgLy8gd2FrZSB1cCBib2RpZXMgaWYgdGhleSBoYXZlIGEgZm9yY2UgYXBwbGllZFxuICAgICAgICAgICAgaWYgKGJvZHkuZm9yY2UueCAhPT0gMCB8fCBib2R5LmZvcmNlLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWluTW90aW9uID0gTWF0aC5taW4oYm9keS5tb3Rpb24sIG1vdGlvbiksXG4gICAgICAgICAgICAgICAgbWF4TW90aW9uID0gTWF0aC5tYXgoYm9keS5tb3Rpb24sIG1vdGlvbik7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gYmlhc2VkIGF2ZXJhZ2UgbW90aW9uIGVzdGltYXRpb24gYmV0d2VlbiBmcmFtZXNcbiAgICAgICAgICAgIGJvZHkubW90aW9uID0gU2xlZXBpbmcuX21pbkJpYXMgKiBtaW5Nb3Rpb24gKyAoMSAtIFNsZWVwaW5nLl9taW5CaWFzKSAqIG1heE1vdGlvbjtcblxuICAgICAgICAgICAgaWYgKGJvZHkuc2xlZXBUaHJlc2hvbGQgPiAwICYmIGJvZHkubW90aW9uIDwgbW90aW9uU2xlZXBUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciArPSAxO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChib2R5LnNsZWVwQ291bnRlciA+PSBib2R5LnNsZWVwVGhyZXNob2xkIC8gdGltZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvZHkuc2xlZXBDb3VudGVyID4gMCkge1xuICAgICAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBzZXQgb2YgY29sbGlkaW5nIHBhaXJzLCB3YWtlcyB0aGUgc2xlZXBpbmcgYm9kaWVzIGludm9sdmVkLlxuICAgICAqIEBtZXRob2QgYWZ0ZXJDb2xsaXNpb25zXG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICovXG4gICAgU2xlZXBpbmcuYWZ0ZXJDb2xsaXNpb25zID0gZnVuY3Rpb24ocGFpcnMpIHtcbiAgICAgICAgdmFyIG1vdGlvblNsZWVwVGhyZXNob2xkID0gU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkO1xuXG4gICAgICAgIC8vIHdha2UgdXAgYm9kaWVzIGludm9sdmVkIGluIGNvbGxpc2lvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gZG9uJ3Qgd2FrZSBpbmFjdGl2ZSBwYWlyc1xuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24uYm9keUEucGFyZW50LCBcbiAgICAgICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5Qi5wYXJlbnQ7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gZG9uJ3Qgd2FrZSBpZiBhdCBsZWFzdCBvbmUgYm9keSBpcyBzdGF0aWNcbiAgICAgICAgICAgIGlmICgoYm9keUEuaXNTbGVlcGluZyAmJiBib2R5Qi5pc1NsZWVwaW5nKSB8fCBib2R5QS5pc1N0YXRpYyB8fCBib2R5Qi5pc1N0YXRpYylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgXG4gICAgICAgICAgICBpZiAoYm9keUEuaXNTbGVlcGluZyB8fCBib2R5Qi5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNsZWVwaW5nQm9keSA9IChib2R5QS5pc1NsZWVwaW5nICYmICFib2R5QS5pc1N0YXRpYykgPyBib2R5QSA6IGJvZHlCLFxuICAgICAgICAgICAgICAgICAgICBtb3ZpbmdCb2R5ID0gc2xlZXBpbmdCb2R5ID09PSBib2R5QSA/IGJvZHlCIDogYm9keUE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNsZWVwaW5nQm9keS5pc1N0YXRpYyAmJiBtb3ZpbmdCb2R5Lm1vdGlvbiA+IG1vdGlvblNsZWVwVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChzbGVlcGluZ0JvZHksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICBcbiAgICAvKipcbiAgICAgKiBTZXQgYSBib2R5IGFzIHNsZWVwaW5nIG9yIGF3YWtlLlxuICAgICAqIEBtZXRob2Qgc2V0XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1NsZWVwaW5nXG4gICAgICovXG4gICAgU2xlZXBpbmcuc2V0ID0gZnVuY3Rpb24oYm9keSwgaXNTbGVlcGluZykge1xuICAgICAgICB2YXIgd2FzU2xlZXBpbmcgPSBib2R5LmlzU2xlZXBpbmc7XG5cbiAgICAgICAgaWYgKGlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgIGJvZHkuaXNTbGVlcGluZyA9IHRydWU7XG4gICAgICAgICAgICBib2R5LnNsZWVwQ291bnRlciA9IGJvZHkuc2xlZXBUaHJlc2hvbGQ7XG5cbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnggPSAwO1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbkltcHVsc2UueSA9IDA7XG5cbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGU7XG4gICAgICAgICAgICBib2R5LnNwZWVkID0gMDtcbiAgICAgICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gMDtcbiAgICAgICAgICAgIGJvZHkubW90aW9uID0gMDtcblxuICAgICAgICAgICAgaWYgKCF3YXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGJvZHksICdzbGVlcFN0YXJ0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LmlzU2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyID0gMDtcblxuICAgICAgICAgICAgaWYgKHdhc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoYm9keSwgJ3NsZWVwRW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQ29sbGlzaW9uYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIGNvbGxpc2lvbnMgYmV0d2VlbiBhIGdpdmVuIHBhaXIgb2YgYm9kaWVzLlxuKlxuKiBGb3IgZWZmaWNpZW50IGRldGVjdGlvbiBiZXR3ZWVuIGEgbGlzdCBvZiBib2RpZXMsIHNlZSBgTWF0dGVyLkRldGVjdG9yYCBhbmQgYE1hdHRlci5RdWVyeWAuXG4qXG4qIFNlZSBgTWF0dGVyLkVuZ2luZWAgZm9yIGNvbGxpc2lvbiBldmVudHMuXG4qXG4qIEBjbGFzcyBDb2xsaXNpb25cbiovXG5cbnZhciBDb2xsaXNpb24gPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb2xsaXNpb247XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgUGFpciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgX3N1cHBvcnRzID0gW107XG5cbiAgICB2YXIgX292ZXJsYXBBQiA9IHtcbiAgICAgICAgb3ZlcmxhcDogMCxcbiAgICAgICAgYXhpczogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgX292ZXJsYXBCQSA9IHtcbiAgICAgICAgb3ZlcmxhcDogMCxcbiAgICAgICAgYXhpczogbnVsbFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGxpc2lvbiByZWNvcmQuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBIFRoZSBmaXJzdCBib2R5IHBhcnQgcmVwcmVzZW50ZWQgYnkgdGhlIGNvbGxpc2lvbiByZWNvcmRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCIFRoZSBzZWNvbmQgYm9keSBwYXJ0IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gcmVjb3JkXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9ufSBBIG5ldyBjb2xsaXNpb24gcmVjb3JkXG4gICAgICovXG4gICAgQ29sbGlzaW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qikge1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIHBhaXI6IG51bGwsXG4gICAgICAgICAgICBjb2xsaWRlZDogZmFsc2UsXG4gICAgICAgICAgICBib2R5QTogYm9keUEsXG4gICAgICAgICAgICBib2R5QjogYm9keUIsXG4gICAgICAgICAgICBwYXJlbnRBOiBib2R5QS5wYXJlbnQsXG4gICAgICAgICAgICBwYXJlbnRCOiBib2R5Qi5wYXJlbnQsXG4gICAgICAgICAgICBkZXB0aDogMCxcbiAgICAgICAgICAgIG5vcm1hbDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICB0YW5nZW50OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIHBlbmV0cmF0aW9uOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzOiBbXVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgY29sbGlzaW9uIGJldHdlZW4gdHdvIGJvZGllcy5cbiAgICAgKiBAbWV0aG9kIGNvbGxpZGVzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcGFyYW0ge3BhaXJzfSBbcGFpcnNdIE9wdGlvbmFsbHkgcmV1c2UgY29sbGlzaW9uIHJlY29yZHMgZnJvbSBleGlzdGluZyBwYWlycy5cbiAgICAgKiBAcmV0dXJuIHtjb2xsaXNpb258bnVsbH0gQSBjb2xsaXNpb24gcmVjb3JkIGlmIGRldGVjdGVkLCBvdGhlcndpc2UgbnVsbFxuICAgICAqL1xuICAgIENvbGxpc2lvbi5jb2xsaWRlcyA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5QiwgcGFpcnMpIHtcbiAgICAgICAgQ29sbGlzaW9uLl9vdmVybGFwQXhlcyhfb3ZlcmxhcEFCLCBib2R5QS52ZXJ0aWNlcywgYm9keUIudmVydGljZXMsIGJvZHlBLmF4ZXMpO1xuXG4gICAgICAgIGlmIChfb3ZlcmxhcEFCLm92ZXJsYXAgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBDb2xsaXNpb24uX292ZXJsYXBBeGVzKF9vdmVybGFwQkEsIGJvZHlCLnZlcnRpY2VzLCBib2R5QS52ZXJ0aWNlcywgYm9keUIuYXhlcyk7XG5cbiAgICAgICAgaWYgKF9vdmVybGFwQkEub3ZlcmxhcCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldXNlIGNvbGxpc2lvbiByZWNvcmRzIGZvciBnYyBlZmZpY2llbmN5XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnMgJiYgcGFpcnMudGFibGVbUGFpci5pZChib2R5QSwgYm9keUIpXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbjtcblxuICAgICAgICBpZiAoIXBhaXIpIHtcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IENvbGxpc2lvbi5jcmVhdGUoYm9keUEsIGJvZHlCKTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5jb2xsaWRlZCA9IHRydWU7XG4gICAgICAgICAgICBjb2xsaXNpb24uYm9keUEgPSBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUEgOiBib2R5QjtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5ib2R5QiA9IGJvZHlBLmlkIDwgYm9keUIuaWQgPyBib2R5QiA6IGJvZHlBO1xuICAgICAgICAgICAgY29sbGlzaW9uLnBhcmVudEEgPSBjb2xsaXNpb24uYm9keUEucGFyZW50O1xuICAgICAgICAgICAgY29sbGlzaW9uLnBhcmVudEIgPSBjb2xsaXNpb24uYm9keUIucGFyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgIH1cblxuICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QTtcbiAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUI7XG5cbiAgICAgICAgdmFyIG1pbk92ZXJsYXA7XG5cbiAgICAgICAgaWYgKF9vdmVybGFwQUIub3ZlcmxhcCA8IF9vdmVybGFwQkEub3ZlcmxhcCkge1xuICAgICAgICAgICAgbWluT3ZlcmxhcCA9IF9vdmVybGFwQUI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtaW5PdmVybGFwID0gX292ZXJsYXBCQTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsLFxuICAgICAgICAgICAgc3VwcG9ydHMgPSBjb2xsaXNpb24uc3VwcG9ydHMsXG4gICAgICAgICAgICBtaW5BeGlzID0gbWluT3ZlcmxhcC5heGlzLFxuICAgICAgICAgICAgbWluQXhpc1ggPSBtaW5BeGlzLngsXG4gICAgICAgICAgICBtaW5BeGlzWSA9IG1pbkF4aXMueTtcblxuICAgICAgICAvLyBlbnN1cmUgbm9ybWFsIGlzIGZhY2luZyBhd2F5IGZyb20gYm9keUFcbiAgICAgICAgaWYgKG1pbkF4aXNYICogKGJvZHlCLnBvc2l0aW9uLnggLSBib2R5QS5wb3NpdGlvbi54KSArIG1pbkF4aXNZICogKGJvZHlCLnBvc2l0aW9uLnkgLSBib2R5QS5wb3NpdGlvbi55KSA8IDApIHtcbiAgICAgICAgICAgIG5vcm1hbC54ID0gbWluQXhpc1g7XG4gICAgICAgICAgICBub3JtYWwueSA9IG1pbkF4aXNZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsLnggPSAtbWluQXhpc1g7XG4gICAgICAgICAgICBub3JtYWwueSA9IC1taW5BeGlzWTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQueCA9IC1ub3JtYWwueTtcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQueSA9IG5vcm1hbC54O1xuXG4gICAgICAgIGNvbGxpc2lvbi5kZXB0aCA9IG1pbk92ZXJsYXAub3ZlcmxhcDtcblxuICAgICAgICBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCA9IG5vcm1hbC54ICogY29sbGlzaW9uLmRlcHRoO1xuICAgICAgICBjb2xsaXNpb24ucGVuZXRyYXRpb24ueSA9IG5vcm1hbC55ICogY29sbGlzaW9uLmRlcHRoO1xuXG4gICAgICAgIC8vIGZpbmQgc3VwcG9ydCBwb2ludHMsIHRoZXJlIGlzIGFsd2F5cyBlaXRoZXIgZXhhY3RseSBvbmUgb3IgdHdvXG4gICAgICAgIHZhciBzdXBwb3J0c0IgPSBDb2xsaXNpb24uX2ZpbmRTdXBwb3J0cyhib2R5QSwgYm9keUIsIG5vcm1hbCwgMSksXG4gICAgICAgICAgICBzdXBwb3J0Q291bnQgPSAwO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHN1cHBvcnRzIGZyb20gYm9keUIgdGhhdCBhcmUgaW5zaWRlIGJvZHlBXG4gICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5QS52ZXJ0aWNlcywgc3VwcG9ydHNCWzBdKSkge1xuICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNCWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlBLnZlcnRpY2VzLCBzdXBwb3J0c0JbMV0pKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1tzdXBwb3J0Q291bnQrK10gPSBzdXBwb3J0c0JbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIHRoZSBzdXBwb3J0cyBmcm9tIGJvZHlBIHRoYXQgYXJlIGluc2lkZSBib2R5QlxuICAgICAgICBpZiAoc3VwcG9ydENvdW50IDwgMikge1xuICAgICAgICAgICAgdmFyIHN1cHBvcnRzQSA9IENvbGxpc2lvbi5fZmluZFN1cHBvcnRzKGJvZHlCLCBib2R5QSwgbm9ybWFsLCAtMSk7XG5cbiAgICAgICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5Qi52ZXJ0aWNlcywgc3VwcG9ydHNBWzBdKSkge1xuICAgICAgICAgICAgICAgIHN1cHBvcnRzW3N1cHBvcnRDb3VudCsrXSA9IHN1cHBvcnRzQVswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN1cHBvcnRDb3VudCA8IDIgJiYgVmVydGljZXMuY29udGFpbnMoYm9keUIudmVydGljZXMsIHN1cHBvcnRzQVsxXSkpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0c1tzdXBwb3J0Q291bnQrK10gPSBzdXBwb3J0c0FbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY2NvdW50IGZvciB0aGUgZWRnZSBjYXNlIG9mIG92ZXJsYXBwaW5nIGJ1dCBubyB2ZXJ0ZXggY29udGFpbm1lbnRcbiAgICAgICAgaWYgKHN1cHBvcnRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgc3VwcG9ydHNbc3VwcG9ydENvdW50KytdID0gc3VwcG9ydHNCWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHN1cHBvcnRzIGFycmF5IHNpemVcbiAgICAgICAgc3VwcG9ydHMubGVuZ3RoID0gc3VwcG9ydENvdW50O1xuXG4gICAgICAgIHJldHVybiBjb2xsaXNpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIG92ZXJsYXAgYmV0d2VlbiB0d28gc2V0cyBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIF9vdmVybGFwQXhlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlc3VsdFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzQVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzQlxuICAgICAqIEBwYXJhbSB7YXhlc30gYXhlc1xuICAgICAqL1xuICAgIENvbGxpc2lvbi5fb3ZlcmxhcEF4ZXMgPSBmdW5jdGlvbihyZXN1bHQsIHZlcnRpY2VzQSwgdmVydGljZXNCLCBheGVzKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0FMZW5ndGggPSB2ZXJ0aWNlc0EubGVuZ3RoLFxuICAgICAgICAgICAgdmVydGljZXNCTGVuZ3RoID0gdmVydGljZXNCLmxlbmd0aCxcbiAgICAgICAgICAgIHZlcnRpY2VzQVggPSB2ZXJ0aWNlc0FbMF0ueCxcbiAgICAgICAgICAgIHZlcnRpY2VzQVkgPSB2ZXJ0aWNlc0FbMF0ueSxcbiAgICAgICAgICAgIHZlcnRpY2VzQlggPSB2ZXJ0aWNlc0JbMF0ueCxcbiAgICAgICAgICAgIHZlcnRpY2VzQlkgPSB2ZXJ0aWNlc0JbMF0ueSxcbiAgICAgICAgICAgIGF4ZXNMZW5ndGggPSBheGVzLmxlbmd0aCxcbiAgICAgICAgICAgIG92ZXJsYXBNaW4gPSBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgb3ZlcmxhcEF4aXNOdW1iZXIgPSAwLFxuICAgICAgICAgICAgb3ZlcmxhcCxcbiAgICAgICAgICAgIG92ZXJsYXBBQixcbiAgICAgICAgICAgIG92ZXJsYXBCQSxcbiAgICAgICAgICAgIGRvdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBheGVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBheGlzID0gYXhlc1tpXSxcbiAgICAgICAgICAgICAgICBheGlzWCA9IGF4aXMueCxcbiAgICAgICAgICAgICAgICBheGlzWSA9IGF4aXMueSxcbiAgICAgICAgICAgICAgICBtaW5BID0gdmVydGljZXNBWCAqIGF4aXNYICsgdmVydGljZXNBWSAqIGF4aXNZLFxuICAgICAgICAgICAgICAgIG1pbkIgPSB2ZXJ0aWNlc0JYICogYXhpc1ggKyB2ZXJ0aWNlc0JZICogYXhpc1ksXG4gICAgICAgICAgICAgICAgbWF4QSA9IG1pbkEsXG4gICAgICAgICAgICAgICAgbWF4QiA9IG1pbkI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCB2ZXJ0aWNlc0FMZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IHZlcnRpY2VzQVtqXS54ICogYXhpc1ggKyB2ZXJ0aWNlc0Fbal0ueSAqIGF4aXNZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvdCA+IG1heEEpIHsgXG4gICAgICAgICAgICAgICAgICAgIG1heEEgPSBkb3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb3QgPCBtaW5BKSB7IFxuICAgICAgICAgICAgICAgICAgICBtaW5BID0gZG90O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IHZlcnRpY2VzQkxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgZG90ID0gdmVydGljZXNCW2pdLnggKiBheGlzWCArIHZlcnRpY2VzQltqXS55ICogYXhpc1k7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG90ID4gbWF4QikgeyBcbiAgICAgICAgICAgICAgICAgICAgbWF4QiA9IGRvdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvdCA8IG1pbkIpIHsgXG4gICAgICAgICAgICAgICAgICAgIG1pbkIgPSBkb3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdmVybGFwQUIgPSBtYXhBIC0gbWluQjtcbiAgICAgICAgICAgIG92ZXJsYXBCQSA9IG1heEIgLSBtaW5BO1xuICAgICAgICAgICAgb3ZlcmxhcCA9IG92ZXJsYXBBQiA8IG92ZXJsYXBCQSA/IG92ZXJsYXBBQiA6IG92ZXJsYXBCQTtcblxuICAgICAgICAgICAgaWYgKG92ZXJsYXAgPCBvdmVybGFwTWluKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmxhcE1pbiA9IG92ZXJsYXA7XG4gICAgICAgICAgICAgICAgb3ZlcmxhcEF4aXNOdW1iZXIgPSBpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXAgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW4gbm90IGJlIGludGVyc2VjdGluZ1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0LmF4aXMgPSBheGVzW292ZXJsYXBBeGlzTnVtYmVyXTtcbiAgICAgICAgcmVzdWx0Lm92ZXJsYXAgPSBvdmVybGFwTWluO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9qZWN0cyB2ZXJ0aWNlcyBvbiBhbiBheGlzIGFuZCByZXR1cm5zIGFuIGludGVydmFsLlxuICAgICAqIEBtZXRob2QgX3Byb2plY3RUb0F4aXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBwcm9qZWN0aW9uXG4gICAgICogQHBhcmFtIHt9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt9IGF4aXNcbiAgICAgKi9cbiAgICBDb2xsaXNpb24uX3Byb2plY3RUb0F4aXMgPSBmdW5jdGlvbihwcm9qZWN0aW9uLCB2ZXJ0aWNlcywgYXhpcykge1xuICAgICAgICB2YXIgbWluID0gdmVydGljZXNbMF0ueCAqIGF4aXMueCArIHZlcnRpY2VzWzBdLnkgKiBheGlzLnksXG4gICAgICAgICAgICBtYXggPSBtaW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGRvdCA9IHZlcnRpY2VzW2ldLnggKiBheGlzLnggKyB2ZXJ0aWNlc1tpXS55ICogYXhpcy55O1xuXG4gICAgICAgICAgICBpZiAoZG90ID4gbWF4KSB7IFxuICAgICAgICAgICAgICAgIG1heCA9IGRvdDsgXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvdCA8IG1pbikgeyBcbiAgICAgICAgICAgICAgICBtaW4gPSBkb3Q7IFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvamVjdGlvbi5taW4gPSBtaW47XG4gICAgICAgIHByb2plY3Rpb24ubWF4ID0gbWF4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyBzdXBwb3J0aW5nIHZlcnRpY2VzIGdpdmVuIHR3byBib2RpZXMgYWxvbmcgYSBnaXZlbiBkaXJlY3Rpb24gdXNpbmcgaGlsbC1jbGltYmluZy5cbiAgICAgKiBAbWV0aG9kIF9maW5kU3VwcG9ydHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IG5vcm1hbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb25cbiAgICAgKiBAcmV0dXJuIFt2ZWN0b3JdXG4gICAgICovXG4gICAgQ29sbGlzaW9uLl9maW5kU3VwcG9ydHMgPSBmdW5jdGlvbihib2R5QSwgYm9keUIsIG5vcm1hbCwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IGJvZHlCLnZlcnRpY2VzLFxuICAgICAgICAgICAgdmVydGljZXNMZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBib2R5QVBvc2l0aW9uWCA9IGJvZHlBLnBvc2l0aW9uLngsXG4gICAgICAgICAgICBib2R5QVBvc2l0aW9uWSA9IGJvZHlBLnBvc2l0aW9uLnksXG4gICAgICAgICAgICBub3JtYWxYID0gbm9ybWFsLnggKiBkaXJlY3Rpb24sXG4gICAgICAgICAgICBub3JtYWxZID0gbm9ybWFsLnkgKiBkaXJlY3Rpb24sXG4gICAgICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgdmVydGV4QSxcbiAgICAgICAgICAgIHZlcnRleEIsXG4gICAgICAgICAgICB2ZXJ0ZXhDLFxuICAgICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIC8vIGZpbmQgZGVlcGVzdCB2ZXJ0ZXggcmVsYXRpdmUgdG8gdGhlIGF4aXNcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHZlcnRpY2VzTGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgIHZlcnRleEIgPSB2ZXJ0aWNlc1tqXTtcbiAgICAgICAgICAgIGRpc3RhbmNlID0gbm9ybWFsWCAqIChib2R5QVBvc2l0aW9uWCAtIHZlcnRleEIueCkgKyBub3JtYWxZICogKGJvZHlBUG9zaXRpb25ZIC0gdmVydGV4Qi55KTtcblxuICAgICAgICAgICAgLy8gY29udmV4IGhpbGwtY2xpbWJpbmdcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG5lYXJlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIG5lYXJlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHZlcnRleEEgPSB2ZXJ0ZXhCO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWVhc3VyZSBuZXh0IHZlcnRleFxuICAgICAgICB2ZXJ0ZXhDID0gdmVydGljZXNbKHZlcnRpY2VzTGVuZ3RoICsgdmVydGV4QS5pbmRleCAtIDEpICUgdmVydGljZXNMZW5ndGhdO1xuICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBub3JtYWxYICogKGJvZHlBUG9zaXRpb25YIC0gdmVydGV4Qy54KSArIG5vcm1hbFkgKiAoYm9keUFQb3NpdGlvblkgLSB2ZXJ0ZXhDLnkpO1xuXG4gICAgICAgIC8vIGNvbXBhcmUgd2l0aCBwcmV2aW91cyB2ZXJ0ZXhcbiAgICAgICAgdmVydGV4QiA9IHZlcnRpY2VzWyh2ZXJ0ZXhBLmluZGV4ICsgMSkgJSB2ZXJ0aWNlc0xlbmd0aF07XG4gICAgICAgIGlmIChub3JtYWxYICogKGJvZHlBUG9zaXRpb25YIC0gdmVydGV4Qi54KSArIG5vcm1hbFkgKiAoYm9keUFQb3NpdGlvblkgLSB2ZXJ0ZXhCLnkpIDwgbmVhcmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICBfc3VwcG9ydHNbMF0gPSB2ZXJ0ZXhBO1xuICAgICAgICAgICAgX3N1cHBvcnRzWzFdID0gdmVydGV4QjtcblxuICAgICAgICAgICAgcmV0dXJuIF9zdXBwb3J0cztcbiAgICAgICAgfVxuXG4gICAgICAgIF9zdXBwb3J0c1swXSA9IHZlcnRleEE7XG4gICAgICAgIF9zdXBwb3J0c1sxXSA9IHZlcnRleEM7XG5cbiAgICAgICAgcmV0dXJuIF9zdXBwb3J0cztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgcGFpciB1c2luZyB0aGlzIGNvbGxpc2lvbiByZWNvcmQsIGlmIHRoZXJlIGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwYWlyXG4gICAgICogQHR5cGUge3BhaXJ8bnVsbH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGJvZGllcyB3ZXJlIGNvbGxpZGluZyB3aGVuIHRoZSBjb2xsaXNpb24gd2FzIGxhc3QgdXBkYXRlZC5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgY29sbGlkZWRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBib2R5IHBhcnQgcmVwcmVzZW50ZWQgYnkgdGhlIGNvbGxpc2lvbiAoc2VlIGFsc28gYGNvbGxpc2lvbi5wYXJlbnRBYCkuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGJvZHlBXG4gICAgICogQHR5cGUgYm9keVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlY29uZCBib2R5IHBhcnQgcmVwcmVzZW50ZWQgYnkgdGhlIGNvbGxpc2lvbiAoc2VlIGFsc28gYGNvbGxpc2lvbi5wYXJlbnRCYCkuXG4gICAgICogXG4gICAgICogQHByb3BlcnR5IGJvZHlCXG4gICAgICogQHR5cGUgYm9keVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IGJvZHkgcmVwcmVzZW50ZWQgYnkgdGhlIGNvbGxpc2lvbiAoaS5lLiBgY29sbGlzaW9uLmJvZHlBLnBhcmVudGApLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBwYXJlbnRBXG4gICAgICogQHR5cGUgYm9keVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlY29uZCBib2R5IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsaXNpb24gKGkuZS4gYGNvbGxpc2lvbi5ib2R5Qi5wYXJlbnRgKS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgcGFyZW50QlxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCByZXByZXNlbnRzIHRoZSBtaW5pbXVtIHNlcGFyYXRpbmcgZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm9kaWVzIGFsb25nIHRoZSBjb2xsaXNpb24gbm9ybWFsLlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IGRlcHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBub3JtYWxpc2VkIGBWZWN0b3JgIHRoYXQgcmVwcmVzZW50cyB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdGhlIGJvZGllcyB0aGF0IHByb3ZpZGVzIHRoZSBtaW5pbXVtIHNlcGFyYXRpbmcgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbm9ybWFsXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgbm9ybWFsaXNlZCBgVmVjdG9yYCB0aGF0IGlzIHRoZSB0YW5nZW50IGRpcmVjdGlvbiB0byB0aGUgY29sbGlzaW9uIG5vcm1hbC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0YW5nZW50XG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCByZXByZXNlbnRzIHRoZSBkaXJlY3Rpb24gYW5kIGRlcHRoIG9mIHRoZSBjb2xsaXNpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGVuZXRyYXRpb25cbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYm9keSB2ZXJ0aWNlcyB0aGF0IHJlcHJlc2VudCB0aGUgc3VwcG9ydCBwb2ludHMgaW4gdGhlIGNvbGxpc2lvbi5cbiAgICAgKiBUaGVzZSBhcmUgdGhlIGRlZXBlc3QgdmVydGljZXMgKGFsb25nIHRoZSBjb2xsaXNpb24gbm9ybWFsKSBvZiBlYWNoIGJvZHkgdGhhdCBhcmUgY29udGFpbmVkIGJ5IHRoZSBvdGhlciBib2R5J3MgdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3VwcG9ydHNcbiAgICAgKiBAdHlwZSB2ZWN0b3JbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5QYWlyYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gcGFpcnMuXG4qXG4qIEBjbGFzcyBQYWlyXG4qL1xuXG52YXIgUGFpciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhaXI7XG5cbnZhciBDb250YWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cbihmdW5jdGlvbigpIHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGFpci5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7Y29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICogQHJldHVybiB7cGFpcn0gQSBuZXcgcGFpclxuICAgICAqL1xuICAgIFBhaXIuY3JlYXRlID0gZnVuY3Rpb24oY29sbGlzaW9uLCB0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBLFxuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUI7XG5cbiAgICAgICAgdmFyIHBhaXIgPSB7XG4gICAgICAgICAgICBpZDogUGFpci5pZChib2R5QSwgYm9keUIpLFxuICAgICAgICAgICAgYm9keUE6IGJvZHlBLFxuICAgICAgICAgICAgYm9keUI6IGJvZHlCLFxuICAgICAgICAgICAgY29sbGlzaW9uOiBjb2xsaXNpb24sXG4gICAgICAgICAgICBjb250YWN0czogW10sXG4gICAgICAgICAgICBhY3RpdmVDb250YWN0czogW10sXG4gICAgICAgICAgICBzZXBhcmF0aW9uOiAwLFxuICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBjb25maXJtZWRBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBpc1NlbnNvcjogYm9keUEuaXNTZW5zb3IgfHwgYm9keUIuaXNTZW5zb3IsXG4gICAgICAgICAgICB0aW1lQ3JlYXRlZDogdGltZXN0YW1wLFxuICAgICAgICAgICAgdGltZVVwZGF0ZWQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIGludmVyc2VNYXNzOiAwLFxuICAgICAgICAgICAgZnJpY3Rpb246IDAsXG4gICAgICAgICAgICBmcmljdGlvblN0YXRpYzogMCxcbiAgICAgICAgICAgIHJlc3RpdHV0aW9uOiAwLFxuICAgICAgICAgICAgc2xvcDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIFBhaXIudXBkYXRlKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcblxuICAgICAgICByZXR1cm4gcGFpcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhIHBhaXIgZ2l2ZW4gYSBjb2xsaXNpb24uXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge3BhaXJ9IHBhaXJcbiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqL1xuICAgIFBhaXIudXBkYXRlID0gZnVuY3Rpb24ocGFpciwgY29sbGlzaW9uLCB0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIGNvbnRhY3RzID0gcGFpci5jb250YWN0cyxcbiAgICAgICAgICAgIHN1cHBvcnRzID0gY29sbGlzaW9uLnN1cHBvcnRzLFxuICAgICAgICAgICAgYWN0aXZlQ29udGFjdHMgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzLFxuICAgICAgICAgICAgcGFyZW50QSA9IGNvbGxpc2lvbi5wYXJlbnRBLFxuICAgICAgICAgICAgcGFyZW50QiA9IGNvbGxpc2lvbi5wYXJlbnRCLFxuICAgICAgICAgICAgcGFyZW50QVZlcnRpY2VzTGVuZ3RoID0gcGFyZW50QS52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgIFxuICAgICAgICBwYWlyLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgcGFpci50aW1lVXBkYXRlZCA9IHRpbWVzdGFtcDtcbiAgICAgICAgcGFpci5jb2xsaXNpb24gPSBjb2xsaXNpb247XG4gICAgICAgIHBhaXIuc2VwYXJhdGlvbiA9IGNvbGxpc2lvbi5kZXB0aDtcbiAgICAgICAgcGFpci5pbnZlcnNlTWFzcyA9IHBhcmVudEEuaW52ZXJzZU1hc3MgKyBwYXJlbnRCLmludmVyc2VNYXNzO1xuICAgICAgICBwYWlyLmZyaWN0aW9uID0gcGFyZW50QS5mcmljdGlvbiA8IHBhcmVudEIuZnJpY3Rpb24gPyBwYXJlbnRBLmZyaWN0aW9uIDogcGFyZW50Qi5mcmljdGlvbjtcbiAgICAgICAgcGFpci5mcmljdGlvblN0YXRpYyA9IHBhcmVudEEuZnJpY3Rpb25TdGF0aWMgPiBwYXJlbnRCLmZyaWN0aW9uU3RhdGljID8gcGFyZW50QS5mcmljdGlvblN0YXRpYyA6IHBhcmVudEIuZnJpY3Rpb25TdGF0aWM7XG4gICAgICAgIHBhaXIucmVzdGl0dXRpb24gPSBwYXJlbnRBLnJlc3RpdHV0aW9uID4gcGFyZW50Qi5yZXN0aXR1dGlvbiA/IHBhcmVudEEucmVzdGl0dXRpb24gOiBwYXJlbnRCLnJlc3RpdHV0aW9uO1xuICAgICAgICBwYWlyLnNsb3AgPSBwYXJlbnRBLnNsb3AgPiBwYXJlbnRCLnNsb3AgPyBwYXJlbnRBLnNsb3AgOiBwYXJlbnRCLnNsb3A7XG5cbiAgICAgICAgY29sbGlzaW9uLnBhaXIgPSBwYWlyO1xuICAgICAgICBhY3RpdmVDb250YWN0cy5sZW5ndGggPSAwO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdXBwb3J0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSBzdXBwb3J0c1tpXSxcbiAgICAgICAgICAgICAgICBjb250YWN0SWQgPSBzdXBwb3J0LmJvZHkgPT09IHBhcmVudEEgPyBzdXBwb3J0LmluZGV4IDogcGFyZW50QVZlcnRpY2VzTGVuZ3RoICsgc3VwcG9ydC5pbmRleCxcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gY29udGFjdHNbY29udGFjdElkXTtcblxuICAgICAgICAgICAgaWYgKGNvbnRhY3QpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDb250YWN0cy5wdXNoKGNvbnRhY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDb250YWN0cy5wdXNoKGNvbnRhY3RzW2NvbnRhY3RJZF0gPSBDb250YWN0LmNyZWF0ZShzdXBwb3J0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFNldCBhIHBhaXIgYXMgYWN0aXZlIG9yIGluYWN0aXZlLlxuICAgICAqIEBtZXRob2Qgc2V0QWN0aXZlXG4gICAgICogQHBhcmFtIHtwYWlyfSBwYWlyXG4gICAgICogQHBhcmFtIHtib29sfSBpc0FjdGl2ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBQYWlyLnNldEFjdGl2ZSA9IGZ1bmN0aW9uKHBhaXIsIGlzQWN0aXZlLCB0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICBwYWlyLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhaXIudGltZVVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWlyLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBmb3IgdGhlIGdpdmVuIHBhaXIuXG4gICAgICogQG1ldGhvZCBpZFxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBVbmlxdWUgcGFpcklkXG4gICAgICovXG4gICAgUGFpci5pZCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qikge1xuICAgICAgICBpZiAoYm9keUEuaWQgPCBib2R5Qi5pZCkge1xuICAgICAgICAgICAgcmV0dXJuICdBJyArIGJvZHlBLmlkICsgJ0InICsgYm9keUIuaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ0EnICsgYm9keUIuaWQgKyAnQicgKyBib2R5QS5pZDtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQ29uc3RyYWludGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29uc3RyYWludHMuXG4qIENvbnN0cmFpbnRzIGFyZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoYXQgYSBmaXhlZCBkaXN0YW5jZSBtdXN0IGJlIG1haW50YWluZWQgYmV0d2VlbiB0d28gYm9kaWVzIChvciBhIGJvZHkgYW5kIGEgZml4ZWQgd29ybGQtc3BhY2UgcG9zaXRpb24pLlxuKiBUaGUgc3RpZmZuZXNzIG9mIGNvbnN0cmFpbnRzIGNhbiBiZSBtb2RpZmllZCB0byBjcmVhdGUgc3ByaW5ncyBvciBlbGFzdGljLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQ29uc3RyYWludFxuKi9cblxudmFyIENvbnN0cmFpbnQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb25zdHJhaW50O1xuXG52YXIgVmVydGljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgU2xlZXBpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQXhlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIENvbnN0cmFpbnQuX3dhcm1pbmcgPSAwLjQ7XG4gICAgQ29uc3RyYWludC5fdG9ycXVlRGFtcGVuID0gMTtcbiAgICBDb25zdHJhaW50Ll9taW5MZW5ndGggPSAwLjAwMDAwMTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29uc3RyYWludC5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFRvIHNpbXVsYXRlIGEgcmV2b2x1dGUgY29uc3RyYWludCAob3IgcGluIGpvaW50KSBzZXQgYGxlbmd0aDogMGAgYW5kIGEgaGlnaCBgc3RpZmZuZXNzYCB2YWx1ZSAoZS5nLiBgMC43YCBvciBhYm92ZSkuXG4gICAgICogSWYgdGhlIGNvbnN0cmFpbnQgaXMgdW5zdGFibGUsIHRyeSBsb3dlcmluZyB0aGUgYHN0aWZmbmVzc2AgdmFsdWUgYW5kIC8gb3IgaW5jcmVhc2luZyBgZW5naW5lLmNvbnN0cmFpbnRJdGVyYXRpb25zYC5cbiAgICAgKiBGb3IgY29tcG91bmQgYm9kaWVzLCBjb25zdHJhaW50cyBtdXN0IGJlIGFwcGxpZWQgdG8gdGhlIHBhcmVudCBib2R5IChub3Qgb25lIG9mIGl0cyBwYXJ0cykuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqL1xuICAgIENvbnN0cmFpbnQuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgY29uc3RyYWludCA9IG9wdGlvbnM7XG5cbiAgICAgICAgLy8gaWYgYm9kaWVzIGRlZmluZWQgYnV0IG5vIHBvaW50cywgdXNlIGJvZHkgY2VudHJlXG4gICAgICAgIGlmIChjb25zdHJhaW50LmJvZHlBICYmICFjb25zdHJhaW50LnBvaW50QSlcbiAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIGlmIChjb25zdHJhaW50LmJvZHlCICYmICFjb25zdHJhaW50LnBvaW50QilcbiAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHN0YXRpYyBsZW5ndGggdXNpbmcgaW5pdGlhbCB3b3JsZCBzcGFjZSBwb2ludHNcbiAgICAgICAgdmFyIGluaXRpYWxQb2ludEEgPSBjb25zdHJhaW50LmJvZHlBID8gVmVjdG9yLmFkZChjb25zdHJhaW50LmJvZHlBLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QSkgOiBjb25zdHJhaW50LnBvaW50QSxcbiAgICAgICAgICAgIGluaXRpYWxQb2ludEIgPSBjb25zdHJhaW50LmJvZHlCID8gVmVjdG9yLmFkZChjb25zdHJhaW50LmJvZHlCLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QikgOiBjb25zdHJhaW50LnBvaW50QixcbiAgICAgICAgICAgIGxlbmd0aCA9IFZlY3Rvci5tYWduaXR1ZGUoVmVjdG9yLnN1Yihpbml0aWFsUG9pbnRBLCBpbml0aWFsUG9pbnRCKSk7XG4gICAgXG4gICAgICAgIGNvbnN0cmFpbnQubGVuZ3RoID0gdHlwZW9mIGNvbnN0cmFpbnQubGVuZ3RoICE9PSAndW5kZWZpbmVkJyA/IGNvbnN0cmFpbnQubGVuZ3RoIDogbGVuZ3RoO1xuXG4gICAgICAgIC8vIG9wdGlvbiBkZWZhdWx0c1xuICAgICAgICBjb25zdHJhaW50LmlkID0gY29uc3RyYWludC5pZCB8fCBDb21tb24ubmV4dElkKCk7XG4gICAgICAgIGNvbnN0cmFpbnQubGFiZWwgPSBjb25zdHJhaW50LmxhYmVsIHx8ICdDb25zdHJhaW50JztcbiAgICAgICAgY29uc3RyYWludC50eXBlID0gJ2NvbnN0cmFpbnQnO1xuICAgICAgICBjb25zdHJhaW50LnN0aWZmbmVzcyA9IGNvbnN0cmFpbnQuc3RpZmZuZXNzIHx8IChjb25zdHJhaW50Lmxlbmd0aCA+IDAgPyAxIDogMC43KTtcbiAgICAgICAgY29uc3RyYWludC5kYW1waW5nID0gY29uc3RyYWludC5kYW1waW5nIHx8IDA7XG4gICAgICAgIGNvbnN0cmFpbnQuYW5ndWxhclN0aWZmbmVzcyA9IGNvbnN0cmFpbnQuYW5ndWxhclN0aWZmbmVzcyB8fCAwO1xuICAgICAgICBjb25zdHJhaW50LmFuZ2xlQSA9IGNvbnN0cmFpbnQuYm9keUEgPyBjb25zdHJhaW50LmJvZHlBLmFuZ2xlIDogY29uc3RyYWludC5hbmdsZUE7XG4gICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gY29uc3RyYWludC5ib2R5QiA/IGNvbnN0cmFpbnQuYm9keUIuYW5nbGUgOiBjb25zdHJhaW50LmFuZ2xlQjtcbiAgICAgICAgY29uc3RyYWludC5wbHVnaW4gPSB7fTtcblxuICAgICAgICAvLyByZW5kZXJcbiAgICAgICAgdmFyIHJlbmRlciA9IHtcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICBsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICBzdHJva2VTdHlsZTogJyNmZmZmZmYnLFxuICAgICAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICAgICAgYW5jaG9yczogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjb25zdHJhaW50Lmxlbmd0aCA9PT0gMCAmJiBjb25zdHJhaW50LnN0aWZmbmVzcyA+IDAuMSkge1xuICAgICAgICAgICAgcmVuZGVyLnR5cGUgPSAncGluJztcbiAgICAgICAgICAgIHJlbmRlci5hbmNob3JzID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uc3RyYWludC5zdGlmZm5lc3MgPCAwLjkpIHtcbiAgICAgICAgICAgIHJlbmRlci50eXBlID0gJ3NwcmluZyc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJhaW50LnJlbmRlciA9IENvbW1vbi5leHRlbmQocmVuZGVyLCBjb25zdHJhaW50LnJlbmRlcik7XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmVzIGZvciBzb2x2aW5nIGJ5IGNvbnN0cmFpbnQgd2FybWluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcHJlU29sdmVBbGxcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgQ29uc3RyYWludC5wcmVTb2x2ZUFsbCA9IGZ1bmN0aW9uKGJvZGllcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgaW1wdWxzZSA9IGJvZHkuY29uc3RyYWludEltcHVsc2U7XG5cbiAgICAgICAgICAgIGlmIChib2R5LmlzU3RhdGljIHx8IChpbXB1bHNlLnggPT09IDAgJiYgaW1wdWxzZS55ID09PSAwICYmIGltcHVsc2UuYW5nbGUgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueCArPSBpbXB1bHNlLng7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnkgKz0gaW1wdWxzZS55O1xuICAgICAgICAgICAgYm9keS5hbmdsZSArPSBpbXB1bHNlLmFuZ2xlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNvbHZlcyBhbGwgY29uc3RyYWludHMgaW4gYSBsaXN0IG9mIGNvbGxpc2lvbnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHNvbHZlQWxsXG4gICAgICogQHBhcmFtIHtjb25zdHJhaW50W119IGNvbnN0cmFpbnRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gICAgICovXG4gICAgQ29uc3RyYWludC5zb2x2ZUFsbCA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzLCBkZWx0YSkge1xuICAgICAgICB2YXIgdGltZVNjYWxlID0gQ29tbW9uLmNsYW1wKGRlbHRhIC8gQ29tbW9uLl9iYXNlRGVsdGEsIDAsIDEpO1xuXG4gICAgICAgIC8vIFNvbHZlIGZpeGVkIGNvbnN0cmFpbnRzIGZpcnN0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2ldLFxuICAgICAgICAgICAgICAgIGZpeGVkQSA9ICFjb25zdHJhaW50LmJvZHlBIHx8IChjb25zdHJhaW50LmJvZHlBICYmIGNvbnN0cmFpbnQuYm9keUEuaXNTdGF0aWMpLFxuICAgICAgICAgICAgICAgIGZpeGVkQiA9ICFjb25zdHJhaW50LmJvZHlCIHx8IChjb25zdHJhaW50LmJvZHlCICYmIGNvbnN0cmFpbnQuYm9keUIuaXNTdGF0aWMpO1xuXG4gICAgICAgICAgICBpZiAoZml4ZWRBIHx8IGZpeGVkQikge1xuICAgICAgICAgICAgICAgIENvbnN0cmFpbnQuc29sdmUoY29uc3RyYWludHNbaV0sIHRpbWVTY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb2x2ZSBmcmVlIGNvbnN0cmFpbnRzIGxhc3QuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2ldO1xuICAgICAgICAgICAgZml4ZWRBID0gIWNvbnN0cmFpbnQuYm9keUEgfHwgKGNvbnN0cmFpbnQuYm9keUEgJiYgY29uc3RyYWludC5ib2R5QS5pc1N0YXRpYyk7XG4gICAgICAgICAgICBmaXhlZEIgPSAhY29uc3RyYWludC5ib2R5QiB8fCAoY29uc3RyYWludC5ib2R5QiAmJiBjb25zdHJhaW50LmJvZHlCLmlzU3RhdGljKTtcblxuICAgICAgICAgICAgaWYgKCFmaXhlZEEgJiYgIWZpeGVkQikge1xuICAgICAgICAgICAgICAgIENvbnN0cmFpbnQuc29sdmUoY29uc3RyYWludHNbaV0sIHRpbWVTY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU29sdmVzIGEgZGlzdGFuY2UgY29uc3RyYWludCB3aXRoIEdhdXNzLVNpZWRlbCBtZXRob2QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHNvbHZlXG4gICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTY2FsZVxuICAgICAqL1xuICAgIENvbnN0cmFpbnQuc29sdmUgPSBmdW5jdGlvbihjb25zdHJhaW50LCB0aW1lU2NhbGUpIHtcbiAgICAgICAgdmFyIGJvZHlBID0gY29uc3RyYWludC5ib2R5QSxcbiAgICAgICAgICAgIGJvZHlCID0gY29uc3RyYWludC5ib2R5QixcbiAgICAgICAgICAgIHBvaW50QSA9IGNvbnN0cmFpbnQucG9pbnRBLFxuICAgICAgICAgICAgcG9pbnRCID0gY29uc3RyYWludC5wb2ludEI7XG5cbiAgICAgICAgaWYgKCFib2R5QSAmJiAhYm9keUIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gdXBkYXRlIHJlZmVyZW5jZSBhbmdsZVxuICAgICAgICBpZiAoYm9keUEgJiYgIWJvZHlBLmlzU3RhdGljKSB7XG4gICAgICAgICAgICBWZWN0b3Iucm90YXRlKHBvaW50QSwgYm9keUEuYW5nbGUgLSBjb25zdHJhaW50LmFuZ2xlQSwgcG9pbnRBKTtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVBID0gYm9keUEuYW5nbGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIHVwZGF0ZSByZWZlcmVuY2UgYW5nbGVcbiAgICAgICAgaWYgKGJvZHlCICYmICFib2R5Qi5pc1N0YXRpYykge1xuICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZShwb2ludEIsIGJvZHlCLmFuZ2xlIC0gY29uc3RyYWludC5hbmdsZUIsIHBvaW50Qik7XG4gICAgICAgICAgICBjb25zdHJhaW50LmFuZ2xlQiA9IGJvZHlCLmFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50QVdvcmxkID0gcG9pbnRBLFxuICAgICAgICAgICAgcG9pbnRCV29ybGQgPSBwb2ludEI7XG5cbiAgICAgICAgaWYgKGJvZHlBKSBwb2ludEFXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb24sIHBvaW50QSk7XG4gICAgICAgIGlmIChib2R5QikgcG9pbnRCV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uLCBwb2ludEIpO1xuXG4gICAgICAgIGlmICghcG9pbnRBV29ybGQgfHwgIXBvaW50QldvcmxkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkZWx0YSA9IFZlY3Rvci5zdWIocG9pbnRBV29ybGQsIHBvaW50QldvcmxkKSxcbiAgICAgICAgICAgIGN1cnJlbnRMZW5ndGggPSBWZWN0b3IubWFnbml0dWRlKGRlbHRhKTtcblxuICAgICAgICAvLyBwcmV2ZW50IHNpbmd1bGFyaXR5XG4gICAgICAgIGlmIChjdXJyZW50TGVuZ3RoIDwgQ29uc3RyYWludC5fbWluTGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gQ29uc3RyYWludC5fbWluTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc29sdmUgZGlzdGFuY2UgY29uc3RyYWludCB3aXRoIEdhdXNzLVNpZWRlbCBtZXRob2RcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAoY3VycmVudExlbmd0aCAtIGNvbnN0cmFpbnQubGVuZ3RoKSAvIGN1cnJlbnRMZW5ndGgsXG4gICAgICAgICAgICBpc1JpZ2lkID0gY29uc3RyYWludC5zdGlmZm5lc3MgPj0gMSB8fCBjb25zdHJhaW50Lmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICAgIHN0aWZmbmVzcyA9IGlzUmlnaWQgPyBjb25zdHJhaW50LnN0aWZmbmVzcyAqIHRpbWVTY2FsZSBcbiAgICAgICAgICAgICAgICA6IGNvbnN0cmFpbnQuc3RpZmZuZXNzICogdGltZVNjYWxlICogdGltZVNjYWxlLFxuICAgICAgICAgICAgZGFtcGluZyA9IGNvbnN0cmFpbnQuZGFtcGluZyAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIGZvcmNlID0gVmVjdG9yLm11bHQoZGVsdGEsIGRpZmZlcmVuY2UgKiBzdGlmZm5lc3MpLFxuICAgICAgICAgICAgbWFzc1RvdGFsID0gKGJvZHlBID8gYm9keUEuaW52ZXJzZU1hc3MgOiAwKSArIChib2R5QiA/IGJvZHlCLmludmVyc2VNYXNzIDogMCksXG4gICAgICAgICAgICBpbmVydGlhVG90YWwgPSAoYm9keUEgPyBib2R5QS5pbnZlcnNlSW5lcnRpYSA6IDApICsgKGJvZHlCID8gYm9keUIuaW52ZXJzZUluZXJ0aWEgOiAwKSxcbiAgICAgICAgICAgIHJlc2lzdGFuY2VUb3RhbCA9IG1hc3NUb3RhbCArIGluZXJ0aWFUb3RhbCxcbiAgICAgICAgICAgIHRvcnF1ZSxcbiAgICAgICAgICAgIHNoYXJlLFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgbm9ybWFsVmVsb2NpdHksXG4gICAgICAgICAgICByZWxhdGl2ZVZlbG9jaXR5O1xuICAgIFxuICAgICAgICBpZiAoZGFtcGluZyA+IDApIHtcbiAgICAgICAgICAgIHZhciB6ZXJvID0gVmVjdG9yLmNyZWF0ZSgpO1xuICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLmRpdihkZWx0YSwgY3VycmVudExlbmd0aCk7XG5cbiAgICAgICAgICAgIHJlbGF0aXZlVmVsb2NpdHkgPSBWZWN0b3Iuc3ViKFxuICAgICAgICAgICAgICAgIGJvZHlCICYmIFZlY3Rvci5zdWIoYm9keUIucG9zaXRpb24sIGJvZHlCLnBvc2l0aW9uUHJldikgfHwgemVybyxcbiAgICAgICAgICAgICAgICBib2R5QSAmJiBWZWN0b3Iuc3ViKGJvZHlBLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvblByZXYpIHx8IHplcm9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG5vcm1hbFZlbG9jaXR5ID0gVmVjdG9yLmRvdChub3JtYWwsIHJlbGF0aXZlVmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykge1xuICAgICAgICAgICAgc2hhcmUgPSBib2R5QS5pbnZlcnNlTWFzcyAvIG1hc3NUb3RhbDtcblxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBhcHBsaWVkIGltcHVsc2VzIGZvciBwb3N0IHNvbHZpbmdcbiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLnggLT0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUEuY29uc3RyYWludEltcHVsc2UueSAtPSBmb3JjZS55ICogc2hhcmU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGZvcmNlc1xuICAgICAgICAgICAgYm9keUEucG9zaXRpb24ueCAtPSBmb3JjZS54ICogc2hhcmU7XG4gICAgICAgICAgICBib2R5QS5wb3NpdGlvbi55IC09IGZvcmNlLnkgKiBzaGFyZTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgZGFtcGluZ1xuICAgICAgICAgICAgaWYgKGRhbXBpbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnggLT0gZGFtcGluZyAqIG5vcm1hbC54ICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSAtPSBkYW1waW5nICogbm9ybWFsLnkgKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSB0b3JxdWVcbiAgICAgICAgICAgIHRvcnF1ZSA9IChWZWN0b3IuY3Jvc3MocG9pbnRBLCBmb3JjZSkgLyByZXNpc3RhbmNlVG90YWwpICogQ29uc3RyYWludC5fdG9ycXVlRGFtcGVuICogYm9keUEuaW52ZXJzZUluZXJ0aWEgKiAoMSAtIGNvbnN0cmFpbnQuYW5ndWxhclN0aWZmbmVzcyk7XG4gICAgICAgICAgICBib2R5QS5jb25zdHJhaW50SW1wdWxzZS5hbmdsZSAtPSB0b3JxdWU7XG4gICAgICAgICAgICBib2R5QS5hbmdsZSAtPSB0b3JxdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm9keUIgJiYgIWJvZHlCLmlzU3RhdGljKSB7XG4gICAgICAgICAgICBzaGFyZSA9IGJvZHlCLmludmVyc2VNYXNzIC8gbWFzc1RvdGFsO1xuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGFwcGxpZWQgaW1wdWxzZXMgZm9yIHBvc3Qgc29sdmluZ1xuICAgICAgICAgICAgYm9keUIuY29uc3RyYWludEltcHVsc2UueCArPSBmb3JjZS54ICogc2hhcmU7XG4gICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS55ICs9IGZvcmNlLnkgKiBzaGFyZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gYXBwbHkgZm9yY2VzXG4gICAgICAgICAgICBib2R5Qi5wb3NpdGlvbi54ICs9IGZvcmNlLnggKiBzaGFyZTtcbiAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uLnkgKz0gZm9yY2UueSAqIHNoYXJlO1xuXG4gICAgICAgICAgICAvLyBhcHBseSBkYW1waW5nXG4gICAgICAgICAgICBpZiAoZGFtcGluZyA+IDApIHtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueCArPSBkYW1waW5nICogbm9ybWFsLnggKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55ICs9IGRhbXBpbmcgKiBub3JtYWwueSAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IHRvcnF1ZVxuICAgICAgICAgICAgdG9ycXVlID0gKFZlY3Rvci5jcm9zcyhwb2ludEIsIGZvcmNlKSAvIHJlc2lzdGFuY2VUb3RhbCkgKiBDb25zdHJhaW50Ll90b3JxdWVEYW1wZW4gKiBib2R5Qi5pbnZlcnNlSW5lcnRpYSAqICgxIC0gY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzKTtcbiAgICAgICAgICAgIGJvZHlCLmNvbnN0cmFpbnRJbXB1bHNlLmFuZ2xlICs9IHRvcnF1ZTtcbiAgICAgICAgICAgIGJvZHlCLmFuZ2xlICs9IHRvcnF1ZTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGJvZHkgdXBkYXRlcyByZXF1aXJlZCBhZnRlciBzb2x2aW5nIGNvbnN0cmFpbnRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBwb3N0U29sdmVBbGxcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgQ29uc3RyYWludC5wb3N0U29sdmVBbGwgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGltcHVsc2UgPSBib2R5LmNvbnN0cmFpbnRJbXB1bHNlO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCAoaW1wdWxzZS54ID09PSAwICYmIGltcHVsc2UueSA9PT0gMCAmJiBpbXB1bHNlLmFuZ2xlID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnkgYW5kIHJlc2V0XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbal07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGltcHVsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCArPSBpbXB1bHNlLng7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBpbXB1bHNlLnk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGltcHVsc2UuYW5nbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGltcHVsc2UuYW5nbGUsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBBeGVzLnJvdGF0ZShwYXJ0LmF4ZXMsIGltcHVsc2UuYW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBpbXB1bHNlLmFuZ2xlLCBib2R5LnBvc2l0aW9uLCBwYXJ0LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkYW1wZW4gdGhlIGNhY2hlZCBpbXB1bHNlIGZvciB3YXJtaW5nIG5leHQgc3RlcFxuICAgICAgICAgICAgaW1wdWxzZS5hbmdsZSAqPSBDb25zdHJhaW50Ll93YXJtaW5nO1xuICAgICAgICAgICAgaW1wdWxzZS54ICo9IENvbnN0cmFpbnQuX3dhcm1pbmc7XG4gICAgICAgICAgICBpbXB1bHNlLnkgKj0gQ29uc3RyYWludC5fd2FybWluZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiBgY29uc3RyYWludC5wb2ludEFgLCBhY2NvdW50aW5nIGZvciBgY29uc3RyYWludC5ib2R5QWAuXG4gICAgICogQG1ldGhvZCBwb2ludEFXb3JsZFxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEByZXR1cm5zIHt2ZWN0b3J9IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvblxuICAgICAqL1xuICAgIENvbnN0cmFpbnQucG9pbnRBV29ybGQgPSBmdW5jdGlvbihjb25zdHJhaW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoY29uc3RyYWludC5ib2R5QSA/IGNvbnN0cmFpbnQuYm9keUEucG9zaXRpb24ueCA6IDApIFxuICAgICAgICAgICAgICAgICsgKGNvbnN0cmFpbnQucG9pbnRBID8gY29uc3RyYWludC5wb2ludEEueCA6IDApLFxuICAgICAgICAgICAgeTogKGNvbnN0cmFpbnQuYm9keUEgPyBjb25zdHJhaW50LmJvZHlBLnBvc2l0aW9uLnkgOiAwKSBcbiAgICAgICAgICAgICAgICArIChjb25zdHJhaW50LnBvaW50QSA/IGNvbnN0cmFpbnQucG9pbnRBLnkgOiAwKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvbiBvZiBgY29uc3RyYWludC5wb2ludEJgLCBhY2NvdW50aW5nIGZvciBgY29uc3RyYWludC5ib2R5QmAuXG4gICAgICogQG1ldGhvZCBwb2ludEJXb3JsZFxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEByZXR1cm5zIHt2ZWN0b3J9IHRoZSB3b3JsZC1zcGFjZSBwb3NpdGlvblxuICAgICAqL1xuICAgIENvbnN0cmFpbnQucG9pbnRCV29ybGQgPSBmdW5jdGlvbihjb25zdHJhaW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoY29uc3RyYWludC5ib2R5QiA/IGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24ueCA6IDApIFxuICAgICAgICAgICAgICAgICsgKGNvbnN0cmFpbnQucG9pbnRCID8gY29uc3RyYWludC5wb2ludEIueCA6IDApLFxuICAgICAgICAgICAgeTogKGNvbnN0cmFpbnQuYm9keUIgPyBjb25zdHJhaW50LmJvZHlCLnBvc2l0aW9uLnkgOiAwKSBcbiAgICAgICAgICAgICAgICArIChjb25zdHJhaW50LnBvaW50QiA/IGNvbnN0cmFpbnQucG9pbnRCLnkgOiAwKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJjb25zdHJhaW50XCJcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFyYml0cmFyeSBgU3RyaW5nYCBuYW1lIHRvIGhlbHAgdGhlIHVzZXIgaWRlbnRpZnkgYW5kIG1hbmFnZSBib2RpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGFiZWxcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcIkNvbnN0cmFpbnRcIlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgdGhhdCBkZWZpbmVzIHRoZSByZW5kZXJpbmcgcHJvcGVydGllcyB0byBiZSBjb25zdW1lZCBieSB0aGUgbW9kdWxlIGBNYXR0ZXIuUmVuZGVyYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyBpZiB0aGUgY29uc3RyYWludCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnZpc2libGVcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGxpbmUgd2lkdGggdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBjb25zdHJhaW50IG91dGxpbmUuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgbm8gb3V0bGluZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5saW5lV2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgc3Ryb2tlIHN0eWxlIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgY29uc3RyYWludCBvdXRsaW5lLlxuICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3Ryb2tlU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBjb25zdHJhaW50IHJlbmRlcmluZyB0eXBlLiBcbiAgICAgKiBUaGUgcG9zc2libGUgdmFsdWVzIGFyZSAnbGluZScsICdwaW4nLCAnc3ByaW5nJy5cbiAgICAgKiBBbiBhcHByb3ByaWF0ZSByZW5kZXIgdHlwZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY2hvc2VuIHVubGVzcyBvbmUgaXMgZ2l2ZW4gaW4gb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIudHlwZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdsaW5lJ1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgQm9vbGVhbmAgdGhhdCBkZWZpbmVzIGlmIHRoZSBjb25zdHJhaW50J3MgYW5jaG9yIHBvaW50cyBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmFuY2hvcnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IHBvc3NpYmxlIGBCb2R5YCB0aGF0IHRoaXMgY29uc3RyYWludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2Vjb25kIHBvc3NpYmxlIGBCb2R5YCB0aGF0IHRoaXMgY29uc3RyYWludCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QlxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBvZmZzZXQgb2YgdGhlIGNvbnN0cmFpbnQgZnJvbSBjZW50ZXIgb2YgdGhlIGBjb25zdHJhaW50LmJvZHlBYCBpZiBkZWZpbmVkLCBvdGhlcndpc2UgYSB3b3JsZC1zcGFjZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwb2ludEFcbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb25zdHJhaW50IGZyb20gY2VudGVyIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QmAgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGEgd29ybGQtc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcG9pbnRCXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHN0aWZmbmVzcyBvZiB0aGUgY29uc3RyYWludCwgaS5lLiB0aGUgcmF0ZSBhdCB3aGljaCBpdCByZXR1cm5zIHRvIGl0cyByZXN0aW5nIGBjb25zdHJhaW50Lmxlbmd0aGAuXG4gICAgICogQSB2YWx1ZSBvZiBgMWAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHZlcnkgc3RpZmYuXG4gICAgICogQSB2YWx1ZSBvZiBgMC4yYCBtZWFucyB0aGUgY29uc3RyYWludCBhY3RzIGxpa2UgYSBzb2Z0IHNwcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzdGlmZm5lc3NcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBkYW1waW5nIG9mIHRoZSBjb25zdHJhaW50LCBcbiAgICAgKiBpLmUuIHRoZSBhbW91bnQgb2YgcmVzaXN0YW5jZSBhcHBsaWVkIHRvIGVhY2ggYm9keSBiYXNlZCBvbiB0aGVpciB2ZWxvY2l0aWVzIHRvIGxpbWl0IHRoZSBhbW91bnQgb2Ygb3NjaWxsYXRpb24uXG4gICAgICogRGFtcGluZyB3aWxsIG9ubHkgYmUgYXBwYXJlbnQgd2hlbiB0aGUgY29uc3RyYWludCBhbHNvIGhhcyBhIHZlcnkgbG93IGBzdGlmZm5lc3NgLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgd2lsbCBhcHBseSBoZWF2eSBkYW1waW5nLCByZXN1bHRpbmcgaW4gbGl0dGxlIHRvIG5vIG9zY2lsbGF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoZSBjb25zdHJhaW50IHdpbGwgYXBwbHkgbm8gZGFtcGluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkYW1waW5nXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgdGFyZ2V0IHJlc3RpbmcgbGVuZ3RoIG9mIHRoZSBjb25zdHJhaW50LiBcbiAgICAgKiBJdCBpcyBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgaW4gYENvbnN0cmFpbnQuY3JlYXRlYCBmcm9tIGluaXRpYWwgcG9zaXRpb25zIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QWAgYW5kIGBjb25zdHJhaW50LmJvZHlCYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsZW5ndGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkF4ZXNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHNldHMgb2YgYXhlcy5cbipcbiogQGNsYXNzIEF4ZXNcbiovXG5cbnZhciBBeGVzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQXhlcztcblxudmFyIFZlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzZXQgb2YgYXhlcyBmcm9tIHRoZSBnaXZlbiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGZyb21WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7YXhlc30gQSBuZXcgYXhlcyBmcm9tIHRoZSBnaXZlbiB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIEF4ZXMuZnJvbVZlcnRpY2VzID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGF4ZXMgPSB7fTtcblxuICAgICAgICAvLyBmaW5kIHRoZSB1bmlxdWUgYXhlcywgdXNpbmcgZWRnZSBub3JtYWwgZ3JhZGllbnRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBqID0gKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aCwgXG4gICAgICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IFxuICAgICAgICAgICAgICAgICAgICB4OiB2ZXJ0aWNlc1tqXS55IC0gdmVydGljZXNbaV0ueSwgXG4gICAgICAgICAgICAgICAgICAgIHk6IHZlcnRpY2VzW2ldLnggLSB2ZXJ0aWNlc1tqXS54XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQgPSAobm9ybWFsLnkgPT09IDApID8gSW5maW5pdHkgOiAobm9ybWFsLnggLyBub3JtYWwueSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGxpbWl0IHByZWNpc2lvblxuICAgICAgICAgICAgZ3JhZGllbnQgPSBncmFkaWVudC50b0ZpeGVkKDMpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBheGVzW2dyYWRpZW50XSA9IG5vcm1hbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb21tb24udmFsdWVzKGF4ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGEgc2V0IG9mIGF4ZXMgYnkgdGhlIGdpdmVuIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHtheGVzfSBheGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgQXhlcy5yb3RhdGUgPSBmdW5jdGlvbihheGVzLCBhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF4aXMgPSBheGVzW2ldLFxuICAgICAgICAgICAgICAgIHh4O1xuICAgICAgICAgICAgeHggPSBheGlzLnggKiBjb3MgLSBheGlzLnkgKiBzaW47XG4gICAgICAgICAgICBheGlzLnkgPSBheGlzLnggKiBzaW4gKyBheGlzLnkgKiBjb3M7XG4gICAgICAgICAgICBheGlzLnggPSB4eDtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuQm9kaWVzYCBtb2R1bGUgY29udGFpbnMgZmFjdG9yeSBtZXRob2RzIGZvciBjcmVhdGluZyByaWdpZCBib2R5IG1vZGVscyBcbiogd2l0aCBjb21tb25seSB1c2VkIGJvZHkgY29uZmlndXJhdGlvbnMgKHN1Y2ggYXMgcmVjdGFuZ2xlcywgY2lyY2xlcyBhbmQgb3RoZXIgcG9seWdvbnMpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQm9kaWVzXG4qL1xuXG4vLyBUT0RPOiB0cnVlIGNpcmNsZSBib2RpZXNcblxudmFyIEJvZGllcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvZGllcztcblxudmFyIFZlcnRpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWN0YW5nbGUgaHVsbC4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyByZWN0YW5nbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5yZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciByZWN0YW5nbGUgPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdSZWN0YW5nbGUgQm9keScsXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgoJ0wgMCAwIEwgJyArIHdpZHRoICsgJyAwIEwgJyArIHdpZHRoICsgJyAnICsgaGVpZ2h0ICsgJyBMIDAgJyArIGhlaWdodClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaGFtZmVyKSB7XG4gICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgICAgIHJlY3RhbmdsZS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocmVjdGFuZ2xlLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgXG4gICAgICAgICAgICAgICAgY2hhbWZlci5xdWFsaXR5LCBjaGFtZmVyLnF1YWxpdHlNaW4sIGNoYW1mZXIucXVhbGl0eU1heCk7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoe30sIHJlY3RhbmdsZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSB0cmFwZXpvaWQgaHVsbC4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCB0cmFwZXpvaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbG9wZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyB0cmFwZXpvaWQgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy50cmFwZXpvaWQgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzbG9wZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBzbG9wZSAqPSAwLjU7XG4gICAgICAgIHZhciByb29mID0gKDEgLSAoc2xvcGUgKiAyKSkgKiB3aWR0aDtcbiAgICAgICAgXG4gICAgICAgIHZhciB4MSA9IHdpZHRoICogc2xvcGUsXG4gICAgICAgICAgICB4MiA9IHgxICsgcm9vZixcbiAgICAgICAgICAgIHgzID0geDIgKyB4MSxcbiAgICAgICAgICAgIHZlcnRpY2VzUGF0aDtcblxuICAgICAgICBpZiAoc2xvcGUgPCAwLjUpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzUGF0aCA9ICdMIDAgMCBMICcgKyB4MSArICcgJyArICgtaGVpZ2h0KSArICcgTCAnICsgeDIgKyAnICcgKyAoLWhlaWdodCkgKyAnIEwgJyArIHgzICsgJyAwJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRpY2VzUGF0aCA9ICdMIDAgMCBMICcgKyB4MiArICcgJyArICgtaGVpZ2h0KSArICcgTCAnICsgeDMgKyAnIDAnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyYXBlem9pZCA9IHsgXG4gICAgICAgICAgICBsYWJlbDogJ1RyYXBlem9pZCBCb2R5JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aCh2ZXJ0aWNlc1BhdGgpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbWZlcikge1xuICAgICAgICAgICAgdmFyIGNoYW1mZXIgPSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgICAgICB0cmFwZXpvaWQudmVydGljZXMgPSBWZXJ0aWNlcy5jaGFtZmVyKHRyYXBlem9pZC52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIFxuICAgICAgICAgICAgICAgIGNoYW1mZXIucXVhbGl0eSwgY2hhbWZlci5xdWFsaXR5TWluLCBjaGFtZmVyLnF1YWxpdHlNYXgpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHt9LCB0cmFwZXpvaWQsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSBjaXJjbGUgaHVsbC4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFNpZGVzXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IGNpcmNsZSBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLmNpcmNsZSA9IGZ1bmN0aW9uKHgsIHksIHJhZGl1cywgb3B0aW9ucywgbWF4U2lkZXMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIGNpcmNsZSA9IHtcbiAgICAgICAgICAgIGxhYmVsOiAnQ2lyY2xlIEJvZHknLFxuICAgICAgICAgICAgY2lyY2xlUmFkaXVzOiByYWRpdXNcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIGFwcHJveGltYXRlIGNpcmNsZXMgd2l0aCBwb2x5Z29ucyB1bnRpbCB0cnVlIGNpcmNsZXMgaW1wbGVtZW50ZWQgaW4gU0FUXG4gICAgICAgIG1heFNpZGVzID0gbWF4U2lkZXMgfHwgMjU7XG4gICAgICAgIHZhciBzaWRlcyA9IE1hdGguY2VpbChNYXRoLm1heCgxMCwgTWF0aC5taW4obWF4U2lkZXMsIHJhZGl1cykpKTtcblxuICAgICAgICAvLyBvcHRpbWlzYXRpb246IGFsd2F5cyB1c2UgZXZlbiBudW1iZXIgb2Ygc2lkZXMgKGhhbGYgdGhlIG51bWJlciBvZiB1bmlxdWUgYXhlcylcbiAgICAgICAgaWYgKHNpZGVzICUgMiA9PT0gMSlcbiAgICAgICAgICAgIHNpZGVzICs9IDE7XG5cbiAgICAgICAgcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIHNpZGVzLCByYWRpdXMsIENvbW1vbi5leHRlbmQoe30sIGNpcmNsZSwgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkIGJvZHkgbW9kZWwgd2l0aCBhIHJlZ3VsYXIgcG9seWdvbiBodWxsIHdpdGggdGhlIGdpdmVuIG51bWJlciBvZiBzaWRlcy4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBwb2x5Z29uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaWRlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7Ym9keX0gQSBuZXcgcmVndWxhciBwb2x5Z29uIGJvZHlcbiAgICAgKi9cbiAgICBCb2RpZXMucG9seWdvbiA9IGZ1bmN0aW9uKHgsIHksIHNpZGVzLCByYWRpdXMsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKHNpZGVzIDwgMylcbiAgICAgICAgICAgIHJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIHJhZGl1cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHRoZXRhID0gMiAqIE1hdGguUEkgLyBzaWRlcyxcbiAgICAgICAgICAgIHBhdGggPSAnJyxcbiAgICAgICAgICAgIG9mZnNldCA9IHRoZXRhICogMC41O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lkZXM7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gb2Zmc2V0ICsgKGkgKiB0aGV0YSksXG4gICAgICAgICAgICAgICAgeHggPSBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMsXG4gICAgICAgICAgICAgICAgeXkgPSBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXM7XG5cbiAgICAgICAgICAgIHBhdGggKz0gJ0wgJyArIHh4LnRvRml4ZWQoMykgKyAnICcgKyB5eS50b0ZpeGVkKDMpICsgJyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvbHlnb24gPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdQb2x5Z29uIEJvZHknLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogeCwgeTogeSB9LFxuICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKHBhdGgpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbWZlcikge1xuICAgICAgICAgICAgdmFyIGNoYW1mZXIgPSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgICAgICBwb2x5Z29uLnZlcnRpY2VzID0gVmVydGljZXMuY2hhbWZlcihwb2x5Z29uLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgXG4gICAgICAgICAgICAgICAgY2hhbWZlci5xdWFsaXR5LCBjaGFtZmVyLnF1YWxpdHlNaW4sIGNoYW1mZXIucXVhbGl0eU1heCk7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoe30sIHBvbHlnb24sIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSB0byBjcmVhdGUgYSBjb21wb3VuZCBib2R5IGJhc2VkIG9uIHNldChzKSBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBcbiAgICAgKiBfTm90ZTpfIFRvIG9wdGlvbmFsbHkgZW5hYmxlIGF1dG9tYXRpYyBjb25jYXZlIHZlcnRpY2VzIGRlY29tcG9zaXRpb24gdGhlIFtwb2x5LWRlY29tcF0oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBcbiAgICAgKiBwYWNrYWdlIG11c3QgYmUgZmlyc3QgaW5zdGFsbGVkIGFuZCBwcm92aWRlZCBzZWUgYENvbW1vbi5zZXREZWNvbXBgLCBvdGhlcndpc2UgdGhlIGNvbnZleCBodWxsIG9mIGVhY2ggdmVydGV4IHNldCB3aWxsIGJlIHVzZWQuXG4gICAgICogXG4gICAgICogVGhlIHJlc3VsdGluZyB2ZXJ0aWNlcyBhcmUgcmVvcmllbnRhdGVkIGFib3V0IHRoZWlyIGNlbnRyZSBvZiBtYXNzLFxuICAgICAqIGFuZCBvZmZzZXQgc3VjaCB0aGF0IGBib2R5LnBvc2l0aW9uYCBjb3JyZXNwb25kcyB0byB0aGlzIHBvaW50LlxuICAgICAqIFxuICAgICAqIFRoZSByZXN1bHRpbmcgb2Zmc2V0IG1heSBiZSBmb3VuZCBpZiBuZWVkZWQgYnkgc3VidHJhY3RpbmcgYGJvZHkuYm91bmRzYCBmcm9tIHRoZSBvcmlnaW5hbCBpbnB1dCBib3VuZHMuXG4gICAgICogVG8gbGF0ZXIgbW92ZSB0aGUgY2VudHJlIG9mIG1hc3Mgc2VlIGBCb2R5LnNldENlbnRyZWAuXG4gICAgICogXG4gICAgICogTm90ZSB0aGF0IGF1dG9tYXRpYyBjb25jb25jYXZlIGRlY29tcG9zaXRpb24gcmVzdWx0cyBhcmUgbm90IGFsd2F5cyBvcHRpbWFsLiBcbiAgICAgKiBGb3IgYmVzdCByZXN1bHRzLCBzaW1wbGlmeSB0aGUgaW5wdXQgdmVydGljZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBmaXJzdC5cbiAgICAgKiBCeSBkZWZhdWx0IHRoaXMgZnVuY3Rpb24gYXBwbGllcyBzb21lIGFkZHRpb25hbCBzaW1wbGlmaWNhdGlvbiB0byBoZWxwLlxuICAgICAqIFxuICAgICAqIFNvbWUgb3V0cHV0cyBtYXkgYWxzbyByZXF1aXJlIGZ1cnRoZXIgbWFudWFsIHByb2Nlc3NpbmcgYWZ0ZXJ3YXJkcyB0byBiZSByb2J1c3QuXG4gICAgICogSW4gcGFydGljdWxhciBzb21lIHBhcnRzIG1heSBuZWVkIHRvIGJlIG92ZXJsYXBwZWQgdG8gYXZvaWQgY29sbGlzaW9uIGdhcHMuXG4gICAgICogVGhpbiBwYXJ0cyBhbmQgc2hhcnAgcG9pbnRzIHNob3VsZCBiZSBhdm9pZGVkIG9yIHJlbW92ZWQgd2hlcmUgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgb2JqZWN0IHNwZWNpZmllcyBhbnkgYE1hdHRlci5Cb2R5YCBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBcbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBvZiB0aGUgYE1hdHRlci5Cb2R5YCBtb2R1bGUgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGZyb21WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB2ZXJ0ZXhTZXRzIE9uZSBvciBtb3JlIGFycmF5cyBvZiB2ZXJ0ZXggcG9pbnRzIGUuZy4gYFtbeyB4OiAwLCB5OiAwIH0uLi5dLCAuLi5dYC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFRoZSBib2R5IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sfSBbZmxhZ0ludGVybmFsPWZhbHNlXSBPcHRpb25hbGx5IG1hcmtzIGludGVybmFsIGVkZ2VzIHdpdGggYGlzSW50ZXJuYWxgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVtb3ZlQ29sbGluZWFyPTAuMDFdIFRocmVzaG9sZCB3aGVuIHNpbXBsaWZ5aW5nIHZlcnRpY2VzIGFsb25nIHRoZSBzYW1lIGVkZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5pbXVtQXJlYT0xMF0gVGhyZXNob2xkIHdoZW4gcmVtb3Zpbmcgc21hbGwgcGFydHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZW1vdmVEdXBsaWNhdGVQb2ludHM9MC4wMV0gVGhyZXNob2xkIHdoZW4gc2ltcGxpZnlpbmcgbmVhcmJ5IHZlcnRpY2VzLlxuICAgICAqIEByZXR1cm4ge2JvZHl9XG4gICAgICovXG4gICAgQm9kaWVzLmZyb21WZXJ0aWNlcyA9IGZ1bmN0aW9uKHgsIHksIHZlcnRleFNldHMsIG9wdGlvbnMsIGZsYWdJbnRlcm5hbCwgcmVtb3ZlQ29sbGluZWFyLCBtaW5pbXVtQXJlYSwgcmVtb3ZlRHVwbGljYXRlUG9pbnRzKSB7XG4gICAgICAgIHZhciBkZWNvbXAgPSBDb21tb24uZ2V0RGVjb21wKCksXG4gICAgICAgICAgICBjYW5EZWNvbXAsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICBpc0NvbnZleCxcbiAgICAgICAgICAgIGlzQ29uY2F2ZSxcbiAgICAgICAgICAgIHZlcnRpY2VzLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIHo7XG5cbiAgICAgICAgLy8gY2hlY2sgZGVjb21wIGlzIGFzIGV4cGVjdGVkXG4gICAgICAgIGNhbkRlY29tcCA9IEJvb2xlYW4oZGVjb21wICYmIGRlY29tcC5xdWlja0RlY29tcCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHBhcnRzID0gW107XG5cbiAgICAgICAgZmxhZ0ludGVybmFsID0gdHlwZW9mIGZsYWdJbnRlcm5hbCAhPT0gJ3VuZGVmaW5lZCcgPyBmbGFnSW50ZXJuYWwgOiBmYWxzZTtcbiAgICAgICAgcmVtb3ZlQ29sbGluZWFyID0gdHlwZW9mIHJlbW92ZUNvbGxpbmVhciAhPT0gJ3VuZGVmaW5lZCcgPyByZW1vdmVDb2xsaW5lYXIgOiAwLjAxO1xuICAgICAgICBtaW5pbXVtQXJlYSA9IHR5cGVvZiBtaW5pbXVtQXJlYSAhPT0gJ3VuZGVmaW5lZCcgPyBtaW5pbXVtQXJlYSA6IDEwO1xuICAgICAgICByZW1vdmVEdXBsaWNhdGVQb2ludHMgPSB0eXBlb2YgcmVtb3ZlRHVwbGljYXRlUG9pbnRzICE9PSAndW5kZWZpbmVkJyA/IHJlbW92ZUR1cGxpY2F0ZVBvaW50cyA6IDAuMDE7XG5cbiAgICAgICAgLy8gZW5zdXJlIHZlcnRleFNldHMgaXMgYW4gYXJyYXkgb2YgYXJyYXlzXG4gICAgICAgIGlmICghQ29tbW9uLmlzQXJyYXkodmVydGV4U2V0c1swXSkpIHtcbiAgICAgICAgICAgIHZlcnRleFNldHMgPSBbdmVydGV4U2V0c107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHYgPSAwOyB2IDwgdmVydGV4U2V0cy5sZW5ndGg7IHYgKz0gMSkge1xuICAgICAgICAgICAgdmVydGljZXMgPSB2ZXJ0ZXhTZXRzW3ZdO1xuICAgICAgICAgICAgaXNDb252ZXggPSBWZXJ0aWNlcy5pc0NvbnZleCh2ZXJ0aWNlcyk7XG4gICAgICAgICAgICBpc0NvbmNhdmUgPSAhaXNDb252ZXg7XG5cbiAgICAgICAgICAgIGlmIChpc0NvbmNhdmUgJiYgIWNhbkRlY29tcCkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuT25jZShcbiAgICAgICAgICAgICAgICAgICAgJ0JvZGllcy5mcm9tVmVydGljZXM6IEluc3RhbGwgdGhlIFxcJ3BvbHktZGVjb21wXFwnIGxpYnJhcnkgYW5kIHVzZSBDb21tb24uc2V0RGVjb21wIG9yIHByb3ZpZGUgXFwnZGVjb21wXFwnIGFzIGEgZ2xvYmFsIHRvIGRlY29tcG9zZSBjb25jYXZlIHZlcnRpY2VzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNDb252ZXggfHwgIWNhbkRlY29tcCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbnZleCkge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IFZlcnRpY2VzLmNsb2Nrd2lzZVNvcnQodmVydGljZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGNvbnZleCBodWxsIHdoZW4gZGVjb21wb3NpdGlvbiBpcyBub3QgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMgPSBWZXJ0aWNlcy5odWxsKHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogeCwgeTogeSB9LFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdmVydGljZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGlzZSBhIGRlY29tcG9zaXRpb25cbiAgICAgICAgICAgICAgICB2YXIgY29uY2F2ZSA9IHZlcnRpY2VzLm1hcChmdW5jdGlvbih2ZXJ0ZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2ZXJ0ZXgueCwgdmVydGV4LnldO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gdmVydGljZXMgYXJlIGNvbmNhdmUgYW5kIHNpbXBsZSwgd2UgY2FuIGRlY29tcG9zZSBpbnRvIHBhcnRzXG4gICAgICAgICAgICAgICAgZGVjb21wLm1ha2VDQ1coY29uY2F2ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZUNvbGxpbmVhciAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIGRlY29tcC5yZW1vdmVDb2xsaW5lYXJQb2ludHMoY29uY2F2ZSwgcmVtb3ZlQ29sbGluZWFyKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlRHVwbGljYXRlUG9pbnRzICE9PSBmYWxzZSAmJiBkZWNvbXAucmVtb3ZlRHVwbGljYXRlUG9pbnRzKVxuICAgICAgICAgICAgICAgICAgICBkZWNvbXAucmVtb3ZlRHVwbGljYXRlUG9pbnRzKGNvbmNhdmUsIHJlbW92ZUR1cGxpY2F0ZVBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHF1aWNrIGRlY29tcG9zaXRpb24gYWxnb3JpdGhtIChCYXlheml0KVxuICAgICAgICAgICAgICAgIHZhciBkZWNvbXBvc2VkID0gZGVjb21wLnF1aWNrRGVjb21wKGNvbmNhdmUpO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggZGVjb21wb3NlZCBjaHVua1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZWNvbXBvc2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IGRlY29tcG9zZWRbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB2ZXJ0aWNlcyBpbnRvIHRoZSBjb3JyZWN0IHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICB2YXIgY2h1bmtWZXJ0aWNlcyA9IGNodW5rLm1hcChmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB2ZXJ0aWNlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB2ZXJ0aWNlc1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBzbWFsbCBjaHVua3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbmltdW1BcmVhID4gMCAmJiBWZXJ0aWNlcy5hcmVhKGNodW5rVmVydGljZXMpIDwgbWluaW11bUFyZWEpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBjb21wb3VuZCBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFZlcnRpY2VzLmNlbnRyZShjaHVua1ZlcnRpY2VzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBjaHVua1ZlcnRpY2VzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSBib2R5IHBhcnRzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFydHNbaV0gPSBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHBhcnRzW2ldLCBvcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmbGFnIGludGVybmFsIGVkZ2VzIChjb2luY2lkZW50IHBhcnQgZWRnZXMpXG4gICAgICAgIGlmIChmbGFnSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHZhciBjb2luY2lkZW50X21heF9kaXN0ID0gNTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRBID0gcGFydHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0QiA9IHBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMub3ZlcmxhcHMocGFydEEuYm91bmRzLCBwYXJ0Qi5ib3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF2ID0gcGFydEEudmVydGljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGJ2ID0gcGFydEIudmVydGljZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgdmVydGljZXMgb2YgYm90aCBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnRBLnZlcnRpY2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh6ID0gMDsgeiA8IHBhcnRCLnZlcnRpY2VzLmxlbmd0aDsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgZGlzdGFuY2VzIGJldHdlZW4gdGhlIHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkKFZlY3Rvci5zdWIocGF2WyhrICsgMSkgJSBwYXYubGVuZ3RoXSwgcGJ2W3pdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYiA9IFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkKFZlY3Rvci5zdWIocGF2W2tdLCBwYnZbKHogKyAxKSAlIHBidi5sZW5ndGhdKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYm90aCB2ZXJ0aWNlcyBhcmUgdmVyeSBjbG9zZSwgY29uc2lkZXIgdGhlIGVkZ2UgY29uY2lkZW50IChpbnRlcm5hbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhIDwgY29pbmNpZGVudF9tYXhfZGlzdCAmJiBkYiA8IGNvaW5jaWRlbnRfbWF4X2Rpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdltrXS5pc0ludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBidlt6XS5pc0ludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgcGFyZW50IGJvZHkgdG8gYmUgcmV0dXJuZWQsIHRoYXQgY29udGFpbnMgZ2VuZXJhdGVkIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBib2R5ID0gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IHBhcnRzOiBwYXJ0cy5zbGljZSgwKSB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIC8vIG9mZnNldCBzdWNoIHRoYXQgYm9keS5wb3NpdGlvbiBpcyBhdCB0aGUgY2VudHJlIG9mZiBtYXNzXG4gICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHsgeDogeCwgeTogeSB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkRldGVjdG9yYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgZWZmaWNpZW50bHkgZGV0ZWN0aW5nIGNvbGxpc2lvbnMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9kaWVzIHVzaW5nIGEgYnJvYWRwaGFzZSBhbGdvcml0aG0uXG4qXG4qIEBjbGFzcyBEZXRlY3RvclxuKi9cblxudmFyIERldGVjdG9yID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gRGV0ZWN0b3I7XG5cbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIENvbGxpc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGlzaW9uIGRldGVjdG9yLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtkZXRlY3Rvcn0gQSBuZXcgY29sbGlzaW9uIGRldGVjdG9yXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBib2RpZXM6IFtdLFxuICAgICAgICAgICAgcGFpcnM6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3Qgb2YgYm9kaWVzIGluIHRoZSBkZXRlY3Rvci5cbiAgICAgKiBAbWV0aG9kIHNldEJvZGllc1xuICAgICAqIEBwYXJhbSB7ZGV0ZWN0b3J9IGRldGVjdG9yXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIERldGVjdG9yLnNldEJvZGllcyA9IGZ1bmN0aW9uKGRldGVjdG9yLCBib2RpZXMpIHtcbiAgICAgICAgZGV0ZWN0b3IuYm9kaWVzID0gYm9kaWVzLnNsaWNlKDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGRldGVjdG9yIGluY2x1ZGluZyBpdHMgbGlzdCBvZiBib2RpZXMuXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7ZGV0ZWN0b3J9IGRldGVjdG9yXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY2xlYXIgPSBmdW5jdGlvbihkZXRlY3Rvcikge1xuICAgICAgICBkZXRlY3Rvci5ib2RpZXMgPSBbXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRWZmaWNpZW50bHkgZmluZHMgYWxsIGNvbGxpc2lvbnMgYW1vbmcgYWxsIHRoZSBib2RpZXMgaW4gYGRldGVjdG9yLmJvZGllc2AgdXNpbmcgYSBicm9hZHBoYXNlIGFsZ29yaXRobS5cbiAgICAgKiBcbiAgICAgKiBfTm90ZTpfIFRoZSBzcGVjaWZpYyBvcmRlcmluZyBvZiBjb2xsaXNpb25zIHJldHVybmVkIGlzIG5vdCBndWFyYW50ZWVkIGJldHdlZW4gcmVsZWFzZXMgYW5kIG1heSBjaGFuZ2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICogSWYgYSBzcGVjaWZpYyBvcmRlcmluZyBpcyByZXF1aXJlZCB0aGVuIGFwcGx5IGEgc29ydCB0byB0aGUgcmVzdWx0aW5nIGFycmF5LlxuICAgICAqIEBtZXRob2QgY29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7ZGV0ZWN0b3J9IGRldGVjdG9yXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9uW119IGNvbGxpc2lvbnNcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5jb2xsaXNpb25zID0gZnVuY3Rpb24oZGV0ZWN0b3IpIHtcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBbXSxcbiAgICAgICAgICAgIHBhaXJzID0gZGV0ZWN0b3IucGFpcnMsXG4gICAgICAgICAgICBib2RpZXMgPSBkZXRlY3Rvci5ib2RpZXMsXG4gICAgICAgICAgICBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoLFxuICAgICAgICAgICAgY2FuQ29sbGlkZSA9IERldGVjdG9yLmNhbkNvbGxpZGUsXG4gICAgICAgICAgICBjb2xsaWRlcyA9IENvbGxpc2lvbi5jb2xsaWRlcyxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGJvZGllcy5zb3J0KERldGVjdG9yLl9jb21wYXJlQm91bmRzWCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keUEgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgYm91bmRzQSA9IGJvZHlBLmJvdW5kcyxcbiAgICAgICAgICAgICAgICBib3VuZFhNYXggPSBib2R5QS5ib3VuZHMubWF4LngsXG4gICAgICAgICAgICAgICAgYm91bmRZTWF4ID0gYm9keUEuYm91bmRzLm1heC55LFxuICAgICAgICAgICAgICAgIGJvdW5kWU1pbiA9IGJvZHlBLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib2R5QVN0YXRpYyA9IGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcsXG4gICAgICAgICAgICAgICAgcGFydHNBTGVuZ3RoID0gYm9keUEucGFydHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcnRzQVNpbmdsZSA9IHBhcnRzQUxlbmd0aCA9PT0gMTtcblxuICAgICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBib2RpZXNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5QiA9IGJvZGllc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzQiA9IGJvZHlCLmJvdW5kcztcblxuICAgICAgICAgICAgICAgIGlmIChib3VuZHNCLm1pbi54ID4gYm91bmRYTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChib3VuZFlNYXggPCBib3VuZHNCLm1pbi55IHx8IGJvdW5kWU1pbiA+IGJvdW5kc0IubWF4LnkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJvZHlBU3RhdGljICYmIChib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNhbkNvbGxpZGUoYm9keUEuY29sbGlzaW9uRmlsdGVyLCBib2R5Qi5jb2xsaXNpb25GaWx0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwYXJ0c0JMZW5ndGggPSBib2R5Qi5wYXJ0cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydHNBU2luZ2xlICYmIHBhcnRzQkxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gY29sbGlkZXMoYm9keUEsIGJvZHlCLCBwYWlycyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHNBU3RhcnQgPSBwYXJ0c0FMZW5ndGggPiAxID8gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0JTdGFydCA9IHBhcnRzQkxlbmd0aCA+IDEgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBwYXJ0c0FTdGFydDsgayA8IHBhcnRzQUxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEEgPSBib2R5QS5wYXJ0c1trXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNBID0gcGFydEEuYm91bmRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gcGFydHNCU3RhcnQ7IHogPCBwYXJ0c0JMZW5ndGg7IHorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0QiA9IGJvZHlCLnBhcnRzW3pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNCID0gcGFydEIuYm91bmRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kc0EubWluLnggPiBib3VuZHNCLm1heC54IHx8IGJvdW5kc0EubWF4LnggPCBib3VuZHNCLm1pbi54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGJvdW5kc0EubWF4LnkgPCBib3VuZHNCLm1pbi55IHx8IGJvdW5kc0EubWluLnkgPiBib3VuZHNCLm1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaWRlcyhwYXJ0QSwgcGFydEIsIHBhaXJzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGJvdGggc3VwcGxpZWQgY29sbGlzaW9uIGZpbHRlcnMgd2lsbCBhbGxvdyBhIGNvbGxpc2lvbiB0byBvY2N1ci5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIGNhbkNvbGxpZGVcbiAgICAgKiBAcGFyYW0ge30gZmlsdGVyQVxuICAgICAqIEBwYXJhbSB7fSBmaWx0ZXJCXG4gICAgICogQHJldHVybiB7Ym9vbH0gYHRydWVgIGlmIGNvbGxpc2lvbiBjYW4gb2NjdXJcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5jYW5Db2xsaWRlID0gZnVuY3Rpb24oZmlsdGVyQSwgZmlsdGVyQikge1xuICAgICAgICBpZiAoZmlsdGVyQS5ncm91cCA9PT0gZmlsdGVyQi5ncm91cCAmJiBmaWx0ZXJBLmdyb3VwICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckEuZ3JvdXAgPiAwO1xuXG4gICAgICAgIHJldHVybiAoZmlsdGVyQS5tYXNrICYgZmlsdGVyQi5jYXRlZ29yeSkgIT09IDAgJiYgKGZpbHRlckIubWFzayAmIGZpbHRlckEuY2F0ZWdvcnkpICE9PSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcGFyaXNvbiBmdW5jdGlvbiB1c2VkIGluIHRoZSBicm9hZHBoYXNlIGFsZ29yaXRobS5cbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgZGVsdGEgb2YgdGhlIGJvZGllcyBib3VuZHMgb24gdGhlIHgtYXhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgX3NvcnRDb21wYXJlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzaWduZWQgZGVsdGEgdXNlZCBmb3Igc29ydGluZ1xuICAgICAqL1xuICAgIERldGVjdG9yLl9jb21wYXJlQm91bmRzWCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qikge1xuICAgICAgICByZXR1cm4gYm9keUEuYm91bmRzLm1pbi54IC0gYm9keUIuYm91bmRzLm1pbi54O1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBgTWF0dGVyLkJvZHlgIGJldHdlZW4gd2hpY2ggdGhlIGRldGVjdG9yIGZpbmRzIGNvbGxpc2lvbnMuXG4gICAgICogXG4gICAgICogX05vdGU6XyBUaGUgb3JkZXIgb2YgYm9kaWVzIGluIHRoaXMgYXJyYXkgX2lzIG5vdCBmaXhlZF8gYW5kIHdpbGwgYmUgY29udGludWFsbHkgbWFuYWdlZCBieSB0aGUgZGV0ZWN0b3IuXG4gICAgICogQHByb3BlcnR5IGJvZGllc1xuICAgICAqIEB0eXBlIGJvZHlbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbC4gQSBgTWF0dGVyLlBhaXJzYCBvYmplY3QgZnJvbSB3aGljaCBwcmV2aW91cyBjb2xsaXNpb24gb2JqZWN0cyBtYXkgYmUgcmV1c2VkLiBJbnRlbmRlZCBmb3IgaW50ZXJuYWwgYE1hdHRlci5FbmdpbmVgIHVzYWdlLlxuICAgICAqIEBwcm9wZXJ0eSBwYWlyc1xuICAgICAqIEB0eXBlIHtwYWlyc3xudWxsfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Nb3VzZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgbW91c2UgaW5wdXRzLlxuKlxuKiBAY2xhc3MgTW91c2VcbiovXG5cbnZhciBNb3VzZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlO1xuXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1vdXNlIGlucHV0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm4ge21vdXNlfSBBIG5ldyBtb3VzZVxuICAgICAqL1xuICAgIE1vdXNlLmNyZWF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1vdXNlID0ge307XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICBDb21tb24ubG9nKCdNb3VzZS5jcmVhdGU6IGVsZW1lbnQgd2FzIHVuZGVmaW5lZCwgZGVmYXVsdGluZyB0byBkb2N1bWVudC5ib2R5JywgJ3dhcm4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbW91c2UuZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgbW91c2UuYWJzb2x1dGUgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UucG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLm9mZnNldCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuICAgICAgICBtb3VzZS53aGVlbERlbHRhID0gMDtcbiAgICAgICAgbW91c2UuYnV0dG9uID0gLTE7XG4gICAgICAgIG1vdXNlLnBpeGVsUmF0aW8gPSBwYXJzZUludChtb3VzZS5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1waXhlbC1yYXRpbycpLCAxMCkgfHwgMTtcblxuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMgPSB7XG4gICAgICAgICAgICBtb3VzZW1vdmU6IG51bGwsXG4gICAgICAgICAgICBtb3VzZWRvd246IG51bGwsXG4gICAgICAgICAgICBtb3VzZXVwOiBudWxsLFxuICAgICAgICAgICAgbW91c2V3aGVlbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgbW91c2UubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHsgXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3VzZS5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgICAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZWRvd25Qb3NpdGlvbi55ID0gbW91c2UucG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNldXAgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gTW91c2UuX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IC0xO1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V1cCA9IGV2ZW50O1xuICAgICAgICB9O1xuXG4gICAgICAgIG1vdXNlLm1vdXNld2hlZWwgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBldmVudC53aGVlbERlbHRhIHx8IC1ldmVudC5kZXRhaWwpKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgTW91c2Uuc2V0RWxlbWVudChtb3VzZSwgbW91c2UuZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIG1vdXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBlbGVtZW50IHRoZSBtb3VzZSBpcyBib3VuZCB0byAoYW5kIHJlbGF0aXZlIHRvKS5cbiAgICAgKiBAbWV0aG9kIHNldEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRFbGVtZW50ID0gZnVuY3Rpb24obW91c2UsIGVsZW1lbnQpIHtcbiAgICAgICAgbW91c2UuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZS5tb3VzZW1vdmUpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlLm1vdXNlZG93bik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlLm1vdXNldXApO1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgbW91c2UubW91c2V3aGVlbCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBtb3VzZS5tb3VzZXdoZWVsKTtcblxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdXNlLm1vdXNlbW92ZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vdXNlLm1vdXNlZG93bik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBtb3VzZS5tb3VzZXVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYXB0dXJlZCBzb3VyY2UgZXZlbnRzLlxuICAgICAqIEBtZXRob2QgY2xlYXJTb3VyY2VFdmVudHNcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqL1xuICAgIE1vdXNlLmNsZWFyU291cmNlRXZlbnRzID0gZnVuY3Rpb24obW91c2UpIHtcbiAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNlbW92ZSA9IG51bGw7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V1cCA9IG51bGw7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZXdoZWVsID0gbnVsbDtcbiAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1vdXNlIHBvc2l0aW9uIG9mZnNldC5cbiAgICAgKiBAbWV0aG9kIHNldE9mZnNldFxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IG9mZnNldFxuICAgICAqL1xuICAgIE1vdXNlLnNldE9mZnNldCA9IGZ1bmN0aW9uKG1vdXNlLCBvZmZzZXQpIHtcbiAgICAgICAgbW91c2Uub2Zmc2V0LnggPSBvZmZzZXQueDtcbiAgICAgICAgbW91c2Uub2Zmc2V0LnkgPSBvZmZzZXQueTtcbiAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiBzY2FsZS5cbiAgICAgKiBAbWV0aG9kIHNldFNjYWxlXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gc2NhbGVcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRTY2FsZSA9IGZ1bmN0aW9uKG1vdXNlLCBzY2FsZSkge1xuICAgICAgICBtb3VzZS5zY2FsZS54ID0gc2NhbGUueDtcbiAgICAgICAgbW91c2Uuc2NhbGUueSA9IHNjYWxlLnk7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGFuIGVsZW1lbnQgZ2l2ZW4gYSBzY3JlZW4gcGl4ZWwgcmF0aW8uXG4gICAgICogQG1ldGhvZCBfZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge30gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvXG4gICAgICogQHJldHVybiB7fVxuICAgICAqL1xuICAgIE1vdXNlLl9nZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbihldmVudCwgZWxlbWVudCwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgZWxlbWVudEJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICByb290Tm9kZSA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgc2Nyb2xsWCA9ICh3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZCkgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiByb290Tm9kZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsWSA9ICh3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZCkgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiByb290Tm9kZS5zY3JvbGxUb3AsXG4gICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgICAgICB4LCB5O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvdWNoZXMpIHtcbiAgICAgICAgICAgIHggPSB0b3VjaGVzWzBdLnBhZ2VYIC0gZWxlbWVudEJvdW5kcy5sZWZ0IC0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgPSB0b3VjaGVzWzBdLnBhZ2VZIC0gZWxlbWVudEJvdW5kcy50b3AgLSBzY3JvbGxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYIC0gZWxlbWVudEJvdW5kcy5sZWZ0IC0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWSAtIGVsZW1lbnRCb3VuZHMudG9wIC0gc2Nyb2xsWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgeDogeCAvIChlbGVtZW50LmNsaWVudFdpZHRoIC8gKGVsZW1lbnQud2lkdGggfHwgZWxlbWVudC5jbGllbnRXaWR0aCkgKiBwaXhlbFJhdGlvKSxcbiAgICAgICAgICAgIHk6IHkgLyAoZWxlbWVudC5jbGllbnRIZWlnaHQgLyAoZWxlbWVudC5oZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQpICogcGl4ZWxSYXRpbylcbiAgICAgICAgfTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlBsdWdpbmAgbW9kdWxlIGNvbnRhaW5zIGZ1bmN0aW9ucyBmb3IgcmVnaXN0ZXJpbmcgYW5kIGluc3RhbGxpbmcgcGx1Z2lucyBvbiBtb2R1bGVzLlxuKlxuKiBAY2xhc3MgUGx1Z2luXG4qL1xuXG52YXIgUGx1Z2luID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUGx1Z2luO1xuXG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgUGx1Z2luLl9yZWdpc3RyeSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgcGx1Z2luIG9iamVjdCBzbyBpdCBjYW4gYmUgcmVzb2x2ZWQgbGF0ZXIgYnkgbmFtZS5cbiAgICAgKiBAbWV0aG9kIHJlZ2lzdGVyXG4gICAgICogQHBhcmFtIHBsdWdpbiB7fSBUaGUgcGx1Z2luIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBQbHVnaW4ucmVnaXN0ZXIgPSBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgICAgaWYgKCFQbHVnaW4uaXNQbHVnaW4ocGx1Z2luKSkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2RvZXMgbm90IGltcGxlbWVudCBhbGwgcmVxdWlyZWQgZmllbGRzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsdWdpbi5uYW1lIGluIFBsdWdpbi5fcmVnaXN0cnkpIHtcbiAgICAgICAgICAgIHZhciByZWdpc3RlcmVkID0gUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0sXG4gICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbiA9IFBsdWdpbi52ZXJzaW9uUGFyc2UocGx1Z2luLnZlcnNpb24pLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWdpc3RlcmVkVmVyc2lvbiA9IFBsdWdpbi52ZXJzaW9uUGFyc2UocmVnaXN0ZXJlZC52ZXJzaW9uKS5udW1iZXI7XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW5WZXJzaW9uID4gcmVnaXN0ZXJlZFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnJlZ2lzdGVyOicsIFBsdWdpbi50b1N0cmluZyhyZWdpc3RlcmVkKSwgJ3dhcyB1cGdyYWRlZCB0bycsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pKTtcbiAgICAgICAgICAgICAgICBQbHVnaW4uX3JlZ2lzdHJ5W3BsdWdpbi5uYW1lXSA9IHBsdWdpbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGx1Z2luVmVyc2lvbiA8IHJlZ2lzdGVyZWRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocmVnaXN0ZXJlZCksICdjYW4gbm90IGJlIGRvd25ncmFkZWQgdG8nLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAhPT0gcmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgdG8gZGlmZmVyZW50IHBsdWdpbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFBsdWdpbi5fcmVnaXN0cnlbcGx1Z2luLm5hbWVdID0gcGx1Z2luO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBsdWdpbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgYSBkZXBlbmRlbmN5IHRvIGEgcGx1Z2luIG9iamVjdCBmcm9tIHRoZSByZWdpc3RyeSBpZiBpdCBleGlzdHMuIFxuICAgICAqIFRoZSBgZGVwZW5kZW5jeWAgbWF5IGNvbnRhaW4gYSB2ZXJzaW9uLCBidXQgb25seSB0aGUgbmFtZSBtYXR0ZXJzIHdoZW4gcmVzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcmVzb2x2ZVxuICAgICAqIEBwYXJhbSBkZXBlbmRlbmN5IHtzdHJpbmd9IFRoZSBkZXBlbmRlbmN5LlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHBsdWdpbiBpZiByZXNvbHZlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIFBsdWdpbi5yZXNvbHZlID0gZnVuY3Rpb24oZGVwZW5kZW5jeSkge1xuICAgICAgICByZXR1cm4gUGx1Z2luLl9yZWdpc3RyeVtQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKGRlcGVuZGVuY3kpLm5hbWVdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJldHR5IHByaW50ZWQgcGx1Z2luIG5hbWUgYW5kIHZlcnNpb24uXG4gICAgICogQG1ldGhvZCB0b1N0cmluZ1xuICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFByZXR0eSBwcmludGVkIHBsdWdpbiBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIFBsdWdpbi50b1N0cmluZyA9IGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHBsdWdpbiA9PT0gJ3N0cmluZycgPyBwbHVnaW4gOiAocGx1Z2luLm5hbWUgfHwgJ2Fub255bW91cycpICsgJ0AnICsgKHBsdWdpbi52ZXJzaW9uIHx8IHBsdWdpbi5yYW5nZSB8fCAnMC4wLjAnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBtZWV0cyB0aGUgbWluaW11bSBzdGFuZGFyZCB0byBiZSBjb25zaWRlcmVkIGEgcGx1Z2luLlxuICAgICAqIFRoaXMgbWVhbnMgaXQgbXVzdCBkZWZpbmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIC0gYG5hbWVgXG4gICAgICogLSBgdmVyc2lvbmBcbiAgICAgKiAtIGBpbnN0YWxsYFxuICAgICAqIEBtZXRob2QgaXNQbHVnaW5cbiAgICAgKiBAcGFyYW0gb2JqIHt9IFRoZSBvYmogdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBjYW4gYmUgY29uc2lkZXJlZCBhIHBsdWdpbiBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4uaXNQbHVnaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmoubmFtZSAmJiBvYmoudmVyc2lvbiAmJiBvYmouaW5zdGFsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYSBwbHVnaW4gd2l0aCB0aGUgZ2l2ZW4gYG5hbWVgIGJlZW4gaW5zdGFsbGVkIG9uIGBtb2R1bGVgLlxuICAgICAqIEBtZXRob2QgaXNVc2VkXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlLlxuICAgICAqIEBwYXJhbSBuYW1lIHtzdHJpbmd9IFRoZSBwbHVnaW4gbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYSBwbHVnaW4gd2l0aCB0aGUgZ2l2ZW4gYG5hbWVgIGJlZW4gaW5zdGFsbGVkIG9uIGBtb2R1bGVgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQbHVnaW4uaXNVc2VkID0gZnVuY3Rpb24obW9kdWxlLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGUudXNlZC5pbmRleE9mKG5hbWUpID4gLTE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGBwbHVnaW4uZm9yYCBpcyBhcHBsaWNhYmxlIHRvIGBtb2R1bGVgIGJ5IGNvbXBhcmluZyBhZ2FpbnN0IGBtb2R1bGUubmFtZWAgYW5kIGBtb2R1bGUudmVyc2lvbmAuXG4gICAgICogSWYgYHBsdWdpbi5mb3JgIGlzIG5vdCBzcGVjaWZpZWQgdGhlbiBpdCBpcyBhc3N1bWVkIHRvIGJlIGFwcGxpY2FibGUuXG4gICAgICogVGhlIHZhbHVlIG9mIGBwbHVnaW4uZm9yYCBpcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnbW9kdWxlLW5hbWUnYCBvciBgJ21vZHVsZS1uYW1lQHZlcnNpb24nYC5cbiAgICAgKiBAbWV0aG9kIGlzRm9yXG4gICAgICogQHBhcmFtIHBsdWdpbiB7fSBUaGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSBtb2R1bGUge30gVGhlIG1vZHVsZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYHBsdWdpbi5mb3JgIGlzIGFwcGxpY2FibGUgdG8gYG1vZHVsZWAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIFBsdWdpbi5pc0ZvciA9IGZ1bmN0aW9uKHBsdWdpbiwgbW9kdWxlKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwbHVnaW4uZm9yICYmIFBsdWdpbi5kZXBlbmRlbmN5UGFyc2UocGx1Z2luLmZvcik7XG4gICAgICAgIHJldHVybiAhcGx1Z2luLmZvciB8fCAobW9kdWxlLm5hbWUgPT09IHBhcnNlZC5uYW1lICYmIFBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzKG1vZHVsZS52ZXJzaW9uLCBwYXJzZWQucmFuZ2UpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5zdGFsbHMgdGhlIHBsdWdpbnMgYnkgY2FsbGluZyBgcGx1Z2luLmluc3RhbGxgIG9uIGVhY2ggcGx1Z2luIHNwZWNpZmllZCBpbiBgcGx1Z2luc2AgaWYgcGFzc2VkLCBvdGhlcndpc2UgYG1vZHVsZS51c2VzYC5cbiAgICAgKiBGb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIGBNYXR0ZXJgIHNlZSB0aGUgY29udmVuaWVuY2UgZnVuY3Rpb24gYE1hdHRlci51c2VgLlxuICAgICAqIFBsdWdpbnMgbWF5IGJlIHNwZWNpZmllZCBlaXRoZXIgYnkgdGhlaXIgbmFtZSBvciBhIHJlZmVyZW5jZSB0byB0aGUgcGx1Z2luIG9iamVjdC5cbiAgICAgKiBQbHVnaW5zIHRoZW1zZWx2ZXMgbWF5IHNwZWNpZnkgZnVydGhlciBkZXBlbmRlbmNpZXMsIGJ1dCBlYWNoIHBsdWdpbiBpcyBpbnN0YWxsZWQgb25seSBvbmNlLlxuICAgICAqIE9yZGVyIGlzIGltcG9ydGFudCwgYSB0b3BvbG9naWNhbCBzb3J0IGlzIHBlcmZvcm1lZCB0byBmaW5kIHRoZSBiZXN0IHJlc3VsdGluZyBvcmRlciBvZiBpbnN0YWxsYXRpb24uXG4gICAgICogVGhpcyBzb3J0aW5nIGF0dGVtcHRzIHRvIHNhdGlzZnkgZXZlcnkgZGVwZW5kZW5jeSdzIHJlcXVlc3RlZCBvcmRlcmluZywgYnV0IG1heSBub3QgYmUgZXhhY3QgaW4gYWxsIGNhc2VzLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gbG9ncyB0aGUgcmVzdWx0aW5nIHN0YXR1cyBvZiBlYWNoIGRlcGVuZGVuY3kgaW4gdGhlIGNvbnNvbGUsIGFsb25nIHdpdGggYW55IHdhcm5pbmdzLlxuICAgICAqIC0gQSBncmVlbiB0aWNrIOKchSBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IHdhcyByZXNvbHZlZCBhbmQgaW5zdGFsbGVkLlxuICAgICAqIC0gQW4gb3JhbmdlIGRpYW1vbmQg8J+UtiBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IHdhcyByZXNvbHZlZCBidXQgYSB3YXJuaW5nIHdhcyB0aHJvd24gZm9yIGl0IG9yIG9uZSBpZiBpdHMgZGVwZW5kZW5jaWVzLlxuICAgICAqIC0gQSByZWQgY3Jvc3Mg4p2MIGluZGljYXRlcyBhIGRlcGVuZGVuY3kgY291bGQgbm90IGJlIHJlc29sdmVkLlxuICAgICAqIEF2b2lkIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBtb2R1bGUgdW5sZXNzIHlvdSBpbnRlbmQgdG8gbWFudWFsbHkgY29udHJvbCBpbnN0YWxsYXRpb24gb3JkZXIuXG4gICAgICogQG1ldGhvZCB1c2VcbiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUgaW5zdGFsbCBwbHVnaW5zIG9uLlxuICAgICAqIEBwYXJhbSBbcGx1Z2lucz1tb2R1bGUudXNlc10ge30gVGhlIHBsdWdpbnMgdG8gaW5zdGFsbCBvbiBtb2R1bGUgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBgbW9kdWxlLnVzZXNgKS5cbiAgICAgKi9cbiAgICBQbHVnaW4udXNlID0gZnVuY3Rpb24obW9kdWxlLCBwbHVnaW5zKSB7XG4gICAgICAgIG1vZHVsZS51c2VzID0gKG1vZHVsZS51c2VzIHx8IFtdKS5jb25jYXQocGx1Z2lucyB8fCBbXSk7XG5cbiAgICAgICAgaWYgKG1vZHVsZS51c2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi51c2U6JywgUGx1Z2luLnRvU3RyaW5nKG1vZHVsZSksICdkb2VzIG5vdCBzcGVjaWZ5IGFueSBkZXBlbmRlbmNpZXMgdG8gaW5zdGFsbC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBQbHVnaW4uZGVwZW5kZW5jaWVzKG1vZHVsZSksXG4gICAgICAgICAgICBzb3J0ZWREZXBlbmRlbmNpZXMgPSBDb21tb24udG9wb2xvZ2ljYWxTb3J0KGRlcGVuZGVuY2llcyksXG4gICAgICAgICAgICBzdGF0dXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHNvcnRlZERlcGVuZGVuY2llc1tpXSA9PT0gbW9kdWxlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IFBsdWdpbi5yZXNvbHZlKHNvcnRlZERlcGVuZGVuY2llc1tpXSk7XG5cbiAgICAgICAgICAgIGlmICghcGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLnB1c2goJ+KdjCAnICsgc29ydGVkRGVwZW5kZW5jaWVzW2ldKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBsdWdpbi5pc1VzZWQobW9kdWxlLCBwbHVnaW4ubmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFQbHVnaW4uaXNGb3IocGx1Z2luLCBtb2R1bGUpKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi51c2U6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdpcyBmb3InLCBwbHVnaW4uZm9yLCAnYnV0IGluc3RhbGxlZCBvbicsIFBsdWdpbi50b1N0cmluZyhtb2R1bGUpICsgJy4nKTtcbiAgICAgICAgICAgICAgICBwbHVnaW4uX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW4uaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKG1vZHVsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udXNlOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnZG9lcyBub3Qgc3BlY2lmeSBhbiBpbnN0YWxsIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgICAgIHBsdWdpbi5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsdWdpbi5fd2FybmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLnB1c2goJ/CflLYgJyArIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGx1Z2luLl93YXJuZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5wdXNoKCfinIUgJyArIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kdWxlLnVzZWQucHVzaChwbHVnaW4ubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIENvbW1vbi5pbmZvKHN0YXR1cy5qb2luKCcgICcpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmaW5kcyBhbGwgb2YgYSBtb2R1bGUncyBkZXBlbmRlbmNpZXMgYW5kIHJldHVybnMgYSBmbGF0IGRlcGVuZGVuY3kgZ3JhcGguXG4gICAgICogQG1ldGhvZCBkZXBlbmRlbmNpZXNcbiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBBIGRlcGVuZGVuY3kgZ3JhcGguXG4gICAgICovXG4gICAgUGx1Z2luLmRlcGVuZGVuY2llcyA9IGZ1bmN0aW9uKG1vZHVsZSwgdHJhY2tlZCkge1xuICAgICAgICB2YXIgcGFyc2VkQmFzZSA9IFBsdWdpbi5kZXBlbmRlbmN5UGFyc2UobW9kdWxlKSxcbiAgICAgICAgICAgIG5hbWUgPSBwYXJzZWRCYXNlLm5hbWU7XG5cbiAgICAgICAgdHJhY2tlZCA9IHRyYWNrZWQgfHwge307XG5cbiAgICAgICAgaWYgKG5hbWUgaW4gdHJhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kdWxlID0gUGx1Z2luLnJlc29sdmUobW9kdWxlKSB8fCBtb2R1bGU7XG5cbiAgICAgICAgdHJhY2tlZFtuYW1lXSA9IENvbW1vbi5tYXAobW9kdWxlLnVzZXMgfHwgW10sIGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgIGlmIChQbHVnaW4uaXNQbHVnaW4oZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgICAgICAgICBQbHVnaW4ucmVnaXN0ZXIoZGVwZW5kZW5jeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJzZWQgPSBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKGRlcGVuZGVuY3kpLFxuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gUGx1Z2luLnJlc29sdmUoZGVwZW5kZW5jeSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNvbHZlZCAmJiAhUGx1Z2luLnZlcnNpb25TYXRpc2ZpZXMocmVzb2x2ZWQudmVyc2lvbiwgcGFyc2VkLnJhbmdlKSkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKFxuICAgICAgICAgICAgICAgICAgICAnUGx1Z2luLmRlcGVuZGVuY2llczonLCBQbHVnaW4udG9TdHJpbmcocmVzb2x2ZWQpLCAnZG9lcyBub3Qgc2F0aXNmeScsXG4gICAgICAgICAgICAgICAgICAgIFBsdWdpbi50b1N0cmluZyhwYXJzZWQpLCAndXNlZCBieScsIFBsdWdpbi50b1N0cmluZyhwYXJzZWRCYXNlKSArICcuJ1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlZC5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtb2R1bGUuX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKFxuICAgICAgICAgICAgICAgICAgICAnUGx1Z2luLmRlcGVuZGVuY2llczonLCBQbHVnaW4udG9TdHJpbmcoZGVwZW5kZW5jeSksICd1c2VkIGJ5JyxcbiAgICAgICAgICAgICAgICAgICAgUGx1Z2luLnRvU3RyaW5nKHBhcnNlZEJhc2UpLCAnY291bGQgbm90IGJlIHJlc29sdmVkLidcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgbW9kdWxlLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkLm5hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tlZFtuYW1lXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgUGx1Z2luLmRlcGVuZGVuY2llcyh0cmFja2VkW25hbWVdW2ldLCB0cmFja2VkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFja2VkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBkZXBlbmRlbmN5IHN0cmluZyBpbnRvIGl0cyBjb21wb25lbnRzLlxuICAgICAqIFRoZSBgZGVwZW5kZW5jeWAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuXG4gICAgICogU2VlIGRvY3VtZW50YXRpb24gZm9yIGBQbHVnaW4udmVyc2lvblBhcnNlYCBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgZm9ybWF0LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGFsc28gaGFuZGxlIGRlcGVuZGVuY2llcyB0aGF0IGFyZSBhbHJlYWR5IHJlc29sdmVkIChlLmcuIGEgbW9kdWxlIG9iamVjdCkuXG4gICAgICogQG1ldGhvZCBkZXBlbmRlbmN5UGFyc2VcbiAgICAgKiBAcGFyYW0gZGVwZW5kZW5jeSB7c3RyaW5nfSBUaGUgZGVwZW5kZW5jeSBvZiB0aGUgZm9ybWF0IGAnbW9kdWxlLW5hbWUnYCBvciBgJ21vZHVsZS1uYW1lQHZlcnNpb24nYC5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBkZXBlbmRlbmN5IHBhcnNlZCBpbnRvIGl0cyBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIFBsdWdpbi5kZXBlbmRlbmN5UGFyc2UgPSBmdW5jdGlvbihkZXBlbmRlbmN5KSB7XG4gICAgICAgIGlmIChDb21tb24uaXNTdHJpbmcoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL15bXFx3LV0rKEAoXFwqfFtcXF5+XT9cXGQrXFwuXFxkK1xcLlxcZCsoLVswLTlBLVphLXotK10rKT8pKT8kLztcblxuICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLmRlcGVuZGVuY3lQYXJzZTonLCBkZXBlbmRlbmN5LCAnaXMgbm90IGEgdmFsaWQgZGVwZW5kZW5jeSBzdHJpbmcuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZGVwZW5kZW5jeS5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBkZXBlbmRlbmN5LnNwbGl0KCdAJylbMV0gfHwgJyonXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGRlcGVuZGVuY3kubmFtZSxcbiAgICAgICAgICAgIHJhbmdlOiBkZXBlbmRlbmN5LnJhbmdlIHx8IGRlcGVuZGVuY3kudmVyc2lvblxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSB2ZXJzaW9uIHN0cmluZyBpbnRvIGl0cyBjb21wb25lbnRzLiAgXG4gICAgICogVmVyc2lvbnMgYXJlIHN0cmljdGx5IG9mIHRoZSBmb3JtYXQgYHgueS56YCAoYXMgaW4gW3NlbXZlcl0oaHR0cDovL3NlbXZlci5vcmcvKSkuXG4gICAgICogVmVyc2lvbnMgbWF5IG9wdGlvbmFsbHkgaGF2ZSBhIHByZXJlbGVhc2UgdGFnIGluIHRoZSBmb3JtYXQgYHgueS56LWFscGhhYC5cbiAgICAgKiBSYW5nZXMgYXJlIGEgc3RyaWN0IHN1YnNldCBvZiBbbnBtIHJhbmdlc10oaHR0cHM6Ly9kb2NzLm5wbWpzLmNvbS9taXNjL3NlbXZlciNhZHZhbmNlZC1yYW5nZS1zeW50YXgpLlxuICAgICAqIE9ubHkgdGhlIGZvbGxvd2luZyByYW5nZSB0eXBlcyBhcmUgc3VwcG9ydGVkOlxuICAgICAqIC0gVGlsZGUgcmFuZ2VzIGUuZy4gYH4xLjIuM2BcbiAgICAgKiAtIENhcmV0IHJhbmdlcyBlLmcuIGBeMS4yLjNgXG4gICAgICogLSBHcmVhdGVyIHRoYW4gcmFuZ2VzIGUuZy4gYD4xLjIuM2BcbiAgICAgKiAtIEdyZWF0ZXIgdGhhbiBvciBlcXVhbCByYW5nZXMgZS5nLiBgPj0xLjIuM2BcbiAgICAgKiAtIEV4YWN0IHZlcnNpb24gZS5nLiBgMS4yLjNgXG4gICAgICogLSBBbnkgdmVyc2lvbiBgKmBcbiAgICAgKiBAbWV0aG9kIHZlcnNpb25QYXJzZVxuICAgICAqIEBwYXJhbSByYW5nZSB7c3RyaW5nfSBUaGUgdmVyc2lvbiBzdHJpbmcuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgdmVyc2lvbiByYW5nZSBwYXJzZWQgaW50byBpdHMgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBQbHVnaW4udmVyc2lvblBhcnNlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSAvXihcXCopfChcXF58fnw+PXw+KT9cXHMqKChcXGQrKVxcLihcXGQrKVxcLihcXGQrKSkoLVswLTlBLVphLXotK10rKT8kLztcblxuICAgICAgICBpZiAoIXBhdHRlcm4udGVzdChyYW5nZSkpIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4udmVyc2lvblBhcnNlOicsIHJhbmdlLCAnaXMgbm90IGEgdmFsaWQgdmVyc2lvbiBvciByYW5nZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJ0cyA9IHBhdHRlcm4uZXhlYyhyYW5nZSk7XG4gICAgICAgIHZhciBtYWpvciA9IE51bWJlcihwYXJ0c1s0XSk7XG4gICAgICAgIHZhciBtaW5vciA9IE51bWJlcihwYXJ0c1s1XSk7XG4gICAgICAgIHZhciBwYXRjaCA9IE51bWJlcihwYXJ0c1s2XSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzUmFuZ2U6IEJvb2xlYW4ocGFydHNbMV0gfHwgcGFydHNbMl0pLFxuICAgICAgICAgICAgdmVyc2lvbjogcGFydHNbM10sXG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICBvcGVyYXRvcjogcGFydHNbMV0gfHwgcGFydHNbMl0gfHwgJycsXG4gICAgICAgICAgICBtYWpvcjogbWFqb3IsXG4gICAgICAgICAgICBtaW5vcjogbWlub3IsXG4gICAgICAgICAgICBwYXRjaDogcGF0Y2gsXG4gICAgICAgICAgICBwYXJ0czogW21ham9yLCBtaW5vciwgcGF0Y2hdLFxuICAgICAgICAgICAgcHJlcmVsZWFzZTogcGFydHNbN10sXG4gICAgICAgICAgICBudW1iZXI6IG1ham9yICogMWU4ICsgbWlub3IgKiAxZTQgKyBwYXRjaFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIHRoZSBnaXZlbiBgcmFuZ2VgLlxuICAgICAqIFNlZSBkb2N1bWVudGF0aW9uIGZvciBgUGx1Z2luLnZlcnNpb25QYXJzZWAgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdC5cbiAgICAgKiBJZiBhIHZlcnNpb24gb3IgcmFuZ2UgaXMgbm90IHNwZWNpZmllZCwgdGhlbiBhbnkgdmVyc2lvbiAoYCpgKSBpcyBhc3N1bWVkIHRvIHNhdGlzZnkuXG4gICAgICogQG1ldGhvZCB2ZXJzaW9uU2F0aXNmaWVzXG4gICAgICogQHBhcmFtIHZlcnNpb24ge3N0cmluZ30gVGhlIHZlcnNpb24gc3RyaW5nLlxuICAgICAqIEBwYXJhbSByYW5nZSB7c3RyaW5nfSBUaGUgcmFuZ2Ugc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIGByYW5nZWAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIFBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzID0gZnVuY3Rpb24odmVyc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgcmFuZ2UgPSByYW5nZSB8fCAnKic7XG5cbiAgICAgICAgdmFyIHIgPSBQbHVnaW4udmVyc2lvblBhcnNlKHJhbmdlKSxcbiAgICAgICAgICAgIHYgPSBQbHVnaW4udmVyc2lvblBhcnNlKHZlcnNpb24pO1xuXG4gICAgICAgIGlmIChyLmlzUmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnKicgfHwgdmVyc2lvbiA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdi5udW1iZXIgPiByLm51bWJlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHIub3BlcmF0b3IgPT09ICc+PScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdi5udW1iZXIgPj0gci5udW1iZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyLm9wZXJhdG9yID09PSAnficpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdi5tYWpvciA9PT0gci5tYWpvciAmJiB2Lm1pbm9yID09PSByLm1pbm9yICYmIHYucGF0Y2ggPj0gci5wYXRjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHIub3BlcmF0b3IgPT09ICdeJykge1xuICAgICAgICAgICAgICAgIGlmIChyLm1ham9yID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5tYWpvciA9PT0gci5tYWpvciAmJiB2Lm51bWJlciA+PSByLm51bWJlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoci5taW5vciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYubWlub3IgPT09IHIubWlub3IgJiYgdi5wYXRjaCA+PSByLnBhdGNoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB2LnBhdGNoID09PSByLnBhdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnNpb24gPT09IHJhbmdlIHx8IHZlcnNpb24gPT09ICcqJztcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkNvbnRhY3RgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbGxpc2lvbiBjb250YWN0cy5cbipcbiogQGNsYXNzIENvbnRhY3RcbiovXG5cbnZhciBDb250YWN0ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGFjdDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb250YWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt2ZXJ0ZXh9IHZlcnRleFxuICAgICAqIEByZXR1cm4ge2NvbnRhY3R9IEEgbmV3IGNvbnRhY3RcbiAgICAgKi9cbiAgICBDb250YWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKHZlcnRleCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVydGV4OiB2ZXJ0ZXgsXG4gICAgICAgICAgICBub3JtYWxJbXB1bHNlOiAwLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2U6IDBcbiAgICAgICAgfTtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLkVuZ2luZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgZW5naW5lcy5cbiogQW4gZW5naW5lIGlzIGEgY29udHJvbGxlciB0aGF0IG1hbmFnZXMgdXBkYXRpbmcgdGhlIHNpbXVsYXRpb24gb2YgdGhlIHdvcmxkLlxuKiBTZWUgYE1hdHRlci5SdW5uZXJgIGZvciBhbiBvcHRpb25hbCBnYW1lIGxvb3AgdXRpbGl0eS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIEVuZ2luZVxuKi9cblxudmFyIEVuZ2luZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVuZ2luZTtcblxudmFyIFNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBSZXNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIERldGVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgUGFpcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBFdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIENvbXBvc2l0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG52YXIgQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZW5naW5lLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cbiAgICBFbmdpbmUuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbkl0ZXJhdGlvbnM6IDYsXG4gICAgICAgICAgICB2ZWxvY2l0eUl0ZXJhdGlvbnM6IDQsXG4gICAgICAgICAgICBjb25zdHJhaW50SXRlcmF0aW9uczogMixcbiAgICAgICAgICAgIGVuYWJsZVNsZWVwaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGV2ZW50czogW10sXG4gICAgICAgICAgICBwbHVnaW46IHt9LFxuICAgICAgICAgICAgZ3Jhdml0eToge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMSxcbiAgICAgICAgICAgICAgICBzY2FsZTogMC4wMDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aW1pbmc6IHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgICAgdGltZVNjYWxlOiAxLFxuICAgICAgICAgICAgICAgIGxhc3REZWx0YTogMCxcbiAgICAgICAgICAgICAgICBsYXN0RWxhcHNlZDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbmdpbmUgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBlbmdpbmUud29ybGQgPSBvcHRpb25zLndvcmxkIHx8IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ1dvcmxkJyB9KTtcbiAgICAgICAgZW5naW5lLnBhaXJzID0gb3B0aW9ucy5wYWlycyB8fCBQYWlycy5jcmVhdGUoKTtcbiAgICAgICAgZW5naW5lLmRldGVjdG9yID0gb3B0aW9ucy5kZXRlY3RvciB8fCBEZXRlY3Rvci5jcmVhdGUoKTtcblxuICAgICAgICAvLyBmb3IgdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eSBvbmx5XG4gICAgICAgIGVuZ2luZS5ncmlkID0geyBidWNrZXRzOiBbXSB9O1xuICAgICAgICBlbmdpbmUud29ybGQuZ3Jhdml0eSA9IGVuZ2luZS5ncmF2aXR5O1xuICAgICAgICBlbmdpbmUuYnJvYWRwaGFzZSA9IGVuZ2luZS5ncmlkO1xuICAgICAgICBlbmdpbmUubWV0cmljcyA9IHt9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGVuZ2luZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIHNpbXVsYXRpb24gZm9yd2FyZCBpbiB0aW1lIGJ5IGBkZWx0YWAgbWlsbGlzZWNvbmRzLlxuICAgICAqIFRyaWdnZXJzIGBiZWZvcmVVcGRhdGVgIGFuZCBgYWZ0ZXJVcGRhdGVgIGV2ZW50cy5cbiAgICAgKiBUcmlnZ2VycyBgY29sbGlzaW9uU3RhcnRgLCBgY29sbGlzaW9uQWN0aXZlYCBhbmQgYGNvbGxpc2lvbkVuZGAgZXZlbnRzLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGE9MTYuNjY2XVxuICAgICAqL1xuICAgIEVuZ2luZS51cGRhdGUgPSBmdW5jdGlvbihlbmdpbmUsIGRlbHRhKSB7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBDb21tb24ubm93KCk7XG5cbiAgICAgICAgdmFyIHdvcmxkID0gZW5naW5lLndvcmxkLFxuICAgICAgICAgICAgZGV0ZWN0b3IgPSBlbmdpbmUuZGV0ZWN0b3IsXG4gICAgICAgICAgICBwYWlycyA9IGVuZ2luZS5wYWlycyxcbiAgICAgICAgICAgIHRpbWluZyA9IGVuZ2luZS50aW1pbmcsXG4gICAgICAgICAgICB0aW1lc3RhbXAgPSB0aW1pbmcudGltZXN0YW1wLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBkZWx0YSA9IHR5cGVvZiBkZWx0YSAhPT0gJ3VuZGVmaW5lZCcgPyBkZWx0YSA6IENvbW1vbi5fYmFzZURlbHRhO1xuICAgICAgICBkZWx0YSAqPSB0aW1pbmcudGltZVNjYWxlO1xuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aW1lc3RhbXBcbiAgICAgICAgdGltaW5nLnRpbWVzdGFtcCArPSBkZWx0YTtcbiAgICAgICAgdGltaW5nLmxhc3REZWx0YSA9IGRlbHRhO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhbiBldmVudCBvYmplY3RcbiAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1pbmcudGltZXN0YW1wLFxuICAgICAgICAgICAgZGVsdGE6IGRlbHRhXG4gICAgICAgIH07XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIC8vIGdldCBhbGwgYm9kaWVzIGFuZCBhbGwgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkXG4gICAgICAgIHZhciBhbGxCb2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKTtcblxuICAgICAgICAvLyBpZiB0aGUgd29ybGQgaGFzIGNoYW5nZWRcbiAgICAgICAgaWYgKHdvcmxkLmlzTW9kaWZpZWQpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZGV0ZWN0b3IgYm9kaWVzXG4gICAgICAgICAgICBEZXRlY3Rvci5zZXRCb2RpZXMoZGV0ZWN0b3IsIGFsbEJvZGllcyk7XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IGFsbCBjb21wb3NpdGUgbW9kaWZpZWQgZmxhZ3NcbiAgICAgICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZCh3b3JsZCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBzbGVlcGluZyBpZiBlbmFibGVkXG4gICAgICAgIGlmIChlbmdpbmUuZW5hYmxlU2xlZXBpbmcpXG4gICAgICAgICAgICBTbGVlcGluZy51cGRhdGUoYWxsQm9kaWVzLCBkZWx0YSk7XG5cbiAgICAgICAgLy8gYXBwbHkgZ3Jhdml0eSB0byBhbGwgYm9kaWVzXG4gICAgICAgIEVuZ2luZS5fYm9kaWVzQXBwbHlHcmF2aXR5KGFsbEJvZGllcywgZW5naW5lLmdyYXZpdHkpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBhbGwgYm9keSBwb3NpdGlvbiBhbmQgcm90YXRpb24gYnkgaW50ZWdyYXRpb25cbiAgICAgICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgICAgICAgRW5naW5lLl9ib2RpZXNVcGRhdGUoYWxsQm9kaWVzLCBkZWx0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgYWxsIGNvbnN0cmFpbnRzIChmaXJzdCBwYXNzKVxuICAgICAgICBDb25zdHJhaW50LnByZVNvbHZlQWxsKGFsbEJvZGllcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbmdpbmUuY29uc3RyYWludEl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZUFsbChhbGxDb25zdHJhaW50cywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsKGFsbEJvZGllcyk7XG5cbiAgICAgICAgLy8gZmluZCBhbGwgY29sbGlzaW9uc1xuICAgICAgICBkZXRlY3Rvci5wYWlycyA9IGVuZ2luZS5wYWlycztcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBEZXRlY3Rvci5jb2xsaXNpb25zKGRldGVjdG9yKTtcblxuICAgICAgICAvLyB1cGRhdGUgY29sbGlzaW9uIHBhaXJzXG4gICAgICAgIFBhaXJzLnVwZGF0ZShwYWlycywgY29sbGlzaW9ucywgdGltZXN0YW1wKTtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGlmIChlbmdpbmUuZW5hYmxlU2xlZXBpbmcpXG4gICAgICAgICAgICBTbGVlcGluZy5hZnRlckNvbGxpc2lvbnMocGFpcnMubGlzdCk7XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb2xsaXNpb24gZXZlbnRzXG4gICAgICAgIGlmIChwYWlycy5jb2xsaXNpb25TdGFydC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCB7IHBhaXJzOiBwYWlycy5jb2xsaXNpb25TdGFydCB9KTtcblxuICAgICAgICAvLyBpdGVyYXRpdmVseSByZXNvbHZlIHBvc2l0aW9uIGJldHdlZW4gY29sbGlzaW9uc1xuICAgICAgICB2YXIgcG9zaXRpb25EYW1waW5nID0gQ29tbW9uLmNsYW1wKDIwIC8gZW5naW5lLnBvc2l0aW9uSXRlcmF0aW9ucywgMCwgMSk7XG4gICAgICAgIFxuICAgICAgICBSZXNvbHZlci5wcmVTb2x2ZVBvc2l0aW9uKHBhaXJzLmxpc3QpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLnBvc2l0aW9uSXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBSZXNvbHZlci5zb2x2ZVBvc2l0aW9uKHBhaXJzLmxpc3QsIGRlbHRhLCBwb3NpdGlvbkRhbXBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIFJlc29sdmVyLnBvc3RTb2x2ZVBvc2l0aW9uKGFsbEJvZGllcyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGFsbCBjb25zdHJhaW50cyAoc2Vjb25kIHBhc3MpXG4gICAgICAgIENvbnN0cmFpbnQucHJlU29sdmVBbGwoYWxsQm9kaWVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS5jb25zdHJhaW50SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlQWxsKGFsbENvbnN0cmFpbnRzLCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICAgICAgQ29uc3RyYWludC5wb3N0U29sdmVBbGwoYWxsQm9kaWVzKTtcblxuICAgICAgICAvLyBpdGVyYXRpdmVseSByZXNvbHZlIHZlbG9jaXR5IGJldHdlZW4gY29sbGlzaW9uc1xuICAgICAgICBSZXNvbHZlci5wcmVTb2x2ZVZlbG9jaXR5KHBhaXJzLmxpc3QpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLnZlbG9jaXR5SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBSZXNvbHZlci5zb2x2ZVZlbG9jaXR5KHBhaXJzLmxpc3QsIGRlbHRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBib2R5IHNwZWVkIGFuZCB2ZWxvY2l0eSBwcm9wZXJ0aWVzXG4gICAgICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlVmVsb2NpdGllcyhhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIHRyaWdnZXIgY29sbGlzaW9uIGV2ZW50c1xuICAgICAgICBpZiAocGFpcnMuY29sbGlzaW9uQWN0aXZlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdjb2xsaXNpb25BY3RpdmUnLCB7IHBhaXJzOiBwYWlycy5jb2xsaXNpb25BY3RpdmUgfSk7XG5cbiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkVuZC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnY29sbGlzaW9uRW5kJywgeyBwYWlyczogcGFpcnMuY29sbGlzaW9uRW5kIH0pO1xuXG4gICAgICAgIC8vIGNsZWFyIGZvcmNlIGJ1ZmZlcnNcbiAgICAgICAgRW5naW5lLl9ib2RpZXNDbGVhckZvcmNlcyhhbGxCb2RpZXMpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIC8vIGxvZyB0aGUgdGltZSBlbGFwc2VkIGNvbXB1dGluZyB0aGlzIHVwZGF0ZVxuICAgICAgICBlbmdpbmUudGltaW5nLmxhc3RFbGFwc2VkID0gQ29tbW9uLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBlbmdpbmU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdHdvIGVuZ2luZXMgYnkga2VlcGluZyB0aGUgY29uZmlndXJhdGlvbiBvZiBgZW5naW5lQWAgYnV0IHJlcGxhY2luZyB0aGUgd29ybGQgd2l0aCB0aGUgb25lIGZyb20gYGVuZ2luZUJgLlxuICAgICAqIEBtZXRob2QgbWVyZ2VcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lQVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVCXG4gICAgICovXG4gICAgRW5naW5lLm1lcmdlID0gZnVuY3Rpb24oZW5naW5lQSwgZW5naW5lQikge1xuICAgICAgICBDb21tb24uZXh0ZW5kKGVuZ2luZUEsIGVuZ2luZUIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVuZ2luZUIud29ybGQpIHtcbiAgICAgICAgICAgIGVuZ2luZUEud29ybGQgPSBlbmdpbmVCLndvcmxkO1xuXG4gICAgICAgICAgICBFbmdpbmUuY2xlYXIoZW5naW5lQSk7XG5cbiAgICAgICAgICAgIHZhciBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGVuZ2luZUEud29ybGQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYm9keS5pZCA9IENvbW1vbi5uZXh0SWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGVuZ2luZSBwYWlycyBhbmQgZGV0ZWN0b3IuXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cbiAgICBFbmdpbmUuY2xlYXIgPSBmdW5jdGlvbihlbmdpbmUpIHtcbiAgICAgICAgUGFpcnMuY2xlYXIoZW5naW5lLnBhaXJzKTtcbiAgICAgICAgRGV0ZWN0b3IuY2xlYXIoZW5naW5lLmRldGVjdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogWmVyb2VzIHRoZSBgYm9keS5mb3JjZWAgYW5kIGBib2R5LnRvcnF1ZWAgZm9yY2UgYnVmZmVycy5cbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNDbGVhckZvcmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzQ2xlYXJGb3JjZXMgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgdmFyIGJvZGllc0xlbmd0aCA9IGJvZGllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IGZvcmNlIGJ1ZmZlcnNcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueCA9IDA7XG4gICAgICAgICAgICBib2R5LmZvcmNlLnkgPSAwO1xuICAgICAgICAgICAgYm9keS50b3JxdWUgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZ3Jhdml0YXRpb25hbCBhY2NlbGVyYXRpb24gdG8gYWxsIGBib2RpZXNgLlxuICAgICAqIFRoaXMgbW9kZWxzIGEgW3VuaWZvcm0gZ3Jhdml0YXRpb25hbCBmaWVsZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3Jhdml0eV9vZl9FYXJ0aCksIHNpbWlsYXIgdG8gbmVhciB0aGUgc3VyZmFjZSBvZiBhIHBsYW5ldC5cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNBcHBseUdyYXZpdHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZ3Jhdml0eVxuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzQXBwbHlHcmF2aXR5ID0gZnVuY3Rpb24oYm9kaWVzLCBncmF2aXR5KSB7XG4gICAgICAgIHZhciBncmF2aXR5U2NhbGUgPSB0eXBlb2YgZ3Jhdml0eS5zY2FsZSAhPT0gJ3VuZGVmaW5lZCcgPyBncmF2aXR5LnNjYWxlIDogMC4wMDEsXG4gICAgICAgICAgICBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICgoZ3Jhdml0eS54ID09PSAwICYmIGdyYXZpdHkueSA9PT0gMCkgfHwgZ3Jhdml0eVNjYWxlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCBib2R5LmlzU2xlZXBpbmcpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgcmVzdWx0YW50IGZvcmNlIG9mIGdyYXZpdHlcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueSArPSBib2R5Lm1hc3MgKiBncmF2aXR5LnkgKiBncmF2aXR5U2NhbGU7XG4gICAgICAgICAgICBib2R5LmZvcmNlLnggKz0gYm9keS5tYXNzICogZ3Jhdml0eS54ICogZ3Jhdml0eVNjYWxlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYEJvZHkudXBkYXRlYCB0byBhbGwgZ2l2ZW4gYGJvZGllc2AuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzVXBkYXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIGJldHdlZW4gdXBkYXRlc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCBkZWx0YSkge1xuICAgICAgICB2YXIgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgYm9keS5pc1NsZWVwaW5nKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBCb2R5LnVwZGF0ZShib2R5LCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBgQm9keS51cGRhdGVWZWxvY2l0aWVzYCB0byBhbGwgZ2l2ZW4gYGJvZGllc2AuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzVXBkYXRlVmVsb2NpdGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlVmVsb2NpdGllcyA9IGZ1bmN0aW9uKGJvZGllcykge1xuICAgICAgICB2YXIgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBCb2R5LnVwZGF0ZVZlbG9jaXRpZXMoYm9kaWVzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlcHJlY2F0ZWQgYWxpYXMgZm9yIGBSdW5uZXIucnVuYCwgdXNlIGBNYXR0ZXIuUnVubmVyLnJ1bihlbmdpbmUpYCBpbnN0ZWFkIGFuZCBzZWUgYE1hdHRlci5SdW5uZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBNYXR0ZXIuUnVubmVyLnJ1bihlbmdpbmUpIGluc3RlYWRcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQganVzdCBiZWZvcmUgYW4gdXBkYXRlXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVVwZGF0ZVxuICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUgYW5kIGFsbCBjb2xsaXNpb24gZXZlbnRzXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyVXBkYXRlXG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGhhdmUgc3RhcnRlZCB0byBjb2xsaWRlIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uU3RhcnRcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7cGFpcltdfSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGFyZSBjb2xsaWRpbmcgaW4gdGhlIGN1cnJlbnQgdGljayAoaWYgYW55KVxuICAgICpcbiAgICAqIEBldmVudCBjb2xsaXNpb25BY3RpdmVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7cGFpcltdfSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC5kZWx0YSBUaGUgZGVsdGEgdGltZSBpbiBtaWxsaXNlY29uZHMgdmFsdWUgdXNlZCBpbiB0aGUgdXBkYXRlXG4gICAgKiBAcGFyYW0ge2VuZ2luZX0gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGhhdmUgZW5kZWQgY29sbGlzaW9uIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uRW5kXG4gICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge3BhaXJbXX0gZXZlbnQucGFpcnMgTGlzdCBvZiBhZmZlY3RlZCBwYWlyc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQuZGVsdGEgVGhlIGRlbHRhIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHZhbHVlIHVzZWQgaW4gdGhlIHVwZGF0ZVxuICAgICogQHBhcmFtIHtlbmdpbmV9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBwb3NpdGlvbiBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uSXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHZlbG9jaXR5SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBjb25zdHJhaW50IGl0ZXJhdGlvbnMgdG8gcGVyZm9ybSBlYWNoIHVwZGF0ZS5cbiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIGhpZ2hlciBxdWFsaXR5IHRoZSBzaW11bGF0aW9uIHdpbGwgYmUgYXQgdGhlIGV4cGVuc2Ugb2YgcGVyZm9ybWFuY2UuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDJgIGlzIHVzdWFsbHkgdmVyeSBhZGVxdWF0ZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBlbmdpbmUgc2hvdWxkIGFsbG93IHNsZWVwaW5nIHZpYSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlLlxuICAgICAqIFNsZWVwaW5nIGNhbiBpbXByb3ZlIHN0YWJpbGl0eSBhbmQgcGVyZm9ybWFuY2UsIGJ1dCBvZnRlbiBhdCB0aGUgZXhwZW5zZSBvZiBhY2N1cmFjeS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVTbGVlcGluZ1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgY29udGFpbmluZyBwcm9wZXJ0aWVzIHJlZ2FyZGluZyB0aGUgdGltaW5nIHN5c3RlbXMgb2YgdGhlIGVuZ2luZS4gXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBnbG9iYWwgc2NhbGluZyBmYWN0b3Igb2YgdGltZSBmb3IgYWxsIGJvZGllcy5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBmcmVlemVzIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgZ2l2ZXMgYSBzbG93LW1vdGlvbiBlZmZlY3QuXG4gICAgICogQSB2YWx1ZSBvZiBgMS4yYCBnaXZlcyBhIHNwZWVkLXVwIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZVNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgY3VycmVudCBzaW11bGF0aW9uLXRpbWUgaW4gbWlsbGlzZWNvbmRzIHN0YXJ0aW5nIGZyb20gYDBgLiBcbiAgICAgKiBJdCBpcyBpbmNyZW1lbnRlZCBvbiBldmVyeSBgRW5naW5lLnVwZGF0ZWAgYnkgdGhlIGdpdmVuIGBkZWx0YWAgYXJndW1lbnQuIFxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZXN0YW1wXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHJlcHJlc2VudHMgdGhlIHRvdGFsIGV4ZWN1dGlvbiB0aW1lIGVsYXBzZWQgZHVyaW5nIHRoZSBsYXN0IGBFbmdpbmUudXBkYXRlYCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogSXQgaXMgdXBkYXRlZCBieSB0aW1pbmcgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGxhc3QgYEVuZ2luZS51cGRhdGVgIGNhbGwgdW50aWwgaXQgZW5kcy5cbiAgICAgKlxuICAgICAqIFRoaXMgdmFsdWUgd2lsbCBhbHNvIGluY2x1ZGUgdGhlIHRvdGFsIGV4ZWN1dGlvbiB0aW1lIG9mIGFsbCBldmVudCBoYW5kbGVycyBkaXJlY3RseSBvciBpbmRpcmVjdGx5IHRyaWdnZXJlZCBieSB0aGUgZW5naW5lIHVwZGF0ZS5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nLmxhc3RFbGFwc2VkXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHJlcHJlc2VudHMgdGhlIGBkZWx0YWAgdmFsdWUgdXNlZCBpbiB0aGUgbGFzdCBlbmdpbmUgdXBkYXRlLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcubGFzdERlbHRhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTWF0dGVyLkRldGVjdG9yYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkZXRlY3RvclxuICAgICAqIEB0eXBlIGRldGVjdG9yXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuRGV0ZWN0b3IgaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE1hdHRlci5HcmlkYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBlbmdpbmUuZGV0ZWN0b3JgXG4gICAgICogQHByb3BlcnR5IGdyaWRcbiAgICAgKiBAdHlwZSBncmlkXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuR3JpZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZWQgYnkgYW5kIG5vdyBhbGlhcyBmb3IgYGVuZ2luZS5ncmlkYC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBlbmdpbmUuZGV0ZWN0b3JgXG4gICAgICogQHByb3BlcnR5IGJyb2FkcGhhc2VcbiAgICAgKiBAdHlwZSBncmlkXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuR3JpZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvb3QgYE1hdHRlci5Db21wb3NpdGVgIGluc3RhbmNlIHRoYXQgd2lsbCBjb250YWluIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBvdGhlciBjb21wb3NpdGVzIHRvIGJlIHNpbXVsYXRlZCBieSB0aGlzIGVuZ2luZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB3b3JsZFxuICAgICAqIEB0eXBlIGNvbXBvc2l0ZVxuICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkNvbXBvc2l0ZSBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlc2VydmVkIGZvciBzdG9yaW5nIHBsdWdpbi1zcGVjaWZpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBsdWdpblxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBncmF2aXRhdGlvbmFsIGFjY2VsZXJhdGlvbiBhcHBsaWVkIHRvIGFsbCBib2RpZXMgaW4gYGVuZ2luZS53b3JsZGAgb24gZXZlcnkgdXBkYXRlLlxuICAgICAqIFxuICAgICAqIFRoaXMgbW9kZWxzIGEgW3VuaWZvcm0gZ3Jhdml0YXRpb25hbCBmaWVsZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3Jhdml0eV9vZl9FYXJ0aCksIHNpbWlsYXIgdG8gbmVhciB0aGUgc3VyZmFjZSBvZiBhIHBsYW5ldC4gRm9yIGdyYXZpdHkgaW4gb3RoZXIgY29udGV4dHMsIGRpc2FibGUgdGhpcyBhbmQgYXBwbHkgZm9yY2VzIGFzIG5lZWRlZC5cbiAgICAgKiBcbiAgICAgKiBUbyBkaXNhYmxlIHNldCB0aGUgYHNjYWxlYCBjb21wb25lbnQgdG8gYDBgLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgc3BsaXQgaW50byB0aHJlZSBjb21wb25lbnRzIGZvciBlYXNlIG9mIHVzZTogIFxuICAgICAqIGEgbm9ybWFsaXNlZCBkaXJlY3Rpb24gKGB4YCBhbmQgYHlgKSBhbmQgbWFnbml0dWRlIChgc2NhbGVgKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5XG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ3Jhdml0YXRpb25hbCBkaXJlY3Rpb24gbm9ybWFsIGB4YCBjb21wb25lbnQsIHRvIGJlIG11bHRpcGxpZWQgYnkgYGdyYXZpdHkuc2NhbGVgLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnhcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ3Jhdml0YXRpb25hbCBkaXJlY3Rpb24gbm9ybWFsIGB5YCBjb21wb25lbnQsIHRvIGJlIG11bHRpcGxpZWQgYnkgYGdyYXZpdHkuc2NhbGVgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGdyYXZpdHkueVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYWduaXR1ZGUgb2YgdGhlIGdyYXZpdGF0aW9uYWwgYWNjZWxlcmF0aW9uLlxuICAgICAqIFxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnNjYWxlXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMC4wMDFcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5SZXNvbHZlcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHJlc29sdmluZyBjb2xsaXNpb24gcGFpcnMuXG4qXG4qIEBjbGFzcyBSZXNvbHZlclxuKi9cblxudmFyIFJlc29sdmVyID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb2x2ZXI7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBCb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBSZXNvbHZlci5fcmVzdGluZ1RocmVzaCA9IDI7XG4gICAgUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2hUYW5nZW50ID0gTWF0aC5zcXJ0KDYpO1xuICAgIFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiA9IDAuOTtcbiAgICBSZXNvbHZlci5fcG9zaXRpb25XYXJtaW5nID0gMC44O1xuICAgIFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIgPSA1O1xuICAgIFJlc29sdmVyLl9mcmljdGlvbk1heFN0YXRpYyA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHBhaXJzIGZvciBwb3NpdGlvbiBzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcHJlU29sdmVQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByZVNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBhY3RpdmVDb3VudCxcbiAgICAgICAgICAgIHBhaXJzTGVuZ3RoID0gcGFpcnMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGZpbmQgdG90YWwgY29udGFjdHMgb24gZWFjaCBib2R5XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYWN0aXZlQ291bnQgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aDtcbiAgICAgICAgICAgIHBhaXIuY29sbGlzaW9uLnBhcmVudEEudG90YWxDb250YWN0cyArPSBhY3RpdmVDb3VudDtcbiAgICAgICAgICAgIHBhaXIuY29sbGlzaW9uLnBhcmVudEIudG90YWxDb250YWN0cyArPSBhY3RpdmVDb3VudDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc29sdXRpb24gZm9yIHBhaXIgcG9zaXRpb25zLlxuICAgICAqIEBtZXRob2Qgc29sdmVQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGFtcGluZz0xXVxuICAgICAqL1xuICAgIFJlc29sdmVyLnNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycywgZGVsdGEsIGRhbXBpbmcpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICBib2R5QixcbiAgICAgICAgICAgIG5vcm1hbCxcbiAgICAgICAgICAgIGNvbnRhY3RTaGFyZSxcbiAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSxcbiAgICAgICAgICAgIHBvc2l0aW9uRGFtcGVuID0gUmVzb2x2ZXIuX3Bvc2l0aW9uRGFtcGVuICogKGRhbXBpbmcgfHwgMSksXG4gICAgICAgICAgICBzbG9wRGFtcGVuID0gQ29tbW9uLmNsYW1wKGRlbHRhIC8gQ29tbW9uLl9iYXNlRGVsdGEsIDAsIDEpLFxuICAgICAgICAgICAgcGFpcnNMZW5ndGggPSBwYWlycy5sZW5ndGg7XG5cbiAgICAgICAgLy8gZmluZCBpbXB1bHNlcyByZXF1aXJlZCB0byByZXNvbHZlIHBlbmV0cmF0aW9uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSB8fCBwYWlyLmlzU2Vuc29yKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjtcbiAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLnBhcmVudEE7XG4gICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5wYXJlbnRCO1xuICAgICAgICAgICAgbm9ybWFsID0gY29sbGlzaW9uLm5vcm1hbDtcblxuICAgICAgICAgICAgLy8gZ2V0IGN1cnJlbnQgc2VwYXJhdGlvbiBiZXR3ZWVuIGJvZHkgZWRnZXMgaW52b2x2ZWQgaW4gY29sbGlzaW9uXG4gICAgICAgICAgICBwYWlyLnNlcGFyYXRpb24gPSBcbiAgICAgICAgICAgICAgICBub3JtYWwueCAqIChib2R5Qi5wb3NpdGlvbkltcHVsc2UueCArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54IC0gYm9keUEucG9zaXRpb25JbXB1bHNlLngpXG4gICAgICAgICAgICAgICAgKyBub3JtYWwueSAqIChib2R5Qi5wb3NpdGlvbkltcHVsc2UueSArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55IC0gYm9keUEucG9zaXRpb25JbXB1bHNlLnkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UgPSBwYWlyLnNlcGFyYXRpb24gLSBwYWlyLnNsb3AgKiBzbG9wRGFtcGVuO1xuXG4gICAgICAgICAgICBpZiAoYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlICo9IDI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdFNoYXJlID0gcG9zaXRpb25EYW1wZW4gLyBib2R5QS50b3RhbENvbnRhY3RzO1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS54ICs9IG5vcm1hbC54ICogcG9zaXRpb25JbXB1bHNlICogY29udGFjdFNoYXJlO1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uSW1wdWxzZS55ICs9IG5vcm1hbC55ICogcG9zaXRpb25JbXB1bHNlICogY29udGFjdFNoYXJlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IHBvc2l0aW9uRGFtcGVuIC8gYm9keUIudG90YWxDb250YWN0cztcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueCAtPSBub3JtYWwueCAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueSAtPSBub3JtYWwueSAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBwb3NpdGlvbiByZXNvbHV0aW9uLlxuICAgICAqIEBtZXRob2QgcG9zdFNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgUmVzb2x2ZXIucG9zdFNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uV2FybWluZyA9IFJlc29sdmVyLl9wb3NpdGlvbldhcm1pbmcsXG4gICAgICAgICAgICBib2RpZXNMZW5ndGggPSBib2RpZXMubGVuZ3RoLFxuICAgICAgICAgICAgdmVydGljZXNUcmFuc2xhdGUgPSBWZXJ0aWNlcy50cmFuc2xhdGUsXG4gICAgICAgICAgICBib3VuZHNVcGRhdGUgPSBCb3VuZHMudXBkYXRlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSA9IGJvZHkucG9zaXRpb25JbXB1bHNlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZVggPSBwb3NpdGlvbkltcHVsc2UueCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2VZID0gcG9zaXRpb25JbXB1bHNlLnksXG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgPSBib2R5LnZlbG9jaXR5O1xuXG4gICAgICAgICAgICAvLyByZXNldCBjb250YWN0IGNvdW50XG4gICAgICAgICAgICBib2R5LnRvdGFsQ29udGFjdHMgPSAwO1xuXG4gICAgICAgICAgICBpZiAocG9zaXRpb25JbXB1bHNlWCAhPT0gMCB8fCBwb3NpdGlvbkltcHVsc2VZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1RyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBwb3NpdGlvbkltcHVsc2UpO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHNVcGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIHZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IHBvc2l0aW9uSW1wdWxzZVg7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBwb3NpdGlvbkltcHVsc2VZO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGJvZHkgd2l0aG91dCBjaGFuZ2luZyB2ZWxvY2l0eVxuICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gcG9zaXRpb25JbXB1bHNlWDtcbiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IHBvc2l0aW9uSW1wdWxzZVk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25JbXB1bHNlWCAqIHZlbG9jaXR5LnggKyBwb3NpdGlvbkltcHVsc2VZICogdmVsb2NpdHkueSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgY2FjaGVkIGltcHVsc2UgaWYgdGhlIGJvZHkgaGFzIHZlbG9jaXR5IGFsb25nIGl0XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlLnkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhcm0gdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZS54ICo9IHBvc2l0aW9uV2FybWluZztcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlLnkgKj0gcG9zaXRpb25XYXJtaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHBhaXJzIGZvciB2ZWxvY2l0eSBzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcHJlU29sdmVWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByZVNvbHZlVmVsb2NpdHkgPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICB2YXIgcGFpcnNMZW5ndGggPSBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcbiAgICAgICAgXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbnRhY3RzID0gcGFpci5hY3RpdmVDb250YWN0cyxcbiAgICAgICAgICAgICAgICBjb250YWN0c0xlbmd0aCA9IGNvbnRhY3RzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbixcbiAgICAgICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBLFxuICAgICAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLnBhcmVudEIsXG4gICAgICAgICAgICAgICAgbm9ybWFsID0gY29sbGlzaW9uLm5vcm1hbCxcbiAgICAgICAgICAgICAgICB0YW5nZW50ID0gY29sbGlzaW9uLnRhbmdlbnQ7XG4gICAgXG4gICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbnRhY3RzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IGNvbnRhY3RzW2pdLFxuICAgICAgICAgICAgICAgICAgICBjb250YWN0VmVydGV4ID0gY29udGFjdC52ZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsSW1wdWxzZSAhPT0gMCB8fCB0YW5nZW50SW1wdWxzZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3RhbCBpbXB1bHNlIGZyb20gY29udGFjdFxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1wdWxzZVggPSBub3JtYWwueCAqIG5vcm1hbEltcHVsc2UgKyB0YW5nZW50LnggKiB0YW5nZW50SW1wdWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcHVsc2VZID0gbm9ybWFsLnkgKiBub3JtYWxJbXB1bHNlICsgdGFuZ2VudC55ICogdGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpbXB1bHNlIGZyb20gY29udGFjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnggKz0gaW1wdWxzZVggKiBib2R5QS5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi55ICs9IGltcHVsc2VZICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QS5hbmdsZVByZXYgKz0gYm9keUEuaW52ZXJzZUluZXJ0aWEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhY3RWZXJ0ZXgueCAtIGJvZHlBLnBvc2l0aW9uLngpICogaW1wdWxzZVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIChjb250YWN0VmVydGV4LnkgLSBib2R5QS5wb3NpdGlvbi55KSAqIGltcHVsc2VYXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGJvZHlCLmlzU3RhdGljIHx8IGJvZHlCLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueCAtPSBpbXB1bHNlWCAqIGJvZHlCLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnkgLT0gaW1wdWxzZVkgKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlCLmFuZ2xlUHJldiAtPSBib2R5Qi5pbnZlcnNlSW5lcnRpYSAqIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29udGFjdFZlcnRleC54IC0gYm9keUIucG9zaXRpb24ueCkgKiBpbXB1bHNlWSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIChjb250YWN0VmVydGV4LnkgLSBib2R5Qi5wb3NpdGlvbi55KSAqIGltcHVsc2VYXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBzb2x1dGlvbiBmb3IgcGFpciB2ZWxvY2l0aWVzLlxuICAgICAqIEBtZXRob2Qgc29sdmVWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICAgICAqL1xuICAgIFJlc29sdmVyLnNvbHZlVmVsb2NpdHkgPSBmdW5jdGlvbihwYWlycywgZGVsdGEpIHtcbiAgICAgICAgdmFyIHRpbWVTY2FsZSA9IGRlbHRhIC8gQ29tbW9uLl9iYXNlRGVsdGEsXG4gICAgICAgICAgICB0aW1lU2NhbGVTcXVhcmVkID0gdGltZVNjYWxlICogdGltZVNjYWxlLFxuICAgICAgICAgICAgdGltZVNjYWxlQ3ViZWQgPSB0aW1lU2NhbGVTcXVhcmVkICogdGltZVNjYWxlLFxuICAgICAgICAgICAgcmVzdGluZ1RocmVzaCA9IC1SZXNvbHZlci5fcmVzdGluZ1RocmVzaCAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHJlc3RpbmdUaHJlc2hUYW5nZW50ID0gUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2hUYW5nZW50LFxuICAgICAgICAgICAgZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyID0gUmVzb2x2ZXIuX2ZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciAqIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIGZyaWN0aW9uTWF4U3RhdGljID0gUmVzb2x2ZXIuX2ZyaWN0aW9uTWF4U3RhdGljLFxuICAgICAgICAgICAgcGFpcnNMZW5ndGggPSBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgICB0YW5nZW50SW1wdWxzZSxcbiAgICAgICAgICAgIG1heEZyaWN0aW9uLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSB8fCBwYWlyLmlzU2Vuc29yKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24ucGFyZW50QSxcbiAgICAgICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5wYXJlbnRCLFxuICAgICAgICAgICAgICAgIGJvZHlBVmVsb2NpdHkgPSBib2R5QS52ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBib2R5QlZlbG9jaXR5ID0gYm9keUIudmVsb2NpdHksXG4gICAgICAgICAgICAgICAgbm9ybWFsWCA9IGNvbGxpc2lvbi5ub3JtYWwueCxcbiAgICAgICAgICAgICAgICBub3JtYWxZID0gY29sbGlzaW9uLm5vcm1hbC55LFxuICAgICAgICAgICAgICAgIHRhbmdlbnRYID0gY29sbGlzaW9uLnRhbmdlbnQueCxcbiAgICAgICAgICAgICAgICB0YW5nZW50WSA9IGNvbGxpc2lvbi50YW5nZW50LnksXG4gICAgICAgICAgICAgICAgY29udGFjdHMgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RzTGVuZ3RoID0gY29udGFjdHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IDEgLyBjb250YWN0c0xlbmd0aCxcbiAgICAgICAgICAgICAgICBpbnZlcnNlTWFzc1RvdGFsID0gYm9keUEuaW52ZXJzZU1hc3MgKyBib2R5Qi5pbnZlcnNlTWFzcyxcbiAgICAgICAgICAgICAgICBmcmljdGlvbiA9IHBhaXIuZnJpY3Rpb24gKiBwYWlyLmZyaWN0aW9uU3RhdGljICogZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgYm9keSB2ZWxvY2l0aWVzXG4gICAgICAgICAgICBib2R5QVZlbG9jaXR5LnggPSBib2R5QS5wb3NpdGlvbi54IC0gYm9keUEucG9zaXRpb25QcmV2Lng7XG4gICAgICAgICAgICBib2R5QVZlbG9jaXR5LnkgPSBib2R5QS5wb3NpdGlvbi55IC0gYm9keUEucG9zaXRpb25QcmV2Lnk7XG4gICAgICAgICAgICBib2R5QlZlbG9jaXR5LnggPSBib2R5Qi5wb3NpdGlvbi54IC0gYm9keUIucG9zaXRpb25QcmV2Lng7XG4gICAgICAgICAgICBib2R5QlZlbG9jaXR5LnkgPSBib2R5Qi5wb3NpdGlvbi55IC0gYm9keUIucG9zaXRpb25QcmV2Lnk7XG4gICAgICAgICAgICBib2R5QS5hbmd1bGFyVmVsb2NpdHkgPSBib2R5QS5hbmdsZSAtIGJvZHlBLmFuZ2xlUHJldjtcbiAgICAgICAgICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSA9IGJvZHlCLmFuZ2xlIC0gYm9keUIuYW5nbGVQcmV2O1xuXG4gICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbnRhY3RzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IGNvbnRhY3RzW2pdLFxuICAgICAgICAgICAgICAgICAgICBjb250YWN0VmVydGV4ID0gY29udGFjdC52ZXJ0ZXg7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0QVggPSBjb250YWN0VmVydGV4LnggLSBib2R5QS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRBWSA9IGNvbnRhY3RWZXJ0ZXgueSAtIGJvZHlBLnBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldEJYID0gY29udGFjdFZlcnRleC54IC0gYm9keUIucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0QlkgPSBjb250YWN0VmVydGV4LnkgLSBib2R5Qi5wb3NpdGlvbi55O1xuIFxuICAgICAgICAgICAgICAgIHZhciB2ZWxvY2l0eVBvaW50QVggPSBib2R5QVZlbG9jaXR5LnggLSBvZmZzZXRBWSAqIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHlQb2ludEFZID0gYm9keUFWZWxvY2l0eS55ICsgb2Zmc2V0QVggKiBib2R5QS5hbmd1bGFyVmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5UG9pbnRCWCA9IGJvZHlCVmVsb2NpdHkueCAtIG9mZnNldEJZICogYm9keUIuYW5ndWxhclZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eVBvaW50QlkgPSBib2R5QlZlbG9jaXR5LnkgKyBvZmZzZXRCWCAqIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eTtcblxuICAgICAgICAgICAgICAgIHZhciByZWxhdGl2ZVZlbG9jaXR5WCA9IHZlbG9jaXR5UG9pbnRBWCAtIHZlbG9jaXR5UG9pbnRCWCxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVWZWxvY2l0eVkgPSB2ZWxvY2l0eVBvaW50QVkgLSB2ZWxvY2l0eVBvaW50Qlk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsVmVsb2NpdHkgPSBub3JtYWxYICogcmVsYXRpdmVWZWxvY2l0eVggKyBub3JtYWxZICogcmVsYXRpdmVWZWxvY2l0eVksXG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnRWZWxvY2l0eSA9IHRhbmdlbnRYICogcmVsYXRpdmVWZWxvY2l0eVggKyB0YW5nZW50WSAqIHJlbGF0aXZlVmVsb2NpdHlZO1xuXG4gICAgICAgICAgICAgICAgLy8gY291bG9tYiBmcmljdGlvblxuICAgICAgICAgICAgICAgIHZhciBub3JtYWxPdmVybGFwID0gcGFpci5zZXBhcmF0aW9uICsgbm9ybWFsVmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbEZvcmNlID0gTWF0aC5taW4obm9ybWFsT3ZlcmxhcCwgMSk7XG4gICAgICAgICAgICAgICAgbm9ybWFsRm9yY2UgPSBub3JtYWxPdmVybGFwIDwgMCA/IDAgOiBub3JtYWxGb3JjZTtcblxuICAgICAgICAgICAgICAgIHZhciBmcmljdGlvbkxpbWl0ID0gbm9ybWFsRm9yY2UgKiBmcmljdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICh0YW5nZW50VmVsb2NpdHkgPCAtZnJpY3Rpb25MaW1pdCB8fCB0YW5nZW50VmVsb2NpdHkgPiBmcmljdGlvbkxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEZyaWN0aW9uID0gKHRhbmdlbnRWZWxvY2l0eSA+IDAgPyB0YW5nZW50VmVsb2NpdHkgOiAtdGFuZ2VudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSBwYWlyLmZyaWN0aW9uICogKHRhbmdlbnRWZWxvY2l0eSA+IDAgPyAxIDogLTEpICogdGltZVNjYWxlQ3ViZWQ7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodGFuZ2VudEltcHVsc2UgPCAtbWF4RnJpY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gLW1heEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhbmdlbnRJbXB1bHNlID4gbWF4RnJpY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gbWF4RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IHRhbmdlbnRWZWxvY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgbWF4RnJpY3Rpb24gPSBmcmljdGlvbk1heFN0YXRpYztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhY2NvdW50IGZvciBtYXNzLCBpbmVydGlhIGFuZCBjb250YWN0IG9mZnNldFxuICAgICAgICAgICAgICAgIHZhciBvQWNOID0gb2Zmc2V0QVggKiBub3JtYWxZIC0gb2Zmc2V0QVkgKiBub3JtYWxYLFxuICAgICAgICAgICAgICAgICAgICBvQmNOID0gb2Zmc2V0QlggKiBub3JtYWxZIC0gb2Zmc2V0QlkgKiBub3JtYWxYLFxuICAgICAgICAgICAgICAgICAgICBzaGFyZSA9IGNvbnRhY3RTaGFyZSAvIChpbnZlcnNlTWFzc1RvdGFsICsgYm9keUEuaW52ZXJzZUluZXJ0aWEgKiBvQWNOICogb0FjTiArIGJvZHlCLmludmVyc2VJbmVydGlhICogb0JjTiAqIG9CY04pO1xuXG4gICAgICAgICAgICAgICAgLy8gcmF3IGltcHVsc2VzXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbEltcHVsc2UgPSAoMSArIHBhaXIucmVzdGl0dXRpb24pICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSAqPSBzaGFyZTtcblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBoaWdoIHZlbG9jaXR5IGFuZCByZXN0aW5nIGNvbGxpc2lvbnMgc2VwYXJhdGVseVxuICAgICAgICAgICAgICAgIGlmIChub3JtYWxWZWxvY2l0eSA8IHJlc3RpbmdUaHJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaCBub3JtYWwgdmVsb2NpdHkgc28gY2xlYXIgY2FjaGVkIGNvbnRhY3Qgbm9ybWFsIGltcHVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC5ub3JtYWxJbXB1bHNlID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzb2x2ZSByZXN0aW5nIGNvbGxpc2lvbiBjb25zdHJhaW50cyB1c2luZyBFcmluIENhdHRvJ3MgbWV0aG9kIChHREMwOClcbiAgICAgICAgICAgICAgICAgICAgLy8gaW1wdWxzZSBjb25zdHJhaW50IHRlbmRzIHRvIDBcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhY3ROb3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlO1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0Lm5vcm1hbEltcHVsc2UgKz0gbm9ybWFsSW1wdWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3Qubm9ybWFsSW1wdWxzZSA+IDApIGNvbnRhY3Qubm9ybWFsSW1wdWxzZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2UgLSBjb250YWN0Tm9ybWFsSW1wdWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgaGlnaCB2ZWxvY2l0eSBhbmQgcmVzdGluZyBjb2xsaXNpb25zIHNlcGFyYXRlbHlcbiAgICAgICAgICAgICAgICBpZiAodGFuZ2VudFZlbG9jaXR5IDwgLXJlc3RpbmdUaHJlc2hUYW5nZW50IHx8IHRhbmdlbnRWZWxvY2l0eSA+IHJlc3RpbmdUaHJlc2hUYW5nZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZ2ggdGFuZ2VudCB2ZWxvY2l0eSBzbyBjbGVhciBjYWNoZWQgY29udGFjdCB0YW5nZW50IGltcHVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC50YW5nZW50SW1wdWxzZSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc29sdmUgcmVzdGluZyBjb2xsaXNpb24gY29uc3RyYWludHMgdXNpbmcgRXJpbiBDYXR0bydzIG1ldGhvZCAoR0RDMDgpXG4gICAgICAgICAgICAgICAgICAgIC8vIHRhbmdlbnQgaW1wdWxzZSB0ZW5kcyB0byAtdGFuZ2VudFNwZWVkIG9yICt0YW5nZW50U3BlZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhY3RUYW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QudGFuZ2VudEltcHVsc2UgKz0gdGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LnRhbmdlbnRJbXB1bHNlIDwgLW1heEZyaWN0aW9uKSBjb250YWN0LnRhbmdlbnRJbXB1bHNlID0gLW1heEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdC50YW5nZW50SW1wdWxzZSA+IG1heEZyaWN0aW9uKSBjb250YWN0LnRhbmdlbnRJbXB1bHNlID0gbWF4RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZSAtIGNvbnRhY3RUYW5nZW50SW1wdWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB0b3RhbCBpbXB1bHNlIGZyb20gY29udGFjdFxuICAgICAgICAgICAgICAgIHZhciBpbXB1bHNlWCA9IG5vcm1hbFggKiBub3JtYWxJbXB1bHNlICsgdGFuZ2VudFggKiB0YW5nZW50SW1wdWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW1wdWxzZVkgPSBub3JtYWxZICogbm9ybWFsSW1wdWxzZSArIHRhbmdlbnRZICogdGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gYXBwbHkgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueCArPSBpbXB1bHNlWCAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSArPSBpbXB1bHNlWSAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5QS5hbmdsZVByZXYgKz0gKG9mZnNldEFYICogaW1wdWxzZVkgLSBvZmZzZXRBWSAqIGltcHVsc2VYKSAqIGJvZHlBLmludmVyc2VJbmVydGlhO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKGJvZHlCLmlzU3RhdGljIHx8IGJvZHlCLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi54IC09IGltcHVsc2VYICogYm9keUIuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2VZICogYm9keUIuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCLmFuZ2xlUHJldiAtPSAob2Zmc2V0QlggKiBpbXB1bHNlWSAtIG9mZnNldEJZICogaW1wdWxzZVgpICogYm9keUIuaW52ZXJzZUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5QYWlyc2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXIgc2V0cy5cbipcbiogQGNsYXNzIFBhaXJzXG4qL1xuXG52YXIgUGFpcnMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWlycztcblxudmFyIFBhaXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcGFpcnMgc3RydWN0dXJlLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtwYWlyc30gQSBuZXcgcGFpcnMgc3RydWN0dXJlXG4gICAgICovXG4gICAgUGFpcnMuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZCh7IFxuICAgICAgICAgICAgdGFibGU6IHt9LFxuICAgICAgICAgICAgbGlzdDogW10sXG4gICAgICAgICAgICBjb2xsaXNpb25TdGFydDogW10sXG4gICAgICAgICAgICBjb2xsaXNpb25BY3RpdmU6IFtdLFxuICAgICAgICAgICAgY29sbGlzaW9uRW5kOiBbXVxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBwYWlycyBnaXZlbiBhIGxpc3Qgb2YgY29sbGlzaW9ucy5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYWlyc1xuICAgICAqIEBwYXJhbSB7Y29sbGlzaW9uW119IGNvbGxpc2lvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG4gICAgUGFpcnMudXBkYXRlID0gZnVuY3Rpb24ocGFpcnMsIGNvbGxpc2lvbnMsIHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgcGFpcnNMaXN0ID0gcGFpcnMubGlzdCxcbiAgICAgICAgICAgIHBhaXJzTGlzdExlbmd0aCA9IHBhaXJzTGlzdC5sZW5ndGgsXG4gICAgICAgICAgICBwYWlyc1RhYmxlID0gcGFpcnMudGFibGUsXG4gICAgICAgICAgICBjb2xsaXNpb25zTGVuZ3RoID0gY29sbGlzaW9ucy5sZW5ndGgsXG4gICAgICAgICAgICBjb2xsaXNpb25TdGFydCA9IHBhaXJzLmNvbGxpc2lvblN0YXJ0LFxuICAgICAgICAgICAgY29sbGlzaW9uRW5kID0gcGFpcnMuY29sbGlzaW9uRW5kLFxuICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlID0gcGFpcnMuY29sbGlzaW9uQWN0aXZlLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgcGFpckluZGV4LFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gY2xlYXIgY29sbGlzaW9uIHN0YXRlIGFycmF5cywgYnV0IG1haW50YWluIG9sZCByZWZlcmVuY2VcbiAgICAgICAgY29sbGlzaW9uU3RhcnQubGVuZ3RoID0gMDtcbiAgICAgICAgY29sbGlzaW9uRW5kLmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlyc0xpc3RMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpcnNMaXN0W2ldLmNvbmZpcm1lZEFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbGxpc2lvbnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29sbGlzaW9uID0gY29sbGlzaW9uc1tpXTtcbiAgICAgICAgICAgIHBhaXIgPSBjb2xsaXNpb24ucGFpcjtcblxuICAgICAgICAgICAgaWYgKHBhaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBwYWlyIGFscmVhZHkgZXhpc3RzIChidXQgbWF5IG9yIG1heSBub3QgYmUgYWN0aXZlKVxuICAgICAgICAgICAgICAgIGlmIChwYWlyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhaXIgZXhpc3RzIGFuZCBpcyBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlLnB1c2gocGFpcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFpciBleGlzdHMgYnV0IHdhcyBpbmFjdGl2ZSwgc28gYSBjb2xsaXNpb24gaGFzIGp1c3Qgc3RhcnRlZCBhZ2FpblxuICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TdGFydC5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgcGFpclxuICAgICAgICAgICAgICAgIFBhaXIudXBkYXRlKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICBwYWlyLmNvbmZpcm1lZEFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHBhaXIgZGlkIG5vdCBleGlzdCwgY3JlYXRlIGEgbmV3IHBhaXJcbiAgICAgICAgICAgICAgICBwYWlyID0gUGFpci5jcmVhdGUoY29sbGlzaW9uLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIHBhaXJzVGFibGVbcGFpci5pZF0gPSBwYWlyO1xuXG4gICAgICAgICAgICAgICAgLy8gcHVzaCB0aGUgbmV3IHBhaXJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TdGFydC5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgICAgIHBhaXJzTGlzdC5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluZCBwYWlycyB0aGF0IGFyZSBubyBsb25nZXIgYWN0aXZlXG4gICAgICAgIHZhciByZW1vdmVQYWlySW5kZXggPSBbXTtcbiAgICAgICAgcGFpcnNMaXN0TGVuZ3RoID0gcGFpcnNMaXN0Lmxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnNMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc0xpc3RbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcGFpci5jb25maXJtZWRBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBQYWlyLnNldEFjdGl2ZShwYWlyLCBmYWxzZSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25FbmQucHVzaChwYWlyKTtcblxuICAgICAgICAgICAgICAgIGlmICghcGFpci5jb2xsaXNpb24uYm9keUEuaXNTbGVlcGluZyAmJiAhcGFpci5jb2xsaXNpb24uYm9keUIuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVQYWlySW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgaW5hY3RpdmUgcGFpcnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlbW92ZVBhaXJJbmRleC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpckluZGV4ID0gcmVtb3ZlUGFpckluZGV4W2ldIC0gaTtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc0xpc3RbcGFpckluZGV4XTtcbiAgICAgICAgICAgIHBhaXJzTGlzdC5zcGxpY2UocGFpckluZGV4LCAxKTtcbiAgICAgICAgICAgIGRlbGV0ZSBwYWlyc1RhYmxlW3BhaXIuaWRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ2l2ZW4gcGFpcnMgc3RydWN0dXJlLlxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge3BhaXJzfSBwYWlyc1xuICAgICAqIEByZXR1cm4ge3BhaXJzfSBwYWlyc1xuICAgICAqL1xuICAgIFBhaXJzLmNsZWFyID0gZnVuY3Rpb24ocGFpcnMpIHtcbiAgICAgICAgcGFpcnMudGFibGUgPSB7fTtcbiAgICAgICAgcGFpcnMubGlzdC5sZW5ndGggPSAwO1xuICAgICAgICBwYWlycy5jb2xsaXNpb25TdGFydC5sZW5ndGggPSAwO1xuICAgICAgICBwYWlycy5jb2xsaXNpb25BY3RpdmUubGVuZ3RoID0gMDtcbiAgICAgICAgcGFpcnMuY29sbGlzaW9uRW5kLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiBwYWlycztcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIE1hdHRlciA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XHJcblxyXG5NYXR0ZXIuQXhlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xyXG5NYXR0ZXIuQm9kaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XHJcbk1hdHRlci5Cb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuTWF0dGVyLkJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbk1hdHRlci5Db2xsaXNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG5NYXR0ZXIuQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuTWF0dGVyLkNvbXBvc2l0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbk1hdHRlci5Db21wb3NpdGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XHJcbk1hdHRlci5Db25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbk1hdHRlci5Db250YWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XHJcbk1hdHRlci5EZXRlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xyXG5NYXR0ZXIuRW5naW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XHJcbk1hdHRlci5FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5NYXR0ZXIuR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xyXG5NYXR0ZXIuTW91c2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxuTWF0dGVyLk1vdXNlQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xyXG5NYXR0ZXIuUGFpciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbk1hdHRlci5QYWlycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xyXG5NYXR0ZXIuUGx1Z2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XHJcbk1hdHRlci5RdWVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xyXG5NYXR0ZXIuUmVuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XHJcbk1hdHRlci5SZXNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xyXG5NYXR0ZXIuUnVubmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XHJcbk1hdHRlci5TQVQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcclxuTWF0dGVyLlNsZWVwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuTWF0dGVyLlN2ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xyXG5NYXR0ZXIuVmVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuTWF0dGVyLlZlcnRpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuTWF0dGVyLldvcmxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XHJcblxyXG4vLyB0ZW1wb3JhcnkgYmFjayBjb21wYXRpYmlsaXR5XHJcbk1hdHRlci5FbmdpbmUucnVuID0gTWF0dGVyLlJ1bm5lci5ydW47XHJcbk1hdHRlci5Db21tb24uZGVwcmVjYXRlZChNYXR0ZXIuRW5naW5lLCAncnVuJywgJ0VuZ2luZS5ydW4g4p6kIHVzZSBNYXR0ZXIuUnVubmVyLnJ1bihlbmdpbmUpIGluc3RlYWQnKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXHJcbiogVGhlIGBNYXR0ZXJgIG1vZHVsZSBpcyB0aGUgdG9wIGxldmVsIG5hbWVzcGFjZS4gSXQgYWxzbyBpbmNsdWRlcyBhIGZ1bmN0aW9uIGZvciBpbnN0YWxsaW5nIHBsdWdpbnMgb24gdG9wIG9mIHRoZSBsaWJyYXJ5LlxyXG4qXHJcbiogQGNsYXNzIE1hdHRlclxyXG4qL1xyXG5cclxudmFyIE1hdHRlciA9IHt9O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNYXR0ZXI7XHJcblxyXG52YXIgUGx1Z2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XHJcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGxpYnJhcnkgbmFtZS5cclxuICAgICAqIEBwcm9wZXJ0eSBuYW1lXHJcbiAgICAgKiBAcmVhZE9ubHlcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE1hdHRlci5uYW1lID0gJ21hdHRlci1qcyc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbGlicmFyeSB2ZXJzaW9uLlxyXG4gICAgICogQHByb3BlcnR5IHZlcnNpb25cclxuICAgICAqIEByZWFkT25seVxyXG4gICAgICogQHR5cGUge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnZlcnNpb24gPSAgdHJ1ZSA/IFwiMC4xOS4wXCIgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGxpc3Qgb2YgcGx1Z2luIGRlcGVuZGVuY2llcyB0byBiZSBpbnN0YWxsZWQuIFRoZXNlIGFyZSBub3JtYWxseSBzZXQgYW5kIGluc3RhbGxlZCB0aHJvdWdoIGBNYXR0ZXIudXNlYC5cclxuICAgICAqIEFsdGVybmF0aXZlbHkgeW91IG1heSBzZXQgYE1hdHRlci51c2VzYCBtYW51YWxseSBhbmQgaW5zdGFsbCB0aGVtIGJ5IGNhbGxpbmcgYFBsdWdpbi51c2UoTWF0dGVyKWAuXHJcbiAgICAgKiBAcHJvcGVydHkgdXNlc1xyXG4gICAgICogQHR5cGUge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIudXNlcyA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBsdWdpbnMgdGhhdCBoYXZlIGJlZW4gaW5zdGFsbGVkIHRocm91Z2ggYE1hdHRlci5QbHVnaW4uaW5zdGFsbGAuIFJlYWQgb25seS5cclxuICAgICAqIEBwcm9wZXJ0eSB1c2VkXHJcbiAgICAgKiBAcmVhZE9ubHlcclxuICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgTWF0dGVyLnVzZWQgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbGxzIHRoZSBnaXZlbiBwbHVnaW5zIG9uIHRoZSBgTWF0dGVyYCBuYW1lc3BhY2UuXHJcbiAgICAgKiBUaGlzIGlzIGEgc2hvcnQtaGFuZCBmb3IgYFBsdWdpbi51c2VgLCBzZWUgaXQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gb25jZSBhdCB0aGUgc3RhcnQgb2YgeW91ciBjb2RlLCB3aXRoIGFsbCBvZiB0aGUgcGx1Z2lucyB5b3Ugd2lzaCB0byBpbnN0YWxsIGFzIGFyZ3VtZW50cy5cclxuICAgICAqIEF2b2lkIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZSB0aW1lcyB1bmxlc3MgeW91IGludGVuZCB0byBtYW51YWxseSBjb250cm9sIGluc3RhbGxhdGlvbiBvcmRlci5cclxuICAgICAqIEBtZXRob2QgdXNlXHJcbiAgICAgKiBAcGFyYW0gLi4ucGx1Z2luIHtGdW5jdGlvbn0gVGhlIHBsdWdpbihzKSB0byBpbnN0YWxsIG9uIGBiYXNlYCAobXVsdGktYXJndW1lbnQpLlxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIudXNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgUGx1Z2luLnVzZShNYXR0ZXIsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBiZWZvcmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBgcGF0aGAgcmVsYXRpdmUgdG8gYE1hdHRlcmAuXHJcbiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC5cclxuICAgICAqIEBtZXRob2QgYmVmb3JlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgTWF0dGVyYFxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hhaW4gYmVmb3JlIHRoZSBvcmlnaW5hbFxyXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsXHJcbiAgICAgKi9cclxuICAgIE1hdHRlci5iZWZvcmUgPSBmdW5jdGlvbihwYXRoLCBmdW5jKSB7XHJcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXk1hdHRlci4vLCAnJyk7XHJcbiAgICAgICAgcmV0dXJuIENvbW1vbi5jaGFpblBhdGhCZWZvcmUoTWF0dGVyLCBwYXRoLCBmdW5jKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYWZ0ZXIgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBgcGF0aGAgcmVsYXRpdmUgdG8gYE1hdHRlcmAuXHJcbiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC5cclxuICAgICAqIEBtZXRob2QgYWZ0ZXJcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBNYXR0ZXJgXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBhZnRlciB0aGUgb3JpZ2luYWxcclxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxyXG4gICAgICovXHJcbiAgICBNYXR0ZXIuYWZ0ZXIgPSBmdW5jdGlvbihwYXRoLCBmdW5jKSB7XHJcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXk1hdHRlci4vLCAnJyk7XHJcbiAgICAgICAgcmV0dXJuIENvbW1vbi5jaGFpblBhdGhBZnRlcihNYXR0ZXIsIHBhdGgsIGZ1bmMpO1xyXG4gICAgfTtcclxuXHJcbn0pKCk7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5Db21wb3NpdGVzYCBtb2R1bGUgY29udGFpbnMgZmFjdG9yeSBtZXRob2RzIGZvciBjcmVhdGluZyBjb21wb3NpdGUgYm9kaWVzXG4qIHdpdGggY29tbW9ubHkgdXNlZCBjb25maWd1cmF0aW9ucyAoc3VjaCBhcyBzdGFja3MgYW5kIGNoYWlucykuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBDb21wb3NpdGVzXG4qL1xuXG52YXIgQ29tcG9zaXRlcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvc2l0ZXM7XG5cbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIEJvZGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGRlcHJlY2F0ZWQgPSBDb21tb24uZGVwcmVjYXRlZDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIGJvZGllcyBjcmVhdGVkIGluIHRoZSBjYWxsYmFjayBpbiBhIGdyaWQgYXJyYW5nZW1lbnQuXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBib2R5J3MgYm91bmRzIHRvIHByZXZlbnQgb3ZlcmxhcHMuXG4gICAgICogQG1ldGhvZCBzdGFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uR2FwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd0dhcFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIGNyZWF0ZWQgaW4gdGhlIGNhbGxiYWNrXG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5zdGFjayA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdGFjayA9IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ1N0YWNrJyB9KSxcbiAgICAgICAgICAgIHggPSB4eCxcbiAgICAgICAgICAgIHkgPSB5eSxcbiAgICAgICAgICAgIGxhc3RCb2R5LFxuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY2FsbGJhY2soeCwgeSwgY29sdW1uLCByb3csIGxhc3RCb2R5LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHlIZWlnaHQgPSBib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keVdpZHRoID0gYm9keS5ib3VuZHMubWF4LnggLSBib2R5LmJvdW5kcy5taW4ueDsgXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlIZWlnaHQgPiBtYXhIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBib2R5SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgQm9keS50cmFuc2xhdGUoYm9keSwgeyB4OiBib2R5V2lkdGggKiAwLjUsIHk6IGJvZHlIZWlnaHQgKiAwLjUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IGJvZHkuYm91bmRzLm1heC54ICsgY29sdW1uR2FwO1xuXG4gICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KHN0YWNrLCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCb2R5ID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gY29sdW1uR2FwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgeSArPSBtYXhIZWlnaHQgKyByb3dHYXA7XG4gICAgICAgICAgICB4ID0geHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDaGFpbnMgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlIHRvZ2V0aGVyIHVzaW5nIGNvbnN0cmFpbnRzLlxuICAgICAqIEBtZXRob2QgY2hhaW5cbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhPZmZzZXRBXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlPZmZzZXRBXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhPZmZzZXRCXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlPZmZzZXRCXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgY2hhaW5lZCB0b2dldGhlciB3aXRoIGNvbnN0cmFpbnRzXG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5jaGFpbiA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgeE9mZnNldEEsIHlPZmZzZXRBLCB4T2Zmc2V0QiwgeU9mZnNldEIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXM7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBib2R5QUhlaWdodCA9IGJvZHlBLmJvdW5kcy5tYXgueSAtIGJvZHlBLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib2R5QVdpZHRoID0gYm9keUEuYm91bmRzLm1heC54IC0gYm9keUEuYm91bmRzLm1pbi54LCBcbiAgICAgICAgICAgICAgICBib2R5QkhlaWdodCA9IGJvZHlCLmJvdW5kcy5tYXgueSAtIGJvZHlCLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib2R5QldpZHRoID0gYm9keUIuYm91bmRzLm1heC54IC0gYm9keUIuYm91bmRzLm1pbi54O1xuICAgICAgICBcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBib2R5QTogYm9keUEsXG4gICAgICAgICAgICAgICAgcG9pbnRBOiB7IHg6IGJvZHlBV2lkdGggKiB4T2Zmc2V0QSwgeTogYm9keUFIZWlnaHQgKiB5T2Zmc2V0QSB9LFxuICAgICAgICAgICAgICAgIGJvZHlCOiBib2R5QixcbiAgICAgICAgICAgICAgICBwb2ludEI6IHsgeDogYm9keUJXaWR0aCAqIHhPZmZzZXRCLCB5OiBib2R5QkhlaWdodCAqIHlPZmZzZXRCIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShjb25zdHJhaW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb3NpdGUubGFiZWwgKz0gJyBDaGFpbic7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBib2RpZXMgaW4gdGhlIGNvbXBvc2l0ZSB3aXRoIGNvbnN0cmFpbnRzIGluIGEgZ3JpZCBwYXR0ZXJuLCB3aXRoIG9wdGlvbmFsIGNyb3NzIGJyYWNlcy5cbiAgICAgKiBAbWV0aG9kIG1lc2hcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY3Jvc3NCcmFjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBtZXNoZWQgdG9nZXRoZXIgd2l0aCBjb25zdHJhaW50c1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMubWVzaCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29sdW1ucywgcm93cywgY3Jvc3NCcmFjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYm9kaWVzID0gY29tcG9zaXRlLmJvZGllcyxcbiAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgIGNvbCxcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBib2R5QztcbiAgICAgICAgXG4gICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgICAgIGZvciAoY29sID0gMTsgY29sIDwgY29sdW1uczsgY29sKyspIHtcbiAgICAgICAgICAgICAgICBib2R5QSA9IGJvZGllc1soY29sIC0gMSkgKyAocm93ICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2NvbCArIChyb3cgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IGNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBID0gYm9kaWVzW2NvbCArICgocm93IC0gMSkgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2NvbCArIChyb3cgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QSwgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3NzQnJhY2UgJiYgY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUMgPSBib2RpZXNbKGNvbCAtIDEpICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QywgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3Jvc3NCcmFjZSAmJiBjb2wgPCBjb2x1bW5zIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUMgPSBib2RpZXNbKGNvbCArIDEpICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QywgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb3NpdGUubGFiZWwgKz0gJyBNZXNoJztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgYm9kaWVzIGNyZWF0ZWQgaW4gdGhlIGNhbGxiYWNrIGluIGEgcHlyYW1pZCBhcnJhbmdlbWVudC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGJvZHkncyBib3VuZHMgdG8gcHJldmVudCBvdmVybGFwcy5cbiAgICAgKiBAbWV0aG9kIHB5cmFtaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjcmVhdGVkIGluIHRoZSBjYWxsYmFja1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMucHlyYW1pZCA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVzLnN0YWNrKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGZ1bmN0aW9uKHgsIHksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbFJvd3MgPSBNYXRoLm1pbihyb3dzLCBNYXRoLmNlaWwoY29sdW1ucyAvIDIpKSxcbiAgICAgICAgICAgICAgICBsYXN0Qm9keVdpZHRoID0gbGFzdEJvZHkgPyBsYXN0Qm9keS5ib3VuZHMubWF4LnggLSBsYXN0Qm9keS5ib3VuZHMubWluLnggOiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocm93ID4gYWN0dWFsUm93cylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHJldmVyc2Ugcm93IG9yZGVyXG4gICAgICAgICAgICByb3cgPSBhY3R1YWxSb3dzIC0gcm93O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSByb3csXG4gICAgICAgICAgICAgICAgZW5kID0gY29sdW1ucyAtIDEgLSByb3c7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW4gPCBzdGFydCB8fCBjb2x1bW4gPiBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyByZXRyb2FjdGl2ZWx5IGZpeCB0aGUgZmlyc3QgYm9keSdzIHBvc2l0aW9uLCBzaW5jZSB3aWR0aCB3YXMgdW5rbm93blxuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShsYXN0Qm9keSwgeyB4OiAoY29sdW1uICsgKGNvbHVtbnMgJSAyID09PSAxID8gMSA6IC0xKSkgKiBsYXN0Qm9keVdpZHRoLCB5OiAwIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeE9mZnNldCA9IGxhc3RCb2R5ID8gY29sdW1uICogbGFzdEJvZHlXaWR0aCA6IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh4eCArIHhPZmZzZXQgKyBjb2x1bW4gKiBjb2x1bW5HYXAsIHksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhcyBub3cgbW92ZWQgdG8gdGhlIFtuZXd0b25zQ3JhZGxlIGV4YW1wbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL25ld3RvbnNDcmFkbGUuanMpLCBmb2xsb3cgdGhhdCBpbnN0ZWFkIGFzIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBoZXJlLlxuICAgICAqIEBkZXByZWNhdGVkIG1vdmVkIHRvIG5ld3RvbnNDcmFkbGUgZXhhbXBsZVxuICAgICAqIEBtZXRob2QgbmV3dG9uc0NyYWRsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBuZXd0b25zQ3JhZGxlIGJvZHlcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLm5ld3RvbnNDcmFkbGUgPSBmdW5jdGlvbih4eCwgeXksIG51bWJlciwgc2l6ZSwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBuZXd0b25zQ3JhZGxlID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnTmV3dG9ucyBDcmFkbGUnIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZXBhcmF0aW9uID0gMS45LFxuICAgICAgICAgICAgICAgIGNpcmNsZSA9IEJvZGllcy5jaXJjbGUoeHggKyBpICogKHNpemUgKiBzZXBhcmF0aW9uKSwgeXkgKyBsZW5ndGgsIHNpemUsIFxuICAgICAgICAgICAgICAgICAgICB7IGluZXJ0aWE6IEluZmluaXR5LCByZXN0aXR1dGlvbjogMSwgZnJpY3Rpb246IDAsIGZyaWN0aW9uQWlyOiAwLjAwMDEsIHNsb3A6IDEgfSksXG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IENvbnN0cmFpbnQuY3JlYXRlKHsgcG9pbnRBOiB7IHg6IHh4ICsgaSAqIChzaXplICogc2VwYXJhdGlvbiksIHk6IHl5IH0sIGJvZHlCOiBjaXJjbGUgfSk7XG5cbiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KG5ld3RvbnNDcmFkbGUsIGNpcmNsZSk7XG4gICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChuZXd0b25zQ3JhZGxlLCBjb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXd0b25zQ3JhZGxlO1xuICAgIH07XG5cbiAgICBkZXByZWNhdGVkKENvbXBvc2l0ZXMsICduZXd0b25zQ3JhZGxlJywgJ0NvbXBvc2l0ZXMubmV3dG9uc0NyYWRsZSDinqQgbW92ZWQgdG8gbmV3dG9uc0NyYWRsZSBleGFtcGxlJyk7XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhpcyBoYXMgbm93IG1vdmVkIHRvIHRoZSBbY2FyIGV4YW1wbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2Nhci5qcyksIGZvbGxvdyB0aGF0IGluc3RlYWQgYXMgdGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkIGhlcmUuXG4gICAgICogQGRlcHJlY2F0ZWQgbW92ZWQgdG8gY2FyIGV4YW1wbGVcbiAgICAgKiBAbWV0aG9kIGNhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2hlZWxTaXplXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY2FyIGJvZHlcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLmNhciA9IGZ1bmN0aW9uKHh4LCB5eSwgd2lkdGgsIGhlaWdodCwgd2hlZWxTaXplKSB7XG4gICAgICAgIHZhciBncm91cCA9IEJvZHkubmV4dEdyb3VwKHRydWUpLFxuICAgICAgICAgICAgd2hlZWxCYXNlID0gMjAsXG4gICAgICAgICAgICB3aGVlbEFPZmZzZXQgPSAtd2lkdGggKiAwLjUgKyB3aGVlbEJhc2UsXG4gICAgICAgICAgICB3aGVlbEJPZmZzZXQgPSB3aWR0aCAqIDAuNSAtIHdoZWVsQmFzZSxcbiAgICAgICAgICAgIHdoZWVsWU9mZnNldCA9IDA7XG4gICAgXG4gICAgICAgIHZhciBjYXIgPSBDb21wb3NpdGUuY3JlYXRlKHsgbGFiZWw6ICdDYXInIH0pLFxuICAgICAgICAgICAgYm9keSA9IEJvZGllcy5yZWN0YW5nbGUoeHgsIHl5LCB3aWR0aCwgaGVpZ2h0LCB7IFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoYW1mZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBoZWlnaHQgKiAwLjVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAwMlxuICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHZhciB3aGVlbEEgPSBCb2RpZXMuY2lyY2xlKHh4ICsgd2hlZWxBT2Zmc2V0LCB5eSArIHdoZWVsWU9mZnNldCwgd2hlZWxTaXplLCB7IFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuOFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciB3aGVlbEIgPSBCb2RpZXMuY2lyY2xlKHh4ICsgd2hlZWxCT2Zmc2V0LCB5eSArIHdoZWVsWU9mZnNldCwgd2hlZWxTaXplLCB7IFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuOFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBheGVsQSA9IENvbnN0cmFpbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHlCOiBib2R5LFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IHdoZWVsQU9mZnNldCwgeTogd2hlZWxZT2Zmc2V0IH0sXG4gICAgICAgICAgICBib2R5QTogd2hlZWxBLFxuICAgICAgICAgICAgc3RpZmZuZXNzOiAxLFxuICAgICAgICAgICAgbGVuZ3RoOiAwXG4gICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBheGVsQiA9IENvbnN0cmFpbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHlCOiBib2R5LFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IHdoZWVsQk9mZnNldCwgeTogd2hlZWxZT2Zmc2V0IH0sXG4gICAgICAgICAgICBib2R5QTogd2hlZWxCLFxuICAgICAgICAgICAgc3RpZmZuZXNzOiAxLFxuICAgICAgICAgICAgbGVuZ3RoOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCBib2R5KTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCB3aGVlbEEpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjYXIsIHdoZWVsQik7XG4gICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNhciwgYXhlbEEpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjYXIsIGF4ZWxCKTtcblxuICAgICAgICByZXR1cm4gY2FyO1xuICAgIH07XG5cbiAgICBkZXByZWNhdGVkKENvbXBvc2l0ZXMsICdjYXInLCAnQ29tcG9zaXRlcy5jYXIg4p6kIG1vdmVkIHRvIGNhciBleGFtcGxlJyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhcyBub3cgbW92ZWQgdG8gdGhlIFtzb2Z0Qm9keSBleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9zb2Z0Qm9keS5qcylcbiAgICAgKiBhbmQgdGhlIFtjbG90aCBleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9jbG90aC5qcyksIGZvbGxvdyB0aG9zZSBpbnN0ZWFkIGFzIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBoZXJlLlxuICAgICAqIEBkZXByZWNhdGVkIG1vdmVkIHRvIHNvZnRCb2R5IGFuZCBjbG90aCBleGFtcGxlc1xuICAgICAqIEBtZXRob2Qgc29mdEJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNyb3NzQnJhY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFydGljbGVSYWRpdXNcbiAgICAgKiBAcGFyYW0ge30gcGFydGljbGVPcHRpb25zXG4gICAgICogQHBhcmFtIHt9IGNvbnN0cmFpbnRPcHRpb25zXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgc29mdEJvZHlcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLnNvZnRCb2R5ID0gZnVuY3Rpb24oeHgsIHl5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgY3Jvc3NCcmFjZSwgcGFydGljbGVSYWRpdXMsIHBhcnRpY2xlT3B0aW9ucywgY29uc3RyYWludE9wdGlvbnMpIHtcbiAgICAgICAgcGFydGljbGVPcHRpb25zID0gQ29tbW9uLmV4dGVuZCh7IGluZXJ0aWE6IEluZmluaXR5IH0sIHBhcnRpY2xlT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0cmFpbnRPcHRpb25zID0gQ29tbW9uLmV4dGVuZCh7IHN0aWZmbmVzczogMC4yLCByZW5kZXI6IHsgdHlwZTogJ2xpbmUnLCBhbmNob3JzOiBmYWxzZSB9IH0sIGNvbnN0cmFpbnRPcHRpb25zKTtcblxuICAgICAgICB2YXIgc29mdEJvZHkgPSBDb21wb3NpdGVzLnN0YWNrKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIHBhcnRpY2xlUmFkaXVzLCBwYXJ0aWNsZU9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBDb21wb3NpdGVzLm1lc2goc29mdEJvZHksIGNvbHVtbnMsIHJvd3MsIGNyb3NzQnJhY2UsIGNvbnN0cmFpbnRPcHRpb25zKTtcblxuICAgICAgICBzb2Z0Qm9keS5sYWJlbCA9ICdTb2Z0IEJvZHknO1xuXG4gICAgICAgIHJldHVybiBzb2Z0Qm9keTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChDb21wb3NpdGVzLCAnc29mdEJvZHknLCAnQ29tcG9zaXRlcy5zb2Z0Qm9keSDinqQgbW92ZWQgdG8gc29mdEJvZHkgYW5kIGNsb3RoIGV4YW1wbGVzJyk7XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoaXMgbW9kdWxlIGhhcyBub3cgYmVlbiByZXBsYWNlZCBieSBgTWF0dGVyLkRldGVjdG9yYC5cbipcbiogQWxsIHVzYWdlIHNob3VsZCBiZSBtaWdyYXRlZCB0byBgTWF0dGVyLkRldGVjdG9yYCBvciBhbm90aGVyIGFsdGVybmF0aXZlLlxuKiBGb3IgYmFjay1jb21wYXRpYmlsaXR5IHB1cnBvc2VzIHRoaXMgbW9kdWxlIHdpbGwgcmVtYWluIGZvciBhIHNob3J0IHRlcm0gYW5kIHRoZW4gbGF0ZXIgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuKlxuKiBUaGUgYE1hdHRlci5HcmlkYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb2xsaXNpb24gYnJvYWRwaGFzZSBncmlkIHN0cnVjdHVyZXMuXG4qXG4qIEBjbGFzcyBHcmlkXG4qIEBkZXByZWNhdGVkXG4qL1xuXG52YXIgR3JpZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdyaWQ7XG5cbnZhciBQYWlyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGRlcHJlY2F0ZWQgPSBDb21tb24uZGVwcmVjYXRlZDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBncmlkLlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtncmlkfSBBIG5ldyBncmlkXG4gICAgICovXG4gICAgR3JpZC5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJ1Y2tldHM6IHt9LFxuICAgICAgICAgICAgcGFpcnM6IHt9LFxuICAgICAgICAgICAgcGFpcnNMaXN0OiBbXSxcbiAgICAgICAgICAgIGJ1Y2tldFdpZHRoOiA0OCxcbiAgICAgICAgICAgIGJ1Y2tldEhlaWdodDogNDhcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiBhIHNpbmdsZSBncmlkIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBidWNrZXRXaWR0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDQ4XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIGEgc2luZ2xlIGdyaWQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJ1Y2tldEhlaWdodFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDQ4XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBncmlkLlxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtncmlkfSBncmlkXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlXG4gICAgICovXG4gICAgR3JpZC51cGRhdGUgPSBmdW5jdGlvbihncmlkLCBib2RpZXMsIGVuZ2luZSwgZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIGksIGNvbCwgcm93LFxuICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBidWNrZXRzID0gZ3JpZC5idWNrZXRzLFxuICAgICAgICAgICAgYnVja2V0LFxuICAgICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgICAgICBncmlkQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1NsZWVwaW5nICYmICFmb3JjZVVwZGF0ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eSBib3VuZHMgY2hlY2tcbiAgICAgICAgICAgIGlmICh3b3JsZC5ib3VuZHMgJiYgKGJvZHkuYm91bmRzLm1heC54IDwgd29ybGQuYm91bmRzLm1pbi54IHx8IGJvZHkuYm91bmRzLm1pbi54ID4gd29ybGQuYm91bmRzLm1heC54XG4gICAgICAgICAgICAgICAgfHwgYm9keS5ib3VuZHMubWF4LnkgPCB3b3JsZC5ib3VuZHMubWluLnkgfHwgYm9keS5ib3VuZHMubWluLnkgPiB3b3JsZC5ib3VuZHMubWF4LnkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgbmV3UmVnaW9uID0gR3JpZC5fZ2V0UmVnaW9uKGdyaWQsIGJvZHkpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGUgYm9keSBoYXMgY2hhbmdlZCBncmlkIHJlZ2lvblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlZ2lvbiB8fCBuZXdSZWdpb24uaWQgIT09IGJvZHkucmVnaW9uLmlkIHx8IGZvcmNlVXBkYXRlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWJvZHkucmVnaW9uIHx8IGZvcmNlVXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlZ2lvbiA9IG5ld1JlZ2lvbjtcblxuICAgICAgICAgICAgICAgIHZhciB1bmlvbiA9IEdyaWQuX3JlZ2lvblVuaW9uKG5ld1JlZ2lvbiwgYm9keS5yZWdpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdyaWQgYnVja2V0cyBhZmZlY3RlZCBieSByZWdpb24gY2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSB1bmlvbiBvZiBib3RoIHJlZ2lvbnNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IHVuaW9uLnN0YXJ0Q29sOyBjb2wgPD0gdW5pb24uZW5kQ29sOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IHVuaW9uLnN0YXJ0Um93OyByb3cgPD0gdW5pb24uZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0SWQgPSBHcmlkLl9nZXRCdWNrZXRJZChjb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW5zaWRlTmV3UmVnaW9uID0gKGNvbCA+PSBuZXdSZWdpb24uc3RhcnRDb2wgJiYgY29sIDw9IG5ld1JlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBuZXdSZWdpb24uc3RhcnRSb3cgJiYgcm93IDw9IG5ld1JlZ2lvbi5lbmRSb3cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNJbnNpZGVPbGRSZWdpb24gPSAoY29sID49IGJvZHkucmVnaW9uLnN0YXJ0Q29sICYmIGNvbCA8PSBib2R5LnJlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBib2R5LnJlZ2lvbi5zdGFydFJvdyAmJiByb3cgPD0gYm9keS5yZWdpb24uZW5kUm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gb2xkIHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5zaWRlTmV3UmVnaW9uICYmIGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmlkLl9idWNrZXRSZW1vdmVCb2R5KGdyaWQsIGJ1Y2tldCwgYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdG8gbmV3IHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5yZWdpb24gPT09IG5ld1JlZ2lvbiB8fCAoaXNJbnNpZGVOZXdSZWdpb24gJiYgIWlzSW5zaWRlT2xkUmVnaW9uKSB8fCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnVja2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBHcmlkLl9jcmVhdGVCdWNrZXQoYnVja2V0cywgYnVja2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkoZ3JpZCwgYnVja2V0LCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHJlZ2lvblxuICAgICAgICAgICAgICAgIGJvZHkucmVnaW9uID0gbmV3UmVnaW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gZmxhZyBjaGFuZ2VzIHNvIHdlIGNhbiB1cGRhdGUgcGFpcnNcbiAgICAgICAgICAgICAgICBncmlkQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgcGFpcnMgbGlzdCBvbmx5IGlmIHBhaXJzIGNoYW5nZWQgKGkuZS4gYSBib2R5IGNoYW5nZWQgcmVnaW9uKVxuICAgICAgICBpZiAoZ3JpZENoYW5nZWQpXG4gICAgICAgICAgICBncmlkLnBhaXJzTGlzdCA9IEdyaWQuX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdChncmlkKTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChHcmlkLCAndXBkYXRlJywgJ0dyaWQudXBkYXRlIOKepCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3InKTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JpZC5cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtncmlkfSBncmlkXG4gICAgICovXG4gICAgR3JpZC5jbGVhciA9IGZ1bmN0aW9uKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5idWNrZXRzID0ge307XG4gICAgICAgIGdyaWQucGFpcnMgPSB7fTtcbiAgICAgICAgZ3JpZC5wYWlyc0xpc3QgPSBbXTtcbiAgICB9O1xuXG4gICAgZGVwcmVjYXRlZChHcmlkLCAnY2xlYXInLCAnR3JpZC5jbGVhciDinqQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yJyk7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgdW5pb24gb2YgdHdvIHJlZ2lvbnMuXG4gICAgICogQG1ldGhvZCBfcmVnaW9uVW5pb25cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSByZWdpb25BXG4gICAgICogQHBhcmFtIHt9IHJlZ2lvbkJcbiAgICAgKiBAcmV0dXJuIHt9IHJlZ2lvblxuICAgICAqL1xuICAgIEdyaWQuX3JlZ2lvblVuaW9uID0gZnVuY3Rpb24ocmVnaW9uQSwgcmVnaW9uQikge1xuICAgICAgICB2YXIgc3RhcnRDb2wgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Q29sLCByZWdpb25CLnN0YXJ0Q29sKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGgubWF4KHJlZ2lvbkEuZW5kQ29sLCByZWdpb25CLmVuZENvbCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGgubWluKHJlZ2lvbkEuc3RhcnRSb3csIHJlZ2lvbkIuc3RhcnRSb3cpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5tYXgocmVnaW9uQS5lbmRSb3csIHJlZ2lvbkIuZW5kUm93KTtcblxuICAgICAgICByZXR1cm4gR3JpZC5fY3JlYXRlUmVnaW9uKHN0YXJ0Q29sLCBlbmRDb2wsIHN0YXJ0Um93LCBlbmRSb3cpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZWdpb24gYSBnaXZlbiBib2R5IGZhbGxzIGluIGZvciBhIGdpdmVuIGdyaWQuXG4gICAgICogQG1ldGhvZCBfZ2V0UmVnaW9uXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBib2R5XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9nZXRSZWdpb24gPSBmdW5jdGlvbihncmlkLCBib2R5KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSBib2R5LmJvdW5kcyxcbiAgICAgICAgICAgIHN0YXJ0Q29sID0gTWF0aC5mbG9vcihib3VuZHMubWluLnggLyBncmlkLmJ1Y2tldFdpZHRoKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGguZmxvb3IoYm91bmRzLm1heC54IC8gZ3JpZC5idWNrZXRXaWR0aCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGguZmxvb3IoYm91bmRzLm1pbi55IC8gZ3JpZC5idWNrZXRIZWlnaHQpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLyBncmlkLmJ1Y2tldEhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIEdyaWQuX2NyZWF0ZVJlZ2lvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlZ2lvbi5cbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVSZWdpb25cbiAgICAgKiBAZGVwcmVjYXRlZCByZXBsYWNlZCBieSBNYXR0ZXIuRGV0ZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBzdGFydENvbFxuICAgICAqIEBwYXJhbSB7fSBlbmRDb2xcbiAgICAgKiBAcGFyYW0ge30gc3RhcnRSb3dcbiAgICAgKiBAcGFyYW0ge30gZW5kUm93XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVSZWdpb24gPSBmdW5jdGlvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KSB7XG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgaWQ6IHN0YXJ0Q29sICsgJywnICsgZW5kQ29sICsgJywnICsgc3RhcnRSb3cgKyAnLCcgKyBlbmRSb3csXG4gICAgICAgICAgICBzdGFydENvbDogc3RhcnRDb2wsIFxuICAgICAgICAgICAgZW5kQ29sOiBlbmRDb2wsIFxuICAgICAgICAgICAgc3RhcnRSb3c6IHN0YXJ0Um93LCBcbiAgICAgICAgICAgIGVuZFJvdzogZW5kUm93IFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBidWNrZXQgaWQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2QgX2dldEJ1Y2tldElkXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gY29sdW1uXG4gICAgICogQHBhcmFtIHt9IHJvd1xuICAgICAqIEByZXR1cm4ge3N0cmluZ30gYnVja2V0IGlkXG4gICAgICovXG4gICAgR3JpZC5fZ2V0QnVja2V0SWQgPSBmdW5jdGlvbihjb2x1bW4sIHJvdykge1xuICAgICAgICByZXR1cm4gJ0MnICsgY29sdW1uICsgJ1InICsgcm93O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYnVja2V0LlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUJ1Y2tldFxuICAgICAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IE1hdHRlci5EZXRlY3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGJ1Y2tldHNcbiAgICAgKiBAcGFyYW0ge30gYnVja2V0SWRcbiAgICAgKiBAcmV0dXJuIHt9IGJ1Y2tldFxuICAgICAqL1xuICAgIEdyaWQuX2NyZWF0ZUJ1Y2tldCA9IGZ1bmN0aW9uKGJ1Y2tldHMsIGJ1Y2tldElkKSB7XG4gICAgICAgIHZhciBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXSA9IFtdO1xuICAgICAgICByZXR1cm4gYnVja2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgYm9keSB0byBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9idWNrZXRBZGRCb2R5XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqL1xuICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkgPSBmdW5jdGlvbihncmlkLCBidWNrZXQsIGJvZHkpIHtcbiAgICAgICAgdmFyIGdyaWRQYWlycyA9IGdyaWQucGFpcnMsXG4gICAgICAgICAgICBwYWlySWQgPSBQYWlyLmlkLFxuICAgICAgICAgICAgYnVja2V0TGVuZ3RoID0gYnVja2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gYWRkIG5ldyBwYWlyc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnVja2V0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5QiA9IGJ1Y2tldFtpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaWQgPT09IGJvZHlCLmlkIHx8IChib2R5LmlzU3RhdGljICYmIGJvZHlCLmlzU3RhdGljKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGJ1Y2tldHMgdGhlIHBhaXIgZXhpc3RzIGluXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIEdyaWQudXBkYXRlIHRvIHdvcmtcbiAgICAgICAgICAgIHZhciBpZCA9IHBhaXJJZChib2R5LCBib2R5QiksXG4gICAgICAgICAgICAgICAgcGFpciA9IGdyaWRQYWlyc1tpZF07XG5cbiAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgcGFpclsyXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBncmlkUGFpcnNbaWRdID0gW2JvZHksIGJvZHlCLCAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0byBib2RpZXMgKGFmdGVyIHBhaXJzLCBvdGhlcndpc2UgcGFpcnMgd2l0aCBzZWxmKVxuICAgICAgICBidWNrZXQucHVzaChib2R5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9idWNrZXRSZW1vdmVCb2R5XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqL1xuICAgIEdyaWQuX2J1Y2tldFJlbW92ZUJvZHkgPSBmdW5jdGlvbihncmlkLCBidWNrZXQsIGJvZHkpIHtcbiAgICAgICAgdmFyIGdyaWRQYWlycyA9IGdyaWQucGFpcnMsXG4gICAgICAgICAgICBwYWlySWQgPSBQYWlyLmlkLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBidWNrZXRcbiAgICAgICAgYnVja2V0LnNwbGljZShDb21tb24uaW5kZXhPZihidWNrZXQsIGJvZHkpLCAxKTtcblxuICAgICAgICB2YXIgYnVja2V0TGVuZ3RoID0gYnVja2V0Lmxlbmd0aDtcblxuICAgICAgICAvLyB1cGRhdGUgcGFpciBjb3VudHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJ1Y2tldExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgYnVja2V0cyB0aGUgcGFpciBleGlzdHMgaW5cbiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCB0byB3b3JrXG4gICAgICAgICAgICB2YXIgcGFpciA9IGdyaWRQYWlyc1twYWlySWQoYm9keSwgYnVja2V0W2ldKV07XG5cbiAgICAgICAgICAgIGlmIChwYWlyKVxuICAgICAgICAgICAgICAgIHBhaXJbMl0gLT0gMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBsaXN0IG9mIHRoZSBhY3RpdmUgcGFpcnMgaW4gdGhlIGdyaWQuXG4gICAgICogQG1ldGhvZCBfY3JlYXRlQWN0aXZlUGFpcnNMaXN0XG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgTWF0dGVyLkRldGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEByZXR1cm4gW10gcGFpcnNcbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVBY3RpdmVQYWlyc0xpc3QgPSBmdW5jdGlvbihncmlkKSB7XG4gICAgICAgIHZhciBwYWlyLFxuICAgICAgICAgICAgZ3JpZFBhaXJzID0gZ3JpZC5wYWlycyxcbiAgICAgICAgICAgIHBhaXJLZXlzID0gQ29tbW9uLmtleXMoZ3JpZFBhaXJzKSxcbiAgICAgICAgICAgIHBhaXJLZXlzTGVuZ3RoID0gcGFpcktleXMubGVuZ3RoLFxuICAgICAgICAgICAgcGFpcnMgPSBbXSxcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGdyaWQucGFpcnNcbiAgICAgICAgZm9yIChrID0gMDsgayA8IHBhaXJLZXlzTGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBncmlkUGFpcnNbcGFpcktleXNba11dO1xuXG4gICAgICAgICAgICAvLyBpZiBwYWlyIGV4aXN0cyBpbiBhdCBsZWFzdCBvbmUgYnVja2V0XG4gICAgICAgICAgICAvLyBpdCBpcyBhIHBhaXIgdGhhdCBuZWVkcyBmdXJ0aGVyIGNvbGxpc2lvbiB0ZXN0aW5nIHNvIHB1c2ggaXRcbiAgICAgICAgICAgIGlmIChwYWlyWzJdID4gMCkge1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2gocGFpcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBncmlkUGFpcnNbcGFpcktleXNba11dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgIH07XG4gICAgXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLk1vdXNlQ29uc3RyYWludGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIG1vdXNlIGNvbnN0cmFpbnRzLlxuKiBNb3VzZSBjb25zdHJhaW50cyBhcmUgdXNlZCBmb3IgYWxsb3dpbmcgdXNlciBpbnRlcmFjdGlvbiwgcHJvdmlkaW5nIHRoZSBhYmlsaXR5IHRvIG1vdmUgYm9kaWVzIHZpYSB0aGUgbW91c2Ugb3IgdG91Y2guXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBNb3VzZUNvbnN0cmFpbnRcbiovXG5cbnZhciBNb3VzZUNvbnN0cmFpbnQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZUNvbnN0cmFpbnQ7XG5cbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgU2xlZXBpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIE1vdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBEZXRlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBtb3VzZSBjb25zdHJhaW50LlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge01vdXNlQ29uc3RyYWludH0gQSBuZXcgTW91c2VDb25zdHJhaW50XG4gICAgICovXG4gICAgTW91c2VDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKGVuZ2luZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbW91c2UgPSAoZW5naW5lID8gZW5naW5lLm1vdXNlIDogbnVsbCkgfHwgKG9wdGlvbnMgPyBvcHRpb25zLm1vdXNlIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKCFtb3VzZSkge1xuICAgICAgICAgICAgaWYgKGVuZ2luZSAmJiBlbmdpbmUucmVuZGVyICYmIGVuZ2luZS5yZW5kZXIuY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UgPSBNb3VzZS5jcmVhdGUoZW5naW5lLnJlbmRlci5jYW52YXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKG9wdGlvbnMuZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ01vdXNlQ29uc3RyYWludC5jcmVhdGU6IG9wdGlvbnMubW91c2Ugd2FzIHVuZGVmaW5lZCwgb3B0aW9ucy5lbGVtZW50IHdhcyB1bmRlZmluZWQsIG1heSBub3QgZnVuY3Rpb24gYXMgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb25zdHJhaW50ID0gQ29uc3RyYWludC5jcmVhdGUoeyBcbiAgICAgICAgICAgIGxhYmVsOiAnTW91c2UgQ29uc3RyYWludCcsXG4gICAgICAgICAgICBwb2ludEE6IG1vdXNlLnBvc2l0aW9uLFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogMC4wMSwgXG4gICAgICAgICAgICBzdGlmZm5lc3M6IDAuMSxcbiAgICAgICAgICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDEsXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogJyM5MEVFOTAnLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICB0eXBlOiAnbW91c2VDb25zdHJhaW50JyxcbiAgICAgICAgICAgIG1vdXNlOiBtb3VzZSxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICAgICAgY29uc3RyYWludDogY29uc3RyYWludCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAweDAwMDEsXG4gICAgICAgICAgICAgICAgbWFzazogMHhGRkZGRkZGRixcbiAgICAgICAgICAgICAgICBncm91cDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb3VzZUNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBFdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhlbmdpbmUud29ybGQpO1xuICAgICAgICAgICAgTW91c2VDb25zdHJhaW50LnVwZGF0ZShtb3VzZUNvbnN0cmFpbnQsIGFsbEJvZGllcyk7XG4gICAgICAgICAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMobW91c2VDb25zdHJhaW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG1vdXNlQ29uc3RyYWludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gbW91c2UgY29uc3RyYWludC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUNvbnN0cmFpbnR9IG1vdXNlQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQudXBkYXRlID0gZnVuY3Rpb24obW91c2VDb25zdHJhaW50LCBib2RpZXMpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgY29uc3RyYWludCA9IG1vdXNlQ29uc3RyYWludC5jb25zdHJhaW50LFxuICAgICAgICAgICAgYm9keSA9IG1vdXNlQ29uc3RyYWludC5ib2R5O1xuXG4gICAgICAgIGlmIChtb3VzZS5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIGlmICghY29uc3RyYWludC5ib2R5Qikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMoYm9keS5ib3VuZHMsIG1vdXNlLnBvc2l0aW9uKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBEZXRlY3Rvci5jYW5Db2xsaWRlKGJvZHkuY29sbGlzaW9uRmlsdGVyLCBtb3VzZUNvbnN0cmFpbnQuY29sbGlzaW9uRmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgbW91c2UucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0gbW91c2UucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0geyB4OiBtb3VzZS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvbi54LCB5OiBtb3VzZS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvbi55IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keS5hbmdsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdzdGFydGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChjb25zdHJhaW50LmJvZHlCLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChib2R5KVxuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ2VuZGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBtb3VzZSBjb25zdHJhaW50IGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIF90cmlnZ2VyRXZlbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZUNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMgPSBmdW5jdGlvbihtb3VzZUNvbnN0cmFpbnQpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgbW91c2VFdmVudHMgPSBtb3VzZS5zb3VyY2VFdmVudHM7XG5cbiAgICAgICAgaWYgKG1vdXNlRXZlbnRzLm1vdXNlbW92ZSlcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNlbW92ZScsIHsgbW91c2U6IG1vdXNlIH0pO1xuXG4gICAgICAgIGlmIChtb3VzZUV2ZW50cy5tb3VzZWRvd24pXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdtb3VzZWRvd24nLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICBpZiAobW91c2VFdmVudHMubW91c2V1cClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNldXAnLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICAvLyByZXNldCB0aGUgbW91c2Ugc3RhdGUgcmVhZHkgZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgTW91c2UuY2xlYXJTb3VyY2VFdmVudHMobW91c2UpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBoYXMgbW92ZWQgKG9yIGEgdG91Y2ggbW92ZXMpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNlbW92ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHttb3VzZX0gZXZlbnQubW91c2UgVGhlIGVuZ2luZSdzIG1vdXNlIGluc3RhbmNlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaXMgZG93biAob3IgYSB0b3VjaCBoYXMgc3RhcnRlZCkgZHVyaW5nIHRoZSBsYXN0IHN0ZXBcbiAgICAqXG4gICAgKiBAZXZlbnQgbW91c2Vkb3duXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBpcyB1cCAob3IgYSB0b3VjaCBoYXMgZW5kZWQpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNldXBcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgc3RhcnRzIGRyYWdnaW5nIGEgYm9keVxuICAgICpcbiAgICAqIEBldmVudCBzdGFydGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IGJlaW5nIGRyYWdnZWRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGVuZHMgZHJhZ2dpbmcgYSBib2R5XG4gICAgKlxuICAgICogQGV2ZW50IGVuZGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IHRoYXQgaGFzIHN0b3BwZWQgYmVpbmcgZHJhZ2dlZFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImNvbnN0cmFpbnRcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNb3VzZWAgaW5zdGFuY2UgaW4gdXNlLiBJZiBub3Qgc3VwcGxpZWQgaW4gYE1vdXNlQ29uc3RyYWludC5jcmVhdGVgLCBvbmUgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG1vdXNlXG4gICAgICogQHR5cGUgbW91c2VcbiAgICAgKiBAZGVmYXVsdCBtb3VzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBCb2R5YCB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBtb3ZlZCBieSB0aGUgdXNlciwgb3IgYG51bGxgIGlmIG5vIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYENvbnN0cmFpbnRgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gbW92ZSB0aGUgYm9keSBkdXJpbmcgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludFxuICAgICAqIEB0eXBlIGNvbnN0cmFpbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gZmlsdGVyIHByb3BlcnRpZXMuXG4gICAgICogVGhlIGNvbGxpc2lvbiBmaWx0ZXIgYWxsb3dzIHRoZSB1c2VyIHRvIGRlZmluZSB3aGljaCB0eXBlcyBvZiBib2R5IHRoaXMgbW91c2UgY29uc3RyYWludCBjYW4gaW50ZXJhY3Qgd2l0aC5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxufSkoKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuKiBUaGUgYE1hdHRlci5RdWVyeWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHBlcmZvcm1pbmcgY29sbGlzaW9uIHF1ZXJpZXMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBRdWVyeVxuKi9cblxudmFyIFF1ZXJ5ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlcnk7XG5cbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENvbGxpc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgQm91bmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBCb2RpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBWZXJ0aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGNvbGxpc2lvbnMgYmV0d2VlbiBgYm9keWAgYW5kIGBib2RpZXNgLlxuICAgICAqIEBtZXRob2QgY29sbGlkZXNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9uW119IENvbGxpc2lvbnNcbiAgICAgKi9cbiAgICBRdWVyeS5jb2xsaWRlcyA9IGZ1bmN0aW9uKGJvZHksIGJvZGllcykge1xuICAgICAgICB2YXIgY29sbGlzaW9ucyA9IFtdLFxuICAgICAgICAgICAgYm9kaWVzTGVuZ3RoID0gYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGJvdW5kcyA9IGJvZHkuYm91bmRzLFxuICAgICAgICAgICAgY29sbGlkZXMgPSBDb2xsaXNpb24uY29sbGlkZXMsXG4gICAgICAgICAgICBvdmVybGFwcyA9IEJvdW5kcy5vdmVybGFwcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keUEgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgcGFydHNBTGVuZ3RoID0gYm9keUEucGFydHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcnRzQVN0YXJ0ID0gcGFydHNBTGVuZ3RoID09PSAxID8gMCA6IDE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvdmVybGFwcyhib2R5QS5ib3VuZHMsIGJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcGFydHNBU3RhcnQ7IGogPCBwYXJ0c0FMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHlBLnBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGFwcyhwYXJ0LmJvdW5kcywgYm91bmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IGNvbGxpZGVzKHBhcnQsIGJvZHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYSByYXkgc2VnbWVudCBhZ2FpbnN0IGEgc2V0IG9mIGJvZGllcyBhbmQgcmV0dXJucyBhbGwgY29sbGlzaW9ucywgcmF5IHdpZHRoIGlzIG9wdGlvbmFsLiBJbnRlcnNlY3Rpb24gcG9pbnRzIGFyZSBub3QgcHJvdmlkZWQuXG4gICAgICogQG1ldGhvZCByYXlcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHN0YXJ0UG9pbnRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZW5kUG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JheVdpZHRoXVxuICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbltdfSBDb2xsaXNpb25zXG4gICAgICovXG4gICAgUXVlcnkucmF5ID0gZnVuY3Rpb24oYm9kaWVzLCBzdGFydFBvaW50LCBlbmRQb2ludCwgcmF5V2lkdGgpIHtcbiAgICAgICAgcmF5V2lkdGggPSByYXlXaWR0aCB8fCAxZS0xMDA7XG5cbiAgICAgICAgdmFyIHJheUFuZ2xlID0gVmVjdG9yLmFuZ2xlKHN0YXJ0UG9pbnQsIGVuZFBvaW50KSxcbiAgICAgICAgICAgIHJheUxlbmd0aCA9IFZlY3Rvci5tYWduaXR1ZGUoVmVjdG9yLnN1YihzdGFydFBvaW50LCBlbmRQb2ludCkpLFxuICAgICAgICAgICAgcmF5WCA9IChlbmRQb2ludC54ICsgc3RhcnRQb2ludC54KSAqIDAuNSxcbiAgICAgICAgICAgIHJheVkgPSAoZW5kUG9pbnQueSArIHN0YXJ0UG9pbnQueSkgKiAwLjUsXG4gICAgICAgICAgICByYXkgPSBCb2RpZXMucmVjdGFuZ2xlKHJheVgsIHJheVksIHJheUxlbmd0aCwgcmF5V2lkdGgsIHsgYW5nbGU6IHJheUFuZ2xlIH0pLFxuICAgICAgICAgICAgY29sbGlzaW9ucyA9IFF1ZXJ5LmNvbGxpZGVzKHJheSwgYm9kaWVzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxpc2lvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaXNpb25zW2ldO1xuICAgICAgICAgICAgY29sbGlzaW9uLmJvZHkgPSBjb2xsaXNpb24uYm9keUIgPSBjb2xsaXNpb24uYm9keUE7ICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYm9kaWVzIHdob3NlIGJvdW5kcyBhcmUgaW5zaWRlIChvciBvdXRzaWRlIGlmIHNldCkgdGhlIGdpdmVuIHNldCBvZiBib3VuZHMsIGZyb20gdGhlIGdpdmVuIHNldCBvZiBib2RpZXMuXG4gICAgICogQG1ldGhvZCByZWdpb25cbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7Ym9vbH0gW291dHNpZGU9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Ym9keVtdfSBUaGUgYm9kaWVzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICAgICAqL1xuICAgIFF1ZXJ5LnJlZ2lvbiA9IGZ1bmN0aW9uKGJvZGllcywgYm91bmRzLCBvdXRzaWRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgb3ZlcmxhcHMgPSBCb3VuZHMub3ZlcmxhcHMoYm9keS5ib3VuZHMsIGJvdW5kcyk7XG4gICAgICAgICAgICBpZiAoKG92ZXJsYXBzICYmICFvdXRzaWRlKSB8fCAoIW92ZXJsYXBzICYmIG91dHNpZGUpKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYm9kaWVzIHdob3NlIHZlcnRpY2VzIGNvbnRhaW4gdGhlIGdpdmVuIHBvaW50LCBmcm9tIHRoZSBnaXZlbiBzZXQgb2YgYm9kaWVzLlxuICAgICAqIEBtZXRob2QgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICogQHJldHVybiB7Ym9keVtdfSBUaGUgYm9kaWVzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICAgICAqL1xuICAgIFF1ZXJ5LnBvaW50ID0gZnVuY3Rpb24oYm9kaWVzLCBwb2ludCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKGJvZHkuYm91bmRzLCBwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gYm9keS5wYXJ0cy5sZW5ndGggPT09IDEgPyAwIDogMTsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMocGFydC5ib3VuZHMsIHBvaW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoZSBgTWF0dGVyLlJlbmRlcmAgbW9kdWxlIGlzIGEgc2ltcGxlIGNhbnZhcyBiYXNlZCByZW5kZXJlciBmb3IgdmlzdWFsaXNpbmcgaW5zdGFuY2VzIG9mIGBNYXR0ZXIuRW5naW5lYC5cbiogSXQgaXMgaW50ZW5kZWQgZm9yIGRldmVsb3BtZW50IGFuZCBkZWJ1Z2dpbmcgcHVycG9zZXMsIGJ1dCBtYXkgYWxzbyBiZSBzdWl0YWJsZSBmb3Igc2ltcGxlIGdhbWVzLlxuKiBJdCBpbmNsdWRlcyBhIG51bWJlciBvZiBkcmF3aW5nIG9wdGlvbnMgaW5jbHVkaW5nIHdpcmVmcmFtZSwgdmVjdG9yIHdpdGggc3VwcG9ydCBmb3Igc3ByaXRlcyBhbmQgdmlld3BvcnRzLlxuKlxuKiBAY2xhc3MgUmVuZGVyXG4qL1xuXG52YXIgUmVuZGVyID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUmVuZGVyO1xuXG52YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBDb21wb3NpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBWZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIE1vdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBmdW5jdGlvbihjYWxsYmFjayl7IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhDb21tb24ubm93KCkpOyB9LCAxMDAwIC8gNjApOyB9O1xuXG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgIH1cblxuICAgIFJlbmRlci5fZ29vZEZwcyA9IDMwO1xuICAgIFJlbmRlci5fZ29vZERlbHRhID0gMTAwMCAvIDYwO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByZW5kZXJlci4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge3JlbmRlcn0gQSBuZXcgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBSZW5kZXIuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBlbmdpbmU6IG51bGwsXG4gICAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgY2FudmFzOiBudWxsLFxuICAgICAgICAgICAgbW91c2U6IG51bGwsXG4gICAgICAgICAgICBmcmFtZVJlcXVlc3RJZDogbnVsbCxcbiAgICAgICAgICAgIHRpbWluZzoge1xuICAgICAgICAgICAgICAgIGhpc3RvcnlTaXplOiA2MCxcbiAgICAgICAgICAgICAgICBkZWx0YTogMCxcbiAgICAgICAgICAgICAgICBkZWx0YUhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgICAgIGxhc3RUaW1lOiAwLFxuICAgICAgICAgICAgICAgIGxhc3RUaW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgICAgbGFzdEVsYXBzZWQ6IDAsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wRWxhcHNlZDogMCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBFbGFwc2VkSGlzdG9yeTogW10sXG4gICAgICAgICAgICAgICAgZW5naW5lRGVsdGFIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgICAgICBlbmdpbmVFbGFwc2VkSGlzdG9yeTogW10sXG4gICAgICAgICAgICAgICAgZWxhcHNlZEhpc3Rvcnk6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzE0MTUxZicsXG4gICAgICAgICAgICAgICAgd2lyZWZyYW1lQmFja2dyb3VuZDogJyMxNDE1MWYnLFxuICAgICAgICAgICAgICAgIGhhc0JvdW5kczogISFvcHRpb25zLmJvdW5kcyxcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1NsZWVwaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dEZWJ1ZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1N0YXRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93UGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dCb3VuZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dWZWxvY2l0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dTZXBhcmF0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0F4ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dQb3NpdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dBbmdsZUluZGljYXRvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0lkczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1ZlcnRleE51bWJlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dDb252ZXhIdWxsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ludGVybmFsRWRnZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dNb3VzZVBvc2l0aW9uOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZW5kZXIgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAocmVuZGVyLmNhbnZhcykge1xuICAgICAgICAgICAgcmVuZGVyLmNhbnZhcy53aWR0aCA9IHJlbmRlci5vcHRpb25zLndpZHRoIHx8IHJlbmRlci5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICByZW5kZXIuY2FudmFzLmhlaWdodCA9IHJlbmRlci5vcHRpb25zLmhlaWdodCB8fCByZW5kZXIuY2FudmFzLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlci5tb3VzZSA9IG9wdGlvbnMubW91c2U7XG4gICAgICAgIHJlbmRlci5lbmdpbmUgPSBvcHRpb25zLmVuZ2luZTtcbiAgICAgICAgcmVuZGVyLmNhbnZhcyA9IHJlbmRlci5jYW52YXMgfHwgX2NyZWF0ZUNhbnZhcyhyZW5kZXIub3B0aW9ucy53aWR0aCwgcmVuZGVyLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmVuZGVyLmNvbnRleHQgPSByZW5kZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHJlbmRlci50ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIHJlbmRlci5ib3VuZHMgPSByZW5kZXIuYm91bmRzIHx8IHtcbiAgICAgICAgICAgIG1pbjoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1heDoge1xuICAgICAgICAgICAgICAgIHg6IHJlbmRlci5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogcmVuZGVyLmNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBmb3IgdGVtcG9yYXJ5IGJhY2sgY29tcGF0aWJpbGl0eSBvbmx5XG4gICAgICAgIHJlbmRlci5jb250cm9sbGVyID0gUmVuZGVyO1xuICAgICAgICByZW5kZXIub3B0aW9ucy5zaG93QnJvYWRwaGFzZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvICE9PSAxKSB7XG4gICAgICAgICAgICBSZW5kZXIuc2V0UGl4ZWxSYXRpbyhyZW5kZXIsIHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKENvbW1vbi5pc0VsZW1lbnQocmVuZGVyLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZW5kZXIuZWxlbWVudC5hcHBlbmRDaGlsZChyZW5kZXIuY2FudmFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnRpbnVvdXNseSB1cGRhdGVzIHRoZSByZW5kZXIgY2FudmFzIG9uIHRoZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBldmVudC5cbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIucnVuID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIChmdW5jdGlvbiBsb29wKHRpbWUpe1xuICAgICAgICAgICAgcmVuZGVyLmZyYW1lUmVxdWVzdElkID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgX3VwZGF0ZVRpbWluZyhyZW5kZXIsIHRpbWUpO1xuXG4gICAgICAgICAgICBSZW5kZXIud29ybGQocmVuZGVyLCB0aW1lKTtcblxuICAgICAgICAgICAgaWYgKHJlbmRlci5vcHRpb25zLnNob3dTdGF0cyB8fCByZW5kZXIub3B0aW9ucy5zaG93RGVidWcpIHtcbiAgICAgICAgICAgICAgICBSZW5kZXIuc3RhdHMocmVuZGVyLCByZW5kZXIuY29udGV4dCwgdGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5zaG93UGVyZm9ybWFuY2UgfHwgcmVuZGVyLm9wdGlvbnMuc2hvd0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgUmVuZGVyLnBlcmZvcm1hbmNlKHJlbmRlciwgcmVuZGVyLmNvbnRleHQsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUmVuZGVyLnJ1bmAgb24gdGhlIGdpdmVuIGByZW5kZXJgLCBieSBjYW5jZWxpbmcgdGhlIGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGV2ZW50IGxvb3AuXG4gICAgICogQG1ldGhvZCBzdG9wXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5zdG9wID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZShyZW5kZXIuZnJhbWVSZXF1ZXN0SWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIgYW5kIHVwZGF0ZXMgdGhlIGNhbnZhcy5cbiAgICAgKiBUbyBhdXRvbWF0aWNhbGx5IGRldGVjdCB0aGUgY29ycmVjdCByYXRpbywgcGFzcyB0aGUgc3RyaW5nIGAnYXV0bydgIGZvciBgcGl4ZWxSYXRpb2AuXG4gICAgICogQG1ldGhvZCBzZXRQaXhlbFJhdGlvXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvXG4gICAgICovXG4gICAgUmVuZGVyLnNldFBpeGVsUmF0aW8gPSBmdW5jdGlvbihyZW5kZXIsIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIGNhbnZhcyA9IHJlbmRlci5jYW52YXM7XG5cbiAgICAgICAgaWYgKHBpeGVsUmF0aW8gPT09ICdhdXRvJykge1xuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IF9nZXRQaXhlbFJhdGlvKGNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdkYXRhLXBpeGVsLXJhdGlvJywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKiBwaXhlbFJhdGlvO1xuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgJ3B4JztcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgJ3B4JztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb25zIGFuZCBzaXplcyB0aGUgdmlld3BvcnQgYXJvdW5kIHRoZSBnaXZlbiBvYmplY3QgYm91bmRzLlxuICAgICAqIE9iamVjdHMgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogLSBgb2JqZWN0LmJvdW5kc2BcbiAgICAgKiAtIGBvYmplY3QucG9zaXRpb25gXG4gICAgICogLSBgb2JqZWN0Lm1pbmAgYW5kIGBvYmplY3QubWF4YFxuICAgICAqIC0gYG9iamVjdC54YCBhbmQgYG9iamVjdC55YFxuICAgICAqIEBtZXRob2QgbG9va0F0XG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW3BhZGRpbmddXG4gICAgICogQHBhcmFtIHtib29sfSBbY2VudGVyPXRydWVdXG4gICAgICovXG4gICAgUmVuZGVyLmxvb2tBdCA9IGZ1bmN0aW9uKHJlbmRlciwgb2JqZWN0cywgcGFkZGluZywgY2VudGVyKSB7XG4gICAgICAgIGNlbnRlciA9IHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnID8gY2VudGVyIDogdHJ1ZTtcbiAgICAgICAgb2JqZWN0cyA9IENvbW1vbi5pc0FycmF5KG9iamVjdHMpID8gb2JqZWN0cyA6IFtvYmplY3RzXTtcbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgfHwge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBmaW5kIGJvdW5kcyBvZiBhbGwgb2JqZWN0c1xuICAgICAgICB2YXIgYm91bmRzID0ge1xuICAgICAgICAgICAgbWluOiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9LFxuICAgICAgICAgICAgbWF4OiB7IHg6IC1JbmZpbml0eSwgeTogLUluZmluaXR5IH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBvYmplY3RzW2ldLFxuICAgICAgICAgICAgICAgIG1pbiA9IG9iamVjdC5ib3VuZHMgPyBvYmplY3QuYm91bmRzLm1pbiA6IChvYmplY3QubWluIHx8IG9iamVjdC5wb3NpdGlvbiB8fCBvYmplY3QpLFxuICAgICAgICAgICAgICAgIG1heCA9IG9iamVjdC5ib3VuZHMgPyBvYmplY3QuYm91bmRzLm1heCA6IChvYmplY3QubWF4IHx8IG9iamVjdC5wb3NpdGlvbiB8fCBvYmplY3QpO1xuXG4gICAgICAgICAgICBpZiAobWluICYmIG1heCkge1xuICAgICAgICAgICAgICAgIGlmIChtaW4ueCA8IGJvdW5kcy5taW4ueClcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1pbi54ID0gbWluLng7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF4LnggPiBib3VuZHMubWF4LngpXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueCA9IG1heC54O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbi55IDwgYm91bmRzLm1pbi55KVxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubWluLnkgPSBtaW4ueTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXgueSA+IGJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1heC55ID0gbWF4Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIHJhdGlvc1xuICAgICAgICB2YXIgd2lkdGggPSAoYm91bmRzLm1heC54IC0gYm91bmRzLm1pbi54KSArIDIgKiBwYWRkaW5nLngsXG4gICAgICAgICAgICBoZWlnaHQgPSAoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSArIDIgKiBwYWRkaW5nLnksXG4gICAgICAgICAgICB2aWV3SGVpZ2h0ID0gcmVuZGVyLmNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgICB2aWV3V2lkdGggPSByZW5kZXIuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgb3V0ZXJSYXRpbyA9IHZpZXdXaWR0aCAvIHZpZXdIZWlnaHQsXG4gICAgICAgICAgICBpbm5lclJhdGlvID0gd2lkdGggLyBoZWlnaHQsXG4gICAgICAgICAgICBzY2FsZVggPSAxLFxuICAgICAgICAgICAgc2NhbGVZID0gMTtcblxuICAgICAgICAvLyBmaW5kIHNjYWxlIGZhY3RvclxuICAgICAgICBpZiAoaW5uZXJSYXRpbyA+IG91dGVyUmF0aW8pIHtcbiAgICAgICAgICAgIHNjYWxlWSA9IGlubmVyUmF0aW8gLyBvdXRlclJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVYID0gb3V0ZXJSYXRpbyAvIGlubmVyUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmFibGUgYm91bmRzXG4gICAgICAgIHJlbmRlci5vcHRpb25zLmhhc0JvdW5kcyA9IHRydWU7XG5cbiAgICAgICAgLy8gcG9zaXRpb24gYW5kIHNpemVcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueCA9IGJvdW5kcy5taW4ueDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueCA9IGJvdW5kcy5taW4ueCArIHdpZHRoICogc2NhbGVYO1xuICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55ID0gYm91bmRzLm1pbi55O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC55ID0gYm91bmRzLm1pbi55ICsgaGVpZ2h0ICogc2NhbGVZO1xuXG4gICAgICAgIC8vIGNlbnRlclxuICAgICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZW5kZXIuYm91bmRzLm1pbi54ICs9IHdpZHRoICogMC41IC0gKHdpZHRoICogc2NhbGVYKSAqIDAuNTtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggKz0gd2lkdGggKiAwLjUgLSAod2lkdGggKiBzY2FsZVgpICogMC41O1xuICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueSArPSBoZWlnaHQgKiAwLjUgLSAoaGVpZ2h0ICogc2NhbGVZKSAqIDAuNTtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgKz0gaGVpZ2h0ICogMC41IC0gKGhlaWdodCAqIHNjYWxlWSkgKiAwLjU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYWRkaW5nXG4gICAgICAgIHJlbmRlci5ib3VuZHMubWluLnggLT0gcGFkZGluZy54O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC54IC09IHBhZGRpbmcueDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueSAtPSBwYWRkaW5nLnk7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgLT0gcGFkZGluZy55O1xuXG4gICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxuICAgICAgICBpZiAocmVuZGVyLm1vdXNlKSB7XG4gICAgICAgICAgICBNb3VzZS5zZXRTY2FsZShyZW5kZXIubW91c2UsIHtcbiAgICAgICAgICAgICAgICB4OiAocmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngpIC8gcmVuZGVyLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiAocmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnkpIC8gcmVuZGVyLmNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB2aWV3cG9ydCB0cmFuc2Zvcm1zIGJhc2VkIG9uIGByZW5kZXIuYm91bmRzYCB0byBhIHJlbmRlciBjb250ZXh0LlxuICAgICAqIEBtZXRob2Qgc3RhcnRWaWV3VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5zdGFydFZpZXdUcmFuc2Zvcm0gPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgdmFyIGJvdW5kc1dpZHRoID0gcmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngsXG4gICAgICAgICAgICBib3VuZHNIZWlnaHQgPSByZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBib3VuZHNTY2FsZVkgPSBib3VuZHNIZWlnaHQgLyByZW5kZXIub3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKFxuICAgICAgICAgICAgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyAvIGJvdW5kc1NjYWxlWCwgMCwgMCwgXG4gICAgICAgICAgICByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvIC8gYm91bmRzU2NhbGVZLCAwLCAwXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICByZW5kZXIuY29udGV4dC50cmFuc2xhdGUoLXJlbmRlci5ib3VuZHMubWluLngsIC1yZW5kZXIuYm91bmRzLm1pbi55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0cmFuc2Zvcm1zIG9uIHRoZSByZW5kZXIgY29udGV4dC5cbiAgICAgKiBAbWV0aG9kIGVuZFZpZXdUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICovXG4gICAgUmVuZGVyLmVuZFZpZXdUcmFuc2Zvcm0gPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgcmVuZGVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8sIDAsIDAsIHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8sIDAsIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBnaXZlbiBgZW5naW5lYCdzIGBNYXR0ZXIuV29ybGRgIG9iamVjdC5cbiAgICAgKiBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgYWxsIHJlbmRlcmluZyBhbmQgc2hvdWxkIGJlIGNhbGxlZCBldmVyeSB0aW1lIHRoZSBzY2VuZSBjaGFuZ2VzLlxuICAgICAqIEBtZXRob2Qgd29ybGRcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICovXG4gICAgUmVuZGVyLndvcmxkID0gZnVuY3Rpb24ocmVuZGVyLCB0aW1lKSB7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBDb21tb24ubm93KCksXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBjYW52YXMgPSByZW5kZXIuY2FudmFzLFxuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlci5jb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgdGltaW5nID0gcmVuZGVyLnRpbWluZztcblxuICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksXG4gICAgICAgICAgICBhbGxDb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCksXG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gb3B0aW9ucy53aXJlZnJhbWVzID8gb3B0aW9ucy53aXJlZnJhbWVCYWNrZ3JvdW5kIDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9kaWVzID0gW10sXG4gICAgICAgICAgICBjb25zdHJhaW50cyA9IFtdLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IGVuZ2luZS50aW1pbmcudGltZXN0YW1wXG4gICAgICAgIH07XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocmVuZGVyLCAnYmVmb3JlUmVuZGVyJywgZXZlbnQpO1xuXG4gICAgICAgIC8vIGFwcGx5IGJhY2tncm91bmQgaWYgaXQgaGFzIGNoYW5nZWRcbiAgICAgICAgaWYgKHJlbmRlci5jdXJyZW50QmFja2dyb3VuZCAhPT0gYmFja2dyb3VuZClcbiAgICAgICAgICAgIF9hcHBseUJhY2tncm91bmQocmVuZGVyLCBiYWNrZ3JvdW5kKTtcblxuICAgICAgICAvLyBjbGVhciB0aGUgY2FudmFzIHdpdGggYSB0cmFuc3BhcmVudCBmaWxsLCB0byBhbGxvdyB0aGUgY2FudmFzIGJhY2tncm91bmQgdG8gc2hvd1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2UtaW4nO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG5cbiAgICAgICAgLy8gaGFuZGxlIGJvdW5kc1xuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpIHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgYm9kaWVzIHRoYXQgYXJlIG5vdCBpbiB2aWV3XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWxsQm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhbGxCb2RpZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5vdmVybGFwcyhib2R5LmJvdW5kcywgcmVuZGVyLmJvdW5kcykpXG4gICAgICAgICAgICAgICAgICAgIGJvZGllcy5wdXNoKGJvZHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGNvbnN0cmFpbnRzIHRoYXQgYXJlIG5vdCBpbiB2aWV3XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWxsQ29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IGFsbENvbnN0cmFpbnRzW2ldLFxuICAgICAgICAgICAgICAgICAgICBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsXG4gICAgICAgICAgICAgICAgICAgIGJvZHlCID0gY29uc3RyYWludC5ib2R5QixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRBV29ybGQgPSBjb25zdHJhaW50LnBvaW50QSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRCV29ybGQgPSBjb25zdHJhaW50LnBvaW50QjtcblxuICAgICAgICAgICAgICAgIGlmIChib2R5QSkgcG9pbnRBV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlBLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlCKSBwb2ludEJXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKTtcblxuICAgICAgICAgICAgICAgIGlmICghcG9pbnRBV29ybGQgfHwgIXBvaW50QldvcmxkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMocmVuZGVyLmJvdW5kcywgcG9pbnRBV29ybGQpIHx8IEJvdW5kcy5jb250YWlucyhyZW5kZXIuYm91bmRzLCBwb2ludEJXb3JsZCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLnB1c2goY29uc3RyYWludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgdmlld1xuICAgICAgICAgICAgUmVuZGVyLnN0YXJ0Vmlld1RyYW5zZm9ybShyZW5kZXIpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgbW91c2VcbiAgICAgICAgICAgIGlmIChyZW5kZXIubW91c2UpIHtcbiAgICAgICAgICAgICAgICBNb3VzZS5zZXRTY2FsZShyZW5kZXIubW91c2UsIHtcbiAgICAgICAgICAgICAgICAgICAgeDogKHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54KSAvIHJlbmRlci5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB5OiAocmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnkpIC8gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdHJhaW50cyA9IGFsbENvbnN0cmFpbnRzO1xuICAgICAgICAgICAgYm9kaWVzID0gYWxsQm9kaWVzO1xuXG4gICAgICAgICAgICBpZiAocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHJlbmRlci5jb250ZXh0LnNldFRyYW5zZm9ybShyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwLCByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy53aXJlZnJhbWVzIHx8IChlbmdpbmUuZW5hYmxlU2xlZXBpbmcgJiYgb3B0aW9ucy5zaG93U2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAvLyBmdWxseSBmZWF0dXJlZCByZW5kZXJpbmcgb2YgYm9kaWVzXG4gICAgICAgICAgICBSZW5kZXIuYm9kaWVzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dDb252ZXhIdWxscylcbiAgICAgICAgICAgICAgICBSZW5kZXIuYm9keUNvbnZleEh1bGxzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gb3B0aW1pc2VkIG1ldGhvZCBmb3Igd2lyZWZyYW1lcyBvbmx5XG4gICAgICAgICAgICBSZW5kZXIuYm9keVdpcmVmcmFtZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0JvdW5kcylcbiAgICAgICAgICAgIFJlbmRlci5ib2R5Qm91bmRzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93QXhlcyB8fCBvcHRpb25zLnNob3dBbmdsZUluZGljYXRvcilcbiAgICAgICAgICAgIFJlbmRlci5ib2R5QXhlcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1Bvc2l0aW9ucylcbiAgICAgICAgICAgIFJlbmRlci5ib2R5UG9zaXRpb25zKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93VmVsb2NpdHkpXG4gICAgICAgICAgICBSZW5kZXIuYm9keVZlbG9jaXR5KHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93SWRzKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlJZHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dTZXBhcmF0aW9ucylcbiAgICAgICAgICAgIFJlbmRlci5zZXBhcmF0aW9ucyhyZW5kZXIsIGVuZ2luZS5wYWlycy5saXN0LCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93Q29sbGlzaW9ucylcbiAgICAgICAgICAgIFJlbmRlci5jb2xsaXNpb25zKHJlbmRlciwgZW5naW5lLnBhaXJzLmxpc3QsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dWZXJ0ZXhOdW1iZXJzKVxuICAgICAgICAgICAgUmVuZGVyLnZlcnRleE51bWJlcnMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dNb3VzZVBvc2l0aW9uKVxuICAgICAgICAgICAgUmVuZGVyLm1vdXNlUG9zaXRpb24ocmVuZGVyLCByZW5kZXIubW91c2UsIGNvbnRleHQpO1xuXG4gICAgICAgIFJlbmRlci5jb25zdHJhaW50cyhjb25zdHJhaW50cywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7XG4gICAgICAgICAgICAvLyByZXZlcnQgdmlldyB0cmFuc2Zvcm1zXG4gICAgICAgICAgICBSZW5kZXIuZW5kVmlld1RyYW5zZm9ybShyZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocmVuZGVyLCAnYWZ0ZXJSZW5kZXInLCBldmVudCk7XG5cbiAgICAgICAgLy8gbG9nIHRoZSB0aW1lIGVsYXBzZWQgY29tcHV0aW5nIHRoaXMgdXBkYXRlXG4gICAgICAgIHRpbWluZy5sYXN0RWxhcHNlZCA9IENvbW1vbi5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzdGF0aXN0aWNzIGFib3V0IHRoZSBlbmdpbmUgYW5kIHdvcmxkIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzdGF0c1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICAgICAqL1xuICAgIFJlbmRlci5zdGF0cyA9IGZ1bmN0aW9uKHJlbmRlciwgY29udGV4dCwgdGltZSkge1xuICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLFxuICAgICAgICAgICAgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksXG4gICAgICAgICAgICBwYXJ0cyA9IDAsXG4gICAgICAgICAgICB3aWR0aCA9IDU1LFxuICAgICAgICAgICAgaGVpZ2h0ID0gNDQsXG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gY291bnQgcGFydHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHBhcnRzICs9IGJvZGllc1tpXS5wYXJ0cy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWN0aW9uc1xuICAgICAgICB2YXIgc2VjdGlvbnMgPSB7XG4gICAgICAgICAgICAnUGFydCc6IHBhcnRzLFxuICAgICAgICAgICAgJ0JvZHknOiBib2RpZXMubGVuZ3RoLFxuICAgICAgICAgICAgJ0NvbnMnOiBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMod29ybGQpLmxlbmd0aCxcbiAgICAgICAgICAgICdDb21wJzogQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMod29ybGQpLmxlbmd0aCxcbiAgICAgICAgICAgICdQYWlyJzogZW5naW5lLnBhaXJzLmxpc3QubGVuZ3RoXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMGUwZjE5JztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh4LCB5LCB3aWR0aCAqIDUuNSwgaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ3JpZ2h0JztcblxuICAgICAgICAvLyBzZWN0aW9uc1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2VjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gc2VjdGlvbnNba2V5XTtcbiAgICAgICAgICAgIC8vIGxhYmVsXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjYWFhJztcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoa2V5LCB4ICsgd2lkdGgsIHkgKyA4KTtcblxuICAgICAgICAgICAgLy8gdmFsdWVcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNlZWUnO1xuICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChzZWN0aW9uLCB4ICsgd2lkdGgsIHkgKyAyNik7XG5cbiAgICAgICAgICAgIHggKz0gd2lkdGg7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBlbmdpbmUgYW5kIHJlbmRlciBwZXJmb3JtYW5jZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcGVyZm9ybWFuY2VcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLnBlcmZvcm1hbmNlID0gZnVuY3Rpb24ocmVuZGVyLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgdGltaW5nID0gcmVuZGVyLnRpbWluZyxcbiAgICAgICAgICAgIGRlbHRhSGlzdG9yeSA9IHRpbWluZy5kZWx0YUhpc3RvcnksXG4gICAgICAgICAgICBlbGFwc2VkSGlzdG9yeSA9IHRpbWluZy5lbGFwc2VkSGlzdG9yeSxcbiAgICAgICAgICAgIHRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5ID0gdGltaW5nLnRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5LFxuICAgICAgICAgICAgZW5naW5lRGVsdGFIaXN0b3J5ID0gdGltaW5nLmVuZ2luZURlbHRhSGlzdG9yeSxcbiAgICAgICAgICAgIGVuZ2luZUVsYXBzZWRIaXN0b3J5ID0gdGltaW5nLmVuZ2luZUVsYXBzZWRIaXN0b3J5LFxuICAgICAgICAgICAgbGFzdEVuZ2luZURlbHRhID0gZW5naW5lLnRpbWluZy5sYXN0RGVsdGE7XG4gICAgICAgIFxuICAgICAgICB2YXIgZGVsdGFNZWFuID0gX21lYW4oZGVsdGFIaXN0b3J5KSxcbiAgICAgICAgICAgIGVsYXBzZWRNZWFuID0gX21lYW4oZWxhcHNlZEhpc3RvcnkpLFxuICAgICAgICAgICAgZW5naW5lRGVsdGFNZWFuID0gX21lYW4oZW5naW5lRGVsdGFIaXN0b3J5KSxcbiAgICAgICAgICAgIGVuZ2luZUVsYXBzZWRNZWFuID0gX21lYW4oZW5naW5lRWxhcHNlZEhpc3RvcnkpLFxuICAgICAgICAgICAgdGltZXN0YW1wRWxhcHNlZE1lYW4gPSBfbWVhbih0aW1lc3RhbXBFbGFwc2VkSGlzdG9yeSksXG4gICAgICAgICAgICByYXRlTWVhbiA9ICh0aW1lc3RhbXBFbGFwc2VkTWVhbiAvIGRlbHRhTWVhbikgfHwgMCxcbiAgICAgICAgICAgIGZwcyA9ICgxMDAwIC8gZGVsdGFNZWFuKSB8fCAwO1xuXG4gICAgICAgIHZhciBncmFwaEhlaWdodCA9IDQsXG4gICAgICAgICAgICBnYXAgPSAxMixcbiAgICAgICAgICAgIHdpZHRoID0gNjAsXG4gICAgICAgICAgICBoZWlnaHQgPSAzNCxcbiAgICAgICAgICAgIHggPSAxMCxcbiAgICAgICAgICAgIHkgPSA2OTtcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwZTBmMTknO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDUwLCBnYXAgKiA0ICsgd2lkdGggKiA1ICsgMjIsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gc2hvdyBGUFNcbiAgICAgICAgUmVuZGVyLnN0YXR1cyhcbiAgICAgICAgICAgIGNvbnRleHQsIHgsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZGVsdGFIaXN0b3J5Lmxlbmd0aCwgXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGZwcykgKyAnIGZwcycsIFxuICAgICAgICAgICAgZnBzIC8gUmVuZGVyLl9nb29kRnBzLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKGRlbHRhSGlzdG9yeVtpXSAvIGRlbHRhTWVhbikgLSAxOyB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc2hvdyBlbmdpbmUgZGVsdGFcbiAgICAgICAgUmVuZGVyLnN0YXR1cyhcbiAgICAgICAgICAgIGNvbnRleHQsIHggKyBnYXAgKyB3aWR0aCwgeSwgd2lkdGgsIGdyYXBoSGVpZ2h0LCBlbmdpbmVEZWx0YUhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgbGFzdEVuZ2luZURlbHRhLnRvRml4ZWQoMikgKyAnIGR0JywgXG4gICAgICAgICAgICBSZW5kZXIuX2dvb2REZWx0YSAvIGxhc3RFbmdpbmVEZWx0YSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIChlbmdpbmVEZWx0YUhpc3RvcnlbaV0gLyBlbmdpbmVEZWx0YU1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgZW5naW5lIHVwZGF0ZSB0aW1lXG4gICAgICAgIFJlbmRlci5zdGF0dXMoXG4gICAgICAgICAgICBjb250ZXh0LCB4ICsgKGdhcCArIHdpZHRoKSAqIDIsIHksIHdpZHRoLCBncmFwaEhlaWdodCwgZW5naW5lRWxhcHNlZEhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgZW5naW5lRWxhcHNlZE1lYW4udG9GaXhlZCgyKSArICcgdXQnLCBcbiAgICAgICAgICAgIDEgLSAoZW5naW5lRWxhcHNlZE1lYW4gLyBSZW5kZXIuX2dvb2RGcHMpLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKGVuZ2luZUVsYXBzZWRIaXN0b3J5W2ldIC8gZW5naW5lRWxhcHNlZE1lYW4pIC0gMTsgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNob3cgcmVuZGVyIHRpbWVcbiAgICAgICAgUmVuZGVyLnN0YXR1cyhcbiAgICAgICAgICAgIGNvbnRleHQsIHggKyAoZ2FwICsgd2lkdGgpICogMywgeSwgd2lkdGgsIGdyYXBoSGVpZ2h0LCBlbGFwc2VkSGlzdG9yeS5sZW5ndGgsXG4gICAgICAgICAgICBlbGFwc2VkTWVhbi50b0ZpeGVkKDIpICsgJyBydCcsIFxuICAgICAgICAgICAgMSAtIChlbGFwc2VkTWVhbiAvIFJlbmRlci5fZ29vZEZwcyksXG4gICAgICAgICAgICBmdW5jdGlvbihpKSB7IHJldHVybiAoZWxhcHNlZEhpc3RvcnlbaV0gLyBlbGFwc2VkTWVhbikgLSAxOyB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc2hvdyBlZmZlY3RpdmUgc3BlZWRcbiAgICAgICAgUmVuZGVyLnN0YXR1cyhcbiAgICAgICAgICAgIGNvbnRleHQsIHggKyAoZ2FwICsgd2lkdGgpICogNCwgeSwgd2lkdGgsIGdyYXBoSGVpZ2h0LCB0aW1lc3RhbXBFbGFwc2VkSGlzdG9yeS5sZW5ndGgsIFxuICAgICAgICAgICAgcmF0ZU1lYW4udG9GaXhlZCgyKSArICcgeCcsIFxuICAgICAgICAgICAgcmF0ZU1lYW4gKiByYXRlTWVhbiAqIHJhdGVNZWFuLFxuICAgICAgICAgICAgZnVuY3Rpb24oaSkgeyByZXR1cm4gKCgodGltZXN0YW1wRWxhcHNlZEhpc3RvcnlbaV0gLyBkZWx0YUhpc3RvcnlbaV0pIC8gcmF0ZU1lYW4pIHx8IDApIC0gMTsgfVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgbGFiZWwsIGluZGljYXRvciBhbmQgYSBjaGFydC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc3RhdHVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcGxvdFlcbiAgICAgKi9cbiAgICBSZW5kZXIuc3RhdHVzID0gZnVuY3Rpb24oY29udGV4dCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgY291bnQsIGxhYmVsLCBpbmRpY2F0b3IsIHBsb3RZKSB7XG4gICAgICAgIC8vIGJhY2tncm91bmRcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjODg4JztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzQ0NCc7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh4LCB5ICsgNywgd2lkdGgsIDEpO1xuXG4gICAgICAgIC8vIGNoYXJ0XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHkgKyA3IC0gaGVpZ2h0ICogQ29tbW9uLmNsYW1wKDAuNCAqIHBsb3RZKDApLCAtMiwgMikpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpZHRoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHggKyBpLCB5ICsgNyAtIChpIDwgY291bnQgPyBoZWlnaHQgKiBDb21tb24uY2xhbXAoMC40ICogcGxvdFkoaSksIC0yLCAyKSA6IDApKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIGluZGljYXRvclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdoc2woJyArIENvbW1vbi5jbGFtcCgyNSArIDk1ICogaW5kaWNhdG9yLCAwLCAxMjApICsgJywxMDAlLDYwJSknO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHgsIHkgLSA3LCA0LCA0KTtcblxuICAgICAgICAvLyBsYWJlbFxuICAgICAgICBjb250ZXh0LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2VlZSc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobGFiZWwsIHggKyB3aWR0aCwgeSAtIDUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBjb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludFtdfSBjb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5jb25zdHJhaW50cyA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNvbnN0cmFpbnQucmVuZGVyLnZpc2libGUgfHwgIWNvbnN0cmFpbnQucG9pbnRBIHx8ICFjb25zdHJhaW50LnBvaW50QilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGJvZHlBID0gY29uc3RyYWludC5ib2R5QSxcbiAgICAgICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsXG4gICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kO1xuXG4gICAgICAgICAgICBpZiAoYm9keUEpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRBKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBjb25zdHJhaW50LnBvaW50QTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQucmVuZGVyLnR5cGUgPT09ICdwaW4nKSB7XG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLmFyYyhzdGFydC54LCBzdGFydC55LCAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlCKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBjb25zdHJhaW50LnBvaW50QjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGMubW92ZVRvKHN0YXJ0LngsIHN0YXJ0LnkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQucmVuZGVyLnR5cGUgPT09ICdzcHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IFZlY3Rvci5zdWIoZW5kLCBzdGFydCksXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWwgPSBWZWN0b3IucGVycChWZWN0b3Iubm9ybWFsaXNlKGRlbHRhKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2lscyA9IE1hdGguY2VpbChDb21tb24uY2xhbXAoY29uc3RyYWludC5sZW5ndGggLyA1LCAxMiwgMjApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGNvaWxzOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGogJSAyID09PSAwID8gMSA6IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC54ICsgZGVsdGEueCAqIChqIC8gY29pbHMpICsgbm9ybWFsLnggKiBvZmZzZXQgKiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnkgKyBkZWx0YS55ICogKGogLyBjb2lscykgKyBub3JtYWwueSAqIG9mZnNldCAqIDRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjLmxpbmVUbyhlbmQueCwgZW5kLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uc3RyYWludC5yZW5kZXIubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgYy5saW5lV2lkdGggPSBjb25zdHJhaW50LnJlbmRlci5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9IGNvbnN0cmFpbnQucmVuZGVyLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci5hbmNob3JzKSB7XG4gICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSBjb25zdHJhaW50LnJlbmRlci5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGMuYXJjKHN0YXJ0LngsIHN0YXJ0LnksIDMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjLmFyYyhlbmQueCwgZW5kLnksIDMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGMuZmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZGllc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZGllcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBzaG93SW50ZXJuYWxFZGdlcyA9IG9wdGlvbnMuc2hvd0ludGVybmFsRWRnZXMgfHwgIW9wdGlvbnMud2lyZWZyYW1lcyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgY29tcG91bmQgcGFydHNcbiAgICAgICAgICAgIGZvciAoayA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBrIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBib2R5LnBhcnRzW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dTbGVlcGluZyAmJiBib2R5LmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5nbG9iYWxBbHBoYSA9IDAuNSAqIHBhcnQucmVuZGVyLm9wYWNpdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnJlbmRlci5vcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuZ2xvYmFsQWxwaGEgPSBwYXJ0LnJlbmRlci5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnJlbmRlci5zcHJpdGUgJiYgcGFydC5yZW5kZXIuc3ByaXRlLnRleHR1cmUgJiYgIW9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXJ0IHNwcml0ZVxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gcGFydC5yZW5kZXIuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZSA9IF9nZXRUZXh0dXJlKHJlbmRlciwgc3ByaXRlLnRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNsYXRlKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICAgICAgYy5yb3RhdGUocGFydC5hbmdsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYy5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS53aWR0aCAqIC1zcHJpdGUueE9mZnNldCAqIHNwcml0ZS54U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCAqIC1zcHJpdGUueU9mZnNldCAqIHNwcml0ZS55U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLndpZHRoICogc3ByaXRlLnhTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuaGVpZ2h0ICogc3ByaXRlLnlTY2FsZVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVydCB0cmFuc2xhdGlvbiwgaG9wZWZ1bGx5IGZhc3RlciB0aGFuIHNhdmUgLyByZXN0b3JlXG4gICAgICAgICAgICAgICAgICAgIGMucm90YXRlKC1wYXJ0LmFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2xhdGUoLXBhcnQucG9zaXRpb24ueCwgLXBhcnQucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydCBwb2x5Z29uXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmNpcmNsZVJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuYXJjKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55LCBwYXJ0LmNpcmNsZVJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbMF0ueCwgcGFydC52ZXJ0aWNlc1swXS55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwYXJ0LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0LnZlcnRpY2VzW2ogLSAxXS5pc0ludGVybmFsIHx8IHNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzW2pdLngsIHBhcnQudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudmVydGljZXNbal0uaXNJbnRlcm5hbCAmJiAhc2hvd0ludGVybmFsRWRnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLngsIHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbMF0ueCwgcGFydC52ZXJ0aWNlc1swXS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSBwYXJ0LnJlbmRlci5maWxsU3R5bGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnJlbmRlci5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVXaWR0aCA9IHBhcnQucmVuZGVyLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gcGFydC5yZW5kZXIuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYy5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJyNiYmInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE9wdGltaXNlZCBtZXRob2QgZm9yIGRyYXdpbmcgYm9keSB3aXJlZnJhbWVzIGluIG9uZSBwYXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlXaXJlZnJhbWVzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keVdpcmVmcmFtZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBzaG93SW50ZXJuYWxFZGdlcyA9IHJlbmRlci5vcHRpb25zLnNob3dJbnRlcm5hbEVkZ2VzLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgYWxsIGJvZGllc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChrID0gYm9keS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgcGFydCA9IGJvZHkucGFydHNba107XG5cbiAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnQudmVydGljZXNbaiAtIDFdLmlzSW50ZXJuYWwgfHwgc2hvd0ludGVybmFsRWRnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueCwgcGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZVN0eWxlID0gJyNiYmInO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPcHRpbWlzZWQgbWV0aG9kIGZvciBkcmF3aW5nIGJvZHkgY29udmV4IGh1bGwgd2lyZWZyYW1lcyBpbiBvbmUgcGFzc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5Q29udmV4SHVsbHNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5Q29udmV4SHVsbHMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjb252ZXggaHVsbHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlIHx8IGJvZHkucGFydHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjLm1vdmVUbyhib2R5LnZlcnRpY2VzWzBdLngsIGJvZHkudmVydGljZXNbMF0ueSk7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCBib2R5LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgYy5saW5lVG8oYm9keS52ZXJ0aWNlc1tqXS54LCBib2R5LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjLmxpbmVUbyhib2R5LnZlcnRpY2VzWzBdLngsIGJvZHkudmVydGljZXNbMF0ueSk7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjIpJztcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBib2R5IHZlcnRleCBudW1iZXJzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCB2ZXJ0ZXhOdW1iZXJzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIudmVydGV4TnVtYmVycyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBib2RpZXNbaV0ucGFydHM7XG4gICAgICAgICAgICBmb3IgKGsgPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBwYXJ0cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNba107XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhcnQudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjIpJztcbiAgICAgICAgICAgICAgICAgICAgYy5maWxsVGV4dChpICsgJ18nICsgaiwgcGFydC5wb3NpdGlvbi54ICsgKHBhcnQudmVydGljZXNbal0ueCAtIHBhcnQucG9zaXRpb24ueCkgKiAwLjgsIHBhcnQucG9zaXRpb24ueSArIChwYXJ0LnZlcnRpY2VzW2pdLnkgLSBwYXJ0LnBvc2l0aW9uLnkpICogMC44KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBtb3VzZSBwb3NpdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgbW91c2VQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5tb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24ocmVuZGVyLCBtb3VzZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQ7XG4gICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC44KSc7XG4gICAgICAgIGMuZmlsbFRleHQobW91c2UucG9zaXRpb24ueCArICcgICcgKyBtb3VzZS5wb3NpdGlvbi55LCBtb3VzZS5wb3NpdGlvbi54ICsgNSwgbW91c2UucG9zaXRpb24ueSAtIDUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IGJvdW5kc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5Qm91bmRzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keUJvdW5kcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnM7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChib2R5LnJlbmRlci52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gYm9kaWVzW2ldLnBhcnRzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBjLnJlY3QocGFydC5ib3VuZHMubWluLngsIHBhcnQuYm91bmRzLm1pbi55LCBwYXJ0LmJvdW5kcy5tYXgueCAtIHBhcnQuYm91bmRzLm1pbi54LCBwYXJ0LmJvdW5kcy5tYXgueSAtIHBhcnQuYm91bmRzLm1pbi55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4wOCknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMSknO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IGFuZ2xlIGluZGljYXRvcnMgYW5kIGF4ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keUF4ZXNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5QXhlcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgcGFydHMgPSBib2R5LnBhcnRzO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dBeGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGFsbCBheGVzXG4gICAgICAgICAgICAgICAgZm9yIChqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcGFydC5heGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXhpcyA9IHBhcnQuYXhlc1trXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQucG9zaXRpb24ueCArIGF4aXMueCAqIDIwLCBwYXJ0LnBvc2l0aW9uLnkgKyBheGlzLnkgKiAyMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnQuYXhlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyIGEgc2luZ2xlIGF4aXMgaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbygocGFydC52ZXJ0aWNlc1swXS54ICsgcGFydC52ZXJ0aWNlc1twYXJ0LnZlcnRpY2VzLmxlbmd0aC0xXS54KSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcnQudmVydGljZXNbMF0ueSArIHBhcnQudmVydGljZXNbcGFydC52ZXJ0aWNlcy5sZW5ndGgtMV0ueSkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnaW5kaWFucmVkJztcbiAgICAgICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpJztcbiAgICAgICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ292ZXJsYXknO1xuICAgICAgICAgICAgYy5saW5lV2lkdGggPSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICAgICAgYy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IHBvc2l0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5UG9zaXRpb25zXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keVBvc2l0aW9ucyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGN1cnJlbnQgcG9zaXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBib2R5LnBhcnRzW2tdO1xuICAgICAgICAgICAgICAgIGMuYXJjKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55LCAzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdpbmRpYW5yZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjUpJztcbiAgICAgICAgfVxuICAgICAgICBjLmZpbGwoKTtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBwcmV2aW91cyBwb3NpdGlvbnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTtcbiAgICAgICAgICAgIGlmIChib2R5LnJlbmRlci52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgYy5hcmMoYm9keS5wb3NpdGlvblByZXYueCwgYm9keS5wb3NpdGlvblByZXYueSwgMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC44KSc7XG4gICAgICAgIGMuZmlsbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IHZlbG9jaXR5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlWZWxvY2l0eVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlWZWxvY2l0eSA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dDtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgdmVsb2NpdHkgPSBCb2R5LmdldFZlbG9jaXR5KGJvZHkpO1xuXG4gICAgICAgICAgICBjLm1vdmVUbyhib2R5LnBvc2l0aW9uLngsIGJvZHkucG9zaXRpb24ueSk7XG4gICAgICAgICAgICBjLmxpbmVUbyhib2R5LnBvc2l0aW9uLnggKyB2ZWxvY2l0eS54LCBib2R5LnBvc2l0aW9uLnkgKyB2ZWxvY2l0eS55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMztcbiAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdjb3JuZmxvd2VyYmx1ZSc7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgaWRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlJZHNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5SWRzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFib2RpZXNbaV0ucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGJvZGllc1tpXS5wYXJ0cztcbiAgICAgICAgICAgIGZvciAoaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICBjLmZvbnQgPSBcIjEycHggQXJpYWxcIjtcbiAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknO1xuICAgICAgICAgICAgICAgIGMuZmlsbFRleHQocGFydC5pZCwgcGFydC5wb3NpdGlvbi54ICsgMTAsIHBhcnQucG9zaXRpb24ueSAtIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBjb2xsaXNpb25zXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5jb2xsaXNpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBwYWlycywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgY29ycmVjdGVkLFxuICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICBib2R5QixcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGNvbGxpc2lvbiBwb3NpdGlvbnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWN0ID0gcGFpci5hY3RpdmVDb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4ID0gY29udGFjdC52ZXJ0ZXg7XG4gICAgICAgICAgICAgICAgYy5yZWN0KHZlcnRleC54IC0gMS41LCB2ZXJ0ZXgueSAtIDEuNSwgMy41LCAzLjUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ29yYW5nZSc7XG4gICAgICAgIH1cbiAgICAgICAgYy5maWxsKCk7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgY29sbGlzaW9uIG5vcm1hbHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG5cbiAgICAgICAgICAgIGlmIChwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsUG9zWCA9IHBhaXIuYWN0aXZlQ29udGFjdHNbMF0udmVydGV4LngsXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1kgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC55O1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1ggPSAocGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueCArIHBhaXIuYWN0aXZlQ29udGFjdHNbMV0udmVydGV4LngpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsUG9zWSA9IChwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC55ICsgcGFpci5hY3RpdmVDb250YWN0c1sxXS52ZXJ0ZXgueSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24uYm9keUIgPT09IGNvbGxpc2lvbi5zdXBwb3J0c1swXS5ib2R5IHx8IGNvbGxpc2lvbi5ib2R5QS5pc1N0YXRpYyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhub3JtYWxQb3NYIC0gY29sbGlzaW9uLm5vcm1hbC54ICogOCwgbm9ybWFsUG9zWSAtIGNvbGxpc2lvbi5ub3JtYWwueSAqIDgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKG5vcm1hbFBvc1ggKyBjb2xsaXNpb24ubm9ybWFsLnggKiA4LCBub3JtYWxQb3NZICsgY29sbGlzaW9uLm5vcm1hbC55ICogOCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5saW5lVG8obm9ybWFsUG9zWCwgbm9ybWFsUG9zWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuNyknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzZXBhcmF0aW9uc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuc2VwYXJhdGlvbnMgPSBmdW5jdGlvbihyZW5kZXIsIHBhaXJzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBjb3JyZWN0ZWQsXG4gICAgICAgICAgICBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgc2VwYXJhdGlvbnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QTtcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCO1xuXG4gICAgICAgICAgICB2YXIgayA9IDE7XG5cbiAgICAgICAgICAgIGlmICghYm9keUIuaXNTdGF0aWMgJiYgIWJvZHlBLmlzU3RhdGljKSBrID0gMC41O1xuICAgICAgICAgICAgaWYgKGJvZHlCLmlzU3RhdGljKSBrID0gMDtcblxuICAgICAgICAgICAgYy5tb3ZlVG8oYm9keUIucG9zaXRpb24ueCwgYm9keUIucG9zaXRpb24ueSk7XG4gICAgICAgICAgICBjLmxpbmVUbyhib2R5Qi5wb3NpdGlvbi54IC0gY29sbGlzaW9uLnBlbmV0cmF0aW9uLnggKiBrLCBib2R5Qi5wb3NpdGlvbi55IC0gY29sbGlzaW9uLnBlbmV0cmF0aW9uLnkgKiBrKTtcblxuICAgICAgICAgICAgayA9IDE7XG5cbiAgICAgICAgICAgIGlmICghYm9keUIuaXNTdGF0aWMgJiYgIWJvZHlBLmlzU3RhdGljKSBrID0gMC41O1xuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU3RhdGljKSBrID0gMDtcblxuICAgICAgICAgICAgYy5tb3ZlVG8oYm9keUEucG9zaXRpb24ueCwgYm9keUEucG9zaXRpb24ueSk7XG4gICAgICAgICAgICBjLmxpbmVUbyhib2R5QS5wb3NpdGlvbi54ICsgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnggKiBrLCBib2R5QS5wb3NpdGlvbi55ICsgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnkgKiBrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC41KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ29yYW5nZSc7XG4gICAgICAgIH1cbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgaW5zcGVjdG9yXG4gICAgICogQHBhcmFtIHtpbnNwZWN0b3J9IGluc3BlY3RvclxuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5pbnNwZWN0b3IgPSBmdW5jdGlvbihpbnNwZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGVuZ2luZSA9IGluc3BlY3Rvci5lbmdpbmUsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGluc3BlY3Rvci5zZWxlY3RlZCxcbiAgICAgICAgICAgIHJlbmRlciA9IGluc3BlY3Rvci5yZW5kZXIsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBib3VuZHM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7XG4gICAgICAgICAgICB2YXIgYm91bmRzV2lkdGggPSByZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCxcbiAgICAgICAgICAgICAgICBib3VuZHNIZWlnaHQgPSByZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib3VuZHNTY2FsZVggPSBib3VuZHNXaWR0aCAvIHJlbmRlci5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIGJvdW5kc1NjYWxlWSA9IGJvdW5kc0hlaWdodCAvIHJlbmRlci5vcHRpb25zLmhlaWdodDtcblxuICAgICAgICAgICAgY29udGV4dC5zY2FsZSgxIC8gYm91bmRzU2NhbGVYLCAxIC8gYm91bmRzU2NhbGVZKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC1yZW5kZXIuYm91bmRzLm1pbi54LCAtcmVuZGVyLmJvdW5kcy5taW4ueSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHNlbGVjdGVkW2ldLmRhdGE7XG5cbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKDAuNSwgMC41KTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC45KSc7XG4gICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKFsxLDJdKTtcblxuICAgICAgICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnYm9keSc6XG5cbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgYm9keSBzZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgYm91bmRzID0gaXRlbS5ib3VuZHM7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3QoTWF0aC5mbG9vcihib3VuZHMubWluLnggLSAzKSwgTWF0aC5mbG9vcihib3VuZHMubWluLnkgLSAzKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihib3VuZHMubWF4LnggLSBib3VuZHMubWluLnggKyA2KSwgTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLSBib3VuZHMubWluLnkgKyA2KSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGNvbnN0cmFpbnQgc2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IGl0ZW0ucG9pbnRBO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmJvZHlBKVxuICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGl0ZW0ucG9pbnRCO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMocG9pbnQueCwgcG9pbnQueSwgMTAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKFtdKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0wLjUsIC0wLjUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVuZGVyIHNlbGVjdGlvbiByZWdpb25cbiAgICAgICAgaWYgKGluc3BlY3Rvci5zZWxlY3RTdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMC41LCAwLjUpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjYpJztcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuMSknO1xuICAgICAgICAgICAgYm91bmRzID0gaW5zcGVjdG9yLnNlbGVjdEJvdW5kcztcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnJlY3QoTWF0aC5mbG9vcihib3VuZHMubWluLngpLCBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSksXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihib3VuZHMubWF4LnggLSBib3VuZHMubWluLngpLCBNYXRoLmZsb29yKGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSkpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0wLjUsIC0wLjUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKVxuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgcmVuZGVyIHRpbWluZy5cbiAgICAgKiBAbWV0aG9kIF91cGRhdGVUaW1pbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICAgICAqL1xuICAgIHZhciBfdXBkYXRlVGltaW5nID0gZnVuY3Rpb24ocmVuZGVyLCB0aW1lKSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgdGltaW5nID0gcmVuZGVyLnRpbWluZyxcbiAgICAgICAgICAgIGhpc3RvcnlTaXplID0gdGltaW5nLmhpc3RvcnlTaXplLFxuICAgICAgICAgICAgdGltZXN0YW1wID0gZW5naW5lLnRpbWluZy50aW1lc3RhbXA7XG5cbiAgICAgICAgdGltaW5nLmRlbHRhID0gdGltZSAtIHRpbWluZy5sYXN0VGltZSB8fCBSZW5kZXIuX2dvb2REZWx0YTtcbiAgICAgICAgdGltaW5nLmxhc3RUaW1lID0gdGltZTtcblxuICAgICAgICB0aW1pbmcudGltZXN0YW1wRWxhcHNlZCA9IHRpbWVzdGFtcCAtIHRpbWluZy5sYXN0VGltZXN0YW1wIHx8IDA7XG4gICAgICAgIHRpbWluZy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuXG4gICAgICAgIHRpbWluZy5kZWx0YUhpc3RvcnkudW5zaGlmdCh0aW1pbmcuZGVsdGEpO1xuICAgICAgICB0aW1pbmcuZGVsdGFIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy5kZWx0YUhpc3RvcnkubGVuZ3RoLCBoaXN0b3J5U2l6ZSk7XG5cbiAgICAgICAgdGltaW5nLmVuZ2luZURlbHRhSGlzdG9yeS51bnNoaWZ0KGVuZ2luZS50aW1pbmcubGFzdERlbHRhKTtcbiAgICAgICAgdGltaW5nLmVuZ2luZURlbHRhSGlzdG9yeS5sZW5ndGggPSBNYXRoLm1pbih0aW1pbmcuZW5naW5lRGVsdGFIaXN0b3J5Lmxlbmd0aCwgaGlzdG9yeVNpemUpO1xuXG4gICAgICAgIHRpbWluZy50aW1lc3RhbXBFbGFwc2VkSGlzdG9yeS51bnNoaWZ0KHRpbWluZy50aW1lc3RhbXBFbGFwc2VkKTtcbiAgICAgICAgdGltaW5nLnRpbWVzdGFtcEVsYXBzZWRIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy50aW1lc3RhbXBFbGFwc2VkSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcblxuICAgICAgICB0aW1pbmcuZW5naW5lRWxhcHNlZEhpc3RvcnkudW5zaGlmdChlbmdpbmUudGltaW5nLmxhc3RFbGFwc2VkKTtcbiAgICAgICAgdGltaW5nLmVuZ2luZUVsYXBzZWRIaXN0b3J5Lmxlbmd0aCA9IE1hdGgubWluKHRpbWluZy5lbmdpbmVFbGFwc2VkSGlzdG9yeS5sZW5ndGgsIGhpc3RvcnlTaXplKTtcblxuICAgICAgICB0aW1pbmcuZWxhcHNlZEhpc3RvcnkudW5zaGlmdCh0aW1pbmcubGFzdEVsYXBzZWQpO1xuICAgICAgICB0aW1pbmcuZWxhcHNlZEhpc3RvcnkubGVuZ3RoID0gTWF0aC5taW4odGltaW5nLmVsYXBzZWRIaXN0b3J5Lmxlbmd0aCwgaGlzdG9yeVNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZWFuIHZhbHVlIG9mIHRoZSBnaXZlbiBudW1iZXJzLlxuICAgICAqIEBtZXRob2QgX21lYW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHZhbHVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIG1lYW4gb2YgZ2l2ZW4gdmFsdWVzXG4gICAgICovXG4gICAgdmFyIF9tZWFuID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHJlc3VsdCAvIHZhbHVlcy5sZW5ndGgpIHx8IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUNhbnZhc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IHdpZHRoXG4gICAgICogQHBhcmFtIHt9IGhlaWdodFxuICAgICAqIEByZXR1cm4gY2FudmFzXG4gICAgICovXG4gICAgdmFyIF9jcmVhdGVDYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICAgICAgY2FudmFzLm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAqIEBtZXRob2QgX2dldFBpeGVsUmF0aW9cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhbnZhc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gcGl4ZWwgcmF0aW9cbiAgICAgKi9cbiAgICB2YXIgX2dldFBpeGVsUmF0aW8gPSBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgICAgIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLFxuICAgICAgICAgICAgYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyA9IGNvbnRleHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjb250ZXh0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgY29udGV4dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY29udGV4dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxSYXRpbyAvIGJhY2tpbmdTdG9yZVBpeGVsUmF0aW87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJlcXVlc3RlZCB0ZXh0dXJlIChhbiBJbWFnZSkgdmlhIGl0cyBwYXRoXG4gICAgICogQG1ldGhvZCBfZ2V0VGV4dHVyZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVBhdGhcbiAgICAgKiBAcmV0dXJuIHtJbWFnZX0gdGV4dHVyZVxuICAgICAqL1xuICAgIHZhciBfZ2V0VGV4dHVyZSA9IGZ1bmN0aW9uKHJlbmRlciwgaW1hZ2VQYXRoKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHJlbmRlci50ZXh0dXJlc1tpbWFnZVBhdGhdO1xuXG4gICAgICAgIGlmIChpbWFnZSlcbiAgICAgICAgICAgIHJldHVybiBpbWFnZTtcblxuICAgICAgICBpbWFnZSA9IHJlbmRlci50ZXh0dXJlc1tpbWFnZVBhdGhdID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IGltYWdlUGF0aDtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGJhY2tncm91bmQgdG8gdGhlIGNhbnZhcyB1c2luZyBDU1MuXG4gICAgICogQG1ldGhvZCBhcHBseUJhY2tncm91bmRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZFxuICAgICAqL1xuICAgIHZhciBfYXBwbHlCYWNrZ3JvdW5kID0gZnVuY3Rpb24ocmVuZGVyLCBiYWNrZ3JvdW5kKSB7XG4gICAgICAgIHZhciBjc3NCYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcblxuICAgICAgICBpZiAoLyhqcGd8Z2lmfHBuZykkLy50ZXN0KGJhY2tncm91bmQpKVxuICAgICAgICAgICAgY3NzQmFja2dyb3VuZCA9ICd1cmwoJyArIGJhY2tncm91bmQgKyAnKSc7XG5cbiAgICAgICAgcmVuZGVyLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kID0gY3NzQmFja2dyb3VuZDtcbiAgICAgICAgcmVuZGVyLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiY29udGFpblwiO1xuICAgICAgICByZW5kZXIuY3VycmVudEJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVJlbmRlclxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyUmVuZGVyXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGJhY2stcmVmZXJlbmNlIHRvIHRoZSBgTWF0dGVyLlJlbmRlcmAgbW9kdWxlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcHJvcGVydHkgY29udHJvbGxlclxuICAgICAqIEB0eXBlIHJlbmRlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBNYXR0ZXIuRW5naW5lYCBpbnN0YW5jZSB0byBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGVuZ2luZVxuICAgICAqIEB0eXBlIGVuZ2luZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGNhbnZhcyBpcyB0byBiZSBpbnNlcnRlZCAoaWYgYHJlbmRlci5jYW52YXNgIGhhcyBub3QgYmVlbiBzcGVjaWZpZWQpXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZWxlbWVudFxuICAgICAqIEB0eXBlIEhUTUxFbGVtZW50XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRvIHJlbmRlciB0by4gSWYgbm90IHNwZWNpZmllZCwgb25lIHdpbGwgYmUgY3JlYXRlZCBpZiBgcmVuZGVyLmVsZW1lbnRgIGhhcyBiZWVuIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjYW52YXNcbiAgICAgKiBAdHlwZSBIVE1MQ2FudmFzRWxlbWVudFxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBkcmF3aW5nIHZpZXcgcmVnaW9uLlxuICAgICAqIFJlbmRlcmluZyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgdHJhbnNmb3JtZWQgYW5kIHNjYWxlZCB0byBmaXQgd2l0aGluIHRoZSBjYW52YXMgc2l6ZSAoYHJlbmRlci5vcHRpb25zLndpZHRoYCBhbmQgYHJlbmRlci5vcHRpb25zLmhlaWdodGApLlxuICAgICAqIFRoaXMgYWxsb3dzIGZvciBjcmVhdGluZyB2aWV3cyB0aGF0IGNhbiBwYW4gb3Igem9vbSBhcm91bmQgdGhlIHNjZW5lLlxuICAgICAqIFlvdSBtdXN0IGFsc28gc2V0IGByZW5kZXIub3B0aW9ucy5oYXNCb3VuZHNgIHRvIGB0cnVlYCB0byBlbmFibGUgYm91bmRlZCByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm91bmRzXG4gICAgICogQHR5cGUgYm91bmRzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgZnJvbSB0aGUgYHJlbmRlci5jYW52YXNgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29udGV4dFxuICAgICAqIEB0eXBlIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNwcml0ZSB0ZXh0dXJlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRleHR1cmVzXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3VzZSB0byByZW5kZXIgaWYgYHJlbmRlci5vcHRpb25zLnNob3dNb3VzZVBvc2l0aW9uYCBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG1vdXNlXG4gICAgICogQHR5cGUgbW91c2VcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgd2lkdGggaW4gcGl4ZWxzIG9mIHRoZSBgcmVuZGVyLmNhbnZhc2AgdG8gYmUgY3JlYXRlZC5cbiAgICAgKiBTZWUgYWxzbyB0aGUgYG9wdGlvbnMucGl4ZWxSYXRpb2AgcHJvcGVydHkgdG8gY2hhbmdlIHJlbmRlciBxdWFsaXR5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMud2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgaGVpZ2h0IGluIHBpeGVscyBvZiB0aGUgYHJlbmRlci5jYW52YXNgIHRvIGJlIGNyZWF0ZWQuXG4gICAgICogU2VlIGFsc28gdGhlIGBvcHRpb25zLnBpeGVsUmF0aW9gIHByb3BlcnR5IHRvIGNoYW5nZSByZW5kZXIgcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmhlaWdodFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtwaXhlbCByYXRpb10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9kZXZpY2VQaXhlbFJhdGlvKSB0byB1c2Ugd2hlbiByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5waXhlbFJhdGlvXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBDU1MgYmFja2dyb3VuZCBjb2xvciBzdHJpbmcgdG8gdXNlIHdoZW4gYHJlbmRlci5vcHRpb25zLndpcmVmcmFtZXNgIGlzIGRpc2FibGVkLlxuICAgICAqIFRoaXMgbWF5IGJlIGFsc28gc2V0IHRvIGAndHJhbnNwYXJlbnQnYCBvciBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuYmFja2dyb3VuZFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICcjMTQxNTFmJ1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBDU1MgYmFja2dyb3VuZCBjb2xvciBzdHJpbmcgdG8gdXNlIHdoZW4gYHJlbmRlci5vcHRpb25zLndpcmVmcmFtZXNgIGlzIGVuYWJsZWQuXG4gICAgICogVGhpcyBtYXkgYmUgYWxzbyBzZXQgdG8gYCd0cmFuc3BhcmVudCdgIG9yIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy53aXJlZnJhbWVCYWNrZ3JvdW5kXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgJyMxNDE1MWYnXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBzcGVjaWZpZXMgaWYgYHJlbmRlci5ib3VuZHNgIHNob3VsZCBiZSB1c2VkIHdoZW4gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuaGFzQm91bmRzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgYWxsIGRlYnVnIGluZm9ybWF0aW9uIG92ZXJsYXlzIHRvZ2V0aGVyLiAgXG4gICAgICogVGhpcyBpbmNsdWRlcyBhbmQgaGFzIHByaW9yaXR5IG92ZXIgdGhlIHZhbHVlcyBvZjpcbiAgICAgKlxuICAgICAqIC0gYHJlbmRlci5vcHRpb25zLnNob3dTdGF0c2BcbiAgICAgKiAtIGByZW5kZXIub3B0aW9ucy5zaG93UGVyZm9ybWFuY2VgXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93RGVidWdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgZW5naW5lIHN0YXRzIGluZm8gb3ZlcmxheS4gIFxuICAgICAqIEZyb20gbGVmdCB0byByaWdodCwgdGhlIHZhbHVlcyBzaG93biBhcmU6XG4gICAgICpcbiAgICAgKiAtIGJvZHkgcGFydHMgdG90YWxcbiAgICAgKiAtIGJvZHkgdG90YWxcbiAgICAgKiAtIGNvbnN0cmFpbnRzIHRvdGFsXG4gICAgICogLSBjb21wb3NpdGVzIHRvdGFsXG4gICAgICogLSBjb2xsaXNpb24gcGFpcnMgdG90YWxcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dTdGF0c1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHBlcmZvcm1hbmNlIGNoYXJ0cy4gIFxuICAgICAqIEZyb20gbGVmdCB0byByaWdodCwgdGhlIHZhbHVlcyBzaG93biBhcmU6XG4gICAgICpcbiAgICAgKiAtIGF2ZXJhZ2UgcmVuZGVyIGZyZXF1ZW5jeSAoZS5nLiA2MCBmcHMpXG4gICAgICogLSBleGFjdCBlbmdpbmUgZGVsdGEgdGltZSB1c2VkIGZvciBsYXN0IHVwZGF0ZSAoZS5nLiAxNi42Nm1zKVxuICAgICAqIC0gYXZlcmFnZSBlbmdpbmUgZXhlY3V0aW9uIGR1cmF0aW9uIChlLmcuIDUuMDBtcylcbiAgICAgKiAtIGF2ZXJhZ2UgcmVuZGVyIGV4ZWN1dGlvbiBkdXJhdGlvbiAoZS5nLiAwLjQwbXMpXG4gICAgICogLSBhdmVyYWdlIGVmZmVjdGl2ZSBwbGF5IHNwZWVkIChlLmcuICcxLjAweCcgaXMgJ3JlYWwtdGltZScpXG4gICAgICpcbiAgICAgKiBFYWNoIHZhbHVlIGlzIHJlY29yZGVkIG92ZXIgYSBmaXhlZCBzYW1wbGUgb2YgcGFzdCBmcmFtZXMgKDYwIGZyYW1lcykuXG4gICAgICpcbiAgICAgKiBBIGNoYXJ0IHNob3duIGJlbG93IGVhY2ggdmFsdWUgaW5kaWNhdGVzIHRoZSB2YXJpYW5jZSBmcm9tIHRoZSBhdmVyYWdlIG92ZXIgdGhlIHNhbXBsZS5cbiAgICAgKiBUaGUgbW9yZSBzdGFibGUgb3IgZml4ZWQgdGhlIHZhbHVlIGlzIHRoZSBmbGF0dGVyIHRoZSBjaGFydCB3aWxsIGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dQZXJmb3JtYW5jZVxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIFxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSByZW5kZXJpbmcgZW50aXJlbHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5lbmFibGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gdG9nZ2xlIHdpcmVmcmFtZSByZW5kZXJpbmcgb3RoZXJ3aXNlIHNvbGlkIGZpbGwgcmVuZGVyaW5nIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy53aXJlZnJhbWVzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSBzbGVlcGluZyBib2RpZXMgaW5kaWNhdG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dTbGVlcGluZ1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGRlYnVnIGluZm9ybWF0aW9uIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93RGVidWdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgY29sbGlzaW9uIGJyb2FkcGhhc2UgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIG5vIGxvbmdlciBpbXBsZW1lbnRlZFxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dCcm9hZHBoYXNlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgYm91bmRzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93Qm91bmRzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgdmVsb2NpdHkgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dWZWxvY2l0eVxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBib2R5IGNvbGxpc2lvbnMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dDb2xsaXNpb25zXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGNvbGxpc2lvbiByZXNvbHZlciBzZXBhcmF0aW9ucyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd1NlcGFyYXRpb25zXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgYXhlcyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0F4ZXNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBwb3NpdGlvbnMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dQb3NpdGlvbnNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBhbmdsZSBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgYW5kIHBhcnQgaWRzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93SWRzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgdmVydGV4IG51bWJlcnMgZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dWZXJ0ZXhOdW1iZXJzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdG8gZW5hYmxlIG9yIGRpc2FibGUgdGhlIGJvZHkgY29udmV4IGh1bGxzIGRlYnVnIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5zaG93Q29udmV4SHVsbHNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgYm9keSBpbnRlcm5hbCBlZGdlcyBkZWJ1ZyBvdmVybGF5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG9wdGlvbnMuc2hvd0ludGVybmFsRWRnZXNcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgbW91c2UgcG9zaXRpb24gZGVidWcgb3ZlcmxheS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLnNob3dNb3VzZVBvc2l0aW9uXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuUnVubmVyYCBtb2R1bGUgaXMgYW4gb3B0aW9uYWwgdXRpbGl0eSB3aGljaCBwcm92aWRlcyBhIGdhbWUgbG9vcCwgXG4qIHRoYXQgaGFuZGxlcyBjb250aW51b3VzbHkgdXBkYXRpbmcgYSBgTWF0dGVyLkVuZ2luZWAgZm9yIHlvdSB3aXRoaW4gYSBicm93c2VyLlxuKiBJdCBpcyBpbnRlbmRlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZyBwdXJwb3NlcywgYnV0IG1heSBhbHNvIGJlIHN1aXRhYmxlIGZvciBzaW1wbGUgZ2FtZXMuXG4qIElmIHlvdSBhcmUgdXNpbmcgeW91ciBvd24gZ2FtZSBsb29wIGluc3RlYWQsIHRoZW4geW91IGRvIG5vdCBuZWVkIHRoZSBgTWF0dGVyLlJ1bm5lcmAgbW9kdWxlLlxuKiBJbnN0ZWFkIGp1c3QgY2FsbCBgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGRlbHRhKWAgaW4geW91ciBvd24gbG9vcC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFJ1bm5lclxuKi9cblxudmFyIFJ1bm5lciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bm5lcjtcblxudmFyIEV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgRW5naW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgXG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICB9XG5cbiAgICBpZiAoIV9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgdmFyIF9mcmFtZVRpbWVvdXQ7XG5cbiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKXsgXG4gICAgICAgICAgICBfZnJhbWVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soQ29tbW9uLm5vdygpKTsgXG4gICAgICAgICAgICB9LCAxMDAwIC8gNjApO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF9mcmFtZVRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgUnVubmVyLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7fSBvcHRpb25zXG4gICAgICovXG4gICAgUnVubmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZnBzOiA2MCxcbiAgICAgICAgICAgIGRlbHRhU2FtcGxlU2l6ZTogNjAsXG4gICAgICAgICAgICBjb3VudGVyVGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgZnJhbWVDb3VudGVyOiAwLFxuICAgICAgICAgICAgZGVsdGFIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgIHRpbWVQcmV2OiBudWxsLFxuICAgICAgICAgICAgZnJhbWVSZXF1ZXN0SWQ6IG51bGwsXG4gICAgICAgICAgICBpc0ZpeGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcnVubmVyID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgcnVubmVyLmRlbHRhID0gcnVubmVyLmRlbHRhIHx8IDEwMDAgLyBydW5uZXIuZnBzO1xuICAgICAgICBydW5uZXIuZGVsdGFNaW4gPSBydW5uZXIuZGVsdGFNaW4gfHwgMTAwMCAvIHJ1bm5lci5mcHM7XG4gICAgICAgIHJ1bm5lci5kZWx0YU1heCA9IHJ1bm5lci5kZWx0YU1heCB8fCAxMDAwIC8gKHJ1bm5lci5mcHMgKiAwLjUpO1xuICAgICAgICBydW5uZXIuZnBzID0gMTAwMCAvIHJ1bm5lci5kZWx0YTtcblxuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb250aW51b3VzbHkgdGlja3MgYSBgTWF0dGVyLkVuZ2luZWAgYnkgY2FsbGluZyBgUnVubmVyLnRpY2tgIG9uIHRoZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBldmVudC5cbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cbiAgICBSdW5uZXIucnVuID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUpIHtcbiAgICAgICAgLy8gY3JlYXRlIHJ1bm5lciBpZiBlbmdpbmUgaXMgZmlyc3QgYXJndW1lbnRcbiAgICAgICAgaWYgKHR5cGVvZiBydW5uZXIucG9zaXRpb25JdGVyYXRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZW5naW5lID0gcnVubmVyO1xuICAgICAgICAgICAgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgKGZ1bmN0aW9uIHJ1bih0aW1lKXtcbiAgICAgICAgICAgIHJ1bm5lci5mcmFtZVJlcXVlc3RJZCA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcblxuICAgICAgICAgICAgaWYgKHRpbWUgJiYgcnVubmVyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBSdW5uZXIudGljayhydW5uZXIsIGVuZ2luZSwgdGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG5cbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBnYW1lIGxvb3AgdXRpbGl0eSB0aGF0IHVwZGF0ZXMgdGhlIGVuZ2luZSBhbmQgcmVuZGVyZXIgYnkgb25lIHN0ZXAgKGEgJ3RpY2snKS5cbiAgICAgKiBGZWF0dXJlcyBkZWx0YSBzbW9vdGhpbmcsIHRpbWUgY29ycmVjdGlvbiBhbmQgZml4ZWQgb3IgZHluYW1pYyB0aW1pbmcuXG4gICAgICogQ29uc2lkZXIganVzdCBgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGRlbHRhKWAgaWYgeW91J3JlIHVzaW5nIHlvdXIgb3duIGxvb3AuXG4gICAgICogQG1ldGhvZCB0aWNrXG4gICAgICogQHBhcmFtIHtydW5uZXJ9IHJ1bm5lclxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICAgICAqL1xuICAgIFJ1bm5lci50aWNrID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUsIHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWluZyA9IGVuZ2luZS50aW1pbmcsXG4gICAgICAgICAgICBkZWx0YTtcblxuICAgICAgICBpZiAocnVubmVyLmlzRml4ZWQpIHtcbiAgICAgICAgICAgIC8vIGZpeGVkIHRpbWVzdGVwXG4gICAgICAgICAgICBkZWx0YSA9IHJ1bm5lci5kZWx0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGR5bmFtaWMgdGltZXN0ZXAgYmFzZWQgb24gd2FsbCBjbG9jayBiZXR3ZWVuIGNhbGxzXG4gICAgICAgICAgICBkZWx0YSA9ICh0aW1lIC0gcnVubmVyLnRpbWVQcmV2KSB8fCBydW5uZXIuZGVsdGE7XG4gICAgICAgICAgICBydW5uZXIudGltZVByZXYgPSB0aW1lO1xuXG4gICAgICAgICAgICAvLyBvcHRpbWlzdGljYWxseSBmaWx0ZXIgZGVsdGEgb3ZlciBhIGZldyBmcmFtZXMsIHRvIGltcHJvdmUgc3RhYmlsaXR5XG4gICAgICAgICAgICBydW5uZXIuZGVsdGFIaXN0b3J5LnB1c2goZGVsdGEpO1xuICAgICAgICAgICAgcnVubmVyLmRlbHRhSGlzdG9yeSA9IHJ1bm5lci5kZWx0YUhpc3Rvcnkuc2xpY2UoLXJ1bm5lci5kZWx0YVNhbXBsZVNpemUpO1xuICAgICAgICAgICAgZGVsdGEgPSBNYXRoLm1pbi5hcHBseShudWxsLCBydW5uZXIuZGVsdGFIaXN0b3J5KTtcblxuICAgICAgICAgICAgLy8gbGltaXQgZGVsdGFcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPCBydW5uZXIuZGVsdGFNaW4gPyBydW5uZXIuZGVsdGFNaW4gOiBkZWx0YTtcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPiBydW5uZXIuZGVsdGFNYXggPyBydW5uZXIuZGVsdGFNYXggOiBkZWx0YTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGVuZ2luZSB0aW1pbmcgb2JqZWN0XG4gICAgICAgICAgICBydW5uZXIuZGVsdGEgPSBkZWx0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSBhbiBldmVudCBvYmplY3RcbiAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1pbmcudGltZXN0YW1wXG4gICAgICAgIH07XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYmVmb3JlVGljaycsIGV2ZW50KTtcblxuICAgICAgICAvLyBmcHMgY291bnRlclxuICAgICAgICBydW5uZXIuZnJhbWVDb3VudGVyICs9IDE7XG4gICAgICAgIGlmICh0aW1lIC0gcnVubmVyLmNvdW50ZXJUaW1lc3RhbXAgPj0gMTAwMCkge1xuICAgICAgICAgICAgcnVubmVyLmZwcyA9IHJ1bm5lci5mcmFtZUNvdW50ZXIgKiAoKHRpbWUgLSBydW5uZXIuY291bnRlclRpbWVzdGFtcCkgLyAxMDAwKTtcbiAgICAgICAgICAgIHJ1bm5lci5jb3VudGVyVGltZXN0YW1wID0gdGltZTtcbiAgICAgICAgICAgIHJ1bm5lci5mcmFtZUNvdW50ZXIgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAndGljaycsIGV2ZW50KTtcblxuICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYmVmb3JlVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIEVuZ2luZS51cGRhdGUoZW5naW5lLCBkZWx0YSk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJVcGRhdGUnLCBldmVudCk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJUaWNrJywgZXZlbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUnVubmVyLnJ1bmAgb24gdGhlIGdpdmVuIGBydW5uZXJgLCBieSBjYW5jZWxpbmcgdGhlIGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGV2ZW50IGxvb3AuXG4gICAgICogSWYgeW91IHdpc2ggdG8gb25seSB0ZW1wb3JhcmlseSBwYXVzZSB0aGUgZW5naW5lLCBzZWUgYGVuZ2luZS5lbmFibGVkYCBpbnN0ZWFkLlxuICAgICAqIEBtZXRob2Qgc3RvcFxuICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXJcbiAgICAgKi9cbiAgICBSdW5uZXIuc3RvcCA9IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVubmVyLmZyYW1lUmVxdWVzdElkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBSdW5uZXIucnVuYC5cbiAgICAgKiBAbWV0aG9kIHN0YXJ0XG4gICAgICogQHBhcmFtIHtydW5uZXJ9IHJ1bm5lclxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKi9cbiAgICBSdW5uZXIuc3RhcnQgPSBmdW5jdGlvbihydW5uZXIsIGVuZ2luZSkge1xuICAgICAgICBSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYXQgdGhlIHN0YXJ0IG9mIGEgdGljaywgYmVmb3JlIGFueSB1cGRhdGVzIHRvIHRoZSBlbmdpbmUgb3IgdGltaW5nXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVRpY2tcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB0aW1pbmcgdXBkYXRlZCwgYnV0IGp1c3QgYmVmb3JlIHVwZGF0ZVxuICAgICpcbiAgICAqIEBldmVudCB0aWNrXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhdCB0aGUgZW5kIG9mIGEgdGljaywgYWZ0ZXIgZW5naW5lIHVwZGF0ZSBhbmQgYWZ0ZXIgcmVuZGVyaW5nXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyVGlja1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYmVmb3JlIHVwZGF0ZVxuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVVcGRhdGVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIHVwZGF0ZVxuICAgICpcbiAgICAqIEBldmVudCBhZnRlclVwZGF0ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJ1bm5lciBpcyBydW5uaW5nIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvb2xlYW5gIHRoYXQgc3BlY2lmaWVzIGlmIHRoZSBydW5uZXIgc2hvdWxkIHVzZSBhIGZpeGVkIHRpbWVzdGVwIChvdGhlcndpc2UgaXQgaXMgdmFyaWFibGUpLlxuICAgICAqIElmIHRpbWluZyBpcyBmaXhlZCwgdGhlbiB0aGUgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZCB3aWxsIGNoYW5nZSBkZXBlbmRpbmcgb24gdGhlIGZyYW1lIHJhdGUgKGJ1dCBiZWhhdmlvdXIgd2lsbCBiZSBkZXRlcm1pbmlzdGljKS5cbiAgICAgKiBJZiB0aGUgdGltaW5nIGlzIHZhcmlhYmxlLCB0aGVuIHRoZSBhcHBhcmVudCBzaW11bGF0aW9uIHNwZWVkIHdpbGwgYmUgY29uc3RhbnQgKGFwcHJveGltYXRlbHksIGJ1dCBhdCB0aGUgY29zdCBvZiBkZXRlcm1pbmluaXNtKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpc0ZpeGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSB0aW1lIHN0ZXAgYmV0d2VlbiB1cGRhdGVzIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiBJZiBgZW5naW5lLnRpbWluZy5pc0ZpeGVkYCBpcyBzZXQgdG8gYHRydWVgLCB0aGVuIGBkZWx0YWAgaXMgZml4ZWQuXG4gICAgICogSWYgaXQgaXMgYGZhbHNlYCwgdGhlbiBgZGVsdGFgIGNhbiBkeW5hbWljYWxseSBjaGFuZ2UgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkZWx0YVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDEwMDAgLyA2MFxuICAgICAqL1xuXG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4qIFRoaXMgbW9kdWxlIGhhcyBub3cgYmVlbiByZXBsYWNlZCBieSBgTWF0dGVyLkNvbGxpc2lvbmAuXG4qXG4qIEFsbCB1c2FnZSBzaG91bGQgYmUgbWlncmF0ZWQgdG8gYE1hdHRlci5Db2xsaXNpb25gLlxuKiBGb3IgYmFjay1jb21wYXRpYmlsaXR5IHB1cnBvc2VzIHRoaXMgbW9kdWxlIHdpbGwgcmVtYWluIGZvciBhIHNob3J0IHRlcm0gYW5kIHRoZW4gbGF0ZXIgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuKlxuKiBUaGUgYE1hdHRlci5TQVRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBkZXRlY3RpbmcgY29sbGlzaW9ucyB1c2luZyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uXG4qXG4qIEBjbGFzcyBTQVRcbiogQGRlcHJlY2F0ZWRcbiovXG5cbnZhciBTQVQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBTQVQ7XG5cbnZhciBDb2xsaXNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIENvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZGVwcmVjYXRlZCA9IENvbW1vbi5kZXByZWNhdGVkO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgY29sbGlzaW9uIGJldHdlZW4gdHdvIGJvZGllcyB1c2luZyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uXG4gICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgQ29sbGlzaW9uLmNvbGxpZGVzXG4gICAgICogQG1ldGhvZCBjb2xsaWRlc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICAgKi9cbiAgICBTQVQuY29sbGlkZXMgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpIHtcbiAgICAgICAgcmV0dXJuIENvbGxpc2lvbi5jb2xsaWRlcyhib2R5QSwgYm9keUIpO1xuICAgIH07XG5cbiAgICBkZXByZWNhdGVkKFNBVCwgJ2NvbGxpZGVzJywgJ1NBVC5jb2xsaWRlcyDinqQgcmVwbGFjZWQgYnkgQ29sbGlzaW9uLmNvbGxpZGVzJyk7XG5cbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhlIGBNYXR0ZXIuU3ZnYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY29udmVydGluZyBTVkcgaW1hZ2VzIGludG8gYW4gYXJyYXkgb2YgdmVjdG9yIHBvaW50cy5cbipcbiogVG8gdXNlIHRoaXMgbW9kdWxlIHlvdSBhbHNvIG5lZWQgdGhlIFNWR1BhdGhTZWcgcG9seWZpbGw6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9nZXJzL3BhdGhzZWdcbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFN2Z1xuKi9cblxudmFyIFN2ZyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN2ZztcblxudmFyIEJvdW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gU1ZHIHBhdGggaW50byBhbiBhcnJheSBvZiB2ZWN0b3IgcG9pbnRzLlxuICAgICAqIElmIHRoZSBpbnB1dCBwYXRoIGZvcm1zIGEgY29uY2F2ZSBzaGFwZSwgeW91IG11c3QgZGVjb21wb3NlIHRoZSByZXN1bHQgaW50byBjb252ZXggcGFydHMgYmVmb3JlIHVzZS5cbiAgICAgKiBTZWUgYEJvZGllcy5mcm9tVmVydGljZXNgIHdoaWNoIHByb3ZpZGVzIHN1cHBvcnQgZm9yIHRoaXMuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IGd1YXJhbnRlZWQgdG8gc3VwcG9ydCBjb21wbGV4IHBhdGhzIChzdWNoIGFzIHRob3NlIHdpdGggaG9sZXMpLlxuICAgICAqIFlvdSBtdXN0IGxvYWQgdGhlIGBwYXRoc2VnLmpzYCBwb2x5ZmlsbCBvbiBuZXdlciBicm93c2Vycy5cbiAgICAgKiBAbWV0aG9kIHBhdGhUb1ZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtTVkdQYXRoRWxlbWVudH0gcGF0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2FtcGxlTGVuZ3RoPTE1XVxuICAgICAqIEByZXR1cm4ge1ZlY3RvcltdfSBwb2ludHNcbiAgICAgKi9cbiAgICBTdmcucGF0aFRvVmVydGljZXMgPSBmdW5jdGlvbihwYXRoLCBzYW1wbGVMZW5ndGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICEoJ1NWR1BhdGhTZWcnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdTdmcucGF0aFRvVmVydGljZXM6IFNWR1BhdGhTZWcgbm90IGRlZmluZWQsIGEgcG9seWZpbGwgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd291dC9zdmcudG9wb2x5LmpzL2Jsb2IvbWFzdGVyL3N2Zy50b3BvbHkuanNcbiAgICAgICAgdmFyIGksIGlsLCB0b3RhbCwgcG9pbnQsIHNlZ21lbnQsIHNlZ21lbnRzLCBcbiAgICAgICAgICAgIHNlZ21lbnRzUXVldWUsIGxhc3RTZWdtZW50LCBcbiAgICAgICAgICAgIGxhc3RQb2ludCwgc2VnbWVudEluZGV4LCBwb2ludHMgPSBbXSxcbiAgICAgICAgICAgIGx4LCBseSwgbGVuZ3RoID0gMCwgeCA9IDAsIHkgPSAwO1xuXG4gICAgICAgIHNhbXBsZUxlbmd0aCA9IHNhbXBsZUxlbmd0aCB8fCAxNTtcblxuICAgICAgICB2YXIgYWRkUG9pbnQgPSBmdW5jdGlvbihweCwgcHksIHBhdGhTZWdUeXBlKSB7XG4gICAgICAgICAgICAvLyBhbGwgb2RkLW51bWJlcmVkIHBhdGggdHlwZXMgYXJlIHJlbGF0aXZlIGV4Y2VwdCBQQVRIU0VHX0NMT1NFUEFUSCAoMSlcbiAgICAgICAgICAgIHZhciBpc1JlbGF0aXZlID0gcGF0aFNlZ1R5cGUgJSAyID09PSAxICYmIHBhdGhTZWdUeXBlID4gMTtcblxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgbGFzdCBwb2ludCBkb2Vzbid0IGVxdWFsIHRoZSBjdXJyZW50IHBvaW50IGFkZCB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgICAgaWYgKCFsYXN0UG9pbnQgfHwgcHggIT0gbGFzdFBvaW50LnggfHwgcHkgIT0gbGFzdFBvaW50LnkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBvaW50ICYmIGlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbHggPSBsYXN0UG9pbnQueDtcbiAgICAgICAgICAgICAgICAgICAgbHkgPSBsYXN0UG9pbnQueTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBseCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGx5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGx4ICsgcHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGx5ICsgcHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IGxhc3QgcG9pbnRcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWxhdGl2ZSB8fCAhbGFzdFBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50KTtcblxuICAgICAgICAgICAgICAgIHggPSBseCArIHB4O1xuICAgICAgICAgICAgICAgIHkgPSBseSArIHB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhZGRTZWdtZW50UG9pbnQgPSBmdW5jdGlvbihzZWdtZW50KSB7XG4gICAgICAgICAgICB2YXIgc2VnVHlwZSA9IHNlZ21lbnQucGF0aFNlZ1R5cGVBc0xldHRlci50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICAvLyBza2lwIHBhdGggZW5kc1xuICAgICAgICAgICAgaWYgKHNlZ1R5cGUgPT09ICdaJykgXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBtYXAgc2VnbWVudCB0byB4IGFuZCB5XG4gICAgICAgICAgICBzd2l0Y2ggKHNlZ1R5cGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIHggPSBzZWdtZW50Lng7XG4gICAgICAgICAgICAgICAgeSA9IHNlZ21lbnQueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIHggPSBzZWdtZW50Lng7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICB5ID0gc2VnbWVudC55O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRQb2ludCh4LCB5LCBzZWdtZW50LnBhdGhTZWdUeXBlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBlbnN1cmUgcGF0aCBpcyBhYnNvbHV0ZVxuICAgICAgICBTdmcuX3N2Z1BhdGhUb0Fic29sdXRlKHBhdGgpO1xuXG4gICAgICAgIC8vIGdldCB0b3RhbCBsZW5ndGhcbiAgICAgICAgdG90YWwgPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG5cbiAgICAgICAgLy8gcXVldWUgc2VnbWVudHNcbiAgICAgICAgc2VnbWVudHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhdGgucGF0aFNlZ0xpc3QubnVtYmVyT2ZJdGVtczsgaSArPSAxKVxuICAgICAgICAgICAgc2VnbWVudHMucHVzaChwYXRoLnBhdGhTZWdMaXN0LmdldEl0ZW0oaSkpO1xuXG4gICAgICAgIHNlZ21lbnRzUXVldWUgPSBzZWdtZW50cy5jb25jYXQoKTtcblxuICAgICAgICAvLyBzYW1wbGUgdGhyb3VnaCBwYXRoXG4gICAgICAgIHdoaWxlIChsZW5ndGggPCB0b3RhbCkge1xuICAgICAgICAgICAgLy8gZ2V0IHNlZ21lbnQgYXQgcG9zaXRpb25cbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCA9IHBhdGguZ2V0UGF0aFNlZ0F0TGVuZ3RoKGxlbmd0aCk7XG4gICAgICAgICAgICBzZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudEluZGV4XTtcblxuICAgICAgICAgICAgLy8gbmV3IHNlZ21lbnRcbiAgICAgICAgICAgIGlmIChzZWdtZW50ICE9IGxhc3RTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNlZ21lbnRzUXVldWUubGVuZ3RoICYmIHNlZ21lbnRzUXVldWVbMF0gIT0gc2VnbWVudClcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VnbWVudFBvaW50KHNlZ21lbnRzUXVldWUuc2hpZnQoKSk7XG5cbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudCA9IHNlZ21lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFkZCBwb2ludHMgaW4gYmV0d2VlbiB3aGVuIGN1cnZpbmdcbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0aXZlIHNhbXBsaW5nXG4gICAgICAgICAgICBzd2l0Y2ggKHNlZ21lbnQucGF0aFNlZ1R5cGVBc0xldHRlci50b1VwcGVyQ2FzZSgpKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBwYXRoLmdldFBvaW50QXRMZW5ndGgobGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBhZGRQb2ludChwb2ludC54LCBwb2ludC55LCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbmNyZW1lbnQgYnkgc2FtcGxlIHZhbHVlXG4gICAgICAgICAgICBsZW5ndGggKz0gc2FtcGxlTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHJlbWFpbmluZyBzZWdtZW50cyBub3QgcGFzc2VkIGJ5IHNhbXBsaW5nXG4gICAgICAgIGZvciAoaSA9IDAsIGlsID0gc2VnbWVudHNRdWV1ZS5sZW5ndGg7IGkgPCBpbDsgKytpKVxuICAgICAgICAgICAgYWRkU2VnbWVudFBvaW50KHNlZ21lbnRzUXVldWVbaV0pO1xuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfTtcblxuICAgIFN2Zy5fc3ZnUGF0aFRvQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9waHJvZ3oubmV0L2NvbnZlcnQtc3ZnLXBhdGgtdG8tYWxsLWFic29sdXRlLWNvbW1hbmRzXG4gICAgICAgIC8vIENvcHlyaWdodCAoYykgR2F2aW4gS2lzdG5lclxuICAgICAgICAvLyBodHRwOi8vcGhyb2d6Lm5ldC9qcy9fUmV1c2VMaWNlbnNlLnR4dFxuICAgICAgICAvLyBNb2RpZmljYXRpb25zOiB0aWR5IGZvcm1hdHRpbmcgYW5kIG5hbWluZ1xuICAgICAgICB2YXIgeDAsIHkwLCB4MSwgeTEsIHgyLCB5Miwgc2VncyA9IHBhdGgucGF0aFNlZ0xpc3QsXG4gICAgICAgICAgICB4ID0gMCwgeSA9IDAsIGxlbiA9IHNlZ3MubnVtYmVyT2ZJdGVtcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc2VnID0gc2Vncy5nZXRJdGVtKGkpLFxuICAgICAgICAgICAgICAgIHNlZ1R5cGUgPSBzZWcucGF0aFNlZ1R5cGVBc0xldHRlcjtcblxuICAgICAgICAgICAgaWYgKC9bTUxIVkNTUVRBXS8udGVzdChzZWdUeXBlKSkge1xuICAgICAgICAgICAgICAgIGlmICgneCcgaW4gc2VnKSB4ID0gc2VnLng7XG4gICAgICAgICAgICAgICAgaWYgKCd5JyBpbiBzZWcpIHkgPSBzZWcueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCd4MScgaW4gc2VnKSB4MSA9IHggKyBzZWcueDE7XG4gICAgICAgICAgICAgICAgaWYgKCd4MicgaW4gc2VnKSB4MiA9IHggKyBzZWcueDI7XG4gICAgICAgICAgICAgICAgaWYgKCd5MScgaW4gc2VnKSB5MSA9IHkgKyBzZWcueTE7XG4gICAgICAgICAgICAgICAgaWYgKCd5MicgaW4gc2VnKSB5MiA9IHkgKyBzZWcueTI7XG4gICAgICAgICAgICAgICAgaWYgKCd4JyBpbiBzZWcpIHggKz0gc2VnLng7XG4gICAgICAgICAgICAgICAgaWYgKCd5JyBpbiBzZWcpIHkgKz0gc2VnLnk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlZ1R5cGUpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ20nOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b0Ficyh4LCB5KSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b0Ficyh4LCB5KSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMoeCksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd2JzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyh5KSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficyh4LCB5LCB4MSwgeTEsIHgyLCB5MiksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMoeCwgeSwgeDIsIHkyKSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3EnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMoeCwgeSwgeDEsIHkxKSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgICAgICAgICBzZWdzLnJlcGxhY2VJdGVtKHBhdGguY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMoeCwgeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdBcmNBYnMoeCwgeSwgc2VnLnIxLCBzZWcucjIsIHNlZy5hbmdsZSwgc2VnLmxhcmdlQXJjRmxhZywgc2VnLnN3ZWVwRmxhZyksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICAgICAgeCA9IHgwO1xuICAgICAgICAgICAgICAgICAgICB5ID0geTA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VnVHlwZSA9PSAnTScgfHwgc2VnVHlwZSA9PSAnbScpIHtcbiAgICAgICAgICAgICAgICB4MCA9IHg7XG4gICAgICAgICAgICAgICAgeTAgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiogVGhpcyBtb2R1bGUgaGFzIG5vdyBiZWVuIHJlcGxhY2VkIGJ5IGBNYXR0ZXIuQ29tcG9zaXRlYC5cbipcbiogQWxsIHVzYWdlIHNob3VsZCBiZSBtaWdyYXRlZCB0byB0aGUgZXF1aXZhbGVudCBmdW5jdGlvbnMgZm91bmQgb24gYE1hdHRlci5Db21wb3NpdGVgLlxuKiBGb3IgZXhhbXBsZSBgV29ybGQuYWRkKHdvcmxkLCBib2R5KWAgbm93IGJlY29tZXMgYENvbXBvc2l0ZS5hZGQod29ybGQsIGJvZHkpYC5cbipcbiogVGhlIHByb3BlcnR5IGB3b3JsZC5ncmF2aXR5YCBoYXMgYmVlbiBtb3ZlZCB0byBgZW5naW5lLmdyYXZpdHlgLlxuKlxuKiBGb3IgYmFjay1jb21wYXRpYmlsaXR5IHB1cnBvc2VzIHRoaXMgbW9kdWxlIHdpbGwgcmVtYWluIGFzIGEgZGlyZWN0IGFsaWFzIHRvIGBNYXR0ZXIuQ29tcG9zaXRlYCBpbiB0aGUgc2hvcnQgdGVybSBkdXJpbmcgbWlncmF0aW9uLlxuKiBFdmVudHVhbGx5IHRoaXMgYWxpYXMgbW9kdWxlIHdpbGwgYmUgbWFya2VkIGFzIGRlcHJlY2F0ZWQgYW5kIHRoZW4gbGF0ZXIgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuKlxuKiBAY2xhc3MgV29ybGRcbiovXG5cbnZhciBXb3JsZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdvcmxkO1xuXG52YXIgQ29tcG9zaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBTZWUgYWJvdmUsIGFsaWFzZXMgZm9yIGJhY2sgY29tcGF0aWJpbGl0eSBvbmx5XG4gICAgICovXG4gICAgV29ybGQuY3JlYXRlID0gQ29tcG9zaXRlLmNyZWF0ZTtcbiAgICBXb3JsZC5hZGQgPSBDb21wb3NpdGUuYWRkO1xuICAgIFdvcmxkLnJlbW92ZSA9IENvbXBvc2l0ZS5yZW1vdmU7XG4gICAgV29ybGQuY2xlYXIgPSBDb21wb3NpdGUuY2xlYXI7XG4gICAgV29ybGQuYWRkQ29tcG9zaXRlID0gQ29tcG9zaXRlLmFkZENvbXBvc2l0ZTtcbiAgICBXb3JsZC5hZGRCb2R5ID0gQ29tcG9zaXRlLmFkZEJvZHk7XG4gICAgV29ybGQuYWRkQ29uc3RyYWludCA9IENvbXBvc2l0ZS5hZGRDb25zdHJhaW50O1xuXG59KSgpO1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pOyIsImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlMaWtlVG9BcnJheSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aEhvbGVzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKFwiLi90b1Byb3BlcnR5S2V5LmpzXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3MsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkge1xuICB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSB0KSB7XG4gICAgdmFyIGUsXG4gICAgICBuLFxuICAgICAgaSxcbiAgICAgIHUsXG4gICAgICBhID0gW10sXG4gICAgICBmID0gITAsXG4gICAgICBvID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHtcbiAgICAgICAgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuO1xuICAgICAgICBmID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgbyA9ICEwLCBuID0gcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFmICYmIG51bGwgIT0gdFtcInJldHVyblwiXSAmJiAodSA9IHRbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG8pIHRocm93IG47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3QsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgYXJyYXlXaXRoSG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiKTtcbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCIpO1xudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIik7XG52YXIgbm9uSXRlcmFibGVSZXN0ID0gcmVxdWlyZShcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCIpO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG5mdW5jdGlvbiB0b1ByaW1pdGl2ZSh0LCByKSB7XG4gIGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0O1xuICB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0b1ByaW1pdGl2ZSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4vdHlwZW9mLmpzXCIpW1wiZGVmYXVsdFwiXTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoXCIuL3RvUHJpbWl0aXZlLmpzXCIpO1xuZnVuY3Rpb24gdG9Qcm9wZXJ0eUtleSh0KSB7XG4gIHZhciBpID0gdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7XG4gIHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogU3RyaW5nKGkpO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0b1Byb3BlcnR5S2V5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX3R5cGVvZihvKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gKG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvO1xuICB9IDogZnVuY3Rpb24gKG8pIHtcbiAgICByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbztcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiKTtcbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsImV4cG9ydCBsZXQgeCA9IDBcbmV4cG9ydCBsZXQgeSA9IDBcbmV4cG9ydCBsZXQgeiA9IDBcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RQZXJtaXNzaW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFJlcXVlc3QgcGVybWlzc2lvbiBmb3IgaU9TIDEzKyBkZXZpY2VzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIERldmljZU1vdGlvbkV2ZW50ICYmXG4gICAgICAgICAgICB0eXBlb2YgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH0gICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gYCR7ZXJyb3J9YDtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCBoYW5kbGVNb3Rpb24pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVNb3Rpb24oZXZlbnQpIHtcbiAgICB4ID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS54XG4gICAgeSA9IGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueSAqIC0xIC8vIGludmVydCB5IGF4aXNcbiAgICB6ID0gZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQyZEdyYXZpdHkoKSB7XG4gICAgcmV0dXJuIHsgeCwgeSB9XG59XG5cbi8vIGFkZCB3aW5kb3cgZXZlbnRsaXN0ZW5lciBmb3Iga2V5ZG93blxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgaWYgKCF3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcImxvY2FsaG9zdFwiKSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGUua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICB5ID0gOS44XG4gICAgICAgIHggPSAwXG4gICAgfVxuICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICB5ID0gLTkuOFxuICAgICAgICB4ID0gMFxuICAgIH1cbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICAgICAgeCA9IC05LjhcbiAgICAgICAgeSA9IDBcbiAgICB9XG4gICAgaWYgKGUua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICB4ID0gOS44XG4gICAgICAgIHkgPSAwXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSBcIjE0LjcuNzdcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUFib3J0RXJyb3IgPSAoKSA9PiBuZXcgRE9NRXhjZXB0aW9uKCcnLCAnQWJvcnRFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJvcnQtZXJyb3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IEFDVElWRV9BVURJT19OT0RFX1NUT1JFID0gbmV3IFdlYWtTZXQoKTtcbmV4cG9ydCBjb25zdCBBVURJT19OT0RFX0NPTk5FQ1RJT05TX1NUT1JFID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjb25zdCBBVURJT19OT0RFX1NUT1JFID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjb25zdCBBVURJT19QQVJBTV9DT05ORUNUSU9OU19TVE9SRSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY29uc3QgQVVESU9fUEFSQU1fU1RPUkUgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IENPTlRFWFRfU1RPUkUgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0xJU1RFTkVSUyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY29uc3QgQ1lDTEVfQ09VTlRFUlMgPSBuZXcgV2Vha01hcCgpO1xuLy8gVGhpcyBjbHVua3kgbmFtZSBpcyBib3Jyb3dlZCBmcm9tIHRoZSBzcGVjLiA6LSlcbmV4cG9ydCBjb25zdCBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IE5PREVfVE9fUFJPQ0VTU09SX01BUFMgPSBuZXcgV2Vha01hcCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFscy5qcy5tYXAiLCJjb25zdCBoYW5kbGVyID0ge1xuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBpc0NvbnN0cnVjdGlibGUgPSAoY29uc3RydWN0aWJsZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KGNvbnN0cnVjdGlibGUsIGhhbmRsZXIpO1xuICAgICAgICBuZXcgcHJveHkoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvblxuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtY29uc3RydWN0aWJsZS5qcy5tYXAiLCIvKlxuICogVGhpcyBtYXNzaXZlIHJlZ2V4IHRyaWVzIHRvIGNvdmVyIGFsbCB0aGUgZm9sbG93aW5nIGNhc2VzLlxuICpcbiAqIGltcG9ydCAnLi9wYXRoJztcbiAqIGltcG9ydCBkZWZhdWx0SW1wb3J0IGZyb20gJy4vcGF0aCc7XG4gKiBpbXBvcnQgeyBuYW1lZEltcG9ydCB9IGZyb20gJy4vcGF0aCc7XG4gKiBpbXBvcnQgeyBuYW1lZEltcG9ydCBhcyByZW5hbWVuZEltcG9ydCB9IGZyb20gJy4vcGF0aCc7XG4gKiBpbXBvcnQgKiBhcyBuYW1lc3BhY2VJbXBvcnQgZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCBkZWZhdWx0SW1wb3J0LCB7IG5hbWVkSW1wb3J0IH0gZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCBkZWZhdWx0SW1wb3J0LCB7IG5hbWVkSW1wb3J0IGFzIHJlbmFtZW5kSW1wb3J0IH0gZnJvbSAnLi9wYXRoJztcbiAqIGltcG9ydCBkZWZhdWx0SW1wb3J0LCAqIGFzIG5hbWVzcGFjZUltcG9ydCBmcm9tICcuL3BhdGgnO1xuICovXG5jb25zdCBJTVBPUlRfU1RBVEVNRU5UX1JFR0VYID0gL15pbXBvcnQoPzooPzpbXFxzXStbXFx3XSt8KD86W1xcc10rW1xcd10rW1xcc10qLCk/W1xcc10qXFx7W1xcc10qW1xcd10rKD86W1xcc10rYXNbXFxzXStbXFx3XSspPyg/OltcXHNdKixbXFxzXSpbXFx3XSsoPzpbXFxzXSthc1tcXHNdK1tcXHddKyk/KSpbXFxzXSp9fCg/OltcXHNdK1tcXHddK1tcXHNdKiwpP1tcXHNdKlxcKltcXHNdK2FzW1xcc10rW1xcd10rKVtcXHNdK2Zyb20pPyg/OltcXHNdKikoXCIoW15cIlxcXFxdfFxcXFwuKStcInwnKFteJ1xcXFxdfFxcXFwuKSsnKSg/OltcXHNdKik7Py87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3Qgc3BsaXRJbXBvcnRTdGF0ZW1lbnRzID0gKHNvdXJjZSwgdXJsKSA9PiB7XG4gICAgY29uc3QgaW1wb3J0U3RhdGVtZW50cyA9IFtdO1xuICAgIGxldCBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cyA9IHNvdXJjZS5yZXBsYWNlKC9eW1xcc10rLywgJycpO1xuICAgIGxldCByZXN1bHQgPSBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cy5tYXRjaChJTVBPUlRfU1RBVEVNRU5UX1JFR0VYKTtcbiAgICB3aGlsZSAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHVucmVzb2x2ZWRVcmwgPSByZXN1bHRbMV0uc2xpY2UoMSwgLTEpO1xuICAgICAgICBjb25zdCBpbXBvcnRTdGF0ZW1lbnRXaXRoUmVzb2x2ZWRVcmwgPSByZXN1bHRbMF1cbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW1xcc10rKT87PyQvLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHVucmVzb2x2ZWRVcmwsIG5ldyBVUkwodW5yZXNvbHZlZFVybCwgdXJsKS50b1N0cmluZygpKTtcbiAgICAgICAgaW1wb3J0U3RhdGVtZW50cy5wdXNoKGltcG9ydFN0YXRlbWVudFdpdGhSZXNvbHZlZFVybCk7XG4gICAgICAgIHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzID0gc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHMuc2xpY2UocmVzdWx0WzBdLmxlbmd0aCkucmVwbGFjZSgvXltcXHNdKy8sICcnKTtcbiAgICAgICAgcmVzdWx0ID0gc291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHMubWF0Y2goSU1QT1JUX1NUQVRFTUVOVF9SRUdFWCk7XG4gICAgfVxuICAgIHJldHVybiBbaW1wb3J0U3RhdGVtZW50cy5qb2luKCc7JyksIHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGxpdC1pbXBvcnQtc3RhdGVtZW50cy5qcy5tYXAiLCJpbXBvcnQgeyBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMgfSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7IGlzQ29uc3RydWN0aWJsZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtY29uc3RydWN0aWJsZSc7XG5pbXBvcnQgeyBzcGxpdEltcG9ydFN0YXRlbWVudHMgfSBmcm9tICcuLi9oZWxwZXJzL3NwbGl0LWltcG9ydC1zdGF0ZW1lbnRzJztcbmNvbnN0IHZlcmlmeVBhcmFtZXRlckRlc2NyaXB0b3JzID0gKHBhcmFtZXRlckRlc2NyaXB0b3JzKSA9PiB7XG4gICAgaWYgKHBhcmFtZXRlckRlc2NyaXB0b3JzICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyYW1ldGVyRGVzY3JpcHRvcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXJEZXNjcmlwdG9ycyBwcm9wZXJ0eSBvZiBnaXZlbiB2YWx1ZSBmb3IgcHJvY2Vzc29yQ3RvciBpcyBub3QgYW4gYXJyYXkuJyk7XG4gICAgfVxufTtcbmNvbnN0IHZlcmlmeVByb2Nlc3NvckN0b3IgPSAocHJvY2Vzc29yQ3RvcikgPT4ge1xuICAgIGlmICghaXNDb25zdHJ1Y3RpYmxlKHByb2Nlc3NvckN0b3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBnaXZlbiB2YWx1ZSBmb3IgcHJvY2Vzc29yQ3RvciBzaG91bGQgYmUgYSBjb25zdHJ1Y3Rvci4nKTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3NvckN0b3IucHJvdG90eXBlID09PSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzb3JDdG9yLnByb3RvdHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGdpdmVuIHZhbHVlIGZvciBwcm9jZXNzb3JDdG9yIHNob3VsZCBoYXZlIGEgcHJvdG90eXBlLicpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQWRkQXVkaW9Xb3JrbGV0TW9kdWxlID0gKGNhY2hlVGVzdFJlc3VsdCwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGV2YWx1YXRlU291cmNlLCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSwgZmV0Y2hTb3VyY2UsIGdldE5hdGl2ZUNvbnRleHQsIGdldE9yQ3JlYXRlQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG9uZ29pbmdSZXF1ZXN0cywgcmVzb2x2ZWRSZXF1ZXN0cywgdGVzdEF1ZGlvV29ya2xldFByb2Nlc3NvclBvc3RNZXNzYWdlU3VwcG9ydCwgd2luZG93KSA9PiB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICByZXR1cm4gKGNvbnRleHQsIG1vZHVsZVVSTCwgb3B0aW9ucyA9IHsgY3JlZGVudGlhbHM6ICdvbWl0JyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQgPSByZXNvbHZlZFJlcXVlc3RzLmdldChjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiByZXNvbHZlZFJlcXVlc3RzT2ZDb250ZXh0Lmhhcyhtb2R1bGVVUkwpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0ID0gb25nb2luZ1JlcXVlc3RzLmdldChjb250ZXh0KTtcbiAgICAgICAgaWYgKG9uZ29pbmdSZXF1ZXN0c09mQ29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlT2ZPbmdvaW5nUmVxdWVzdCA9IG9uZ29pbmdSZXF1ZXN0c09mQ29udGV4dC5nZXQobW9kdWxlVVJMKTtcbiAgICAgICAgICAgIGlmIChwcm9taXNlT2ZPbmdvaW5nUmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VPZk9uZ29pbmdSZXF1ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAvLyBCdWcgIzU5OiBTYWZhcmkgZG9lcyBub3QgaW1wbGVtZW50IHRoZSBhdWRpb1dvcmtsZXQgcHJvcGVydHkuXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuYXRpdmVDb250ZXh0LmF1ZGlvV29ya2xldCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGZldGNoU291cmNlKG1vZHVsZVVSTClcbiAgICAgICAgICAgICAgICAudGhlbigoW3NvdXJjZSwgYWJzb2x1dGVVcmxdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2ltcG9ydFN0YXRlbWVudHMsIHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzXSA9IHNwbGl0SW1wb3J0U3RhdGVtZW50cyhzb3VyY2UsIGFic29sdXRlVXJsKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgdGhlIHVubWluaWZpZWQgdmVyc2lvbiBvZiB0aGUgY29kZSB1c2VkIGJlbG93OlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgICAgICAgKiAkeyBpbXBvcnRTdGF0ZW1lbnRzIH07XG4gICAgICAgICAgICAgICAgICogKChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICogICAgIChhW2JdID0gYVtiXSB8fCBbIF0pLnB1c2goXG4gICAgICAgICAgICAgICAgICogICAgICAgICAoQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLCBnbG9iYWwsIHJlZ2lzdGVyUHJvY2Vzc29yLCBzYW1wbGVSYXRlLCBzZWxmLCB3aW5kb3cpID0+IHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAkeyBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50cyB9XG4gICAgICAgICAgICAgICAgICogICAgICAgICB9XG4gICAgICAgICAgICAgICAgICogICAgICk7XG4gICAgICAgICAgICAgICAgICogfSkod2luZG93LCAnX0FXR1MnKTtcbiAgICAgICAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFNvdXJjZSA9IGAke2ltcG9ydFN0YXRlbWVudHN9OygoYSxiKT0+eyhhW2JdPWFbYl18fFtdKS5wdXNoKChBdWRpb1dvcmtsZXRQcm9jZXNzb3IsZ2xvYmFsLHJlZ2lzdGVyUHJvY2Vzc29yLHNhbXBsZVJhdGUsc2VsZix3aW5kb3cpPT57JHtzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50c31cbn0pfSkod2luZG93LCdfQVdHUycpYDtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBFdmFsdWF0aW5nIHRoZSBnaXZlbiBzb3VyY2UgY29kZSBpcyBhIHBvc3NpYmxlIHNlY3VyaXR5IHByb2JsZW0uXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2YWx1YXRlU291cmNlKHdyYXBwZWRTb3VyY2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZhbHVhdGVBdWRpb1dvcmtsZXRHbG9iYWxTY29wZSA9IHdpbmRvdy5fQVdHUy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoZXZhbHVhdGVBdWRpb1dvcmtsZXRHbG9iYWxTY29wZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTgyIENocm9tZSBhbmQgRWRnZSBkbyB0aHJvdyBhbiBpbnN0YW5jZSBvZiBhIFN5bnRheEVycm9yIGluc3RlYWQgb2YgYSBET01FeGNlcHRpb24uXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZShuYXRpdmVDb250ZXh0LmN1cnJlbnRUaW1lLCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUsICgpID0+IGV2YWx1YXRlQXVkaW9Xb3JrbGV0R2xvYmFsU2NvcGUoY2xhc3MgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcbiAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQsIChuYW1lLCBwcm9jZXNzb3JDdG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwID0gTk9ERV9OQU1FX1RPX1BST0NFU1NPUl9DT05TVFJVQ1RPUl9NQVBTLmdldChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVOYW1lVG9Qcm9jZXNzb3JDb25zdHJ1Y3Rvck1hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQcm9jZXNzb3JDdG9yKHByb2Nlc3NvckN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1ldGVyRGVzY3JpcHRvcnMocHJvY2Vzc29yQ3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlTmFtZVRvUHJvY2Vzc29yQ29uc3RydWN0b3JNYXAuc2V0KG5hbWUsIHByb2Nlc3NvckN0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UHJvY2Vzc29yQ3Rvcihwcm9jZXNzb3JDdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeVBhcmFtZXRlckRlc2NyaXB0b3JzKHByb2Nlc3NvckN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTk9ERV9OQU1FX1RPX1BST0NFU1NPUl9DT05TVFJVQ1RPUl9NQVBTLnNldChuYXRpdmVDb250ZXh0LCBuZXcgTWFwKFtbbmFtZSwgcHJvY2Vzc29yQ3Rvcl1dKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgZmV0Y2hTb3VyY2UobW9kdWxlVVJMKSxcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQsIHRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQpKVxuICAgICAgICAgICAgXSkudGhlbigoW1tzb3VyY2UsIGFic29sdXRlVXJsXSwgaXNTdXBwb3J0aW5nUG9zdE1lc3NhZ2VdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICAgIGNvbnN0IFtpbXBvcnRTdGF0ZW1lbnRzLCBzb3VyY2VXaXRob3V0SW1wb3J0U3RhdGVtZW50c10gPSBzcGxpdEltcG9ydFN0YXRlbWVudHMoc291cmNlLCBhYnNvbHV0ZVVybCk7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBCdWcgIzE3OTogRmlyZWZveCBkb2VzIG5vdCBhbGxvdyB0byB0cmFuc2ZlciBhbnkgYnVmZmVyIHdoaWNoIGhhcyBiZWVuIHBhc3NlZCB0byB0aGUgcHJvY2VzcygpIG1ldGhvZCBhcyBhbiBhcmd1bWVudC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgdGhlIHVubWluaWZpZWQgdmVyc2lvbiBvZiB0aGUgY29kZSB1c2VkIGJlbG93LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgICAgICAgKiBjbGFzcyBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgX19idWZmZXJzID0gbmV3IFdlYWtTZXQoKTtcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgICAgICAgICAgICogICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UgPSAoKHBvc3RNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgcmV0dXJuIChtZXNzYWdlLCB0cmFuc2ZlcmFibGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkVHJhbnNmZXJhYmxlcyA9ICh0cmFuc2ZlcmFibGVzKVxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgPyB0cmFuc2ZlcmFibGVzLmZpbHRlcigodHJhbnNmZXJhYmxlKSA9PiAhdGhpcy5fX2J1ZmZlcnMuaGFzKHRyYW5zZmVyYWJsZSkpXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICA6IHRyYW5zZmVyYWJsZXM7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlLmNhbGwodGhpcy5wb3J0LCBtZXNzYWdlLCBmaWx0ZXJlZFRyYW5zZmVyYWJsZXMpO1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgfSkodGhpcy5wb3J0LnBvc3RNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAgICAgICAqIH1cbiAgICAgICAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkQXVkaW9Xb3JrbGV0UHJvY2Vzc29yID0gaXNTdXBwb3J0aW5nUG9zdE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgPyAnQXVkaW9Xb3JrbGV0UHJvY2Vzc29yJ1xuICAgICAgICAgICAgICAgICAgICA6ICdjbGFzcyBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7X19iPW5ldyBXZWFrU2V0KCk7Y29uc3RydWN0b3IoKXtzdXBlcigpOyhwPT5wLnBvc3RNZXNzYWdlPShxPT4obSx0KT0+cS5jYWxsKHAsbSx0P3QuZmlsdGVyKHU9PiF0aGlzLl9fYi5oYXModSkpOnQpKShwLnBvc3RNZXNzYWdlKSkodGhpcy5wb3J0KX19JztcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjMTcwOiBDaHJvbWUgYW5kIEVkZ2UgZG8gY2FsbCBwcm9jZXNzKCkgd2l0aCBhbiBhcnJheSB3aXRoIGVtcHR5IGNoYW5uZWxEYXRhIGZvciBlYWNoIGlucHV0IGlmIG5vIGlucHV0IGlzIGNvbm5lY3RlZC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEJ1ZyAjMTc5OiBGaXJlZm94IGRvZXMgbm90IGFsbG93IHRvIHRyYW5zZmVyIGFueSBidWZmZXIgd2hpY2ggaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSBwcm9jZXNzKCkgbWV0aG9kIGFzIGFuIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQnVnICMxOTA6IFNhZmFyaSBkb2Vzbid0IHRocm93IGFuIGVycm9yIHdoZW4gbG9hZGluZyBhbiB1bnBhcnNhYmxlIG1vZHVsZS5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgdGhlIHVubWluaWZpZWQgdmVyc2lvbiBvZiB0aGUgY29kZSB1c2VkIGJlbG93OlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgICAgICAgKiBgJHsgaW1wb3J0U3RhdGVtZW50cyB9O1xuICAgICAgICAgICAgICAgICAqICgoQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLCByZWdpc3RlclByb2Nlc3NvcikgPT4geyR7IHNvdXJjZVdpdGhvdXRJbXBvcnRTdGF0ZW1lbnRzIH1cbiAgICAgICAgICAgICAgICAgKiB9KShcbiAgICAgICAgICAgICAgICAgKiAgICAgJHvCoHBhdGNoZWRBdWRpb1dvcmtsZXRQcm9jZXNzb3IgfSxcbiAgICAgICAgICAgICAgICAgKiAgICAgKG5hbWUsIHByb2Nlc3NvckN0b3IpID0+IHJlZ2lzdGVyUHJvY2Vzc29yKG5hbWUsIGNsYXNzIGV4dGVuZHMgcHJvY2Vzc29yQ3RvciB7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIF9fY29sbGVjdEJ1ZmZlcnMgPSAoYXJyYXkpID0+IHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICBhcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB0aGlzLl9fYnVmZmVycy5hZGQoZWxlbWVudC5idWZmZXIpKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIHByb2Nlc3MgKGlucHV0cywgb3V0cHV0cywgcGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgIGlucHV0cy5mb3JFYWNoKHRoaXMuX19jb2xsZWN0QnVmZmVycyk7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgb3V0cHV0cy5mb3JFYWNoKHRoaXMuX19jb2xsZWN0QnVmZmVycyk7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgdGhpcy5fX2NvbGxlY3RCdWZmZXJzKE9iamVjdC52YWx1ZXMocGFyYW1ldGVycykpO1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnByb2Nlc3MoXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgIChpbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQuc29tZSgoY2hhbm5lbERhdGEpID0+IGNoYW5uZWxEYXRhLmxlbmd0aCA9PT0gMCkpID8gWyBdIDogaW5wdXQpLFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICBvdXRwdXRzLFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICB9KVxuICAgICAgICAgICAgICAgICAqICk7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiByZWdpc3RlclByb2Nlc3NvcihgX19zYWMke2N1cnJlbnRJbmRleH1gLCBjbGFzcyBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICBwcm9jZXNzICgpIHtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogfSlgXG4gICAgICAgICAgICAgICAgICogYGBgXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgbWVtYmVyRGVmaW5pdGlvbiA9IGlzU3VwcG9ydGluZ1Bvc3RNZXNzYWdlID8gJycgOiAnX19jID0gKGEpID0+IGEuZm9yRWFjaChlPT50aGlzLl9fYi5hZGQoZS5idWZmZXIpKTsnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlclJlZ2lzdHJhdGlvbiA9IGlzU3VwcG9ydGluZ1Bvc3RNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgOiAnaS5mb3JFYWNoKHRoaXMuX19jKTtvLmZvckVhY2godGhpcy5fX2MpO3RoaXMuX19jKE9iamVjdC52YWx1ZXMocCkpOyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFNvdXJjZSA9IGAke2ltcG9ydFN0YXRlbWVudHN9OygoQXVkaW9Xb3JrbGV0UHJvY2Vzc29yLHJlZ2lzdGVyUHJvY2Vzc29yKT0+eyR7c291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHN9XG59KSgke3BhdGNoZWRBdWRpb1dvcmtsZXRQcm9jZXNzb3J9LChuLHApPT5yZWdpc3RlclByb2Nlc3NvcihuLGNsYXNzIGV4dGVuZHMgcHske21lbWJlckRlZmluaXRpb259cHJvY2VzcyhpLG8scCl7JHtidWZmZXJSZWdpc3RyYXRpb259cmV0dXJuIHN1cGVyLnByb2Nlc3MoaS5tYXAoaj0+ai5zb21lKGs9PmsubGVuZ3RoPT09MCk/W106aiksbyxwKX19KSk7cmVnaXN0ZXJQcm9jZXNzb3IoJ19fc2FjJHtjdXJyZW50SW5kZXh9JyxjbGFzcyBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3Nvcntwcm9jZXNzKCl7cmV0dXJuICExfX0pYDtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3dyYXBwZWRTb3VyY2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04JyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVDb250ZXh0LmF1ZGlvV29ya2xldFxuICAgICAgICAgICAgICAgICAgICAuYWRkTW9kdWxlKHVybCwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE4NjogQ2hyb21lIGFuZCBFZGdlIGRvIG5vdCBhbGxvdyB0byBjcmVhdGUgYW4gQXVkaW9Xb3JrbGV0Tm9kZSBvbiBhIGNsb3NlZCBBdWRpb0NvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSBnZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodXJsLCBvcHRpb25zKS50aGVuKCgpID0+IGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChuYXRpdmVDb250ZXh0T3JCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE5MDogU2FmYXJpIGRvZXNuJ3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBsb2FkaW5nIGFuIHVucGFyc2FibGUgbW9kdWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvcihuYXRpdmVDb250ZXh0T3JCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LCBgX19zYWMke2N1cnJlbnRJbmRleH1gKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAob25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9uZ29pbmdSZXF1ZXN0cy5zZXQoY29udGV4dCwgbmV3IE1hcChbW21vZHVsZVVSTCwgcHJvbWlzZV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvbmdvaW5nUmVxdWVzdHNPZkNvbnRleHQuc2V0KG1vZHVsZVVSTCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQgPSByZXNvbHZlZFJlcXVlc3RzLmdldChjb250ZXh0KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkUmVzb2x2ZWRSZXF1ZXN0c09mQ29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRSZXF1ZXN0cy5zZXQoY29udGV4dCwgbmV3IFNldChbbW9kdWxlVVJMXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFJlc29sdmVkUmVxdWVzdHNPZkNvbnRleHQuYWRkKG1vZHVsZVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkT25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0ID0gb25nb2luZ1JlcXVlc3RzLmdldChjb250ZXh0KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkT25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkT25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0LmRlbGV0ZShtb2R1bGVVUkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtYXVkaW8td29ya2xldC1tb2R1bGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGdldFZhbHVlRm9yS2V5ID0gKG1hcCwga2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHZhbHVlIHdpdGggdGhlIGdpdmVuIGtleSBjb3VsZCBub3QgYmUgZm91bmQuJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtdmFsdWUtZm9yLWtleS5qcy5tYXAiLCJleHBvcnQgY29uc3QgcGlja0VsZW1lbnRGcm9tU2V0ID0gKHNldCwgcHJlZGljYXRlKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hpbmdFbGVtZW50cyA9IEFycmF5LmZyb20oc2V0KS5maWx0ZXIocHJlZGljYXRlKTtcbiAgICBpZiAobWF0Y2hpbmdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdNb3JlIHRoYW4gb25lIGVsZW1lbnQgd2FzIGZvdW5kLicpO1xuICAgIH1cbiAgICBpZiAobWF0Y2hpbmdFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vIGVsZW1lbnQgd2FzIGZvdW5kLicpO1xuICAgIH1cbiAgICBjb25zdCBbbWF0Y2hpbmdFbGVtZW50XSA9IG1hdGNoaW5nRWxlbWVudHM7XG4gICAgc2V0LmRlbGV0ZShtYXRjaGluZ0VsZW1lbnQpO1xuICAgIHJldHVybiBtYXRjaGluZ0VsZW1lbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGljay1lbGVtZW50LWZyb20tc2V0LmpzLm1hcCIsImltcG9ydCB7IGdldFZhbHVlRm9yS2V5IH0gZnJvbSAnLi9nZXQtdmFsdWUtZm9yLWtleSc7XG5pbXBvcnQgeyBwaWNrRWxlbWVudEZyb21TZXQgfSBmcm9tICcuL3BpY2stZWxlbWVudC1mcm9tLXNldCc7XG5leHBvcnQgY29uc3QgZGVsZXRlUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlID0gKHBhc3NpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zID0gZ2V0VmFsdWVGb3JLZXkocGFzc2l2ZUlucHV0cywgc291cmNlKTtcbiAgICBjb25zdCBtYXRjaGluZ0Nvbm5lY3Rpb24gPSBwaWNrRWxlbWVudEZyb21TZXQocGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMsIChwYXNzaXZlSW5wdXRDb25uZWN0aW9uKSA9PiBwYXNzaXZlSW5wdXRDb25uZWN0aW9uWzBdID09PSBvdXRwdXQgJiYgcGFzc2l2ZUlucHV0Q29ubmVjdGlvblsxXSA9PT0gaW5wdXQpO1xuICAgIGlmIChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICAgIHBhc3NpdmVJbnB1dHMuZGVsZXRlKHNvdXJjZSk7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGluZ0Nvbm5lY3Rpb247XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsZXRlLXBhc3NpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IEVWRU5UX0xJU1RFTkVSUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShFVkVOVF9MSVNURU5FUlMsIGF1ZGlvTm9kZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IEFDVElWRV9BVURJT19OT0RFX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlIH0gZnJvbSAnLi9nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUnO1xuZXhwb3J0IGNvbnN0IHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICBpZiAoQUNUSVZFX0FVRElPX05PREVfU1RPUkUuaGFzKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgQXVkaW9Ob2RlIGlzIGFscmVhZHkgc3RvcmVkLicpO1xuICAgIH1cbiAgICBBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRS5hZGQoYXVkaW9Ob2RlKTtcbiAgICBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlKGF1ZGlvTm9kZSkuZm9yRWFjaCgoZXZlbnRMaXN0ZW5lcikgPT4gZXZlbnRMaXN0ZW5lcih0cnVlKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNBdWRpb1dvcmtsZXROb2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAncG9ydCcgaW4gYXVkaW9Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLXdvcmtsZXQtbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSB9IGZyb20gJy4vZ2V0LWV2ZW50LWxpc3RlbmVycy1vZi1hdWRpby1ub2RlJztcbmV4cG9ydCBjb25zdCBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIGlmICghQUNUSVZFX0FVRElPX05PREVfU1RPUkUuaGFzKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgQXVkaW9Ob2RlIGlzIG5vdCBzdG9yZWQuJyk7XG4gICAgfVxuICAgIEFDVElWRV9BVURJT19OT0RFX1NUT1JFLmRlbGV0ZShhdWRpb05vZGUpO1xuICAgIGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUoYXVkaW9Ob2RlKS5mb3JFYWNoKChldmVudExpc3RlbmVyKSA9PiBldmVudExpc3RlbmVyKGZhbHNlKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUuanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb1dvcmtsZXROb2RlIH0gZnJvbSAnLi4vZ3VhcmRzL2F1ZGlvLXdvcmtsZXQtbm9kZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlIH0gZnJvbSAnLi9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZSc7XG4vLyBTZXQgdGhlIGludGVybmFsU3RhdGUgb2YgdGhlIGF1ZGlvTm9kZSB0byAncGFzc2l2ZScgaWYgaXQgaXMgbm90IGFuIEF1ZGlvV29ya2xldE5vZGUgYW5kIGlmIGl0IGhhcyBubyAnYWN0aXZlJyBpbnB1dCBjb25uZWN0aW9ucy5cbmV4cG9ydCBjb25zdCBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlV2hlbk5lY2Vzc2FyeSA9IChhdWRpb05vZGUsIGFjdGl2ZUlucHV0cykgPT4ge1xuICAgIGlmICghaXNBdWRpb1dvcmtsZXROb2RlKGF1ZGlvTm9kZSkgJiYgYWN0aXZlSW5wdXRzLmV2ZXJ5KChjb25uZWN0aW9ucykgPT4gY29ubmVjdGlvbnMuc2l6ZSA9PT0gMCkpIHtcbiAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZShhdWRpb05vZGUpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZS13aGVuLW5lY2Vzc2FyeS5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBmZnRTaXplOiAyMDQ4LFxuICAgIG1heERlY2liZWxzOiAtMzAsXG4gICAgbWluRGVjaWJlbHM6IC0xMDAsXG4gICAgc21vb3RoaW5nVGltZUNvbnN0YW50OiAwLjhcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQW5hbHlzZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9uTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlciwgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEFuYWx5c2VyTm9kZSBleHRlbmRzIGF1ZGlvbk5vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBbmFseXNlck5vZGUgPSBjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBhbmFseXNlck5vZGVSZW5kZXJlciA9ICgoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpID8gY3JlYXRlQW5hbHlzZXJOb2RlUmVuZGVyZXIoKSA6IG51bGwpKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVBbmFseXNlck5vZGUsIGFuYWx5c2VyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZSA9IG5hdGl2ZUFuYWx5c2VyTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZmZ0U2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZmZ0U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZmZ0U2l6ZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmZmdFNpemUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZnJlcXVlbmN5QmluQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGdldCBtYXhEZWNpYmVscygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWF4RGVjaWJlbHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1heERlY2liZWxzKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzExODogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIGlmIG1heERlY2liZWxzIGlzIG5vdCBtb3JlIHRoYW4gbWluRGVjaWJlbHMuXG4gICAgICAgICAgICBjb25zdCBtYXhEZWNpYmVscyA9IHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5tYXhEZWNpYmVscztcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5tYXhEZWNpYmVscyA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCEodmFsdWUgPiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzID0gbWF4RGVjaWJlbHM7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgbWluRGVjaWJlbHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBtaW5EZWNpYmVscyh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gQnVnICMxMTg6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciBpZiBtYXhEZWNpYmVscyBpcyBub3QgbW9yZSB0aGFuIG1pbkRlY2liZWxzLlxuICAgICAgICAgICAgY29uc3QgbWluRGVjaWJlbHMgPSB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHM7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5tYXhEZWNpYmVscyA+IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscyA9IG1pbkRlY2liZWxzO1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHNtb290aGluZ1RpbWVDb25zdGFudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBzbW9vdGhpbmdUaW1lQ29uc3RhbnQodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRCeXRlRnJlcXVlbmN5RGF0YShhcnJheSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBnZXRCeXRlVGltZURvbWFpbkRhdGEoYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEoYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGdldEZsb2F0RnJlcXVlbmN5RGF0YShhcnJheSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEZsb2F0RnJlcXVlbmN5RGF0YShhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShhcnJheSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEoYXJyYXkpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmFseXNlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc093bmVkQnlDb250ZXh0ID0gKG5hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBuYXRpdmVBdWRpb05vZGUuY29udGV4dCA9PT0gbmF0aXZlQ29udGV4dDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1vd25lZC1ieS1jb250ZXh0LmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQgPSAobmF0aXZlQXVkaW9CdWZmZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsKG5ldyBGbG9hdDMyQXJyYXkoMSksIDAsIC0xKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tYnVmZmVyLWNvcHktY2hhbm5lbC1tZXRob2RzLW91dC1vZi1ib3VuZHMtc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSW5kZXhTaXplRXJyb3IgPSAoKSA9PiBuZXcgRE9NRXhjZXB0aW9uKCcnLCAnSW5kZXhTaXplRXJyb3InKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LXNpemUtZXJyb3IuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlSW5kZXhTaXplRXJyb3IgfSBmcm9tICcuLi9mYWN0b3JpZXMvaW5kZXgtc2l6ZS1lcnJvcic7XG5leHBvcnQgY29uc3Qgd3JhcEF1ZGlvQnVmZmVyR2V0Q2hhbm5lbERhdGFNZXRob2QgPSAoYXVkaW9CdWZmZXIpID0+IHtcbiAgICBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSA9ICgoZ2V0Q2hhbm5lbERhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIChjaGFubmVsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDaGFubmVsRGF0YS5jYWxsKGF1ZGlvQnVmZmVyLCBjaGFubmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KShhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1idWZmZXItZ2V0LWNoYW5uZWwtZGF0YS1tZXRob2QuanMubWFwIiwiaW1wb3J0IHsgdGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0IH0gZnJvbSAnLi4vaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1jb3B5LWNoYW5uZWwtbWV0aG9kcy1vdXQtb2YtYm91bmRzLXN1cHBvcnQnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvQnVmZmVyR2V0Q2hhbm5lbERhdGFNZXRob2QgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tYnVmZmVyLWdldC1jaGFubmVsLWRhdGEtbWV0aG9kJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBudW1iZXJPZkNoYW5uZWxzOiAxXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IgPSAoYXVkaW9CdWZmZXJTdG9yZSwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCB0ZXN0TmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvclN1cHBvcnQsIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcywgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMpID0+IHtcbiAgICBsZXQgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG51bGw7XG4gICAgcmV0dXJuIGNsYXNzIEF1ZGlvQnVmZmVyIHtcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgbmF0aXZlIE9mZmxpbmVBdWRpb0NvbnRleHQgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxlbmd0aCwgbnVtYmVyT2ZDaGFubmVscywgc2FtcGxlUmF0ZSB9ID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoMSwgMSwgNDQxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIEJ1ZyAjOTk6IEZpcmVmb3ggZG9lcyBub3QgdGhyb3cgYSBOb3RTdXBwb3J0ZWRFcnJvciB3aGVuIHRoZSBudW1iZXJPZkNoYW5uZWxzIGlzIHplcm8uIEJ1dCBpdCBvbmx5IGRvZXMgaXQgd2hlbiB1c2luZyB0aGVcbiAgICAgICAgICAgICAqIGZhY3RvcnkgZnVuY3Rpb24uIEJ1dCBzaW5jZSBGaXJlZm94IGFsc28gc3VwcG9ydHMgdGhlIGNvbnN0cnVjdG9yIGV2ZXJ5dGhpbmcgc2hvdWxkIGJlIGZpbmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gbmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIGNhY2hlVGVzdFJlc3VsdCh0ZXN0TmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvclN1cHBvcnQsIHRlc3ROYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydClcbiAgICAgICAgICAgICAgICA/IG5ldyBuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yKHsgbGVuZ3RoLCBudW1iZXJPZkNoYW5uZWxzLCBzYW1wbGVSYXRlIH0pXG4gICAgICAgICAgICAgICAgOiBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcihudW1iZXJPZkNoYW5uZWxzLCBsZW5ndGgsIHNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgLy8gQnVnICM5OTogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHdoZW4gdGhlIG51bWJlck9mQ2hhbm5lbHMgaXMgemVyby5cbiAgICAgICAgICAgIGlmIChhdWRpb0J1ZmZlci5udW1iZXJPZkNoYW5uZWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1ZyAjNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY29weUZyb21DaGFubmVsKCkgYW5kIGNvcHlUb0NoYW5uZWwoKS5cbiAgICAgICAgICAgIC8vIEJ1ZyAjMTAwOiBTYWZhcmkgZG9lcyB0aHJvdyBhIHdyb25nIGVycm9yIHdoZW4gY2FsbGluZyBnZXRDaGFubmVsRGF0YSgpIHdpdGggYW4gb3V0LW9mLWJvdW5kcyB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJHZXRDaGFubmVsRGF0YU1ldGhvZChhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxNTc6IEZpcmVmb3ggZG9lcyBub3QgYWxsb3cgdGhlIGJ1ZmZlck9mZnNldCB0byBiZSBvdXQtb2YtYm91bmRzLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydChhdWRpb0J1ZmZlcikpKSB7XG4gICAgICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXVkaW9CdWZmZXJTdG9yZS5hZGQoYXVkaW9CdWZmZXIpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFRoaXMgZG9lcyB2aW9sYXRlIGFsbCBnb29kIHByYXRpY2VzIGJ1dCBpdCBpcyBuZWNlc3NhcnkgdG8gYWxsb3cgdGhpcyBBdWRpb0J1ZmZlciB0byBiZSB1c2VkIHdpdGggbmF0aXZlXG4gICAgICAgICAgICAgKiAoT2ZmbGluZSlBdWRpb0NvbnRleHRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIFtTeW1ib2wuaGFzSW5zdGFuY2VdKGluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKChpbnN0YW5jZSAhPT0gbnVsbCAmJiB0eXBlb2YgaW5zdGFuY2UgPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0YW5jZSkgPT09IEF1ZGlvQnVmZmVyLnByb3RvdHlwZSkgfHxcbiAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlclN0b3JlLmhhcyhpbnN0YW5jZSkpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1idWZmZXItY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUID0gLTMuNDAyODIzNDY2Mzg1Mjg4NmUzODtcbmV4cG9ydCBjb25zdCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCA9IC1NT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJpbXBvcnQgeyBBQ1RJVkVfQVVESU9fTk9ERV9TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuZXhwb3J0IGNvbnN0IGlzQWN0aXZlQXVkaW9Ob2RlID0gKGF1ZGlvTm9kZSkgPT4gQUNUSVZFX0FVRElPX05PREVfU1RPUkUuaGFzKGF1ZGlvTm9kZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1hY3RpdmUtYXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNBY3RpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2lzLWFjdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZSc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgYnVmZmVyOiBudWxsLFxuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgLy8gQnVnICMxNDk6IFNhZmFyaSBkb2VzIG5vdCB5ZXQgc3VwcG9ydCB0aGUgZGV0dW5lIEF1ZGlvUGFyYW0uXG4gICAgbG9vcDogZmFsc2UsXG4gICAgbG9vcEVuZDogMCxcbiAgICBsb29wU3RhcnQ6IDAsXG4gICAgcGxheWJhY2tSYXRlOiAxXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB3cmFwRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlciA9ICgoaXNPZmZsaW5lID8gY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIoKSA6IG51bGwpKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyID0gYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXI7XG4gICAgICAgICAgICB0aGlzLl9pc0J1ZmZlck51bGxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJTZXQgPSBtZXJnZWRPcHRpb25zLmJ1ZmZlciAhPT0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZTtcbiAgICAgICAgICAgIHRoaXMuX29uZW5kZWQgPSBudWxsO1xuICAgICAgICAgICAgLy8gQnVnICM3MzogU2FmYXJpIGRvZXMgbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX3BsYXliYWNrUmF0ZSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUucGxheWJhY2tSYXRlLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIGdldCBidWZmZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNCdWZmZXJOdWxsaWZpZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHNldCBidWZmZXIodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzI6IE9ubHkgQ2hyb21lICYgRWRnZSBkbyBub3QgYWxsb3cgdG8gcmVhc3NpZ24gdGhlIGJ1ZmZlciB5ZXQuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNCdWZmZXJTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJTZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBsb29wKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb29wKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBsb29wRW5kKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wRW5kO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb29wRW5kKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcEVuZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBsb29wU3RhcnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3BTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9vcFN0YXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcFN0YXJ0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9uZW5kZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25lbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb25lbmRlZCh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgdmFsdWUpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5vbmVuZGVkID0gd3JhcHBlZExpc3RlbmVyO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT25FbmRlZCA9IHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5vbmVuZGVkO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCA9IG5hdGl2ZU9uRW5kZWQgIT09IG51bGwgJiYgbmF0aXZlT25FbmRlZCA9PT0gd3JhcHBlZExpc3RlbmVyID8gdmFsdWUgOiBuYXRpdmVPbkVuZGVkO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwbGF5YmFja1JhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxheWJhY2tSYXRlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0KHdoZW4gPSAwLCBvZmZzZXQgPSAwLCBkdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KHdoZW4sIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXIuc3RhcnQgPSBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkID8gW3doZW4sIG9mZnNldF0gOiBbd2hlbiwgb2Zmc2V0LCBkdXJhdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdG9wKHdoZW4gPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCh3aGVuKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyLnN0b3AgPSB3aGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1idWZmZXItc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgQVVESU9fTk9ERV9DT05ORUNUSU9OU19TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gZ2V0VmFsdWVGb3JLZXkoQVVESU9fTk9ERV9DT05ORUNUSU9OU19TVE9SRSwgYXVkaW9Ob2RlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYXVkaW8tbm9kZS1jb25uZWN0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBBVURJT19QQVJBTV9DT05ORUNUSU9OU19TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMgPSAoYXVkaW9QYXJhbSkgPT4ge1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShBVURJT19QQVJBTV9DT05ORUNUSU9OU19TVE9SRSwgYXVkaW9QYXJhbSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWF1ZGlvLXBhcmFtLWNvbm5lY3Rpb25zLmpzLm1hcCIsImltcG9ydCB7IGlzQXVkaW9CdWZmZXJTb3VyY2VOb2RlIH0gZnJvbSAnLi4vZ3VhcmRzL2F1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZSc7XG5pbXBvcnQgeyBpc0F1ZGlvV29ya2xldE5vZGUgfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8td29ya2xldC1ub2RlJztcbmltcG9ydCB7IGlzQmlxdWFkRmlsdGVyTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9iaXF1YWQtZmlsdGVyLW5vZGUnO1xuaW1wb3J0IHsgaXNDb25zdGFudFNvdXJjZU5vZGUgfSBmcm9tICcuLi9ndWFyZHMvY29uc3RhbnQtc291cmNlLW5vZGUnO1xuaW1wb3J0IHsgaXNHYWluTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9nYWluLW5vZGUnO1xuaW1wb3J0IHsgaXNPc2NpbGxhdG9yTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9vc2NpbGxhdG9yLW5vZGUnO1xuaW1wb3J0IHsgaXNTdGVyZW9QYW5uZXJOb2RlIH0gZnJvbSAnLi4vZ3VhcmRzL3N0ZXJlby1wYW5uZXItbm9kZSc7XG5pbXBvcnQgeyBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyB9IGZyb20gJy4vZ2V0LWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9nZXQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgaXNBY3RpdmVBdWRpb05vZGUgfSBmcm9tICcuL2lzLWFjdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgfSBmcm9tICcuL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlJztcbmV4cG9ydCBjb25zdCBkZWFjdGl2YXRlQWN0aXZlQXVkaW9Ob2RlSW5wdXRDb25uZWN0aW9ucyA9IChhdWRpb05vZGUsIHRyYWNlKSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmVJbnB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGF1ZGlvTm9kZSk7XG4gICAgYWN0aXZlSW5wdXRzLmZvckVhY2goKGNvbm5lY3Rpb25zKSA9PiBjb25uZWN0aW9ucy5mb3JFYWNoKChbc291cmNlXSkgPT4ge1xuICAgICAgICBpZiAoIXRyYWNlLmluY2x1ZGVzKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgICAgIGRlYWN0aXZhdGVBY3RpdmVBdWRpb05vZGVJbnB1dENvbm5lY3Rpb25zKHNvdXJjZSwgWy4uLnRyYWNlLCBhdWRpb05vZGVdKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBjb25zdCBhdWRpb1BhcmFtcyA9IGlzQXVkaW9CdWZmZXJTb3VyY2VOb2RlKGF1ZGlvTm9kZSlcbiAgICAgICAgPyBbXG4gICAgICAgICAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICAgICAgICAgIGF1ZGlvTm9kZS5wbGF5YmFja1JhdGVcbiAgICAgICAgXVxuICAgICAgICA6IGlzQXVkaW9Xb3JrbGV0Tm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICA/IEFycmF5LmZyb20oYXVkaW9Ob2RlLnBhcmFtZXRlcnMudmFsdWVzKCkpXG4gICAgICAgICAgICA6IGlzQmlxdWFkRmlsdGVyTm9kZShhdWRpb05vZGUpXG4gICAgICAgICAgICAgICAgPyBbYXVkaW9Ob2RlLlEsIGF1ZGlvTm9kZS5kZXR1bmUsIGF1ZGlvTm9kZS5mcmVxdWVuY3ksIGF1ZGlvTm9kZS5nYWluXVxuICAgICAgICAgICAgICAgIDogaXNDb25zdGFudFNvdXJjZU5vZGUoYXVkaW9Ob2RlKVxuICAgICAgICAgICAgICAgICAgICA/IFthdWRpb05vZGUub2Zmc2V0XVxuICAgICAgICAgICAgICAgICAgICA6IGlzR2Fpbk5vZGUoYXVkaW9Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbYXVkaW9Ob2RlLmdhaW5dXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzT3NjaWxsYXRvck5vZGUoYXVkaW9Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2F1ZGlvTm9kZS5kZXR1bmUsIGF1ZGlvTm9kZS5mcmVxdWVuY3ldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1N0ZXJlb1Bhbm5lck5vZGUoYXVkaW9Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFthdWRpb05vZGUucGFuXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtdO1xuICAgIGZvciAoY29uc3QgYXVkaW9QYXJhbSBvZiBhdWRpb1BhcmFtcykge1xuICAgICAgICBjb25zdCBhdWRpb1BhcmFtQ29ubmVjdGlvbnMgPSBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMoYXVkaW9QYXJhbSk7XG4gICAgICAgIGlmIChhdWRpb1BhcmFtQ29ubmVjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXVkaW9QYXJhbUNvbm5lY3Rpb25zLmFjdGl2ZUlucHV0cy5mb3JFYWNoKChbc291cmNlXSkgPT4gZGVhY3RpdmF0ZUFjdGl2ZUF1ZGlvTm9kZUlucHV0Q29ubmVjdGlvbnMoc291cmNlLCB0cmFjZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShhdWRpb05vZGUpKSB7XG4gICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUoYXVkaW9Ob2RlKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVhY3RpdmF0ZS1hY3RpdmUtYXVkaW8tbm9kZS1pbnB1dC1jb25uZWN0aW9ucy5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICdwbGF5YmFja1JhdGUnIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1idWZmZXItc291cmNlLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzQmlxdWFkRmlsdGVyTm9kZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gJ2ZyZXF1ZW5jeScgaW4gYXVkaW9Ob2RlICYmICdnYWluJyBpbiBhdWRpb05vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlxdWFkLWZpbHRlci1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0NvbnN0YW50U291cmNlTm9kZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gJ29mZnNldCcgaW4gYXVkaW9Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50LXNvdXJjZS1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0dhaW5Ob2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAhKCdmcmVxdWVuY3knIGluIGF1ZGlvTm9kZSkgJiYgJ2dhaW4nIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYWluLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzT3NjaWxsYXRvck5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICdkZXR1bmUnIGluIGF1ZGlvTm9kZSAmJiAnZnJlcXVlbmN5JyBpbiBhdWRpb05vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3NjaWxsYXRvci1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc1N0ZXJlb1Bhbm5lck5vZGUgPSAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICdwYW4nIGluIGF1ZGlvTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVyZW8tcGFubmVyLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgZGVhY3RpdmF0ZUFjdGl2ZUF1ZGlvTm9kZUlucHV0Q29ubmVjdGlvbnMgfSBmcm9tICcuL2RlYWN0aXZhdGUtYWN0aXZlLWF1ZGlvLW5vZGUtaW5wdXQtY29ubmVjdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGRlYWN0aXZhdGVBdWRpb0dyYXBoID0gKGNvbnRleHQpID0+IHtcbiAgICBkZWFjdGl2YXRlQWN0aXZlQXVkaW9Ob2RlSW5wdXRDb25uZWN0aW9ucyhjb250ZXh0LmRlc3RpbmF0aW9uLCBbXSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVhY3RpdmF0ZS1hdWRpby1ncmFwaC5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNBdWRpb05vZGUgPSAoYXVkaW9Ob2RlT3JBdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuICdjb250ZXh0JyBpbiBhdWRpb05vZGVPckF1ZGlvUGFyYW07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0F1ZGlvTm9kZSB9IGZyb20gJy4vYXVkaW8tbm9kZSc7XG5leHBvcnQgY29uc3QgaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uID0gKG91dHB1dENvbm5lY3Rpb24pID0+IHtcbiAgICByZXR1cm4gaXNBdWRpb05vZGUob3V0cHV0Q29ubmVjdGlvblswXSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tbm9kZS1vdXRwdXQtY29ubmVjdGlvbi5qcy5tYXAiLCJleHBvcnQgY29uc3QgaW5zZXJ0RWxlbWVudEluU2V0ID0gKHNldCwgZWxlbWVudCwgcHJlZGljYXRlLCBpZ25vcmVEdXBsaWNhdGVzKSA9PiB7XG4gICAgZm9yIChjb25zdCBsbW50IG9mIHNldCkge1xuICAgICAgICBpZiAocHJlZGljYXRlKGxtbnQpKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlRHVwbGljYXRlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgc2V0IGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBzaW1pbGFyIGVsZW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0LmFkZChlbGVtZW50KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnNlcnQtZWxlbWVudC1pbi1zZXQuanMubWFwIiwiaW1wb3J0IHsgaW5zZXJ0RWxlbWVudEluU2V0IH0gZnJvbSAnLi9pbnNlcnQtZWxlbWVudC1pbi1zZXQnO1xuZXhwb3J0IGNvbnN0IGFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSA9IChhY3RpdmVJbnB1dHMsIHNvdXJjZSwgW291dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIGlnbm9yZUR1cGxpY2F0ZXMpID0+IHtcbiAgICBpbnNlcnRFbGVtZW50SW5TZXQoYWN0aXZlSW5wdXRzLCBbc291cmNlLCBvdXRwdXQsIGV2ZW50TGlzdGVuZXJdLCAoYWN0aXZlSW5wdXRDb25uZWN0aW9uKSA9PiBhY3RpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IHNvdXJjZSAmJiBhY3RpdmVJbnB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCwgaWdub3JlRHVwbGljYXRlcyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzLm1hcCIsImltcG9ydCB7IGluc2VydEVsZW1lbnRJblNldCB9IGZyb20gJy4vaW5zZXJ0LWVsZW1lbnQtaW4tc2V0JztcbmV4cG9ydCBjb25zdCBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtID0gKHBhc3NpdmVJbnB1dHMsIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIGlnbm9yZUR1cGxpY2F0ZXMpID0+IHtcbiAgICBjb25zdCBwYXNzaXZlSW5wdXRDb25uZWN0aW9ucyA9IHBhc3NpdmVJbnB1dHMuZ2V0KHNvdXJjZSk7XG4gICAgaWYgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFzc2l2ZUlucHV0cy5zZXQoc291cmNlLCBuZXcgU2V0KFtbb3V0cHV0LCBldmVudExpc3RlbmVyXV0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluc2VydEVsZW1lbnRJblNldChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucywgW291dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIChwYXNzaXZlSW5wdXRDb25uZWN0aW9uKSA9PiBwYXNzaXZlSW5wdXRDb25uZWN0aW9uWzBdID09PSBvdXRwdXQsIGlnbm9yZUR1cGxpY2F0ZXMpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzLm1hcCIsImV4cG9ydCBjb25zdCBpc05hdGl2ZUF1ZGlvTm9kZUZha2VyID0gKG5hdGl2ZUF1ZGlvTm9kZU9yTmF0aXZlQXVkaW9Ob2RlRmFrZXIpID0+IHtcbiAgICByZXR1cm4gJ2lucHV0cycgaW4gbmF0aXZlQXVkaW9Ob2RlT3JOYXRpdmVBdWRpb05vZGVGYWtlcjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8tbm9kZS1mYWtlci5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZUZha2VyIH0gZnJvbSAnLi4vZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlLWZha2VyJztcbmV4cG9ydCBjb25zdCBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUgPSAobmF0aXZlU291cmNlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZUZha2VyKG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlKSkge1xuICAgICAgICBjb25zdCBmYWtlTmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUgPSBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZS5pbnB1dHNbaW5wdXRdO1xuICAgICAgICBuYXRpdmVTb3VyY2VBdWRpb05vZGUuY29ubmVjdChmYWtlTmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgMCk7XG4gICAgICAgIHJldHVybiBbZmFrZU5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIDBdO1xuICAgIH1cbiAgICBuYXRpdmVTb3VyY2VBdWRpb05vZGUuY29ubmVjdChuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgcmV0dXJuIFtuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0LCBpbnB1dF07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS10by1uYXRpdmUtYXVkaW8tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uID0gKGFjdGl2ZUlucHV0Q29ubmVjdGlvbnMsIHNvdXJjZSwgb3V0cHV0KSA9PiB7XG4gICAgZm9yIChjb25zdCBhY3RpdmVJbnB1dENvbm5lY3Rpb24gb2YgYWN0aXZlSW5wdXRDb25uZWN0aW9ucykge1xuICAgICAgICBpZiAoYWN0aXZlSW5wdXRDb25uZWN0aW9uWzBdID09PSBzb3VyY2UgJiYgYWN0aXZlSW5wdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQpIHtcbiAgICAgICAgICAgIGFjdGl2ZUlucHV0Q29ubmVjdGlvbnMuZGVsZXRlKGFjdGl2ZUlucHV0Q29ubmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlSW5wdXRDb25uZWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBnZXRFdmVudExpc3RlbmVyc09mQXVkaW9Ob2RlIH0gZnJvbSAnLi9nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUnO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUV2ZW50TGlzdGVuZXJPZkF1ZGlvTm9kZSA9IChhdWRpb05vZGUsIGV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUoYXVkaW9Ob2RlKTtcbiAgICBpZiAoIWV2ZW50TGlzdGVuZXJzLmRlbGV0ZShldmVudExpc3RlbmVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIGV4cGVjdGVkIGV2ZW50IGxpc3RlbmVyLicpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGUtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmltcG9ydCB7IHBpY2tFbGVtZW50RnJvbVNldCB9IGZyb20gJy4vcGljay1lbGVtZW50LWZyb20tc2V0JztcbmV4cG9ydCBjb25zdCBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtID0gKHBhc3NpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0KSA9PiB7XG4gICAgY29uc3QgcGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMgPSBnZXRWYWx1ZUZvcktleShwYXNzaXZlSW5wdXRzLCBzb3VyY2UpO1xuICAgIGNvbnN0IG1hdGNoaW5nQ29ubmVjdGlvbiA9IHBpY2tFbGVtZW50RnJvbVNldChwYXNzaXZlSW5wdXRDb25uZWN0aW9ucywgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb24pID0+IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IG91dHB1dCk7XG4gICAgaWYgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgICAgcGFzc2l2ZUlucHV0cy5kZWxldGUoc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoaW5nQ29ubmVjdGlvbjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGUtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtLmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXInO1xuZXhwb3J0IGNvbnN0IGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlID0gKG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSwgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpID0+IHtcbiAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGVGYWtlcihuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSkpIHtcbiAgICAgICAgbmF0aXZlU291cmNlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QobmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUuaW5wdXRzW2lucHV0XSwgb3V0cHV0LCAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZS5kaXNjb25uZWN0KG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS1mcm9tLW5hdGl2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IEFVRElPX05PREVfU1RPUkUgfSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7IGdldFZhbHVlRm9yS2V5IH0gZnJvbSAnLi9nZXQtdmFsdWUtZm9yLWtleSc7XG5leHBvcnQgY29uc3QgZ2V0TmF0aXZlQXVkaW9Ob2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiBnZXRWYWx1ZUZvcktleShBVURJT19OT0RFX1NUT1JFLCBhdWRpb05vZGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1uYXRpdmUtYXVkaW8tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBBVURJT19QQVJBTV9TVE9SRSB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXROYXRpdmVBdWRpb1BhcmFtID0gKGF1ZGlvUGFyYW0pID0+IHtcbiAgICByZXR1cm4gZ2V0VmFsdWVGb3JLZXkoQVVESU9fUEFSQU1fU1RPUkUsIGF1ZGlvUGFyYW0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1uYXRpdmUtYXVkaW8tcGFyYW0uanMubWFwIiwiaW1wb3J0IHsgQ1lDTEVfQ09VTlRFUlMgfSBmcm9tICcuLi9nbG9iYWxzJztcbmV4cG9ydCBjb25zdCBpc1BhcnRPZkFDeWNsZSA9IChhdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gQ1lDTEVfQ09VTlRFUlMuaGFzKGF1ZGlvTm9kZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtcGFydC1vZi1hLWN5Y2xlLmpzLm1hcCIsImltcG9ydCB7IEFDVElWRV9BVURJT19OT0RFX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5leHBvcnQgY29uc3QgaXNQYXNzaXZlQXVkaW9Ob2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAhQUNUSVZFX0FVRElPX05PREVfU1RPUkUuaGFzKGF1ZGlvTm9kZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtcGFzc2l2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZFN1cHBvcnQgPSAobmF0aXZlQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgLypcbiAgICAgICAgICogVGhpcyBidWcgZXhpc3RlZCBpbiBTYWZhcmkgdXAgdW50aWwgdjE0LjAuMi4gU2luY2UgQXVkaW9Xb3JrbGV0cyB3ZXJlIG5vdCBzdXBwb3J0ZWQgaW4gU2FmYXJpIHVudGlsIHYxNC4xIHRoZSBwcmVzZW5jZSBvZiB0aGVcbiAgICAgICAgICogY29uc3RydWN0b3IgZm9yIGFuIEF1ZGlvV29ya2xldE5vZGUgY2FuIGJlIHVzZWQgaGVyZSB0byBza2lwIHRoZSB0ZXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5emVyID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcigyNTYsIDEsIDEpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICBjb25zdCBkdW1teSA9IG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgICAgICAvLyBCdWcgIzk1OiBTYWZhcmkgZG9lcyBub3QgcGxheSBvbmUgc2FtcGxlIGJ1ZmZlcnMuXG4gICAgICAgICAgICBjb25zdCBvbmVzID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAyLCA0NDEwMCk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRGF0YSA9IG9uZXMuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgICAgICBjaGFubmVsRGF0YVswXSA9IDE7XG4gICAgICAgICAgICBjaGFubmVsRGF0YVsxXSA9IDE7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gb25lcztcbiAgICAgICAgICAgIHNvdXJjZS5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5emVyKS5jb25uZWN0KG5hdGl2ZUF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBzb3VyY2UuY29ubmVjdChkdW1teSk7XG4gICAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdChkdW1teSk7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgIGFuYWx5emVyLm9uYXVkaW9wcm9jZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hubmxEdCA9IGV2ZW50LmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoY2hubmxEdCwgKHNhbXBsZSkgPT4gc2FtcGxlID09PSAxKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgYW5hbHl6ZXIub25hdWRpb3Byb2Nlc3MgPSBudWxsOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoYW5hbHl6ZXIpO1xuICAgICAgICAgICAgICAgIGFuYWx5emVyLmRpc2Nvbm5lY3QobmF0aXZlQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3VyY2Uuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tbm9kZS1kaXNjb25uZWN0LW1ldGhvZC1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCB2aXNpdEVhY2hBdWRpb05vZGVPbmNlID0gKGN5Y2xlcywgdmlzaXRvcikgPT4ge1xuICAgIGNvbnN0IGNvdW50cyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGN5Y2xlIG9mIGN5Y2xlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGF1ZGlvTm9kZSBvZiBjeWNsZSkge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBjb3VudHMuZ2V0KGF1ZGlvTm9kZSk7XG4gICAgICAgICAgICBjb3VudHMuc2V0KGF1ZGlvTm9kZSwgY291bnQgPT09IHVuZGVmaW5lZCA/IDEgOiBjb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvdW50cy5mb3JFYWNoKChjb3VudCwgYXVkaW9Ob2RlKSA9PiB2aXNpdG9yKGF1ZGlvTm9kZSwgY291bnQpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXNpdC1lYWNoLWF1ZGlvLW5vZGUtb25jZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNOYXRpdmVBdWRpb05vZGUgPSAobmF0aXZlQXVkaW9Ob2RlT3JBdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuICdjb250ZXh0JyBpbiBuYXRpdmVBdWRpb05vZGVPckF1ZGlvUGFyYW07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgaXNOYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUnO1xuZXhwb3J0IGNvbnN0IHdyYXBBdWRpb05vZGVEaXNjb25uZWN0TWV0aG9kID0gKG5hdGl2ZUF1ZGlvTm9kZSkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IE1hcCgpO1xuICAgIG5hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0ID0gKChjb25uZWN0KSA9PiB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTppbnZhbGlkLXZvaWQgbm8taW5mZXJyYWJsZS10eXBlc1xuICAgICAgICByZXR1cm4gKGRlc3RpbmF0aW9uLCBvdXRwdXQgPSAwLCBpbnB1dCA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pID8gY29ubmVjdChkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCkgOiBjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXQpO1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgbmV3IGNvbm5lY3Rpb24gb25seSBpZiB0aGUgY2FsbHMgdG8gY29ubmVjdCBhYm92ZSBkaWRuJ3QgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uc1RvRGVzdGluYXRpb24gPSBjb25uZWN0aW9ucy5nZXQoZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KGRlc3RpbmF0aW9uLCBbeyBpbnB1dCwgb3V0cHV0IH1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uc1RvRGVzdGluYXRpb24uZXZlcnkoKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uaW5wdXQgIT09IGlucHV0IHx8IGNvbm5lY3Rpb24ub3V0cHV0ICE9PSBvdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbi5wdXNoKHsgaW5wdXQsIG91dHB1dCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH07XG4gICAgfSkobmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QuYmluZChuYXRpdmVBdWRpb05vZGUpKTtcbiAgICBuYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdCA9ICgoZGlzY29ubmVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gKGRlc3RpbmF0aW9uT3JPdXRwdXQsIG91dHB1dCwgaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGRpc2Nvbm5lY3QuYXBwbHkobmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yT3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JPdXRwdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZGVzdGluYXRpb24sIGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbl0gb2YgY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRDb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbi5maWx0ZXIoKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24ub3V0cHV0ICE9PSBkZXN0aW5hdGlvbk9yT3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQ29ubmVjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5kZWxldGUoZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KGRlc3RpbmF0aW9uLCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbm5lY3Rpb25zLmhhcyhkZXN0aW5hdGlvbk9yT3V0cHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5kZWxldGUoZGVzdGluYXRpb25Pck91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uc1RvRGVzdGluYXRpb24gPSBjb25uZWN0aW9ucy5nZXQoZGVzdGluYXRpb25Pck91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uc1RvRGVzdGluYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRDb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zVG9EZXN0aW5hdGlvbi5maWx0ZXIoKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24ub3V0cHV0ICE9PSBvdXRwdXQgJiYgKGNvbm5lY3Rpb24uaW5wdXQgIT09IGlucHV0IHx8IGlucHV0ID09PSB1bmRlZmluZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZENvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmRlbGV0ZShkZXN0aW5hdGlvbk9yT3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnNldChkZXN0aW5hdGlvbk9yT3V0cHV0LCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2Rlc3RpbmF0aW9uLCBjb25uZWN0aW9uc1RvRGVzdGluYXRpb25dIG9mIGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uLmZvckVhY2goKGNvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QoZGVzdGluYXRpb24sIGNvbm5lY3Rpb24ub3V0cHV0LCBjb25uZWN0aW9uLmlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0KGRlc3RpbmF0aW9uLCBjb25uZWN0aW9uLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1ub2RlLWRpc2Nvbm5lY3QtbWV0aG9kLmpzLm1hcCIsImltcG9ydCB7IEFVRElPX05PREVfU1RPUkUsIEVWRU5UX0xJU1RFTkVSUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgaXNBdWRpb05vZGUgfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24gfSBmcm9tICcuLi9ndWFyZHMvYXVkaW8tbm9kZS1vdXRwdXQtY29ubmVjdGlvbic7XG5pbXBvcnQgeyBhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gfSBmcm9tICcuLi9oZWxwZXJzL2FkZC1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1wYXJhbSc7XG5pbXBvcnQgeyBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtIH0gZnJvbSAnLi4vaGVscGVycy9hZGQtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS10by1uYXRpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb24gfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbic7XG5pbXBvcnQgeyBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1wYXJhbSc7XG5pbXBvcnQgeyBkZWxldGVFdmVudExpc3RlbmVyT2ZBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtIH0gZnJvbSAnLi4vaGVscGVycy9kZWxldGUtcGFzc2l2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vaGVscGVycy9kaXNjb25uZWN0LW5hdGl2ZS1hdWRpby1ub2RlLWZyb20tbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2dldC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LWF1ZGlvLXBhcmFtLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2dldC1ldmVudC1saXN0ZW5lcnMtb2YtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBnZXROYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2dldC1uYXRpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBnZXROYXRpdmVBdWRpb1BhcmFtIH0gZnJvbSAnLi4vaGVscGVycy9nZXQtbmF0aXZlLWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGluc2VydEVsZW1lbnRJblNldCB9IGZyb20gJy4uL2hlbHBlcnMvaW5zZXJ0LWVsZW1lbnQtaW4tc2V0JztcbmltcG9ydCB7IGlzQWN0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi4vaGVscGVycy9pcy1hY3RpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBpc1BhcnRPZkFDeWNsZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtcGFydC1vZi1hLWN5Y2xlJztcbmltcG9ydCB7IGlzUGFzc2l2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtcGFzc2l2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlV2hlbk5lY2Vzc2FyeSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLXBhc3NpdmUtd2hlbi1uZWNlc3NhcnknO1xuaW1wb3J0IHsgdGVzdEF1ZGlvTm9kZURpc2Nvbm5lY3RNZXRob2RTdXBwb3J0IH0gZnJvbSAnLi4vaGVscGVycy90ZXN0LWF1ZGlvLW5vZGUtZGlzY29ubmVjdC1tZXRob2Qtc3VwcG9ydCc7XG5pbXBvcnQgeyB2aXNpdEVhY2hBdWRpb05vZGVPbmNlIH0gZnJvbSAnLi4vaGVscGVycy92aXNpdC1lYWNoLWF1ZGlvLW5vZGUtb25jZSc7XG5pbXBvcnQgeyB3cmFwQXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZCB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1ub2RlLWRpc2Nvbm5lY3QtbWV0aG9kJztcbmNvbnN0IGFkZENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW1PZkF1ZGlvQ29udGV4dCA9IChzb3VyY2UsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlzT2ZmbGluZSkgPT4ge1xuICAgIGNvbnN0IHsgYWN0aXZlSW5wdXRzLCBwYXNzaXZlSW5wdXRzIH0gPSBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMoZGVzdGluYXRpb24pO1xuICAgIGNvbnN0IHsgb3V0cHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoc291cmNlKTtcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IGdldEV2ZW50TGlzdGVuZXJzT2ZBdWRpb05vZGUoc291cmNlKTtcbiAgICBjb25zdCBldmVudExpc3RlbmVyID0gKGlzQWN0aXZlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShzb3VyY2UpO1xuICAgICAgICBjb25zdCBuYXRpdmVBdWRpb1BhcmFtID0gZ2V0TmF0aXZlQXVkaW9QYXJhbShkZXN0aW5hdGlvbik7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbENvbm5lY3Rpb24gPSBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKHBhc3NpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0KTtcbiAgICAgICAgICAgIGFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbShhY3RpdmVJbnB1dHMsIHNvdXJjZSwgcGFydGlhbENvbm5lY3Rpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICghaXNPZmZsaW5lICYmICFpc1BhcnRPZkFDeWNsZShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QobmF0aXZlQXVkaW9QYXJhbSwgb3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxDb25uZWN0aW9uID0gZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKGFjdGl2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpO1xuICAgICAgICAgICAgYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbShwYXNzaXZlSW5wdXRzLCBwYXJ0aWFsQ29ubmVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKCFpc09mZmxpbmUgJiYgIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdChuYXRpdmVBdWRpb1BhcmFtLCBvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoaW5zZXJ0RWxlbWVudEluU2V0KG91dHB1dHMsIFtkZXN0aW5hdGlvbiwgb3V0cHV0XSwgKG91dHB1dENvbm5lY3Rpb24pID0+IG91dHB1dENvbm5lY3Rpb25bMF0gPT09IGRlc3RpbmF0aW9uICYmIG91dHB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCwgdHJ1ZSkpIHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMuYWRkKGV2ZW50TGlzdGVuZXIpO1xuICAgICAgICBpZiAoaXNBY3RpdmVBdWRpb05vZGUoc291cmNlKSkge1xuICAgICAgICAgICAgYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKGFjdGl2ZUlucHV0cywgc291cmNlLCBbb3V0cHV0LCBldmVudExpc3RlbmVyXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtKHBhc3NpdmVJbnB1dHMsIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgZGVsZXRlSW5wdXRDb25uZWN0aW9uT2ZBdWRpb05vZGUgPSAoc291cmNlLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHsgYWN0aXZlSW5wdXRzLCBwYXNzaXZlSW5wdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhkZXN0aW5hdGlvbik7XG4gICAgY29uc3QgYWN0aXZlSW5wdXRDb25uZWN0aW9uID0gZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uKGFjdGl2ZUlucHV0c1tpbnB1dF0sIHNvdXJjZSwgb3V0cHV0KTtcbiAgICBpZiAoYWN0aXZlSW5wdXRDb25uZWN0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHBhc3NpdmVJbnB1dENvbm5lY3Rpb24gPSBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFtwYXNzaXZlSW5wdXRDb25uZWN0aW9uWzJdLCBmYWxzZV07XG4gICAgfVxuICAgIHJldHVybiBbYWN0aXZlSW5wdXRDb25uZWN0aW9uWzJdLCB0cnVlXTtcbn07XG5jb25zdCBkZWxldGVJbnB1dENvbm5lY3Rpb25PZkF1ZGlvUGFyYW0gPSAoc291cmNlLCBkZXN0aW5hdGlvbiwgb3V0cHV0KSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmVJbnB1dHMsIHBhc3NpdmVJbnB1dHMgfSA9IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhkZXN0aW5hdGlvbik7XG4gICAgY29uc3QgYWN0aXZlSW5wdXRDb25uZWN0aW9uID0gZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uKGFjdGl2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpO1xuICAgIGlmIChhY3RpdmVJbnB1dENvbm5lY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFzc2l2ZUlucHV0Q29ubmVjdGlvbiA9IGRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0ocGFzc2l2ZUlucHV0cywgc291cmNlLCBvdXRwdXQpO1xuICAgICAgICByZXR1cm4gW3Bhc3NpdmVJbnB1dENvbm5lY3Rpb25bMV0sIGZhbHNlXTtcbiAgICB9XG4gICAgcmV0dXJuIFthY3RpdmVJbnB1dENvbm5lY3Rpb25bMl0sIHRydWVdO1xufTtcbmNvbnN0IGRlbGV0ZUlucHV0c09mQXVkaW9Ob2RlID0gKHNvdXJjZSwgaXNPZmZsaW5lLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgIGNvbnN0IFtsaXN0ZW5lciwgaXNBY3RpdmVdID0gZGVsZXRlSW5wdXRDb25uZWN0aW9uT2ZBdWRpb05vZGUoc291cmNlLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCk7XG4gICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZUV2ZW50TGlzdGVuZXJPZkF1ZGlvTm9kZShzb3VyY2UsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlICYmICFpc09mZmxpbmUgJiYgIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlKGdldE5hdGl2ZUF1ZGlvTm9kZShzb3VyY2UpLCBnZXROYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBY3RpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHsgYWN0aXZlSW5wdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhkZXN0aW5hdGlvbik7XG4gICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5KGRlc3RpbmF0aW9uLCBhY3RpdmVJbnB1dHMpO1xuICAgIH1cbn07XG5jb25zdCBkZWxldGVJbnB1dHNPZkF1ZGlvUGFyYW0gPSAoc291cmNlLCBpc09mZmxpbmUsIGRlc3RpbmF0aW9uLCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCBbbGlzdGVuZXIsIGlzQWN0aXZlXSA9IGRlbGV0ZUlucHV0Q29ubmVjdGlvbk9mQXVkaW9QYXJhbShzb3VyY2UsIGRlc3RpbmF0aW9uLCBvdXRwdXQpO1xuICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICBkZWxldGVFdmVudExpc3RlbmVyT2ZBdWRpb05vZGUoc291cmNlLCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpc0FjdGl2ZSAmJiAhaXNPZmZsaW5lICYmICFpc1BhcnRPZkFDeWNsZShzb3VyY2UpKSB7XG4gICAgICAgICAgICBnZXROYXRpdmVBdWRpb05vZGUoc291cmNlKS5kaXNjb25uZWN0KGdldE5hdGl2ZUF1ZGlvUGFyYW0oZGVzdGluYXRpb24pLCBvdXRwdXQpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGRlbGV0ZUFueUNvbm5lY3Rpb24gPSAoc291cmNlLCBpc09mZmxpbmUpID0+IHtcbiAgICBjb25zdCBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoc291cmNlKTtcbiAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dENvbm5lY3Rpb24gb2YgYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZS5vdXRwdXRzKSB7XG4gICAgICAgIGlmIChpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24ob3V0cHV0Q29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgIGRlbGV0ZUlucHV0c09mQXVkaW9Ob2RlKHNvdXJjZSwgaXNPZmZsaW5lLCAuLi5vdXRwdXRDb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZUlucHV0c09mQXVkaW9QYXJhbShzb3VyY2UsIGlzT2ZmbGluZSwgLi4ub3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdGluYXRpb25zLnB1c2gob3V0cHV0Q29ubmVjdGlvblswXSk7XG4gICAgfVxuICAgIGF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2Uub3V0cHV0cy5jbGVhcigpO1xuICAgIHJldHVybiBkZXN0aW5hdGlvbnM7XG59O1xuY29uc3QgZGVsZXRlQ29ubmVjdGlvbkF0T3V0cHV0ID0gKHNvdXJjZSwgaXNPZmZsaW5lLCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoc291cmNlKTtcbiAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dENvbm5lY3Rpb24gb2YgYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZS5vdXRwdXRzKSB7XG4gICAgICAgIGlmIChvdXRwdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQpIHtcbiAgICAgICAgICAgIGlmIChpc0F1ZGlvTm9kZU91dHB1dENvbm5lY3Rpb24ob3V0cHV0Q29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVJbnB1dHNPZkF1ZGlvTm9kZShzb3VyY2UsIGlzT2ZmbGluZSwgLi4ub3V0cHV0Q29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGVJbnB1dHNPZkF1ZGlvUGFyYW0oc291cmNlLCBpc09mZmxpbmUsIC4uLm91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdGluYXRpb25zLnB1c2gob3V0cHV0Q29ubmVjdGlvblswXSk7XG4gICAgICAgICAgICBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlLm91dHB1dHMuZGVsZXRlKG91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbnM7XG59O1xuY29uc3QgZGVsZXRlQ29ubmVjdGlvblRvRGVzdGluYXRpb24gPSAoc291cmNlLCBpc09mZmxpbmUsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KSA9PiB7XG4gICAgY29uc3QgYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKHNvdXJjZSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXVkaW9Ob2RlQ29ubmVjdGlvbnNPZlNvdXJjZS5vdXRwdXRzKVxuICAgICAgICAuZmlsdGVyKChvdXRwdXRDb25uZWN0aW9uKSA9PiBvdXRwdXRDb25uZWN0aW9uWzBdID09PSBkZXN0aW5hdGlvbiAmJlxuICAgICAgICAob3V0cHV0ID09PSB1bmRlZmluZWQgfHwgb3V0cHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0KSAmJlxuICAgICAgICAoaW5wdXQgPT09IHVuZGVmaW5lZCB8fCBvdXRwdXRDb25uZWN0aW9uWzJdID09PSBpbnB1dCkpXG4gICAgICAgIC5tYXAoKG91dHB1dENvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKGlzQXVkaW9Ob2RlT3V0cHV0Q29ubmVjdGlvbihvdXRwdXRDb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgZGVsZXRlSW5wdXRzT2ZBdWRpb05vZGUoc291cmNlLCBpc09mZmxpbmUsIC4uLm91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlSW5wdXRzT2ZBdWRpb1BhcmFtKHNvdXJjZSwgaXNPZmZsaW5lLCAuLi5vdXRwdXRDb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBhdWRpb05vZGVDb25uZWN0aW9uc09mU291cmNlLm91dHB1dHMuZGVsZXRlKG91dHB1dENvbm5lY3Rpb24pO1xuICAgICAgICByZXR1cm4gb3V0cHV0Q29ubmVjdGlvblswXTtcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9Ob2RlQ29uc3RydWN0b3IgPSAoYWRkQXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXIsIGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBkZWNyZW1lbnRDeWNsZUNvdW50ZXIsIGRldGVjdEN5Y2xlcywgZXZlbnRUYXJnZXRDb25zdHJ1Y3RvciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVBdWRpb0NvbnRleHQsIGlzTmF0aXZlQXVkaW9Ob2RlLCBpc05hdGl2ZUF1ZGlvUGFyYW0sIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIEF1ZGlvTm9kZSBleHRlbmRzIGV2ZW50VGFyZ2V0Q29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBpc0FjdGl2ZSwgbmF0aXZlQXVkaW9Ob2RlLCBhdWRpb05vZGVSZW5kZXJlcikge1xuICAgICAgICAgICAgc3VwZXIobmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Ob2RlID0gbmF0aXZlQXVkaW9Ob2RlO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICAvLyBCdWcgIzEyOiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCB0byBkaXNjb25uZWN0IGEgc3BlY2lmaWMgZGVzdGluYXRpb24uXG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkgJiZcbiAgICAgICAgICAgICAgICB0cnVlICE9PVxuICAgICAgICAgICAgICAgICAgICBjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvTm9kZURpc2Nvbm5lY3RNZXRob2RTdXBwb3J0LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVzdEF1ZGlvTm9kZURpc2Nvbm5lY3RNZXRob2RTdXBwb3J0KG5hdGl2ZUNvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgd3JhcEF1ZGlvTm9kZURpc2Nvbm5lY3RNZXRob2QobmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFVRElPX05PREVfU1RPUkUuc2V0KHRoaXMsIG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICBFVkVOVF9MSVNURU5FUlMuc2V0KHRoaXMsIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zdGF0ZSAhPT0gJ2Nsb3NlZCcgJiYgaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9BY3RpdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRBdWRpb05vZGVDb25uZWN0aW9ucyh0aGlzLCBhdWRpb05vZGVSZW5kZXJlciwgbmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNoYW5uZWxDb3VudCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLm51bWJlck9mSW5wdXRzO1xuICAgICAgICB9XG4gICAgICAgIGdldCBudW1iZXJPZk91dHB1dHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLm51bWJlck9mT3V0cHV0cztcbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6aW52YWxpZC12b2lkXG4gICAgICAgIGNvbm5lY3QoZGVzdGluYXRpb24sIG91dHB1dCA9IDAsIGlucHV0ID0gMCkge1xuICAgICAgICAgICAgLy8gQnVnICMxNzQ6IFNhZmFyaSBkb2VzIGV4cG9zZSBhIHdyb25nIG51bWJlck9mT3V0cHV0cyBmb3IgTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZXMuXG4gICAgICAgICAgICBpZiAob3V0cHV0IDwgMCB8fCBvdXRwdXQgPj0gdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLm51bWJlck9mT3V0cHV0cykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dCh0aGlzLl9jb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChpc05hdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikgfHwgaXNOYXRpdmVBdWRpb1BhcmFtKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlKHRoaXMuX25hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3NpdmUgPSBpc1Bhc3NpdmVBdWRpb05vZGUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUgfHwgaXNQYXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdCguLi5jb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJyAmJiAhaXNQYXNzaXZlICYmIGlzUGFzc2l2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzQxOiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgdGhlIGNvcnJlY3QgZXhjZXB0aW9uIHNvIGZhci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSAxMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc05ld0Nvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IGFkZENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dCwgaXNPZmZsaW5lKTtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE2NDogT25seSBGaXJlZm94IGRldGVjdHMgY3ljbGVzIHNvIGZhci5cbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdDb25uZWN0aW9uVG9BdWRpb05vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3ljbGVzID0gZGV0ZWN0Q3ljbGVzKFt0aGlzXSwgZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpdEVhY2hBdWRpb05vZGVPbmNlKGN5Y2xlcywgY3JlYXRlSW5jcmVtZW50Q3ljbGVDb3VudGVyKGlzT2ZmbGluZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb1BhcmFtID0gZ2V0TmF0aXZlQXVkaW9QYXJhbShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICM3MywgIzE0NyAmICMxNTM6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IHRvIGNvbm5lY3QgYW4gaW5wdXQgc2lnbmFsIHRvIHRoZSBwbGF5YmFja1JhdGUgQXVkaW9QYXJhbSBvZiBhblxuICAgICAgICAgICAgICogQXVkaW9CdWZmZXJTb3VyY2VOb2RlLiBUaGlzIGNhbid0IGJlIGVhc2lseSBkZXRlY3RlZCBhbmQgdGhhdCdzIHdoeSB0aGUgb3V0ZGF0ZWQgbmFtZSBwcm9wZXJ0eSBpcyB1c2VkIGhlcmUgdG8gaWRlbnRpZnlcbiAgICAgICAgICAgICAqIFNhZmFyaS4gSW4gYWRkaXRpb24gdG8gdGhhdCB0aGUgbWF4VmFsdWUgcHJvcGVydHkgaXMgdXNlZCB0byBvbmx5IGRldGVjdCB0aGUgYWZmZWN0ZWQgdmVyc2lvbnMgYmVsb3cgdjE0LjAuMi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvUGFyYW0ubmFtZSA9PT0gJ3BsYXliYWNrUmF0ZScgJiYgbmF0aXZlQXVkaW9QYXJhbS5tYXhWYWx1ZSA9PT0gMTAyNCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0KG5hdGl2ZUF1ZGlvUGFyYW0sIG91dHB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSB8fCBpc1Bhc3NpdmVBdWRpb05vZGUodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QobmF0aXZlQXVkaW9QYXJhbSwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM1ODogU2FmYXJpIGRvZXNuJ3QgdGhyb3cgYW4gSW52YWxpZEFjY2Vzc0Vycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc05ld0Nvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0gPSBhZGRDb25uZWN0aW9uVG9BdWRpb1BhcmFtT2ZBdWRpb0NvbnRleHQodGhpcywgZGVzdGluYXRpb24sIG91dHB1dCwgaXNPZmZsaW5lKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTY0OiBPbmx5IEZpcmVmb3ggZGV0ZWN0cyBjeWNsZXMgc28gZmFyLlxuICAgICAgICAgICAgaWYgKGlzTmV3Q29ubmVjdGlvblRvQXVkaW9QYXJhbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5Y2xlcyA9IGRldGVjdEN5Y2xlcyhbdGhpc10sIGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICB2aXNpdEVhY2hBdWRpb05vZGVPbmNlKGN5Y2xlcywgY3JlYXRlSW5jcmVtZW50Q3ljbGVDb3VudGVyKGlzT2ZmbGluZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3QoZGVzdGluYXRpb25Pck91dHB1dCwgb3V0cHV0LCBpbnB1dCkge1xuICAgICAgICAgICAgbGV0IGRlc3RpbmF0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KHRoaXMuX2NvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JPdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9ucyA9IGRlbGV0ZUFueUNvbm5lY3Rpb24odGhpcywgaXNPZmZsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yT3V0cHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yT3V0cHV0IDwgMCB8fCBkZXN0aW5hdGlvbk9yT3V0cHV0ID49IHRoaXMubnVtYmVyT2ZPdXRwdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9ucyA9IGRlbGV0ZUNvbm5lY3Rpb25BdE91dHB1dCh0aGlzLCBpc09mZmxpbmUsIGRlc3RpbmF0aW9uT3JPdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCAhPT0gdW5kZWZpbmVkICYmIChvdXRwdXQgPCAwIHx8IG91dHB1dCA+PSB0aGlzLm51bWJlck9mT3V0cHV0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXVkaW9Ob2RlKGRlc3RpbmF0aW9uT3JPdXRwdXQpICYmIGlucHV0ICE9PSB1bmRlZmluZWQgJiYgKGlucHV0IDwgMCB8fCBpbnB1dCA+PSBkZXN0aW5hdGlvbk9yT3V0cHV0Lm51bWJlck9mSW5wdXRzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbnMgPSBkZWxldGVDb25uZWN0aW9uVG9EZXN0aW5hdGlvbih0aGlzLCBpc09mZmxpbmUsIGRlc3RpbmF0aW9uT3JPdXRwdXQsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1ZyAjMTY0OiBPbmx5IEZpcmVmb3ggZGV0ZWN0cyBjeWNsZXMgc28gZmFyLlxuICAgICAgICAgICAgZm9yIChjb25zdCBkZXN0aW5hdGlvbiBvZiBkZXN0aW5hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjeWNsZXMgPSBkZXRlY3RDeWNsZXMoW3RoaXNdLCBkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgdmlzaXRFYWNoQXVkaW9Ob2RlT25jZShjeWNsZXMsIGRlY3JlbWVudEN5Y2xlQ291bnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNsYXNzIFJlYWRPbmx5TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAocGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLnNpemU7XG4gICAgfVxuICAgIGVudHJpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZW50cmllcygpO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIGtleSwgdGhpcykpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmdldChuYW1lKTtcbiAgICB9XG4gICAgaGFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMobmFtZSk7XG4gICAgfVxuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAua2V5cygpO1xuICAgIH1cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAudmFsdWVzKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhZC1vbmx5LW1hcC5qcy5tYXAiLCJpbXBvcnQgeyBOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMgfSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7IFJlYWRPbmx5TWFwIH0gZnJvbSAnLi4vcmVhZC1vbmx5LW1hcCc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIC8vIEJ1ZyAjNjE6IFRoZSBjaGFubmVsQ291bnRNb2RlIHNob3VsZCBiZSAnbWF4JyBhY2NvcmRpbmcgdG8gdGhlIHNwZWMgYnV0IGlzIHNldCB0byAnZXhwbGljaXQnIHRvIGFjaGlldmUgY29uc2lzdGVudCBiZWhhdmlvci5cbiAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBudW1iZXJPZklucHV0czogMSxcbiAgICBudW1iZXJPZk91dHB1dHM6IDEsXG4gICAgcGFyYW1ldGVyRGF0YToge30sXG4gICAgcHJvY2Vzc29yT3B0aW9uczoge31cbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yID0gKGFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlLCBhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBnZXRBdWRpb05vZGVDb25uZWN0aW9ucywgZ2V0QmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIHNhbml0aXplQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMsIHNldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMsIHRlc3RBdWRpb1dvcmtsZXROb2RlT3B0aW9uc0Nsb25hYmlsaXR5LCB3cmFwRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBBdWRpb1dvcmtsZXROb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBzYW5pdGl6ZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zKHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgICAgLy8gQnVnICMxOTE6IFNhZmFyaSBkb2Vzbid0IHRocm93IGFuIGVycm9yIGlmIHRoZSBvcHRpb25zIGFyZW4ndCBjbG9uYWJsZS5cbiAgICAgICAgICAgIHRlc3RBdWRpb1dvcmtsZXROb2RlT3B0aW9uc0Nsb25hYmlsaXR5KG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwID0gTk9ERV9OQU1FX1RPX1BST0NFU1NPUl9DT05TVFJVQ1RPUl9NQVBTLmdldChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NvckNvbnN0cnVjdG9yID0gbm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwID09PSBudWxsIHx8IG5vZGVOYW1lVG9Qcm9jZXNzb3JDb25zdHJ1Y3Rvck1hcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZU5hbWVUb1Byb2Nlc3NvckNvbnN0cnVjdG9yTWFwLmdldChuYW1lKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTg2OiBDaHJvbWUgYW5kIEVkZ2UgZG8gbm90IGFsbG93IHRvIGNyZWF0ZSBhbiBBdWRpb1dvcmtsZXROb2RlIG9uIGEgY2xvc2VkIEF1ZGlvQ29udGV4dC5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHRPckJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSBpc09mZmxpbmUgfHwgbmF0aXZlQ29udGV4dC5zdGF0ZSAhPT0gJ2Nsb3NlZCdcbiAgICAgICAgICAgICAgICA/IG5hdGl2ZUNvbnRleHRcbiAgICAgICAgICAgICAgICA6IChfYSA9IGdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5hdGl2ZUNvbnRleHQ7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZShuYXRpdmVDb250ZXh0T3JCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LCBpc09mZmxpbmUgPyBudWxsIDogY29udGV4dC5iYXNlTGF0ZW5jeSwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYW1lLCBwcm9jZXNzb3JDb25zdHJ1Y3RvciwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb1dvcmtsZXROb2RlUmVuZGVyZXIgPSAoKGlzT2ZmbGluZSA/IGNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlcihuYW1lLCBtZXJnZWRPcHRpb25zLCBwcm9jZXNzb3JDb25zdHJ1Y3RvcikgOiBudWxsKSk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQHRvZG8gQWRkIGEgbWVjaGFuaXNtIHRvIHN3aXRjaCBhbiBBdWRpb1dvcmtsZXROb2RlIHRvIHBhc3NpdmUgb25jZSB0aGUgcHJvY2VzcygpIGZ1bmN0aW9uIG9mIHRoZSBBdWRpb1dvcmtsZXRQcm9jZXNzb3JcbiAgICAgICAgICAgICAqIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIHRydWUsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGF1ZGlvV29ya2xldE5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gW107XG4gICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLnBhcmFtZXRlcnMuZm9yRWFjaCgobmF0aXZlQXVkaW9QYXJhbSwgbm0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdWRpb1BhcmFtID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUF1ZGlvUGFyYW0pO1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChbbm0sIGF1ZGlvUGFyYW1dKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA9IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGU7XG4gICAgICAgICAgICB0aGlzLl9vbnByb2Nlc3NvcmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMgPSBuZXcgUmVhZE9ubHlNYXAocGFyYW1ldGVycyk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICM4NiAmICM4NzogSW52b2tpbmcgdGhlIHJlbmRlcmVyIG9mIGFuIEF1ZGlvV29ya2xldE5vZGUgbWlnaHQgYmUgbmVjZXNzYXJ5IGlmIGl0IGhhcyBubyBkaXJlY3Qgb3IgaW5kaXJlY3QgY29ubmVjdGlvbiB0b1xuICAgICAgICAgICAgICogdGhlIGRlc3RpbmF0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNPZmZsaW5lKSB7XG4gICAgICAgICAgICAgICAgYWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUobmF0aXZlQ29udGV4dCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGFjdGl2ZUlucHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnModGhpcyk7XG4gICAgICAgICAgICBzZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGFjdGl2ZUlucHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9ucHJvY2Vzc29yZXJyb3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25wcm9jZXNzb3JlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb25wcm9jZXNzb3JlcnJvcih2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gd3JhcEV2ZW50TGlzdGVuZXIodGhpcywgdmFsdWUpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvV29ya2xldE5vZGUub25wcm9jZXNzb3JlcnJvciA9IHdyYXBwZWRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU9uUHJvY2Vzc29yRXJyb3IgPSB0aGlzLl9uYXRpdmVBdWRpb1dvcmtsZXROb2RlLm9ucHJvY2Vzc29yZXJyb3I7XG4gICAgICAgICAgICB0aGlzLl9vbnByb2Nlc3NvcmVycm9yID1cbiAgICAgICAgICAgICAgICBuYXRpdmVPblByb2Nlc3NvckVycm9yICE9PSBudWxsICYmIG5hdGl2ZU9uUHJvY2Vzc29yRXJyb3IgPT09IHdyYXBwZWRMaXN0ZW5lclxuICAgICAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogbmF0aXZlT25Qcm9jZXNzb3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcGFyYW1ldGVycygpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJhbWV0ZXJzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRvZG8gVGhlIGRlZmluaXRpb24gdGhhdCBUeXBlU2NyaXB0IHVzZXMgb2YgdGhlIEF1ZGlvUGFyYW1NYXAgaXMgbGFja2luZyBtYW55IG1ldGhvZHMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvV29ya2xldE5vZGUucGFyYW1ldGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwb3J0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvV29ya2xldE5vZGUucG9ydDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8td29ya2xldC1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjb3B5RnJvbUNoYW5uZWwoYXVkaW9CdWZmZXIsIFxuLy8gQHRvZG8gVGhlcmUgaXMgY3VycmVudGx5IG5vIHdheSB0byBkZWZpbmUgc29tZXRoaW5nIGxpa2UgeyBbIGtleTogbnVtYmVyIHwgc3RyaW5nIF06IEZsb2F0MzJBcnJheSB9XG5wYXJlbnQsIGtleSwgY2hhbm5lbE51bWJlciwgYnVmZmVyT2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiBhdWRpb0J1ZmZlci5jb3B5RnJvbUNoYW5uZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVGhlIGJ5dGVMZW5ndGggd2lsbCBiZSAwIHdoZW4gdGhlIEFycmF5QnVmZmVyIHdhcyB0cmFuc2ZlcnJlZC5cbiAgICAgICAgaWYgKHBhcmVudFtrZXldLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHBhcmVudFtrZXldID0gbmV3IEZsb2F0MzJBcnJheSgxMjgpO1xuICAgICAgICB9XG4gICAgICAgIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbChwYXJlbnRba2V5XSwgY2hhbm5lbE51bWJlciwgYnVmZmVyT2Zmc2V0KTtcbiAgICAgICAgLy8gQnVnICM1OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjb3B5RnJvbUNoYW5uZWwoKS5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbE51bWJlcik7XG4gICAgICAgIC8vIFRoZSBieXRlTGVuZ3RoIHdpbGwgYmUgMCB3aGVuIHRoZSBBcnJheUJ1ZmZlciB3YXMgdHJhbnNmZXJyZWQuXG4gICAgICAgIGlmIChwYXJlbnRba2V5XS5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBwYXJlbnRba2V5XSA9IGNoYW5uZWxEYXRhLnNsaWNlKGJ1ZmZlck9mZnNldCwgYnVmZmVyT2Zmc2V0ICsgMTI4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNsaWNlZElucHV0ID0gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsRGF0YS5idWZmZXIsIGJ1ZmZlck9mZnNldCAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwgMTI4KTtcbiAgICAgICAgICAgIHBhcmVudFtrZXldLnNldChzbGljZWRJbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3B5LWZyb20tY2hhbm5lbC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY29weVRvQ2hhbm5lbCA9IChhdWRpb0J1ZmZlciwgcGFyZW50LCBrZXksIGNoYW5uZWxOdW1iZXIsIGJ1ZmZlck9mZnNldCkgPT4ge1xuICAgIGlmICh0eXBlb2YgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUaGUgYnl0ZUxlbmd0aCB3aWxsIGJlIDAgd2hlbiB0aGUgQXJyYXlCdWZmZXIgd2FzIHRyYW5zZmVycmVkLlxuICAgICAgICBpZiAocGFyZW50W2tleV0uYnl0ZUxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbChwYXJlbnRba2V5XSwgY2hhbm5lbE51bWJlciwgYnVmZmVyT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzU6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlUb0NoYW5uZWwoKS5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZSBieXRlTGVuZ3RoIHdpbGwgYmUgMCB3aGVuIHRoZSBBcnJheUJ1ZmZlciB3YXMgdHJhbnNmZXJyZWQuXG4gICAgICAgIGlmIChwYXJlbnRba2V5XS5ieXRlTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsTnVtYmVyKS5zZXQocGFyZW50W2tleV0sIGJ1ZmZlck9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29weS10by1jaGFubmVsLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOZXN0ZWRBcnJheXMgPSAoeCwgeSkgPT4ge1xuICAgIGNvbnN0IGFycmF5cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHR5cGVvZiB5ID09PSAnbnVtYmVyJyA/IHkgOiB5W2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoMTI4KSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlzLnB1c2goYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1uZXN0ZWQtYXJyYXlzLmpzLm1hcCIsImltcG9ydCB7IGNvcHlGcm9tQ2hhbm5lbCB9IGZyb20gJy4uL2hlbHBlcnMvY29weS1mcm9tLWNoYW5uZWwnO1xuaW1wb3J0IHsgY29weVRvQ2hhbm5lbCB9IGZyb20gJy4uL2hlbHBlcnMvY29weS10by1jaGFubmVsJztcbmltcG9ydCB7IGNyZWF0ZU5lc3RlZEFycmF5cyB9IGZyb20gJy4uL2hlbHBlcnMvY3JlYXRlLW5lc3RlZC1hcnJheXMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2dldC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGdldEF1ZGlvV29ya2xldFByb2Nlc3NvciB9IGZyb20gJy4uL2hlbHBlcnMvZ2V0LWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yJztcbmltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuY29uc3QgcHJvY2Vzc0J1ZmZlciA9IGFzeW5jIChwcm94eSwgcmVuZGVyZWRCdWZmZXIsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMsIG91dHB1dENoYW5uZWxDb3VudCwgcHJvY2Vzc29yQ29uc3RydWN0b3IsIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKSA9PiB7XG4gICAgLy8gQ2VpbCB0aGUgbGVuZ3RoIHRvIHRoZSBuZXh0IGZ1bGwgcmVuZGVyIHF1YW50dW0uXG4gICAgLy8gQnVnICMxNzogU2FmYXJpIGRvZXMgbm90IHlldCBleHBvc2UgdGhlIGxlbmd0aC5cbiAgICBjb25zdCBsZW5ndGggPSByZW5kZXJlZEJ1ZmZlciA9PT0gbnVsbCA/IE1hdGguY2VpbChwcm94eS5jb250ZXh0Lmxlbmd0aCAvIDEyOCkgKiAxMjggOiByZW5kZXJlZEJ1ZmZlci5sZW5ndGg7XG4gICAgY29uc3QgbnVtYmVyT2ZJbnB1dENoYW5uZWxzID0gb3B0aW9ucy5jaGFubmVsQ291bnQgKiBvcHRpb25zLm51bWJlck9mSW5wdXRzO1xuICAgIGNvbnN0IG51bWJlck9mT3V0cHV0Q2hhbm5lbHMgPSBvdXRwdXRDaGFubmVsQ291bnQucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSwgMCk7XG4gICAgY29uc3QgcHJvY2Vzc2VkQnVmZmVyID0gbnVtYmVyT2ZPdXRwdXRDaGFubmVscyA9PT0gMFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcihudW1iZXJPZk91dHB1dENoYW5uZWxzLCBsZW5ndGgsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgaWYgKHByb2Nlc3NvckNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBwcm9jZXNzb3IgY29uc3RydWN0b3IuJyk7XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvTm9kZUNvbm5lY3Rpb25zID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMocHJveHkpO1xuICAgIGNvbnN0IGF1ZGlvV29ya2xldFByb2Nlc3NvciA9IGF3YWl0IGdldEF1ZGlvV29ya2xldFByb2Nlc3NvcihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eSk7XG4gICAgY29uc3QgaW5wdXRzID0gY3JlYXRlTmVzdGVkQXJyYXlzKG9wdGlvbnMubnVtYmVyT2ZJbnB1dHMsIG9wdGlvbnMuY2hhbm5lbENvdW50KTtcbiAgICBjb25zdCBvdXRwdXRzID0gY3JlYXRlTmVzdGVkQXJyYXlzKG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzLCBvdXRwdXRDaGFubmVsQ291bnQpO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBBcnJheS5mcm9tKHByb3h5LnBhcmFtZXRlcnMua2V5cygpKS5yZWR1Y2UoKHBybXRycywgbmFtZSkgPT4gKHsgLi4ucHJtdHJzLCBbbmFtZV06IG5ldyBGbG9hdDMyQXJyYXkoMTI4KSB9KSwge30pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEyOCkge1xuICAgICAgICBpZiAob3B0aW9ucy5udW1iZXJPZklucHV0cyA+IDAgJiYgcmVuZGVyZWRCdWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvcHRpb25zLmNoYW5uZWxDb3VudDsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbChyZW5kZXJlZEJ1ZmZlciwgaW5wdXRzW2pdLCBrLCBrLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzICE9PSB1bmRlZmluZWQgJiYgcmVuZGVyZWRCdWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzLmZvckVhY2goKHsgbmFtZSB9LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbChyZW5kZXJlZEJ1ZmZlciwgcGFyYW1ldGVycywgbmFtZSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzICsgaW5kZXgsIGkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvcHRpb25zLm51bWJlck9mSW5wdXRzOyBqICs9IDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3V0cHV0Q2hhbm5lbENvdW50W2pdOyBrICs9IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnl0ZUxlbmd0aCB3aWxsIGJlIDAgd2hlbiB0aGUgQXJyYXlCdWZmZXIgd2FzIHRyYW5zZmVycmVkLlxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXRzW2pdW2tdLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0c1tqXVtrXSA9IG5ldyBGbG9hdDMyQXJyYXkoMTI4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBvdGVudGlhbGx5RW1wdHlJbnB1dHMgPSBpbnB1dHMubWFwKChpbnB1dCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9Ob2RlQ29ubmVjdGlvbnMuYWN0aXZlSW5wdXRzW2luZGV4XS5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVTb3VyY2VGbGFnID0gZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUoaSAvIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlLCAoKSA9PiBhdWRpb1dvcmtsZXRQcm9jZXNzb3IucHJvY2Vzcyhwb3RlbnRpYWxseUVtcHR5SW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzc2VkQnVmZmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgPSAwOyBqIDwgb3B0aW9ucy5udW1iZXJPZk91dHB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG91dHB1dENoYW5uZWxDb3VudFtqXTsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5VG9DaGFubmVsKHByb2Nlc3NlZEJ1ZmZlciwgb3V0cHV0c1tqXSwgaywgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCArIGssIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKz0gb3V0cHV0Q2hhbm5lbENvdW50W2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWN0aXZlU291cmNlRmxhZykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcHJveHkuZGlzcGF0Y2hFdmVudChuZXcgRXJyb3JFdmVudCgncHJvY2Vzc29yZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgY29sbm86IGVycm9yLmNvbG5vLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBlcnJvci5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICBsaW5lbm86IGVycm9yLmxpbmVubyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvY2Vzc2VkQnVmZmVyO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBkZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSwgZGlzY29ubmVjdE11bHRpcGxlT3V0cHV0cywgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChuYW1lLCBvcHRpb25zLCBwcm9jZXNzb3JDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBsZXQgcHJvY2Vzc2VkQnVmZmVyUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUF1ZGlvTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgbGV0IG5hdGl2ZU91dHB1dE5vZGVzID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxDb3VudCA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5vdXRwdXRDaGFubmVsQ291bnQpXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLm91dHB1dENoYW5uZWxDb3VudFxuICAgICAgICAgICAgICAgIDogQXJyYXkuZnJvbShvcHRpb25zLm91dHB1dENoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAvLyBCdWcgIzYxOiBPbmx5IENocm9tZSwgRWRnZSAmIEZpcmVmb3ggaGF2ZSBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQXVkaW9Xb3JrbGV0Tm9kZSB5ZXQuXG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyA9IG91dHB1dENoYW5uZWxDb3VudC5yZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogTWF0aC5tYXgoMSwgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyksXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZPdXRwdXRzOiBNYXRoLm1heCgxLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJveHkubnVtYmVyT2ZPdXRwdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzLnB1c2goY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiBvdXRwdXRDaGFubmVsQ291bnRbaV1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogb3B0aW9ucy5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG9wdGlvbnMuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBnYWluOiAxXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3V0cHV0R2Fpbk5vZGUuY29ubmVjdCA9IGNvbm5lY3RNdWx0aXBsZU91dHB1dHMuYmluZChudWxsLCBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMpO1xuICAgICAgICAgICAgICAgIG91dHB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QgPSBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzLmJpbmQobnVsbCwgb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVPdXRwdXROb2RlcyA9IFtvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlLCBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMsIG91dHB1dEdhaW5Ob2RlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFuYXRpdmVBdWRpb1dvcmtsZXROb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgPSBuZXcgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVPdXRwdXROb2RlcyA9PT0gbnVsbCA/IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgOiBuYXRpdmVPdXRwdXROb2Rlc1syXSk7XG4gICAgICAgICAgICBpZiAobmF0aXZlT3V0cHV0Tm9kZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc2VkQnVmZmVyUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBwcm9jZXNzb3IgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzQ3OiBUaGUgQXVkaW9EZXN0aW5hdGlvbk5vZGUgaW4gU2FmYXJpIGdldHMgbm90IGluaXRpYWxpemVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZJbnB1dENoYW5uZWxzID0gcHJveHkuY2hhbm5lbENvdW50ICogcHJveHkubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlck9mUGFyYW1ldGVycyA9IHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzID09PSB1bmRlZmluZWQgPyAwIDogcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJPZkNoYW5uZWxzID0gbnVtYmVyT2ZJbnB1dENoYW5uZWxzICsgbnVtYmVyT2ZQYXJhbWV0ZXJzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJCdWZmZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IobnVtYmVyT2ZDaGFubmVscywgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDZWlsIHRoZSBsZW5ndGggdG8gdGhlIG5leHQgZnVsbCByZW5kZXIgcXVhbnR1bS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTc6IFNhZmFyaSBkb2VzIG5vdCB5ZXQgZXhwb3NlIHRoZSBsZW5ndGguXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwocHJveHkuY29udGV4dC5sZW5ndGggLyAxMjgpICogMTI4LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2Fpbk5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhaW5Ob2Rlcy5wdXNoKGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogb3B0aW9ucy5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG9wdGlvbnMuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBvcHRpb25zLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FpbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzLnB1c2goY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZShwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlck9mT3V0cHV0czogb3B0aW9ucy5jaGFubmVsQ291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShwcm94eS5wYXJhbWV0ZXJzLnZhbHVlcygpKS5tYXAoYXN5bmMgKGF1ZGlvUGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogYXVkaW9QYXJhbS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24ocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIGF1ZGlvUGFyYW0sIGNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudFNvdXJjZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dENoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IE1hdGgubWF4KDEsIG51bWJlck9mSW5wdXRDaGFubmVscyArIG51bWJlck9mUGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLm51bWJlck9mSW5wdXRzOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYWluTm9kZXNbaV0uY29ubmVjdChpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMuY2hhbm5lbENvdW50OyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDaGFubmVsU3BsaXR0ZXJOb2Rlc1tpXS5jb25uZWN0KGlucHV0Q2hhbm5lbE1lcmdlck5vZGUsIGosIGkgKiBvcHRpb25zLmNoYW5uZWxDb3VudCArIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjb25zdGFudFNvdXJjZU5vZGVdIG9mIGNvbnN0YW50U291cmNlTm9kZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLmNvbm5lY3QoaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSwgMCwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50U291cmNlTm9kZS5zdGFydCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbE1lcmdlck5vZGUuY29ubmVjdChwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChnYWluTm9kZXMubWFwKChnYWluTm9kZSkgPT4gcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LCBnYWluTm9kZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQnVmZmVyUHJvbWlzZSA9IHByb2Nlc3NCdWZmZXIocHJveHksIG51bWJlck9mQ2hhbm5lbHMgPT09IDAgPyBudWxsIDogYXdhaXQgcmVuZGVyQnVmZmVyKCksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMsIG91dHB1dENoYW5uZWxDb3VudCwgcHJvY2Vzc29yQ29uc3RydWN0b3IsIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQnVmZmVyID0gYXdhaXQgcHJvY2Vzc2VkQnVmZmVyUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMixcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxvb3BFbmQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgICAgICAgICAgcGxheWJhY2tSYXRlOiAxXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgW291dHB1dENoYW5uZWxTcGxpdHRlck5vZGUsIG91dHB1dENoYW5uZWxNZXJnZXJOb2Rlcywgb3V0cHV0R2Fpbk5vZGVdID0gbmF0aXZlT3V0cHV0Tm9kZXM7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZEJ1ZmZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID0gcHJvY2Vzc2VkQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ID0gMDsgaSA8IHByb3h5Lm51bWJlck9mT3V0cHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlID0gb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG91dHB1dENoYW5uZWxDb3VudFtpXTsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlLmNvbm5lY3Qob3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKyBqLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ICs9IG91dHB1dENoYW5uZWxDb3VudFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dEdhaW5Ob2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuYXRpdmVBdWRpb1dvcmtsZXROb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW25tLCBhdWRpb1BhcmFtXSBvZiBwcm94eS5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIGF1ZGlvUGFyYW0sIFxuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbyBUaGUgZGVmaW5pdGlvbiB0aGF0IFR5cGVTY3JpcHQgdXNlcyBvZiB0aGUgQXVkaW9QYXJhbU1hcCBpcyBsYWNraW5nIG1hbnkgbWV0aG9kcy5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5wYXJhbWV0ZXJzLmdldChubSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW25tLCBhdWRpb1BhcmFtXSBvZiBwcm94eS5wYXJhbWV0ZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBhdWRpb1BhcmFtLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gVGhlIGRlZmluaXRpb24gdGhhdCBUeXBlU2NyaXB0IHVzZXMgb2YgdGhlIEF1ZGlvUGFyYW1NYXAgaXMgbGFja2luZyBtYW55IG1ldGhvZHMuXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUucGFyYW1ldGVycy5nZXQobm0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvV29ya2xldE5vZGVPckdhaW5Ob2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBdWRpb1dvcmtsZXROb2RlT3JHYWluTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVBdWRpb1dvcmtsZXROb2RlT3JHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8td29ya2xldC1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgTk9ERV9UT19QUk9DRVNTT1JfTUFQUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgZ2V0TmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi9nZXQtbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZ2V0VmFsdWVGb3JLZXkgfSBmcm9tICcuL2dldC12YWx1ZS1mb3Ita2V5JztcbmV4cG9ydCBjb25zdCBnZXRBdWRpb1dvcmtsZXRQcm9jZXNzb3IgPSAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkpID0+IHtcbiAgICBjb25zdCBub2RlVG9Qcm9jZXNzb3JNYXAgPSBnZXRWYWx1ZUZvcktleShOT0RFX1RPX1BST0NFU1NPUl9NQVBTLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICBjb25zdCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICByZXR1cm4gZ2V0VmFsdWVGb3JLZXkobm9kZVRvUHJvY2Vzc29yTWFwLCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYXVkaW8td29ya2xldC1wcm9jZXNzb3IuanMubWFwIiwiaW1wb3J0IHsgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBROiAxLFxuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgZGV0dW5lOiAwLFxuICAgIGZyZXF1ZW5jeTogMzUwLFxuICAgIGdhaW46IDAsXG4gICAgdHlwZTogJ2xvd3Bhc3MnXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlQmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyLCBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZU5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQmlxdWFkRmlsdGVyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgYmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlcigpIDogbnVsbCk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgYmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjODA6IFNhZmFyaSBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9RID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuUSwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzg6IEZpcmVmb3ggJiBTYWZhcmkgZG8gbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX2RldHVuZSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmRldHVuZSwgMTIwMCAqIE1hdGgubG9nMihNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCksIC0xMjAwICogTWF0aC5sb2cyKE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUKSk7XG4gICAgICAgICAgICAvLyBCdWcgIzc3OiBGaXJlZm94ICYgU2FmYXJpIGRvIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWUgZm9yIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fZnJlcXVlbmN5ID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5LCBjb250ZXh0LnNhbXBsZVJhdGUgLyAyLCAwKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzk6IEZpcmVmb3ggJiBTYWZhcmkgZG8gbm90IGV4cG9ydCB0aGUgY29ycmVjdCB2YWx1ZXMgZm9yIG1heFZhbHVlIGFuZCBtaW5WYWx1ZS5cbiAgICAgICAgICAgIHRoaXMuX2dhaW4gPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5nYWluLCA0MCAqIE1hdGgubG9nMTAoTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQpLCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVCaXF1YWRGaWx0ZXJOb2RlID0gbmF0aXZlQmlxdWFkRmlsdGVyTm9kZTtcbiAgICAgICAgICAgIC8vIEB0b2RvIERldGVybWluZSBhIG1lYW5pbmdmdWwgdGFpbC10aW1lIGluc3RlYWQgb2YganVzdCB1c2luZyBvbmUgc2Vjb25kLlxuICAgICAgICAgICAgc2V0QXVkaW9Ob2RlVGFpbFRpbWUodGhpcywgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGRldHVuZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXR1bmU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGZyZXF1ZW5jeSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmVxdWVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGdhaW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2FpbjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgUSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9RO1xuICAgICAgICB9XG4gICAgICAgIGdldCB0eXBlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUJpcXVhZEZpbHRlck5vZGUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdHlwZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS50eXBlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzE4OTogU2FmYXJpIGRvZXMgdGhyb3cgYW4gSW52YWxpZFN0YXRlRXJyb3IuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWcgIzY4OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHBhcmFtZXRlcnMgZGlmZmVyIGluIHRoZWlyIGxlbmd0aC5cbiAgICAgICAgICAgIGlmIChmcmVxdWVuY3lIei5sZW5ndGggIT09IG1hZ1Jlc3BvbnNlLmxlbmd0aCB8fCBtYWdSZXNwb25zZS5sZW5ndGggIT09IHBoYXNlUmVzcG9uc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpcXVhZC1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAxLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIG51bWJlck9mSW5wdXRzOiA2XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQ2hhbm5lbE1lcmdlck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlciA9ICgoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpID8gY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlcigpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1tZXJnZXItbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiA2LFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgIG51bWJlck9mT3V0cHV0czogNlxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQ2hhbm5lbFNwbGl0dGVyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0gc2FuaXRpemVDaGFubmVsU3BsaXR0ZXJPcHRpb25zKHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsU3BsaXR0ZXJOb2RlUmVuZGVyZXIgPSAoKGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KSA/IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlcigpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIGNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwtc3BsaXR0ZXItbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNBY3RpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2lzLWFjdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvc2V0LWludGVybmFsLXN0YXRlLXRvLWFjdGl2ZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tcGFzc2l2ZSc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBvZmZzZXQ6IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIENvbnN0YW50U291cmNlTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyID0gKChpc09mZmxpbmUgPyBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkoKSA6IG51bGwpKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyID0gY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXI7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUgPSBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGU7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICM2MiAmICM3NDogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgQ29uc3RhbnRTb3VyY2VOb2RlcyBhbmQgZG9lcyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlXG4gICAgICAgICAgICAgKiBmb3IgR2Fpbk5vZGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FUKTtcbiAgICAgICAgICAgIHRoaXMuX29uZW5kZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGdldCBvZmZzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGdldCBvbmVuZGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uZW5kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG9uZW5kZWQodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRMaXN0ZW5lciA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHdyYXBFdmVudExpc3RlbmVyKHRoaXMsIHZhbHVlKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub25lbmRlZCA9IHdyYXBwZWRMaXN0ZW5lcjtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU9uRW5kZWQgPSB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub25lbmRlZDtcbiAgICAgICAgICAgIHRoaXMuX29uZW5kZWQgPSBuYXRpdmVPbkVuZGVkICE9PSBudWxsICYmIG5hdGl2ZU9uRW5kZWQgPT09IHdyYXBwZWRMaXN0ZW5lciA/IHZhbHVlIDogbmF0aXZlT25FbmRlZDtcbiAgICAgICAgfVxuICAgICAgICBzdGFydCh3aGVuID0gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLnN0YXJ0KHdoZW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIuc3RhcnQgPSB3aGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5zdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9BY3RpdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmVBdWRpb05vZGUodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RvcCh3aGVuID0gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLnN0b3Aod2hlbik7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlci5zdG9wID0gd2hlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnQtc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGJ1ZmZlcjogbnVsbCxcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2NsYW1wZWQtbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgZGlzYWJsZU5vcm1hbGl6YXRpb246IGZhbHNlXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnZvbHZlck5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQ29udm9sdmVyTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIENvbnZvbHZlck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb252b2x2ZXJOb2RlID0gY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnZvbHZlck5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUNvbnZvbHZlck5vZGUsIGNvbnZvbHZlck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9pc0J1ZmZlck51bGxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZSA9IG5hdGl2ZUNvbnZvbHZlck5vZGU7XG4gICAgICAgICAgICBpZiAobWVyZ2VkT3B0aW9ucy5idWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCBtZXJnZWRPcHRpb25zLmJ1ZmZlci5kdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGJ1ZmZlcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0J1ZmZlck51bGxpZmllZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHNldCBidWZmZXIodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyID0gdmFsdWU7XG4gICAgICAgICAgICAvLyBCdWcgIzExNTogU2FmYXJpIGRvZXMgbm90IGFsbG93IHRvIHNldCB0aGUgYnVmZmVyIHRvIG51bGwuXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgJiYgdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5jb250ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgbmF0aXZlQ29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0J1ZmZlck51bGxpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2V0QXVkaW9Ob2RlVGFpbFRpbWUodGhpcywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0J1ZmZlck51bGxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldEF1ZGlvTm9kZVRhaWxUaW1lKHRoaXMsIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyID09PSBudWxsID8gMCA6IHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgbm9ybWFsaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUubm9ybWFsaXplO1xuICAgICAgICB9XG4gICAgICAgIHNldCBub3JtYWxpemUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUubm9ybWFsaXplID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZvbHZlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBkZXRhY2hBcnJheUJ1ZmZlciA9IChhcnJheUJ1ZmZlcikgPT4ge1xuICAgIGNvbnN0IHsgcG9ydDEsIHBvcnQyIH0gPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3QgY2xvc2VBbmRSZXNvbHZlID0gKCkgPT4ge1xuICAgICAgICAgICAgcG9ydDIub25tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHBvcnQxLmNsb3NlKCk7XG4gICAgICAgICAgICBwb3J0Mi5jbG9zZSgpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBwb3J0Mi5vbm1lc3NhZ2UgPSAoKSA9PiBjbG9zZUFuZFJlc29sdmUoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBvcnQxLnBvc3RNZXNzYWdlKGFycmF5QnVmZmVyLCBbYXJyYXlCdWZmZXJdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzLlxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY2xvc2VBbmRSZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRhY2gtYXJyYXktYnVmZmVyLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIGRlbGF5VGltZTogMCxcbiAgICBtYXhEZWxheVRpbWU6IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlRGVsYXlOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZURlbGF5Tm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVEZWxheU5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgRGVsYXlOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVsYXlOb2RlID0gY3JlYXRlTmF0aXZlRGVsYXlOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgZGVsYXlOb2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXIobWVyZ2VkT3B0aW9ucy5tYXhEZWxheVRpbWUpIDogbnVsbCk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlRGVsYXlOb2RlLCBkZWxheU5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9kZWxheVRpbWUgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlRGVsYXlOb2RlLmRlbGF5VGltZSk7XG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCBtZXJnZWRPcHRpb25zLm1heERlbGF5VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGRlbGF5VGltZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxheVRpbWU7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgaXNOYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUnO1xuY29uc3QgZ2V0T3V0cHV0QXVkaW9Ob2RlQXRJbmRleCA9IChjcmVhdGVJbmRleFNpemVFcnJvciwgb3V0cHV0QXVkaW9Ob2Rlcywgb3V0cHV0KSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0QXVkaW9Ob2RlID0gb3V0cHV0QXVkaW9Ob2Rlc1tvdXRwdXRdO1xuICAgIGlmIChvdXRwdXRBdWRpb05vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2RlO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVEaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzID0gKGNyZWF0ZUluZGV4U2l6ZUVycm9yKSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXRBdWRpb05vZGVzLCBkZXN0aW5hdGlvbk9yT3V0cHV0ID0gdW5kZWZpbmVkLCBvdXRwdXQgPSB1bmRlZmluZWQsIGlucHV0ID0gMCkgPT4ge1xuICAgICAgICBpZiAoZGVzdGluYXRpb25Pck91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2Rlcy5mb3JFYWNoKChvdXRwdXRBdWRpb05vZGUpID0+IG91dHB1dEF1ZGlvTm9kZS5kaXNjb25uZWN0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck91dHB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRPdXRwdXRBdWRpb05vZGVBdEluZGV4KGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBvdXRwdXRBdWRpb05vZGVzLCBkZXN0aW5hdGlvbk9yT3V0cHV0KS5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uT3JPdXRwdXQpKSB7XG4gICAgICAgICAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2Rlcy5mb3JFYWNoKChvdXRwdXRBdWRpb05vZGUpID0+IG91dHB1dEF1ZGlvTm9kZS5kaXNjb25uZWN0KGRlc3RpbmF0aW9uT3JPdXRwdXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE91dHB1dEF1ZGlvTm9kZUF0SW5kZXgoY3JlYXRlSW5kZXhTaXplRXJyb3IsIG91dHB1dEF1ZGlvTm9kZXMsIG91dHB1dCkuZGlzY29ubmVjdChkZXN0aW5hdGlvbk9yT3V0cHV0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRPdXRwdXRBdWRpb05vZGVBdEluZGV4KGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBvdXRwdXRBdWRpb05vZGVzLCBvdXRwdXQpLmRpc2Nvbm5lY3QoZGVzdGluYXRpb25Pck91dHB1dCwgMCwgaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dEF1ZGlvTm9kZXMuZm9yRWFjaCgob3V0cHV0QXVkaW9Ob2RlKSA9PiBvdXRwdXRBdWRpb05vZGUuZGlzY29ubmVjdChkZXN0aW5hdGlvbk9yT3V0cHV0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldE91dHB1dEF1ZGlvTm9kZUF0SW5kZXgoY3JlYXRlSW5kZXhTaXplRXJyb3IsIG91dHB1dEF1ZGlvTm9kZXMsIG91dHB1dCkuZGlzY29ubmVjdChkZXN0aW5hdGlvbk9yT3V0cHV0LCAwKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc2Nvbm5lY3QtbXVsdGlwbGUtb3V0cHV0cy5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgYXR0YWNrOiAwLjAwMyxcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ2NsYW1wZWQtbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAga25lZTogMzAsXG4gICAgcmF0aW86IDEyLFxuICAgIHJlbGVhc2U6IDAuMjUsXG4gICAgdGhyZXNob2xkOiAtMjRcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIER5bmFtaWNzQ29tcHJlc3Nvck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlID0gY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIGR5bmFtaWNzQ29tcHJlc3Nvck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2sgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5hdHRhY2spO1xuICAgICAgICAgICAgdGhpcy5fa25lZSA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmtuZWUpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGU7XG4gICAgICAgICAgICB0aGlzLl9yYXRpbyA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbGVhc2UgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5yZWxlYXNlKTtcbiAgICAgICAgICAgIHRoaXMuX3RocmVzaG9sZCA9IGNyZWF0ZUF1ZGlvUGFyYW0odGhpcywgaXNPZmZsaW5lLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnRocmVzaG9sZCk7XG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAwLjAwNik7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGF0dGFjaygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxMDg6IFNhZmFyaSBhbGxvd3MgYSBjaGFubmVsQ291bnQgb2YgdGhyZWUgYW5kIGFib3ZlIHdoaWNoIGlzIHdoeSB0aGUgZ2V0dGVyIGFuZCBzZXR0ZXIgbmVlZHMgdG8gYmUgb3ZlcndyaXR0ZW4gaGVyZS5cbiAgICAgICAgZ2V0IGNoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0NoYW5uZWxDb3VudCA9IHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudCA9IHByZXZpb3VzQ2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogQnVnICMxMDk6IE9ubHkgQ2hyb21lIGFuZCBGaXJlZm94IGRpc2FsbG93IGEgY2hhbm5lbENvdW50TW9kZSBvZiAnbWF4JyB5ZXQgd2hpY2ggaXMgd2h5IHRoZSBnZXR0ZXIgYW5kIHNldHRlciBuZWVkcyB0byBiZVxuICAgICAgICAgKiBvdmVyd3JpdHRlbiBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0NoYW5uZWxDb3VudCA9IHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHByZXZpb3VzQ2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGtuZWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa25lZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcmF0aW8oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHJlZHVjdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTExOiBTYWZhcmkgcmV0dXJucyBhbiBBdWRpb1BhcmFtIGluc3RlYWQgb2YgYSBudW1iZXIuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9uLnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlZHVjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlZHVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcmVsZWFzZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxlYXNlO1xuICAgICAgICB9XG4gICAgICAgIGdldCB0aHJlc2hvbGQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhyZXNob2xkO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1keW5hbWljcy1jb21wcmVzc29yLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIGdhaW46IDFcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlR2Fpbk5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlR2Fpbk5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBHYWluTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBnYWluTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZUdhaW5Ob2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUdhaW5Ob2RlLCBnYWluTm9kZVJlbmRlcmVyKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzQ6IFNhZmFyaSBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9nYWluID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZUdhaW5Ob2RlLmdhaW4sIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGdhaW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2FpbjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2Fpbi1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdJbnZhbGlkU3RhdGVFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW52YWxpZC1zdGF0ZS1lcnJvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yID0gKCkgPT4gbmV3IERPTUV4Y2VwdGlvbignJywgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW52YWxpZC1hY2Nlc3MtZXJyb3IuanMubWFwIiwiaW1wb3J0IHsgd3JhcElJUkZpbHRlck5vZGVHZXRGcmVxdWVuY3lSZXNwb25zZU1ldGhvZCB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1paXItZmlsdGVyLW5vZGUtZ2V0LWZyZXF1ZW5jeS1yZXNwb25zZS1tZXRob2QnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGNoYW5uZWxDb3VudDogMixcbiAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2Vycydcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlSUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlLCBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgSUlSRmlsdGVyTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUlJUkZpbHRlck5vZGUgPSBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlKG5hdGl2ZUNvbnRleHQsIGlzT2ZmbGluZSA/IG51bGwgOiBjb250ZXh0LmJhc2VMYXRlbmN5LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGlpckZpbHRlck5vZGVSZW5kZXJlciA9ICgoaXNPZmZsaW5lID8gY3JlYXRlSUlSRmlsdGVyTm9kZVJlbmRlcmVyKG1lcmdlZE9wdGlvbnMuZmVlZGJhY2ssIG1lcmdlZE9wdGlvbnMuZmVlZGZvcndhcmQpIDogbnVsbCkpO1xuICAgICAgICAgICAgc3VwZXIoY29udGV4dCwgZmFsc2UsIG5hdGl2ZUlJUkZpbHRlck5vZGUsIGlpckZpbHRlck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBCdWcgIzIzICYgIzI0OiBGaXJlZm94RGV2ZWxvcGVyIGRvZXMgbm90IHRocm93IGFuIEludmFsaWRBY2Nlc3NFcnJvci5cbiAgICAgICAgICAgIC8vIEB0b2RvIFdyaXRlIGEgdGVzdCB3aGljaCBhbGxvd3Mgb3RoZXIgYnJvd3NlcnMgdG8gcmVtYWluIHVucGF0Y2hlZC5cbiAgICAgICAgICAgIHdyYXBJSVJGaWx0ZXJOb2RlR2V0RnJlcXVlbmN5UmVzcG9uc2VNZXRob2QobmF0aXZlSUlSRmlsdGVyTm9kZSk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVJSVJGaWx0ZXJOb2RlID0gbmF0aXZlSUlSRmlsdGVyTm9kZTtcbiAgICAgICAgICAgIC8vIEB0b2RvIERldGVybWluZSBhIG1lYW5pbmdmdWwgdGFpbC10aW1lIGluc3RlYWQgb2YganVzdCB1c2luZyBvbmUgc2Vjb25kLlxuICAgICAgICAgICAgc2V0QXVkaW9Ob2RlVGFpbFRpbWUodGhpcywgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlSUlSRmlsdGVyTm9kZS5nZXRGcmVxdWVuY3lSZXNwb25zZShmcmVxdWVuY3lIeiwgbWFnUmVzcG9uc2UsIHBoYXNlUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1paXItZmlsdGVyLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBhcyBzaGFtZWxlc3NseSBpbnNwaXJlZCBieSBzb3VyY2UgY29kZSBvZlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuLy8ge0BsaW5rIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9jaHJvbWl1bS9zcmMuZ2l0LysvbWFzdGVyL3RoaXJkX3BhcnR5L1dlYktpdC9Tb3VyY2UvcGxhdGZvcm0vYXVkaW8vSUlSRmlsdGVyLmNwcHxDaHJvbWl1bSdzIElJUkZpbHRlcn0uXG5leHBvcnQgY29uc3QgZmlsdGVyQnVmZmVyID0gKGZlZWRiYWNrLCBmZWVkYmFja0xlbmd0aCwgZmVlZGZvcndhcmQsIGZlZWRmb3J3YXJkTGVuZ3RoLCBtaW5MZW5ndGgsIHhCdWZmZXIsIHlCdWZmZXIsIGJ1ZmZlckluZGV4LCBidWZmZXJMZW5ndGgsIGlucHV0LCBvdXRwdXQpID0+IHtcbiAgICBjb25zdCBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IGJ1ZmZlckluZGV4O1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBsZXQgeSA9IGZlZWRmb3J3YXJkWzBdICogaW5wdXRbal07XG4gICAgICAgIGZvciAobGV0IGsgPSAxOyBrIDwgbWluTGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoaSAtIGspICYgKGJ1ZmZlckxlbmd0aCAtIDEpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgIHkgKz0gZmVlZGZvcndhcmRba10gKiB4QnVmZmVyW3hdO1xuICAgICAgICAgICAgeSAtPSBmZWVkYmFja1trXSAqIHlCdWZmZXJbeF07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgayA9IG1pbkxlbmd0aDsgayA8IGZlZWRmb3J3YXJkTGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgICAgICAgIHkgKz0gZmVlZGZvcndhcmRba10gKiB4QnVmZmVyWyhpIC0gaykgJiAoYnVmZmVyTGVuZ3RoIC0gMSldOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBrID0gbWluTGVuZ3RoOyBrIDwgZmVlZGJhY2tMZW5ndGg7IGsgKz0gMSkge1xuICAgICAgICAgICAgeSAtPSBmZWVkYmFja1trXSAqIHlCdWZmZXJbKGkgLSBrKSAmIChidWZmZXJMZW5ndGggLSAxKV07IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICB9XG4gICAgICAgIHhCdWZmZXJbaV0gPSBpbnB1dFtqXTtcbiAgICAgICAgeUJ1ZmZlcltpXSA9IHk7XG4gICAgICAgIGkgPSAoaSArIDEpICYgKGJ1ZmZlckxlbmd0aCAtIDEpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgb3V0cHV0W2pdID0geTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWJ1ZmZlci5qcy5tYXAiLCJjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIE1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgLy8gQnVnICMxNzM6IFNhZmFyaSBhbGxvd3MgdG8gY3JlYXRlIGEgTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSB3aXRoIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQuXG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBzdHJlYW0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZS5zdHJlYW07XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lZGlhLXN0cmVhbS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0UHJvbWlzZVN1cHBvcnQgPSAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIC8vIFRoaXMgMTIgbnVtYmVycyByZXByZXNlbnQgdGhlIDQ4IGJ5dGVzIG9mIGFuIGVtcHR5IFdBVkUgZmlsZSB3aXRoIGEgc2luZ2xlIHNhbXBsZS5cbiAgICBjb25zdCB1aW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheShbMTE3OTAxMTQxMCwgNDAsIDExNjMyODA3MjcsIDU0NDUwMTA5NCwgMTYsIDEzMTA3MywgNDQxMDAsIDE3NjQwMCwgMTA0ODU4MCwgMTYzNTAxNzA2MCwgNCwgMF0pO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEJ1ZyAjMTogU2FmYXJpIHJlcXVpcmVzIGEgc3VjY2Vzc0NhbGxiYWNrLlxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmF0aXZlQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEodWludDMyQXJyYXkuYnVmZmVyLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgdGhlIHN1Y2Nlc3MgY2FsbGJhY2suXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgcmVqZWN0ZWQgZXJyb3JzLlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtcHJvbWlzZS1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gPSAobmF0aXZlQXVkaW9Ob2RlLCBvcHRpb25zLCBvcHRpb24pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbmF0aXZlQXVkaW9Ob2RlW29wdGlvbl0pIHtcbiAgICAgICAgbmF0aXZlQXVkaW9Ob2RlW29wdGlvbl0gPSB2YWx1ZTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuZXhwb3J0IGNvbnN0IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgPSAobmF0aXZlQXVkaW9Ob2RlLCBvcHRpb25zKSA9PiB7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvTm9kZSwgb3B0aW9ucywgJ2NoYW5uZWxDb3VudCcpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBdWRpb05vZGUsIG9wdGlvbnMsICdjaGFubmVsQ291bnRNb2RlJyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUF1ZGlvTm9kZSwgb3B0aW9ucywgJ2NoYW5uZWxJbnRlcnByZXRhdGlvbicpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZFN1cHBvcnQgPSAobmF0aXZlQW5hbHlzZXJOb2RlKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBuYXRpdmVBbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWFuYWx5c2VyLW5vZGUtZ2V0LWZsb2F0LXRpbWUtZG9tYWluLWRhdGEtbWV0aG9kLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSA9IChuYXRpdmVBdWRpb05vZGUsIG9wdGlvbnMsIGF1ZGlvUGFyYW0pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbYXVkaW9QYXJhbV07XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG5hdGl2ZUF1ZGlvTm9kZVthdWRpb1BhcmFtXS52YWx1ZSkge1xuICAgICAgICBuYXRpdmVBdWRpb05vZGVbYXVkaW9QYXJhbV0udmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlLmpzLm1hcCIsImV4cG9ydCBjb25zdCB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMgPSAobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlKSA9PiB7XG4gICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnN0YXJ0ID0gKChzdGFydCkgPT4ge1xuICAgICAgICByZXR1cm4gKHdoZW4gPSAwLCBvZmZzZXQgPSAwLCBkdXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKCh0eXBlb2YgZHVyYXRpb24gPT09ICdudW1iZXInICYmIGR1cmF0aW9uIDwgMCkgfHwgb2Zmc2V0IDwgMCB8fCB3aGVuIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHBhcmFtZXRlcnMgY2FuJ3QgYmUgbmVnYXRpdmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRvZG8gVHlwZVNjcmlwdCBjYW5ub3QgaW5mZXIgdGhlIG92ZXJsb2FkZWQgc2lnbmF0dXJlIHdpdGggMyBhcmd1bWVudHMgeWV0LlxuICAgICAgICAgICAgc3RhcnQuY2FsbChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIHdoZW4sIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5zdGFydCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzID0gKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZSkgPT4ge1xuICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5zdG9wID0gKChzdG9wKSA9PiB7XG4gICAgICAgIHJldHVybiAod2hlbiA9IDApID0+IHtcbiAgICAgICAgICAgIGlmICh3aGVuIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHBhcmFtZXRlciBjYW4ndCBiZSBuZWdhdGl2ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wLmNhbGwobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCB3aGVuKTtcbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuc3RvcCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY29tcHV0ZUJ1ZmZlclNpemUgPSAoYmFzZUxhdGVuY3ksIHNhbXBsZVJhdGUpID0+IHtcbiAgICBpZiAoYmFzZUxhdGVuY3kgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDUxMjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4KDUxMiwgTWF0aC5taW4oMTYzODQsIE1hdGgucG93KDIsIE1hdGgucm91bmQoTWF0aC5sb2cyKGJhc2VMYXRlbmN5ICogc2FtcGxlUmF0ZSkpKSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXB1dGUtYnVmZmVyLXNpemUuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlID0gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIG9wdGlvbnMpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBvcHRpb25zLCAnUScpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBvcHRpb25zLCAnZGV0dW5lJyk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUsIG9wdGlvbnMsICdmcmVxdWVuY3knKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgb3B0aW9ucywgJ2dhaW4nKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQmlxdWFkRmlsdGVyTm9kZSwgb3B0aW9ucywgJ3R5cGUnKTtcbiAgICByZXR1cm4gbmF0aXZlQmlxdWFkRmlsdGVyTm9kZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYmlxdWFkLWZpbHRlci1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IHdyYXBDaGFubmVsU3BsaXR0ZXJOb2RlIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWNoYW5uZWwtc3BsaXR0ZXItbm9kZSc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSA9IChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQ2hhbm5lbFNwbGl0dGVyKG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzKTtcbiAgICAvLyBCdWcgIzk2OiBTYWZhcmkgZG9lcyBub3QgaGF2ZSB0aGUgY29ycmVjdCBjaGFubmVsQ291bnQuXG4gICAgLy8gQnVnICMyOTogU2FmYXJpIGRvZXMgbm90IGhhdmUgdGhlIGNvcnJlY3QgY2hhbm5lbENvdW50TW9kZS5cbiAgICAvLyBCdWcgIzMxOiBTYWZhcmkgZG9lcyBub3QgaGF2ZSB0aGUgY29ycmVjdCBjaGFubmVsSW50ZXJwcmV0YXRpb24uXG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBvcHRpb25zKTtcbiAgICAvLyBCdWcgIzI5LCAjMzAsICMzMSwgIzMyLCAjOTYgJiAjOTc6IE9ubHkgQ2hyb21lLCBFZGdlICYgRmlyZWZveCBwYXJ0aWFsbHkgc3VwcG9ydCB0aGUgc3BlYyB5ZXQuXG4gICAgd3JhcENoYW5uZWxTcGxpdHRlck5vZGUobmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgcmV0dXJuIG5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWNoYW5uZWwtc3BsaXR0ZXItbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9pbnZhbGlkLXN0YXRlLWVycm9yJztcbmV4cG9ydCBjb25zdCB3cmFwQ2hhbm5lbFNwbGl0dGVyTm9kZSA9IChjaGFubmVsU3BsaXR0ZXJOb2RlKSA9PiB7XG4gICAgY29uc3QgY2hhbm5lbENvdW50ID0gY2hhbm5lbFNwbGl0dGVyTm9kZS5udW1iZXJPZk91dHB1dHM7XG4gICAgLy8gQnVnICM5NzogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBjaGFuZ2UgdGhlIGNoYW5uZWxDb3VudCB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiBpdHMgaW5pdGlhbCB2YWx1ZS5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hhbm5lbFNwbGl0dGVyTm9kZSwgJ2NoYW5uZWxDb3VudCcsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiBjaGFubmVsQ291bnQsXG4gICAgICAgIHNldDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGNoYW5uZWxDb3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBCdWcgIzMwOiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGNoYW5nZSB0aGUgY2hhbm5lbENvdW50TW9kZSB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiBleHBsaWNpdC5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hhbm5lbFNwbGl0dGVyTm9kZSwgJ2NoYW5uZWxDb3VudE1vZGUnLCB7XG4gICAgICAgIGdldDogKCkgPT4gJ2V4cGxpY2l0JyxcbiAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJ2V4cGxpY2l0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBCdWcgIzMyOiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGNoYW5nZSB0aGUgY2hhbm5lbEludGVycHJldGF0aW9uIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIGRpc2NyZXRlLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGFubmVsU3BsaXR0ZXJOb2RlLCAnY2hhbm5lbEludGVycHJldGF0aW9uJywge1xuICAgICAgICBnZXQ6ICgpID0+ICdkaXNjcmV0ZScsXG4gICAgICAgIHNldDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICdkaXNjcmV0ZScpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1jaGFubmVsLXNwbGl0dGVyLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGludGVyY2VwdENvbm5lY3Rpb25zID0gKG9yaWdpbmFsLCBpbnRlcmNlcHRvcikgPT4ge1xuICAgIG9yaWdpbmFsLmNvbm5lY3QgPSBpbnRlcmNlcHRvci5jb25uZWN0LmJpbmQoaW50ZXJjZXB0b3IpO1xuICAgIG9yaWdpbmFsLmRpc2Nvbm5lY3QgPSBpbnRlcmNlcHRvci5kaXNjb25uZWN0LmJpbmQoaW50ZXJjZXB0b3IpO1xuICAgIHJldHVybiBvcmlnaW5hbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmNlcHQtY29ubmVjdGlvbnMuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSA9IChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgbmF0aXZlRGVsYXlOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVEZWxheShvcHRpb25zLm1heERlbGF5VGltZSk7XG4gICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVEZWxheU5vZGUsIG9wdGlvbnMpO1xuICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZShuYXRpdmVEZWxheU5vZGUsIG9wdGlvbnMsICdkZWxheVRpbWUnKTtcbiAgICByZXR1cm4gbmF0aXZlRGVsYXlOb2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1kZWxheS1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVHYWluTm9kZSA9IChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUdhaW5Ob2RlLCBvcHRpb25zKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlR2Fpbk5vZGUsIG9wdGlvbnMsICdnYWluJyk7XG4gICAgcmV0dXJuIG5hdGl2ZUdhaW5Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1nYWluLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgY29tcHV0ZUJ1ZmZlclNpemUgfSBmcm9tICcuLi9oZWxwZXJzL2NvbXB1dGUtYnVmZmVyLXNpemUnO1xuaW1wb3J0IHsgZmlsdGVyQnVmZmVyIH0gZnJvbSAnLi4vaGVscGVycy9maWx0ZXItYnVmZmVyJztcbmltcG9ydCB7IGludGVyY2VwdENvbm5lY3Rpb25zIH0gZnJvbSAnLi4vaGVscGVycy9pbnRlcmNlcHQtY29ubmVjdGlvbnMnO1xuZnVuY3Rpb24gZGl2aWRlKGEsIGIpIHtcbiAgICBjb25zdCBkZW5vbWluYXRvciA9IGJbMF0gKiBiWzBdICsgYlsxXSAqIGJbMV07XG4gICAgcmV0dXJuIFsoYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSkgLyBkZW5vbWluYXRvciwgKGFbMV0gKiBiWzBdIC0gYVswXSAqIGJbMV0pIC8gZGVub21pbmF0b3JdO1xufVxuZnVuY3Rpb24gbXVsdGlwbHkoYSwgYikge1xuICAgIHJldHVybiBbYVswXSAqIGJbMF0gLSBhWzFdICogYlsxXSwgYVswXSAqIGJbMV0gKyBhWzFdICogYlswXV07XG59XG5mdW5jdGlvbiBldmFsdWF0ZVBvbHlub21pYWwoY29lZmZpY2llbnQsIHopIHtcbiAgICBsZXQgcmVzdWx0ID0gWzAsIDBdO1xuICAgIGZvciAobGV0IGkgPSBjb2VmZmljaWVudC5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICByZXN1bHQgPSBtdWx0aXBseShyZXN1bHQsIHopO1xuICAgICAgICByZXN1bHRbMF0gKz0gY29lZmZpY2llbnRbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyRmFjdG9yeSA9IChjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIHsgY2hhbm5lbENvdW50LCBjaGFubmVsQ291bnRNb2RlLCBjaGFubmVsSW50ZXJwcmV0YXRpb24sIGZlZWRiYWNrLCBmZWVkZm9yd2FyZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclNpemUgPSBjb21wdXRlQnVmZmVyU2l6ZShiYXNlTGF0ZW5jeSwgbmF0aXZlQ29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgY29uc3QgY29udmVydGVkRmVlZGJhY2sgPSBmZWVkYmFjayBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSA/IGZlZWRiYWNrIDogbmV3IEZsb2F0NjRBcnJheShmZWVkYmFjayk7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZEZlZWRmb3J3YXJkID0gZmVlZGZvcndhcmQgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkgPyBmZWVkZm9yd2FyZCA6IG5ldyBGbG9hdDY0QXJyYXkoZmVlZGZvcndhcmQpO1xuICAgICAgICBjb25zdCBmZWVkYmFja0xlbmd0aCA9IGNvbnZlcnRlZEZlZWRiYWNrLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZmVlZGZvcndhcmRMZW5ndGggPSBjb252ZXJ0ZWRGZWVkZm9yd2FyZC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKGZlZWRiYWNrTGVuZ3RoLCBmZWVkZm9yd2FyZExlbmd0aCk7XG4gICAgICAgIGlmIChmZWVkYmFja0xlbmd0aCA9PT0gMCB8fCBmZWVkYmFja0xlbmd0aCA+IDIwKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb252ZXJ0ZWRGZWVkYmFja1swXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmVlZGZvcndhcmRMZW5ndGggPT09IDAgfHwgZmVlZGZvcndhcmRMZW5ndGggPiAyMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udmVydGVkRmVlZGZvcndhcmRbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnZlcnRlZEZlZWRiYWNrWzBdICE9PSAxKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZWRmb3J3YXJkTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGZWVkZm9yd2FyZFtpXSAvPSBjb252ZXJ0ZWRGZWVkYmFja1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZmVlZGJhY2tMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZlZWRiYWNrW2ldIC89IGNvbnZlcnRlZEZlZWRiYWNrWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjcmlwdFByb2Nlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlKG5hdGl2ZUNvbnRleHQsIGJ1ZmZlclNpemUsIGNoYW5uZWxDb3VudCwgY2hhbm5lbENvdW50KTtcbiAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnQgPSBjaGFubmVsQ291bnQ7XG4gICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZSA9IGNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICBjb25zdCBidWZmZXJMZW5ndGggPSAzMjtcbiAgICAgICAgY29uc3QgYnVmZmVySW5kZXhlcyA9IFtdO1xuICAgICAgICBjb25zdCB4QnVmZmVycyA9IFtdO1xuICAgICAgICBjb25zdCB5QnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5uZWxDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBidWZmZXJJbmRleGVzLnB1c2goMCk7XG4gICAgICAgICAgICBjb25zdCB4QnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJMZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgeUJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICAgICAgICAgIHhCdWZmZXIuZmlsbCgwKTtcbiAgICAgICAgICAgIHlCdWZmZXIuZmlsbCgwKTtcbiAgICAgICAgICAgIHhCdWZmZXJzLnB1c2goeEJ1ZmZlcik7XG4gICAgICAgICAgICB5QnVmZmVycy5wdXNoKHlCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkZXByZWNhdGlvblxuICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLm9uYXVkaW9wcm9jZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEJ1ZmZlciA9IGV2ZW50LmlucHV0QnVmZmVyO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0QnVmZmVyID0gZXZlbnQub3V0cHV0QnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZDaGFubmVscyA9IGlucHV0QnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQ2hhbm5lbHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKGkpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4ZXNbaV0gPSBmaWx0ZXJCdWZmZXIoY29udmVydGVkRmVlZGJhY2ssIGZlZWRiYWNrTGVuZ3RoLCBjb252ZXJ0ZWRGZWVkZm9yd2FyZCwgZmVlZGZvcndhcmRMZW5ndGgsIG1pbkxlbmd0aCwgeEJ1ZmZlcnNbaV0sIHlCdWZmZXJzW2ldLCBidWZmZXJJbmRleGVzW2ldLCBidWZmZXJMZW5ndGgsIGlucHV0LCBvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBueXF1aXN0ID0gbmF0aXZlQ29udGV4dC5zYW1wbGVSYXRlIC8gMjtcbiAgICAgICAgY29uc3QgbmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlclNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50TW9kZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLmNvbnRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NjcmlwdFByb2Nlc3Nvck5vZGVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZklucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5udW1iZXJPZklucHV0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZPdXRwdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLm51bWJlck9mT3V0cHV0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBEaXNzYWxsb3cgYWRkaW5nIGFuIGF1ZGlvcHJvY2VzcyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5hZGRFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc3BhdGNoRXZlbnQoYXJnc1swXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyZXF1ZW5jeUh6Lmxlbmd0aCAhPT0gbWFnUmVzcG9uc2UubGVuZ3RoIHx8IG1hZ1Jlc3BvbnNlLmxlbmd0aCAhPT0gcGhhc2VSZXNwb25zZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGZyZXF1ZW5jeUh6Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9tZWdhID0gLU1hdGguUEkgKiAoZnJlcXVlbmN5SHpbaV0gLyBueXF1aXN0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeiA9IFtNYXRoLmNvcyhvbWVnYSksIE1hdGguc2luKG9tZWdhKV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyYXRvciA9IGV2YWx1YXRlUG9seW5vbWlhbChjb252ZXJ0ZWRGZWVkZm9yd2FyZCwgeik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gZXZhbHVhdGVQb2x5bm9taWFsKGNvbnZlcnRlZEZlZWRiYWNrLCB6KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIG1hZ1Jlc3BvbnNlW2ldID0gTWF0aC5zcXJ0KHJlc3BvbnNlWzBdICogcmVzcG9uc2VbMF0gKyByZXNwb25zZVsxXSAqIHJlc3BvbnNlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgcGhhc2VSZXNwb25zZVtpXSA9IE1hdGguYXRhbjIocmVzcG9uc2VbMV0sIHJlc3BvbnNlWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdENvbm5lY3Rpb25zKG5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlciwgc2NyaXB0UHJvY2Vzc29yTm9kZSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtaWlyLWZpbHRlci1ub2RlLWZha2VyLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUgPSAobmF0aXZlQ29udGV4dCwgYnVmZmVyU2l6ZSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKSA9PiB7XG4gICAgcmV0dXJuIG5hdGl2ZUNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGJ1ZmZlclNpemUsIG51bWJlck9mSW5wdXRDaGFubmVscywgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgZGVwcmVjYXRpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtc2NyaXB0LXByb2Nlc3Nvci1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdOb3RTdXBwb3J0ZWRFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm90LXN1cHBvcnRlZC1lcnJvci5qcy5tYXAiLCJpbXBvcnQgeyBkZWFjdGl2YXRlQXVkaW9HcmFwaCB9IGZyb20gJy4uL2hlbHBlcnMvZGVhY3RpdmF0ZS1hdWRpby1ncmFwaCc7XG5pbXBvcnQgeyB0ZXN0UHJvbWlzZVN1cHBvcnQgfSBmcm9tICcuLi9oZWxwZXJzL3Rlc3QtcHJvbWlzZS1zdXBwb3J0JztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBudW1iZXJPZkNoYW5uZWxzOiAxXG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IChiYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIGNhY2hlVGVzdFJlc3VsdCwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHN0YXJ0UmVuZGVyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIE9mZmxpbmVBdWRpb0NvbnRleHQgZXh0ZW5kcyBiYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3RvcihhLCBiLCBjKSB7XG4gICAgICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgYiAhPT0gdW5kZWZpbmVkICYmIGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7IGxlbmd0aDogYiwgbnVtYmVyT2ZDaGFubmVsczogYSwgc2FtcGxlUmF0ZTogYyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBnaXZlbiBwYXJhbWV0ZXJzIGFyZSBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxlbmd0aCwgbnVtYmVyT2ZDaGFubmVscywgc2FtcGxlUmF0ZSB9ID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAvLyAjMjEgU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgcHJvbWlzZXMgYW5kIHRoZXJlZm9yZSB3b3VsZCBmaXJlIHRoZSBzdGF0ZWNoYW5nZSBldmVudCBiZWZvcmUgdGhlIHByb21pc2UgY2FuIGJlIHJlc29sdmVkLlxuICAgICAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdFByb21pc2VTdXBwb3J0LCAoKSA9PiB0ZXN0UHJvbWlzZVN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsYXlTdGF0ZUNoYW5nZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdydW5uaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgZGVsYXlTdGF0ZUNoYW5nZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhaXRGb3JUaGVQcm9taXNlVG9TZXR0bGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGF5U3RhdGVDaGFuZ2VFdmVudDtcbiAgICAgICAgICAgICAgICB9KSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1cGVyKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG51bWJlck9mQ2hhbm5lbHMpO1xuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTc6IFNhZmFyaSBkb2VzIG5vdCB5ZXQgZXhwb3NlIHRoZSBsZW5ndGguXG4gICAgICAgICAgICBpZiAodGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlID09PSBudWxsID8gdGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zdGF0ZSA6IHRoaXMuX3N0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0UmVuZGVyaW5nKCkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIEJ1ZyAjOSAmICM1OTogSXQgaXMgdGhlb3JldGljYWxseSBwb3NzaWJsZSB0aGF0IHN0YXJ0UmVuZGVyaW5nKCkgd2lsbCBmaXJzdCByZW5kZXIgYSBwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dC4gVGhlcmVmb3JlXG4gICAgICAgICAgICAgKiB0aGUgc3RhdGUgb2YgdGhlIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgbWlnaHQgbm8gdHJhbnNpdGlvbiB0byBydW5uaW5nIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdydW5uaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ3J1bm5pbmcnO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0UmVuZGVyaW5nKHRoaXMuZGVzdGluYXRpb24sIHRoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBkZWFjdGl2YXRlQXVkaW9HcmFwaCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF93YWl0Rm9yVGhlUHJvbWlzZVRvU2V0dGxlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl93YWl0Rm9yVGhlUHJvbWlzZVRvU2V0dGxlKGV2ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mZmxpbmUtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJpbXBvcnQgeyBpc0FjdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2hlbHBlcnMvaXMtYWN0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvQWN0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9zZXQtaW50ZXJuYWwtc3RhdGUtdG8tYWN0aXZlJztcbmltcG9ydCB7IHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsIC8vIFRoaXMgYXR0cmlidXRlIGhhcyBubyBlZmZlY3QgZm9yIG5vZGVzIHdpdGggbm8gaW5wdXRzLlxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJywgLy8gVGhpcyBhdHRyaWJ1dGUgaGFzIG5vIGVmZmVjdCBmb3Igbm9kZXMgd2l0aCBubyBpbnB1dHMuXG4gICAgZGV0dW5lOiAwLFxuICAgIGZyZXF1ZW5jeTogNDQwLFxuICAgIHBlcmlvZGljV2F2ZTogdW5kZWZpbmVkLFxuICAgIHR5cGU6ICdzaW5lJ1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVPc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZSwgY3JlYXRlT3NjaWxsYXRvck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB3cmFwRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBPc2NpbGxhdG9yTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU9zY2lsbGF0b3JOb2RlID0gY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBvc2NpbGxhdG9yTm9kZVJlbmRlcmVyID0gKGlzT2ZmbGluZSA/IGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXIoKSA6IG51bGwpO1xuICAgICAgICAgICAgY29uc3QgbnlxdWlzdCA9IGNvbnRleHQuc2FtcGxlUmF0ZSAvIDI7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlT3NjaWxsYXRvck5vZGUsIG9zY2lsbGF0b3JOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gQnVnICM4MTogRmlyZWZveCAmIFNhZmFyaSBkbyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fZGV0dW5lID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmRldHVuZSwgMTUzNjAwLCAtMTUzNjAwKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjNzY6IFNhZmFyaSBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmQgbWluVmFsdWUuXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBjcmVhdGVBdWRpb1BhcmFtKHRoaXMsIGlzT2ZmbGluZSwgbmF0aXZlT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5LCBueXF1aXN0LCAtbnlxdWlzdCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZSA9IG5hdGl2ZU9zY2lsbGF0b3JOb2RlO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyID0gb3NjaWxsYXRvck5vZGVSZW5kZXJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyICE9PSBudWxsICYmIG1lcmdlZE9wdGlvbnMucGVyaW9kaWNXYXZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnBlcmlvZGljV2F2ZSA9XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZE9wdGlvbnMucGVyaW9kaWNXYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBkZXR1bmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGV0dW5lO1xuICAgICAgICB9XG4gICAgICAgIGdldCBmcmVxdWVuY3koKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJlcXVlbmN5O1xuICAgICAgICB9XG4gICAgICAgIGdldCBvbmVuZGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uZW5kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG9uZW5kZWQodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRMaXN0ZW5lciA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHdyYXBFdmVudExpc3RlbmVyKHRoaXMsIHZhbHVlKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5vbmVuZGVkID0gd3JhcHBlZExpc3RlbmVyO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlT25FbmRlZCA9IHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLm9uZW5kZWQ7XG4gICAgICAgICAgICB0aGlzLl9vbmVuZGVkID0gbmF0aXZlT25FbmRlZCAhPT0gbnVsbCAmJiBuYXRpdmVPbkVuZGVkID09PSB3cmFwcGVkTGlzdGVuZXIgPyB2YWx1ZSA6IG5hdGl2ZU9uRW5kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdHlwZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUudHlwZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnBlcmlvZGljV2F2ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGVyaW9kaWNXYXZlKHBlcmlvZGljV2F2ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc2V0UGVyaW9kaWNXYXZlKHBlcmlvZGljV2F2ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIucGVyaW9kaWNXYXZlID0gcGVyaW9kaWNXYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXJ0KHdoZW4gPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5zdGFydCh3aGVuKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlci5zdGFydCA9IHdoZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb0FjdGl2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNldEludGVybmFsU3RhdGVUb1Bhc3NpdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgcmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlQXVkaW9Ob2RlKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHJlc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RvcCh3aGVuID0gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RvcCh3aGVuKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlci5zdG9wID0gd2hlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3NjaWxsYXRvci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImltcG9ydCB7IE1PU1RfTkVHQVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgY2hhbm5lbENvdW50OiAyLFxuICAgIGNoYW5uZWxDb3VudE1vZGU6ICdjbGFtcGVkLW1heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIGNvbmVJbm5lckFuZ2xlOiAzNjAsXG4gICAgY29uZU91dGVyQW5nbGU6IDM2MCxcbiAgICBjb25lT3V0ZXJHYWluOiAwLFxuICAgIGRpc3RhbmNlTW9kZWw6ICdpbnZlcnNlJyxcbiAgICBtYXhEaXN0YW5jZTogMTAwMDAsXG4gICAgb3JpZW50YXRpb25YOiAxLFxuICAgIG9yaWVudGF0aW9uWTogMCxcbiAgICBvcmllbnRhdGlvblo6IDAsXG4gICAgcGFubmluZ01vZGVsOiAnZXF1YWxwb3dlcicsXG4gICAgcG9zaXRpb25YOiAwLFxuICAgIHBvc2l0aW9uWTogMCxcbiAgICBwb3NpdGlvblo6IDAsXG4gICAgcmVmRGlzdGFuY2U6IDEsXG4gICAgcm9sbG9mZkZhY3RvcjogMVxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVQYW5uZXJOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUsIGNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBQYW5uZXJOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBwYW5uZXJOb2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyKCkgOiBudWxsKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVQYW5uZXJOb2RlLCBwYW5uZXJOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZSA9IG5hdGl2ZVBhbm5lck5vZGU7XG4gICAgICAgICAgICAvLyBCdWcgIzc0OiBTYWZhcmkgZG9lcyBub3QgZXhwb3J0IHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgbWF4VmFsdWUgYW5kIG1pblZhbHVlLlxuICAgICAgICAgICAgdGhpcy5fb3JpZW50YXRpb25YID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25YLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fb3JpZW50YXRpb25ZID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25ZLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fb3JpZW50YXRpb25aID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25aLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25YID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUucG9zaXRpb25YLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25ZID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUucG9zaXRpb25ZLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25aID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVBhbm5lck5vZGUucG9zaXRpb25aLCBNT1NUX1BPU0lUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9ORUdBVElWRV9TSU5HTEVfRkxPQVQpO1xuICAgICAgICAgICAgLy8gQHRvZG8gRGV0ZXJtaW5lIGEgbWVhbmluZ2Z1bCB0YWlsLXRpbWUgaW5zdGVhZCBvZiBqdXN0IHVzaW5nIG9uZSBzZWNvbmQuXG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY29uZUlubmVyQW5nbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29uZUlubmVyQW5nbGUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZUlubmVyQW5nbGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY29uZU91dGVyQW5nbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29uZU91dGVyQW5nbGUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyQW5nbGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY29uZU91dGVyR2FpbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVPdXRlckdhaW47XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbmVPdXRlckdhaW4odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyR2FpbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBkaXN0YW5jZU1vZGVsKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZGlzdGFuY2VNb2RlbCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5kaXN0YW5jZU1vZGVsID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG1heERpc3RhbmNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUubWF4RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1heERpc3RhbmNlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLm1heERpc3RhbmNlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9yaWVudGF0aW9uWCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvblg7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9yaWVudGF0aW9uWSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvblk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG9yaWVudGF0aW9uWigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvblo7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHBhbm5pbmdNb2RlbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnBhbm5pbmdNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcGFubmluZ01vZGVsKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnBhbm5pbmdNb2RlbCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwb3NpdGlvblgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25YO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwb3NpdGlvblkoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25ZO1xuICAgICAgICB9XG4gICAgICAgIGdldCBwb3NpdGlvblooKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25aO1xuICAgICAgICB9XG4gICAgICAgIGdldCByZWZEaXN0YW5jZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnJlZkRpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHNldCByZWZEaXN0YW5jZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5yZWZEaXN0YW5jZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCByb2xsb2ZmRmFjdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcm9sbG9mZkZhY3Rvcih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5yb2xsb2ZmRmFjdG9yID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhbm5lci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBkaXNhYmxlTm9ybWFsaXphdGlvbjogZmFsc2Vcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlUGVyaW9kaWNXYXZlQ29uc3RydWN0b3IgPSAoY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlLCBnZXROYXRpdmVDb250ZXh0LCBwZXJpb2RpY1dhdmVTdG9yZSwgc2FuaXRpemVQZXJpb2RpY1dhdmVPcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIFBlcmlvZGljV2F2ZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHNhbml0aXplUGVyaW9kaWNXYXZlT3B0aW9ucyh7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBlcmlvZGljV2F2ZSA9IGNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZShuYXRpdmVDb250ZXh0LCBtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgICAgIHBlcmlvZGljV2F2ZVN0b3JlLmFkZChwZXJpb2RpY1dhdmUpO1xuICAgICAgICAgICAgLy8gVGhpcyBkb2VzIHZpb2xhdGUgYWxsIGdvb2QgcHJhdGljZXMgYnV0IGl0IGlzIHVzZWQgaGVyZSB0byBzaW1wbGlmeSB0aGUgaGFuZGxpbmcgb2YgcGVyaW9kaWMgd2F2ZXMuXG4gICAgICAgICAgICByZXR1cm4gcGVyaW9kaWNXYXZlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBbU3ltYm9sLmhhc0luc3RhbmNlXShpbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuICgoaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIGluc3RhbmNlID09PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5zdGFuY2UpID09PSBQZXJpb2RpY1dhdmUucHJvdG90eXBlKSB8fFxuICAgICAgICAgICAgICAgIHBlcmlvZGljV2F2ZVN0b3JlLmhhcyhpbnN0YW5jZSkpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJpb2RpYy13YXZlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgLypcbiAgICAgKiBCdWcgIzEwNTogVGhlIGNoYW5uZWxDb3VudE1vZGUgc2hvdWxkIGJlICdjbGFtcGVkLW1heCcgYWNjb3JkaW5nIHRvIHRoZSBzcGVjIGJ1dCBpcyBzZXQgdG8gJ2V4cGxpY2l0JyB0byBhY2hpZXZlIGNvbnNpc3RlbnRcbiAgICAgKiBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICBwYW46IDBcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlU3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBTdGVyZW9QYW5uZXJOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlU3RlcmVvUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUobmF0aXZlQ29udGV4dCwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBzdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIgPSAoaXNPZmZsaW5lID8gY3JlYXRlU3RlcmVvUGFubmVyTm9kZVJlbmRlcmVyKCkgOiBudWxsKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIGZhbHNlLCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBzdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5fcGFuID0gY3JlYXRlQXVkaW9QYXJhbSh0aGlzLCBpc09mZmxpbmUsIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUucGFuKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcGFuKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhbjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlcmVvLXBhbm5lci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVVbmtub3duRXJyb3IgPSAoKSA9PiBuZXcgRE9NRXhjZXB0aW9uKCcnLCAnVW5rbm93bkVycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmtub3duLWVycm9yLmpzLm1hcCIsImNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgY2hhbm5lbENvdW50TW9kZTogJ21heCcsXG4gICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgIGN1cnZlOiBudWxsLFxuICAgIG92ZXJzYW1wbGU6ICdub25lJ1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVXYXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yID0gKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgV2F2ZVNoYXBlck5vZGUgZXh0ZW5kcyBhdWRpb05vZGVDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVXYXZlU2hhcGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlKG5hdGl2ZUNvbnRleHQsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3Qgd2F2ZVNoYXBlck5vZGVSZW5kZXJlciA9IChpc09mZmxpbmUgPyBjcmVhdGVXYXZlU2hhcGVyTm9kZVJlbmRlcmVyKCkgOiBudWxsKTtcbiAgICAgICAgICAgIC8vIEB0b2RvIEFkZCBhIG1lY2hhbmlzbSB0byBvbmx5IHN3aXRjaCBhIFdhdmVTaGFwZXJOb2RlIHRvIGFjdGl2ZSB3aGlsZSBpdCBpcyBjb25uZWN0ZWQuXG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCB0cnVlLCBuYXRpdmVXYXZlU2hhcGVyTm9kZSwgd2F2ZVNoYXBlck5vZGVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLl9pc0N1cnZlTnVsbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZSA9IG5hdGl2ZVdhdmVTaGFwZXJOb2RlO1xuICAgICAgICAgICAgLy8gQHRvZG8gRGV0ZXJtaW5lIGEgbWVhbmluZ2Z1bCB0YWlsLXRpbWUgaW5zdGVhZCBvZiBqdXN0IHVzaW5nIG9uZSBzZWNvbmQuXG4gICAgICAgICAgICBzZXRBdWRpb05vZGVUYWlsVGltZSh0aGlzLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY3VydmUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNDdXJ2ZU51bGxpZmllZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjdXJ2ZSh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gQnVnICMxMDM6IFNhZmFyaSBkb2VzIG5vdCBhbGxvdyB0byBzZXQgdGhlIGN1cnZlIHRvIG51bGwuXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0N1cnZlTnVsbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTAyOiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gSW52YWxpZFN0YXRlRXJyb3Igd2hlbiB0aGUgY3VydmUgaGFzIGxlc3MgdGhhbiB0d28gc2FtcGxlcy5cbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEwNDogQ2hyb21lIGFuZCBFZGdlIHdpbGwgdGhyb3cgYW4gSW52YWxpZEFjY2Vzc0Vycm9yIHdoZW4gdGhlIGN1cnZlIGhhcyBsZXNzIHRoYW4gdHdvIHNhbXBsZXMuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faXNDdXJ2ZU51bGxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG92ZXJzYW1wbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb3ZlcnNhbXBsZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXZlLXNoYXBlci1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBnZXRGaXJzdFNhbXBsZSA9IChhdWRpb0J1ZmZlciwgYnVmZmVyLCBjaGFubmVsTnVtYmVyKSA9PiB7XG4gICAgLy8gQnVnICM1OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBjb3B5RnJvbUNoYW5uZWwoKSBhbmQgY29weVRvQ2hhbm5lbCgpLlxuICAgIGlmIChhdWRpb0J1ZmZlci5jb3B5RnJvbUNoYW5uZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbE51bWJlcilbMF07XG4gICAgfVxuICAgIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbChidWZmZXIsIGNoYW5uZWxOdW1iZXIpO1xuICAgIHJldHVybiBidWZmZXJbMF07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWZpcnN0LXNhbXBsZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNEQ0N1cnZlID0gKGN1cnZlKSA9PiB7XG4gICAgaWYgKGN1cnZlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbGVuZ3RoID0gY3VydmUubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjdXJ2ZVtNYXRoLmZsb29yKGxlbmd0aCAvIDIpXSAhPT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnZlW2xlbmd0aCAvIDIgLSAxXSArIGN1cnZlW2xlbmd0aCAvIDJdICE9PSAwO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWRjLWN1cnZlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBvdmVyd3JpdGVBY2Nlc3NvcnMgPSAob2JqZWN0LCBwcm9wZXJ0eSwgY3JlYXRlR2V0dGVyLCBjcmVhdGVTZXR0ZXIpID0+IHtcbiAgICBsZXQgcHJvdG90eXBlID0gb2JqZWN0O1xuICAgIHdoaWxlICghcHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKTtcbiAgICB9XG4gICAgY29uc3QgeyBnZXQsIHNldCB9ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIHByb3BlcnR5KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgeyBnZXQ6IGNyZWF0ZUdldHRlcihnZXQpLCBzZXQ6IGNyZWF0ZVNldHRlcihzZXQpIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW92ZXJ3cml0ZS1hY2Nlc3NvcnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZSA9IChhdWRpb1BhcmFtLCB2YWx1ZSwgc3RhcnRUaW1lKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyLmNvZGUgIT09IDkpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWx1ZUF0VGltZVVudGlsUG9zc2libGUoYXVkaW9QYXJhbSwgdmFsdWUsIHN0YXJ0VGltZSArIDFlLTcpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtdmFsdWUtYXQtdGltZS11bnRpbC1wb3NzaWJsZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KC0xKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZXJyIGluc3RhbmNlb2YgUmFuZ2VFcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQgPSAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgNDQxMDApO1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IG5hdGl2ZUF1ZGlvQnVmZmVyO1xuICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgpO1xuICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQgPSAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgIHRyeSB7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKC0xKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZXJyIGluc3RhbmNlb2YgUmFuZ2VFcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMtc3VwcG9ydC5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcmNlcHRDb25uZWN0aW9ucyB9IGZyb20gJy4vaW50ZXJjZXB0LWNvbm5lY3Rpb25zJztcbmV4cG9ydCBjb25zdCB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMgPSAobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCBuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuY29ubmVjdChuYXRpdmVHYWluTm9kZSk7XG4gICAgY29uc3QgZGlzY29ubmVjdEdhaW5Ob2RlID0gKChkaXNjb25uZWN0KSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdG9kbyBUeXBlU2NyaXB0IGNhbm5vdCBpbmZlciB0aGUgb3ZlcmxvYWRlZCBzaWduYXR1cmUgd2l0aCAxIGFyZ3VtZW50IHlldC5cbiAgICAgICAgICAgIGRpc2Nvbm5lY3QuY2FsbChuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGRpc2Nvbm5lY3RHYWluTm9kZSk7XG4gICAgICAgIH07XG4gICAgfSkobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLmRpc2Nvbm5lY3QpO1xuICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGRpc2Nvbm5lY3RHYWluTm9kZSk7XG4gICAgaW50ZXJjZXB0Q29ubmVjdGlvbnMobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCBuYXRpdmVHYWluTm9kZSk7XG4gICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnN0b3AgPSAoKHN0b3ApID0+IHtcbiAgICAgICAgbGV0IGlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gKHdoZW4gPSAwKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcC5jYWxsKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZSwgd2hlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlR2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCB3aGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wLmNhbGwobmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCB3aGVuKTtcbiAgICAgICAgICAgICAgICBpc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5zdG9wKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy5qcy5tYXAiLCJleHBvcnQgY29uc3Qgd3JhcEV2ZW50TGlzdGVuZXIgPSAodGFyZ2V0LCBldmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0geyB2YWx1ZTogdGFyZ2V0IH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV2ZW50LCB7XG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgdGFyZ2V0OiBkZXNjcmlwdG9yXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudExpc3RlbmVyLmNhbGwodGFyZ2V0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXIuaGFuZGxlRXZlbnQuY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtZXZlbnQtbGlzdGVuZXIuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCwgY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCB9IGZyb20gJ2F1dG9tYXRpb24tZXZlbnRzJztcbmltcG9ydCB7IGNyZWF0ZUFib3J0RXJyb3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9hYm9ydC1lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVBZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL2FkZC1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZUFkZEF1ZGlvTm9kZUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLWF1ZGlvLW5vZGUtY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlQWRkQXVkaW9QYXJhbUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLWF1ZGlvLXBhcmFtLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZUFkZEF1ZGlvV29ya2xldE1vZHVsZSB9IGZyb20gJy4vZmFjdG9yaWVzL2FkZC1hdWRpby13b3JrbGV0LW1vZHVsZSc7XG5pbXBvcnQgeyBjcmVhdGVBZGRDb25uZWN0aW9uVG9BdWRpb05vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9hZGQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZUFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL2FkZC1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVBZGRTaWxlbnRDb25uZWN0aW9uIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLXNpbGVudC1jb25uZWN0aW9uJztcbmltcG9ydCB7IGNyZWF0ZUFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvYWRkLXVucmVuZGVyZWQtYXVkaW8td29ya2xldC1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZUFuYWx5c2VyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvYW5hbHlzZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9hbmFseXNlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWJ1ZmZlci1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9hdWRpby1idWZmZXItc291cmNlLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWNvbnRleHQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlciB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWRlc3RpbmF0aW9uLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0xpc3RlbmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLWxpc3RlbmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9Ob2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9hdWRpby1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUF1ZGlvUGFyYW1GYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvYXVkaW8tcGFyYW0tZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb1BhcmFtUmVuZGVyZXIgfSBmcm9tICcuL2ZhY3Rvcmllcy9hdWRpby1wYXJhbS1yZW5kZXJlcic7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9hdWRpby13b3JrbGV0LW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2F1ZGlvLXdvcmtsZXQtbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2Jhc2UtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9iaXF1YWQtZmlsdGVyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2JpcXVhZC1maWx0ZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUNhY2hlVGVzdFJlc3VsdCB9IGZyb20gJy4vZmFjdG9yaWVzL2NhY2hlLXRlc3QtcmVzdWx0JztcbmltcG9ydCB7IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9jaGFubmVsLW1lcmdlci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvY2hhbm5lbC1tZXJnZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2NoYW5uZWwtc3BsaXR0ZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvY2hhbm5lbC1zcGxpdHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ29ubmVjdEF1ZGlvUGFyYW0gfSBmcm9tICcuL2ZhY3Rvcmllcy9jb25uZWN0LWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGNyZWF0ZUNvbm5lY3RNdWx0aXBsZU91dHB1dHMgfSBmcm9tICcuL2ZhY3Rvcmllcy9jb25uZWN0LW11bHRpcGxlLW91dHB1dHMnO1xuaW1wb3J0IHsgY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2Nvbm5lY3RlZC1uYXRpdmUtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9jb25zdGFudC1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9jb25zdGFudC1zb3VyY2Utbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZUNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyB9IGZyb20gJy4vZmFjdG9yaWVzL2NvbnZlcnQtbnVtYmVyLXRvLXVuc2lnbmVkLWxvbmcnO1xuaW1wb3J0IHsgY3JlYXRlQ29udm9sdmVyTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvY29udm9sdmVyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlQ29udm9sdmVyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2NvbnZvbHZlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlQ3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2NyZWF0ZS1uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZURhdGFDbG9uZUVycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvZGF0YS1jbG9uZS1lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVEZWNvZGVBdWRpb0RhdGEgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZWNvZGUtYXVkaW8tZGF0YSc7XG5pbXBvcnQgeyBjcmVhdGVEZWNyZW1lbnRDeWNsZUNvdW50ZXIgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZWNyZW1lbnQtY3ljbGUtY291bnRlcic7XG5pbXBvcnQgeyBjcmVhdGVEZWxheU5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2RlbGF5LW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvZGVsYXktbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZURlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvZGVsZXRlLWFjdGl2ZS1pbnB1dC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlRGVsZXRlVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9kZWxldGUtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlRGV0ZWN0Q3ljbGVzIH0gZnJvbSAnLi9mYWN0b3JpZXMvZGV0ZWN0LWN5Y2xlcyc7XG5pbXBvcnQgeyBjcmVhdGVEaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzIH0gZnJvbSAnLi9mYWN0b3JpZXMvZGlzY29ubmVjdC1tdWx0aXBsZS1vdXRwdXRzJztcbmltcG9ydCB7IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2R5bmFtaWNzLWNvbXByZXNzb3Itbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvZHluYW1pY3MtY29tcHJlc3Nvci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlRW5jb2RpbmdFcnJvciB9IGZyb20gJy4vZmFjdG9yaWVzL2VuY29kaW5nLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZUV2YWx1YXRlU291cmNlIH0gZnJvbSAnLi9mYWN0b3JpZXMvZXZhbHVhdGUtc291cmNlJztcbmltcG9ydCB7IGNyZWF0ZUV2ZW50VGFyZ2V0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9ldmVudC10YXJnZXQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlRXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUgfSBmcm9tICcuL2ZhY3Rvcmllcy9leHBvc2UtY3VycmVudC1mcmFtZS1hbmQtY3VycmVudC10aW1lJztcbmltcG9ydCB7IGNyZWF0ZUZldGNoU291cmNlIH0gZnJvbSAnLi9mYWN0b3JpZXMvZmV0Y2gtc291cmNlJztcbmltcG9ydCB7IGNyZWF0ZUdhaW5Ob2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9nYWluLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlR2Fpbk5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9nYWluLW5vZGUtcmVuZGVyZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVHZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzIH0gZnJvbSAnLi9mYWN0b3JpZXMvZ2V0LWFjdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtaW5wdXRzJztcbmltcG9ydCB7IGNyZWF0ZUdldEF1ZGlvTm9kZVJlbmRlcmVyIH0gZnJvbSAnLi9mYWN0b3JpZXMvZ2V0LWF1ZGlvLW5vZGUtcmVuZGVyZXInO1xuaW1wb3J0IHsgY3JlYXRlR2V0QXVkaW9Ob2RlVGFpbFRpbWUgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtYXVkaW8tbm9kZS10YWlsLXRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlR2V0QXVkaW9QYXJhbVJlbmRlcmVyIH0gZnJvbSAnLi9mYWN0b3JpZXMvZ2V0LWF1ZGlvLXBhcmFtLXJlbmRlcmVyJztcbmltcG9ydCB7IGNyZWF0ZUdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVHZXROYXRpdmVDb250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvZ2V0LW5hdGl2ZS1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUdldE9yQ3JlYXRlQmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2dldC1vci1jcmVhdGUtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVHZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMgfSBmcm9tICcuL2ZhY3Rvcmllcy9nZXQtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGVzJztcbmltcG9ydCB7IGNyZWF0ZUlJUkZpbHRlck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL2lpci1maWx0ZXItbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvaWlyLWZpbHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlSW5jcmVtZW50Q3ljbGVDb3VudGVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL2luY3JlbWVudC1jeWNsZS1jb3VudGVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXhTaXplRXJyb3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9pbmRleC1zaXplLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciB9IGZyb20gJy4vZmFjdG9yaWVzL2ludmFsaWQtYWNjZXNzLWVycm9yJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvaW52YWxpZC1zdGF0ZS1lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVJc0FueUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLWFueS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUlzQW55QXVkaW9Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtYW55LWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlSXNBbnlBdWRpb1BhcmFtIH0gZnJvbSAnLi9mYWN0b3JpZXMvaXMtYW55LWF1ZGlvLXBhcmFtJztcbmltcG9ydCB7IGNyZWF0ZUlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLWFueS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlSXNOYXRpdmVBdWRpb0NvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9pcy1uYXRpdmUtYXVkaW8tY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVJc05hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLW5hdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZUlzTmF0aXZlQXVkaW9QYXJhbSB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLW5hdGl2ZS1hdWRpby1wYXJhbSc7XG5pbXBvcnQgeyBjcmVhdGVJc05hdGl2ZUNvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9pcy1uYXRpdmUtY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVJc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgfSBmcm9tICcuL2ZhY3Rvcmllcy9pcy1uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUlzU2VjdXJlQ29udGV4dCB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLXNlY3VyZS1jb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUlzU3VwcG9ydGVkUHJvbWlzZSB9IGZyb20gJy4vZmFjdG9yaWVzL2lzLXN1cHBvcnRlZC1wcm9taXNlJztcbmltcG9ydCB7IGNyZWF0ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvbWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9tZWRpYS1zdHJlYW0tYXVkaW8tZGVzdGluYXRpb24tbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvbWVkaWEtc3RyZWFtLWF1ZGlvLXNvdXJjZS1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL21lZGlhLXN0cmVhbS10cmFjay1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVNaW5pbWFsQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9taW5pbWFsLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlTWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL21pbmltYWwtYmFzZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU1pbmltYWxPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9taW5pbWFsLW9mZmxpbmUtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVNb25pdG9yQ29ubmVjdGlvbnMgfSBmcm9tICcuL2ZhY3Rvcmllcy9tb25pdG9yLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYW5hbHlzZXItbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8tZGVzdGluYXRpb24tbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWF1ZGlvLXdvcmtsZXQtbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZha2VyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1iaXF1YWQtZmlsdGVyLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWNoYW5uZWwtbWVyZ2VyLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWNoYW5uZWwtc3BsaXR0ZXItbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWNvbnN0YW50LXNvdXJjZS1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLWNvbnN0YW50LXNvdXJjZS1ub2RlLWZha2VyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtY29udm9sdmVyLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVEZWxheU5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtZGVsYXktbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1keW5hbWljcy1jb21wcmVzc29yLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVHYWluTm9kZSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1nYWluLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtaWlyLWZpbHRlci1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1paXItZmlsdGVyLW5vZGUtZmFrZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtbWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1kZXN0aW5hdGlvbi1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLW1lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1tZWRpYS1zdHJlYW0tdHJhY2stYXVkaW8tc291cmNlLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1vc2NpbGxhdG9yLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1wYW5uZXItbm9kZS1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtcGFubmVyLW5vZGUtZmFrZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVQZXJpb2RpY1dhdmVGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXBlcmlvZGljLXdhdmUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXNjcmlwdC1wcm9jZXNzb3Itbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS1zdGVyZW8tcGFubmVyLW5vZGUtZmFjdG9yeSc7XG5pbXBvcnQgeyBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMvbmF0aXZlLXN0ZXJlby1wYW5uZXItbm9kZS1mYWtlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL25hdGl2ZS13YXZlLXNoYXBlci1ub2RlLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9uYXRpdmUtd2F2ZS1zaGFwZXItbm9kZS1mYWtlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvbm90LXN1cHBvcnRlZC1lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlT3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL29zY2lsbGF0b3Itbm9kZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL29zY2lsbGF0b3Itbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVBhbm5lck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL3Bhbm5lci1ub2RlLWNvbnN0cnVjdG9yJztcbmltcG9ydCB7IGNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy9wYW5uZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9mYWN0b3JpZXMvcGVyaW9kaWMtd2F2ZS1jb25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJBdXRvbWF0aW9uIH0gZnJvbSAnLi9mYWN0b3JpZXMvcmVuZGVyLWF1dG9tYXRpb24nO1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb05vZGUgfSBmcm9tICcuL2ZhY3Rvcmllcy9yZW5kZXItaW5wdXRzLW9mLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtIH0gZnJvbSAnLi9mYWN0b3JpZXMvcmVuZGVyLWlucHV0cy1vZi1hdWRpby1wYXJhbSc7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSAnLi9mYWN0b3JpZXMvcmVuZGVyLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlU2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyB9IGZyb20gJy4vZmFjdG9yaWVzL3NldC1hY3RpdmUtYXVkaW8td29ya2xldC1ub2RlLWlucHV0cyc7XG5pbXBvcnQgeyBjcmVhdGVTZXRBdWRpb05vZGVUYWlsVGltZSB9IGZyb20gJy4vZmFjdG9yaWVzL3NldC1hdWRpby1ub2RlLXRhaWwtdGltZSc7XG5pbXBvcnQgeyBjcmVhdGVTdGFydFJlbmRlcmluZyB9IGZyb20gJy4vZmFjdG9yaWVzL3N0YXJ0LXJlbmRlcmluZyc7XG5pbXBvcnQgeyBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlQ29uc3RydWN0b3IgfSBmcm9tICcuL2ZhY3Rvcmllcy9zdGVyZW8tcGFubmVyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlU3RlcmVvUGFubmVyTm9kZVJlbmRlcmVyRmFjdG9yeSB9IGZyb20gJy4vZmFjdG9yaWVzL3N0ZXJlby1wYW5uZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtYXVkaW8tYnVmZmVyLWNvbnN0cnVjdG9yLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzU3ViYXJyYXlTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtc3ViYXJyYXktc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0QXVkaW9Db250ZXh0Q2xvc2VNZXRob2RTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby1jb250ZXh0LWNsb3NlLW1ldGhvZC1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb0NvbnRleHREZWNvZGVBdWRpb0RhdGFNZXRob2RUeXBlRXJyb3JTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby1jb250ZXh0LWRlY29kZS1hdWRpby1kYXRhLW1ldGhvZC10eXBlLWVycm9yLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdEF1ZGlvQ29udGV4dE9wdGlvbnNTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1hdWRpby1jb250ZXh0LW9wdGlvbnMtc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0QXVkaW9Ob2RlQ29ubmVjdE1ldGhvZFN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLW5vZGUtY29ubmVjdC1tZXRob2Qtc3VwcG9ydCc7XG5pbXBvcnQgeyBjcmVhdGVUZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yTm9PdXRwdXRzU3VwcG9ydCB9IGZyb20gJy4vZmFjdG9yaWVzL3Rlc3QtYXVkaW8td29ya2xldC1wcm9jZXNzb3Itbm8tb3V0cHV0cy1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RBdWRpb1dvcmtsZXRQcm9jZXNzb3JQb3N0TWVzc2FnZVN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yLXBvc3QtbWVzc2FnZS1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RDaGFubmVsTWVyZ2VyTm9kZUNoYW5uZWxDb3VudFN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWNoYW5uZWwtbWVyZ2VyLW5vZGUtY2hhbm5lbC1jb3VudC1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RDb25zdGFudFNvdXJjZU5vZGVBY2N1cmF0ZVNjaGVkdWxpbmdTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1jb25zdGFudC1zb3VyY2Utbm9kZS1hY2N1cmF0ZS1zY2hlZHVsaW5nLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdENvbnZvbHZlck5vZGVCdWZmZXJSZWFzc2lnbmFiaWxpdHlTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1jb252b2x2ZXItbm9kZS1idWZmZXItcmVhc3NpZ25hYmlsaXR5LXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdENvbnZvbHZlck5vZGVDaGFubmVsQ291bnRTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1jb252b2x2ZXItbm9kZS1jaGFubmVsLWNvdW50LXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdElzU2VjdXJlQ29udGV4dFN1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LWlzLXNlY3VyZS1jb250ZXh0LXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlTWVkaWFTdHJlYW1XaXRob3V0QXVkaW9UcmFja1N1cHBvcnQgfSBmcm9tICcuL2ZhY3Rvcmllcy90ZXN0LW1lZGlhLXN0cmVhbS1hdWRpby1zb3VyY2Utbm9kZS1tZWRpYS1zdHJlYW0td2l0aG91dC1hdWRpby10cmFjay1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY3VycmVudC10aW1lLXN1cHBvcnQnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdFN0ZXJlb1Bhbm5lck5vZGVEZWZhdWx0VmFsdWVTdXBwb3J0IH0gZnJvbSAnLi9mYWN0b3JpZXMvdGVzdC1zdGVyZW8tcGFubmVyLW5vZGUtZGVmYXVsdC12YWx1ZS1zdXBwb3J0JztcbmltcG9ydCB7IGNyZWF0ZVVua25vd25FcnJvciB9IGZyb20gJy4vZmFjdG9yaWVzL3Vua25vd24tZXJyb3InO1xuaW1wb3J0IHsgY3JlYXRlV2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3RvciB9IGZyb20gJy4vZmFjdG9yaWVzL3dhdmUtc2hhcGVyLW5vZGUtY29uc3RydWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcy93YXZlLXNoYXBlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnknO1xuaW1wb3J0IHsgY3JlYXRlV2luZG93IH0gZnJvbSAnLi9mYWN0b3JpZXMvd2luZG93JztcbmltcG9ydCB7IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcyB9IGZyb20gJy4vZmFjdG9yaWVzL3dyYXAtYXVkaW8tYnVmZmVyLWNvcHktY2hhbm5lbC1tZXRob2RzJztcbmltcG9ydCB7IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzIH0gZnJvbSAnLi9mYWN0b3JpZXMvd3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcyc7XG5pbXBvcnQgeyBjcmVhdGVXcmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlciB9IGZyb20gJy4vZmFjdG9yaWVzL3dyYXAtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW51bGxpZmllZC1idWZmZXInO1xuaW1wb3J0IHsgY3JlYXRlV3JhcENoYW5uZWxNZXJnZXJOb2RlIH0gZnJvbSAnLi9mYWN0b3JpZXMvd3JhcC1jaGFubmVsLW1lcmdlci1ub2RlJztcbmltcG9ydCB7IEFVRElPX05PREVfQ09OTkVDVElPTlNfU1RPUkUsIEFVRElPX05PREVfU1RPUkUsIEFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFLCBBVURJT19QQVJBTV9TVE9SRSwgQ09OVEVYVF9TVE9SRSwgQ1lDTEVfQ09VTlRFUlMgfSBmcm9tICcuL2dsb2JhbHMnO1xuaW1wb3J0IHsgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi9oZWxwZXJzL2Nvbm5lY3QtbmF0aXZlLWF1ZGlvLW5vZGUtdG8tbmF0aXZlLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuL2hlbHBlcnMvZGlzY29ubmVjdC1uYXRpdmUtYXVkaW8tbm9kZS1mcm9tLW5hdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zIH0gZnJvbSAnLi9oZWxwZXJzL2dldC1hdWRpby1ub2RlLWNvbm5lY3Rpb25zJztcbmltcG9ydCB7IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyB9IGZyb20gJy4vaGVscGVycy9nZXQtYXVkaW8tcGFyYW0tY29ubmVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSB9IGZyb20gJy4vaGVscGVycy9nZXQtZXZlbnQtbGlzdGVuZXJzLW9mLWF1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgZ2V0Rmlyc3RTYW1wbGUgfSBmcm9tICcuL2hlbHBlcnMvZ2V0LWZpcnN0LXNhbXBsZSc7XG5pbXBvcnQgeyBnZXROYXRpdmVBdWRpb05vZGUgfSBmcm9tICcuL2hlbHBlcnMvZ2V0LW5hdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGdldE5hdGl2ZUF1ZGlvUGFyYW0gfSBmcm9tICcuL2hlbHBlcnMvZ2V0LW5hdGl2ZS1hdWRpby1wYXJhbSc7XG5pbXBvcnQgeyBnZXRWYWx1ZUZvcktleSB9IGZyb20gJy4vaGVscGVycy9nZXQtdmFsdWUtZm9yLWtleSc7XG5pbXBvcnQgeyBpbnNlcnRFbGVtZW50SW5TZXQgfSBmcm9tICcuL2hlbHBlcnMvaW5zZXJ0LWVsZW1lbnQtaW4tc2V0JztcbmltcG9ydCB7IGlzQWN0aXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi9oZWxwZXJzL2lzLWFjdGl2ZS1hdWRpby1ub2RlJztcbmltcG9ydCB7IGlzRENDdXJ2ZSB9IGZyb20gJy4vaGVscGVycy9pcy1kYy1jdXJ2ZSc7XG5pbXBvcnQgeyBpc1BhcnRPZkFDeWNsZSB9IGZyb20gJy4vaGVscGVycy9pcy1wYXJ0LW9mLWEtY3ljbGUnO1xuaW1wb3J0IHsgaXNQYXNzaXZlQXVkaW9Ob2RlIH0gZnJvbSAnLi9oZWxwZXJzL2lzLXBhc3NpdmUtYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBvdmVyd3JpdGVBY2Nlc3NvcnMgfSBmcm9tICcuL2hlbHBlcnMvb3ZlcndyaXRlLWFjY2Vzc29ycyc7XG5pbXBvcnQgeyBwaWNrRWxlbWVudEZyb21TZXQgfSBmcm9tICcuL2hlbHBlcnMvcGljay1lbGVtZW50LWZyb20tc2V0JztcbmltcG9ydCB7IHNhbml0aXplQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgfSBmcm9tICcuL2hlbHBlcnMvc2FuaXRpemUtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMnO1xuaW1wb3J0IHsgc2FuaXRpemVDaGFubmVsU3BsaXR0ZXJPcHRpb25zIH0gZnJvbSAnLi9oZWxwZXJzL3Nhbml0aXplLWNoYW5uZWwtc3BsaXR0ZXItb3B0aW9ucyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVBlcmlvZGljV2F2ZU9wdGlvbnMgfSBmcm9tICcuL2hlbHBlcnMvc2FuaXRpemUtcGVyaW9kaWMtd2F2ZS1vcHRpb25zJztcbmltcG9ydCB7IHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZSB9IGZyb20gJy4vaGVscGVycy9zZXQtdmFsdWUtYXQtdGltZS11bnRpbC1wb3NzaWJsZSc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcy1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1waW5nU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW51bGxpZmllZC1idWZmZXItc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1uZWdhdGl2ZS1wYXJhbWV0ZXJzLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGVzdEF1ZGlvV29ya2xldE5vZGVPcHRpb25zQ2xvbmFiaWxpdHkgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucy1jbG9uYWJpbGl0eSc7XG5pbXBvcnQgeyB0ZXN0RG9tRXhjZXB0aW9uQ29uc3RydWN0b3JTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL3Rlc3QtZG9tLWV4Y2VwdGlvbi1jb25zdHJ1Y3Rvci1zdXBwb3J0JztcbmltcG9ydCB7IHRlc3RQcm9taXNlU3VwcG9ydCB9IGZyb20gJy4vaGVscGVycy90ZXN0LXByb21pc2Utc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXN0VHJhbnNmZXJhYmxlc1N1cHBvcnQgfSBmcm9tICcuL2hlbHBlcnMvdGVzdC10cmFuc2ZlcmFibGVzLXN1cHBvcnQnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmcgfSBmcm9tICcuL2hlbHBlcnMvd3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW9mZnNldC1jbGFtcGluZyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMgfSBmcm9tICcuL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMnO1xuaW1wb3J0IHsgd3JhcEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2hlbHBlcnMvd3JhcC1ldmVudC1saXN0ZW5lcic7XG4vKlxuICogQHRvZG8gRXhwbGljaXRseSByZWZlcmVuY2luZyB0aGUgYmFycmVsIGZpbGUgc2VlbXMgdG8gYmUgbmVjZXNzYXJ5IHdoZW4gZW5hYmxpbmcgdGhlXG4gKiBpc29sYXRlZE1vZHVsZXMgY29tcGlsZXIgb3B0aW9uLlxuICovXG5leHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMvaW5kZXgnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcy9pbmRleCc7XG5jb25zdCBhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSA9IGNyZWF0ZUFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlKGluc2VydEVsZW1lbnRJblNldCk7XG5jb25zdCBhZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSBjcmVhdGVBZGRQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUoaW5zZXJ0RWxlbWVudEluU2V0KTtcbmNvbnN0IGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlID0gY3JlYXRlRGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUocGlja0VsZW1lbnRGcm9tU2V0KTtcbmNvbnN0IGF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgZ2V0QXVkaW9Ob2RlVGFpbFRpbWUgPSBjcmVhdGVHZXRBdWRpb05vZGVUYWlsVGltZShhdWRpb05vZGVUYWlsVGltZVN0b3JlKTtcbmNvbnN0IGNhY2hlVGVzdFJlc3VsdCA9IGNyZWF0ZUNhY2hlVGVzdFJlc3VsdChuZXcgTWFwKCksIG5ldyBXZWFrTWFwKCkpO1xuY29uc3Qgd2luZG93ID0gY3JlYXRlV2luZG93KCk7XG5jb25zdCBjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUgPSBjcmVhdGVOYXRpdmVBbmFseXNlck5vZGVGYWN0b3J5KGNhY2hlVGVzdFJlc3VsdCwgY3JlYXRlSW5kZXhTaXplRXJyb3IpO1xuY29uc3QgZ2V0QXVkaW9Ob2RlUmVuZGVyZXIgPSBjcmVhdGVHZXRBdWRpb05vZGVSZW5kZXJlcihnZXRBdWRpb05vZGVDb25uZWN0aW9ucyk7XG5jb25zdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSA9IGNyZWF0ZVJlbmRlcklucHV0c09mQXVkaW9Ob2RlKGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRBdWRpb05vZGVSZW5kZXJlciwgaXNQYXJ0T2ZBQ3ljbGUpO1xuY29uc3QgY3JlYXRlQW5hbHlzZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlckZhY3RvcnkoY3JlYXRlTmF0aXZlQW5hbHlzZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGdldE5hdGl2ZUNvbnRleHQgPSBjcmVhdGVHZXROYXRpdmVDb250ZXh0KENPTlRFWFRfU1RPUkUpO1xuY29uc3QgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKHdpbmRvdyk7XG5jb25zdCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSBjcmVhdGVJc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKTtcbmNvbnN0IGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBldmVudFRhcmdldENvbnN0cnVjdG9yID0gY3JlYXRlRXZlbnRUYXJnZXRDb25zdHJ1Y3Rvcih3cmFwRXZlbnRMaXN0ZW5lcik7XG5jb25zdCBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKHdpbmRvdyk7XG5jb25zdCBpc05hdGl2ZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZUlzTmF0aXZlQXVkaW9Db250ZXh0KG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKTtcbmNvbnN0IGlzTmF0aXZlQXVkaW9Ob2RlID0gY3JlYXRlSXNOYXRpdmVBdWRpb05vZGUod2luZG93KTtcbmNvbnN0IGlzTmF0aXZlQXVkaW9QYXJhbSA9IGNyZWF0ZUlzTmF0aXZlQXVkaW9QYXJhbSh3aW5kb3cpO1xuY29uc3QgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yKHdpbmRvdyk7XG5jb25zdCBhdWRpb05vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUF1ZGlvTm9kZUNvbnN0cnVjdG9yKGNyZWF0ZUFkZEF1ZGlvTm9kZUNvbm5lY3Rpb25zKEFVRElPX05PREVfQ09OTkVDVElPTlNfU1RPUkUpLCBjcmVhdGVBZGRDb25uZWN0aW9uVG9BdWRpb05vZGUoYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUsIGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlLCBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRBdWRpb05vZGVUYWlsVGltZSwgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBpbnNlcnRFbGVtZW50SW5TZXQsIGlzQWN0aXZlQXVkaW9Ob2RlLCBpc1BhcnRPZkFDeWNsZSwgaXNQYXNzaXZlQXVkaW9Ob2RlKSwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXJGYWN0b3J5KENZQ0xFX0NPVU5URVJTLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9QYXJhbSwgaXNBY3RpdmVBdWRpb05vZGUpLCBjcmVhdGVJbmRleFNpemVFcnJvciwgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgY3JlYXRlRGVjcmVtZW50Q3ljbGVDb3VudGVyKGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSwgQ1lDTEVfQ09VTlRFUlMsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXROYXRpdmVBdWRpb05vZGUsIGdldE5hdGl2ZUF1ZGlvUGFyYW0sIGdldE5hdGl2ZUNvbnRleHQsIGlzQWN0aXZlQXVkaW9Ob2RlLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpLCBjcmVhdGVEZXRlY3RDeWNsZXMoYXVkaW9QYXJhbUF1ZGlvTm9kZVN0b3JlLCBnZXRBdWRpb05vZGVDb25uZWN0aW9ucywgZ2V0VmFsdWVGb3JLZXkpLCBldmVudFRhcmdldENvbnN0cnVjdG9yLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVBdWRpb05vZGUsIGlzTmF0aXZlQXVkaW9QYXJhbSwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IpO1xuY29uc3QgYW5hbHlzZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVBbmFseXNlck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQW5hbHlzZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG5leHBvcnQgeyBhbmFseXNlck5vZGVDb25zdHJ1Y3RvciBhcyBBbmFseXNlck5vZGUgfTtcbmNvbnN0IGF1ZGlvQnVmZmVyU3RvcmUgPSBuZXcgV2Vha1NldCgpO1xuY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3Iod2luZG93KTtcbmNvbnN0IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyA9IGNyZWF0ZUNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhuZXcgVWludDMyQXJyYXkoMSkpO1xuY29uc3Qgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzID0gY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzKGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZywgY3JlYXRlSW5kZXhTaXplRXJyb3IpO1xuY29uc3Qgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMgPSBjcmVhdGVXcmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyhjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmcpO1xuY29uc3QgYXVkaW9CdWZmZXJDb25zdHJ1Y3RvciA9IGNyZWF0ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IoYXVkaW9CdWZmZXJTdG9yZSwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBjcmVhdGVUZXN0QXVkaW9CdWZmZXJDb25zdHJ1Y3RvclN1cHBvcnQobmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciksIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcywgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMpO1xuZXhwb3J0IHsgYXVkaW9CdWZmZXJDb25zdHJ1Y3RvciBhcyBBdWRpb0J1ZmZlciB9O1xuY29uc3QgYWRkU2lsZW50Q29ubmVjdGlvbiA9IGNyZWF0ZUFkZFNpbGVudENvbm5lY3Rpb24oY3JlYXRlTmF0aXZlR2Fpbk5vZGUpO1xuY29uc3QgcmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtID0gY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKGdldEF1ZGlvTm9kZVJlbmRlcmVyLCBnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMsIGlzUGFydE9mQUN5Y2xlKTtcbmNvbnN0IGNvbm5lY3RBdWRpb1BhcmFtID0gY3JlYXRlQ29ubmVjdEF1ZGlvUGFyYW0ocmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUZhY3RvcnkoYWRkU2lsZW50Q29ubmVjdGlvbiwgY2FjaGVUZXN0UmVzdWx0LCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmdTdXBwb3J0LCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlclN1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmcsIGNyZWF0ZVdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyKG92ZXJ3cml0ZUFjY2Vzc29ycyksIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscyk7XG5jb25zdCByZW5kZXJBdXRvbWF0aW9uID0gY3JlYXRlUmVuZGVyQXV0b21hdGlvbihjcmVhdGVHZXRBdWRpb1BhcmFtUmVuZGVyZXIoZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zKSwgcmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKTtcbmNvbnN0IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyID0gY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgY3JlYXRlQXVkaW9QYXJhbSA9IGNyZWF0ZUF1ZGlvUGFyYW1GYWN0b3J5KGNyZWF0ZUFkZEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhBVURJT19QQVJBTV9DT05ORUNUSU9OU19TVE9SRSksIGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSwgQVVESU9fUEFSQU1fU1RPUkUsIGNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlciwgY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCwgY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LCBjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50LCBjcmVhdGVTZXRWYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudCwgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHNldFZhbHVlQXRUaW1lVW50aWxQb3NzaWJsZSk7XG5jb25zdCBhdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB3cmFwRXZlbnRMaXN0ZW5lcik7XG5leHBvcnQgeyBhdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciBhcyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgfTtcbmNvbnN0IGF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IgPSBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyLCBjcmVhdGVJbmRleFNpemVFcnJvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlRmFjdG9yeShjcmVhdGVOYXRpdmVHYWluTm9kZSwgb3ZlcndyaXRlQWNjZXNzb3JzKSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IHNldEF1ZGlvTm9kZVRhaWxUaW1lID0gY3JlYXRlU2V0QXVkaW9Ob2RlVGFpbFRpbWUoYXVkaW9Ob2RlVGFpbFRpbWVTdG9yZSk7XG5jb25zdCBiaXF1YWRGaWx0ZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZUJpcXVhZEZpbHRlck5vZGVSZW5kZXJlciwgY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yLCBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKTtcbmNvbnN0IG1vbml0b3JDb25uZWN0aW9ucyA9IGNyZWF0ZU1vbml0b3JDb25uZWN0aW9ucyhpbnNlcnRFbGVtZW50SW5TZXQsIGlzTmF0aXZlQXVkaW9Ob2RlKTtcbmNvbnN0IHdyYXBDaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZVdyYXBDaGFubmVsTWVyZ2VyTm9kZShjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgbW9uaXRvckNvbm5lY3Rpb25zKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGVGYWN0b3J5KG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCB3cmFwQ2hhbm5lbE1lcmdlck5vZGUpO1xuY29uc3QgY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlciA9IGNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlciA9IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlckZhY3RvcnkoY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBjaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXIgPSBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlckZhY3RvcnkoYWRkU2lsZW50Q29ubmVjdGlvbiwgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgbW9uaXRvckNvbm5lY3Rpb25zKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZhY3RvcnkoYWRkU2lsZW50Q29ubmVjdGlvbiwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KTtcbmNvbnN0IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyID0gY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgY29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB3cmFwRXZlbnRMaXN0ZW5lcik7XG5jb25zdCBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlID0gY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZUZhY3RvcnkoY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIG92ZXJ3cml0ZUFjY2Vzc29ycyk7XG5jb25zdCBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3QgY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlQ29udm9sdmVyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVDb252b2x2ZXJOb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUNvbnZvbHZlck5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXIgPSBjcmVhdGVEZWxheU5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSk7XG5jb25zdCBkZWxheU5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZURlbGF5Tm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVEZWxheU5vZGVSZW5kZXJlciwgY3JlYXRlTmF0aXZlRGVsYXlOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlRmFjdG9yeShjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcik7XG5jb25zdCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXIgPSBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBzZXRBdWRpb05vZGVUYWlsVGltZSk7XG5jb25zdCBjcmVhdGVHYWluTm9kZVJlbmRlcmVyID0gY3JlYXRlR2Fpbk5vZGVSZW5kZXJlckZhY3RvcnkoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IGdhaW5Ob2RlQ29uc3RydWN0b3IgPSBjcmVhdGVHYWluTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVHYWluTm9kZVJlbmRlcmVyLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlciA9IGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlckZhY3RvcnkoY3JlYXRlSW52YWxpZEFjY2Vzc0Vycm9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IpO1xuY29uc3QgcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZVJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlVGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQoY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikpO1xuY29uc3QgY3JlYXRlSUlSRmlsdGVyTm9kZVJlbmRlcmVyID0gY3JlYXRlSUlSRmlsdGVyTm9kZVJlbmRlcmVyRmFjdG9yeShjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSwgcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG5jb25zdCBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlID0gY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZhY3RvcnkoY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyKTtcbmNvbnN0IGlJUkZpbHRlck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZUlJUkZpbHRlck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZSwgY3JlYXRlSUlSRmlsdGVyTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKTtcbmNvbnN0IGNyZWF0ZUF1ZGlvTGlzdGVuZXIgPSBjcmVhdGVBdWRpb0xpc3RlbmVyRmFjdG9yeShjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgZ2V0Rmlyc3RTYW1wbGUsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3ZlcndyaXRlQWNjZXNzb3JzKTtcbmNvbnN0IHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZU1pbmltYWxCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoYXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9MaXN0ZW5lciwgZXZlbnRUYXJnZXRDb25zdHJ1Y3RvciwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZVN0b3JlLCB3cmFwRXZlbnRMaXN0ZW5lcik7XG5jb25zdCBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZSA9IGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlRmFjdG9yeShhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzKTtcbmNvbnN0IGNyZWF0ZU9zY2lsbGF0b3JOb2RlUmVuZGVyZXIgPSBjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyRmFjdG9yeShjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpO1xuY29uc3Qgb3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZU9zY2lsbGF0b3JOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHdyYXBFdmVudExpc3RlbmVyKTtcbmNvbnN0IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUZhY3RvcnkoY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyRmFjdG9yeShjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgaXNEQ0N1cnZlLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZhY3RvcnkoY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciwgaXNEQ0N1cnZlLCBtb25pdG9yQ29ubmVjdGlvbnMsIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBvdmVyd3JpdGVBY2Nlc3NvcnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZha2VyID0gY3JlYXRlTmF0aXZlUGFubmVyTm9kZUZha2VyRmFjdG9yeShjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUsIGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUsIGdldEZpcnN0U2FtcGxlLCBtb25pdG9yQ29ubmVjdGlvbnMpO1xuY29uc3QgY3JlYXRlTmF0aXZlUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWN0b3J5KGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlcik7XG5jb25zdCBjcmVhdGVQYW5uZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVQYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlUGFubmVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IHBhbm5lck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZVBhbm5lck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlUGFubmVyTm9kZSwgY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHNldEF1ZGlvTm9kZVRhaWxUaW1lKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZSA9IGNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZUZhY3RvcnkoY3JlYXRlSW5kZXhTaXplRXJyb3IpO1xuY29uc3QgcGVyaW9kaWNXYXZlQ29uc3RydWN0b3IgPSBjcmVhdGVQZXJpb2RpY1dhdmVDb25zdHJ1Y3RvcihjcmVhdGVOYXRpdmVQZXJpb2RpY1dhdmUsIGdldE5hdGl2ZUNvbnRleHQsIG5ldyBXZWFrU2V0KCksIHNhbml0aXplUGVyaW9kaWNXYXZlT3B0aW9ucyk7XG5jb25zdCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5ID0gY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyRmFjdG9yeShjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbW9uaXRvckNvbm5lY3Rpb25zKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgPSBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFjdG9yeShuYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5LCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcik7XG5jb25zdCBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXIgPSBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IHN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZSwgY3JlYXRlU3RlcmVvUGFubmVyTm9kZVJlbmRlcmVyLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuY29uc3QgY3JlYXRlV2F2ZVNoYXBlck5vZGVSZW5kZXJlciA9IGNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXJGYWN0b3J5KGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKTtcbmNvbnN0IHdhdmVTaGFwZXJOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVXYXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXIsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc2V0QXVkaW9Ob2RlVGFpbFRpbWUpO1xuY29uc3QgaXNTZWN1cmVDb250ZXh0ID0gY3JlYXRlSXNTZWN1cmVDb250ZXh0KHdpbmRvdyk7XG5jb25zdCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSA9IGNyZWF0ZUV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKHdpbmRvdyk7XG5jb25zdCBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgZ2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0ID0gY3JlYXRlR2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0KGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKTtcbi8vIFRoZSBhZGRBdWRpb1dvcmtsZXRNb2R1bGUoKSBmdW5jdGlvbiBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIFNlY3VyZUNvbnRleHQuXG5leHBvcnQgY29uc3QgYWRkQXVkaW9Xb3JrbGV0TW9kdWxlID0gaXNTZWN1cmVDb250ZXh0XG4gICAgPyBjcmVhdGVBZGRBdWRpb1dvcmtsZXRNb2R1bGUoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgY3JlYXRlRXZhbHVhdGVTb3VyY2Uod2luZG93KSwgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUsIGNyZWF0ZUZldGNoU291cmNlKGNyZWF0ZUFib3J0RXJyb3IpLCBnZXROYXRpdmVDb250ZXh0LCBnZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuZXcgV2Vha01hcCgpLCBuZXcgV2Vha01hcCgpLCBjcmVhdGVUZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yUG9zdE1lc3NhZ2VTdXBwb3J0KG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgXG4gICAgLy8gQHRvZG8gd2luZG93IGlzIGd1YXJhbnRlZWQgdG8gYmUgZGVmaW5lZCBiZWNhdXNlIGlzU2VjdXJlQ29udGV4dCBjaGVja3MgdGhhdCBhcyB3ZWxsLlxuICAgIHdpbmRvdylcbiAgICA6IHVuZGVmaW5lZDtcbmNvbnN0IGlzTmF0aXZlQ29udGV4dCA9IGNyZWF0ZUlzTmF0aXZlQ29udGV4dChpc05hdGl2ZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmV4cG9ydCBjb25zdCBkZWNvZGVBdWRpb0RhdGEgPSBjcmVhdGVEZWNvZGVBdWRpb0RhdGEoYXVkaW9CdWZmZXJTdG9yZSwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVEYXRhQ2xvbmVFcnJvciwgY3JlYXRlRW5jb2RpbmdFcnJvciwgbmV3IFdlYWtTZXQoKSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVDb250ZXh0LCB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsIHRlc3RQcm9taXNlU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyk7XG5jb25zdCBiYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSBjcmVhdGVCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoYWRkQXVkaW9Xb3JrbGV0TW9kdWxlLCBhbmFseXNlck5vZGVDb25zdHJ1Y3RvciwgYXVkaW9CdWZmZXJDb25zdHJ1Y3RvciwgYXVkaW9CdWZmZXJTb3VyY2VOb2RlQ29uc3RydWN0b3IsIGJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciwgY2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciwgY2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yLCBjb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3RvciwgY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yLCBkZWNvZGVBdWRpb0RhdGEsIGRlbGF5Tm9kZUNvbnN0cnVjdG9yLCBkeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IsIGdhaW5Ob2RlQ29uc3RydWN0b3IsIGlJUkZpbHRlck5vZGVDb25zdHJ1Y3RvciwgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvciwgb3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciwgcGFubmVyTm9kZUNvbnN0cnVjdG9yLCBwZXJpb2RpY1dhdmVDb25zdHJ1Y3Rvciwgc3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yLCB3YXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yKTtcbmNvbnN0IG1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yID0gY3JlYXRlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZU5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IG1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgPSBjcmVhdGVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yKGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlRmFjdG9yeShjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IG1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IGNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvcihhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCk7XG5jb25zdCBhdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBjcmVhdGVVbmtub3duRXJyb3IsIG1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yLCBtZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciwgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpO1xuZXhwb3J0IHsgYXVkaW9Db250ZXh0Q29uc3RydWN0b3IgYXMgQXVkaW9Db250ZXh0IH07XG5jb25zdCBnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMgPSBjcmVhdGVHZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXModW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZSk7XG5jb25zdCBhZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSA9IGNyZWF0ZUFkZFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlKGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2Rlcyk7XG5jb25zdCBjb25uZWN0TXVsdGlwbGVPdXRwdXRzID0gY3JlYXRlQ29ubmVjdE11bHRpcGxlT3V0cHV0cyhjcmVhdGVJbmRleFNpemVFcnJvcik7XG5jb25zdCBkZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSA9IGNyZWF0ZURlbGV0ZVVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlKGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2Rlcyk7XG5jb25zdCBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzID0gY3JlYXRlRGlzY29ubmVjdE11bHRpcGxlT3V0cHV0cyhjcmVhdGVJbmRleFNpemVFcnJvcik7XG5jb25zdCBhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgZ2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyA9IGNyZWF0ZUdldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMoYWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0c1N0b3JlLCBnZXRWYWx1ZUZvcktleSk7XG5jb25zdCBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIgPSBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXJGYWN0b3J5KGNvbm5lY3RNdWx0aXBsZU91dHB1dHMsIGNyZWF0ZUluZGV4U2l6ZUVycm9yLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZSwgZ2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cywgbW9uaXRvckNvbm5lY3Rpb25zKTtcbmNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGUgPSBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFjdG9yeShjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIG1vbml0b3JDb25uZWN0aW9ucyk7XG5jb25zdCBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXIgPSBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXJGYWN0b3J5KGNvbm5lY3RBdWRpb1BhcmFtLCBjb25uZWN0TXVsdGlwbGVPdXRwdXRzLCBjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBkZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSwgZGlzY29ubmVjdE11bHRpcGxlT3V0cHV0cywgZXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbmNvbnN0IGdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSBjcmVhdGVHZXRCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0KGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZSk7XG5jb25zdCBzZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzID0gY3JlYXRlU2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyhhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUpO1xuLy8gVGhlIEF1ZGlvV29ya2xldE5vZGUgY29uc3RydWN0b3IgaXMgb25seSBhdmFpbGFibGUgaW4gYSBTZWN1cmVDb250ZXh0LlxuY29uc3QgYXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yID0gaXNTZWN1cmVDb250ZXh0XG4gICAgPyBjcmVhdGVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IoYWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUsIGF1ZGlvTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb1BhcmFtLCBjcmVhdGVBdWRpb1dvcmtsZXROb2RlUmVuZGVyZXIsIGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0LCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3Rvciwgc2FuaXRpemVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucywgc2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cywgdGVzdEF1ZGlvV29ya2xldE5vZGVPcHRpb25zQ2xvbmFiaWxpdHksIHdyYXBFdmVudExpc3RlbmVyKVxuICAgIDogdW5kZWZpbmVkO1xuZXhwb3J0IHsgYXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yIGFzIEF1ZGlvV29ya2xldE5vZGUgfTtcbmV4cG9ydCB7IGJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciBhcyBCaXF1YWRGaWx0ZXJOb2RlIH07XG5leHBvcnQgeyBjaGFubmVsTWVyZ2VyTm9kZUNvbnN0cnVjdG9yIGFzIENoYW5uZWxNZXJnZXJOb2RlIH07XG5leHBvcnQgeyBjaGFubmVsU3BsaXR0ZXJOb2RlQ29uc3RydWN0b3IgYXMgQ2hhbm5lbFNwbGl0dGVyTm9kZSB9O1xuZXhwb3J0IHsgY29udm9sdmVyTm9kZUNvbnN0cnVjdG9yIGFzIENvbnZvbHZlck5vZGUgfTtcbmV4cG9ydCB7IGNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yIGFzIENvbnN0YW50U291cmNlTm9kZSB9O1xuZXhwb3J0IHsgZGVsYXlOb2RlQ29uc3RydWN0b3IgYXMgRGVsYXlOb2RlIH07XG5leHBvcnQgeyBkeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IgYXMgRHluYW1pY3NDb21wcmVzc29yTm9kZSB9O1xuZXhwb3J0IHsgZ2Fpbk5vZGVDb25zdHJ1Y3RvciBhcyBHYWluTm9kZSB9O1xuZXhwb3J0IHsgaUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yIGFzIElJUkZpbHRlck5vZGUgfTtcbmV4cG9ydCB7IG1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIGFzIE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSB9O1xuZXhwb3J0IHsgbWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yIGFzIE1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUgfTtcbmV4cG9ydCB7IG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgYXMgTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgfTtcbmV4cG9ydCB7IG1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciBhcyBNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlIH07XG5jb25zdCBtaW5pbWFsQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPSBjcmVhdGVNaW5pbWFsQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBjcmVhdGVVbmtub3duRXJyb3IsIG1pbmltYWxCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKTtcbmV4cG9ydCB7IG1pbmltYWxBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciBhcyBNaW5pbWFsQXVkaW9Db250ZXh0IH07XG5jb25zdCBjcmVhdGVOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gY3JlYXRlQ3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKTtcbmNvbnN0IHN0YXJ0UmVuZGVyaW5nID0gY3JlYXRlU3RhcnRSZW5kZXJpbmcoYXVkaW9CdWZmZXJTdG9yZSwgY2FjaGVUZXN0UmVzdWx0LCBnZXRBdWRpb05vZGVSZW5kZXJlciwgZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcywgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMpO1xuY29uc3QgbWluaW1hbE9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IGNyZWF0ZU1pbmltYWxPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvciwgc3RhcnRSZW5kZXJpbmcpO1xuZXhwb3J0IHsgbWluaW1hbE9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciBhcyBNaW5pbWFsT2ZmbGluZUF1ZGlvQ29udGV4dCB9O1xuY29uc3Qgb2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gY3JlYXRlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgc3RhcnRSZW5kZXJpbmcpO1xuZXhwb3J0IHsgb2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIGFzIE9mZmxpbmVBdWRpb0NvbnRleHQgfTtcbmV4cG9ydCB7IG9zY2lsbGF0b3JOb2RlQ29uc3RydWN0b3IgYXMgT3NjaWxsYXRvck5vZGUgfTtcbmV4cG9ydCB7IHBhbm5lck5vZGVDb25zdHJ1Y3RvciBhcyBQYW5uZXJOb2RlIH07XG5leHBvcnQgeyBwZXJpb2RpY1dhdmVDb25zdHJ1Y3RvciBhcyBQZXJpb2RpY1dhdmUgfTtcbmV4cG9ydCB7IHN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3RvciBhcyBTdGVyZW9QYW5uZXJOb2RlIH07XG5leHBvcnQgeyB3YXZlU2hhcGVyTm9kZUNvbnN0cnVjdG9yIGFzIFdhdmVTaGFwZXJOb2RlIH07XG5leHBvcnQgY29uc3QgaXNBbnlBdWRpb0NvbnRleHQgPSBjcmVhdGVJc0FueUF1ZGlvQ29udGV4dChDT05URVhUX1NUT1JFLCBpc05hdGl2ZUF1ZGlvQ29udGV4dCk7XG5leHBvcnQgY29uc3QgaXNBbnlBdWRpb05vZGUgPSBjcmVhdGVJc0FueUF1ZGlvTm9kZShBVURJT19OT0RFX1NUT1JFLCBpc05hdGl2ZUF1ZGlvTm9kZSk7XG5leHBvcnQgY29uc3QgaXNBbnlBdWRpb1BhcmFtID0gY3JlYXRlSXNBbnlBdWRpb1BhcmFtKEFVRElPX1BBUkFNX1NUT1JFLCBpc05hdGl2ZUF1ZGlvUGFyYW0pO1xuZXhwb3J0IGNvbnN0IGlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCA9IGNyZWF0ZUlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dChDT05URVhUX1NUT1JFLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuZXhwb3J0IGNvbnN0IGlzU3VwcG9ydGVkID0gKCkgPT4gY3JlYXRlSXNTdXBwb3J0ZWRQcm9taXNlKGNhY2hlVGVzdFJlc3VsdCwgY3JlYXRlVGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzU3ViYXJyYXlTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RBdWRpb0NvbnRleHRDbG9zZU1ldGhvZFN1cHBvcnQobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0QXVkaW9Db250ZXh0RGVjb2RlQXVkaW9EYXRhTWV0aG9kVHlwZUVycm9yU3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0QXVkaW9Db250ZXh0T3B0aW9uc1N1cHBvcnQobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0QXVkaW9Ob2RlQ29ubmVjdE1ldGhvZFN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgY3JlYXRlVGVzdEF1ZGlvV29ya2xldFByb2Nlc3Nvck5vT3V0cHV0c1N1cHBvcnQobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0Q2hhbm5lbE1lcmdlck5vZGVDaGFubmVsQ291bnRTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RDb25zdGFudFNvdXJjZU5vZGVBY2N1cmF0ZVNjaGVkdWxpbmdTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciksIGNyZWF0ZVRlc3RDb252b2x2ZXJOb2RlQnVmZmVyUmVhc3NpZ25hYmlsaXR5U3VwcG9ydChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0Q29udm9sdmVyTm9kZUNoYW5uZWxDb3VudFN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgdGVzdERvbUV4Y2VwdGlvbkNvbnN0cnVjdG9yU3VwcG9ydCwgY3JlYXRlVGVzdElzU2VjdXJlQ29udGV4dFN1cHBvcnQod2luZG93KSwgY3JlYXRlVGVzdE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlTWVkaWFTdHJlYW1XaXRob3V0QXVkaW9UcmFja1N1cHBvcnQobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpLCBjcmVhdGVUZXN0U3RlcmVvUGFubmVyTm9kZURlZmF1bHRWYWx1ZVN1cHBvcnQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSwgdGVzdFRyYW5zZmVyYWJsZXNTdXBwb3J0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSAoaW5zZXJ0RWxlbWVudEluU2V0KSA9PiB7XG4gICAgcmV0dXJuIChhY3RpdmVJbnB1dHMsIHNvdXJjZSwgW291dHB1dCwgaW5wdXQsIGV2ZW50TGlzdGVuZXJdLCBpZ25vcmVEdXBsaWNhdGVzKSA9PiB7XG4gICAgICAgIGluc2VydEVsZW1lbnRJblNldChhY3RpdmVJbnB1dHNbaW5wdXRdLCBbc291cmNlLCBvdXRwdXQsIGV2ZW50TGlzdGVuZXJdLCAoYWN0aXZlSW5wdXRDb25uZWN0aW9uKSA9PiBhY3RpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IHNvdXJjZSAmJiBhY3RpdmVJbnB1dENvbm5lY3Rpb25bMV0gPT09IG91dHB1dCwgaWdub3JlRHVwbGljYXRlcyk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlID0gKGluc2VydEVsZW1lbnRJblNldCkgPT4ge1xuICAgIHJldHVybiAocGFzc2l2ZUlucHV0cywgaW5wdXQsIFtzb3VyY2UsIG91dHB1dCwgZXZlbnRMaXN0ZW5lcl0sIGlnbm9yZUR1cGxpY2F0ZXMpID0+IHtcbiAgICAgICAgY29uc3QgcGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMgPSBwYXNzaXZlSW5wdXRzLmdldChzb3VyY2UpO1xuICAgICAgICBpZiAocGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFzc2l2ZUlucHV0cy5zZXQoc291cmNlLCBuZXcgU2V0KFtbb3V0cHV0LCBpbnB1dCwgZXZlbnRMaXN0ZW5lcl1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRFbGVtZW50SW5TZXQocGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMsIFtvdXRwdXQsIGlucHV0LCBldmVudExpc3RlbmVyXSwgKHBhc3NpdmVJbnB1dENvbm5lY3Rpb24pID0+IHBhc3NpdmVJbnB1dENvbm5lY3Rpb25bMF0gPT09IG91dHB1dCAmJiBwYXNzaXZlSW5wdXRDb25uZWN0aW9uWzFdID09PSBpbnB1dCwgaWdub3JlRHVwbGljYXRlcyk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSAocGlja0VsZW1lbnRGcm9tU2V0KSA9PiB7XG4gICAgcmV0dXJuIChhY3RpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0LCBpbnB1dCkgPT4ge1xuICAgICAgICByZXR1cm4gcGlja0VsZW1lbnRGcm9tU2V0KGFjdGl2ZUlucHV0c1tpbnB1dF0sIChhY3RpdmVJbnB1dENvbm5lY3Rpb24pID0+IGFjdGl2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gc291cmNlICYmIGFjdGl2ZUlucHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS1hY3RpdmUtaW5wdXQtY29ubmVjdGlvbi10by1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRBdWRpb05vZGVUYWlsVGltZSA9IChhdWRpb05vZGVUYWlsVGltZVN0b3JlKSA9PiB7XG4gICAgcmV0dXJuIChhdWRpb05vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gYXVkaW9Ob2RlVGFpbFRpbWVTdG9yZS5nZXQoYXVkaW9Ob2RlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDsgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYXVkaW8tbm9kZS10YWlsLXRpbWUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUNhY2hlVGVzdFJlc3VsdCA9IChvbmdvaW5nVGVzdHMsIHRlc3RSZXN1bHRzKSA9PiB7XG4gICAgcmV0dXJuICh0ZXN0ZXIsIHRlc3QpID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVkVGVzdFJlc3VsdCA9IHRlc3RSZXN1bHRzLmdldCh0ZXN0ZXIpO1xuICAgICAgICBpZiAoY2FjaGVkVGVzdFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkVGVzdFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbmdvaW5nVGVzdCA9IG9uZ29pbmdUZXN0cy5nZXQodGVzdGVyKTtcbiAgICAgICAgaWYgKG9uZ29pbmdUZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvbmdvaW5nVGVzdDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3luY2hyb25vdXNUZXN0UmVzdWx0ID0gdGVzdCgpO1xuICAgICAgICAgICAgaWYgKHN5bmNocm9ub3VzVGVzdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBvbmdvaW5nVGVzdHMuc2V0KHRlc3Rlciwgc3luY2hyb25vdXNUZXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY2hyb25vdXNUZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGZpbmFsVGVzdFJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbmdvaW5nVGVzdHMuZGVsZXRlKHRlc3Rlcik7XG4gICAgICAgICAgICAgICAgICAgIHRlc3RSZXN1bHRzLnNldCh0ZXN0ZXIsIGZpbmFsVGVzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5hbFRlc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXN0UmVzdWx0cy5zZXQodGVzdGVyLCBzeW5jaHJvbm91c1Rlc3RSZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHN5bmNocm9ub3VzVGVzdFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICB0ZXN0UmVzdWx0cy5zZXQodGVzdGVyLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlLXRlc3QtcmVzdWx0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVXaW5kb3cgPSAoKSA9PiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogd2luZG93KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvdy5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24gfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb24nO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuaW1wb3J0IHsgdGVzdEFuYWx5c2VyTm9kZUdldEZsb2F0VGltZURvbWFpbkRhdGFNZXRob2RTdXBwb3J0IH0gZnJvbSAnLi4vaGVscGVycy90ZXN0LWFuYWx5c2VyLW5vZGUtZ2V0LWZsb2F0LXRpbWUtZG9tYWluLWRhdGEtbWV0aG9kLXN1cHBvcnQnO1xuaW1wb3J0IHsgd3JhcEFuYWx5c2VyTm9kZUdldEZsb2F0VGltZURvbWFpbkRhdGFNZXRob2QgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYW5hbHlzZXItbm9kZS1nZXQtZmxvYXQtdGltZS1kb21haW4tZGF0YS1tZXRob2QnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZUZhY3RvcnkgPSAoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVJbmRleFNpemVFcnJvcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVBbmFseXNlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgIC8vIEJ1ZyAjMzc6IEZpcmVmb3ggZG9lcyBub3QgY3JlYXRlIGFuIEFuYWx5c2VyTm9kZSB3aXRoIHRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlQW5hbHlzZXJOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgLy8gQnVnICMxMTg6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciBpZiBtYXhEZWNpYmVscyBpcyBub3QgbW9yZSB0aGFuIG1pbkRlY2liZWxzLlxuICAgICAgICBpZiAoIShvcHRpb25zLm1heERlY2liZWxzID4gb3B0aW9ucy5taW5EZWNpYmVscykpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUFuYWx5c2VyTm9kZSwgb3B0aW9ucywgJ2ZmdFNpemUnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUFuYWx5c2VyTm9kZSwgb3B0aW9ucywgJ21heERlY2liZWxzJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBbmFseXNlck5vZGUsIG9wdGlvbnMsICdtaW5EZWNpYmVscycpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlQW5hbHlzZXJOb2RlLCBvcHRpb25zLCAnc21vb3RoaW5nVGltZUNvbnN0YW50Jyk7XG4gICAgICAgIC8vIEJ1ZyAjMzY6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGdldEZsb2F0VGltZURvbWFpbkRhdGEoKSB5ZXQuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBbmFseXNlck5vZGVHZXRGbG9hdFRpbWVEb21haW5EYXRhTWV0aG9kU3VwcG9ydCwgKCkgPT4gdGVzdEFuYWx5c2VyTm9kZUdldEZsb2F0VGltZURvbWFpbkRhdGFNZXRob2RTdXBwb3J0KG5hdGl2ZUFuYWx5c2VyTm9kZSkpKSB7XG4gICAgICAgICAgICB3cmFwQW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZChuYXRpdmVBbmFseXNlck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXRpdmVBbmFseXNlck5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYW5hbHlzZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCB3cmFwQW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZCA9IChuYXRpdmVBbmFseXNlck5vZGUpID0+IHtcbiAgICBuYXRpdmVBbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSA9IChhcnJheSkgPT4ge1xuICAgICAgICBjb25zdCBieXRlVGltZURvbWFpbkRhdGEgPSBuZXcgVWludDhBcnJheShhcnJheS5sZW5ndGgpO1xuICAgICAgICBuYXRpdmVBbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGJ5dGVUaW1lRG9tYWluRGF0YSk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KGJ5dGVUaW1lRG9tYWluRGF0YS5sZW5ndGgsIG5hdGl2ZUFuYWx5c2VyTm9kZS5mZnRTaXplKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSAoYnl0ZVRpbWVEb21haW5EYXRhW2ldIC0gMTI4KSAqIDAuMDA3ODEyNTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWFuYWx5c2VyLW5vZGUtZ2V0LWZsb2F0LXRpbWUtZG9tYWluLWRhdGEtbWV0aG9kLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRBdWRpb05vZGVSZW5kZXJlciA9IChnZXRBdWRpb05vZGVDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAoYXVkaW9Ob2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvTm9kZUNvbm5lY3Rpb25zID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoYXVkaW9Ob2RlKTtcbiAgICAgICAgaWYgKGF1ZGlvTm9kZUNvbm5lY3Rpb25zLnJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIHJlbmRlcmVyIG9mIHRoZSBnaXZlbiBBdWRpb05vZGUgaW4gdGhlIGF1ZGlvIGdyYXBoLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdWRpb05vZGVDb25uZWN0aW9ucy5yZW5kZXJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hdWRpby1ub2RlLXJlbmRlcmVyLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSA9IChnZXRBdWRpb05vZGVDb25uZWN0aW9ucywgZ2V0QXVkaW9Ob2RlUmVuZGVyZXIsIGlzUGFydE9mQUN5Y2xlKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jIChhdWRpb05vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb05vZGVDb25uZWN0aW9ucyA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGF1ZGlvTm9kZSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGF1ZGlvTm9kZUNvbm5lY3Rpb25zLmFjdGl2ZUlucHV0c1xuICAgICAgICAgICAgLm1hcCgoY29ubmVjdGlvbnMsIGlucHV0KSA9PiBBcnJheS5mcm9tKGNvbm5lY3Rpb25zKS5tYXAoYXN5bmMgKFtzb3VyY2UsIG91dHB1dF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvTm9kZVJlbmRlcmVyID0gZ2V0QXVkaW9Ob2RlUmVuZGVyZXIoc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlID0gYXdhaXQgYXVkaW9Ob2RlUmVuZGVyZXIucmVuZGVyKHNvdXJjZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGF1ZGlvTm9kZS5jb250ZXh0LmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKCFpc1BhcnRPZkFDeWNsZShzb3VyY2UpICYmIChhdWRpb05vZGUgIT09IGRlc3RpbmF0aW9uIHx8ICFpc1BhcnRPZkFDeWNsZShhdWRpb05vZGUpKSkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QobmF0aXZlQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgICAgICAucmVkdWNlKChhbGxSZW5kZXJpbmdQcm9taXNlcywgcmVuZGVyaW5nUHJvbWlzZXMpID0+IFsuLi5hbGxSZW5kZXJpbmdQcm9taXNlcywgLi4ucmVuZGVyaW5nUHJvbWlzZXNdLCBbXSkpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLWlucHV0cy1vZi1hdWRpby1ub2RlLmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUFuYWx5c2VyTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUFuYWx5c2VyTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb25zdCBjcmVhdGVBbmFseXNlck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVBbmFseXNlck5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZUFuYWx5c2VyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUFuYWx5c2VyTm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZUFuYWx5c2VyTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUFuYWx5c2VyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZUFuYWx5c2VyTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUFuYWx5c2VyTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUFuYWx5c2VyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGZmdFNpemU6IG5hdGl2ZUFuYWx5c2VyTm9kZS5mZnRTaXplLFxuICAgICAgICAgICAgICAgICAgICBtYXhEZWNpYmVsczogbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzLFxuICAgICAgICAgICAgICAgICAgICBtaW5EZWNpYmVsczogbmF0aXZlQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzLFxuICAgICAgICAgICAgICAgICAgICBzbW9vdGhpbmdUaW1lQ29uc3RhbnQ6IG5hdGl2ZUFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUFuYWx5c2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQW5hbHlzZXJOb2RlKTtcbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBbmFseXNlck5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUFuYWx5c2VyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2RlID0gcmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVBbmFseXNlck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFuYWx5c2VyTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmFseXNlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IgfSBmcm9tICcuL2ludmFsaWQtc3RhdGUtZXJyb3InO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdldE5hdGl2ZUNvbnRleHQgPSAoY29udGV4dFN0b3JlKSA9PiB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBjb250ZXh0U3RvcmUuZ2V0KGNvbnRleHQpO1xuICAgICAgICBpZiAobmF0aXZlQ29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobmF0aXZlQ29udGV4dCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtbmF0aXZlLWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9ICh3aW5kb3cpID0+IHtcbiAgICBpZiAod2luZG93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAod2luZG93Lmhhc093blByb3BlcnR5KCdPZmZsaW5lQXVkaW9Db250ZXh0JykpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93Lmhhc093blByb3BlcnR5KCd3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0JykgPyB3aW5kb3cud2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dCA6IG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLW9mZmxpbmUtYXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiAoYW55dGhpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiBhbnl0aGluZyBpbnN0YW5jZW9mIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUV2ZW50VGFyZ2V0Q29uc3RydWN0b3IgPSAod3JhcEV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgRXZlbnRUYXJnZXQge1xuICAgICAgICBjb25zdHJ1Y3RvcihfbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0ID0gX25hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlZEV2ZW50TGlzdGVuZXIgPSB0aGlzLl9saXN0ZW5lcnMuZ2V0KGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHBlZEV2ZW50TGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXZlbnRMaXN0ZW5lciA9IHdyYXBFdmVudExpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldChsaXN0ZW5lciwgd3JhcHBlZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgd3JhcHBlZEV2ZW50TGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVFdmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkRXZlbnRMaXN0ZW5lciA9IGxpc3RlbmVyID09PSBudWxsID8gdW5kZWZpbmVkIDogdGhpcy5fbGlzdGVuZXJzLmdldChsaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVFdmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHdyYXBwZWRFdmVudExpc3RlbmVyID09PSB1bmRlZmluZWQgPyBudWxsIDogd3JhcHBlZEV2ZW50TGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC10YXJnZXQtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKHdpbmRvdykgPT4ge1xuICAgIGlmICh3aW5kb3cgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuaGFzT3duUHJvcGVydHkoJ0F1ZGlvQ29udGV4dCcpKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQXVkaW9Db250ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93Lmhhc093blByb3BlcnR5KCd3ZWJraXRBdWRpb0NvbnRleHQnKSA/IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQgOiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc05hdGl2ZUF1ZGlvQ29udGV4dCA9IChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiAoYW55dGhpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yICE9PSBudWxsICYmIGFueXRoaW5nIGluc3RhbmNlb2YgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3I7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1uYXRpdmUtYXVkaW8tY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNOYXRpdmVBdWRpb05vZGUgPSAod2luZG93KSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93ICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3cuQXVkaW9Ob2RlID09PSAnZnVuY3Rpb24nICYmIGFueXRoaW5nIGluc3RhbmNlb2Ygd2luZG93LkF1ZGlvTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW5hdGl2ZS1hdWRpby1ub2RlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc05hdGl2ZUF1ZGlvUGFyYW0gPSAod2luZG93KSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93ICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3cuQXVkaW9QYXJhbSA9PT0gJ2Z1bmN0aW9uJyAmJiBhbnl0aGluZyBpbnN0YW5jZW9mIHdpbmRvdy5BdWRpb1BhcmFtO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtbmF0aXZlLWF1ZGlvLXBhcmFtLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPSAod2luZG93KSA9PiB7XG4gICAgaWYgKHdpbmRvdyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnQXVkaW9Xb3JrbGV0Tm9kZScpID8gd2luZG93LkF1ZGlvV29ya2xldE5vZGUgOiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgcGlja0VsZW1lbnRGcm9tU2V0IH0gZnJvbSAnLi9waWNrLWVsZW1lbnQtZnJvbS1zZXQnO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSA9IChhY3RpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0KSA9PiB7XG4gICAgcmV0dXJuIHBpY2tFbGVtZW50RnJvbVNldChhY3RpdmVJbnB1dHMsIChhY3RpdmVJbnB1dENvbm5lY3Rpb24pID0+IGFjdGl2ZUlucHV0Q29ubmVjdGlvblswXSA9PT0gc291cmNlICYmIGFjdGl2ZUlucHV0Q29ubmVjdGlvblsxXSA9PT0gb3V0cHV0KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGUtYWN0aXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tcGFyYW0uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUFkZEF1ZGlvTm9kZUNvbm5lY3Rpb25zID0gKGF1ZGlvTm9kZUNvbm5lY3Rpb25zU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvTm9kZSwgYXVkaW9Ob2RlUmVuZGVyZXIsIG5hdGl2ZUF1ZGlvTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBhY3RpdmVJbnB1dHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYXRpdmVBdWRpb05vZGUubnVtYmVyT2ZJbnB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgYWN0aXZlSW5wdXRzLnB1c2gobmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBhdWRpb05vZGVDb25uZWN0aW9uc1N0b3JlLnNldChhdWRpb05vZGUsIHtcbiAgICAgICAgICAgIGFjdGl2ZUlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBhc3NpdmVJbnB1dHM6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICByZW5kZXJlcjogYXVkaW9Ob2RlUmVuZGVyZXJcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGQtYXVkaW8tbm9kZS1jb25uZWN0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBkZWxldGVQYXNzaXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUgfSBmcm9tICcuLi9oZWxwZXJzL2RlbGV0ZS1wYXNzaXZlLWlucHV0LWNvbm5lY3Rpb24tdG8tYXVkaW8tbm9kZSc7XG5pbXBvcnQgeyBzZXRJbnRlcm5hbFN0YXRlVG9BY3RpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1hY3RpdmUnO1xuaW1wb3J0IHsgc2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZVdoZW5OZWNlc3NhcnkgfSBmcm9tICcuLi9oZWxwZXJzL3NldC1pbnRlcm5hbC1zdGF0ZS10by1wYXNzaXZlLXdoZW4tbmVjZXNzYXJ5JztcbmV4cG9ydCBjb25zdCBjcmVhdGVBZGRDb25uZWN0aW9uVG9BdWRpb05vZGUgPSAoYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUsIGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlLCBkZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSwgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXRBdWRpb05vZGVUYWlsVGltZSwgZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBpbnNlcnRFbGVtZW50SW5TZXQsIGlzQWN0aXZlQXVkaW9Ob2RlLCBpc1BhcnRPZkFDeWNsZSwgaXNQYXNzaXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgY29uc3QgdGFpbFRpbWVUaW1lb3V0SWRzID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gKHNvdXJjZSwgZGVzdGluYXRpb24sIG91dHB1dCwgaW5wdXQsIGlzT2ZmbGluZSkgPT4ge1xuICAgICAgICBjb25zdCB7IGFjdGl2ZUlucHV0cywgcGFzc2l2ZUlucHV0cyB9ID0gZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMoZGVzdGluYXRpb24pO1xuICAgICAgICBjb25zdCB7IG91dHB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKHNvdXJjZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZShzb3VyY2UpO1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyID0gKGlzQWN0aXZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVTb3VyY2VBdWRpb05vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUoc291cmNlKTtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxDb25uZWN0aW9uID0gZGVsZXRlUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlKHBhc3NpdmVJbnB1dHMsIHNvdXJjZSwgb3V0cHV0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUoYWN0aXZlSW5wdXRzLCBzb3VyY2UsIHBhcnRpYWxDb25uZWN0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09mZmxpbmUgJiYgIWlzUGFydE9mQUN5Y2xlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlKG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSwgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNQYXNzaXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9BY3RpdmUoZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxDb25uZWN0aW9uID0gZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUoYWN0aXZlSW5wdXRzLCBzb3VyY2UsIG91dHB1dCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgIGFkZFBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZShwYXNzaXZlSW5wdXRzLCBpbnB1dCwgcGFydGlhbENvbm5lY3Rpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2ZmbGluZSAmJiAhaXNQYXJ0T2ZBQ3ljbGUoc291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZShuYXRpdmVTb3VyY2VBdWRpb05vZGUsIG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGFpbFRpbWUgPSBnZXRBdWRpb05vZGVUYWlsVGltZShkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRhaWxUaW1lID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5KGRlc3RpbmF0aW9uLCBhY3RpdmVJbnB1dHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsVGltZVRpbWVvdXRJZCA9IHRhaWxUaW1lVGltZW91dElkcy5nZXQoZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFpbFRpbWVUaW1lb3V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRhaWxUaW1lVGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0YWlsVGltZVRpbWVvdXRJZHMuc2V0KGRlc3RpbmF0aW9uLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUF1ZGlvTm9kZShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlV2hlbk5lY2Vzc2FyeShkZXN0aW5hdGlvbiwgYWN0aXZlSW5wdXRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGFpbFRpbWUgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5zZXJ0RWxlbWVudEluU2V0KG91dHB1dHMsIFtkZXN0aW5hdGlvbiwgb3V0cHV0LCBpbnB1dF0sIChvdXRwdXRDb25uZWN0aW9uKSA9PiBvdXRwdXRDb25uZWN0aW9uWzBdID09PSBkZXN0aW5hdGlvbiAmJiBvdXRwdXRDb25uZWN0aW9uWzFdID09PSBvdXRwdXQgJiYgb3V0cHV0Q29ubmVjdGlvblsyXSA9PT0gaW5wdXQsIHRydWUpKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVycy5hZGQoZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmVBdWRpb05vZGUoc291cmNlKSkge1xuICAgICAgICAgICAgICAgIGFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlKGFjdGl2ZUlucHV0cywgc291cmNlLCBbb3V0cHV0LCBpbnB1dCwgZXZlbnRMaXN0ZW5lcl0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlKHBhc3NpdmVJbnB1dHMsIGlucHV0LCBbc291cmNlLCBvdXRwdXQsIGV2ZW50TGlzdGVuZXJdLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1jb25uZWN0aW9uLXRvLWF1ZGlvLW5vZGUuanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uIH0gZnJvbSAnLi4vZ3VhcmRzL2F1ZGlvLW5vZGUtb3V0cHV0LWNvbm5lY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUluY3JlbWVudEN5Y2xlQ291bnRlckZhY3RvcnkgPSAoY3ljbGVDb3VudGVycywgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZUZyb21OYXRpdmVBdWRpb05vZGUsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXROYXRpdmVBdWRpb05vZGUsIGdldE5hdGl2ZUF1ZGlvUGFyYW0sIGlzQWN0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIChpc09mZmxpbmUpID0+IHtcbiAgICAgICAgcmV0dXJuIChhdWRpb05vZGUsIGNvdW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjeWNsZUNvdW50ZXIgPSBjeWNsZUNvdW50ZXJzLmdldChhdWRpb05vZGUpO1xuICAgICAgICAgICAgaWYgKGN5Y2xlQ291bnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09mZmxpbmUgJiYgaXNBY3RpdmVBdWRpb05vZGUoYXVkaW9Ob2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVTb3VyY2VBdWRpb05vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUoYXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBvdXRwdXRzIH0gPSBnZXRBdWRpb05vZGVDb25uZWN0aW9ucyhhdWRpb05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBvdXRwdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uKG91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShvdXRwdXRbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb05vZGVGcm9tTmF0aXZlQXVkaW9Ob2RlKG5hdGl2ZVNvdXJjZUF1ZGlvTm9kZSwgbmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUsIG91dHB1dFsxXSwgb3V0cHV0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9QYXJhbSA9IGdldE5hdGl2ZUF1ZGlvUGFyYW0ob3V0cHV0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVTb3VyY2VBdWRpb05vZGUuZGlzY29ubmVjdChuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvUGFyYW0sIG91dHB1dFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3ljbGVDb3VudGVycy5zZXQoYXVkaW9Ob2RlLCBjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjeWNsZUNvdW50ZXJzLnNldChhdWRpb05vZGUsIGN5Y2xlQ291bnRlciArIGNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluY3JlbWVudC1jeWNsZS1jb3VudGVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uIH0gZnJvbSAnLi4vZ3VhcmRzL2F1ZGlvLW5vZGUtb3V0cHV0LWNvbm5lY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURlY3JlbWVudEN5Y2xlQ291bnRlciA9IChjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUsIGN5Y2xlQ291bnRlcnMsIGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zLCBnZXROYXRpdmVBdWRpb05vZGUsIGdldE5hdGl2ZUF1ZGlvUGFyYW0sIGdldE5hdGl2ZUNvbnRleHQsIGlzQWN0aXZlQXVkaW9Ob2RlLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvTm9kZSwgY291bnQpID0+IHtcbiAgICAgICAgY29uc3QgY3ljbGVDb3VudGVyID0gY3ljbGVDb3VudGVycy5nZXQoYXVkaW9Ob2RlKTtcbiAgICAgICAgaWYgKGN5Y2xlQ291bnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIGV4cGVjdGVkIGN5Y2xlIGNvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBnZXROYXRpdmVDb250ZXh0KGF1ZGlvTm9kZS5jb250ZXh0KTtcbiAgICAgICAgY29uc3QgaXNPZmZsaW5lID0gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpO1xuICAgICAgICBpZiAoY3ljbGVDb3VudGVyID09PSBjb3VudCkge1xuICAgICAgICAgICAgY3ljbGVDb3VudGVycy5kZWxldGUoYXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIGlmICghaXNPZmZsaW5lICYmIGlzQWN0aXZlQXVkaW9Ob2RlKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVTb3VyY2VBdWRpb05vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUoYXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG91dHB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGF1ZGlvTm9kZSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvdXRwdXQgb2Ygb3V0cHV0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uKG91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlc3RpbmF0aW9uQXVkaW9Ob2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKG91dHB1dFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0TmF0aXZlQXVkaW9Ob2RlVG9OYXRpdmVBdWRpb05vZGUobmF0aXZlU291cmNlQXVkaW9Ob2RlLCBuYXRpdmVEZXN0aW5hdGlvbkF1ZGlvTm9kZSwgb3V0cHV0WzFdLCBvdXRwdXRbMl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRGVzdGluYXRpb25BdWRpb1BhcmFtID0gZ2V0TmF0aXZlQXVkaW9QYXJhbShvdXRwdXRbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlU291cmNlQXVkaW9Ob2RlLmNvbm5lY3QobmF0aXZlRGVzdGluYXRpb25BdWRpb1BhcmFtLCBvdXRwdXRbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3ljbGVDb3VudGVycy5zZXQoYXVkaW9Ob2RlLCBjeWNsZUNvdW50ZXIgLSBjb3VudCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY3JlbWVudC1jeWNsZS1jb3VudGVyLmpzLm1hcCIsImltcG9ydCB7IGlzQXVkaW9Ob2RlIH0gZnJvbSAnLi4vZ3VhcmRzL2F1ZGlvLW5vZGUnO1xuaW1wb3J0IHsgaXNEZWxheU5vZGUgfSBmcm9tICcuLi9ndWFyZHMvZGVsYXktbm9kZSc7XG5leHBvcnQgY29uc3QgY3JlYXRlRGV0ZWN0Q3ljbGVzID0gKGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSwgZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMsIGdldFZhbHVlRm9yS2V5KSA9PiB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRldGVjdEN5Y2xlcyhjaGFpbiwgbmV4dExpbmspIHtcbiAgICAgICAgY29uc3QgYXVkaW9Ob2RlID0gaXNBdWRpb05vZGUobmV4dExpbmspID8gbmV4dExpbmsgOiBnZXRWYWx1ZUZvcktleShhdWRpb1BhcmFtQXVkaW9Ob2RlU3RvcmUsIG5leHRMaW5rKTtcbiAgICAgICAgaWYgKGlzRGVsYXlOb2RlKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhaW5bMF0gPT09IGF1ZGlvTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtjaGFpbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYWluLmluY2x1ZGVzKGF1ZGlvTm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG91dHB1dHMgfSA9IGdldEF1ZGlvTm9kZUNvbm5lY3Rpb25zKGF1ZGlvTm9kZSk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG91dHB1dHMpXG4gICAgICAgICAgICAubWFwKChvdXRwdXRDb25uZWN0aW9uKSA9PiBkZXRlY3RDeWNsZXMoWy4uLmNoYWluLCBhdWRpb05vZGVdLCBvdXRwdXRDb25uZWN0aW9uWzBdKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKG1lcmdlZEN5Y2xlcywgbmVzdGVkQ3ljbGVzKSA9PiBtZXJnZWRDeWNsZXMuY29uY2F0KG5lc3RlZEN5Y2xlcyksIFtdKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVjdC1jeWNsZXMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGlzRGVsYXlOb2RlID0gKGF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAnZGVsYXlUaW1lJyBpbiBhdWRpb05vZGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXktbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciA9ICh3aW5kb3cpID0+IHtcbiAgICBpZiAod2luZG93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAod2luZG93Lmhhc093blByb3BlcnR5KCdBdWRpb0J1ZmZlcicpKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQXVkaW9CdWZmZXI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1hdWRpby1idWZmZXItY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyA9ICh1bml0MzJBcnJheSkgPT4ge1xuICAgIHJldHVybiAodmFsdWUpID0+IHtcbiAgICAgICAgdW5pdDMyQXJyYXlbMF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHVuaXQzMkFycmF5WzBdO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udmVydC1udW1iZXItdG8tdW5zaWduZWQtbG9uZy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlV3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzID0gKGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZywgY3JlYXRlSW5kZXhTaXplRXJyb3IpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICAgIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCA9IChkZXN0aW5hdGlvbiwgY2hhbm5lbE51bWJlckFzTnVtYmVyLCBidWZmZXJPZmZzZXRBc051bWJlciA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlck9mZnNldCA9IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhidWZmZXJPZmZzZXRBc051bWJlcik7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsTnVtYmVyID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGNoYW5uZWxOdW1iZXJBc051bWJlcik7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbE51bWJlciA+PSBhdWRpb0J1ZmZlci5udW1iZXJPZkNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyTGVuZ3RoID0gYXVkaW9CdWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uTGVuZ3RoID0gZGVzdGluYXRpb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGJ1ZmZlck9mZnNldCA8IDAgPyAtYnVmZmVyT2Zmc2V0IDogMDsgaSArIGJ1ZmZlck9mZnNldCA8IGF1ZGlvQnVmZmVyTGVuZ3RoICYmIGkgPCBkZXN0aW5hdGlvbkxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25baV0gPSBjaGFubmVsRGF0YVtpICsgYnVmZmVyT2Zmc2V0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbCA9IChzb3VyY2UsIGNoYW5uZWxOdW1iZXJBc051bWJlciwgYnVmZmVyT2Zmc2V0QXNOdW1iZXIgPSAwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJPZmZzZXQgPSBjb252ZXJ0TnVtYmVyVG9VbnNpZ25lZExvbmcoYnVmZmVyT2Zmc2V0QXNOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbE51bWJlciA9IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhjaGFubmVsTnVtYmVyQXNOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxOdW1iZXIgPj0gYXVkaW9CdWZmZXIubnVtYmVyT2ZDaGFubmVscykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlckxlbmd0aCA9IGF1ZGlvQnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbE51bWJlcik7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VMZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGJ1ZmZlck9mZnNldCA8IDAgPyAtYnVmZmVyT2Zmc2V0IDogMDsgaSArIGJ1ZmZlck9mZnNldCA8IGF1ZGlvQnVmZmVyTGVuZ3RoICYmIGkgPCBzb3VyY2VMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxEYXRhW2kgKyBidWZmZXJPZmZzZXRdID0gc291cmNlW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzID0gKGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZykgPT4ge1xuICAgIHJldHVybiAoYXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgYXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsID0gKChjb3B5RnJvbUNoYW5uZWwpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoZGVzdGluYXRpb24sIGNoYW5uZWxOdW1iZXJBc051bWJlciwgYnVmZmVyT2Zmc2V0QXNOdW1iZXIgPSAwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyT2Zmc2V0ID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGJ1ZmZlck9mZnNldEFzTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsTnVtYmVyID0gY29udmVydE51bWJlclRvVW5zaWduZWRMb25nKGNoYW5uZWxOdW1iZXJBc051bWJlcik7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlck9mZnNldCA8IGF1ZGlvQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29weUZyb21DaGFubmVsLmNhbGwoYXVkaW9CdWZmZXIsIGRlc3RpbmF0aW9uLCBjaGFubmVsTnVtYmVyLCBidWZmZXJPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCk7XG4gICAgICAgIGF1ZGlvQnVmZmVyLmNvcHlUb0NoYW5uZWwgPSAoKGNvcHlUb0NoYW5uZWwpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoc291cmNlLCBjaGFubmVsTnVtYmVyQXNOdW1iZXIsIGJ1ZmZlck9mZnNldEFzTnVtYmVyID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlck9mZnNldCA9IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhidWZmZXJPZmZzZXRBc051bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbE51bWJlciA9IGNvbnZlcnROdW1iZXJUb1Vuc2lnbmVkTG9uZyhjaGFubmVsTnVtYmVyQXNOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXJPZmZzZXQgPCBhdWRpb0J1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcHlUb0NoYW5uZWwuY2FsbChhdWRpb0J1ZmZlciwgc291cmNlLCBjaGFubmVsTnVtYmVyLCBidWZmZXJPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKGF1ZGlvQnVmZmVyLmNvcHlUb0NoYW5uZWwpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1idWZmZXItY29weS1jaGFubmVsLW1ldGhvZHMtb3V0LW9mLWJvdW5kcy5qcy5tYXAiLCIvLyBCdWcgIzMzOiBTYWZhcmkgZXhwb3NlcyBhbiBBdWRpb0J1ZmZlciBidXQgaXQgY2FuJ3QgYmUgdXNlZCBhcyBhIGNvbnN0cnVjdG9yLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCA9IChuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IG5hdGl2ZUF1ZGlvQnVmZmVyQ29uc3RydWN0b3IoeyBsZW5ndGg6IDEsIHNhbXBsZVJhdGU6IDQ0MTAwIH0pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1idWZmZXItY29uc3RydWN0b3Itc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQWRkU2lsZW50Q29ubmVjdGlvbiA9IChjcmVhdGVOYXRpdmVHYWluTm9kZSkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgIGdhaW46IDBcbiAgICAgICAgfSk7XG4gICAgICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5jb25uZWN0KG5hdGl2ZUdhaW5Ob2RlKS5jb25uZWN0KG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgbmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZGlzY29ubmVjdCk7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUuZGlzY29ubmVjdChuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICBuYXRpdmVHYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgICAgIG5hdGl2ZUF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGRpc2Nvbm5lY3QpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLXNpbGVudC1jb25uZWN0aW9uLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVSZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0gPSAoZ2V0QXVkaW9Ob2RlUmVuZGVyZXIsIGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucywgaXNQYXJ0T2ZBQ3ljbGUpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGF1ZGlvUGFyYW0sIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvUGFyYW0pID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9QYXJhbUNvbm5lY3Rpb25zID0gZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zKGF1ZGlvUGFyYW0pO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChBcnJheS5mcm9tKGF1ZGlvUGFyYW1Db25uZWN0aW9ucy5hY3RpdmVJbnB1dHMpLm1hcChhc3luYyAoW3NvdXJjZSwgb3V0cHV0XSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9Ob2RlUmVuZGVyZXIgPSBnZXRBdWRpb05vZGVSZW5kZXJlcihzb3VyY2UpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGUgPSBhd2FpdCBhdWRpb05vZGVSZW5kZXJlci5yZW5kZXIoc291cmNlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghaXNQYXJ0T2ZBQ3ljbGUoc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlLmNvbm5lY3QobmF0aXZlQXVkaW9QYXJhbSwgb3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLWlucHV0cy1vZi1hdWRpby1wYXJhbS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQ29ubmVjdEF1ZGlvUGFyYW0gPSAocmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBhdWRpb1BhcmFtLCBuYXRpdmVBdWRpb1BhcmFtKSA9PiB7XG4gICAgICAgIHJldHVybiByZW5kZXJJbnB1dHNPZkF1ZGlvUGFyYW0oYXVkaW9QYXJhbSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9QYXJhbSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LWF1ZGlvLXBhcmFtLmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbic7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RDb25zZWN1dGl2ZUNhbGxzIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLXNjaGVkdWxlZC1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5pbXBvcnQgeyB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbmVnYXRpdmUtcGFyYW1ldGVycyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeSA9IChhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0LCB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZ1N1cHBvcnQsIHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCB3cmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGxpbmcsIHdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyLCB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBvcHRpb25zLCAncGxheWJhY2tSYXRlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMsICdidWZmZXInKTtcbiAgICAgICAgLy8gQnVnICMxNDk6IFNhZmFyaSBkb2VzIG5vdCB5ZXQgc3VwcG9ydCB0aGUgZGV0dW5lIEF1ZGlvUGFyYW0uXG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMsICdsb29wJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMsICdsb29wRW5kJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIG9wdGlvbnMsICdsb29wU3RhcnQnKTtcbiAgICAgICAgLy8gQnVnICM2OTogU2FmYXJpIGRvZXMgYWxsb3cgY2FsbHMgdG8gc3RhcnQoKSBvZiBhbiBhbHJlYWR5IHNjaGVkdWxlZCBBdWRpb0J1ZmZlclNvdXJjZU5vZGUuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE1NCAmICMxNTU6IFNhZmFyaSBkb2VzIG5vdCBoYW5kbGUgb2Zmc2V0cyB3aGljaCBhcmUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIHRoZSBkdXJhdGlvbiBvZiB0aGUgYnVmZmVyLlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RhcnRNZXRob2RPZmZzZXRDbGFtcGluZ1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1waW5nU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZE9mZnNldENsYW1wbGluZyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTYyOiBTYWZhcmkgZG9lcyB0aHJvdyBhbiBlcnJvciB3aGVuIHN0b3AoKSBpcyBjYWxsZWQgb24gYW4gQXVkaW9CdWZmZXJTb3VyY2VOb2RlIHdoaWNoIGhhcyBubyBidWZmZXIgYXNzaWduZWQgdG8gaXQuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXIobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzQ0OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYSBSYW5nZUVycm9yIHlldC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTk6IFNhZmFyaSBkb2VzIG5vdCBpZ25vcmUgY2FsbHMgdG8gc3RvcCgpIG9mIGFuIGFscmVhZHkgc3RvcHBlZCBBdWRpb0J1ZmZlclNvdXJjZU5vZGUuXG4gICAgICAgIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzQ0OiBPbmx5IEZpcmVmb3ggZG9lcyBub3QgdGhyb3cgYSBSYW5nZUVycm9yIHlldC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTc1OiBTYWZhcmkgd2lsbCBub3QgZmlyZSBhbiBlbmRlZCBldmVudCBpZiB0aGUgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGlzIHVuY29ubmVjdGVkLlxuICAgICAgICBhZGRTaWxlbnRDb25uZWN0aW9uKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgIHJldHVybiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IgfSBmcm9tICcuLi9mYWN0b3JpZXMvaW52YWxpZC1zdGF0ZS1lcnJvcic7XG5leHBvcnQgY29uc3Qgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxscyA9IChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUpID0+IHtcbiAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQgPSAoKHN0YXJ0KSA9PiB7XG4gICAgICAgIGxldCBpc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gKHdoZW4gPSAwLCBvZmZzZXQgPSAwLCBkdXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKGlzU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0LmNhbGwobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB3aGVuLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGlzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtYXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXN0YXJ0LW1ldGhvZC1jb25zZWN1dGl2ZS1jYWxscy5qcy5tYXAiLCJleHBvcnQgY29uc3Qgd3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmcgPSAobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKSA9PiB7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0ID0gKChzdGFydCkgPT4ge1xuICAgICAgICByZXR1cm4gKHdoZW4gPSAwLCBvZmZzZXQgPSAwLCBkdXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlcjtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTU0OiBTYWZhcmkgZG9lcyBub3QgY2xhbXAgdGhlIG9mZnNldCBpZiBpdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIGR1cmF0aW9uIG9mIHRoZSBidWZmZXIuXG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkT2Zmc2V0ID0gYnVmZmVyID09PSBudWxsID8gb2Zmc2V0IDogTWF0aC5taW4oYnVmZmVyLmR1cmF0aW9uLCBvZmZzZXQpO1xuICAgICAgICAgICAgLy8gQnVnICMxNTU6IFNhZmFyaSBkb2VzIG5vdCBoYW5kbGUgdGhlIG9mZnNldCBjb3JyZWN0bHkgaWYgaXQgd291bGQgY2F1c2UgdGhlIGJ1ZmZlciB0byBiZSBub3QgYmUgcGxheWVkIGF0IGFsbC5cbiAgICAgICAgICAgIGlmIChidWZmZXIgIT09IG51bGwgJiYgY2xhbXBlZE9mZnNldCA+IGJ1ZmZlci5kdXJhdGlvbiAtIDAuNSAvIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb250ZXh0LnNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgICAgICBzdGFydC5jYWxsKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgd2hlbiwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydC5jYWxsKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgd2hlbiwgY2xhbXBlZE9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW9mZnNldC1jbGFtcGluZy5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQgPSAobmF0aXZlQ29udGV4dCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KCk7XG4gICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2QtY29uc2VjdXRpdmUtY2FsbHMtc3VwcG9ydC5qcy5tYXAiLCJleHBvcnQgY29uc3QgdGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmdTdXBwb3J0ID0gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgNDQxMDApO1xuICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPSBuYXRpdmVBdWRpb0J1ZmZlcjtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoMCwgMSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0LWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdGFydC1tZXRob2Qtb2Zmc2V0LWNsYW1waW5nLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyU3VwcG9ydCA9IChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoKTtcbiAgICB0cnkge1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCgpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1hdWRpby1idWZmZXItc291cmNlLW5vZGUtc3RvcC1tZXRob2QtbnVsbGlmaWVkLWJ1ZmZlci1zdXBwb3J0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVXcmFwQXVkaW9CdWZmZXJTb3VyY2VOb2RlU3RvcE1ldGhvZE51bGxpZmllZEJ1ZmZlciA9IChvdmVyd3JpdGVBY2Nlc3NvcnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgbmF0aXZlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBudWxsaWZpZWRCdWZmZXIgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCA0NDEwMCk7XG4gICAgICAgIGlmIChuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyID0gbnVsbGlmaWVkQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIG92ZXJ3cml0ZUFjY2Vzc29ycyhuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsICdidWZmZXInLCAoZ2V0KSA9PiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldC5jYWxsKG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGxpZmllZEJ1ZmZlciA/IG51bGwgOiB2YWx1ZTtcbiAgICAgICAgfSwgKHNldCkgPT4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc2V0LmNhbGwobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB2YWx1ZSA9PT0gbnVsbCA/IG51bGxpZmllZEJ1ZmZlciA6IHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWF1ZGlvLWJ1ZmZlci1zb3VyY2Utbm9kZS1zdG9wLW1ldGhvZC1udWxsaWZpZWQtYnVmZmVyLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVSZW5kZXJBdXRvbWF0aW9uID0gKGdldEF1ZGlvUGFyYW1SZW5kZXJlciwgcmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBhdWRpb1BhcmFtLCBuYXRpdmVBdWRpb1BhcmFtKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvUGFyYW1SZW5kZXJlciA9IGdldEF1ZGlvUGFyYW1SZW5kZXJlcihhdWRpb1BhcmFtKTtcbiAgICAgICAgYXVkaW9QYXJhbVJlbmRlcmVyLnJlcGxheShuYXRpdmVBdWRpb1BhcmFtKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcklucHV0c09mQXVkaW9QYXJhbShhdWRpb1BhcmFtLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1BhcmFtKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlci1hdXRvbWF0aW9uLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVHZXRBdWRpb1BhcmFtUmVuZGVyZXIgPSAoZ2V0QXVkaW9QYXJhbUNvbm5lY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIChhdWRpb1BhcmFtKSA9PiB7XG4gICAgICAgIGNvbnN0IGF1ZGlvUGFyYW1Db25uZWN0aW9ucyA9IGdldEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhhdWRpb1BhcmFtKTtcbiAgICAgICAgaWYgKGF1ZGlvUGFyYW1Db25uZWN0aW9ucy5yZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSByZW5kZXJlciBvZiB0aGUgZ2l2ZW4gQXVkaW9QYXJhbSBpbiB0aGUgYXVkaW8gZ3JhcGguJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1ZGlvUGFyYW1Db25uZWN0aW9ucy5yZW5kZXJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hdWRpby1wYXJhbS1yZW5kZXJlci5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY29ubmVjdEF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgICAgIGxldCBzdG9wID0gbnVsbDtcbiAgICAgICAgY29uc3QgY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkXG4gICAgICAgICAgICAgKiBhZ2Fpbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICAgICAgICAgICAgICAgICAgbG9vcDogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3AsXG4gICAgICAgICAgICAgICAgICAgIGxvb3BFbmQ6IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wRW5kLFxuICAgICAgICAgICAgICAgICAgICBsb29wU3RhcnQ6IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnBsYXliYWNrUmF0ZS52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoLi4uc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcChzdG9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBsYXliYWNrUmF0ZSwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnBsYXliYWNrUmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE0OTogU2FmYXJpIGRvZXMgbm90IHlldCBzdXBwb3J0IHRoZSBkZXR1bmUgQXVkaW9QYXJhbS5cbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5wbGF5YmFja1JhdGUsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5wbGF5YmFja1JhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2V0IHN0YXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc3RvcCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tYnVmZmVyLXNvdXJjZS1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgQXV0b21hdGlvbkV2ZW50TGlzdCB9IGZyb20gJ2F1dG9tYXRpb24tZXZlbnRzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1BhcmFtRmFjdG9yeSA9IChhZGRBdWRpb1BhcmFtQ29ubmVjdGlvbnMsIGF1ZGlvUGFyYW1BdWRpb05vZGVTdG9yZSwgYXVkaW9QYXJhbVN0b3JlLCBjcmVhdGVBdWRpb1BhcmFtUmVuZGVyZXIsIGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZUNhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudCwgY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCwgY3JlYXRlTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZVNldFRhcmdldEF1dG9tYXRpb25FdmVudCwgY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQsIGNyZWF0ZVNldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQsIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBzZXRWYWx1ZUF0VGltZVVudGlsUG9zc2libGUpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvTm9kZSwgaXNBdWRpb1BhcmFtT2ZPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb1BhcmFtLCBtYXhWYWx1ZSA9IG51bGwsIG1pblZhbHVlID0gbnVsbCkgPT4ge1xuICAgICAgICAvLyBCdWcgIzE5NiBPbmx5IFNhZmFyaSBzZXRzIHRoZSBkZWZhdWx0VmFsdWUgdG8gdGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG5hdGl2ZUF1ZGlvUGFyYW0udmFsdWU7XG4gICAgICAgIGNvbnN0IGF1dG9tYXRpb25FdmVudExpc3QgPSBuZXcgQXV0b21hdGlvbkV2ZW50TGlzdChkZWZhdWx0VmFsdWUpO1xuICAgICAgICBjb25zdCBhdWRpb1BhcmFtUmVuZGVyZXIgPSBpc0F1ZGlvUGFyYW1PZk9mZmxpbmVBdWRpb0NvbnRleHQgPyBjcmVhdGVBdWRpb1BhcmFtUmVuZGVyZXIoYXV0b21hdGlvbkV2ZW50TGlzdCkgOiBudWxsO1xuICAgICAgICBjb25zdCBhdWRpb1BhcmFtID0ge1xuICAgICAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF4VmFsdWUgPT09IG51bGwgPyBuYXRpdmVBdWRpb1BhcmFtLm1heFZhbHVlIDogbWF4VmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtaW5WYWx1ZSA9PT0gbnVsbCA/IG5hdGl2ZUF1ZGlvUGFyYW0ubWluVmFsdWUgOiBtaW5WYWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvUGFyYW0udmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjOTg6IEZpcmVmb3ggJiBTYWZhcmkgZG8gbm90IHlldCB0cmVhdCB0aGUgdmFsdWUgc2V0dGVyIGxpa2UgYSBjYWxsIHRvIHNldFZhbHVlQXRUaW1lKCkuXG4gICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZSh2YWx1ZSwgYXVkaW9Ob2RlLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbEFuZEhvbGRBdFRpbWUoY2FuY2VsVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMjg6IEZpcmVmb3ggJiBTYWZhcmkgZG8gbm90IHlldCBpbXBsZW1lbnQgY2FuY2VsQW5kSG9sZEF0VGltZSgpLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmF0aXZlQXVkaW9QYXJhbS5jYW5jZWxBbmRIb2xkQXRUaW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1BhcmFtUmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuZmx1c2goYXVkaW9Ob2RlLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQoY2FuY2VsVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUoY2FuY2VsVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0xhc3RFdmVudCA9IEFycmF5LmZyb20oYXV0b21hdGlvbkV2ZW50TGlzdCkucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1BhcmFtUmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuZmx1c2goYXVkaW9Ob2RlLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZUNhbmNlbEFuZEhvbGRBdXRvbWF0aW9uRXZlbnQoY2FuY2VsVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TGFzdEV2ZW50ID0gQXJyYXkuZnJvbShhdXRvbWF0aW9uRXZlbnRMaXN0KS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoY2FuY2VsVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0xhc3RFdmVudCAhPT0gY3VycmVudExhc3RFdmVudCAmJiBjdXJyZW50TGFzdEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGFzdEV2ZW50LnR5cGUgPT09ICdleHBvbmVudGlhbFJhbXBUb1ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShjdXJyZW50TGFzdEV2ZW50LnZhbHVlLCBjdXJyZW50TGFzdEV2ZW50LmVuZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudExhc3RFdmVudC50eXBlID09PSAnbGluZWFyUmFtcFRvVmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShjdXJyZW50TGFzdEV2ZW50LnZhbHVlLCBjdXJyZW50TGFzdEV2ZW50LmVuZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudExhc3RFdmVudC50eXBlID09PSAnc2V0VmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZShjdXJyZW50TGFzdEV2ZW50LnZhbHVlLCBjdXJyZW50TGFzdEV2ZW50LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TGFzdEV2ZW50LnR5cGUgPT09ICdzZXRWYWx1ZUN1cnZlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvUGFyYW0uc2V0VmFsdWVDdXJ2ZUF0VGltZShjdXJyZW50TGFzdEV2ZW50LnZhbHVlcywgY3VycmVudExhc3RFdmVudC5zdGFydFRpbWUsIGN1cnJlbnRMYXN0RXZlbnQuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjYW5jZWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGF1ZGlvTm9kZS5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50KGNhbmNlbFRpbWUpKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjYW5jZWxUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM0NTogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxODc6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZW5kVGltZSkgfHwgZW5kVGltZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9QYXJhbVJlbmRlcmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuZmx1c2goY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE5NDogRmlyZWZveCBkb2VzIG5vdCBpbXBsaWNpdGx5IGNhbGwgc2V0VmFsdWVBdFRpbWUoKSBpZiB0aGVyZSBpcyBubyBwcmV2aW91cyBldmVudC5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuZnJvbShhdXRvbWF0aW9uRXZlbnRMaXN0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQoZGVmYXVsdFZhbHVlLCBjdXJyZW50VGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKGRlZmF1bHRWYWx1ZSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmFkZChjcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50KHZhbHVlLCBlbmRUaW1lKSk7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gYXVkaW9Ob2RlLmNvbnRleHQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uRXZlbnRMaXN0LmZsdXNoKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxOTU6IEZpcmVmb3ggZG9lcyBub3QgaW1wbGljaXRseSBjYWxsIHNldFZhbHVlQXRUaW1lKCkgaWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgZXZlbnQuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmZyb20oYXV0b21hdGlvbkV2ZW50TGlzdCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50KGRlZmF1bHRWYWx1ZSwgY3VycmVudFRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZShkZWZhdWx0VmFsdWUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlTGluZWFyUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQodmFsdWUsIGVuZFRpbWUpKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRUYXJnZXRBdFRpbWUodGFyZ2V0LCBzdGFydFRpbWUsIHRpbWVDb25zdGFudCkge1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1BhcmFtUmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZVNldFRhcmdldEF1dG9tYXRpb25FdmVudCh0YXJnZXQsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KSk7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRUYXJnZXRBdFRpbWUodGFyZ2V0LCBzdGFydFRpbWUsIHRpbWVDb25zdGFudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvUGFyYW07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0VmFsdWVBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1BhcmFtUmVuZGVyZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF1dG9tYXRpb25FdmVudExpc3QuYWRkKGNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50KHZhbHVlLCBzdGFydFRpbWUpKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKHZhbHVlLCBzdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFZhbHVlQ3VydmVBdFRpbWUodmFsdWVzLCBzdGFydFRpbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnIDE4MzogU2FmYXJpIG9ubHkgYWNjZXB0cyBhIEZsb2F0MzJBcnJheS5cbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZXMgPSB2YWx1ZXMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyB2YWx1ZXMgOiBuZXcgRmxvYXQzMkFycmF5KHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBCdWcgIzE1MjogU2FmYXJpIGRvZXMgbm90IGNvcnJlY3RseSBpbnRlcnBvbGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBjdXJ2ZS5cbiAgICAgICAgICAgICAgICAgKiBAdG9kbyBVbmZvcnR1bmF0ZWx5IHRoZXJlIGlzIG5vIHdheSB0byB0ZXN0IGZvciB0aGlzIGJlaGF2aW9yIGluIGEgc3luY2hyb25vdXMgZmFzaGlvbiB3aGljaCBpcyB3aHkgdGVzdGluZyBmb3IgdGhlXG4gICAgICAgICAgICAgICAgICogZXhpc3RlbmNlIG9mIHRoZSB3ZWJraXRBdWRpb0NvbnRleHQgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgaGVyZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgIT09IG51bGwgJiYgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IubmFtZSA9PT0gJ3dlYmtpdEF1ZGlvQ29udGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGVSYXRlID0gYXVkaW9Ob2RlLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RTYW1wbGUgPSBNYXRoLmNlaWwoc3RhcnRUaW1lICogc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTYW1wbGUgPSBNYXRoLmZsb29yKGVuZFRpbWUgKiBzYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZJbnRlcnBvbGF0ZWRWYWx1ZXMgPSBsYXN0U2FtcGxlIC0gZmlyc3RTYW1wbGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkobnVtYmVyT2ZJbnRlcnBvbGF0ZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mSW50ZXJwb2xhdGVkVmFsdWVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW9yZXRpY0luZGV4ID0gKChjb252ZXJ0ZWRWYWx1ZXMubGVuZ3RoIC0gMSkgLyBkdXJhdGlvbikgKiAoKGZpcnN0U2FtcGxlICsgaSkgLyBzYW1wbGVSYXRlIC0gc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VySW5kZXggPSBNYXRoLmZsb29yKHRoZW9yZXRpY0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVySW5kZXggPSBNYXRoLmNlaWwodGhlb3JldGljSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkVmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID09PSB1cHBlckluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29udmVydGVkVmFsdWVzW2xvd2VySW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKDEgLSAodGhlb3JldGljSW5kZXggLSBsb3dlckluZGV4KSkgKiBjb252ZXJ0ZWRWYWx1ZXNbbG93ZXJJbmRleF0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDEgLSAodXBwZXJJbmRleCAtIHRoZW9yZXRpY0luZGV4KSkgKiBjb252ZXJ0ZWRWYWx1ZXNbdXBwZXJJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChpbnRlcnBvbGF0ZWRWYWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKGludGVycG9sYXRlZFZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVPZkxhc3RTYW1wbGUgPSBsYXN0U2FtcGxlIC8gc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVPZkxhc3RTYW1wbGUgPCBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZUF0VGltZVVudGlsUG9zc2libGUoYXVkaW9QYXJhbSwgaW50ZXJwb2xhdGVkVmFsdWVzW2ludGVycG9sYXRlZFZhbHVlcy5sZW5ndGggLSAxXSwgdGltZU9mTGFzdFNhbXBsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWVBdFRpbWVVbnRpbFBvc3NpYmxlKGF1ZGlvUGFyYW0sIGNvbnZlcnRlZFZhbHVlc1tjb252ZXJ0ZWRWYWx1ZXMubGVuZ3RoIC0gMV0sIGVuZFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGFyYW1SZW5kZXJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5mbHVzaChhdWRpb05vZGUuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbkV2ZW50TGlzdC5hZGQoY3JlYXRlU2V0VmFsdWVDdXJ2ZUF1dG9tYXRpb25FdmVudChjb252ZXJ0ZWRWYWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKGNvbnZlcnRlZFZhbHVlcywgc3RhcnRUaW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1BhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhdWRpb1BhcmFtU3RvcmUuc2V0KGF1ZGlvUGFyYW0sIG5hdGl2ZUF1ZGlvUGFyYW0pO1xuICAgICAgICBhdWRpb1BhcmFtQXVkaW9Ob2RlU3RvcmUuc2V0KGF1ZGlvUGFyYW0sIGF1ZGlvTm9kZSk7XG4gICAgICAgIGFkZEF1ZGlvUGFyYW1Db25uZWN0aW9ucyhhdWRpb1BhcmFtLCBhdWRpb1BhcmFtUmVuZGVyZXIpO1xuICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLXBhcmFtLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvUGFyYW1SZW5kZXJlciA9IChhdXRvbWF0aW9uRXZlbnRMaXN0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVwbGF5KGF1ZGlvUGFyYW0pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXV0b21hdGlvbkV2ZW50IG9mIGF1dG9tYXRpb25FdmVudExpc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0b21hdGlvbkV2ZW50LnR5cGUgPT09ICdleHBvbmVudGlhbFJhbXBUb1ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVuZFRpbWUsIHZhbHVlIH0gPSBhdXRvbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnbGluZWFyUmFtcFRvVmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZW5kVGltZSwgdmFsdWUgfSA9IGF1dG9tYXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnc2V0VGFyZ2V0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXJ0VGltZSwgdGFyZ2V0LCB0aW1lQ29uc3RhbnQgfSA9IGF1dG9tYXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5zZXRUYXJnZXRBdFRpbWUodGFyZ2V0LCBzdGFydFRpbWUsIHRpbWVDb25zdGFudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9tYXRpb25FdmVudC50eXBlID09PSAnc2V0VmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhcnRUaW1lLCB2YWx1ZSB9ID0gYXV0b21hdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFZhbHVlQXRUaW1lKHZhbHVlLCBzdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhdXRvbWF0aW9uRXZlbnQudHlwZSA9PT0gJ3NldFZhbHVlQ3VydmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZHVyYXRpb24sIHN0YXJ0VGltZSwgdmFsdWVzIH0gPSBhdXRvbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvUGFyYW0uc2V0VmFsdWVDdXJ2ZUF0VGltZSh2YWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYXBwbHkgYW4gdW5rbm93biBhdXRvbWF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLXBhcmFtLXJlbmRlcmVyLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBZGRBdWRpb1BhcmFtQ29ubmVjdGlvbnMgPSAoYXVkaW9QYXJhbUNvbm5lY3Rpb25zU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKGF1ZGlvUGFyYW0sIGF1ZGlvUGFyYW1SZW5kZXJlcikgPT4ge1xuICAgICAgICBhdWRpb1BhcmFtQ29ubmVjdGlvbnNTdG9yZS5zZXQoYXVkaW9QYXJhbSwgeyBhY3RpdmVJbnB1dHM6IG5ldyBTZXQoKSwgcGFzc2l2ZUlucHV0czogbmV3IFdlYWtNYXAoKSwgcmVuZGVyZXI6IGF1ZGlvUGFyYW1SZW5kZXJlciB9KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC1hdWRpby1wYXJhbS1jb25uZWN0aW9ucy5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlciwgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSwgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBBdWRpb0Rlc3RpbmF0aW9uTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgY2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGlzT2ZmbGluZSA9IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gY3JlYXRlTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUobmF0aXZlQ29udGV4dCwgY2hhbm5lbENvdW50LCBpc09mZmxpbmUpO1xuICAgICAgICAgICAgY29uc3QgYXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlciA9ICgoaXNPZmZsaW5lID8gY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlcihyZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgOiBudWxsKSk7XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCBmYWxzZSwgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUsIGF1ZGlvRGVzdGluYXRpb25Ob2RlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5faXNOb2RlT2ZOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gaXNPZmZsaW5lO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUgPSBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzUyOiBDaHJvbWUsIEVkZ2UgJiBTYWZhcmkgZG8gbm90IHRocm93IGFuIGV4Y2VwdGlvbiBhdCBhbGwuXG4gICAgICAgICAgICAvLyBCdWcgIzU0OiBGaXJlZm94IGRvZXMgdGhyb3cgYW4gSW5kZXhTaXplRXJyb3IuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNOb2RlT2ZOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1ZyAjNDc6IFRoZSBBdWRpb0Rlc3RpbmF0aW9uTm9kZSBpbiBTYWZhcmkgZG9lcyBub3QgaW5pdGlhbGl6ZSB0aGUgbWF4Q2hhbm5lbENvdW50IHByb3BlcnR5IGNvcnJlY3RseS5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IHRoaXMuX25hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLm1heENoYW5uZWxDb3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUluZGV4U2l6ZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzUzOiBObyBicm93c2VyIGRvZXMgdGhyb3cgYW4gZXhjZXB0aW9uIHlldC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBtYXhDaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50O1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZVJlbmRlcmVyID0gKHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgIGNvbnN0IGNyZWF0ZUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbjtcbiAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlKTtcbiAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1kZXN0aW5hdGlvbi1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVHYWluTm9kZSwgb3ZlcndyaXRlQWNjZXNzb3JzKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBjaGFubmVsQ291bnQsIGlzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZSA9IG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb247XG4gICAgICAgIC8vIEJ1ZyAjMTMyOiBTYWZhcmkgZG9lcyBub3QgaGF2ZSB0aGUgY29ycmVjdCBjaGFubmVsQ291bnQuXG4gICAgICAgIGlmIChuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnQgIT09IGNoYW5uZWxDb3VudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnQgPSBjaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxNjk6IFNhZmFyaSB0aHJvd3MgYW4gZXJyb3Igb24gZWFjaCBhdHRlbXB0IHRvIGNoYW5nZSB0aGUgY2hhbm5lbENvdW50LlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjODM6IFNhZmFyaSBkb2VzIG5vdCBoYXZlIHRoZSBjb3JyZWN0IGNoYW5uZWxDb3VudE1vZGUuXG4gICAgICAgIGlmIChpc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgJiYgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50TW9kZSAhPT0gJ2V4cGxpY2l0Jykge1xuICAgICAgICAgICAgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9ICdleHBsaWNpdCc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICM0NzogVGhlIEF1ZGlvRGVzdGluYXRpb25Ob2RlIGluIFNhZmFyaSBkb2VzIG5vdCBpbml0aWFsaXplIHRoZSBtYXhDaGFubmVsQ291bnQgcHJvcGVydHkgY29ycmVjdGx5LlxuICAgICAgICBpZiAobmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUsICdtYXhDaGFubmVsQ291bnQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGNoYW5uZWxDb3VudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNjg6IE5vIGJyb3dzZXIgZG9lcyB5ZXQgaGF2ZSBhbiBBdWRpb0Rlc3RpbmF0aW9uTm9kZSB3aXRoIGFuIG91dHB1dC5cbiAgICAgICAgY29uc3QgZ2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICBnYWluOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMoZ2Fpbk5vZGUsICdjaGFubmVsQ291bnQnLCAoZ2V0KSA9PiAoKSA9PiBnZXQuY2FsbChnYWluTm9kZSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0LmNhbGwoZ2Fpbk5vZGUsIHZhbHVlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxNjk6IFNhZmFyaSB0aHJvd3MgYW4gZXJyb3Igb24gZWFjaCBhdHRlbXB0IHRvIGNoYW5nZSB0aGUgY2hhbm5lbENvdW50LlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IG5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlLm1heENoYW5uZWxDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKGdhaW5Ob2RlLCAnY2hhbm5lbENvdW50TW9kZScsIChnZXQpID0+ICgpID0+IGdldC5jYWxsKGdhaW5Ob2RlKSwgKHNldCkgPT4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzZXQuY2FsbChnYWluTm9kZSwgdmFsdWUpO1xuICAgICAgICAgICAgbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKGdhaW5Ob2RlLCAnY2hhbm5lbEludGVycHJldGF0aW9uJywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwoZ2Fpbk5vZGUpLCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldC5jYWxsKGdhaW5Ob2RlLCB2YWx1ZSk7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnYWluTm9kZSwgJ21heENoYW5uZWxDb3VudCcsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBAdG9kbyBUaGlzIHNob3VsZCBiZSBkaXNjb25uZWN0ZWQgd2hlbiB0aGUgY29udGV4dCBpcyBjbG9zZWQuXG4gICAgICAgIGdhaW5Ob2RlLmNvbm5lY3QobmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUpO1xuICAgICAgICByZXR1cm4gZ2Fpbk5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8tZGVzdGluYXRpb24tbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUJpcXVhZEZpbHRlck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgICAgICogYWdhaW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQmlxdWFkRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBROiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLlEudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGV0dW5lOiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmRldHVuZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmZyZXF1ZW5jeS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2FpbjogbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5nYWluLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLnR5cGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgPSBjcmVhdGVOYXRpdmVCaXF1YWRGaWx0ZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUJpcXVhZEZpbHRlck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5RLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLlEpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZGV0dW5lLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmRldHVuZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5mcmVxdWVuY3ksIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmdhaW4sIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZ2Fpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5RLCBuYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLlEpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmRldHVuZSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmZyZXF1ZW5jeSwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmdhaW4sIG5hdGl2ZUJpcXVhZEZpbHRlck5vZGUuZ2Fpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQmlxdWFkRmlsdGVyTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQmlxdWFkRmlsdGVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSA9IHJlbmRlcmVkTmF0aXZlQmlxdWFkRmlsdGVyTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUJpcXVhZEZpbHRlck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpcXVhZC1maWx0ZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVTZXRBdWRpb05vZGVUYWlsVGltZSA9IChhdWRpb05vZGVUYWlsVGltZVN0b3JlKSA9PiB7XG4gICAgcmV0dXJuIChhdWRpb05vZGUsIHRhaWxUaW1lKSA9PiBhdWRpb05vZGVUYWlsVGltZVN0b3JlLnNldChhdWRpb05vZGUsIHRhaWxUaW1lKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQtYXVkaW8tbm9kZS10YWlsLXRpbWUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU1vbml0b3JDb25uZWN0aW9ucyA9IChpbnNlcnRFbGVtZW50SW5TZXQsIGlzTmF0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVBdWRpb05vZGUsIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIG5hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0ID0gKChjb25uZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6aW52YWxpZC12b2lkIG5vLWluZmVycmFibGUtdHlwZXNcbiAgICAgICAgICAgIHJldHVybiAoZGVzdGluYXRpb24sIG91dHB1dCA9IDAsIGlucHV0ID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2Nvbm5lY3RlZCA9IGNvbm5lY3Rpb25zLnNpemUgPT09IDA7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbyBUeXBlU2NyaXB0IGNhbm5vdCBpbmZlciB0aGUgb3ZlcmxvYWRlZCBzaWduYXR1cmUgd2l0aCAzIGFyZ3VtZW50cyB5ZXQuXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3QuY2FsbChuYXRpdmVBdWRpb05vZGUsIGRlc3RpbmF0aW9uLCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudEluU2V0KGNvbm5lY3Rpb25zLCBbZGVzdGluYXRpb24sIG91dHB1dCwgaW5wdXRdLCAoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvblswXSA9PT0gZGVzdGluYXRpb24gJiYgY29ubmVjdGlvblsxXSA9PT0gb3V0cHV0ICYmIGNvbm5lY3Rpb25bMl0gPT09IGlucHV0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhc0Rpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbkNvbm5lY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29ubmVjdC5jYWxsKG5hdGl2ZUF1ZGlvTm9kZSwgZGVzdGluYXRpb24sIG91dHB1dCk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudEluU2V0KGNvbm5lY3Rpb25zLCBbZGVzdGluYXRpb24sIG91dHB1dF0sIChjb25uZWN0aW9uKSA9PiBjb25uZWN0aW9uWzBdID09PSBkZXN0aW5hdGlvbiAmJiBjb25uZWN0aW9uWzFdID09PSBvdXRwdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICh3YXNEaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlbkNvbm5lY3RlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShuYXRpdmVBdWRpb05vZGUuY29ubmVjdCk7XG4gICAgICAgIG5hdGl2ZUF1ZGlvTm9kZS5kaXNjb25uZWN0ID0gKChkaXNjb25uZWN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGRlc3RpbmF0aW9uT3JPdXRwdXQsIG91dHB1dCwgaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YXNDb25uZWN0ZWQgPSBjb25uZWN0aW9ucy5zaXplID4gMDtcbiAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3QuYXBwbHkobmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JPdXRwdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgY2Fubm90IGluZmVyIHRoZSBvdmVybG9hZGVkIHNpZ25hdHVyZSB3aXRoIDEgYXJndW1lbnQgeWV0LlxuICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0LmNhbGwobmF0aXZlQXVkaW9Ob2RlLCBkZXN0aW5hdGlvbk9yT3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb25uZWN0aW9uIG9mIGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvblsxXSA9PT0gZGVzdGluYXRpb25Pck91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmRlbGV0ZShjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlKGRlc3RpbmF0aW9uT3JPdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbyBUeXBlU2NyaXB0IGNhbm5vdCBpbmZlciB0aGUgb3ZlcmxvYWRlZCBzaWduYXR1cmUgd2l0aCAzIGFyZ3VtZW50cyB5ZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0LmNhbGwobmF0aXZlQXVkaW9Ob2RlLCBkZXN0aW5hdGlvbk9yT3V0cHV0LCBvdXRwdXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgY2Fubm90IGluZmVyIHRoZSBvdmVybG9hZGVkIHNpZ25hdHVyZSB3aXRoIDIgYXJndW1lbnRzIHlldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3QuY2FsbChuYXRpdmVBdWRpb05vZGUsIGRlc3RpbmF0aW9uT3JPdXRwdXQsIG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb25uZWN0aW9uIG9mIGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvblswXSA9PT0gZGVzdGluYXRpb25Pck91dHB1dCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvdXRwdXQgPT09IHVuZGVmaW5lZCB8fCBjb25uZWN0aW9uWzFdID09PSBvdXRwdXQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlucHV0ID09PSB1bmRlZmluZWQgfHwgY29ubmVjdGlvblsyXSA9PT0gaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuZGVsZXRlKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzY29ubmVjdGVkID0gY29ubmVjdGlvbnMuc2l6ZSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAod2FzQ29ubmVjdGVkICYmIGlzRGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW5EaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShuYXRpdmVBdWRpb05vZGUuZGlzY29ubmVjdCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVBdWRpb05vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb25pdG9yLWNvbm5lY3Rpb25zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVXcmFwQ2hhbm5lbE1lcmdlck5vZGUgPSAoY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgY2hhbm5lbE1lcmdlck5vZGUpID0+IHtcbiAgICAgICAgLy8gQnVnICMxNTogU2FmYXJpIGRvZXMgbm90IHJldHVybiB0aGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgICBjaGFubmVsTWVyZ2VyTm9kZS5jaGFubmVsQ291bnQgPSAxO1xuICAgICAgICBjaGFubmVsTWVyZ2VyTm9kZS5jaGFubmVsQ291bnRNb2RlID0gJ2V4cGxpY2l0JztcbiAgICAgICAgLy8gQnVnICMxNjogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHdoZW4gc2V0dGluZyBhIGRpZmZlcmVudCBjaGFubmVsQ291bnQgb3IgY2hhbm5lbENvdW50TW9kZS5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoYW5uZWxNZXJnZXJOb2RlLCAnY2hhbm5lbENvdW50Jywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiAxLFxuICAgICAgICAgICAgc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGFubmVsTWVyZ2VyTm9kZSwgJ2NoYW5uZWxDb3VudE1vZGUnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVnICMyMDogU2FmYXJpIHJlcXVpcmVzIGEgY29ubmVjdGlvbiBvZiBhbnkga2luZCB0byB0cmVhdCB0aGUgaW5wdXQgc2lnbmFsIGNvcnJlY3RseS5cbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgY29uc3Qgd2hlbkNvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNoYW5uZWxNZXJnZXJOb2RlLm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IGF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgbW9uaXRvckNvbm5lY3Rpb25zKGNoYW5uZWxNZXJnZXJOb2RlLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAtY2hhbm5lbC1tZXJnZXItbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGVGYWN0b3J5ID0gKG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCB3cmFwQ2hhbm5lbE1lcmdlck5vZGUpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUNoYW5uZWxNZXJnZXIob3B0aW9ucy5udW1iZXJPZklucHV0cyk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIEJ1ZyAjMjA6IFNhZmFyaSByZXF1aXJlcyBhIGNvbm5lY3Rpb24gb2YgYW55IGtpbmQgdG8gdHJlYXQgdGhlIGlucHV0IHNpZ25hbCBjb3JyZWN0bHkuXG4gICAgICAgICAqIEB0b2RvIFVuZm9ydHVuYXRlbHkgdGhlcmUgaXMgbm8gd2F5IHRvIHRlc3QgZm9yIHRoaXMgYmVoYXZpb3IgaW4gYSBzeW5jaHJvbm91cyBmYXNoaW9uIHdoaWNoIGlzIHdoeSB0ZXN0aW5nIGZvciB0aGUgZXhpc3RlbmNlIG9mXG4gICAgICAgICAqIHRoZSB3ZWJraXRBdWRpb0NvbnRleHQgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgaGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiBuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3Rvci5uYW1lID09PSAnd2Via2l0QXVkaW9Db250ZXh0Jykge1xuICAgICAgICAgICAgd3JhcENoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLWNoYW5uZWwtbWVyZ2VyLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVDaGFubmVsTWVyZ2VyTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUF1ZGlvTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQXVkaW9Ob2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Ob2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQXVkaW9Ob2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IG5hdGl2ZUF1ZGlvTm9kZS5udW1iZXJPZklucHV0c1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Ob2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9Ob2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBdWRpb05vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSA9IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1tZXJnZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYW5uZWxTcGxpdHRlck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUF1ZGlvTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUF1ZGlvTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQXVkaW9Ob2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Ob2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQXVkaW9Ob2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZPdXRwdXRzOiBuYXRpdmVBdWRpb05vZGUubnVtYmVyT2ZPdXRwdXRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb05vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9Ob2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGUgPSByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwtc3BsaXR0ZXItbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBzYW5pdGl6ZUNoYW5uZWxTcGxpdHRlck9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIGNoYW5uZWxDb3VudDogb3B0aW9ucy5udW1iZXJPZk91dHB1dHMgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW5pdGl6ZS1jaGFubmVsLXNwbGl0dGVyLW9wdGlvbnMuanMubWFwIiwiaW1wb3J0IHsgaW50ZXJjZXB0Q29ubmVjdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2ludGVyY2VwdC1jb25uZWN0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXJGYWN0b3J5ID0gKGFkZFNpbGVudENvbm5lY3Rpb24sIGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgeyBvZmZzZXQsIC4uLmF1ZGlvTm9kZU9wdGlvbnMgfSkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDIsIDQ0MTAwKTtcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMixcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdtYXgnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICBsb29wRW5kOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgcGxheWJhY2tSYXRlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBnYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2Fpbjogb2Zmc2V0IH0pO1xuICAgICAgICAvLyBCdWcgIzU6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlGcm9tQ2hhbm5lbCgpIGFuZCBjb3B5VG9DaGFubmVsKCkuXG4gICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgIC8vIEJ1ZyAjOTU6IFNhZmFyaSBkb2VzIG5vdCBwbGF5IG9yIGxvb3Agb25lIHNhbXBsZSBidWZmZXJzLlxuICAgICAgICBjaGFubmVsRGF0YVswXSA9IDE7XG4gICAgICAgIGNoYW5uZWxEYXRhWzFdID0gMTtcbiAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyO1xuICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZha2VyID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnYWluTm9kZS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGdhaW5Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnYWluTm9kZS5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlLmNvbnRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mSW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlclNvdXJjZU5vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2Fpbk5vZGUubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvZmZzZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9uZW5kZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5vbmVuZGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBvbmVuZGVkKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlLm9uZW5kZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNwYXRjaEV2ZW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlclNvdXJjZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGFydCh3aGVuID0gMCkge1xuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydC5jYWxsKGF1ZGlvQnVmZmVyU291cmNlTm9kZSwgd2hlbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcCh3aGVuID0gMCkge1xuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wLmNhbGwoYXVkaW9CdWZmZXJTb3VyY2VOb2RlLCB3aGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkNvbm5lY3RlZCA9ICgpID0+IGF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KGdhaW5Ob2RlKTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IGF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNjb25uZWN0KGdhaW5Ob2RlKTtcbiAgICAgICAgLy8gQnVnICMxNzU6IFNhZmFyaSB3aWxsIG5vdCBmaXJlIGFuIGVuZGVkIGV2ZW50IGlmIHRoZSBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaXMgdW5jb25uZWN0ZWQuXG4gICAgICAgIGFkZFNpbGVudENvbm5lY3Rpb24obmF0aXZlQ29udGV4dCwgYXVkaW9CdWZmZXJTb3VyY2VOb2RlKTtcbiAgICAgICAgcmV0dXJuIG1vbml0b3JDb25uZWN0aW9ucyhpbnRlcmNlcHRDb25uZWN0aW9ucyhuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciwgZ2Fpbk5vZGUpLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1jb25zdGFudC1zb3VyY2Utbm9kZS1mYWtlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZUF1ZGlvUGFyYW1WYWx1ZSB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLWF1ZGlvLXBhcmFtLXZhbHVlJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZhY3RvcnkgPSAoYWRkU2lsZW50Q29ubmVjdGlvbiwgY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlciwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIC8vIEJ1ZyAjNjI6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IENvbnN0YW50U291cmNlTm9kZXMuXG4gICAgICAgIGlmIChuYXRpdmVDb250ZXh0LmNyZWF0ZUNvbnN0YW50U291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlcihuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUNvbnN0YW50U291cmNlKCk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgb3B0aW9ucywgJ29mZnNldCcpO1xuICAgICAgICAvLyBCdWcgIzQ0OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYSBSYW5nZUVycm9yIHlldC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyhuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IE9ubHkgRmlyZWZveCBkb2VzIG5vdCB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsICgpID0+IHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydChuYXRpdmVDb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNzU6IFNhZmFyaSB3aWxsIG5vdCBmaXJlIGFuIGVuZGVkIGV2ZW50IGlmIHRoZSBDb25zdGFudFNvdXJjZU5vZGUgaXMgdW5jb25uZWN0ZWQuXG4gICAgICAgIGFkZFNpbGVudENvbm5lY3Rpb24obmF0aXZlQ29udGV4dCwgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1jb25zdGFudC1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgbGV0IHN0b3AgPSBudWxsO1xuICAgICAgICBjb25zdCBjcmVhdGVDb25zdGFudFNvdXJjZU5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWRcbiAgICAgICAgICAgICAqIGFnYWluLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLnN0YXJ0KHN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0b3AgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLnN0b3Aoc3RvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5vZmZzZXQsIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub2Zmc2V0LCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNldCBzdGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHN0b3AodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGUgPSByZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVDb25zdGFudFNvdXJjZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29uc3RhbnRTb3VyY2VOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50LXNvdXJjZS1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlRmFjdG9yeSA9IChjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvciwgb3ZlcndyaXRlQWNjZXNzb3JzKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnZvbHZlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUNvbnZvbHZlck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBUaGUgbm9ybWFsaXplIHByb3BlcnR5IG5lZWRzIHRvIGJlIHNldCBiZWZvcmUgc2V0dGluZyB0aGUgYnVmZmVyLlxuICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlTm9ybWFsaXphdGlvbiA9PT0gbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgIG5hdGl2ZUNvbnZvbHZlck5vZGUubm9ybWFsaXplID0gIW9wdGlvbnMuZGlzYWJsZU5vcm1hbGl6YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZUNvbnZvbHZlck5vZGUsIG9wdGlvbnMsICdidWZmZXInKTtcbiAgICAgICAgLy8gQnVnICMxMTM6IFNhZmFyaSBkb2VzIGFsbG93IHRvIHNldCB0aGUgY2hhbm5lbENvdW50IHRvIGEgdmFsdWUgbGFyZ2VyIHRoYW4gMi5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbm5lbENvdW50ID4gMikge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBvdmVyd3JpdGVBY2Nlc3NvcnMobmF0aXZlQ29udm9sdmVyTm9kZSwgJ2NoYW5uZWxDb3VudCcsIChnZXQpID0+ICgpID0+IGdldC5jYWxsKG5hdGl2ZUNvbnZvbHZlck5vZGUpLCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldC5jYWxsKG5hdGl2ZUNvbnZvbHZlck5vZGUsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE0OiBTYWZhcmkgYWxsb3dzIHRvIHNldCB0aGUgY2hhbm5lbENvdW50TW9kZSB0byAnbWF4Jy5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbm5lbENvdW50TW9kZSA9PT0gJ21heCcpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKG5hdGl2ZUNvbnZvbHZlck5vZGUsICdjaGFubmVsQ291bnRNb2RlJywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwobmF0aXZlQ29udm9sdmVyTm9kZSksIChzZXQpID0+ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2V0LmNhbGwobmF0aXZlQ29udm9sdmVyTm9kZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnZvbHZlck5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtY29udm9sdmVyLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZUZha2VyIH0gZnJvbSAnLi4vZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlLWZha2VyJztcbmltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlckZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb25zdCBjcmVhdGVDb252b2x2ZXJOb2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlQ29udm9sdmVyTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlQ29udm9sdmVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnZvbHZlck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVDb252b2x2ZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlQ29udm9sdmVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IG5hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZUNvbnZvbHZlck5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVDb252b2x2ZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlQ29udm9sdmVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVOb3JtYWxpemF0aW9uOiAhbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUNvbnZvbHZlck5vZGUgPSBjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVDb252b2x2ZXJOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQ29udm9sdmVyTm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGVGYWtlcihuYXRpdmVDb252b2x2ZXJOb2RlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVDb252b2x2ZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQ29udm9sdmVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQ29udm9sdmVyTm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlcihwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZSA9IHJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUNvbnZvbHZlck5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb252b2x2ZXJOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZvbHZlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVEZWxheU5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKG1heERlbGF5VGltZSkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb25zdCBjcmVhdGVEZWxheU5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVEZWxheU5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZURlbGF5Tm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURlbGF5Tm9kZUlzT3duZWRCeUNvbnRleHQgPSBpc093bmVkQnlDb250ZXh0KG5hdGl2ZURlbGF5Tm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZURlbGF5Tm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZURlbGF5Tm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5hdGl2ZURlbGF5Tm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZURlbGF5Tm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5VGltZTogbmF0aXZlRGVsYXlOb2RlLmRlbGF5VGltZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWF4RGVsYXlUaW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZWxheU5vZGUgPSBjcmVhdGVOYXRpdmVEZWxheU5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZXMuc2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZURlbGF5Tm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZURlbGF5Tm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmRlbGF5VGltZSwgbmF0aXZlRGVsYXlOb2RlLmRlbGF5VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5kZWxheVRpbWUsIG5hdGl2ZURlbGF5Tm9kZS5kZWxheVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZURlbGF5Tm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlRGVsYXlOb2RlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVEZWxheU5vZGUgPSByZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVEZWxheU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRGVsYXlOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZUZhY3RvcnkgPSAoY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIEJ1ZyAjMTA4OiBTYWZhcmkgYWxsb3dzIGEgY2hhbm5lbENvdW50IG9mIHRocmVlIGFuZCBhYm92ZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbm5lbENvdW50ID4gMikge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzEwOTogT25seSBDaHJvbWUgYW5kIEZpcmVmb3ggZGlzYWxsb3cgYSBjaGFubmVsQ291bnRNb2RlIG9mICdtYXgnLlxuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsQ291bnRNb2RlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucywgJ2F0dGFjaycpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucywgJ2tuZWUnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIG9wdGlvbnMsICdyYXRpbycpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgb3B0aW9ucywgJ3JlbGVhc2UnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUsIG9wdGlvbnMsICd0aHJlc2hvbGQnKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtZHluYW1pY3MtY29tcHJlc3Nvci1ub2RlLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb25zdCBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgd2FzIG5vdCBjb25zdHJ1Y3RlZCBvbiB0aGUgc2FtZSBPZmZsaW5lQXVkaW9Db250ZXh0IGl0IG5lZWRzIHRvIGJlXG4gICAgICAgICAgICAgKiBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNrOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmF0dGFjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBrbmVlOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmtuZWUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJhdGlvOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICByZWxlYXNlOiBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlbGVhc2UudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5hdHRhY2ssIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuYXR0YWNrKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmtuZWUsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5yYXRpbywgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5yYXRpbyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5yZWxlYXNlLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlbGVhc2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkudGhyZXNob2xkLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnRocmVzaG9sZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5hdHRhY2ssIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuYXR0YWNrKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5rbmVlLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmtuZWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnJhdGlvLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5yZWxlYXNlLCBuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJlbGVhc2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnRocmVzaG9sZCwgbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSByZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1keW5hbWljcy1jb21wcmVzc29yLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVHYWluTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUdhaW5Ob2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlR2Fpbk5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZUdhaW5Ob2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlR2Fpbk5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVHYWluTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUdhaW5Ob2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlR2Fpbk5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZUdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZ2FpbjogbmF0aXZlR2Fpbk5vZGUuZ2Fpbi52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlR2Fpbk5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZUdhaW5Ob2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZ2FpbiwgbmF0aXZlR2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0QXVkaW9QYXJhbShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5nYWluLCBuYXRpdmVHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlR2Fpbk5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlID0gcmVuZGVyZWROYXRpdmVHYWluTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUdhaW5Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhaW4tbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IHRlc3RQcm9taXNlU3VwcG9ydCB9IGZyb20gJy4uL2hlbHBlcnMvdGVzdC1wcm9taXNlLXN1cHBvcnQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSAoY2FjaGVUZXN0UmVzdWx0LCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgdGVzdE9mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnQpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgLy8gQnVnICMyMTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgcHJvbWlzZXMgeWV0LlxuICAgICAgICBpZiAoY2FjaGVUZXN0UmVzdWx0KHRlc3RQcm9taXNlU3VwcG9ydCwgKCkgPT4gdGVzdFByb21pc2VTdXBwb3J0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpKSkge1xuICAgICAgICAgICAgLy8gQnVnICMxNTg6IENocm9tZSBhbmQgRWRnZSBkbyBub3QgYWR2YW5jZSBjdXJyZW50VGltZSBpZiBpdCBpcyBub3QgYWNjZXNzZWQgd2hpbGUgcmVuZGVyaW5nIHRoZSBhdWRpby5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FjaGVUZXN0UmVzdWx0KHRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0LCB0ZXN0T2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydCkpLnRoZW4oKGlzT2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09mZmxpbmVBdWRpb0NvbnRleHRDdXJyZW50VGltZVN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRQcm9jZXNzb3JOb2RlID0gY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCA1MTIsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Lm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLm9uYXVkaW9wcm9jZXNzID0gbnVsbDsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkZXByZWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSAoKSA9PiBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUuY29ubmVjdChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gQnVnICM0ODogU2FmYXJpIGRvZXMgbm90IHJlbmRlciBhbiBPZmZsaW5lQXVkaW9Db250ZXh0IHdpdGhvdXQgYW55IGNvbm5lY3RlZCBub2RlLlxuICAgICAgICAgICAgY29uc3QgZ2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgIGdhaW46IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5vbmNvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQucmVuZGVyZWRCdWZmZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdhaW5Ob2RlLmNvbm5lY3QobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLW5hdGl2ZS1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0ID0gKGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcigxLCAxLCA0NDEwMCk7XG4gICAgICAgIC8vIEJ1ZyAjNDg6IFNhZmFyaSBkb2VzIG5vdCByZW5kZXIgYW4gT2ZmbGluZUF1ZGlvQ29udGV4dCB3aXRob3V0IGFueSBjb25uZWN0ZWQgbm9kZS5cbiAgICAgICAgY29uc3QgZ2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgZ2FpbjogMFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVnICMyMTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgcHJvbWlzZXMgeWV0LlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBnYWluTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICE9PSAwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVzdC1vZmZsaW5lLWF1ZGlvLWNvbnRleHQtY3VycmVudC10aW1lLXN1cHBvcnQuanMubWFwIiwiaW1wb3J0IHsgZmlsdGVyQnVmZmVyIH0gZnJvbSAnLi4vaGVscGVycy9maWx0ZXItYnVmZmVyJztcbmltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuY29uc3QgZmlsdGVyRnVsbEJ1ZmZlciA9IChyZW5kZXJlZEJ1ZmZlciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgZmVlZGJhY2ssIGZlZWRmb3J3YXJkKSA9PiB7XG4gICAgY29uc3QgY29udmVydGVkRmVlZGJhY2sgPSBmZWVkYmFjayBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSA/IGZlZWRiYWNrIDogbmV3IEZsb2F0NjRBcnJheShmZWVkYmFjayk7XG4gICAgY29uc3QgY29udmVydGVkRmVlZGZvcndhcmQgPSBmZWVkZm9yd2FyZCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSA/IGZlZWRmb3J3YXJkIDogbmV3IEZsb2F0NjRBcnJheShmZWVkZm9yd2FyZCk7XG4gICAgY29uc3QgZmVlZGJhY2tMZW5ndGggPSBjb252ZXJ0ZWRGZWVkYmFjay5sZW5ndGg7XG4gICAgY29uc3QgZmVlZGZvcndhcmRMZW5ndGggPSBjb252ZXJ0ZWRGZWVkZm9yd2FyZC5sZW5ndGg7XG4gICAgY29uc3QgbWluTGVuZ3RoID0gTWF0aC5taW4oZmVlZGJhY2tMZW5ndGgsIGZlZWRmb3J3YXJkTGVuZ3RoKTtcbiAgICBpZiAoY29udmVydGVkRmVlZGJhY2tbMF0gIT09IDEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVkYmFja0xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb252ZXJ0ZWRGZWVkZm9yd2FyZFtpXSAvPSBjb252ZXJ0ZWRGZWVkYmFja1swXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGZlZWRmb3J3YXJkTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnZlcnRlZEZlZWRiYWNrW2ldIC89IGNvbnZlcnRlZEZlZWRiYWNrWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IDMyO1xuICAgIGNvbnN0IHhCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlckxlbmd0aCk7XG4gICAgY29uc3QgeUJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICBjb25zdCBmaWx0ZXJlZEJ1ZmZlciA9IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKHJlbmRlcmVkQnVmZmVyLm51bWJlck9mQ2hhbm5lbHMsIHJlbmRlcmVkQnVmZmVyLmxlbmd0aCwgcmVuZGVyZWRCdWZmZXIuc2FtcGxlUmF0ZSk7XG4gICAgY29uc3QgbnVtYmVyT2ZDaGFubmVscyA9IHJlbmRlcmVkQnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkNoYW5uZWxzOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSByZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZmlsdGVyZWRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7XG4gICAgICAgIHhCdWZmZXIuZmlsbCgwKTtcbiAgICAgICAgeUJ1ZmZlci5maWxsKDApO1xuICAgICAgICBmaWx0ZXJCdWZmZXIoY29udmVydGVkRmVlZGJhY2ssIGZlZWRiYWNrTGVuZ3RoLCBjb252ZXJ0ZWRGZWVkZm9yd2FyZCwgZmVlZGZvcndhcmRMZW5ndGgsIG1pbkxlbmd0aCwgeEJ1ZmZlciwgeUJ1ZmZlciwgMCwgYnVmZmVyTGVuZ3RoLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkQnVmZmVyO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSwgZ2V0TmF0aXZlQXVkaW9Ob2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChmZWVkYmFjaywgZmVlZGZvcndhcmQpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgbGV0IGZpbHRlcmVkQnVmZmVyUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUF1ZGlvTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbmF0aXZlSUlSRmlsdGVyTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlSUlSRmlsdGVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUlJUkZpbHRlck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVJSVJGaWx0ZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjOTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgSUlSRmlsdGVyTm9kZXMuXG4gICAgICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVJSVJGaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAyLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbG9vcEVuZDogMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF5YmFja1JhdGU6IDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFuYXRpdmVJSVJGaWx0ZXJOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgZGVmaW5lcyB0aGUgcGFyYW1ldGVycyBvZiBjcmVhdGVJSVJGaWx0ZXIoKSBhcyBhcnJheXMgb2YgbnVtYmVycy5cbiAgICAgICAgICAgICAgICBuYXRpdmVJSVJGaWx0ZXJOb2RlID0gbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVJSVJGaWx0ZXIoZmVlZGZvcndhcmQsIGZlZWRiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID09PSBudWxsID8gbmF0aXZlSUlSRmlsdGVyTm9kZSA6IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSk7XG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQnVmZmVyUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIG5hdGl2ZSBPZmZsaW5lQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICM0NzogVGhlIEF1ZGlvRGVzdGluYXRpb25Ob2RlIGluIFNhZmFyaSBnZXRzIG5vdCBpbml0aWFsaXplZCBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbnRleHQuZGVzdGluYXRpb24uY2hhbm5lbENvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxNzogU2FmYXJpIGRvZXMgbm90IHlldCBleHBvc2UgdGhlIGxlbmd0aC5cbiAgICAgICAgICAgICAgICAgICAgcHJveHkuY29udGV4dC5sZW5ndGgsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQnVmZmVyUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgcGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQsIHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkQnVmZmVyID0gYXdhaXQgcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyRnVsbEJ1ZmZlcihyZW5kZXJlZEJ1ZmZlciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgZmVlZGJhY2ssIGZlZWRmb3J3YXJkKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRCdWZmZXIgPSBhd2FpdCBmaWx0ZXJlZEJ1ZmZlclByb21pc2U7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IGZpbHRlcmVkQnVmZmVyO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZUlJUkZpbHRlck5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUlJUkZpbHRlck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSA9IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2Rlcy5nZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZUF1ZGlvTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWlyLWZpbHRlci1ub2RlLXJlbmRlcmVyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvYXNzaWduLW5hdGl2ZS1hdWRpby1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWtlcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIG9wdGlvbnMpID0+IHtcbiAgICAgICAgLy8gQnVnICM5OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBJSVJGaWx0ZXJOb2Rlcy5cbiAgICAgICAgaWYgKG5hdGl2ZUNvbnRleHQuY3JlYXRlSUlSRmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXIobmF0aXZlQ29udGV4dCwgYmFzZUxhdGVuY3ksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0b2RvIFR5cGVTY3JpcHQgZGVmaW5lcyB0aGUgcGFyYW1ldGVycyBvZiBjcmVhdGVJSVJGaWx0ZXIoKSBhcyBhcnJheXMgb2YgbnVtYmVycy5cbiAgICAgICAgY29uc3QgbmF0aXZlSUlSRmlsdGVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlSUlSRmlsdGVyKG9wdGlvbnMuZmVlZGZvcndhcmQsIG9wdGlvbnMuZmVlZGJhY2spO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZUlJUkZpbHRlck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmF0aXZlSUlSRmlsdGVyTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1paXItZmlsdGVyLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVJbnZhbGlkQWNjZXNzRXJyb3IgfSBmcm9tICcuLi9mYWN0b3JpZXMvaW52YWxpZC1hY2Nlc3MtZXJyb3InO1xuZXhwb3J0IGNvbnN0IHdyYXBJSVJGaWx0ZXJOb2RlR2V0RnJlcXVlbmN5UmVzcG9uc2VNZXRob2QgPSAobmF0aXZlSUlSRmlsdGVyTm9kZSkgPT4ge1xuICAgIG5hdGl2ZUlJUkZpbHRlck5vZGUuZ2V0RnJlcXVlbmN5UmVzcG9uc2UgPSAoKGdldEZyZXF1ZW5jeVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJldHVybiAoZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZnJlcXVlbmN5SHoubGVuZ3RoICE9PSBtYWdSZXNwb25zZS5sZW5ndGggfHwgbWFnUmVzcG9uc2UubGVuZ3RoICE9PSBwaGFzZVJlc3BvbnNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldEZyZXF1ZW5jeVJlc3BvbnNlLmNhbGwobmF0aXZlSUlSRmlsdGVyTm9kZSwgZnJlcXVlbmN5SHosIG1hZ1Jlc3BvbnNlLCBwaGFzZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICB9KShuYXRpdmVJSVJGaWx0ZXJOb2RlLmdldEZyZXF1ZW5jeVJlc3BvbnNlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwLWlpci1maWx0ZXItbm9kZS1nZXQtZnJlcXVlbmN5LXJlc3BvbnNlLW1ldGhvZC5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvTGlzdGVuZXJGYWN0b3J5ID0gKGNyZWF0ZUF1ZGlvUGFyYW0sIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUsIGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBnZXRGaXJzdFNhbXBsZSwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvdmVyd3JpdGVBY2Nlc3NvcnMpID0+IHtcbiAgICByZXR1cm4gKGNvbnRleHQsIG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlTGlzdGVuZXIgPSBuYXRpdmVDb250ZXh0Lmxpc3RlbmVyO1xuICAgICAgICAvLyBCdWcgIzExNzogT25seSBDaHJvbWUgJiBFZGdlIHN1cHBvcnQgdGhlIG5ldyBpbnRlcmZhY2UgYWxyZWFkeS5cbiAgICAgICAgY29uc3QgY3JlYXRlRmFrZUF1ZGlvUGFyYW1zID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxNZXJnZXJOb2RlID0gY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgICAgICBudW1iZXJPZklucHV0czogOVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBpc09mZmxpbmUgPSBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBsZXQgaXNTY3JpcHRQcm9jZXNzb3JOb2RlQ3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGxhc3RPcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG4gICAgICAgICAgICBsZXQgbGFzdFBvc2l0aW9uID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTY3JpcHRQcm9jZXNzb3JOb2RlQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzU2NyaXB0UHJvY2Vzc29yTm9kZUNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdFByb2Nlc3Nvck5vZGUgPSBjcmVhdGVOYXRpdmVTY3JpcHRQcm9jZXNzb3JOb2RlKG5hdGl2ZUNvbnRleHQsIDI1NiwgOSwgMCk7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5vbmF1ZGlvcHJvY2VzcyA9ICh7IGlucHV0QnVmZmVyIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgMiksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgNSlcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uLnNvbWUoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgIT09IGxhc3RPcmllbnRhdGlvbltpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVMaXN0ZW5lci5zZXRPcmllbnRhdGlvbiguLi5vcmllbnRhdGlvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0b24gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCA2KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Rmlyc3RTYW1wbGUoaW5wdXRCdWZmZXIsIGJ1ZmZlciwgOClcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0b24uc29tZSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSAhPT0gbGFzdFBvc2l0aW9uW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUxpc3RlbmVyLnNldFBvc2l0aW9uKC4uLnBvc2l0b24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb24gPSBwb3NpdG9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjaGFubmVsTWVyZ2VyTm9kZS5jb25uZWN0KHNjcmlwdFByb2Nlc3Nvck5vZGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVNldE9yaWVudGF0aW9uID0gKGluZGV4KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGxhc3RPcmllbnRhdGlvbltpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWVudGF0aW9uW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVMaXN0ZW5lci5zZXRPcmllbnRhdGlvbiguLi5sYXN0T3JpZW50YXRpb24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVNldFBvc2l0aW9uID0gKGluZGV4KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGxhc3RQb3NpdGlvbltpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVMaXN0ZW5lci5zZXRQb3NpdGlvbiguLi5sYXN0UG9zaXRpb24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUZha2VBdWRpb1BhcmFtID0gKGlucHV0LCBpbml0aWFsVmFsdWUsIHNldFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RhbnRTb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogaW5pdGlhbFZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbyBUaGlzIHNob3VsZCBiZSBzdG9wcGVkIHdoZW4gdGhlIGNvbnRleHQgaXMgY2xvc2VkLlxuICAgICAgICAgICAgICAgIGNvbnN0YW50U291cmNlTm9kZS5zdGFydCgpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdGFudFNvdXJjZU5vZGUub2Zmc2V0LCAnZGVmYXVsdFZhbHVlJywge1xuICAgICAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBCdWcgIzYyICYgIzc0OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBDb25zdGFudFNvdXJjZU5vZGVzIGFuZCBkb2VzIG5vdCBleHBvcnQgdGhlIGNvcnJlY3QgdmFsdWVzIGZvciBtYXhWYWx1ZSBhbmRcbiAgICAgICAgICAgICAgICAgKiBtaW5WYWx1ZSBmb3IgR2Fpbk5vZGVzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvUGFyYW0gPSBjcmVhdGVBdWRpb1BhcmFtKHsgY29udGV4dCB9LCBpc09mZmxpbmUsIGNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQsIE1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FULCBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCk7XG4gICAgICAgICAgICAgICAgb3ZlcndyaXRlQWNjZXNzb3JzKGF1ZGlvUGFyYW0sICd2YWx1ZScsIChnZXQpID0+ICgpID0+IGdldC5jYWxsKGF1ZGlvUGFyYW0pLCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5jYWxsKGF1ZGlvUGFyYW0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgIT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0UHJvY2Vzc29yTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPZmZsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzExNzogVXNpbmcgc2V0T3JpZW50YXRpb24oKSBhbmQgc2V0UG9zaXRpb24oKSBkb2Vzbid0IHdvcmsgd2l0aCBhbiBPZmZsaW5lQXVkaW9Db250ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5jYW5jZWxBbmRIb2xkQXRUaW1lID0gKChjYW5jZWxBbmRIb2xkQXRUaW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNhbmNlbEFuZEhvbGRBdFRpbWUuYXBwbHkoYXVkaW9QYXJhbSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkoYXVkaW9QYXJhbS5jYW5jZWxBbmRIb2xkQXRUaW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyA9ICgoY2FuY2VsU2NoZWR1bGVkVmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNhbmNlbFNjaGVkdWxlZFZhbHVlcy5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lID0gKChleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUuYXBwbHkoYXVkaW9QYXJhbSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkoYXVkaW9QYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lID0gKChsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPZmZsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb1BhcmFtLnNldFRhcmdldEF0VGltZSA9ICgoc2V0VGFyZ2V0QXRUaW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNldFRhcmdldEF0VGltZS5hcHBseShhdWRpb1BhcmFtLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KShhdWRpb1BhcmFtLnNldFRhcmdldEF0VGltZSk7XG4gICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZSA9ICgoc2V0VmFsdWVBdFRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2V0VmFsdWVBdFRpbWUuYXBwbHkoYXVkaW9QYXJhbSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkoYXVkaW9QYXJhbS5zZXRWYWx1ZUF0VGltZSk7XG4gICAgICAgICAgICAgICAgYXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lID0gKChzZXRWYWx1ZUN1cnZlQXRUaW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09mZmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNldFZhbHVlQ3VydmVBdFRpbWUuYXBwbHkoYXVkaW9QYXJhbSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRQcm9jZXNzb3JOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkoYXVkaW9QYXJhbS5zZXRWYWx1ZUN1cnZlQXRUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9QYXJhbTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZvcndhcmRYOiBjcmVhdGVGYWtlQXVkaW9QYXJhbSgwLCAwLCBjcmVhdGVTZXRPcmllbnRhdGlvbigwKSksXG4gICAgICAgICAgICAgICAgZm9yd2FyZFk6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDEsIDAsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDEpKSxcbiAgICAgICAgICAgICAgICBmb3J3YXJkWjogY3JlYXRlRmFrZUF1ZGlvUGFyYW0oMiwgLTEsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDIpKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblg6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDYsIDAsIGNyZWF0ZVNldFBvc2l0aW9uKDApKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblk6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDcsIDAsIGNyZWF0ZVNldFBvc2l0aW9uKDEpKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblo6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDgsIDAsIGNyZWF0ZVNldFBvc2l0aW9uKDIpKSxcbiAgICAgICAgICAgICAgICB1cFg6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDMsIDAsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDMpKSxcbiAgICAgICAgICAgICAgICB1cFk6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDQsIDEsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDQpKSxcbiAgICAgICAgICAgICAgICB1cFo6IGNyZWF0ZUZha2VBdWRpb1BhcmFtKDUsIDAsIGNyZWF0ZVNldE9yaWVudGF0aW9uKDUpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBmb3J3YXJkWCwgZm9yd2FyZFksIGZvcndhcmRaLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcG9zaXRpb25aLCB1cFgsIHVwWSwgdXBaIH0gPSBuYXRpdmVMaXN0ZW5lci5mb3J3YXJkWCA9PT0gdW5kZWZpbmVkID8gY3JlYXRlRmFrZUF1ZGlvUGFyYW1zKCkgOiBuYXRpdmVMaXN0ZW5lcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldCBmb3J3YXJkWCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZFg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGZvcndhcmRZKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3J3YXJkWTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZm9yd2FyZFooKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcndhcmRaO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwb3NpdGlvblgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcG9zaXRpb25ZKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBvc2l0aW9uWigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb25aO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCB1cFgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgdXBZKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cFk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHVwWigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBaO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tbGlzdGVuZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBDT05URVhUX1NUT1JFIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IChhdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yLCBjcmVhdGVBdWRpb0xpc3RlbmVyLCBldmVudFRhcmdldENvbnN0cnVjdG9yLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUsIHdyYXBFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIE1pbmltYWxCYXNlQXVkaW9Db250ZXh0IGV4dGVuZHMgZXZlbnRUYXJnZXRDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVDb250ZXh0LCBudW1iZXJPZkNoYW5uZWxzKSB7XG4gICAgICAgICAgICBzdXBlcihfbmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb250ZXh0ID0gX25hdGl2ZUNvbnRleHQ7XG4gICAgICAgICAgICBDT05URVhUX1NUT1JFLnNldCh0aGlzLCBfbmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KF9uYXRpdmVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUuc2V0KF9uYXRpdmVDb250ZXh0LCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGVzdGluYXRpb24gPSBuZXcgYXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3Rvcih0aGlzLCBudW1iZXJPZkNoYW5uZWxzKTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyID0gY3JlYXRlQXVkaW9MaXN0ZW5lcih0aGlzLCBfbmF0aXZlQ29udGV4dCk7XG4gICAgICAgICAgICB0aGlzLl9vbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGVzdGluYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIGdldCBvbnN0YXRlY2hhbmdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uc3RhdGVjaGFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG9uc3RhdGVjaGFuZ2UodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRMaXN0ZW5lciA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHdyYXBFdmVudExpc3RlbmVyKHRoaXMsIHZhbHVlKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb250ZXh0Lm9uc3RhdGVjaGFuZ2UgPSB3cmFwcGVkTGlzdGVuZXI7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVPblN0YXRlQ2hhbmdlID0gdGhpcy5fbmF0aXZlQ29udGV4dC5vbnN0YXRlY2hhbmdlO1xuICAgICAgICAgICAgdGhpcy5fb25zdGF0ZWNoYW5nZSA9IG5hdGl2ZU9uU3RhdGVDaGFuZ2UgIT09IG51bGwgJiYgbmF0aXZlT25TdGF0ZUNoYW5nZSA9PT0gd3JhcHBlZExpc3RlbmVyID8gdmFsdWUgOiBuYXRpdmVPblN0YXRlQ2hhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBzYW1wbGVSYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ29udGV4dC5zdGF0ZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWluaW1hbC1iYXNlLWF1ZGlvLWNvbnRleHQtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmltcG9ydCB7IHdyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1zY2hlZHVsZWQtc291cmNlLW5vZGUtc3RhcnQtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMnO1xuaW1wb3J0IHsgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXAtYXVkaW8tc2NoZWR1bGVkLXNvdXJjZS1ub2RlLXN0b3AtbWV0aG9kLW5lZ2F0aXZlLXBhcmFtZXRlcnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZU9zY2lsbGF0b3JOb2RlRmFjdG9yeSA9IChhZGRTaWxlbnRDb25uZWN0aW9uLCBjYWNoZVRlc3RSZXN1bHQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxsc1N1cHBvcnQsIHRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCwgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZU9zY2lsbGF0b3JOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMobmF0aXZlT3NjaWxsYXRvck5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUobmF0aXZlT3NjaWxsYXRvck5vZGUsIG9wdGlvbnMsICdkZXR1bmUnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBvcHRpb25zLCAnZnJlcXVlbmN5Jyk7XG4gICAgICAgIGlmIChvcHRpb25zLnBlcmlvZGljV2F2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYXRpdmVPc2NpbGxhdG9yTm9kZS5zZXRQZXJpb2RpY1dhdmUob3B0aW9ucy5wZXJpb2RpY1dhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBvcHRpb25zLCAndHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjNDQ6IE9ubHkgQ2hyb21lICYgRWRnZSB0aHJvdyBhIFJhbmdlRXJyb3IgeWV0LlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RhcnRNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzKG5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE5OiBTYWZhcmkgZG9lcyBub3QgaWdub3JlIGNhbGxzIHRvIHN0b3AoKSBvZiBhbiBhbHJlYWR5IHN0b3BwZWQgQXVkaW9CdWZmZXJTb3VyY2VOb2RlLlxuICAgICAgICBpZiAoIWNhY2hlVGVzdFJlc3VsdCh0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgd3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzKG5hdGl2ZU9zY2lsbGF0b3JOb2RlLCBuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzQ0OiBPbmx5IEZpcmVmb3ggZG9lcyBub3QgdGhyb3cgYSBSYW5nZUVycm9yIHlldC5cbiAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2ROZWdhdGl2ZVBhcmFtZXRlcnNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQobmF0aXZlQ29udGV4dCkpKSB7XG4gICAgICAgICAgICB3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyhuYXRpdmVPc2NpbGxhdG9yTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxNzU6IFNhZmFyaSB3aWxsIG5vdCBmaXJlIGFuIGVuZGVkIGV2ZW50IGlmIHRoZSBPc2NpbGxhdG9yTm9kZSBpcyB1bmNvbm5lY3RlZC5cbiAgICAgICAgYWRkU2lsZW50Q29ubmVjdGlvbihuYXRpdmVDb250ZXh0LCBuYXRpdmVPc2NpbGxhdG9yTm9kZSk7XG4gICAgICAgIHJldHVybiBuYXRpdmVPc2NpbGxhdG9yTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1vc2NpbGxhdG9yLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVPc2NpbGxhdG9yTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgcmVuZGVyQXV0b21hdGlvbiwgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGxldCBwZXJpb2RpY1dhdmUgPSBudWxsO1xuICAgICAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgICAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNyZWF0ZU9zY2lsbGF0b3JOb2RlID0gYXN5bmMgKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICBsZXQgbmF0aXZlT3NjaWxsYXRvck5vZGUgPSBnZXROYXRpdmVBdWRpb05vZGUocHJveHkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxseSB1c2VkIG5hdGl2ZU9zY2lsbGF0b3JOb2RlIHdhcyBub3QgY29uc3RydWN0ZWQgb24gdGhlIHNhbWUgT2ZmbGluZUF1ZGlvQ29udGV4dCBpdCBuZWVkcyB0byBiZSBjcmVhdGVkIGFnYWluLlxuICAgICAgICAgICAgY29uc3QgbmF0aXZlT3NjaWxsYXRvck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVPc2NpbGxhdG9yTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZU9zY2lsbGF0b3JOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlT3NjaWxsYXRvck5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVPc2NpbGxhdG9yTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246IG5hdGl2ZU9zY2lsbGF0b3JOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGV0dW5lOiBuYXRpdmVPc2NpbGxhdG9yTm9kZS5kZXR1bmUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogbmF0aXZlT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY1dhdmU6IHBlcmlvZGljV2F2ZSA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHBlcmlvZGljV2F2ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF0aXZlT3NjaWxsYXRvck5vZGUudHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlT3NjaWxsYXRvck5vZGUgPSBjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RhcnQoc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVPc2NpbGxhdG9yTm9kZS5zdG9wKHN0b3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVPc2NpbGxhdG9yTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZU9zY2lsbGF0b3JOb2RlSXNPd25lZEJ5Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZGV0dW5lLCBuYXRpdmVPc2NpbGxhdG9yTm9kZS5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZnJlcXVlbmN5LCBuYXRpdmVPc2NpbGxhdG9yTm9kZS5mcmVxdWVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdEF1ZGlvUGFyYW0obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkuZGV0dW5lLCBuYXRpdmVPc2NpbGxhdG9yTm9kZS5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LmZyZXF1ZW5jeSwgbmF0aXZlT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVPc2NpbGxhdG9yTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlT3NjaWxsYXRvck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXQgcGVyaW9kaWNXYXZlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGVyaW9kaWNXYXZlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHN0YXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc3RvcCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2RlID0gcmVuZGVyZWROYXRpdmVPc2NpbGxhdG9yTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZU9zY2lsbGF0b3JOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9zY2lsbGF0b3JOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9zY2lsbGF0b3Itbm9kZS1yZW5kZXJlci1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGVGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSkgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgbmF0aXZlQXVkaW9Ob2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBidWZmZXI6IG51bGwsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDIsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnbWF4JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgbG9vcEVuZDogMCxcbiAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9CdWZmZXIgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAyLCA0NDEwMCk7XG4gICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXIgPSBuYXRpdmVBdWRpb0J1ZmZlcjtcbiAgICAgICAgbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3AgPSB0cnVlO1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuY29ubmVjdChuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQoKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKCk7XG4gICAgICAgICAgICBuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuZGlzY29ubmVjdChuYXRpdmVBdWRpb05vZGUpO1xuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdGVkLW5hdGl2ZS1hdWRpby1idWZmZXItc291cmNlLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5pbXBvcnQgeyBpbnRlcmNlcHRDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvaW50ZXJjZXB0LWNvbm5lY3Rpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyRmFjdG9yeSA9IChjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgaXNEQ0N1cnZlLCBtb25pdG9yQ29ubmVjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIHsgY3VydmUsIG92ZXJzYW1wbGUsIC4uLmF1ZGlvTm9kZU9wdGlvbnMgfSkgPT4ge1xuICAgICAgICBjb25zdCBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVXYXZlU2hhcGVyKCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLCBhdWRpb05vZGVPcHRpb25zKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlLCBhdWRpb05vZGVPcHRpb25zKTtcbiAgICAgICAgY29uc3QgaW5wdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogMSB9KTtcbiAgICAgICAgY29uc3QgaW52ZXJ0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLmF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IC0xIH0pO1xuICAgICAgICBjb25zdCBvdXRwdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogMSB9KTtcbiAgICAgICAgY29uc3QgcmV2ZXJ0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLmF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IC0xIH0pO1xuICAgICAgICBsZXQgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgIGxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdW5tb2RpZmllZEN1cnZlID0gbnVsbDtcbiAgICAgICAgY29uc3QgbmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciA9IHtcbiAgICAgICAgICAgIGdldCBidWZmZXJTaXplKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaW52ZXJ0R2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBvdXRwdXRHYWluTm9kZS5jaGFubmVsQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldmVydEdhaW5Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxDb3VudE1vZGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpbnZlcnRHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgb3V0cHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbENvdW50TW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldmVydEdhaW5Ob2RlLmNoYW5uZWxDb3VudE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpbnZlcnRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG91dHB1dEdhaW5Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV2ZXJ0R2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY3VydmUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVubW9kaWZpZWRDdXJ2ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY3VydmUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEwMjogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIEludmFsaWRTdGF0ZUVycm9yIHdoZW4gdGhlIGN1cnZlIGhhcyBsZXNzIHRoYW4gdHdvIHNhbXBsZXMuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VydmVMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KGN1cnZlTGVuZ3RoICsgMiAtIChjdXJ2ZUxlbmd0aCAlIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpdmVDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoY3VydmVMZW5ndGggKyAyIC0gKGN1cnZlTGVuZ3RoICUgMikpO1xuICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZUN1cnZlWzBdID0gdmFsdWVbMF07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aXZlQ3VydmVbMF0gPSAtdmFsdWVbY3VydmVMZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5jZWlsKChjdXJ2ZUxlbmd0aCArIDEpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlckluZGV4ID0gKGN1cnZlTGVuZ3RoICsgMSkgLyAyIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlb3JldGljSW5kZXggPSAoaSAvIGxlbmd0aCkgKiBjZW50ZXJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VySW5kZXggPSBNYXRoLmZsb29yKHRoZW9yZXRpY0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVySW5kZXggPSBNYXRoLmNlaWwodGhlb3JldGljSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmVDdXJ2ZVtpXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJJbmRleCA9PT0gdXBwZXJJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlW2xvd2VySW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKDEgLSAodGhlb3JldGljSW5kZXggLSBsb3dlckluZGV4KSkgKiB2YWx1ZVtsb3dlckluZGV4XSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMSAtICh1cHBlckluZGV4IC0gdGhlb3JldGljSW5kZXgpKSAqIHZhbHVlW3VwcGVySW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpdmVDdXJ2ZVtpXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJJbmRleCA9PT0gdXBwZXJJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC12YWx1ZVtjdXJ2ZUxlbmd0aCAtIDEgLSBsb3dlckluZGV4XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC0oKDEgLSAodGhlb3JldGljSW5kZXggLSBsb3dlckluZGV4KSkgKiB2YWx1ZVtjdXJ2ZUxlbmd0aCAtIDEgLSBsb3dlckluZGV4XSkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDEgLSAodXBwZXJJbmRleCAtIHRoZW9yZXRpY0luZGV4KSkgKiB2YWx1ZVtjdXJ2ZUxlbmd0aCAtIDEgLSB1cHBlckluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZUN1cnZlW2xlbmd0aF0gPSBjdXJ2ZUxlbmd0aCAlIDIgPT09IDEgPyB2YWx1ZVtsZW5ndGggLSAxXSA6ICh2YWx1ZVtsZW5ndGggLSAyXSArIHZhbHVlW2xlbmd0aCAtIDFdKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmUgPSBuZWdhdGl2ZUN1cnZlO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlID0gcG9zaXRpdmVDdXJ2ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5tb2RpZmllZEN1cnZlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RDQ3VydmUodW5tb2RpZmllZEN1cnZlKSAmJiBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIGlucHV0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnB1dEdhaW5Ob2RlXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUubnVtYmVyT2ZJbnB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVXYXZlU2hhcGVyTm9kZS5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG92ZXJzYW1wbGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgb3ZlcnNhbXBsZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5lZ2F0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHBvc2l0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmFkZEV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuZGlzcGF0Y2hFdmVudChhcmdzWzBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY3VydmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgdmFsdWVzIG9mIHR5cGUgRmxvYXQzMkFycmF5IGNhbiBiZSBhc3NpZ25lZCB0byB0aGUgY3VydmUgcHJvcGVydHkuXG4gICAgICAgICAgICBuYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyLmN1cnZlID0gY3VydmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBjdXJ2ZSA6IG5ldyBGbG9hdDMyQXJyYXkoY3VydmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVyc2FtcGxlICE9PSBuYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyLm92ZXJzYW1wbGUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIub3ZlcnNhbXBsZSA9IG92ZXJzYW1wbGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2hlbkNvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlKS5jb25uZWN0KG91dHB1dEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChpbnZlcnRHYWluTm9kZSkuY29ubmVjdChwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlKS5jb25uZWN0KHJldmVydEdhaW5Ob2RlKS5jb25uZWN0KG91dHB1dEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpc0RDQ3VydmUodW5tb2RpZmllZEN1cnZlKSkge1xuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwgaW5wdXRHYWluTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdoZW5EaXNjb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QobmVnYXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICBuZWdhdGl2ZVdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3Qob3V0cHV0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5kaXNjb25uZWN0KGludmVydEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIGludmVydEdhaW5Ob2RlLmRpc2Nvbm5lY3QocG9zaXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICBwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocmV2ZXJ0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgcmV2ZXJ0R2Fpbk5vZGUuZGlzY29ubmVjdChvdXRwdXRHYWluTm9kZSk7XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKCk7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtb25pdG9yQ29ubmVjdGlvbnMoaW50ZXJjZXB0Q29ubmVjdGlvbnMobmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciwgb3V0cHV0R2Fpbk5vZGUpLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS13YXZlLXNoYXBlci1ub2RlLWZha2VyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZhY3RvcnkgPSAoY3JlYXRlQ29ubmVjdGVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGVGYWtlciwgaXNEQ0N1cnZlLCBtb25pdG9yQ29ubmVjdGlvbnMsIG5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCBvdmVyd3JpdGVBY2Nlc3NvcnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlV2F2ZVNoYXBlck5vZGUgPSBuYXRpdmVDb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICAgICAgLypcbiAgICAgICAgICogQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBjb3JyZWN0bHkgbWFwIHRoZSB2YWx1ZXMuXG4gICAgICAgICAqIEB0b2RvIFVuZm9ydHVuYXRlbHkgdGhlcmUgaXMgbm8gd2F5IHRvIHRlc3QgZm9yIHRoaXMgYmVoYXZpb3IgaW4gYSBzeW5jaHJvbm91cyBmYXNoaW9uIHdoaWNoIGlzIHdoeSB0ZXN0aW5nIGZvciB0aGUgZXhpc3RlbmNlIG9mXG4gICAgICAgICAqIHRoZSB3ZWJraXRBdWRpb0NvbnRleHQgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgaGVyZS4gVGVzdGluZyBmb3IgdGhlIGF1dG9tYXRpb25SYXRlIHByb3BlcnR5IGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoaXMgd29ya2Fyb3VuZFxuICAgICAgICAgKiBpc24ndCBuZWNlc3NhcnkgYW55bW9yZSBzaW5jZSB2MTQuMC4yIG9mIFNhZmFyaS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChuYXRpdmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IubmFtZSA9PT0gJ3dlYmtpdEF1ZGlvQ29udGV4dCcgJiZcbiAgICAgICAgICAgIG5hdGl2ZUNvbnRleHQuY3JlYXRlR2FpbigpLmdhaW4uYXV0b21hdGlvblJhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIobmF0aXZlQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVXYXZlU2hhcGVyTm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGN1cnZlID0gb3B0aW9ucy5jdXJ2ZSA9PT0gbnVsbCB8fCBvcHRpb25zLmN1cnZlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gb3B0aW9ucy5jdXJ2ZSA6IG5ldyBGbG9hdDMyQXJyYXkob3B0aW9ucy5jdXJ2ZSk7XG4gICAgICAgIC8vIEJ1ZyAjMTA0OiBDaHJvbWUgYW5kIEVkZ2Ugd2lsbCB0aHJvdyBhbiBJbnZhbGlkQWNjZXNzRXJyb3Igd2hlbiB0aGUgY3VydmUgaGFzIGxlc3MgdGhhbiB0d28gc2FtcGxlcy5cbiAgICAgICAgaWYgKGN1cnZlICE9PSBudWxsICYmIGN1cnZlLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSB2YWx1ZXMgb2YgdHlwZSBGbG9hdDMyQXJyYXkgY2FuIGJlIGFzc2lnbmVkIHRvIHRoZSBjdXJ2ZSBwcm9wZXJ0eS5cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZVdhdmVTaGFwZXJOb2RlLCB7IGN1cnZlIH0sICdjdXJ2ZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlV2F2ZVNoYXBlck5vZGUsIG9wdGlvbnMsICdvdmVyc2FtcGxlJyk7XG4gICAgICAgIGxldCBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIG92ZXJ3cml0ZUFjY2Vzc29ycyhuYXRpdmVXYXZlU2hhcGVyTm9kZSwgJ2N1cnZlJywgKGdldCkgPT4gKCkgPT4gZ2V0LmNhbGwobmF0aXZlV2F2ZVNoYXBlck5vZGUpLCAoc2V0KSA9PiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldC5jYWxsKG5hdGl2ZVdhdmVTaGFwZXJOb2RlLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEQ0N1cnZlKHZhbHVlKSAmJiBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSBjcmVhdGVDb25uZWN0ZWROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwgbmF0aXZlV2F2ZVNoYXBlck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghaXNEQ0N1cnZlKHZhbHVlKSAmJiBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgd2hlbkNvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpc0RDQ3VydmUobmF0aXZlV2F2ZVNoYXBlck5vZGUuY3VydmUpKSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IGNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBuYXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdoZW5EaXNjb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlKCk7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtb25pdG9yQ29ubmVjdGlvbnMobmF0aXZlV2F2ZVNoYXBlck5vZGUsIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLXdhdmUtc2hhcGVyLW5vZGUtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5pbXBvcnQgeyBpbnRlcmNlcHRDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvaW50ZXJjZXB0LWNvbm5lY3Rpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXJGYWN0b3J5ID0gKGNvbm5lY3ROYXRpdmVBdWRpb05vZGVUb05hdGl2ZUF1ZGlvTm9kZSwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSwgZ2V0Rmlyc3RTYW1wbGUsIG1vbml0b3JDb25uZWN0aW9ucykgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgeyBjb25lSW5uZXJBbmdsZSwgY29uZU91dGVyQW5nbGUsIGNvbmVPdXRlckdhaW4sIGRpc3RhbmNlTW9kZWwsIG1heERpc3RhbmNlLCBvcmllbnRhdGlvblgsIG9yaWVudGF0aW9uWSwgb3JpZW50YXRpb25aLCBwYW5uaW5nTW9kZWwsIHBvc2l0aW9uWCwgcG9zaXRpb25ZLCBwb3NpdGlvblosIHJlZkRpc3RhbmNlLCByb2xsb2ZmRmFjdG9yLCAuLi5hdWRpb05vZGVPcHRpb25zIH0pID0+IHtcbiAgICAgICAgY29uc3QgcGFubmVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlUGFubmVyKCk7XG4gICAgICAgIC8vIEJ1ZyAjMTI1OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgeWV0LlxuICAgICAgICBpZiAoYXVkaW9Ob2RlT3B0aW9ucy5jaGFubmVsQ291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTI2OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgeWV0LlxuICAgICAgICBpZiAoYXVkaW9Ob2RlT3B0aW9ucy5jaGFubmVsQ291bnRNb2RlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKHBhbm5lck5vZGUsIGF1ZGlvTm9kZU9wdGlvbnMpO1xuICAgICAgICBjb25zdCBTSU5HTEVfQ0hBTk5FTF9PUFRJT05TID0ge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJ1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICBudW1iZXJPZklucHV0czogNlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5wdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uYXVkaW9Ob2RlT3B0aW9ucywgZ2FpbjogMSB9KTtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb25YR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDEgfSk7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uWUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICBjb25zdCBvcmllbnRhdGlvblpHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25YR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uWUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICBjb25zdCBwb3NpdGlvblpHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgY29uc3Qgc2NyaXB0UHJvY2Vzc29yTm9kZSA9IGNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUobmF0aXZlQ29udGV4dCwgMjU2LCA2LCAxKTtcbiAgICAgICAgY29uc3Qgd2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLFxuICAgICAgICAgICAgY3VydmU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDFdKSxcbiAgICAgICAgICAgIG92ZXJzYW1wbGU6ICdub25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGxhc3RPcmllbnRhdGlvbiA9IFtvcmllbnRhdGlvblgsIG9yaWVudGF0aW9uWSwgb3JpZW50YXRpb25aXTtcbiAgICAgICAgbGV0IGxhc3RQb3NpdGlvbiA9IFtwb3NpdGlvblgsIHBvc2l0aW9uWSwgcG9zaXRpb25aXTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgIHNjcmlwdFByb2Nlc3Nvck5vZGUub25hdWRpb3Byb2Nlc3MgPSAoeyBpbnB1dEJ1ZmZlciB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IFtcbiAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAwKSxcbiAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAxKSxcbiAgICAgICAgICAgICAgICBnZXRGaXJzdFNhbXBsZShpbnB1dEJ1ZmZlciwgYnVmZmVyLCAyKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbi5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSBsYXN0T3JpZW50YXRpb25baW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuc2V0T3JpZW50YXRpb24oLi4ub3JpZW50YXRpb24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgbGFzdE9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3NpdG9uID0gW1xuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDMpLFxuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDQpLFxuICAgICAgICAgICAgICAgIGdldEZpcnN0U2FtcGxlKGlucHV0QnVmZmVyLCBidWZmZXIsIDUpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKHBvc2l0b24uc29tZSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSAhPT0gbGFzdFBvc2l0aW9uW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLnNldFBvc2l0aW9uKC4uLnBvc2l0b24pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRlcHJlY2F0aW9uXG4gICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID0gcG9zaXRvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9yaWVudGF0aW9uWUdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9yaWVudGF0aW9uWkdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBvc2l0aW9uWEdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBvc2l0aW9uWUdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBvc2l0aW9uWkdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgY29uc3QgbmF0aXZlUGFubmVyTm9kZUZha2VyID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMjU6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50TW9kZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTI2OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3IgeWV0LlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ21heCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY29uZUlubmVyQW5nbGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuY29uZUlubmVyQW5nbGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNvbmVJbm5lckFuZ2xlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGFubmVyTm9kZS5jb25lSW5uZXJBbmdsZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjb25lT3V0ZXJBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY29uZU91dGVyQW5nbGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLmNvbmVPdXRlckFuZ2xlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbmVPdXRlckdhaW4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuY29uZU91dGVyR2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY29uZU91dGVyR2Fpbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTI3OiBTYWZhcmkgZG9lcyBub3QgdGhyb3cgYW4gSW52YWxpZFN0YXRlRXJyb3IgeWV0LlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuY29uZU91dGVyR2FpbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLmNvbnRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGRpc3RhbmNlTW9kZWwoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUuZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgZGlzdGFuY2VNb2RlbCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUuZGlzdGFuY2VNb2RlbCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpbnB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnB1dEdhaW5Ob2RlXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbWF4RGlzdGFuY2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUubWF4RGlzdGFuY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IG1heERpc3RhbmNlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMjg6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLm1heERpc3RhbmNlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mSW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5uZXJOb2RlLm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZk91dHB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvcmllbnRhdGlvblgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWVudGF0aW9uWEdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9yaWVudGF0aW9uWSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb25ZR2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgb3JpZW50YXRpb25aKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvblpHYWluTm9kZS5nYWluO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYW5uaW5nTW9kZWwoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbm5lck5vZGUucGFubmluZ01vZGVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBwYW5uaW5nTW9kZWwodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLnBhbm5pbmdNb2RlbCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwb3NpdGlvblgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWEdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBvc2l0aW9uWSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb25ZR2Fpbk5vZGUuZ2FpbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcG9zaXRpb25aKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblpHYWluTm9kZS5nYWluO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCByZWZEaXN0YW5jZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5yZWZEaXN0YW5jZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgcmVmRGlzdGFuY2UodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEyOTogU2FmYXJpIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHlldC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhbm5lck5vZGUucmVmRGlzdGFuY2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcm9sbG9mZkZhY3RvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFubmVyTm9kZS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCByb2xsb2ZmRmFjdG9yKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxMzA6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYW5uZXJOb2RlLnJvbGxvZmZGYWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5hZGRFdmVudExpc3RlbmVyKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmRpc3BhdGNoRXZlbnQoYXJnc1swXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmVJbm5lckFuZ2xlICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIuY29uZUlubmVyQW5nbGUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5jb25lSW5uZXJBbmdsZSA9IGNvbmVJbm5lckFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25lT3V0ZXJBbmdsZSAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLmNvbmVPdXRlckFuZ2xlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIuY29uZU91dGVyQW5nbGUgPSBjb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZU91dGVyR2FpbiAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLmNvbmVPdXRlckdhaW4pIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5jb25lT3V0ZXJHYWluID0gY29uZU91dGVyR2FpbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2VNb2RlbCAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLmRpc3RhbmNlTW9kZWwpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5kaXN0YW5jZU1vZGVsID0gZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RGlzdGFuY2UgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5tYXhEaXN0YW5jZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uWCAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLm9yaWVudGF0aW9uWC52YWx1ZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLm9yaWVudGF0aW9uWC52YWx1ZSA9IG9yaWVudGF0aW9uWDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JpZW50YXRpb25ZICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIub3JpZW50YXRpb25ZLnZhbHVlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIub3JpZW50YXRpb25ZLnZhbHVlID0gb3JpZW50YXRpb25ZO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmllbnRhdGlvblogIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5vcmllbnRhdGlvbloudmFsdWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5vcmllbnRhdGlvbloudmFsdWUgPSBvcmllbnRhdGlvblo7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhbm5pbmdNb2RlbCAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLnBhbm5pbmdNb2RlbCkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLnBhbm5pbmdNb2RlbCA9IHBhbm5pbmdNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb25YICE9PSBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucG9zaXRpb25YLnZhbHVlKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucG9zaXRpb25YLnZhbHVlID0gcG9zaXRpb25YO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvblkgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5wb3NpdGlvblkudmFsdWUpIHtcbiAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGVGYWtlci5wb3NpdGlvblkudmFsdWUgPSBwb3NpdGlvblk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uWiAhPT0gbmF0aXZlUGFubmVyTm9kZUZha2VyLnBvc2l0aW9uWi52YWx1ZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLnBvc2l0aW9uWi52YWx1ZSA9IHBvc2l0aW9uWjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmRGlzdGFuY2UgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5yZWZEaXN0YW5jZSkge1xuICAgICAgICAgICAgbmF0aXZlUGFubmVyTm9kZUZha2VyLnJlZkRpc3RhbmNlID0gcmVmRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvbGxvZmZGYWN0b3IgIT09IG5hdGl2ZVBhbm5lck5vZGVGYWtlci5yb2xsb2ZmRmFjdG9yKSB7XG4gICAgICAgICAgICBuYXRpdmVQYW5uZXJOb2RlRmFrZXIucm9sbG9mZkZhY3RvciA9IHJvbGxvZmZGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RPcmllbnRhdGlvblswXSAhPT0gMSB8fCBsYXN0T3JpZW50YXRpb25bMV0gIT09IDAgfHwgbGFzdE9yaWVudGF0aW9uWzJdICE9PSAwKSB7XG4gICAgICAgICAgICBwYW5uZXJOb2RlLnNldE9yaWVudGF0aW9uKC4uLmxhc3RPcmllbnRhdGlvbik7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGVwcmVjYXRpb25cbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdFBvc2l0aW9uWzBdICE9PSAwIHx8IGxhc3RQb3NpdGlvblsxXSAhPT0gMCB8fCBsYXN0UG9zaXRpb25bMl0gIT09IDApIHtcbiAgICAgICAgICAgIHBhbm5lck5vZGUuc2V0UG9zaXRpb24oLi4ubGFzdFBvc2l0aW9uKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkZXByZWNhdGlvblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdoZW5Db25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNvbm5lY3QocGFubmVyTm9kZSk7XG4gICAgICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICAgICAgY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlKGlucHV0R2Fpbk5vZGUsIHdhdmVTaGFwZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmNvbm5lY3Qob3JpZW50YXRpb25YR2Fpbk5vZGUpLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuY29ubmVjdChvcmllbnRhdGlvbllHYWluTm9kZSkuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5jb25uZWN0KG9yaWVudGF0aW9uWkdhaW5Ob2RlKS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAyKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmNvbm5lY3QocG9zaXRpb25YR2Fpbk5vZGUpLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDMpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuY29ubmVjdChwb3NpdGlvbllHYWluTm9kZSkuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgNCk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5jb25uZWN0KHBvc2l0aW9uWkdhaW5Ob2RlKS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCA1KTtcbiAgICAgICAgICAgIGNoYW5uZWxNZXJnZXJOb2RlLmNvbm5lY3Qoc2NyaXB0UHJvY2Vzc29yTm9kZSkuY29ubmVjdChuYXRpdmVDb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2hlbkRpc2Nvbm5lY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChwYW5uZXJOb2RlKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgICAgICBkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZShpbnB1dEdhaW5Ob2RlLCB3YXZlU2hhcGVyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KG9yaWVudGF0aW9uWEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uWEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChvcmllbnRhdGlvbllHYWluTm9kZSk7XG4gICAgICAgICAgICBvcmllbnRhdGlvbllHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3Qob3JpZW50YXRpb25aR2Fpbk5vZGUpO1xuICAgICAgICAgICAgb3JpZW50YXRpb25aR2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSk7XG4gICAgICAgICAgICB3YXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KHBvc2l0aW9uWEdhaW5Ob2RlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uWEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUpO1xuICAgICAgICAgICAgd2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChwb3NpdGlvbllHYWluTm9kZSk7XG4gICAgICAgICAgICBwb3NpdGlvbllHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgICAgIHdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocG9zaXRpb25aR2Fpbk5vZGUpO1xuICAgICAgICAgICAgcG9zaXRpb25aR2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSk7XG4gICAgICAgICAgICBjaGFubmVsTWVyZ2VyTm9kZS5kaXNjb25uZWN0KHNjcmlwdFByb2Nlc3Nvck5vZGUpO1xuICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5kaXNjb25uZWN0KG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbW9uaXRvckNvbm5lY3Rpb25zKGludGVyY2VwdENvbm5lY3Rpb25zKG5hdGl2ZVBhbm5lck5vZGVGYWtlciwgcGFubmVyTm9kZSksIHdoZW5Db25uZWN0ZWQsIHdoZW5EaXNjb25uZWN0ZWQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLXBhbm5lci1ub2RlLWZha2VyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtYXVkaW8tcGFyYW0tdmFsdWUnO1xuaW1wb3J0IHsgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9uJztcbmltcG9ydCB7IGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1vcHRpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFjdG9yeSA9IChjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXIpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlUGFubmVyTm9kZSA9IG5hdGl2ZUNvbnRleHQuY3JlYXRlUGFubmVyKCk7XG4gICAgICAgIC8vIEJ1ZyAjMTI0OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZnlpbmcgdGhlIG9yaWVudGF0aW9uIGFuZCB0aGUgcG9zaXRpb24gd2l0aCBBdWRpb1BhcmFtcy5cbiAgICAgICAgaWYgKG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25YID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXIobmF0aXZlQ29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdvcmllbnRhdGlvblgnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdvcmllbnRhdGlvblknKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdvcmllbnRhdGlvblonKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdwb3NpdGlvblgnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdwb3NpdGlvblknKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdwb3NpdGlvblonKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdjb25lSW5uZXJBbmdsZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ2NvbmVPdXRlckFuZ2xlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAnY29uZU91dGVyR2FpbicpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ2Rpc3RhbmNlTW9kZWwnKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9uKG5hdGl2ZVBhbm5lck5vZGUsIG9wdGlvbnMsICdtYXhEaXN0YW5jZScpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ3Bhbm5pbmdNb2RlbCcpO1xuICAgICAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb24obmF0aXZlUGFubmVyTm9kZSwgb3B0aW9ucywgJ3JlZkRpc3RhbmNlJyk7XG4gICAgICAgIGFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbihuYXRpdmVQYW5uZXJOb2RlLCBvcHRpb25zLCAncm9sbG9mZkZhY3RvcicpO1xuICAgICAgICByZXR1cm4gbmF0aXZlUGFubmVyTm9kZTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1wYW5uZXItbm9kZS1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIgfSBmcm9tICcuLi9ndWFyZHMvbmF0aXZlLWF1ZGlvLW5vZGUtZmFrZXInO1xuaW1wb3J0IHsgaXNPd25lZEJ5Q29udGV4dCB9IGZyb20gJy4uL2hlbHBlcnMvaXMtb3duZWQtYnktY29udGV4dCc7XG5leHBvcnQgY29uc3QgY3JlYXRlUGFubmVyTm9kZVJlbmRlcmVyRmFjdG9yeSA9IChjb25uZWN0QXVkaW9QYXJhbSwgY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUsIGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUsIGdldE5hdGl2ZUF1ZGlvTm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yLCByZW5kZXJBdXRvbWF0aW9uLCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSwgcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGxldCByZW5kZXJlZEJ1ZmZlclByb21pc2UgPSBudWxsO1xuICAgICAgICBjb25zdCBjcmVhdGVBdWRpb05vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVHYWluTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbmF0aXZlUGFubmVyTm9kZSA9IGdldE5hdGl2ZUF1ZGlvTm9kZShwcm94eSk7XG4gICAgICAgICAgICBjb25zdCBjb21tb25BdWRpb05vZGVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogbmF0aXZlUGFubmVyTm9kZS5jaGFubmVsQ291bnQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlUGFubmVyTm9kZS5jaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlUGFubmVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjb21tb25OYXRpdmVQYW5uZXJOb2RlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5jb21tb25BdWRpb05vZGVPcHRpb25zLFxuICAgICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBuYXRpdmVQYW5uZXJOb2RlLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiBuYXRpdmVQYW5uZXJOb2RlLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG5hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBuYXRpdmVQYW5uZXJOb2RlLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IG5hdGl2ZVBhbm5lck5vZGUubWF4RGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBuYXRpdmVQYW5uZXJOb2RlLnBhbm5pbmdNb2RlbCxcbiAgICAgICAgICAgICAgICByZWZEaXN0YW5jZTogbmF0aXZlUGFubmVyTm9kZS5yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiBuYXRpdmVQYW5uZXJOb2RlLnJvbGxvZmZGYWN0b3JcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlUGFubmVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVBhbm5lck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVQYW5uZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTI0OiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZnlpbmcgdGhlIG9yaWVudGF0aW9uIGFuZCB0aGUgcG9zaXRpb24gd2l0aCBBdWRpb1BhcmFtcy5cbiAgICAgICAgICAgIGlmICgnYnVmZmVyU2l6ZScgaW4gbmF0aXZlUGFubmVyTm9kZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgeyAuLi5jb21tb25BdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW5hdGl2ZVBhbm5lck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY29tbW9uTmF0aXZlUGFubmVyTm9kZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWDogbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWTogbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWjogbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvbloudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWDogbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWTogbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWjogbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvbloudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZVBhbm5lck5vZGUgPSBjcmVhdGVOYXRpdmVQYW5uZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVHYWluTm9kZSA9PT0gbnVsbCA/IG5hdGl2ZVBhbm5lck5vZGUgOiBuYXRpdmVHYWluTm9kZSk7XG4gICAgICAgICAgICBpZiAobmF0aXZlR2Fpbk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWRCdWZmZXJQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgbmF0aXZlIE9mZmxpbmVBdWRpb0NvbnRleHQgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQgPSBuZXcgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKDYsIFxuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE3OiBTYWZhcmkgZG9lcyBub3QgeWV0IGV4cG9zZSB0aGUgbGVuZ3RoLlxuICAgICAgICAgICAgICAgICAgICBwcm94eS5jb250ZXh0Lmxlbmd0aCwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ3NwZWFrZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiA2XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVDaGFubmVsTWVyZ2VyTm9kZS5jb25uZWN0KHBhcnRpYWxPZmZsaW5lQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRCdWZmZXJQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkub3JpZW50YXRpb25YLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5Lm9yaWVudGF0aW9uWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5vcmllbnRhdGlvblosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkucG9zaXRpb25YLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LnBvc2l0aW9uWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5wb3NpdGlvblpcbiAgICAgICAgICAgICAgICAgICAgICAgIF0ubWFwKGFzeW5jIChhdWRpb1BhcmFtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZShwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBpbmRleCA9PT0gMCA/IDEgOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihwYXJ0aWFsT2ZmbGluZUF1ZGlvQ29udGV4dCwgYXVkaW9QYXJhbSwgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnN0YW50U291cmNlTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2Rlc1tpXS5jb25uZWN0KG5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCAwLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDb25zdGFudFNvdXJjZU5vZGVzW2ldLnN0YXJ0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQocGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZEJ1ZmZlciA9IGF3YWl0IHJlbmRlcmVkQnVmZmVyUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgeyAuLi5jb21tb25BdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBpbnB1dEdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsRGF0YXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVkQnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsRGF0YXMucHVzaChyZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBsYXN0T3JpZW50YXRpb24gPSBbY2hhbm5lbERhdGFzWzBdWzBdLCBjaGFubmVsRGF0YXNbMV1bMF0sIGNoYW5uZWxEYXRhc1syXVswXV07XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RQb3NpdGlvbiA9IFtjaGFubmVsRGF0YXNbM11bMF0sIGNoYW5uZWxEYXRhc1s0XVswXSwgY2hhbm5lbERhdGFzWzVdWzBdXTtcbiAgICAgICAgICAgICAgICBsZXQgZ2F0ZUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgeyAuLi5jb21tb25BdWRpb05vZGVPcHRpb25zLCBnYWluOiAxIH0pO1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0aWFsUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAuLi5jb21tb25OYXRpdmVQYW5uZXJOb2RlT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25YOiBsYXN0T3JpZW50YXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWTogbGFzdE9yaWVudGF0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvblo6IGxhc3RPcmllbnRhdGlvblsyXSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YOiBsYXN0UG9zaXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWTogbGFzdFBvc2l0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblo6IGxhc3RQb3NpdGlvblsyXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChnYXRlR2Fpbk5vZGUpLmNvbm5lY3QocGFydGlhbFBhbm5lck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsUGFubmVyTm9kZS5jb25uZWN0KG5hdGl2ZUdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTI4OyBpIDwgcmVuZGVyZWRCdWZmZXIubGVuZ3RoOyBpICs9IDEyOCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IFtjaGFubmVsRGF0YXNbMF1baV0sIGNoYW5uZWxEYXRhc1sxXVtpXSwgY2hhbm5lbERhdGFzWzJdW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRvbiA9IFtjaGFubmVsRGF0YXNbM11baV0sIGNoYW5uZWxEYXRhc1s0XVtpXSwgY2hhbm5lbERhdGFzWzVdW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uLnNvbWUoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgIT09IGxhc3RPcmllbnRhdGlvbltpbmRleF0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdG9uLnNvbWUoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgIT09IGxhc3RQb3NpdGlvbltpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0T3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQb3NpdGlvbiA9IHBvc2l0b247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGkgLyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYXRlR2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYXRlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB7IC4uLmNvbW1vbkF1ZGlvTm9kZU9wdGlvbnMsIGdhaW46IDAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsUGFubmVyTm9kZSA9IGNyZWF0ZU5hdGl2ZVBhbm5lck5vZGUobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbW1vbk5hdGl2ZVBhbm5lck5vZGVPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWDogbGFzdE9yaWVudGF0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWTogbGFzdE9yaWVudGF0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uWjogbGFzdE9yaWVudGF0aW9uWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWDogbGFzdFBvc2l0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWTogbGFzdFBvc2l0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWjogbGFzdFBvc2l0aW9uWzJdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGVHYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDEsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChnYXRlR2Fpbk5vZGUpLmNvbm5lY3QocGFydGlhbFBhbm5lck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxQYW5uZXJOb2RlLmNvbm5lY3QobmF0aXZlR2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVHYWluTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmF0aXZlUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9yaWVudGF0aW9uWCwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkub3JpZW50YXRpb25ZLCBuYXRpdmVQYW5uZXJOb2RlLm9yaWVudGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5vcmllbnRhdGlvblosIG5hdGl2ZVBhbm5lck5vZGUub3JpZW50YXRpb25aKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJBdXRvbWF0aW9uKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBvc2l0aW9uWCwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlckF1dG9tYXRpb24obmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgcHJveHkucG9zaXRpb25ZLCBuYXRpdmVQYW5uZXJOb2RlLnBvc2l0aW9uWSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5wb3NpdGlvblosIG5hdGl2ZVBhbm5lck5vZGUucG9zaXRpb25aKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9yaWVudGF0aW9uWCwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9yaWVudGF0aW9uWSwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5Lm9yaWVudGF0aW9uWiwgbmF0aXZlUGFubmVyTm9kZS5vcmllbnRhdGlvblopO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBvc2l0aW9uWCwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBvc2l0aW9uWSwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBvc2l0aW9uWiwgbmF0aXZlUGFubmVyTm9kZS5wb3NpdGlvblopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIobmF0aXZlUGFubmVyTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlUGFubmVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZVBhbm5lck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVBhbm5lck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlT3JOYXRpdmVQYW5uZXJOb2RlID0gcmVuZGVyZWROYXRpdmVBdWRpb05vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVHYWluTm9kZU9yTmF0aXZlUGFubmVyTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVuZGVyZWROYXRpdmVHYWluTm9kZU9yTmF0aXZlUGFubmVyTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFubmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlUGVyaW9kaWNXYXZlRmFjdG9yeSA9IChjcmVhdGVJbmRleFNpemVFcnJvcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgeyBkaXNhYmxlTm9ybWFsaXphdGlvbiwgaW1hZywgcmVhbCB9KSA9PiB7XG4gICAgICAgIC8vIEJ1ZyAjMTgwOiBTYWZhcmkgZG9lcyBub3QgYWxsb3cgdG8gdXNlIG9yZGluYXJ5IGFycmF5cy5cbiAgICAgICAgY29uc3QgY29udmVydGVkSW1hZyA9IGltYWcgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBpbWFnIDogbmV3IEZsb2F0MzJBcnJheShpbWFnKTtcbiAgICAgICAgY29uc3QgY29udmVydGVkUmVhbCA9IHJlYWwgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyByZWFsIDogbmV3IEZsb2F0MzJBcnJheShyZWFsKTtcbiAgICAgICAgY29uc3QgbmF0aXZlUGVyaW9kaWNXYXZlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmUoY29udmVydGVkUmVhbCwgY29udmVydGVkSW1hZywgeyBkaXNhYmxlTm9ybWFsaXphdGlvbiB9KTtcbiAgICAgICAgLy8gQnVnICMxODE6IFNhZmFyaSBkb2VzIG5vdCB0aHJvdyBhbiBJbmRleFNpemVFcnJvciBzbyBmYXIgaWYgdGhlIGdpdmVuIGFycmF5cyBoYXZlIGxlc3MgdGhhbiB0d28gdmFsdWVzLlxuICAgICAgICBpZiAoQXJyYXkuZnJvbShpbWFnKS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbmRleFNpemVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXRpdmVQZXJpb2RpY1dhdmU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtcGVyaW9kaWMtd2F2ZS1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBzYW5pdGl6ZVBlcmlvZGljV2F2ZU9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgaW1hZywgcmVhbCB9ID0gb3B0aW9ucztcbiAgICBpZiAoaW1hZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChyZWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIGltYWc6IFswLCAwXSwgcmVhbDogWzAsIDBdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgaW1hZzogQXJyYXkuZnJvbShyZWFsLCAoKSA9PiAwKSwgcmVhbCB9O1xuICAgIH1cbiAgICBpZiAocmVhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIGltYWcsIHJlYWw6IEFycmF5LmZyb20oaW1hZywgKCkgPT4gMCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgaW1hZywgcmVhbCB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLXBlcmlvZGljLXdhdmUtb3B0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcmNlcHRDb25uZWN0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvaW50ZXJjZXB0LWNvbm5lY3Rpb25zJztcbmV4cG9ydCBjb25zdCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlLCBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBtb25pdG9yQ29ubmVjdGlvbnMpID0+IHtcbiAgICAvLyBUaGUgY3VydmUgaGFzIGEgc2l6ZSBvZiAxNGJpdCBwbHVzIDEgdmFsdWUgdG8gaGF2ZSBhbiBleGFjdCByZXByZXNlbnRhdGlvbiBmb3IgemVyby4gVGhpcyB2YWx1ZSBoYXMgYmVlbiBkZXRlcm1pbmVkIGV4cGVyaW1lbnRhbGx5LlxuICAgIGNvbnN0IENVUlZFX1NJWkUgPSAxNjM4NTtcbiAgICBjb25zdCBEQ19DVVJWRSA9IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDFdKTtcbiAgICBjb25zdCBIQUxGX1BJID0gTWF0aC5QSSAvIDI7XG4gICAgY29uc3QgU0lOR0xFX0NIQU5ORUxfT1BUSU9OUyA9IHsgY2hhbm5lbENvdW50OiAxLCBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLCBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScgfTtcbiAgICBjb25zdCBTSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TID0geyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBvdmVyc2FtcGxlOiAnbm9uZScgfTtcbiAgICBjb25zdCBidWlsZEludGVybmFsR3JhcGhGb3JNb25vID0gKG5hdGl2ZUNvbnRleHQsIGlucHV0R2Fpbk5vZGUsIHBhbkdhaW5Ob2RlLCBjaGFubmVsTWVyZ2VyTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBsZWZ0V2F2ZVNoYXBlckN1cnZlID0gbmV3IEZsb2F0MzJBcnJheShDVVJWRV9TSVpFKTtcbiAgICAgICAgY29uc3QgcmlnaHRXYXZlU2hhcGVyQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KENVUlZFX1NJWkUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENVUlZFX1NJWkU7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IChpIC8gKENVUlZFX1NJWkUgLSAxKSkgKiBIQUxGX1BJO1xuICAgICAgICAgICAgbGVmdFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IE1hdGguY29zKHgpO1xuICAgICAgICAgICAgcmlnaHRXYXZlU2hhcGVyQ3VydmVbaV0gPSBNYXRoLnNpbih4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgIGNvbnN0IGxlZnRXYXZlU2hhcGVyTm9kZSA9IChjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX1dBVkVfU0hBUEVSX09QVElPTlMsIGN1cnZlOiBsZWZ0V2F2ZVNoYXBlckN1cnZlIH0pKTtcbiAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgY29uc3QgcGFuV2F2ZVNoYXBlck5vZGUgPSAoY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLCBjdXJ2ZTogRENfQ1VSVkUgfSkpO1xuICAgICAgICBjb25zdCByaWdodEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCByaWdodFdhdmVTaGFwZXJOb2RlID0gKGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUywgY3VydmU6IHJpZ2h0V2F2ZVNoYXBlckN1cnZlIH0pKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbm5lY3RHcmFwaCgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNvbm5lY3QobGVmdEdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmNvbm5lY3QocGFuV2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyBwYW5XYXZlU2hhcGVyTm9kZSA6IHBhbldhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KHJpZ2h0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIHBhbldhdmVTaGFwZXJOb2RlLmNvbm5lY3QocGFuR2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmNvbm5lY3QobGVmdFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkID8gbGVmdFdhdmVTaGFwZXJOb2RlIDogbGVmdFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuY29ubmVjdChyaWdodFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkID8gcmlnaHRXYXZlU2hhcGVyTm9kZSA6IHJpZ2h0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBsZWZ0V2F2ZVNoYXBlck5vZGUuY29ubmVjdChsZWZ0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgcmlnaHRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KHJpZ2h0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgbGVmdEdhaW5Ob2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgICAgIHJpZ2h0R2Fpbk5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzY29ubmVjdEdyYXBoKCkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChsZWZ0R2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuZGlzY29ubmVjdChwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZCA/IHBhbldhdmVTaGFwZXJOb2RlIDogcGFuV2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QocmlnaHRHYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGFuV2F2ZVNoYXBlck5vZGUuZGlzY29ubmVjdChwYW5HYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuZGlzY29ubmVjdChsZWZ0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyBsZWZ0V2F2ZVNoYXBlck5vZGUgOiBsZWZ0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5kaXNjb25uZWN0KHJpZ2h0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQgPyByaWdodFdhdmVTaGFwZXJOb2RlIDogcmlnaHRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGxlZnRXYXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KGxlZnRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocmlnaHRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICBsZWZ0R2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgcmlnaHRHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGJ1aWxkSW50ZXJuYWxHcmFwaEZvclN0ZXJlbyA9IChuYXRpdmVDb250ZXh0LCBpbnB1dEdhaW5Ob2RlLCBwYW5HYWluTm9kZSwgY2hhbm5lbE1lcmdlck5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZSA9IG5ldyBGbG9hdDMyQXJyYXkoQ1VSVkVfU0laRSk7XG4gICAgICAgIGNvbnN0IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlID0gbmV3IEZsb2F0MzJBcnJheShDVVJWRV9TSVpFKTtcbiAgICAgICAgY29uc3QgcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KENVUlZFX1NJWkUpO1xuICAgICAgICBjb25zdCByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KENVUlZFX1NJWkUpO1xuICAgICAgICBjb25zdCBjZW50ZXJJbmRleCA9IE1hdGguZmxvb3IoQ1VSVkVfU0laRSAvIDIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENVUlZFX1NJWkU7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGkgPiBjZW50ZXJJbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSAoKGkgLSBjZW50ZXJJbmRleCkgLyAoQ1VSVkVfU0laRSAtIDEgLSBjZW50ZXJJbmRleCkpICogSEFMRl9QSTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gTWF0aC5jb3MoeCk7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmVbaV0gPSBNYXRoLnNpbih4KTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IDA7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSAoaSAvIChDVVJWRV9TSVpFIC0gMSAtIGNlbnRlckluZGV4KSkgKiBIQUxGX1BJO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmVbaV0gPSAxO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlW2ldID0gMDtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IE1hdGguY29zKHgpO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVtpXSA9IE1hdGguc2luKHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYW5uZWxTcGxpdHRlck5vZGUgPSBjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMixcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICBudW1iZXJPZk91dHB1dHM6IDJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZSA9IGNyZWF0ZU5hdGl2ZUdhaW5Ob2RlKG5hdGl2ZUNvbnRleHQsIHsgLi4uU0lOR0xFX0NIQU5ORUxfT1BUSU9OUywgZ2FpbjogMCB9KTtcbiAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgY29uc3QgbGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlID0gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUyxcbiAgICAgICAgICAgIGN1cnZlOiBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlID0gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUyxcbiAgICAgICAgICAgIGN1cnZlOiBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVnICMxMTk6IFNhZmFyaSBkb2VzIG5vdCBmdWxseSBzdXBwb3J0IHRoZSBXYXZlU2hhcGVyTm9kZS5cbiAgICAgICAgY29uc3QgcGFuV2F2ZVNoYXBlck5vZGUgPSAoY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TLCBjdXJ2ZTogRENfQ1VSVkUgfSkpO1xuICAgICAgICBjb25zdCByaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwgeyAuLi5TSU5HTEVfQ0hBTk5FTF9PUFRJT05TLCBnYWluOiAwIH0pO1xuICAgICAgICAvLyBCdWcgIzExOTogU2FmYXJpIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnQgdGhlIFdhdmVTaGFwZXJOb2RlLlxuICAgICAgICBjb25zdCByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlID0gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUyxcbiAgICAgICAgICAgIGN1cnZlOiByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJDdXJ2ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLlNJTkdMRV9DSEFOTkVMX09QVElPTlMsIGdhaW46IDAgfSk7XG4gICAgICAgIC8vIEJ1ZyAjMTE5OiBTYWZhcmkgZG9lcyBub3QgZnVsbHkgc3VwcG9ydCB0aGUgV2F2ZVNoYXBlck5vZGUuXG4gICAgICAgIGNvbnN0IHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlID0gY3JlYXRlTmF0aXZlV2F2ZVNoYXBlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgLi4uU0lOR0xFX0NIQU5ORUxfV0FWRV9TSEFQRVJfT1BUSU9OUyxcbiAgICAgICAgICAgIGN1cnZlOiByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyQ3VydmVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25uZWN0R3JhcGgoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jb25uZWN0KGNoYW5uZWxTcGxpdHRlck5vZGUpO1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY29ubmVjdChwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZCA/IHBhbldhdmVTaGFwZXJOb2RlIDogcGFuV2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsU3BsaXR0ZXJOb2RlLmNvbm5lY3QobGVmdElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLCAwKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsU3BsaXR0ZXJOb2RlLmNvbm5lY3QobGVmdElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZSwgMCk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbFNwbGl0dGVyTm9kZS5jb25uZWN0KHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUsIDEpO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuY29ubmVjdChyaWdodElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZSwgMSk7XG4gICAgICAgICAgICAgICAgcGFuV2F2ZVNoYXBlck5vZGUuY29ubmVjdChwYW5HYWluTm9kZSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuY29ubmVjdChsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5jb25uZWN0KGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlXG4gICAgICAgICAgICAgICAgICAgIDogbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmNvbm5lY3QocmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuY29ubmVjdChyaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlXG4gICAgICAgICAgICAgICAgICAgIDogcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuY29ubmVjdChsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgbGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5jb25uZWN0KHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUuY29ubmVjdChyaWdodElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUuY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5jb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDEpO1xuICAgICAgICAgICAgICAgIHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLmNvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2Nvbm5lY3RHcmFwaCgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbFNwbGl0dGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5kaXNjb25uZWN0KHBhbldhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkID8gcGFuV2F2ZVNoYXBlck5vZGUgOiBwYW5XYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuZGlzY29ubmVjdChsZWZ0SW5wdXRGb3JMZWZ0T3V0cHV0R2Fpbk5vZGUsIDApO1xuICAgICAgICAgICAgICAgIGNoYW5uZWxTcGxpdHRlck5vZGUuZGlzY29ubmVjdChsZWZ0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLCAwKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsU3BsaXR0ZXJOb2RlLmRpc2Nvbm5lY3QocmlnaHRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZSwgMSk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbFNwbGl0dGVyTm9kZS5kaXNjb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLCAxKTtcbiAgICAgICAgICAgICAgICBwYW5XYXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KHBhbkdhaW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5kaXNjb25uZWN0KGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIHBhbkdhaW5Ob2RlLmRpc2Nvbm5lY3QobGVmdElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0c1swXSk7XG4gICAgICAgICAgICAgICAgcGFuR2Fpbk5vZGUuZGlzY29ubmVjdChyaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gcmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZVxuICAgICAgICAgICAgICAgICAgICA6IHJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgICAgICBwYW5HYWluTm9kZS5kaXNjb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmlucHV0cyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGVcbiAgICAgICAgICAgICAgICAgICAgOiByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICBsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QobGVmdElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlLmRpc2Nvbm5lY3QocmlnaHRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5nYWluKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yUmlnaHRPdXRwdXRXYXZlU2hhcGVyTm9kZS5kaXNjb25uZWN0KHJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlLmdhaW4pO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvckxlZnRPdXRwdXRHYWluTm9kZS5kaXNjb25uZWN0KGNoYW5uZWxNZXJnZXJOb2RlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICByaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlLmRpc2Nvbm5lY3QoY2hhbm5lbE1lcmdlck5vZGUsIDAsIDApO1xuICAgICAgICAgICAgICAgIGxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICAgICAgcmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0R2Fpbk5vZGUuZGlzY29ubmVjdChjaGFubmVsTWVyZ2VyTm9kZSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBidWlsZEludGVybmFsR3JhcGggPSAobmF0aXZlQ29udGV4dCwgY2hhbm5lbENvdW50LCBpbnB1dEdhaW5Ob2RlLCBwYW5HYWluTm9kZSwgY2hhbm5lbE1lcmdlck5vZGUpID0+IHtcbiAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkSW50ZXJuYWxHcmFwaEZvck1vbm8obmF0aXZlQ29udGV4dCwgaW5wdXRHYWluTm9kZSwgcGFuR2Fpbk5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRJbnRlcm5hbEdyYXBoRm9yU3RlcmVvKG5hdGl2ZUNvbnRleHQsIGlucHV0R2Fpbk5vZGUsIHBhbkdhaW5Ob2RlLCBjaGFubmVsTWVyZ2VyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICB9O1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgeyBjaGFubmVsQ291bnQsIGNoYW5uZWxDb3VudE1vZGUsIHBhbiwgLi4uYXVkaW9Ob2RlT3B0aW9ucyB9KSA9PiB7XG4gICAgICAgIGlmIChjaGFubmVsQ291bnRNb2RlID09PSAnbWF4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIC4uLmF1ZGlvTm9kZU9wdGlvbnMsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlLFxuICAgICAgICAgICAgbnVtYmVyT2ZJbnB1dHM6IDJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlucHV0R2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7IC4uLmF1ZGlvTm9kZU9wdGlvbnMsIGNoYW5uZWxDb3VudCwgY2hhbm5lbENvdW50TW9kZSwgZ2FpbjogMSB9KTtcbiAgICAgICAgY29uc3QgcGFuR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgZ2FpbjogcGFuXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgeyBjb25uZWN0R3JhcGgsIGRpc2Nvbm5lY3RHcmFwaCB9ID0gYnVpbGRJbnRlcm5hbEdyYXBoKG5hdGl2ZUNvbnRleHQsIGNoYW5uZWxDb3VudCwgaW5wdXRHYWluTm9kZSwgcGFuR2Fpbk5vZGUsIGNoYW5uZWxNZXJnZXJOb2RlKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhbkdhaW5Ob2RlLmdhaW4sICdkZWZhdWx0VmFsdWUnLCB7IGdldDogKCkgPT4gMCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhbkdhaW5Ob2RlLmdhaW4sICdtYXhWYWx1ZScsIHsgZ2V0OiAoKSA9PiAxIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFuR2Fpbk5vZGUuZ2FpbiwgJ21pblZhbHVlJywgeyBnZXQ6ICgpID0+IC0xIH0pO1xuICAgICAgICBjb25zdCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5ID0ge1xuICAgICAgICAgICAgZ2V0IGJ1ZmZlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RHcmFwaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICh7IGNvbm5lY3RHcmFwaCwgZGlzY29ubmVjdEdyYXBoIH0gPSBidWlsZEludGVybmFsR3JhcGgobmF0aXZlQ29udGV4dCwgdmFsdWUsIGlucHV0R2Fpbk5vZGUsIHBhbkdhaW5Ob2RlLCBjaGFubmVsTWVyZ2VyTm9kZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RHcmFwaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxDb3VudE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuY2hhbm5lbENvdW50TW9kZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY2hhbm5lbENvdW50TW9kZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NsYW1wZWQtbWF4JyB8fCB2YWx1ZSA9PT0gJ21heCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXRHYWluTm9kZS5jaGFubmVsQ291bnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0R2Fpbk5vZGUuY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbaW5wdXRHYWluTm9kZV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mSW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZk91dHB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYW4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbkdhaW5Ob2RlLmdhaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0R2Fpbk5vZGUuYWRkRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRHYWluTm9kZS5kaXNwYXRjaEV2ZW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dEdhaW5Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29ubmVjdEdyYXBoKCk7XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdoZW5EaXNjb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNjb25uZWN0R3JhcGgoKTtcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtb25pdG9yQ29ubmVjdGlvbnMoaW50ZXJjZXB0Q29ubmVjdGlvbnMobmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyRmFjdG9yeSwgY2hhbm5lbE1lcmdlck5vZGUpLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1zdGVyZW8tcGFubmVyLW5vZGUtZmFrZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVBdWRpb1BhcmFtVmFsdWUgfSBmcm9tICcuLi9oZWxwZXJzL2Fzc2lnbi1uYXRpdmUtYXVkaW8tbm9kZS1hdWRpby1wYXJhbS12YWx1ZSc7XG5pbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZUZhY3RvcnkgPSAoY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyLCBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcikgPT4ge1xuICAgIHJldHVybiAobmF0aXZlQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBjaGFubmVsQ291bnRNb2RlID0gb3B0aW9ucy5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAvKlxuICAgICAgICAgKiBCdWcgIzEwNTogVGhlIGNoYW5uZWxDb3VudE1vZGUgb2YgJ2NsYW1wZWQtbWF4JyBzaG91bGQgYmUgc3VwcG9ydGVkLiBIb3dldmVyIGl0IGlzIG5vdCBwb3NzaWJsZSB0byB3cml0ZSBhIHBvbHlmaWxsIGZvciBTYWZhcmlcbiAgICAgICAgICogd2hpY2ggc3VwcG9ydHMgaXQgYW5kIHRoZXJlZm9yZSBpdCBjYW4ndCBiZSBzdXBwb3J0ZWQgYXQgYWxsLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGNoYW5uZWxDb3VudE1vZGUgPT09ICdjbGFtcGVkLW1heCcpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMxMDU6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBTdGVyZW9QYW5uZXJOb2RlLlxuICAgICAgICBpZiAobmF0aXZlQ29udGV4dC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlcihuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlID0gbmF0aXZlQ29udGV4dC5jcmVhdGVTdGVyZW9QYW5uZXIoKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlT3B0aW9ucyhuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBvcHRpb25zKTtcbiAgICAgICAgYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlKG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUsIG9wdGlvbnMsICdwYW4nKTtcbiAgICAgICAgLypcbiAgICAgICAgICogQnVnICMxMDU6IFRoZSBjaGFubmVsQ291bnRNb2RlIG9mICdjbGFtcGVkLW1heCcgc2hvdWxkIGJlIHN1cHBvcnRlZC4gSG93ZXZlciBpdCBpcyBub3QgcG9zc2libGUgdG8gd3JpdGUgYSBwb2x5ZmlsbCBmb3IgU2FmYXJpXG4gICAgICAgICAqIHdoaWNoIHN1cHBvcnRzIGl0IGFuZCB0aGVyZWZvcmUgaXQgY2FuJ3QgYmUgc3VwcG9ydGVkIGF0IGFsbC5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCAnY2hhbm5lbENvdW50TW9kZScsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgIHNldDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBjaGFubmVsQ291bnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGU7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtc3RlcmVvLXBhbm5lci1ub2RlLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgaXNOYXRpdmVBdWRpb05vZGVGYWtlciB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZS1mYWtlcic7XG5pbXBvcnQgeyBpc093bmVkQnlDb250ZXh0IH0gZnJvbSAnLi4vaGVscGVycy9pcy1vd25lZC1ieS1jb250ZXh0JztcbmV4cG9ydCBjb25zdCBjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNvbm5lY3RBdWRpb1BhcmFtLCBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlckF1dG9tYXRpb24sIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVTdGVyZW9QYW5uZXJOb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGUgPSBhc3luYyAocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJZiB0aGUgaW5pdGlhbGx5IHVzZWQgbmF0aXZlU3RlcmVvUGFubmVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgICAgICogYWdhaW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVJc093bmVkQnlDb250ZXh0ID0gaXNPd25lZEJ5Q29udGV4dChuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghbmF0aXZlU3RlcmVvUGFubmVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBuYXRpdmVTdGVyZW9QYW5uZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHBhbjogbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5wYW4udmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgPSBjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWROYXRpdmVTdGVyZW9QYW5uZXJOb2Rlcy5zZXQobmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZSk7XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVJc093bmVkQnlDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVyQXV0b21hdGlvbihuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBwcm94eS5wYW4sIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUucGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RBdWRpb1BhcmFtKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIHByb3h5LnBhbiwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5wYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIobmF0aXZlU3RlcmVvUGFubmVyTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlU3RlcmVvUGFubmVyTm9kZS5pbnB1dHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVuZGVySW5wdXRzT2ZBdWRpb05vZGUocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQsIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUgPSByZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVzLmdldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZWROYXRpdmVTdGVyZW9QYW5uZXJOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU3RlcmVvUGFubmVyTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVyZW8tcGFubmVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZUZha2VyIH0gZnJvbSAnLi4vZ3VhcmRzL25hdGl2ZS1hdWRpby1ub2RlLWZha2VyJztcbmltcG9ydCB7IGlzT3duZWRCeUNvbnRleHQgfSBmcm9tICcuLi9oZWxwZXJzL2lzLW93bmVkLWJ5LWNvbnRleHQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXJGYWN0b3J5ID0gKGNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlLCBnZXROYXRpdmVBdWRpb05vZGUsIHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROYXRpdmVXYXZlU2hhcGVyTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb25zdCBjcmVhdGVXYXZlU2hhcGVyTm9kZSA9IGFzeW5jIChwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZVdhdmVTaGFwZXJOb2RlID0gZ2V0TmF0aXZlQXVkaW9Ob2RlKHByb3h5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsbHkgdXNlZCBuYXRpdmVXYXZlU2hhcGVyTm9kZSB3YXMgbm90IGNvbnN0cnVjdGVkIG9uIHRoZSBzYW1lIE9mZmxpbmVBdWRpb0NvbnRleHQgaXQgbmVlZHMgdG8gYmUgY3JlYXRlZCBhZ2Fpbi5cbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVdhdmVTaGFwZXJOb2RlSXNPd25lZEJ5Q29udGV4dCA9IGlzT3duZWRCeUNvbnRleHQobmF0aXZlV2F2ZVNoYXBlck5vZGUsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVXYXZlU2hhcGVyTm9kZUlzT3duZWRCeUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IG5hdGl2ZVdhdmVTaGFwZXJOb2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogbmF0aXZlV2F2ZVNoYXBlck5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBuYXRpdmVXYXZlU2hhcGVyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGN1cnZlOiBuYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZSxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnNhbXBsZTogbmF0aXZlV2F2ZVNoYXBlck5vZGUub3ZlcnNhbXBsZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmF0aXZlV2F2ZVNoYXBlck5vZGUgPSBjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZShuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGVzLnNldChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGVGYWtlcihuYXRpdmVXYXZlU2hhcGVyTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZShwcm94eSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCwgbmF0aXZlV2F2ZVNoYXBlck5vZGUuaW5wdXRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlcklucHV0c09mQXVkaW9Ob2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCBuYXRpdmVXYXZlU2hhcGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlV2F2ZVNoYXBlck5vZGU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXIocHJveHksIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2RlID0gcmVuZGVyZWROYXRpdmVXYXZlU2hhcGVyTm9kZXMuZ2V0KG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVdhdmVTaGFwZXJOb2RlKHByb3h5LCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdmUtc2hhcGVyLW5vZGUtcmVuZGVyZXItZmFjdG9yeS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNTZWN1cmVDb250ZXh0ID0gKHdpbmRvdykgPT4gd2luZG93ICE9PSBudWxsICYmIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1zZWN1cmUtY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUgPSAod2luZG93KSA9PiB7XG4gICAgcmV0dXJuIChjdXJyZW50VGltZSwgc2FtcGxlUmF0ZSwgZm4pID0+IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMod2luZG93LCB7XG4gICAgICAgICAgICBjdXJyZW50RnJhbWU6IHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChjdXJyZW50VGltZSAqIHNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50VGltZToge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAod2luZG93ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5jdXJyZW50RnJhbWU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhwb3NlLWN1cnJlbnQtZnJhbWUtYW5kLWN1cnJlbnQtdGltZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlR2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0ID0gKGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHRTdG9yZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgICAgIGxldCBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0ID0gYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dFN0b3JlLmdldChuYXRpdmVDb250ZXh0KTtcbiAgICAgICAgaWYgKGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzE0MTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRpbmcgYW4gT2ZmbGluZUF1ZGlvQ29udGV4dCB3aXRoIGxlc3MgdGhhbiA0NDEwMCBIei5cbiAgICAgICAgYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IoMSwgMSwgNDQxMDApO1xuICAgICAgICBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUuc2V0KG5hdGl2ZUNvbnRleHQsIGJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgICAgICByZXR1cm4gYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dDtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1vci1jcmVhdGUtYmFja3VwLW9mZmxpbmUtYXVkaW8tY29udGV4dC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRXZhbHVhdGVTb3VyY2UgPSAod2luZG93KSA9PiB7XG4gICAgcmV0dXJuIChzb3VyY2UpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQnVnICMxODIgQ2hyb21lIGFuZCBFZGdlIGRvIHRocm93IGFuIGluc3RhbmNlIG9mIGEgU3ludGF4RXJyb3IgaW5zdGVhZCBvZiBhIERPTUV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHJlamVjdChuZXcgU3ludGF4RXJyb3IoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZCA9IHdpbmRvdy5kb2N1bWVudC5oZWFkO1xuICAgICAgICBpZiAoaGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQnVnICMxODIgQ2hyb21lIGFuZCBFZGdlIGRvIHRocm93IGFuIGluc3RhbmNlIG9mIGEgU3ludGF4RXJyb3IgaW5zdGVhZCBvZiBhIERPTUV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHJlamVjdChuZXcgU3ludGF4RXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzY3JpcHQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICAvLyBAdG9kbyBTYWZhcmkgZG9lc24ndCBsaWtlIFVSTHMgd2l0aCBhIHR5cGUgb2YgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgnLlxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtzb3VyY2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbE9uRXJyb3JIYW5kbGVyID0gd2luZG93Lm9uZXJyb3I7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVFcnJvckV2ZW50TGlzdGVuZXJBbmRSZXZva2VVcmwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9uZXJyb3IgPSBvcmlnaW5hbE9uRXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cub25lcnJvciA9IChtZXNzYWdlLCBzcmMsIGxpbmVubywgY29sbm8sIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRvZG8gRWRnZSB0aGlua3MgdGhlIHNvdXJjZSBpcyB0aGUgb25lIG9mIHRoZSBodG1sIGRvY3VtZW50LlxuICAgICAgICAgICAgICAgIGlmIChzcmMgPT09IHVybCB8fCAoc3JjID09PSB3aW5kb3cubG9jYXRpb24uaHJlZiAmJiBsaW5lbm8gPT09IDEgJiYgY29sbm8gPT09IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVycm9yRXZlbnRMaXN0ZW5lckFuZFJldm9rZVVybCgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbE9uRXJyb3JIYW5kbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9uRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIHNyYywgbGluZW5vLCBjb2xubywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVFcnJvckV2ZW50TGlzdGVuZXJBbmRSZXZva2VVcmwoKTtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE4MiBDaHJvbWUgYW5kIEVkZ2UgZG8gdGhyb3cgYW4gaW5zdGFuY2Ugb2YgYSBTeW50YXhFcnJvciBpbnN0ZWFkIG9mIGEgRE9NRXhjZXB0aW9uLlxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgU3ludGF4RXJyb3IoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVFcnJvckV2ZW50TGlzdGVuZXJBbmRSZXZva2VVcmwoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICAgICAgICAgIHNjcmlwdC50eXBlID0gJ21vZHVsZSc7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmFsdWF0ZS1zb3VyY2UuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUZldGNoU291cmNlID0gKGNyZWF0ZUFib3J0RXJyb3IpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKHVybCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthd2FpdCByZXNwb25zZS50ZXh0KCksIHJlc3BvbnNlLnVybF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgfSAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWVtcHR5XG4gICAgICAgIHRocm93IGNyZWF0ZUFib3J0RXJyb3IoKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZldGNoLXNvdXJjZS5qcy5tYXAiLCIvLyBCdWcgIzE3OTogRmlyZWZveCBkb2VzIG5vdCBhbGxvdyB0byB0cmFuc2ZlciBhbnkgYnVmZmVyIHdoaWNoIGhhcyBiZWVuIHBhc3NlZCB0byB0aGUgcHJvY2VzcygpIG1ldGhvZCBhcyBhbiBhcmd1bWVudC5cbmV4cG9ydCBjb25zdCBjcmVhdGVUZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yUG9zdE1lc3NhZ2VTdXBwb3J0ID0gKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gQnVnICM2MTogSWYgdGhlcmUgaXMgbm8gbmF0aXZlIEF1ZGlvV29ya2xldE5vZGUgaXQgZ2V0cyBmYWtlZCBhbmQgdGhlcmVmb3JlIGl0IGlzIG5vIHByb2JsZW0gaWYgdGhlIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgIGlmIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoWydjbGFzcyBBIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3Byb2Nlc3MoaSl7dGhpcy5wb3J0LnBvc3RNZXNzYWdlKGksW2lbMF1bMF0uYnVmZmVyXSl9fXJlZ2lzdGVyUHJvY2Vzc29yKFwiYVwiLEEpJ10sIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04J1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVnICMxNDE6IFNhZmFyaSBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0aW5nIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQgd2l0aCBsZXNzIHRoYW4gNDQxMDAgSHouXG4gICAgICAgIGNvbnN0IG9mZmxpbmVBdWRpb0NvbnRleHQgPSBuZXcgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKDEsIDEyOCwgNDQxMDApO1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBsZXQgaXNFbWl0dGluZ01lc3NhZ2VFdmVudHMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlzRW1pdHRpbmdQcm9jZXNzb3JFcnJvckV2ZW50cyA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgb2ZmbGluZUF1ZGlvQ29udGV4dC5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKHVybCk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb1dvcmtsZXROb2RlID0gbmV3IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvcihvZmZsaW5lQXVkaW9Db250ZXh0LCAnYScsIHsgbnVtYmVyT2ZPdXRwdXRzOiAwIH0pO1xuICAgICAgICAgICAgY29uc3Qgb3NjaWxsYXRvciA9IG9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgICAgICAgICAgYXVkaW9Xb3JrbGV0Tm9kZS5wb3J0Lm9ubWVzc2FnZSA9ICgpID0+IChpc0VtaXR0aW5nTWVzc2FnZUV2ZW50cyA9IHRydWUpO1xuICAgICAgICAgICAgYXVkaW9Xb3JrbGV0Tm9kZS5vbnByb2Nlc3NvcmVycm9yID0gKCkgPT4gKGlzRW1pdHRpbmdQcm9jZXNzb3JFcnJvckV2ZW50cyA9IHRydWUpO1xuICAgICAgICAgICAgb3NjaWxsYXRvci5jb25uZWN0KGF1ZGlvV29ya2xldE5vZGUpO1xuICAgICAgICAgICAgb3NjaWxsYXRvci5zdGFydCgwKTtcbiAgICAgICAgICAgIGF3YWl0IG9mZmxpbmVBdWRpb0NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTk3OiBTYWZhcmkgZG9lcyBub3QgZGVsaXZlciB0aGUgbWVzc2FnZXMgYmVmb3JlIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHN0YXJ0UmVuZGVyaW5nKCkgcmVzb2x2ZXMuXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNFbWl0dGluZ01lc3NhZ2VFdmVudHMgJiYgIWlzRW1pdHRpbmdQcm9jZXNzb3JFcnJvckV2ZW50cztcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8td29ya2xldC1wcm9jZXNzb3ItcG9zdC1tZXNzYWdlLXN1cHBvcnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzTmF0aXZlQ29udGV4dCA9IChpc05hdGl2ZUF1ZGlvQ29udGV4dCwgaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4ge1xuICAgICAgICByZXR1cm4gaXNOYXRpdmVBdWRpb0NvbnRleHQoYW55dGhpbmcpIHx8IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChhbnl0aGluZyk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1uYXRpdmUtY29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBkZXRhY2hBcnJheUJ1ZmZlciB9IGZyb20gJy4uL2hlbHBlcnMvZGV0YWNoLWFycmF5LWJ1ZmZlcic7XG5pbXBvcnQgeyB3cmFwQXVkaW9CdWZmZXJHZXRDaGFubmVsRGF0YU1ldGhvZCB9IGZyb20gJy4uL2hlbHBlcnMvd3JhcC1hdWRpby1idWZmZXItZ2V0LWNoYW5uZWwtZGF0YS1tZXRob2QnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURlY29kZUF1ZGlvRGF0YSA9IChhdWRpb0J1ZmZlclN0b3JlLCBjYWNoZVRlc3RSZXN1bHQsIGNyZWF0ZURhdGFDbG9uZUVycm9yLCBjcmVhdGVFbmNvZGluZ0Vycm9yLCBkZXRhY2hlZEFycmF5QnVmZmVycywgZ2V0TmF0aXZlQ29udGV4dCwgaXNOYXRpdmVDb250ZXh0LCB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsIHRlc3RQcm9taXNlU3VwcG9ydCwgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzLCB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcykgPT4ge1xuICAgIHJldHVybiAoYW55Q29udGV4dCwgYXVkaW9EYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBpc05hdGl2ZUNvbnRleHQoYW55Q29udGV4dCkgPyBhbnlDb250ZXh0IDogZ2V0TmF0aXZlQ29udGV4dChhbnlDb250ZXh0KTtcbiAgICAgICAgLy8gQnVnICM0MzogT25seSBDaHJvbWUgYW5kIEVkZ2UgZG8gdGhyb3cgYSBEYXRhQ2xvbmVFcnJvci5cbiAgICAgICAgaWYgKGRldGFjaGVkQXJyYXlCdWZmZXJzLmhhcyhhdWRpb0RhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjcmVhdGVEYXRhQ2xvbmVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGF1ZGlvRGF0YSBwYXJhbWV0ZXIgbWF5YmUgb2YgYSB0eXBlIHdoaWNoIGNhbid0IGJlIGFkZGVkIHRvIGEgV2Vha1NldC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRldGFjaGVkQXJyYXlCdWZmZXJzLmFkZChhdWRpb0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMuXG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICMyMTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgcHJvbWlzZXMgeWV0LlxuICAgICAgICBpZiAoY2FjaGVUZXN0UmVzdWx0KHRlc3RQcm9taXNlU3VwcG9ydCwgKCkgPT4gdGVzdFByb21pc2VTdXBwb3J0KG5hdGl2ZUNvbnRleHQpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSkudGhlbigoYXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEzMzogU2FmYXJpIGRvZXMgbmV1dGVyIHRoZSBBcnJheUJ1ZmZlci5cbiAgICAgICAgICAgICAgICBkZXRhY2hBcnJheUJ1ZmZlcihhdWRpb0RhdGEpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzE1NzogRmlyZWZveCBkb2VzIG5vdCBhbGxvdyB0aGUgYnVmZmVyT2Zmc2V0IHRvIGJlIG91dC1vZi1ib3VuZHMuXG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZVRlc3RSZXN1bHQodGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0LCAoKSA9PiB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQoYXVkaW9CdWZmZXIpKSkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyhhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyU3RvcmUuYWRkKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzIxOiBTYWZhcmkgZG9lcyBub3QgcmV0dXJuIGEgUHJvbWlzZSB5ZXQuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzEzMzogU2FmYXJpIGRvZXMgbmV1dGVyIHRoZSBBcnJheUJ1ZmZlci5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZXRhY2hBcnJheUJ1ZmZlcihhdWRpb0RhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGZhaWwgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBCdWcgIzI2OiBTYWZhcmkgdGhyb3dzIGEgc3luY2hyb25vdXMgZXJyb3IuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjMTogU2FmYXJpIHJlcXVpcmVzIGEgc3VjY2Vzc0NhbGxiYWNrLlxuICAgICAgICAgICAgICAgIG5hdGl2ZUNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSwgKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY29weUZyb21DaGFubmVsKCkgYW5kIGNvcHlUb0NoYW5uZWwoKS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxMDA6IFNhZmFyaSBkb2VzIHRocm93IGEgd3JvbmcgZXJyb3Igd2hlbiBjYWxsaW5nIGdldENoYW5uZWxEYXRhKCkgd2l0aCBhbiBvdXQtb2YtYm91bmRzIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlclN0b3JlLmFkZChhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCkudGhlbigoKSA9PiByZXNvbHZlKGF1ZGlvQnVmZmVyKSk7XG4gICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzQ6IFNhZmFyaSByZXR1cm5zIG51bGwgaW5zdGVhZCBvZiBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChjcmVhdGVFbmNvZGluZ0Vycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29kZS1hdWRpby1kYXRhLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVEYXRhQ2xvbmVFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdEYXRhQ2xvbmVFcnJvcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS1jbG9uZS1lcnJvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlRW5jb2RpbmdFcnJvciA9ICgpID0+IG5ldyBET01FeGNlcHRpb24oJycsICdFbmNvZGluZ0Vycm9yJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGluZy1lcnJvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKGFkZEF1ZGlvV29ya2xldE1vZHVsZSwgYW5hbHlzZXJOb2RlQ29uc3RydWN0b3IsIGF1ZGlvQnVmZmVyQ29uc3RydWN0b3IsIGF1ZGlvQnVmZmVyU291cmNlTm9kZUNvbnN0cnVjdG9yLCBiaXF1YWRGaWx0ZXJOb2RlQ29uc3RydWN0b3IsIGNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IsIGNoYW5uZWxTcGxpdHRlck5vZGVDb25zdHJ1Y3RvciwgY29uc3RhbnRTb3VyY2VOb2RlQ29uc3RydWN0b3IsIGNvbnZvbHZlck5vZGVDb25zdHJ1Y3RvciwgZGVjb2RlQXVkaW9EYXRhLCBkZWxheU5vZGVDb25zdHJ1Y3RvciwgZHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yLCBnYWluTm9kZUNvbnN0cnVjdG9yLCBpSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IsIG1pbmltYWxCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IsIG9zY2lsbGF0b3JOb2RlQ29uc3RydWN0b3IsIHBhbm5lck5vZGVDb25zdHJ1Y3RvciwgcGVyaW9kaWNXYXZlQ29uc3RydWN0b3IsIHN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3Rvciwgd2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiBjbGFzcyBCYXNlQXVkaW9Db250ZXh0IGV4dGVuZHMgbWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVDb250ZXh0LCBudW1iZXJPZkNoYW5uZWxzKSB7XG4gICAgICAgICAgICBzdXBlcihfbmF0aXZlQ29udGV4dCwgbnVtYmVyT2ZDaGFubmVscyk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDb250ZXh0ID0gX25hdGl2ZUNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb1dvcmtsZXQgPVxuICAgICAgICAgICAgICAgIGFkZEF1ZGlvV29ya2xldE1vZHVsZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTW9kdWxlOiAobW9kdWxlVVJMLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZEF1ZGlvV29ya2xldE1vZHVsZSh0aGlzLCBtb2R1bGVVUkwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGdldCBhdWRpb1dvcmtsZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXVkaW9Xb3JrbGV0O1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUFuYWx5c2VyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhbmFseXNlck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVCaXF1YWRGaWx0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVCdWZmZXIobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGF1ZGlvQnVmZmVyQ29uc3RydWN0b3IoeyBsZW5ndGgsIG51bWJlck9mQ2hhbm5lbHMsIHNhbXBsZVJhdGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlQnVmZmVyU291cmNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVDaGFubmVsTWVyZ2VyKG51bWJlck9mSW5wdXRzID0gNikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjaGFubmVsTWVyZ2VyTm9kZUNvbnN0cnVjdG9yKHRoaXMsIHsgbnVtYmVyT2ZJbnB1dHMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlQ2hhbm5lbFNwbGl0dGVyKG51bWJlck9mT3V0cHV0cyA9IDYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yKHRoaXMsIHsgbnVtYmVyT2ZPdXRwdXRzIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUNvbnN0YW50U291cmNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjb25zdGFudFNvdXJjZU5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVDb252b2x2ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNvbnZvbHZlck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVEZWxheShtYXhEZWxheVRpbWUgPSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGRlbGF5Tm9kZUNvbnN0cnVjdG9yKHRoaXMsIHsgbWF4RGVsYXlUaW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZHluYW1pY3NDb21wcmVzc29yTm9kZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZUdhaW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGdhaW5Ob2RlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlSUlSRmlsdGVyKGZlZWRmb3J3YXJkLCBmZWVkYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBpSVJGaWx0ZXJOb2RlQ29uc3RydWN0b3IodGhpcywgeyBmZWVkYmFjaywgZmVlZGZvcndhcmQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlT3NjaWxsYXRvcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgb3NjaWxsYXRvck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVQYW5uZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhbm5lck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVQZXJpb2RpY1dhdmUocmVhbCwgaW1hZywgY29uc3RyYWludHMgPSB7IGRpc2FibGVOb3JtYWxpemF0aW9uOiBmYWxzZSB9KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yKHRoaXMsIHsgLi4uY29uc3RyYWludHMsIGltYWcsIHJlYWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlU3RlcmVvUGFubmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBzdGVyZW9QYW5uZXJOb2RlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlV2F2ZVNoYXBlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgd2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVBdWRpb0RhdGEodGhpcy5fbmF0aXZlQ29udGV4dCwgYXVkaW9EYXRhKS50aGVuKChhdWRpb0J1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VjY2Vzc0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb0J1ZmZlcjtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS1hdWRpby1jb250ZXh0LWNvbnN0cnVjdG9yLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBnZXROYXRpdmVDb250ZXh0LCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIGV4dGVuZHMgYXVkaW9Ob2RlQ29uc3RydWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVDb250ZXh0ID0gZ2V0TmF0aXZlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTcxOiBTYWZhcmkgYWxsb3dzIHRvIGNyZWF0ZSBhIE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSB3aXRoIGFuIE9mZmxpbmVBdWRpb0NvbnRleHQuXG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXBlcihjb250ZXh0LCB0cnVlLCBuYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlID0gbmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGdldCBtZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLm1lZGlhRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZS1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlID0gKG5hdGl2ZUF1ZGlvQ29udGV4dCwgb3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG9wdGlvbnMubWVkaWFFbGVtZW50KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtbWVkaWEtZWxlbWVudC1hdWRpby1zb3VyY2Utbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zIH0gZnJvbSAnLi4vaGVscGVycy9hc3NpZ24tbmF0aXZlLWF1ZGlvLW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSA9IChuYXRpdmVBdWRpb0NvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtcbiAgICBhc3NpZ25OYXRpdmVBdWRpb05vZGVPcHRpb25zKG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUsIG9wdGlvbnMpO1xuICAgIC8vIEJ1ZyAjMTc0OiBTYWZhcmkgZG9lcyBleHBvc2UgYSB3cm9uZyBudW1iZXJPZk91dHB1dHMuXG4gICAgaWYgKG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUubnVtYmVyT2ZPdXRwdXRzID09PSAxKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCAnbnVtYmVyT2ZPdXRwdXRzJywgeyBnZXQ6ICgpID0+IDAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1tZWRpYS1zdHJlYW0tYXVkaW8tZGVzdGluYXRpb24tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciA9IChhdWRpb05vZGVDb25zdHJ1Y3RvciwgY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUsIGdldE5hdGl2ZUNvbnRleHQsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiBjbGFzcyBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSA9IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlKG5hdGl2ZUNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gQnVnICMxNzI6IFNhZmFyaSBhbGxvd3MgdG8gY3JlYXRlIGEgTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgd2l0aCBhbiBPZmZsaW5lQXVkaW9Db250ZXh0LlxuICAgICAgICAgICAgaWYgKGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIHRydWUsIG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IG1lZGlhU3RyZWFtKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLm1lZGlhU3RyZWFtO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZWRpYS1zdHJlYW0tYXVkaW8tc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gKG5hdGl2ZUF1ZGlvQ29udGV4dCwgeyBtZWRpYVN0cmVhbSB9KSA9PiB7XG4gICAgY29uc3QgYXVkaW9TdHJlYW1UcmFja3MgPSBtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgIC8qXG4gICAgICogQnVnICMxNTE6IFNhZmFyaSBkb2VzIG5vdCB1c2UgdGhlIGF1ZGlvIHRyYWNrIGFzIGlucHV0IGFueW1vcmUgaWYgaXQgZ2V0cyByZW1vdmVkIGZyb20gdGhlIG1lZGlhU3RyZWFtIGFmdGVyIGNvbnN0cnVjdGlvbi5cbiAgICAgKiBCdWcgIzE1OTogU2FmYXJpIHBpY2tzIHRoZSBmaXJzdCBhdWRpbyB0cmFjayBpZiB0aGUgTWVkaWFTdHJlYW0gaGFzIG1vcmUgdGhhbiBvbmUgYXVkaW8gdHJhY2suXG4gICAgICovXG4gICAgYXVkaW9TdHJlYW1UcmFja3Muc29ydCgoYSwgYikgPT4gKGEuaWQgPCBiLmlkID8gLTEgOiBhLmlkID4gYi5pZCA/IDEgOiAwKSk7XG4gICAgY29uc3QgZmlsdGVyZWRBdWRpb1N0cmVhbVRyYWNrcyA9IGF1ZGlvU3RyZWFtVHJhY2tzLnNsaWNlKDAsIDEpO1xuICAgIGNvbnN0IG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShmaWx0ZXJlZEF1ZGlvU3RyZWFtVHJhY2tzKSk7XG4gICAgLypcbiAgICAgKiBCdWcgIzE1MSAmICMxNTk6IFRoZSBnaXZlbiBtZWRpYVN0cmVhbSBnZXRzIHJlY29uc3RydWN0ZWQgYmVmb3JlIGl0IGdldHMgcGFzc2VkIHRvIHRoZSBuYXRpdmUgbm9kZSB3aGljaCBpcyB3aHkgdGhlIGFjY2Vzc29yIG5lZWRzXG4gICAgICogdG8gYmUgb3ZlcndyaXR0ZW4gYXMgaXQgd291bGQgb3RoZXJ3aXNlIGV4cG9zZSB0aGUgcmVjb25zdHJ1Y3RlZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSwgJ21lZGlhU3RyZWFtJywgeyB2YWx1ZTogbWVkaWFTdHJlYW0gfSk7XG4gICAgcmV0dXJuIG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZS1tZWRpYS1zdHJlYW0tYXVkaW8tc291cmNlLW5vZGUuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVGYWN0b3J5ID0gKGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBpc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUF1ZGlvQ29udGV4dCwgeyBtZWRpYVN0cmVhbVRyYWNrIH0pID0+IHtcbiAgICAgICAgLy8gQnVnICMxMjE6IE9ubHkgRmlyZWZveCBkb2VzIHlldCBzdXBwb3J0IHRoZSBNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlLlxuICAgICAgICBpZiAodHlwZW9mIG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlQXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UobWVkaWFTdHJlYW1UcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVkaWFTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oW21lZGlhU3RyZWFtVHJhY2tdKTtcbiAgICAgICAgY29uc3QgbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobWVkaWFTdHJlYW0pO1xuICAgICAgICAvLyBCdWcgIzEyMDogRmlyZWZveCBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgbWVkaWFTdHJlYW0gaGFzIG5vIGF1ZGlvIHRyYWNrLlxuICAgICAgICBpZiAobWVkaWFTdHJlYW1UcmFjay5raW5kICE9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1ZyAjMTcyOiBTYWZhcmkgYWxsb3dzIHRvIGNyZWF0ZSBhIE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlIHdpdGggYW4gT2ZmbGluZUF1ZGlvQ29udGV4dC5cbiAgICAgICAgaWYgKGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVBdWRpb0NvbnRleHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLW1lZGlhLXN0cmVhbS10cmFjay1hdWRpby1zb3VyY2Utbm9kZS1mYWN0b3J5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IgPSAoYXVkaW9Ob2RlQ29uc3RydWN0b3IsIGNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUsIGdldE5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSBleHRlbmRzIGF1ZGlvTm9kZUNvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGdldE5hdGl2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVNZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlID0gY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZShuYXRpdmVDb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHN1cGVyKGNvbnRleHQsIHRydWUsIG5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZWRpYS1zdHJlYW0tdHJhY2stYXVkaW8tc291cmNlLW5vZGUtY29uc3RydWN0b3IuanMubWFwIiwiaW1wb3J0IHsgZGVhY3RpdmF0ZUF1ZGlvR3JhcGggfSBmcm9tICcuLi9oZWxwZXJzL2RlYWN0aXZhdGUtYXVkaW8tZ3JhcGgnO1xuaW1wb3J0IHsgaXNWYWxpZExhdGVuY3lIaW50IH0gZnJvbSAnLi4vaGVscGVycy9pcy12YWxpZC1sYXRlbmN5LWhpbnQnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gKGJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciwgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBjcmVhdGVVbmtub3duRXJyb3IsIG1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yLCBtZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IsIG1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3RvciwgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IpID0+IHtcbiAgICByZXR1cm4gY2xhc3MgQXVkaW9Db250ZXh0IGV4dGVuZHMgYmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdGhlIG5hdGl2ZSBBdWRpb0NvbnRleHQgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmF0aXZlQXVkaW9Db250ZXh0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb0NvbnRleHQgPSBuZXcgbmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3Iob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICMxOTIgU2FmYXJpIGRvZXMgdGhyb3cgYSBTeW50YXhFcnJvciBpZiB0aGUgc2FtcGxlUmF0ZSBpcyBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gMTIgJiYgZXJyLm1lc3NhZ2UgPT09ICdzYW1wbGVSYXRlIGlzIG5vdCBpbiByYW5nZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICMxMzEgU2FmYXJpIHJldHVybnMgbnVsbCB3aGVuIHRoZXJlIGFyZSBmb3VyIG90aGVyIEF1ZGlvQ29udGV4dHMgcnVubmluZyBhbHJlYWR5LlxuICAgICAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQ29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZVVua25vd25FcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICM1MSBPbmx5IENocm9tZSBhbmQgRWRnZSB0aHJvdyBhbiBlcnJvciBpZiB0aGUgZ2l2ZW4gbGF0ZW5jeUhpbnQgaXMgaW52YWxpZC5cbiAgICAgICAgICAgIGlmICghaXNWYWxpZExhdGVuY3lIaW50KG9wdGlvbnMubGF0ZW5jeUhpbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIHByb3ZpZGVkIHZhbHVlICcke29wdGlvbnMubGF0ZW5jeUhpbnR9JyBpcyBub3QgYSB2YWxpZCBlbnVtIHZhbHVlIG9mIHR5cGUgQXVkaW9Db250ZXh0TGF0ZW5jeUNhdGVnb3J5LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVnICMxNTAgU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgc2FtcGxlUmF0ZS5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNhbXBsZVJhdGUgIT09IHVuZGVmaW5lZCAmJiBuYXRpdmVBdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSAhPT0gb3B0aW9ucy5zYW1wbGVSYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1cGVyKG5hdGl2ZUF1ZGlvQ29udGV4dCwgMik7XG4gICAgICAgICAgICBjb25zdCB7IGxhdGVuY3lIaW50IH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgeyBzYW1wbGVSYXRlIH0gPSBuYXRpdmVBdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICAvLyBAdG9kbyBUaGUgdmFsdWVzIGZvciAnYmFsYW5jZWQnLCAnaW50ZXJhY3RpdmUnIGFuZCAncGxheWJhY2snIGFyZSBqdXN0IGNvcGllZCBmcm9tIENocm9tZSdzIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fYmFzZUxhdGVuY3kgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBuYXRpdmVBdWRpb0NvbnRleHQuYmFzZUxhdGVuY3kgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgID8gbmF0aXZlQXVkaW9Db250ZXh0LmJhc2VMYXRlbmN5XG4gICAgICAgICAgICAgICAgICAgIDogbGF0ZW5jeUhpbnQgPT09ICdiYWxhbmNlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gNTEyIC8gc2FtcGxlUmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBsYXRlbmN5SGludCA9PT0gJ2ludGVyYWN0aXZlJyB8fCBsYXRlbmN5SGludCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAyNTYgLyBzYW1wbGVSYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsYXRlbmN5SGludCA9PT0gJ3BsYXliYWNrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDEwMjQgLyBzYW1wbGVSYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdG9kbyBUaGUgbWluICgyNTYpIGFuZCBtYXggKDE2Mzg0KSB2YWx1ZXMgYXJlIHRha2VuIGZyb20gdGhlIGFsbG93ZWQgYnVmZmVyU2l6ZSB2YWx1ZXMgb2YgYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNjcmlwdFByb2Nlc3Nvck5vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoTWF0aC5tYXgoMiwgTWF0aC5taW4oMTI4LCBNYXRoLnJvdW5kKChsYXRlbmN5SGludCAqIHNhbXBsZVJhdGUpIC8gMTI4KSkpICogMTI4KSAvIHNhbXBsZVJhdGU7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQgPSBuYXRpdmVBdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICAvLyBCdWcgIzE4ODogU2FmYXJpIHdpbGwgc2V0IHRoZSBjb250ZXh0J3Mgc3RhdGUgdG8gJ2ludGVycnVwdGVkJyBpbiBjYXNlIHRoZSB1c2VyIHN3aXRjaGVzIHRhYnMuXG4gICAgICAgICAgICBpZiAobmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IubmFtZSA9PT0gJ3dlYmtpdEF1ZGlvQ29udGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVHYWluTm9kZSA9IG5hdGl2ZUF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUgPSBuYXRpdmVBdWRpb0NvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUdhaW5Ob2RlLmdhaW4udmFsdWUgPSAxZS0zNztcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5jb25uZWN0KHRoaXMuX25hdGl2ZUdhaW5Ob2RlKS5jb25uZWN0KG5hdGl2ZUF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUdhaW5Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQnVnICMzNDogQ2hyb21lIGFuZCBFZGdlIHByZXRlbmQgdG8gYmUgcnVubmluZyByaWdodCBhd2F5LCBidXQgZmlyZSBhbiBvbnN0YXRlY2hhbmdlIGV2ZW50IHdoZW4gdGhlIHN0YXRlIGFjdHVhbGx5IGNoYW5nZXNcbiAgICAgICAgICAgICAqIHRvICdydW5uaW5nJy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKG5hdGl2ZUF1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnc3VzcGVuZGVkJztcbiAgICAgICAgICAgICAgICBjb25zdCByZXZva2VTdGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQ29udGV4dC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHJldm9rZVN0YXRlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvQ29udGV4dC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHJldm9rZVN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXQgYmFzZUxhdGVuY3koKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFzZUxhdGVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlICE9PSBudWxsID8gdGhpcy5fc3RhdGUgOiB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQuc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAvLyBCdWcgIzM1OiBGaXJlZm94IGRvZXMgbm90IHRocm93IGFuIGVycm9yIGlmIHRoZSBBdWRpb0NvbnRleHQgd2FzIGNsb3NlZCBiZWZvcmUuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LmNsb3NlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWcgIzM0OiBJZiB0aGUgc3RhdGUgd2FzIHNldCB0byBzdXNwZW5kZWQgYmVmb3JlIGl0IHNob3VsZCBiZSByZXZva2VkIG5vdy5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LmNsb3NlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUdhaW5Ob2RlICE9PSBudWxsICYmIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlR2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVBdWRpb0dyYXBoKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG1lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3Rvcih0aGlzLCB7IG1lZGlhRWxlbWVudCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGVDb25zdHJ1Y3Rvcih0aGlzLCB7IG1lZGlhU3RyZWFtIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UobWVkaWFTdHJlYW1UcmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtZWRpYVN0cmVhbVRyYWNrQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IodGhpcywgeyBtZWRpYVN0cmVhbVRyYWNrIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VtZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlUHJvbWlzZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHJlc29sdmVQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQuc3RhdGUgPT09ICdydW5uaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdW1lKCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcignc3RhdGVjaGFuZ2UnLCByZXNvbHZlUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnJlc3VtZSgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzU1OiBDaHJvbWUgYW5kIEVkZ2UgZG8gdGhyb3cgYW4gSW52YWxpZEFjY2Vzc0Vycm9yIGluc3RlYWQgb2YgYW4gSW52YWxpZFN0YXRlRXJyb3IuXG4gICAgICAgICAgICAgICAgLy8gQnVnICM1NjogU2FmYXJpIGludm9rZXMgdGhlIGNhdGNoIGhhbmRsZXIgYnV0IHdpdGhvdXQgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgaWYgKGVyciA9PT0gdW5kZWZpbmVkIHx8IGVyci5jb2RlID09PSAxNSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdXNwZW5kKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5zdXNwZW5kKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNTY6IFNhZmFyaSBpbnZva2VzIHRoZSBjYXRjaCBoYW5kbGVyIGJ1dCB3aXRob3V0IGFuIGVycm9yLlxuICAgICAgICAgICAgICAgIGlmIChlcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJbnZhbGlkU3RhdGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8tY29udGV4dC1jb25zdHJ1Y3Rvci5qcy5tYXAiLCJleHBvcnQgY29uc3QgaXNWYWxpZExhdGVuY3lIaW50ID0gKGxhdGVuY3lIaW50KSA9PiB7XG4gICAgcmV0dXJuIChsYXRlbmN5SGludCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHR5cGVvZiBsYXRlbmN5SGludCA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgKHR5cGVvZiBsYXRlbmN5SGludCA9PT0gJ3N0cmluZycgJiYgKGxhdGVuY3lIaW50ID09PSAnYmFsYW5jZWQnIHx8IGxhdGVuY3lIaW50ID09PSAnaW50ZXJhY3RpdmUnIHx8IGxhdGVuY3lIaW50ID09PSAncGxheWJhY2snKSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXZhbGlkLWxhdGVuY3ktaGludC5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlR2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzID0gKHVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlU3RvcmUpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzID0gdW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVTdG9yZS5nZXQobmF0aXZlQ29udGV4dCk7XG4gICAgICAgIGlmICh1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29udGV4dCBoYXMgbm8gc2V0IG9mIEF1ZGlvV29ya2xldE5vZGVzLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXM7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtdW5yZW5kZXJlZC1hdWRpby13b3JrbGV0LW5vZGVzLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVBZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSA9IChnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIGF1ZGlvV29ya2xldE5vZGUpID0+IHtcbiAgICAgICAgZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzKG5hdGl2ZUNvbnRleHQpLmFkZChhdWRpb1dvcmtsZXROb2RlKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZC11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBpc05hdGl2ZUF1ZGlvTm9kZSB9IGZyb20gJy4uL2d1YXJkcy9uYXRpdmUtYXVkaW8tbm9kZSc7XG5leHBvcnQgY29uc3QgY3JlYXRlQ29ubmVjdE11bHRpcGxlT3V0cHV0cyA9IChjcmVhdGVJbmRleFNpemVFcnJvcikgPT4ge1xuICAgIHJldHVybiAob3V0cHV0QXVkaW9Ob2RlcywgZGVzdGluYXRpb24sIG91dHB1dCA9IDAsIGlucHV0ID0gMCkgPT4ge1xuICAgICAgICBjb25zdCBvdXRwdXRBdWRpb05vZGUgPSBvdXRwdXRBdWRpb05vZGVzW291dHB1dF07XG4gICAgICAgIGlmIChvdXRwdXRBdWRpb05vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYXRpdmVBdWRpb05vZGUoZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2RlLmNvbm5lY3QoZGVzdGluYXRpb24sIDAsIGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0QXVkaW9Ob2RlLmNvbm5lY3QoZGVzdGluYXRpb24sIDApO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdC1tdWx0aXBsZS1vdXRwdXRzLmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVEZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSA9IChnZXRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZXMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIGF1ZGlvV29ya2xldE5vZGUpID0+IHtcbiAgICAgICAgZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzKG5hdGl2ZUNvbnRleHQpLmRlbGV0ZShhdWRpb1dvcmtsZXROb2RlKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZS11bnJlbmRlcmVkLWF1ZGlvLXdvcmtsZXQtbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlR2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyA9IChhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUsIGdldFZhbHVlRm9yS2V5KSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlKSA9PiBnZXRWYWx1ZUZvcktleShhY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzU3RvcmUsIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1hY3RpdmUtYXVkaW8td29ya2xldC1ub2RlLWlucHV0cy5qcy5tYXAiLCJpbXBvcnQgeyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCwgTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tcHV0ZUJ1ZmZlclNpemUgfSBmcm9tICcuLi9oZWxwZXJzL2NvbXB1dGUtYnVmZmVyLXNpemUnO1xuaW1wb3J0IHsgY29weUZyb21DaGFubmVsIH0gZnJvbSAnLi4vaGVscGVycy9jb3B5LWZyb20tY2hhbm5lbCc7XG5pbXBvcnQgeyBjb3B5VG9DaGFubmVsIH0gZnJvbSAnLi4vaGVscGVycy9jb3B5LXRvLWNoYW5uZWwnO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIH0gZnJvbSAnLi4vaGVscGVycy9jcmVhdGUtYXVkaW8td29ya2xldC1wcm9jZXNzb3InO1xuaW1wb3J0IHsgY3JlYXRlTmVzdGVkQXJyYXlzIH0gZnJvbSAnLi4vaGVscGVycy9jcmVhdGUtbmVzdGVkLWFycmF5cyc7XG5pbXBvcnQgeyBSZWFkT25seU1hcCB9IGZyb20gJy4uL3JlYWQtb25seS1tYXAnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlckZhY3RvcnkgPSAoY29ubmVjdE11bHRpcGxlT3V0cHV0cywgY3JlYXRlSW5kZXhTaXplRXJyb3IsIGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yLCBjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZSwgY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSwgY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLCBjcmVhdGVOYXRpdmVHYWluTm9kZSwgY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZSwgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIGRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMsIGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lLCBnZXRBY3RpdmVBdWRpb1dvcmtsZXROb2RlSW5wdXRzLCBtb25pdG9yQ29ubmVjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIGJhc2VMYXRlbmN5LCBwcm9jZXNzb3JDb25zdHJ1Y3Rvciwgb3B0aW9ucykgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucy5udW1iZXJPZklucHV0cyA9PT0gMCAmJiBvcHRpb25zLm51bWJlck9mT3V0cHV0cyA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXRDaGFubmVsQ291bnQgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50KVxuICAgICAgICAgICAgPyBvcHRpb25zLm91dHB1dENoYW5uZWxDb3VudFxuICAgICAgICAgICAgOiBBcnJheS5mcm9tKG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50KTtcbiAgICAgICAgLy8gQHRvZG8gQ2hlY2sgaWYgYW55IG9mIHRoZSBjaGFubmVsQ291bnQgdmFsdWVzIGlzIGdyZWF0ZXIgdGhhbiB0aGUgaW1wbGVtZW50YXRpb24ncyBtYXhpbXVtIG51bWJlciBvZiBjaGFubmVscy5cbiAgICAgICAgaWYgKG91dHB1dENoYW5uZWxDb3VudC5zb21lKChjaGFubmVsQ291bnQpID0+IGNoYW5uZWxDb3VudCA8IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXRDaGFubmVsQ291bnQubGVuZ3RoICE9PSBvcHRpb25zLm51bWJlck9mT3V0cHV0cykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW5kZXhTaXplRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWcgIzYxOiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBzdGFuZGFyZCBidXQgcmVxdWlyZWQgZm9yIHRoZSBmYWtlciB0byB3b3JrLlxuICAgICAgICBpZiAob3B0aW9ucy5jaGFubmVsQ291bnRNb2RlICE9PSAnZXhwbGljaXQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bWJlck9mSW5wdXRDaGFubmVscyA9IG9wdGlvbnMuY2hhbm5lbENvdW50ICogb3B0aW9ucy5udW1iZXJPZklucHV0cztcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZPdXRwdXRDaGFubmVscyA9IG91dHB1dENoYW5uZWxDb3VudC5yZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlLCAwKTtcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZQYXJhbWV0ZXJzID0gcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgPT09IHVuZGVmaW5lZCA/IDAgOiBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5sZW5ndGg7XG4gICAgICAgIC8vIEJ1ZyAjNjE6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHN0YW5kYXJkIGJ1dCByZXF1aXJlZCBmb3IgdGhlIGZha2VyIHRvIHdvcmsuXG4gICAgICAgIGlmIChudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBudW1iZXJPZlBhcmFtZXRlcnMgPiA2IHx8IG51bWJlck9mT3V0cHV0Q2hhbm5lbHMgPiA2KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VDaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNvbnN0IGdhaW5Ob2RlcyA9IFtdO1xuICAgICAgICBjb25zdCBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5udW1iZXJPZklucHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICBnYWluTm9kZXMucHVzaChjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiBvcHRpb25zLmNoYW5uZWxDb3VudE1vZGUsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiBvcHRpb25zLmNoYW5uZWxJbnRlcnByZXRhdGlvbixcbiAgICAgICAgICAgICAgICBnYWluOiAxXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzLnB1c2goY3JlYXRlTmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICBudW1iZXJPZk91dHB1dHM6IG9wdGlvbnMuY2hhbm5lbENvdW50XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uc3RhbnRTb3VyY2VOb2RlcyA9IFtdO1xuICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IGRlZmF1bHRWYWx1ZSwgbWF4VmFsdWUsIG1pblZhbHVlLCBuYW1lIH0gb2YgcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGUgPSBjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zLnBhcmFtZXRlckRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLnBhcmFtZXRlckRhdGFbbmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnN0YW50U291cmNlTm9kZS5vZmZzZXQsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IChkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCA/IDAgOiBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IChtYXhWYWx1ZSA9PT0gdW5kZWZpbmVkID8gTU9TVF9QT1NJVElWRV9TSU5HTEVfRkxPQVQgOiBtYXhWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gKG1pblZhbHVlID09PSB1bmRlZmluZWQgPyBNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCA6IG1pblZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2Rlcy5wdXNoKGNvbnN0YW50U291cmNlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlKG5hdGl2ZUNvbnRleHQsIHtcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdzcGVha2VycycsXG4gICAgICAgICAgICBudW1iZXJPZklucHV0czogTWF0aC5tYXgoMSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzICsgbnVtYmVyT2ZQYXJhbWV0ZXJzKVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYnVmZmVyU2l6ZSA9IGNvbXB1dGVCdWZmZXJTaXplKGJhc2VMYXRlbmN5LCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICBjb25zdCBzY3JpcHRQcm9jZXNzb3JOb2RlID0gY3JlYXRlTmF0aXZlU2NyaXB0UHJvY2Vzc29yTm9kZShuYXRpdmVDb250ZXh0LCBidWZmZXJTaXplLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBudW1iZXJPZlBhcmFtZXRlcnMsIFxuICAgICAgICAvLyBCdWcgIzg3OiBPbmx5IEZpcmVmb3ggd2lsbCBmaXJlIGFuIEF1ZGlvUHJvY2Vzc2luZ0V2ZW50IGlmIHRoZXJlIGlzIG5vIGNvbm5lY3RlZCBvdXRwdXQuXG4gICAgICAgIE1hdGgubWF4KDEsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZSA9IGNyZWF0ZU5hdGl2ZUNoYW5uZWxTcGxpdHRlck5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBNYXRoLm1heCgxLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICBjaGFubmVsSW50ZXJwcmV0YXRpb246ICdkaXNjcmV0ZScsXG4gICAgICAgICAgICBudW1iZXJPZk91dHB1dHM6IE1hdGgubWF4KDEsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLm51bWJlck9mT3V0cHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMucHVzaChjcmVhdGVOYXRpdmVDaGFubmVsTWVyZ2VyTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6ICdleHBsaWNpdCcsXG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnc3BlYWtlcnMnLFxuICAgICAgICAgICAgICAgIG51bWJlck9mSW5wdXRzOiBvdXRwdXRDaGFubmVsQ291bnRbaV1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgZ2Fpbk5vZGVzW2ldLmNvbm5lY3QoaW5wdXRDaGFubmVsU3BsaXR0ZXJOb2Rlc1tpXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMuY2hhbm5lbENvdW50OyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzW2ldLmNvbm5lY3QoaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSwgaiwgaSAqIG9wdGlvbnMuY2hhbm5lbENvdW50ICsgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1ldGVyTWFwID0gbmV3IFJlYWRPbmx5TWFwKHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgIDogcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMubWFwKCh7IG5hbWUgfSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGUgPSBjb25zdGFudFNvdXJjZU5vZGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuY29ubmVjdChpbnB1dENoYW5uZWxNZXJnZXJOb2RlLCAwLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBpbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLnN0YXJ0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBbbmFtZSwgY29uc3RhbnRTb3VyY2VOb2RlLm9mZnNldF07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIGlucHV0Q2hhbm5lbE1lcmdlck5vZGUuY29ubmVjdChzY3JpcHRQcm9jZXNzb3JOb2RlKTtcbiAgICAgICAgbGV0IGNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IG9wdGlvbnMuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICBsZXQgb25wcm9jZXNzb3JlcnJvciA9IG51bGw7XG4gICAgICAgIC8vIEJ1ZyAjODc6IEV4cG9zZSBhdCBsZWFzdCBvbmUgb3V0cHV0IHRvIG1ha2UgdGhpcyBub2RlIGNvbm5lY3RhYmxlLlxuICAgICAgICBjb25zdCBvdXRwdXRBdWRpb05vZGVzID0gb3B0aW9ucy5udW1iZXJPZk91dHB1dHMgPT09IDAgPyBbc2NyaXB0UHJvY2Vzc29yTm9kZV0gOiBvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXM7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciA9IHtcbiAgICAgICAgICAgIGdldCBidWZmZXJTaXplKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJTaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnQoXykge1xuICAgICAgICAgICAgICAgIC8vIEJ1ZyAjNjE6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHN0YW5kYXJkIGJ1dCByZXF1aXJlZCBmb3IgdGhlIGZha2VyIHRvIHdvcmsuXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2hhbm5lbENvdW50TW9kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jaGFubmVsQ291bnRNb2RlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsQ291bnRNb2RlKF8pIHtcbiAgICAgICAgICAgICAgICAvLyBCdWcgIzYxOiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBzdGFuZGFyZCBidXQgcmVxdWlyZWQgZm9yIHRoZSBmYWtlciB0byB3b3JrLlxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUludmFsaWRTdGF0ZUVycm9yKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdhaW5Ob2RlIG9mIGdhaW5Ob2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBnYWluTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnYWluTm9kZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG51bWJlck9mSW5wdXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm51bWJlck9mSW5wdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBudW1iZXJPZk91dHB1dHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvbnByb2Nlc3NvcmVycm9yKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbnByb2Nlc3NvcmVycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBvbnByb2Nlc3NvcmVycm9yKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbnByb2Nlc3NvcmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9jZXNzb3JlcnJvcicsIG9ucHJvY2Vzc29yZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbnByb2Nlc3NvcmVycm9yID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25wcm9jZXNzb3JlcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIuYWRkRXZlbnRMaXN0ZW5lcigncHJvY2Vzc29yZXJyb3InLCBvbnByb2Nlc3NvcmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhcmFtZXRlcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtZXRlck1hcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcG9ydCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZUNoYW5uZWwucG9ydDI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdFByb2Nlc3Nvck5vZGUuYWRkRXZlbnRMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25uZWN0OiBjb25uZWN0TXVsdGlwbGVPdXRwdXRzLmJpbmQobnVsbCwgb3V0cHV0QXVkaW9Ob2RlcyksXG4gICAgICAgICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzLmJpbmQobnVsbCwgb3V0cHV0QXVkaW9Ob2RlcyksXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0UHJvY2Vzc29yTm9kZS5kaXNwYXRjaEV2ZW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHRQcm9jZXNzb3JOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGNoZWRFdmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEuYWRkRXZlbnRMaXN0ZW5lciA9ICgoYWRkRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBhdGNoZWRFdmVudExpc3RlbmVyID0gdHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYXJnc1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgYXJnc1sxXSA9PT0gJ29iamVjdCcgJiYgYXJnc1sxXSAhPT0gbnVsbCAmJiB0eXBlb2YgYXJnc1sxXS5oYW5kbGVFdmVudCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXJnc1sxXS5oYW5kbGVFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoZWRFdmVudExpc3RlbmVyID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLmdldChhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IHBhdGNoZWRFdmVudExpc3RlbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VDdXJyZW50RnJhbWVBbmRDdXJyZW50VGltZShuYXRpdmVDb250ZXh0LmN1cnJlbnRUaW1lLCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUsICgpID0+IHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWRFdmVudExpc3RlbmVycy5zZXQodW5wYXRjaGVkRXZlbnRMaXN0ZW5lciwgYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChtZXNzYWdlQ2hhbm5lbC5wb3J0MSwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShtZXNzYWdlQ2hhbm5lbC5wb3J0MS5hZGRFdmVudExpc3RlbmVyKTtcbiAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lciA9ICgocmVtb3ZlRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkRXZlbnRMaXN0ZW5lciA9IHBhdGNoZWRFdmVudExpc3RlbmVycy5nZXQoYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IHBhdGNoZWRFdmVudExpc3RlbmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVFdmVudExpc3RlbmVyLmNhbGwobWVzc2FnZUNoYW5uZWwucG9ydDEsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkobWVzc2FnZUNoYW5uZWwucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIGxldCBvbm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWVzc2FnZUNoYW5uZWwucG9ydDEsICdvbm1lc3NhZ2UnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IG9ubWVzc2FnZSxcbiAgICAgICAgICAgIHNldDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbm1lc3NhZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9ubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9ubWVzc2FnZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ubWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUucG9ydCA9IG1lc3NhZ2VDaGFubmVsLnBvcnQxO1xuICAgICAgICBsZXQgYXVkaW9Xb3JrbGV0UHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgY29uc3QgYXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZSA9IGNyZWF0ZUF1ZGlvV29ya2xldFByb2Nlc3NvcihuYXRpdmVDb250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIsIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgYXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZS50aGVuKChkV3JrbHRQcmNzc3IpID0+IChhdWRpb1dvcmtsZXRQcm9jZXNzb3IgPSBkV3JrbHRQcmNzc3IpKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gY3JlYXRlTmVzdGVkQXJyYXlzKG9wdGlvbnMubnVtYmVyT2ZJbnB1dHMsIG9wdGlvbnMuY2hhbm5lbENvdW50KTtcbiAgICAgICAgY29uc3Qgb3V0cHV0cyA9IGNyZWF0ZU5lc3RlZEFycmF5cyhvcHRpb25zLm51bWJlck9mT3V0cHV0cywgb3V0cHV0Q2hhbm5lbENvdW50KTtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgIDogcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMucmVkdWNlKChwcm10cnMsIHsgbmFtZSB9KSA9PiAoeyAuLi5wcm10cnMsIFtuYW1lXTogbmV3IEZsb2F0MzJBcnJheSgxMjgpIH0pLCB7fSk7XG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RPdXRwdXRzR3JhcGggPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5udW1iZXJPZk91dHB1dHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5kaXNjb25uZWN0KG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgPSAwOyBpIDwgb3B0aW9ucy5udW1iZXJPZk91dHB1dHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlID0gb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3V0cHV0Q2hhbm5lbENvdW50W2ldOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZS5kaXNjb25uZWN0KG91dHB1dENoYW5uZWxNZXJnZXJOb2RlLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ICsgaiwgaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKz0gb3V0cHV0Q2hhbm5lbENvdW50W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3RpdmVJbnB1dEluZGV4ZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkZXByZWNhdGlvblxuICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLm9uYXVkaW9wcm9jZXNzID0gKHsgaW5wdXRCdWZmZXIsIG91dHB1dEJ1ZmZlciB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXVkaW9Xb3JrbGV0UHJvY2Vzc29yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlSW5wdXRzID0gZ2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyhuYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSArPSAxMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvcHRpb25zLm51bWJlck9mSW5wdXRzOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3B0aW9ucy5jaGFubmVsQ291bnQ7IGsgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbChpbnB1dEJ1ZmZlciwgaW5wdXRzW2pdLCBrLCBrLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc29yQ29uc3RydWN0b3IucGFyYW1ldGVyRGVzY3JpcHRvcnMuZm9yRWFjaCgoeyBuYW1lIH0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUZyb21DaGFubmVsKGlucHV0QnVmZmVyLCBwYXJhbWV0ZXJzLCBuYW1lLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBpbmRleCwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBvdXRwdXRDaGFubmVsQ291bnRbal07IGsgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBieXRlTGVuZ3RoIHdpbGwgYmUgMCB3aGVuIHRoZSBBcnJheUJ1ZmZlciB3YXMgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dHB1dHNbal1ba10uYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRzW2pdW2tdID0gbmV3IEZsb2F0MzJBcnJheSgxMjgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG90ZW50aWFsbHlFbXB0eUlucHV0cyA9IGlucHV0cy5tYXAoKGlucHV0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUlucHV0ID0gYWN0aXZlSW5wdXRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSW5wdXQuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRJbmRleGVzLnNldChpbmRleCwgYnVmZmVyU2l6ZSAvIDEyOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBhY3RpdmVJbnB1dEluZGV4ZXMuZ2V0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5ldmVyeSgoY2hhbm5lbERhdGEpID0+IGNoYW5uZWxEYXRhLmV2ZXJ5KChzYW1wbGUpID0+IHNhbXBsZSA9PT0gMCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5wdXRJbmRleGVzLmRlbGV0ZShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnB1dEluZGV4ZXMuc2V0KGluZGV4LCBjb3VudCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlU291cmNlRmxhZyA9IGV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lKG5hdGl2ZUNvbnRleHQuY3VycmVudFRpbWUgKyBpIC8gbmF0aXZlQ29udGV4dC5zYW1wbGVSYXRlLCBuYXRpdmVDb250ZXh0LnNhbXBsZVJhdGUsICgpID0+IGF1ZGlvV29ya2xldFByb2Nlc3Nvci5wcm9jZXNzKHBvdGVudGlhbGx5RW1wdHlJbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlID0gYWN0aXZlU291cmNlRmxhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ID0gMDsgaiA8IG9wdGlvbnMubnVtYmVyT2ZPdXRwdXRzOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG91dHB1dENoYW5uZWxDb3VudFtqXTsgayArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlUb0NoYW5uZWwob3V0cHV0QnVmZmVyLCBvdXRwdXRzW2pdLCBrLCBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ICsgaywgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKz0gb3V0cHV0Q2hhbm5lbENvdW50W2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlci5kaXNwYXRjaEV2ZW50KG5ldyBFcnJvckV2ZW50KCdwcm9jZXNzb3JlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xubzogZXJyb3IuY29sbm8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVycm9yLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVubzogZXJyb3IubGluZW5vLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9wdGlvbnMubnVtYmVyT2ZJbnB1dHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhaW5Ob2Rlc1tqXS5kaXNjb25uZWN0KGlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3B0aW9ucy5jaGFubmVsQ291bnQ7IGsgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENoYW5uZWxTcGxpdHRlck5vZGVzW2ldLmRpc2Nvbm5lY3QoaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSwgaywgaiAqIG9wdGlvbnMuY2hhbm5lbENvdW50ICsgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NvckNvbnN0cnVjdG9yLnBhcmFtZXRlckRlc2NyaXB0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBwcm9jZXNzb3JDb25zdHJ1Y3Rvci5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25zdGFudFNvdXJjZU5vZGUgPSBjb25zdGFudFNvdXJjZU5vZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudFNvdXJjZU5vZGUuZGlzY29ubmVjdChpbnB1dENoYW5uZWxNZXJnZXJOb2RlLCAwLCBudW1iZXJPZklucHV0Q2hhbm5lbHMgKyBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRTb3VyY2VOb2RlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENoYW5uZWxNZXJnZXJOb2RlLmRpc2Nvbm5lY3Qoc2NyaXB0UHJvY2Vzc29yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLm9uYXVkaW9wcm9jZXNzID0gbnVsbDsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkZXByZWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdE91dHB1dHNHcmFwaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdEZha2VHcmFwaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAvLyBCdWcgIzg3OiBPbmx5IEZpcmVmb3ggd2lsbCBmaXJlIGFuIEF1ZGlvUHJvY2Vzc2luZ0V2ZW50IGlmIHRoZXJlIGlzIG5vIGNvbm5lY3RlZCBvdXRwdXQuXG4gICAgICAgIGNvbnN0IG5hdGl2ZUdhaW5Ob2RlID0gY3JlYXRlTmF0aXZlR2Fpbk5vZGUobmF0aXZlQ29udGV4dCwge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZTogJ2V4cGxpY2l0JyxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogJ2Rpc2NyZXRlJyxcbiAgICAgICAgICAgIGdhaW46IDBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RGYWtlR3JhcGggPSAoKSA9PiBzY3JpcHRQcm9jZXNzb3JOb2RlLmNvbm5lY3QobmF0aXZlR2Fpbk5vZGUpLmNvbm5lY3QobmF0aXZlQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RGYWtlR3JhcGggPSAoKSA9PiB7XG4gICAgICAgICAgICBzY3JpcHRQcm9jZXNzb3JOb2RlLmRpc2Nvbm5lY3QobmF0aXZlR2Fpbk5vZGUpO1xuICAgICAgICAgICAgbmF0aXZlR2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdEZha2VHcmFwaCgpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm51bWJlck9mT3V0cHV0cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0UHJvY2Vzc29yTm9kZS5jb25uZWN0KG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgb3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCA9IDA7IGkgPCBvcHRpb25zLm51bWJlck9mT3V0cHV0czsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dENoYW5uZWxNZXJnZXJOb2RlID0gb3V0cHV0Q2hhbm5lbE1lcmdlck5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG91dHB1dENoYW5uZWxDb3VudFtpXTsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlLmNvbm5lY3Qob3V0cHV0Q2hhbm5lbE1lcmdlck5vZGUsIG91dHB1dENoYW5uZWxTcGxpdHRlck5vZGVPdXRwdXQgKyBqLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFubmVsU3BsaXR0ZXJOb2RlT3V0cHV0ICs9IG91dHB1dENoYW5uZWxDb3VudFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdoZW5EaXNjb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0RmFrZUdyYXBoKCk7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdE91dHB1dHNHcmFwaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29ubmVjdEZha2VHcmFwaCgpO1xuICAgICAgICByZXR1cm4gbW9uaXRvckNvbm5lY3Rpb25zKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciwgd2hlbkNvbm5lY3RlZCwgd2hlbkRpc2Nvbm5lY3RlZCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZha2VyLWZhY3RvcnkuanMubWFwIiwiaW1wb3J0IHsgTk9ERV9UT19QUk9DRVNTT1JfTUFQUyB9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZSB9IGZyb20gJy4vY3JlYXRlLWF1ZGlvLXdvcmtsZXQtcHJvY2Vzc29yLXByb21pc2UnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvV29ya2xldFByb2Nlc3NvciA9IChuYXRpdmVDb250ZXh0LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBwcm9jZXNzb3JDb25zdHJ1Y3RvciwgYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpID0+IHtcbiAgICBsZXQgbm9kZVRvUHJvY2Vzc29yTWFwID0gTk9ERV9UT19QUk9DRVNTT1JfTUFQUy5nZXQobmF0aXZlQ29udGV4dCk7XG4gICAgaWYgKG5vZGVUb1Byb2Nlc3Nvck1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGVUb1Byb2Nlc3Nvck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIE5PREVfVE9fUFJPQ0VTU09SX01BUFMuc2V0KG5hdGl2ZUNvbnRleHQsIG5vZGVUb1Byb2Nlc3Nvck1hcCk7XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvV29ya2xldFByb2Nlc3NvclByb21pc2UgPSBjcmVhdGVBdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlKHByb2Nlc3NvckNvbnN0cnVjdG9yLCBhdWRpb1dvcmtsZXROb2RlT3B0aW9ucyk7XG4gICAgbm9kZVRvUHJvY2Vzc29yTWFwLnNldChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBhdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlKTtcbiAgICByZXR1cm4gYXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtYXVkaW8td29ya2xldC1wcm9jZXNzb3IuanMubWFwIiwiaW1wb3J0IHsgY2xvbmVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyB9IGZyb20gJy4vY2xvbmUtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvV29ya2xldFByb2Nlc3NvclByb21pc2UgPSBhc3luYyAocHJvY2Vzc29yQ29uc3RydWN0b3IsIGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY2xvbmVkQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgPSBhd2FpdCBjbG9uZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IHByb2Nlc3NvckNvbnN0cnVjdG9yKGNsb25lZEF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtYXVkaW8td29ya2xldC1wcm9jZXNzb3ItcHJvbWlzZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY2xvbmVBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyA9IChhdWRpb1dvcmtsZXROb2RlT3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcG9ydDEsIHBvcnQyIH0gPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgcG9ydDEub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBwb3J0MS5jbG9zZSgpO1xuICAgICAgICAgICAgcG9ydDIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIHBvcnQxLm9ubWVzc2FnZWVycm9yID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBwb3J0MS5jbG9zZSgpO1xuICAgICAgICAgICAgcG9ydDIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBhdWRpb1dvcmtsZXROb2RlT3B0aW9ucyBhcmUgbm90IGNsb25hYmxlLlxuICAgICAgICBwb3J0Mi5wb3N0TWVzc2FnZShhdWRpb1dvcmtsZXROb2RlT3B0aW9ucyk7XG4gICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xvbmUtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMuanMubWFwIiwiaW1wb3J0IHsgdGVzdENsb25hYmlsaXR5T2ZBdWRpb1dvcmtsZXROb2RlT3B0aW9ucyB9IGZyb20gJy4uL2hlbHBlcnMvdGVzdC1jbG9uYWJpbGl0eS1vZi1hdWRpby13b3JrbGV0LW5vZGUtb3B0aW9ucyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZhY3RvcnkgPSAoY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IsIGNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVGYWtlciwgY3JlYXRlTmF0aXZlR2Fpbk5vZGUsIGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yLCBtb25pdG9yQ29ubmVjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gKG5hdGl2ZUNvbnRleHQsIGJhc2VMYXRlbmN5LCBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IsIG5hbWUsIHByb2Nlc3NvckNvbnN0cnVjdG9yLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGlmIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSA9IG5ldyBuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IobmF0aXZlQ29udGV4dCwgbmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0Y2hlZEV2ZW50TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIGxldCBvbnByb2Nlc3NvcmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAqIEJ1ZyAjNjE6IE92ZXJ3cml0aW5nIHRoZSBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIGNoYW5uZWxDb3VudCBhbmQgY2hhbm5lbENvdW50TW9kZSBpcyBuZWNlc3NhcnkgYXMgbG9uZyBhcyBzb21lXG4gICAgICAgICAgICAgICAgICAgICAqIGJyb3dzZXJzIGhhdmUgbm8gbmF0aXZlIGltcGxlbWVudGF0aW9uIHRvIGFjaGlldmUgYSBjb25zaXN0ZW50IGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IG9wdGlvbnMuY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50TW9kZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxNTY6IENocm9tZSBhbmQgRWRnZSBkbyBub3QgeWV0IGZpcmUgYW4gRXJyb3JFdmVudC5cbiAgICAgICAgICAgICAgICAgICAgb25wcm9jZXNzb3JlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBvbnByb2Nlc3NvcmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ucHJvY2Vzc29yZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9jZXNzb3JlcnJvcicsIG9ucHJvY2Vzc29yZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnByb2Nlc3NvcmVycm9yID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25wcm9jZXNzb3JlcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2Nlc3NvcmVycm9yJywgb25wcm9jZXNzb3JlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5hZGRFdmVudExpc3RlbmVyID0gKChhZGRFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09ICdwcm9jZXNzb3JlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBhdGNoZWRFdmVudExpc3RlbmVyID0gdHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmdzWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGFyZ3NbMV0gPT09ICdvYmplY3QnICYmIGFyZ3NbMV0gIT09IG51bGwgJiYgdHlwZW9mIGFyZ3NbMV0uaGFuZGxlRXZlbnQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXJnc1sxXS5oYW5kbGVFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bnBhdGNoZWRFdmVudExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoZWRFdmVudExpc3RlbmVyID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLmdldChhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGNoZWRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0gPSBwYXRjaGVkRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE3ODogQ2hyb21lIGFuZCBFZGdlIGRvIGZpcmUgYW4gZXZlbnQgb2YgdHlwZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhldmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogeyB2YWx1ZTogJ3Byb2Nlc3NvcmVycm9yJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnBhdGNoZWRFdmVudExpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucGF0Y2hlZEV2ZW50TGlzdGVuZXIobmV3IEVycm9yRXZlbnQoYXJnc1swXSwgeyAuLi5ldmVudCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWRFdmVudExpc3RlbmVycy5zZXQodW5wYXRjaGVkRXZlbnRMaXN0ZW5lciwgYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWcgIzE3ODogQ2hyb21lIGFuZCBFZGdlIGRvIGZpcmUgYW4gZXZlbnQgb2YgdHlwZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCAnZXJyb3InLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyLmNhbGwobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5hZGRFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICBuYXRpdmVBdWRpb1dvcmtsZXROb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoKHJlbW92ZUV2ZW50TGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSA9PT0gJ3Byb2Nlc3NvcmVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoZWRFdmVudExpc3RlbmVyID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXJzLmdldChhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZEV2ZW50TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzFdID0gcGF0Y2hlZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnVnICMxNzg6IENocm9tZSBhbmQgRWRnZSBkbyBmaXJlIGFuIGV2ZW50IG9mIHR5cGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyLmNhbGwobmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSwgJ2Vycm9yJywgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKG5hdGl2ZUF1ZGlvV29ya2xldE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBCdWcgIzg2OiBDaHJvbWUgYW5kIEVkZ2UgZG8gbm90IGludm9rZSB0aGUgcHJvY2VzcygpIGZ1bmN0aW9uIGlmIHRoZSBjb3JyZXNwb25kaW5nIEF1ZGlvV29ya2xldE5vZGUgaXMgdW5jb25uZWN0ZWQgYnV0XG4gICAgICAgICAgICAgICAgICogaGFzIGFuIG91dHB1dC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5udW1iZXJPZk91dHB1dHMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlR2Fpbk5vZGUgPSBjcmVhdGVOYXRpdmVHYWluTm9kZShuYXRpdmVDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRNb2RlOiAnZXhwbGljaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbEludGVycHJldGF0aW9uOiAnZGlzY3JldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FpbjogMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5jb25uZWN0KG5hdGl2ZUdhaW5Ob2RlKS5jb25uZWN0KG5hdGl2ZUNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVuQ29ubmVjdGVkID0gKCkgPT4gbmF0aXZlR2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVuRGlzY29ubmVjdGVkID0gKCkgPT4gbmF0aXZlR2Fpbk5vZGUuY29ubmVjdChuYXRpdmVDb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gRGlzY29ubmVjdCB0aGUgY29ubmVjdGlvbiB3aGVuIHRoZSBwcm9jZXNzKCkgZnVuY3Rpb24gb2YgdGhlIEF1ZGlvV29ya2xldE5vZGUgcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbml0b3JDb25uZWN0aW9ucyhuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCB3aGVuQ29ubmVjdGVkLCB3aGVuRGlzY29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUF1ZGlvV29ya2xldE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gQnVnICM2MDogQ2hyb21lICYgRWRnZSB0aHJvdyBhbiBJbnZhbGlkU3RhdGVFcnJvciBpbnN0ZWFkIG9mIGEgTm90U3VwcG9ydGVkRXJyb3IuXG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVOb3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnICM2MTogT25seSBDaHJvbWUgJiBFZGdlIGhhdmUgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIEF1ZGlvV29ya2xldE5vZGUgeWV0LlxuICAgICAgICBpZiAocHJvY2Vzc29yQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXN0Q2xvbmFiaWxpdHlPZkF1ZGlvV29ya2xldE5vZGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZUZha2VyKG5hdGl2ZUNvbnRleHQsIGJhc2VMYXRlbmN5LCBwcm9jZXNzb3JDb25zdHJ1Y3Rvciwgb3B0aW9ucyk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmUtYXVkaW8td29ya2xldC1ub2RlLWZhY3RvcnkuanMubWFwIiwiZXhwb3J0IGNvbnN0IHRlc3RDbG9uYWJpbGl0eU9mQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMgPSAoYXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IHBvcnQxIH0gPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGF1ZGlvV29ya2xldE5vZGVPcHRpb25zIGFyZSBub3QgY2xvbmFibGUuXG4gICAgICAgIHBvcnQxLnBvc3RNZXNzYWdlKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHBvcnQxLmNsb3NlKCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtY2xvbmFiaWxpdHktb2YtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQgPSAoYmFja3VwT2ZmbGluZUF1ZGlvQ29udGV4dFN0b3JlKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVDb250ZXh0KSA9PiB7XG4gICAgICAgIHJldHVybiBiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUuZ2V0KG5hdGl2ZUNvbnRleHQpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWJhY2t1cC1vZmZsaW5lLWF1ZGlvLWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVNldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMgPSAoYWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0c1N0b3JlKSA9PiB7XG4gICAgcmV0dXJuIChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBhY3RpdmVJbnB1dHMpID0+IHtcbiAgICAgICAgYWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0c1N0b3JlLnNldChuYXRpdmVBdWRpb1dvcmtsZXROb2RlLCBhY3RpdmVJbnB1dHMpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LWFjdGl2ZS1hdWRpby13b3JrbGV0LW5vZGUtaW5wdXRzLmpzLm1hcCIsImV4cG9ydCBjb25zdCBzYW5pdGl6ZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBvdXRwdXRDaGFubmVsQ291bnQ6IG9wdGlvbnMub3V0cHV0Q2hhbm5lbENvdW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5vdXRwdXRDaGFubmVsQ291bnRcbiAgICAgICAgICAgIDogb3B0aW9ucy5udW1iZXJPZklucHV0cyA9PT0gMSAmJiBvcHRpb25zLm51bWJlck9mT3V0cHV0cyA9PT0gMVxuICAgICAgICAgICAgICAgID8gLypcbiAgICAgICAgICAgICAgICAgICAqIEJ1ZyAjNjE6IFRoaXMgc2hvdWxkIGJlIHRoZSBjb21wdXRlZE51bWJlck9mQ2hhbm5lbHMsIGJ1dCB1bmZvcnR1bmF0ZWx5IHRoYXQgaXMgYWxtb3N0IGltcG9zc2libGUgdG8gZmFrZS4gVGhhdCdzIHdoeVxuICAgICAgICAgICAgICAgICAgICogdGhlIGNoYW5uZWxDb3VudE1vZGUgaXMgcmVxdWlyZWQgdG8gYmUgJ2V4cGxpY2l0JyBhcyBsb25nIGFzIHRoZXJlIGlzIG5vdCBhIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpbiBldmVyeSBicm93c2VyLiBUaGF0XG4gICAgICAgICAgICAgICAgICAgKiBtYWtlcyBzdXJlIHRoZSBjb21wdXRlZE51bWJlck9mQ2hhbm5lbHMgaXMgZXF1aXZpbGFudCB0byB0aGUgY2hhbm5lbENvdW50IHdoaWNoIG1ha2VzIGl0IG11Y2ggZWFzaWVyIHRvIGNvbXB1dGUuXG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnMuY2hhbm5lbENvdW50XVxuICAgICAgICAgICAgICAgIDogQXJyYXkuZnJvbSh7IGxlbmd0aDogb3B0aW9ucy5udW1iZXJPZk91dHB1dHMgfSwgKCkgPT4gMSlcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLWF1ZGlvLXdvcmtsZXQtbm9kZS1vcHRpb25zLmpzLm1hcCIsImV4cG9ydCBjb25zdCB0ZXN0QXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnNDbG9uYWJpbGl0eSA9IChhdWRpb1dvcmtsZXROb2RlT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgcG9ydDEsIHBvcnQyIH0gPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGF1ZGlvV29ya2xldE5vZGVPcHRpb25zIGFyZSBub3QgY2xvbmFibGUuXG4gICAgICAgIHBvcnQxLnBvc3RNZXNzYWdlKGF1ZGlvV29ya2xldE5vZGVPcHRpb25zKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHBvcnQxLmNsb3NlKCk7XG4gICAgICAgIHBvcnQyLmNsb3NlKCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlc3QtYXVkaW8td29ya2xldC1ub2RlLW9wdGlvbnMtY2xvbmFiaWxpdHkuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQgPSAoY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IsIG5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvcikgPT4ge1xuICAgIHJldHVybiAobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKSA9PiB7XG4gICAgICAgIGlmIChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0Q29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aGUgbmF0aXZlIE9mZmxpbmVBdWRpb0NvbnRleHQgY29uc3RydWN0b3IuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yKG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gQnVnICMxNDMsICMxNDQgJiAjMTQ2OiBTYWZhcmkgdGhyb3dzIGEgU3ludGF4RXJyb3Igd2hlbiBudW1iZXJPZkNoYW5uZWxzLCBsZW5ndGggb3Igc2FtcGxlUmF0ZSBhcmUgaW52YWxpZC5cbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1uYXRpdmUtb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IHdyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kIH0gZnJvbSAnLi4vaGVscGVycy93cmFwLWF1ZGlvLWJ1ZmZlci1nZXQtY2hhbm5lbC1kYXRhLW1ldGhvZCc7XG5leHBvcnQgY29uc3QgY3JlYXRlU3RhcnRSZW5kZXJpbmcgPSAoYXVkaW9CdWZmZXJTdG9yZSwgY2FjaGVUZXN0UmVzdWx0LCBnZXRBdWRpb05vZGVSZW5kZXJlciwgZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzLCByZW5kZXJOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0LCB0ZXN0QXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kc1N1cHBvcnQsIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kcywgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHMpID0+IHtcbiAgICByZXR1cm4gKGRlc3RpbmF0aW9uLCBuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSA9PiBnZXRBdWRpb05vZGVSZW5kZXJlcihkZXN0aW5hdGlvbilcbiAgICAgICAgLnJlbmRlcihkZXN0aW5hdGlvbiwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dClcbiAgICAgICAgLypcbiAgICAgICAgICogQnVnICM4NiAmICM4NzogSW52b2tpbmcgdGhlIHJlbmRlcmVyIG9mIGFuIEF1ZGlvV29ya2xldE5vZGUgbWlnaHQgYmUgbmVjZXNzYXJ5IGlmIGl0IGhhcyBubyBkaXJlY3Qgb3IgaW5kaXJlY3QgY29ubmVjdGlvbiB0byB0aGVcbiAgICAgICAgICogZGVzdGluYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICAudGhlbigoKSA9PiBQcm9taXNlLmFsbChBcnJheS5mcm9tKGdldFVucmVuZGVyZWRBdWRpb1dvcmtsZXROb2RlcyhuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSkubWFwKChhdWRpb1dvcmtsZXROb2RlKSA9PiBnZXRBdWRpb05vZGVSZW5kZXJlcihhdWRpb1dvcmtsZXROb2RlKS5yZW5kZXIoYXVkaW9Xb3JrbGV0Tm9kZSwgbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkpKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChuYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KSlcbiAgICAgICAgLnRoZW4oKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICAgIC8vIEJ1ZyAjNTogU2FmYXJpIGRvZXMgbm90IHN1cHBvcnQgY29weUZyb21DaGFubmVsKCkgYW5kIGNvcHlUb0NoYW5uZWwoKS5cbiAgICAgICAgLy8gQnVnICMxMDA6IFNhZmFyaSBkb2VzIHRocm93IGEgd3JvbmcgZXJyb3Igd2hlbiBjYWxsaW5nIGdldENoYW5uZWxEYXRhKCkgd2l0aCBhbiBvdXQtb2YtYm91bmRzIHZhbHVlLlxuICAgICAgICBpZiAodHlwZW9mIGF1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd3JhcEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlckdldENoYW5uZWxEYXRhTWV0aG9kKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgIC8vIEJ1ZyAjMTU3OiBGaXJlZm94IGRvZXMgbm90IGFsbG93IHRoZSBidWZmZXJPZmZzZXQgdG8gYmUgb3V0LW9mLWJvdW5kcy5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghY2FjaGVUZXN0UmVzdWx0KHRlc3RBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzU3VwcG9ydCwgKCkgPT4gdGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0KGF1ZGlvQnVmZmVyKSkpIHtcbiAgICAgICAgICAgIHdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBhdWRpb0J1ZmZlclN0b3JlLmFkZChhdWRpb0J1ZmZlcik7XG4gICAgICAgIHJldHVybiBhdWRpb0J1ZmZlcjtcbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydC1yZW5kZXJpbmcuanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzQW55QXVkaW9Db250ZXh0ID0gKGNvbnRleHRTdG9yZSwgaXNOYXRpdmVBdWRpb0NvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbnRleHQgPSBjb250ZXh0U3RvcmUuZ2V0KGFueXRoaW5nKTtcbiAgICAgICAgcmV0dXJuIGlzTmF0aXZlQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpIHx8IGlzTmF0aXZlQXVkaW9Db250ZXh0KGFueXRoaW5nKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFueS1hdWRpby1jb250ZXh0LmpzLm1hcCIsImV4cG9ydCBjb25zdCBjcmVhdGVJc0FueUF1ZGlvTm9kZSA9IChhdWRpb05vZGVTdG9yZSwgaXNOYXRpdmVBdWRpb05vZGUpID0+IHtcbiAgICByZXR1cm4gKGFueXRoaW5nKSA9PiBhdWRpb05vZGVTdG9yZS5oYXMoYW55dGhpbmcpIHx8IGlzTmF0aXZlQXVkaW9Ob2RlKGFueXRoaW5nKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1hbnktYXVkaW8tbm9kZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgY3JlYXRlSXNBbnlBdWRpb1BhcmFtID0gKGF1ZGlvUGFyYW1TdG9yZSwgaXNOYXRpdmVBdWRpb1BhcmFtKSA9PiB7XG4gICAgcmV0dXJuIChhbnl0aGluZykgPT4gYXVkaW9QYXJhbVN0b3JlLmhhcyhhbnl0aGluZykgfHwgaXNOYXRpdmVBdWRpb1BhcmFtKGFueXRoaW5nKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1hbnktYXVkaW8tcGFyYW0uanMubWFwIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCA9IChjb250ZXh0U3RvcmUsIGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCkgPT4ge1xuICAgIHJldHVybiAoYW55dGhpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbmF0aXZlQ29udGV4dCA9IGNvbnRleHRTdG9yZS5nZXQoYW55dGhpbmcpO1xuICAgICAgICByZXR1cm4gaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0KG5hdGl2ZUNvbnRleHQpIHx8IGlzTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dChhbnl0aGluZyk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1hbnktb2ZmbGluZS1hdWRpby1jb250ZXh0LmpzLm1hcCIsIi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHN0YXRlbWVudCBpcyB0cnVlLCBvdGhlcndpc2UgaW52b2tlIHRoZSBlcnJvci5cbiAqIEBwYXJhbSBzdGF0ZW1lbnRcbiAqIEBwYXJhbSBlcnJvciBUaGUgbWVzc2FnZSB3aGljaCBpcyBwYXNzZWQgaW50byBhbiBFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KHN0YXRlbWVudCwgZXJyb3IpIHtcbiAgICBpZiAoIXN0YXRlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbi8qKlxuICogTWFrZSBzdXJlIHRoYXQgdGhlIGdpdmVuIHZhbHVlIGlzIHdpdGhpbiB0aGUgcmFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFJhbmdlKHZhbHVlLCBndGUsIGx0ZSA9IEluZmluaXR5KSB7XG4gICAgaWYgKCEoZ3RlIDw9IHZhbHVlICYmIHZhbHVlIDw9IGx0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFZhbHVlIG11c3QgYmUgd2l0aGluIFske2d0ZX0sICR7bHRlfV0sIGdvdDogJHt2YWx1ZX1gKTtcbiAgICB9XG59XG4vKipcbiAqIE1ha2Ugc3VyZSB0aGF0IHRoZSBnaXZlbiB2YWx1ZSBpcyB3aXRoaW4gdGhlIHJhbmdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRDb250ZXh0UnVubmluZyhjb250ZXh0KSB7XG4gICAgLy8gYWRkIGEgd2FybmluZyBpZiB0aGUgY29udGV4dCBpcyBub3Qgc3RhcnRlZFxuICAgIGlmICghY29udGV4dC5pc09mZmxpbmUgJiYgY29udGV4dC5zdGF0ZSAhPT0gXCJydW5uaW5nXCIpIHtcbiAgICAgICAgd2FybihcIlRoZSBBdWRpb0NvbnRleHQgaXMgXFxcInN1c3BlbmRlZFxcXCIuIEludm9rZSBUb25lLnN0YXJ0KCkgZnJvbSBhIHVzZXIgYWN0aW9uIHRvIHN0YXJ0IHRoZSBhdWRpby5cIik7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBsb2dnZXIgaXMgdGhlIGNvbnNvbGVcbiAqL1xubGV0IGRlZmF1bHRMb2dnZXIgPSBjb25zb2xlO1xuLyoqXG4gKiBTZXQgdGhlIGxvZ2dpbmcgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZXIobG9nZ2VyKSB7XG4gICAgZGVmYXVsdExvZ2dlciA9IGxvZ2dlcjtcbn1cbi8qKlxuICogTG9nIGFueXRoaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2coLi4uYXJncykge1xuICAgIGRlZmF1bHRMb2dnZXIubG9nKC4uLmFyZ3MpO1xufVxuLyoqXG4gKiBXYXJuIGFueXRoaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKC4uLmFyZ3MpIHtcbiAgICBkZWZhdWx0TG9nZ2VyLndhcm4oLi4uYXJncyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWJ1Zy5qcy5tYXAiLCIvKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWYoYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09IFwidW5kZWZpbmVkXCI7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyBub3QgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluZWQoYXJnKSB7XG4gICAgcmV0dXJuICFpc1VuZGVmKGFyZyk7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZyBpcyBhIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCI7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYXJnID09PSBcIm51bWJlclwiKTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgYW4gb2JqZWN0IGxpdGVyYWwgKGkuZS4gYHt9YCk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSBcIltvYmplY3QgT2JqZWN0XVwiICYmIGFyZy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJndW1lbnQgaXMgYSBib29sZWFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICAgIHJldHVybiAodHlwZW9mIGFyZyA9PT0gXCJib29sZWFuXCIpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmd1bWVudCBpcyBhbiBBcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkoYXJnKSk7XG59XG4vKipcbiAqIFRlc3QgaWYgdGhlIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiKTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgYXJndW1lbnQgaXMgaW4gdGhlIGZvcm0gb2YgYSBub3RlIGluIHNjaWVudGlmaWMgcGl0Y2ggbm90YXRpb24uXG4gKiBlLmcuIFwiQzRcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb3RlKGFyZykge1xuICAgIHJldHVybiBpc1N0cmluZyhhcmcpICYmIC9eKFthLWddezF9KD86YnwjfHh8YmIpPykoLT9bMC05XSspL2kudGVzdChhcmcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHlwZUNoZWNrLmpzLm1hcCIsImltcG9ydCB7IEF1ZGlvQ29udGV4dCBhcyBzdGRBdWRpb0NvbnRleHQsIEF1ZGlvV29ya2xldE5vZGUgYXMgc3RkQXVkaW9Xb3JrbGV0Tm9kZSwgT2ZmbGluZUF1ZGlvQ29udGV4dCBhcyBzdGRPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSBcInN0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0XCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1ZGlvQ29udGV4dChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBzdGRBdWRpb0NvbnRleHQob3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPZmZsaW5lQXVkaW9Db250ZXh0KGNoYW5uZWxzLCBsZW5ndGgsIHNhbXBsZVJhdGUpIHtcbiAgICByZXR1cm4gbmV3IHN0ZE9mZmxpbmVBdWRpb0NvbnRleHQoY2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSk7XG59XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIHRoZSB3aW5kb3cgb2JqZWN0XG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjb25zdCB0aGVXaW5kb3cgPSB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiBudWxsO1xuLyoqXG4gKiBJZiB0aGUgYnJvd3NlciBoYXMgYSB3aW5kb3cgb2JqZWN0IHdoaWNoIGhhcyBhbiBBdWRpb0NvbnRleHRcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc0F1ZGlvQ29udGV4dCA9IHRoZVdpbmRvdyAmJlxuICAgICh0aGVXaW5kb3cuaGFzT3duUHJvcGVydHkoXCJBdWRpb0NvbnRleHRcIikgfHwgdGhlV2luZG93Lmhhc093blByb3BlcnR5KFwid2Via2l0QXVkaW9Db250ZXh0XCIpKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdWRpb1dvcmtsZXROb2RlKGNvbnRleHQsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICBhc3NlcnQoaXNEZWZpbmVkKHN0ZEF1ZGlvV29ya2xldE5vZGUpLCBcIlRoaXMgbm9kZSBvbmx5IHdvcmtzIGluIGEgc2VjdXJlIGNvbnRleHQgKGh0dHBzIG9yIGxvY2FsaG9zdClcIik7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBuZXcgc3RkQXVkaW9Xb3JrbGV0Tm9kZShjb250ZXh0LCBuYW1lLCBvcHRpb25zKTtcbn1cbi8qKlxuICogVGhpcyBwcm9taXNlIHJlc29sdmVzIHRvIGEgYm9vbGVhbiB3aGljaCBpbmRpY2F0ZXMgaWYgdGhlXG4gKiBmdW5jdGlvbmFsaXR5IGlzIHN1cHBvcnRlZCB3aXRoaW4gdGhlIGN1cnJlbnRseSB1c2VkIGJyb3dzZS5cbiAqIFRha2VuIGZyb20gW3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0XShodHRwczovL2dpdGh1Yi5jb20vY2hyaXNndXR0YW5kaW4vc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQjaXNzdXBwb3J0ZWQpXG4gKi9cbmV4cG9ydCB7IGlzU3VwcG9ydGVkIGFzIHN1cHBvcnRlZCB9IGZyb20gXCJzdGFuZGFyZGl6ZWQtYXVkaW8tY29udGV4dFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXVkaW9Db250ZXh0LmpzLm1hcCIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCIvKipcbiAqIEEgY2xhc3Mgd2hpY2ggcHJvdmlkZXMgYSByZWxpYWJsZSBjYWxsYmFjayB1c2luZyBlaXRoZXJcbiAqIGEgV2ViIFdvcmtlciwgb3IgaWYgdGhhdCBpc24ndCBzdXBwb3J0ZWQsIGZhbGxzIGJhY2sgdG8gc2V0VGltZW91dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpY2tlciB7XG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2ssIHR5cGUsIHVwZGF0ZUludGVydmFsKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLl91cGRhdGVJbnRlcnZhbCA9IHVwZGF0ZUludGVydmFsO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIGNsb2NrIHNvdXJjZSBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgdGhpcy5fY3JlYXRlQ2xvY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSB3ZWIgd29ya2VyXG4gICAgICovXG4gICAgX2NyZWF0ZVdvcmtlcigpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtcbiAgICAgICAgICAgIC8qIGphdmFzY3JpcHQgKi8gYFxuXHRcdFx0Ly8gdGhlIGluaXRpYWwgdGltZW91dCB0aW1lXG5cdFx0XHRsZXQgdGltZW91dFRpbWUgPSAgJHsodGhpcy5fdXBkYXRlSW50ZXJ2YWwgKiAxMDAwKS50b0ZpeGVkKDEpfTtcblx0XHRcdC8vIG9ubWVzc2FnZSBjYWxsYmFja1xuXHRcdFx0c2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihtc2cpe1xuXHRcdFx0XHR0aW1lb3V0VGltZSA9IHBhcnNlSW50KG1zZy5kYXRhKTtcblx0XHRcdH07XG5cdFx0XHQvLyB0aGUgdGljayBmdW5jdGlvbiB3aGljaCBwb3N0cyBhIG1lc3NhZ2Vcblx0XHRcdC8vIGFuZCBzY2hlZHVsZXMgYSBuZXcgdGlja1xuXHRcdFx0ZnVuY3Rpb24gdGljaygpe1xuXHRcdFx0XHRzZXRUaW1lb3V0KHRpY2ssIHRpbWVvdXRUaW1lKTtcblx0XHRcdFx0c2VsZi5wb3N0TWVzc2FnZSgndGljaycpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gY2FsbCB0aWNrIGluaXRpYWxseVxuXHRcdFx0dGljaygpO1xuXHRcdFx0YFxuICAgICAgICBdLCB7IHR5cGU6IFwidGV4dC9qYXZhc2NyaXB0XCIgfSk7XG4gICAgICAgIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKGJsb2JVcmwpO1xuICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gdGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gd29ya2VyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0aW1lb3V0IGxvb3BcbiAgICAgKi9cbiAgICBfY3JlYXRlVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGltZW91dCgpO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICAgICAgfSwgdGhpcy5fdXBkYXRlSW50ZXJ2YWwgKiAxMDAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBjbG9jayBzb3VyY2UuXG4gICAgICovXG4gICAgX2NyZWF0ZUNsb2NrKCkge1xuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gXCJ3b3JrZXJcIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVXb3JrZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gd29ya2VycyBub3Qgc3VwcG9ydGVkLCBmYWxsYmFjayB0byB0aW1lb3V0XG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IFwidGltZW91dFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUNsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHlwZSA9PT0gXCJ0aW1lb3V0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgY3VycmVudCBjbG9jayBzb3VyY2VcbiAgICAgKi9cbiAgICBfZGlzcG9zZUNsb2NrKCkge1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLm9ubWVzc2FnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHJhdGUgaW4gc2Vjb25kcyB0aGUgdGlja2VyIHdpbGwgdXBkYXRlXG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlSW50ZXJ2YWw7XG4gICAgfVxuICAgIHNldCB1cGRhdGVJbnRlcnZhbChpbnRlcnZhbCkge1xuICAgICAgICB0aGlzLl91cGRhdGVJbnRlcnZhbCA9IE1hdGgubWF4KGludGVydmFsLCAxMjggLyA0NDEwMCk7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSBcIndvcmtlclwiKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2UoTWF0aC5tYXgoaW50ZXJ2YWwgKiAxMDAwLCAxKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHRpY2tlciwgZWl0aGVyIGEgd29ya2VyIG9yIGEgdGltZW91dFxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl9kaXNwb3NlQ2xvY2soKTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNsb2NrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZUNsb2NrKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyLmpzLm1hcCIsImltcG9ydCB7IGlzQW55QXVkaW9Db250ZXh0LCBpc0FueUF1ZGlvTm9kZSwgaXNBbnlBdWRpb1BhcmFtLCBpc0FueU9mZmxpbmVBdWRpb0NvbnRleHQsIH0gZnJvbSBcInN0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0XCI7XG4vKipcbiAqIFRlc3QgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIGluc3RhbmNlb2YgQXVkaW9QYXJhbVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdWRpb1BhcmFtKGFyZykge1xuICAgIHJldHVybiBpc0FueUF1ZGlvUGFyYW0oYXJnKTtcbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gaW5zdGFuY2VvZiBBdWRpb05vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXVkaW9Ob2RlKGFyZykge1xuICAgIHJldHVybiBpc0FueUF1ZGlvTm9kZShhcmcpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmcgaXMgaW5zdGFuY2VvZiBhbiBPZmZsaW5lQXVkaW9Db250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09mZmxpbmVBdWRpb0NvbnRleHQoYXJnKSB7XG4gICAgcmV0dXJuIGlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dChhcmcpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmcgaXMgYW4gaW5zdGFuY2VvZiBBdWRpb0NvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXVkaW9Db250ZXh0KGFyZykge1xuICAgIHJldHVybiBpc0FueUF1ZGlvQ29udGV4dChhcmcpO1xufVxuLyoqXG4gKiBUZXN0IGlmIHRoZSBhcmcgaXMgaW5zdGFuY2VvZiBhbiBBdWRpb0J1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdWRpb0J1ZmZlcihhcmcpIHtcbiAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgQXVkaW9CdWZmZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BZHZhbmNlZFR5cGVDaGVjay5qcy5tYXAiLCJpbXBvcnQgeyBpc0F1ZGlvQnVmZmVyLCBpc0F1ZGlvTm9kZSwgaXNBdWRpb1BhcmFtIH0gZnJvbSBcIi4vQWR2YW5jZWRUeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNPYmplY3QsIGlzVW5kZWYgfSBmcm9tIFwiLi9UeXBlQ2hlY2tcIjtcbi8qKlxuICogU29tZSBvYmplY3RzIHNob3VsZCBub3QgYmUgbWVyZ2VkXG4gKi9cbmZ1bmN0aW9uIG5vQ29weShrZXksIGFyZykge1xuICAgIHJldHVybiBrZXkgPT09IFwidmFsdWVcIiB8fCBpc0F1ZGlvUGFyYW0oYXJnKSB8fCBpc0F1ZGlvTm9kZShhcmcpIHx8IGlzQXVkaW9CdWZmZXIoYXJnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKSB7XG4gICAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzLnNoaWZ0KCk7XG4gICAgaWYgKGlzT2JqZWN0KHRhcmdldCkgJiYgaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChub0NvcHkoa2V5LCBzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgeyBba2V5XToge30gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZXBNZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHsgW2tleV06IHNvdXJjZVtrZXldIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gZGVlcE1lcmdlKHRhcmdldCwgLi4uc291cmNlcyk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIGFycmF5cyBoYXZlIHRoZSBzYW1lIHZhbHVlIGZvciBlYWNoIG9mIHRoZSBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcEVxdWFscyhhcnJheUEsIGFycmF5Qikge1xuICAgIHJldHVybiBhcnJheUEubGVuZ3RoID09PSBhcnJheUIubGVuZ3RoICYmIGFycmF5QS5ldmVyeSgoZWxlbWVudCwgaW5kZXgpID0+IGFycmF5QltpbmRleF0gPT09IGVsZW1lbnQpO1xufVxuLyoqXG4gKiBDb252ZXJ0IGFuIGFyZ3MgYXJyYXkgaW50byBhbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25zRnJvbUFyZ3VtZW50cyhkZWZhdWx0cywgYXJnc0FycmF5LCBrZXlzID0gW10sIG9iaktleSkge1xuICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmdzQXJyYXkpO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBvYmplY3QgYW5kIGhhcyBhbiBvYmplY3Qga2V5XG4gICAgaWYgKGlzT2JqZWN0KGFyZ3NbMF0pICYmIG9iaktleSAmJiAhUmVmbGVjdC5oYXMoYXJnc1swXSwgb2JqS2V5KSkge1xuICAgICAgICAvLyBpZiBpdCdzIG5vdCBwYXJ0IG9mIHRoZSBkZWZhdWx0c1xuICAgICAgICBjb25zdCBwYXJ0T2ZEZWZhdWx0cyA9IE9iamVjdC5rZXlzKGFyZ3NbMF0pLnNvbWUoa2V5ID0+IFJlZmxlY3QuaGFzKGRlZmF1bHRzLCBrZXkpKTtcbiAgICAgICAgaWYgKCFwYXJ0T2ZEZWZhdWx0cykge1xuICAgICAgICAgICAgLy8gbWVyZ2UgdGhhdCBrZXlcbiAgICAgICAgICAgIGRlZXBNZXJnZShvcHRzLCB7IFtvYmpLZXldOiBhcmdzWzBdIH0pO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvYmoga2V5IGZyb20gdGhlIGtleXNcbiAgICAgICAgICAgIGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihvYmpLZXkpLCAxKTtcbiAgICAgICAgICAgIC8vIHNoaWZ0IHRoZSBmaXJzdCBhcmd1bWVudCBvZmZcbiAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgZGVlcE1lcmdlKG9wdHMsIGFyZ3NbMF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgb3B0c1trZXlzW2ldXSA9IGFyZ3NbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlZXBNZXJnZShkZWZhdWx0cywgb3B0cyk7XG59XG4vKipcbiAqIFJldHVybiB0aGlzIGluc3RhbmNlcyBkZWZhdWx0IHZhbHVlcyBieSBjYWxsaW5nIENvbnN0cnVjdG9yLmdldERlZmF1bHRzKClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRzRnJvbUluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmNvbnN0cnVjdG9yLmdldERlZmF1bHRzKCk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZhbGxiYWNrIGlmIHRoZSBnaXZlbiBvYmplY3QgaXMgdW5kZWZpbmVkLlxuICogVGFrZSBhbiBhcnJheSBvZiBhcmd1bWVudHMgYW5kIHJldHVybiBhIGZvcm1hdHRlZCBvcHRpb25zIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRBcmcoZ2l2ZW4sIGZhbGxiYWNrKSB7XG4gICAgaWYgKGlzVW5kZWYoZ2l2ZW4pKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBnaXZlbjtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZSBhbGwgb2YgdGhlIHByb3BlcnRpZXMgYmVsb25naW5nIHRvIG9taXQgZnJvbSBvYmouXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbWl0RnJvbU9iamVjdChvYmosIG9taXQpIHtcbiAgICBvbWl0LmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIGlmIChSZWZsZWN0LmhhcyhvYmosIHByb3ApKSB7XG4gICAgICAgICAgICBkZWxldGUgb2JqW3Byb3BdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRzLmpzLm1hcCIsIi8qKlxuICogVG9uZS5qc1xuICogQGF1dGhvciBZb3RhbSBNYW5uXG4gKiBAbGljZW5zZSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUIE1JVCBMaWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTQtMjAxOSBZb3RhbSBNYW5uXG4gKi9cbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vdmVyc2lvblwiO1xuaW1wb3J0IHsgdGhlV2luZG93IH0gZnJvbSBcIi4vY29udGV4dC9BdWRpb0NvbnRleHRcIjtcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuL3V0aWwvRGVidWdcIjtcbi8qKlxuICogQGNsYXNzICBUb25lIGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBvdGhlciBjbGFzc2VzLlxuICogQGNhdGVnb3J5IENvcmVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgVG9uZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBcdERFQlVHR0lOR1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGlzIGRlYnVnIGZsYWcgdG8gbG9nIGFsbCBldmVudHMgdGhhdCBoYXBwZW4gaW4gdGhpcyBjbGFzcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFx0RElTUE9TSU5HXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBpbnN0YW5jZSB3YXMgZGlzcG9zZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dhc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIG9mIHRoZSBkZWZhdWx0IG9wdGlvbnMgYmVsb25naW5nIHRvIHRoZSBjbGFzcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpbnRzIHRoZSBvdXRwdXRzIHRvIHRoZSBjb25zb2xlIGxvZyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqIFByaW50cyB0aGUgY29udGVudHMgb25seSBpZiBlaXRoZXIgdGhlIG9iamVjdCBoYXMgYSBwcm9wZXJ0eVxuICAgICAqIGNhbGxlZCBgZGVidWdgIHNldCB0byB0cnVlLCBvciBhIHZhcmlhYmxlIGNhbGxlZCBUT05FX0RFQlVHX0NMQVNTXG4gICAgICogaXMgc2V0IHRvIHRoZSBuYW1lIG9mIHRoZSBjbGFzcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKTtcbiAgICAgKiAvLyBwcmludHMgYWxsIGxvZ3Mgb3JpZ2luYXRpbmcgZnJvbSB0aGlzIG9zY2lsbGF0b3JcbiAgICAgKiBvc2MuZGVidWcgPSB0cnVlO1xuICAgICAqIC8vIGNhbGxzIHRvIHN0YXJ0L3N0b3Agd2lsbCBwcmludCBpbiB0aGUgY29uc29sZVxuICAgICAqIG9zYy5zdGFydCgpO1xuICAgICAqL1xuICAgIGxvZyguLi5hcmdzKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgZWl0aGVyIHNldCB0byBkZWJ1ZyA9IHRydWVcbiAgICAgICAgLy8gb3IgaWYgdGhlcmUgaXMgYSBzdHJpbmcgb24gdGhlIFRvbmUuZ2xvYmFsLndpdGggdGhlIGNsYXNzIG5hbWVcbiAgICAgICAgaWYgKHRoaXMuZGVidWcgfHwgKHRoZVdpbmRvdyAmJiB0aGlzLnRvU3RyaW5nKCkgPT09IHRoZVdpbmRvdy5UT05FX0RFQlVHX0NMQVNTKSkge1xuICAgICAgICAgICAgbG9nKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRpc2Nvbm5lY3QgYW5kIGRpc3Bvc2UuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fd2FzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBpbnN0YW5jZSB3YXMgZGlzcG9zZWQuICdEaXNwb3NpbmcnIGFuXG4gICAgICogaW5zdGFuY2UgbWVhbnMgdGhhdCBhbGwgb2YgdGhlIFdlYiBBdWRpbyBub2RlcyB0aGF0IHdlcmVcbiAgICAgKiBjcmVhdGVkIGZvciB0aGUgaW5zdGFuY2UgYXJlIGRpc2Nvbm5lY3RlZCBhbmQgZnJlZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93YXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgY2xhc3MgdG8gYSBzdHJpbmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhvc2MudG9TdHJpbmcoKSk7XG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgdmVyc2lvbiBudW1iZXIgc2VtdmVyXG4gKi9cblRvbmUudmVyc2lvbiA9IHZlcnNpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lLmpzLm1hcCIsIi8qKlxuICogVGhlIHRocmVzaG9sZCBmb3IgY29ycmVjdG5lc3MgZm9yIG9wZXJhdG9ycy4gTGVzcyB0aGFuIG9uZSBzYW1wbGUgZXZlblxuICogYXQgdmVyeSBoaWdoIHNhbXBsaW5nIHJhdGVzIChlLmcuIGAxZS02IDwgMSAvIDE5MjAwMGApLlxuICovXG5jb25zdCBFUFNJTE9OID0gMWUtNjtcbi8qKlxuICogVGVzdCBpZiBBIGlzIGdyZWF0ZXIgdGhhbiBCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHVChhLCBiKSB7XG4gICAgcmV0dXJuIGEgPiBiICsgRVBTSUxPTjtcbn1cbi8qKlxuICogVGVzdCBpZiBBIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHVEUoYSwgYikge1xuICAgIHJldHVybiBHVChhLCBiKSB8fCBFUShhLCBiKTtcbn1cbi8qKlxuICogVGVzdCBpZiBBIGlzIGxlc3MgdGhhbiBCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBMVChhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBFUFNJTE9OIDwgYjtcbn1cbi8qKlxuICogVGVzdCBpZiBBIGlzIGxlc3MgdGhhbiBCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFUShhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8IEVQU0lMT047XG59XG4vKipcbiAqIENsYW1wIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGdpdmVuIHJhbmdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIG1heCksIG1pbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoLmpzLm1hcCIsImltcG9ydCB7IFRvbmUgfSBmcm9tIFwiLi4vVG9uZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vRGVidWdcIjtcbmltcG9ydCB7IEVRLCBHVCwgR1RFLCBMVCB9IGZyb20gXCIuL01hdGhcIjtcbi8qKlxuICogQSBUaW1lbGluZSBjbGFzcyBmb3Igc2NoZWR1bGluZyBhbmQgbWFpbnRhaW5pbmcgc3RhdGVcbiAqIGFsb25nIGEgdGltZWxpbmUuIEFsbCBldmVudHMgbXVzdCBoYXZlIGEgXCJ0aW1lXCIgcHJvcGVydHkuXG4gKiBJbnRlcm5hbGx5LCBldmVudHMgYXJlIHN0b3JlZCBpbiB0aW1lIG9yZGVyIGZvciBmYXN0XG4gKiByZXRyaWV2YWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBUaW1lbGluZSBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpbWVsaW5lXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2Ygc2NoZWR1bGVkIHRpbWVsaW5lIGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBbXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRpbWVsaW5lLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wibWVtb3J5XCJdKTtcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBvcHRpb25zLm1lbW9yeTtcbiAgICAgICAgdGhpcy5pbmNyZWFzaW5nID0gb3B0aW9ucy5pbmNyZWFzaW5nO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZW1vcnk6IEluZmluaXR5LFxuICAgICAgICAgICAgaW5jcmVhc2luZzogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHRpbWVsaW5lLlxuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhbiBldmVudCBvYmplY3Qgb250byB0aGUgdGltZWxpbmUuIEV2ZW50cyBtdXN0IGhhdmUgYSBcInRpbWVcIiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIGV2ZW50ICBUaGUgZXZlbnQgb2JqZWN0IHRvIGluc2VydCBpbnRvIHRoZSB0aW1lbGluZS5cbiAgICAgKi9cbiAgICBhZGQoZXZlbnQpIHtcbiAgICAgICAgLy8gdGhlIGV2ZW50IG5lZWRzIHRvIGhhdmUgYSB0aW1lIGF0dHJpYnV0ZVxuICAgICAgICBhc3NlcnQoUmVmbGVjdC5oYXMoZXZlbnQsIFwidGltZVwiKSwgXCJUaW1lbGluZTogZXZlbnRzIG11c3QgaGF2ZSBhIHRpbWUgYXR0cmlidXRlXCIpO1xuICAgICAgICBldmVudC50aW1lID0gZXZlbnQudGltZS52YWx1ZU9mKCk7XG4gICAgICAgIGlmICh0aGlzLmluY3JlYXNpbmcgJiYgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RWYWx1ZSA9IHRoaXMuX3RpbWVsaW5lW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBhc3NlcnQoR1RFKGV2ZW50LnRpbWUsIGxhc3RWYWx1ZS50aW1lKSwgXCJUaGUgdGltZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgbGFzdCBzY2hlZHVsZWQgdGltZVwiKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWFyY2goZXZlbnQudGltZSk7XG4gICAgICAgICAgICB0aGlzLl90aW1lbGluZS5zcGxpY2UoaW5kZXggKyAxLCAwLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIGxlbmd0aCBpcyBtb3JlIHRoYW4gdGhlIG1lbW9yeSwgcmVtb3ZlIHRoZSBwcmV2aW91cyBvbmVzXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IHRoaXMubWVtb3J5KSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gdGhpcy5sZW5ndGggLSB0aGlzLm1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lLnNwbGljZSgwLCBkaWZmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHRpbWVsaW5lLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGV2ZW50ICBUaGUgZXZlbnQgb2JqZWN0IHRvIHJlbW92ZSBmcm9tIHRoZSBsaXN0LlxuICAgICAqIEByZXR1cm5zIHtUaW1lbGluZX0gdGhpc1xuICAgICAqL1xuICAgIHJlbW92ZShldmVudCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3RpbWVsaW5lLmluZGV4T2YoZXZlbnQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lbGluZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5lYXJlc3QgZXZlbnQgd2hvc2UgdGltZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKi9cbiAgICBnZXQodGltZSwgcGFyYW0gPSBcInRpbWVcIikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlYXJjaCh0aW1lLCBwYXJhbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGZpcnN0IGV2ZW50IGluIHRoZSB0aW1lbGluZSB3aXRob3V0IHJlbW92aW5nIGl0XG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGZpcnN0IGV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZVswXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBldmVudCBpbiB0aGUgdGltZWxpbmUgYW5kIHJlbW92ZSBpdFxuICAgICAqL1xuICAgIHNoaWZ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZWxpbmUuc2hpZnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBldmVudCB3aGljaCBpcyBzY2hlZHVsZWQgYWZ0ZXIgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKi9cbiAgICBnZXRBZnRlcih0aW1lLCBwYXJhbSA9IFwidGltZVwiKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUsIHBhcmFtKTtcbiAgICAgICAgaWYgKGluZGV4ICsgMSA8IHRoaXMuX3RpbWVsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lW2luZGV4ICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV2ZW50IGJlZm9yZSB0aGUgZXZlbnQgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKi9cbiAgICBnZXRCZWZvcmUodGltZSkge1xuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLl90aW1lbGluZS5sZW5ndGg7XG4gICAgICAgIC8vIGlmIGl0J3MgYWZ0ZXIgdGhlIGxhc3QgaXRlbSwgcmV0dXJuIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgaWYgKGxlbiA+IDAgJiYgdGhpcy5fdGltZWxpbmVbbGVuIC0gMV0udGltZSA8IHRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lbGluZVtsZW4gLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlYXJjaCh0aW1lKTtcbiAgICAgICAgaWYgKGluZGV4IC0gMSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWxpbmVbaW5kZXggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbCBldmVudHMgYXQgYW5kIGFmdGVyIHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICBhZnRlciAgVGhlIHRpbWUgdG8gcXVlcnkuXG4gICAgICovXG4gICAgY2FuY2VsKGFmdGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl90aW1lbGluZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9zZWFyY2goYWZ0ZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoRVEodGhpcy5fdGltZWxpbmVbaW5kZXhdLnRpbWUsIGFmdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGZpcnN0IGl0ZW0gd2l0aCB0aGF0IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEVRKHRoaXMuX3RpbWVsaW5lW2ldLnRpbWUsIGFmdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lID0gdGhpcy5fdGltZWxpbmUuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUgPSB0aGlzLl90aW1lbGluZS5zbGljZSgwLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVsaW5lID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdGltZWxpbmUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgaXRlbSdzIHRpbWVcbiAgICAgICAgICAgIGlmIChHVEUodGhpcy5fdGltZWxpbmVbMF0udGltZSwgYWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGV2ZW50cyBiZWZvcmUgb3IgZXF1YWwgdG8gdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBjYW5jZWwgYmVmb3JlLlxuICAgICAqL1xuICAgIGNhbmNlbEJlZm9yZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5fdGltZWxpbmUgPSB0aGlzLl90aW1lbGluZS5zbGljZShpbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmV2aW91cyBldmVudCBpZiB0aGVyZSBpcyBvbmUuIG51bGwgb3RoZXJ3aXNlXG4gICAgICogQHBhcmFtICBldmVudCBUaGUgZXZlbnQgdG8gZmluZCB0aGUgcHJldmlvdXMgb25lIG9mXG4gICAgICogQHJldHVybiBUaGUgZXZlbnQgcmlnaHQgYmVmb3JlIHRoZSBnaXZlbiBldmVudFxuICAgICAqL1xuICAgIHByZXZpb3VzRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl90aW1lbGluZS5pbmRleE9mKGV2ZW50KTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVsaW5lW2luZGV4IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEb2VzIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgdGltZWxpbmUgYXJyYXkgYW5kIHJldHVybnMgdGhlXG4gICAgICogbmVhcmVzdCBldmVudCBpbmRleCB3aG9zZSB0aW1lIGlzIGFmdGVyIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIElmIGEgdGltZSBpcyBzZWFyY2hlZCBiZWZvcmUgdGhlIGZpcnN0IGluZGV4IGluIHRoZSB0aW1lbGluZSwgLTEgaXMgcmV0dXJuZWQuXG4gICAgICogSWYgdGhlIHRpbWUgaXMgYWZ0ZXIgdGhlIGVuZCwgdGhlIGluZGV4IG9mIHRoZSBsYXN0IGl0ZW0gaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgX3NlYXJjaCh0aW1lLCBwYXJhbSA9IFwidGltZVwiKSB7XG4gICAgICAgIGlmICh0aGlzLl90aW1lbGluZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmVnaW5uaW5nID0gMDtcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5fdGltZWxpbmUubGVuZ3RoO1xuICAgICAgICBsZXQgZW5kID0gbGVuO1xuICAgICAgICBpZiAobGVuID4gMCAmJiB0aGlzLl90aW1lbGluZVtsZW4gLSAxXVtwYXJhbV0gPD0gdGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxlbiAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGJlZ2lubmluZyA8IGVuZCkge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBtaWRwb2ludCBmb3Igcm91Z2hseSBlcXVhbCBwYXJ0aXRpb25cbiAgICAgICAgICAgIGxldCBtaWRQb2ludCA9IE1hdGguZmxvb3IoYmVnaW5uaW5nICsgKGVuZCAtIGJlZ2lubmluZykgLyAyKTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fdGltZWxpbmVbbWlkUG9pbnRdO1xuICAgICAgICAgICAgY29uc3QgbmV4dEV2ZW50ID0gdGhpcy5fdGltZWxpbmVbbWlkUG9pbnQgKyAxXTtcbiAgICAgICAgICAgIGlmIChFUShldmVudFtwYXJhbV0sIHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hvb3NlIHRoZSBsYXN0IG9uZSB0aGF0IGhhcyB0aGUgc2FtZSB0aW1lXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG1pZFBvaW50OyBpIDwgdGhpcy5fdGltZWxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVzdEV2ZW50ID0gdGhpcy5fdGltZWxpbmVbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChFUSh0ZXN0RXZlbnRbcGFyYW1dLCB0aW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkUG9pbnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pZFBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoTFQoZXZlbnRbcGFyYW1dLCB0aW1lKSAmJiBHVChuZXh0RXZlbnRbcGFyYW1dLCB0aW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtaWRQb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEdUKGV2ZW50W3BhcmFtXSwgdGltZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZWFyY2ggbG93ZXJcbiAgICAgICAgICAgICAgICBlbmQgPSBtaWRQb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNlYXJjaCB1cHBlclxuICAgICAgICAgICAgICAgIGJlZ2lubmluZyA9IG1pZFBvaW50ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGl0ZXJhdG9yLiBBcHBsaWVzIGV4dHJhIHNhZmV0eSBjaGVja3MgZm9yXG4gICAgICogcmVtb3ZpbmcgaXRlbXMgZnJvbSB0aGUgYXJyYXkuXG4gICAgICovXG4gICAgX2l0ZXJhdGUoY2FsbGJhY2ssIGxvd2VyQm91bmQgPSAwLCB1cHBlckJvdW5kID0gdGhpcy5fdGltZWxpbmUubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLl90aW1lbGluZS5zbGljZShsb3dlckJvdW5kLCB1cHBlckJvdW5kICsgMSkuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSBhcnJheVxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGUoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGF0IG9yIGJlZm9yZSB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgdG8gY2hlY2sgaWYgaXRlbXMgYXJlIGJlZm9yZVxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoQmVmb3JlKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgaXRlbXMgaW4gcmV2ZXJzZSBzbyB0aGF0IHJlbW92aW5nIGFuIGl0ZW0gZG9lc24ndCBicmVhayB0aGluZ3NcbiAgICAgICAgY29uc3QgdXBwZXJCb3VuZCA9IHRoaXMuX3NlYXJjaCh0aW1lKTtcbiAgICAgICAgaWYgKHVwcGVyQm91bmQgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRlKGNhbGxiYWNrLCAwLCB1cHBlckJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGFmdGVyIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB0byBjaGVjayBpZiBpdGVtcyBhcmUgYmVmb3JlXG4gICAgICogQHBhcmFtICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZXZlcnkgaXRlbVxuICAgICAqL1xuICAgIGZvckVhY2hBZnRlcih0aW1lLCBjYWxsYmFjaykge1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGl0ZW1zIGluIHJldmVyc2Ugc28gdGhhdCByZW1vdmluZyBhbiBpdGVtIGRvZXNuJ3QgYnJlYWsgdGhpbmdzXG4gICAgICAgIGNvbnN0IGxvd2VyQm91bmQgPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGUoY2FsbGJhY2ssIGxvd2VyQm91bmQgKyAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSBhcnJheSBiZXR3ZWVuIHRoZSBzdGFydFRpbWUgYW5kIGVuZFRpbWUuXG4gICAgICogVGhlIHRpbWVyYW5nZSBpcyBpbmNsdXNpdmUgb2YgdGhlIHN0YXJ0VGltZSwgYnV0IGV4Y2x1c2l2ZSBvZiB0aGUgZW5kVGltZS5cbiAgICAgKiByYW5nZSA9IFtzdGFydFRpbWUsIGVuZFRpbWUpLlxuICAgICAqIEBwYXJhbSAgc3RhcnRUaW1lIFRoZSB0aW1lIHRvIGNoZWNrIGlmIGl0ZW1zIGFyZSBiZWZvcmVcbiAgICAgKiBAcGFyYW0gIGVuZFRpbWUgVGhlIGVuZCBvZiB0aGUgdGVzdCBpbnRlcnZhbC5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaEJldHdlZW4oc3RhcnRUaW1lLCBlbmRUaW1lLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgbG93ZXJCb3VuZCA9IHRoaXMuX3NlYXJjaChzdGFydFRpbWUpO1xuICAgICAgICBsZXQgdXBwZXJCb3VuZCA9IHRoaXMuX3NlYXJjaChlbmRUaW1lKTtcbiAgICAgICAgaWYgKGxvd2VyQm91bmQgIT09IC0xICYmIHVwcGVyQm91bmQgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZWxpbmVbbG93ZXJCb3VuZF0udGltZSAhPT0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgbG93ZXJCb3VuZCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXhjbHVzaXZlIG9mIHRoZSBlbmQgdGltZVxuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVsaW5lW3VwcGVyQm91bmRdLnRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICB1cHBlckJvdW5kIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRlKGNhbGxiYWNrLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb3dlckJvdW5kID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0ZShjYWxsYmFjaywgMCwgdXBwZXJCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSBhcnJheSBhdCBvciBhZnRlciB0aGUgZ2l2ZW4gdGltZS4gU2ltaWxhciB0b1xuICAgICAqIGZvckVhY2hBZnRlciwgYnV0IGluY2x1ZGVzIHRoZSBpdGVtKHMpIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB0byBjaGVjayBpZiBpdGVtcyBhcmUgYmVmb3JlXG4gICAgICogQHBhcmFtICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZXZlcnkgaXRlbVxuICAgICAqL1xuICAgIGZvckVhY2hGcm9tKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgaXRlbXMgaW4gcmV2ZXJzZSBzbyB0aGF0IHJlbW92aW5nIGFuIGl0ZW0gZG9lc24ndCBicmVhayB0aGluZ3NcbiAgICAgICAgbGV0IGxvd2VyQm91bmQgPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIC8vIHdvcmsgYmFja3dhcmRzIHVudGlsIHRoZSBldmVudCB0aW1lIGlzIGxlc3MgdGhhbiB0aW1lXG4gICAgICAgIHdoaWxlIChsb3dlckJvdW5kID49IDAgJiYgdGhpcy5fdGltZWxpbmVbbG93ZXJCb3VuZF0udGltZSA+PSB0aW1lKSB7XG4gICAgICAgICAgICBsb3dlckJvdW5kLS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXRlcmF0ZShjYWxsYmFjaywgbG93ZXJCb3VuZCArIDEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGV2ZXJ5dGhpbmcgaW4gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGNoZWNrIGlmIGl0ZW1zIGFyZSBiZWZvcmVcbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaEF0VGltZSh0aW1lLCBjYWxsYmFjaykge1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGl0ZW1zIGluIHJldmVyc2Ugc28gdGhhdCByZW1vdmluZyBhbiBpdGVtIGRvZXNuJ3QgYnJlYWsgdGhpbmdzXG4gICAgICAgIGNvbnN0IHVwcGVyQm91bmQgPSB0aGlzLl9zZWFyY2godGltZSk7XG4gICAgICAgIGlmICh1cHBlckJvdW5kICE9PSAtMSAmJiBFUSh0aGlzLl90aW1lbGluZVt1cHBlckJvdW5kXS50aW1lLCB0aW1lKSkge1xuICAgICAgICAgICAgbGV0IGxvd2VyQm91bmQgPSB1cHBlckJvdW5kO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHVwcGVyQm91bmQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKEVRKHRoaXMuX3RpbWVsaW5lW2ldLnRpbWUsIHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvd2VyQm91bmQgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXRlcmF0ZShldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQpO1xuICAgICAgICAgICAgfSwgbG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZWxpbmUuanMubWFwIiwiLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJTklUSUFMSVpJTkcgTkVXIENPTlRFWFRcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBBcnJheSBvZiBjYWxsYmFja3MgdG8gaW52b2tlIHdoZW4gYSBuZXcgY29udGV4dCBpcyBjcmVhdGVkXG4gKi9cbmNvbnN0IG5vdGlmeU5ld0NvbnRleHQgPSBbXTtcbi8qKlxuICogVXNlZCBpbnRlcm5hbGx5IHRvIHNldHVwIGEgbmV3IENvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uQ29udGV4dEluaXQoY2IpIHtcbiAgICBub3RpZnlOZXdDb250ZXh0LnB1c2goY2IpO1xufVxuLyoqXG4gKiBJbnZva2UgYW55IGNsYXNzZXMgd2hpY2ggbmVlZCB0byBhbHNvIGJlIGluaXRpYWxpemVkIHdoZW4gYSBuZXcgY29udGV4dCBpcyBjcmVhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRleHQoY3R4KSB7XG4gICAgLy8gYWRkIGFueSBhZGRpdGlvbmFsIG1vZHVsZXNcbiAgICBub3RpZnlOZXdDb250ZXh0LmZvckVhY2goY2IgPT4gY2IoY3R4KSk7XG59XG4vKipcbiAqIEFycmF5IG9mIGNhbGxiYWNrcyB0byBpbnZva2Ugd2hlbiBhIG5ldyBjb250ZXh0IGlzIGNyZWF0ZWRcbiAqL1xuY29uc3Qgbm90aWZ5Q2xvc2VDb250ZXh0ID0gW107XG4vKipcbiAqIFVzZWQgaW50ZXJuYWxseSB0byB0ZWFyIGRvd24gYSBDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkNvbnRleHRDbG9zZShjYikge1xuICAgIG5vdGlmeUNsb3NlQ29udGV4dC5wdXNoKGNiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUNvbnRleHQoY3R4KSB7XG4gICAgLy8gYWRkIGFueSBhZGRpdGlvbmFsIG1vZHVsZXNcbiAgICBub3RpZnlDbG9zZUNvbnRleHQuZm9yRWFjaChjYiA9PiBjYihjdHgpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRleHRJbml0aWFsaXphdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBUb25lIH0gZnJvbSBcIi4uL1RvbmVcIjtcbmltcG9ydCB7IGlzVW5kZWYgfSBmcm9tIFwiLi9UeXBlQ2hlY2tcIjtcbi8qKlxuICogRW1pdHRlciBnaXZlcyBjbGFzc2VzIHdoaWNoIGV4dGVuZCBpdFxuICogdGhlIGFiaWxpdHkgdG8gbGlzdGVuIGZvciBhbmQgZW1pdCBldmVudHMuXG4gKiBJbnNwaXJhdGlvbiBhbmQgcmVmZXJlbmNlIGZyb20gSmVyb21lIEV0aWVubmUncyBbTWljcm9FdmVudF0oaHR0cHM6Ly9naXRodWIuY29tL2plcm9tZWV0aWVubmUvbWljcm9ldmVudC5qcykuXG4gKiBNSVQgKGMpIDIwMTEgSmVyb21lIEV0aWVubmUuXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY2xhc3MgRW1pdHRlciBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkVtaXR0ZXJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCBhIGNhbGxiYWNrIHRvIGEgc3BlY2lmaWMgZXZlbnQuXG4gICAgICogQHBhcmFtICBldmVudCAgICAgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGxpc3RlbiBmb3IuXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkXG4gICAgICovXG4gICAgb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHNwbGl0IHRoZSBldmVudFxuICAgICAgICBjb25zdCBldmVudHMgPSBldmVudC5zcGxpdCgvXFxXKy8pO1xuICAgICAgICBldmVudHMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWYodGhpcy5fZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ldmVudHNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgY2FsbGJhY2sgd2hpY2ggaXMgb25seSBpbnZva2VkIG9uY2VcbiAgICAgKiBAcGFyYW0gIGV2ZW50ICAgICBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIGZvci5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWRcbiAgICAgKi9cbiAgICBvbmNlKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBib3VuZENhbGxiYWNrID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIGludm9rZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBldmVudFxuICAgICAgICAgICAgdGhpcy5vZmYoZXZlbnQsIGJvdW5kQ2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uKGV2ZW50LCBib3VuZENhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICogQHBhcmFtICBldmVudCAgICAgVGhlIGV2ZW50IHRvIHN0b3AgbGlzdGVuaW5nIHRvLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgIFRoZSBjYWxsYmFjayB3aGljaCB3YXMgYm91bmQgdG8gdGhlIGV2ZW50IHdpdGggRW1pdHRlci5vbi5cbiAgICAgKiAgICAgICAgICAgICAgICAgICBJZiBubyBjYWxsYmFjayBpcyBnaXZlbiwgYWxsIGNhbGxiYWNrcyBldmVudHMgYXJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBldmVudHMgPSBldmVudC5zcGxpdCgvXFxXKy8pO1xuICAgICAgICBldmVudHMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWYodGhpcy5fZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRMaXN0ID0gdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGV2ZW50TGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdFtpXSA9PT0gY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSBhbGwgb2YgdGhlIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgZXZlbnRcbiAgICAgKiB3aXRoIGFueSBhcmd1bWVudHMgcGFzc2VkIGluLlxuICAgICAqIEBwYXJhbSAgZXZlbnQgIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9ucyBsaXN0ZW5pbmcuXG4gICAgICovXG4gICAgZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50TGlzdCA9IHRoaXMuX2V2ZW50c1tldmVudF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGV2ZW50TGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBldmVudExpc3RbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgRW1pdHRlciBmdW5jdGlvbnMgKG9uL29mZi9lbWl0KSB0byB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgc3RhdGljIG1peGluKGNvbnN0cikge1xuICAgICAgICAvLyBpbnN0YW5jZS5fZXZlbnRzID0ge307XG4gICAgICAgIFtcIm9uXCIsIFwib25jZVwiLCBcIm9mZlwiLCBcImVtaXRcIl0uZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFbWl0dGVyLnByb3RvdHlwZSwgbmFtZSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RyLnByb3RvdHlwZSwgbmFtZSwgcHJvcGVydHkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW1pdHRlci5qcy5tYXAiLCJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIi4uL3V0aWwvRW1pdHRlclwiO1xuZXhwb3J0IGNsYXNzIEJhc2VDb250ZXh0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuaXNPZmZsaW5lID0gZmFsc2U7XG4gICAgfVxuICAgIC8qXG4gICAgICogVGhpcyBpcyBhIHBsYWNlaG9sZGVyIHNvIHRoYXQgSlNPTi5zdHJpbmdpZnkgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3JcbiAgICAgKiBUaGlzIG1hdGNoZXMgd2hhdCBKU09OLnN0cmluZ2lmeShhdWRpb0NvbnRleHQpIHJldHVybnMgb24gYSBuYXRpdmVcbiAgICAgKiBhdWRpb0NvbnRleHQgaW5zdGFuY2UuXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZUNvbnRleHQuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tIFwiLi4vY2xvY2svVGlja2VyXCI7XG5pbXBvcnQgeyBpc0F1ZGlvQ29udGV4dCB9IGZyb20gXCIuLi91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gXCIuLi91dGlsL1RpbWVsaW5lXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQsIGlzU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBjcmVhdGVBdWRpb0NvbnRleHQsIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGUsIH0gZnJvbSBcIi4vQXVkaW9Db250ZXh0XCI7XG5pbXBvcnQgeyBjbG9zZUNvbnRleHQsIGluaXRpYWxpemVDb250ZXh0IH0gZnJvbSBcIi4vQ29udGV4dEluaXRpYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBCYXNlQ29udGV4dCB9IGZyb20gXCIuL0Jhc2VDb250ZXh0XCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgbmF0aXZlIEF1ZGlvQ29udGV4dC5cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IGV4dGVuZHMgQmFzZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbnRleHRcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIGFsbCBvZiB0aGUgY29uc3RhbnRzIEF1ZGlvQnVmZmVyU291cmNlTm9kZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbnN0YW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBvZiB0aGUgc2V0VGltZW91dCBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW1lb3V0cyA9IG5ldyBUaW1lbGluZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWVvdXQgaWQgY291bnRlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZW91dElkcyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGluZGljYXRvciBpZiB0aGUgY29udGV4dCBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgY29udGV4dCBpcyBhbiBPZmZsaW5lQXVkaW9Db250ZXh0IG9yIGFuIEF1ZGlvQ29udGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc09mZmxpbmUgPSBmYWxzZTtcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBBVURJTyBXT1JLTEVUXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSBtb2R1bGUgbmFtZSB0byBwcm9taXNlIG9mIHRoZSBhZGRNb2R1bGUgbWV0aG9kXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JrbGV0TW9kdWxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKENvbnRleHQuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXG4gICAgICAgICAgICBcImNvbnRleHRcIixcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0ID0gY3JlYXRlQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgICAgICBsYXRlbmN5SGludDogb3B0aW9ucy5sYXRlbmN5SGludCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG5ldyBUaWNrZXIodGhpcy5lbWl0LmJpbmQodGhpcywgXCJ0aWNrXCIpLCBvcHRpb25zLmNsb2NrU291cmNlLCBvcHRpb25zLnVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgdGhpcy5vbihcInRpY2tcIiwgdGhpcy5fdGltZW91dExvb3AuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIGZ3ZCBldmVudHMgZnJvbSB0aGUgY29udGV4dFxuICAgICAgICB0aGlzLl9jb250ZXh0Lm9uc3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc2V0TGF0ZW5jeUhpbnQob3B0aW9ucy5sYXRlbmN5SGludCk7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gb3B0aW9ucy5sb29rQWhlYWQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsb2NrU291cmNlOiBcIndvcmtlclwiLFxuICAgICAgICAgICAgbGF0ZW5jeUhpbnQ6IFwiaW50ZXJhY3RpdmVcIixcbiAgICAgICAgICAgIGxvb2tBaGVhZDogMC4xLFxuICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWw6IDAuMDUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmlzaCBzZXR0aW5nIHVwIHRoZSBjb250ZXh0LiAqKllvdSB1c3VhbGx5IGRvIG5vdCBuZWVkIHRvIGRvIHRoaXMgbWFudWFsbHkuKipcbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyBhZGQgYW55IGFkZGl0aW9uYWwgbW9kdWxlc1xuICAgICAgICAgICAgaW5pdGlhbGl6ZUNvbnRleHQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQkFTRSBBVURJTyBDT05URVhUIE1FVEhPRFNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNyZWF0ZUFuYWx5c2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgIH1cbiAgICBjcmVhdGVPc2NpbGxhdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgfVxuICAgIGNyZWF0ZUJ1ZmZlclNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUJpcXVhZEZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZUJ1ZmZlcihudW1iZXJPZkNoYW5uZWxzLCBsZW5ndGgsIHNhbXBsZVJhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQnVmZmVyKG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSk7XG4gICAgfVxuICAgIGNyZWF0ZUNoYW5uZWxNZXJnZXIobnVtYmVyT2ZJbnB1dHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQ2hhbm5lbE1lcmdlcihudW1iZXJPZklucHV0cyk7XG4gICAgfVxuICAgIGNyZWF0ZUNoYW5uZWxTcGxpdHRlcihudW1iZXJPZk91dHB1dHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlQ2hhbm5lbFNwbGl0dGVyKG51bWJlck9mT3V0cHV0cyk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnN0YW50U291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDb25zdGFudFNvdXJjZSgpO1xuICAgIH1cbiAgICBjcmVhdGVDb252b2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpO1xuICAgIH1cbiAgICBjcmVhdGVEZWxheShtYXhEZWxheVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlRGVsYXkobWF4RGVsYXlUaW1lKTtcbiAgICB9XG4gICAgY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTtcbiAgICB9XG4gICAgY3JlYXRlR2FpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIH1cbiAgICBjcmVhdGVJSVJGaWx0ZXIoZmVlZEZvcndhcmQsIGZlZWRiYWNrKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlSUlSRmlsdGVyKGZlZWRGb3J3YXJkLCBmZWVkYmFjayk7XG4gICAgfVxuICAgIGNyZWF0ZVBhbm5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlUGFubmVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnLCBjb25zdHJhaW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmUocmVhbCwgaW1hZywgY29uc3RyYWludHMpO1xuICAgIH1cbiAgICBjcmVhdGVTdGVyZW9QYW5uZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgIH1cbiAgICBjcmVhdGVXYXZlU2hhcGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVXYXZlU2hhcGVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSkge1xuICAgICAgICBhc3NlcnQoaXNBdWRpb0NvbnRleHQodGhpcy5fY29udGV4dCksIFwiTm90IGF2YWlsYWJsZSBpZiBPZmZsaW5lQXVkaW9Db250ZXh0XCIpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0KGlzQXVkaW9Db250ZXh0KHRoaXMuX2NvbnRleHQpLCBcIk5vdCBhdmFpbGFibGUgaWYgT2ZmbGluZUF1ZGlvQ29udGV4dFwiKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlbGVtZW50KTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpIHtcbiAgICAgICAgYXNzZXJ0KGlzQXVkaW9Db250ZXh0KHRoaXMuX2NvbnRleHQpLCBcIk5vdCBhdmFpbGFibGUgaWYgT2ZmbGluZUF1ZGlvQ29udGV4dFwiKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtcbiAgICB9XG4gICAgZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzIG9mIHRoZSBBdWRpb0NvbnRleHQuXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jdXJyZW50VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzIG9mIHRoZSBBdWRpb0NvbnRleHQuXG4gICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzIG9mIHRoZSBBdWRpb0NvbnRleHQuXG4gICAgICovXG4gICAgZ2V0IHNhbXBsZVJhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0ZW5lclxuICAgICAqL1xuICAgIGdldCBsaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcjtcbiAgICB9XG4gICAgc2V0IGxpc3RlbmVyKGwpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLl9pbml0aWFsaXplZCwgXCJUaGUgbGlzdGVuZXIgY2Fubm90IGJlIHNldCBhZnRlciBpbml0aWFsaXphdGlvbi5cIik7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVyID0gbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlcmUgaXMgb25seSBvbmUgVHJhbnNwb3J0IHBlciBDb250ZXh0LiBJdCBpcyBjcmVhdGVkIG9uIGluaXRpYWxpemF0aW9uLlxuICAgICAqL1xuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0O1xuICAgIH1cbiAgICBzZXQgdHJhbnNwb3J0KHQpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLl9pbml0aWFsaXplZCwgXCJUaGUgdHJhbnNwb3J0IGNhbm5vdCBiZSBzZXQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXCIpO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBEcmF3IG9iamVjdCBmb3IgdGhlIGNvbnRleHQgd2hpY2ggaXMgdXNlZnVsIGZvciBzeW5jaHJvbml6aW5nIHRoZSBkcmF3IGZyYW1lIHdpdGggdGhlIFRvbmUuanMgY2xvY2suXG4gICAgICovXG4gICAgZ2V0IGRyYXcoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJhdztcbiAgICB9XG4gICAgc2V0IGRyYXcoZCkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuX2luaXRpYWxpemVkLCBcIkRyYXcgY2Fubm90IGJlIHNldCBhZnRlciBpbml0aWFsaXphdGlvbi5cIik7XG4gICAgICAgIHRoaXMuX2RyYXcgPSBkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgQ29udGV4dCdzIGRlc3RpbmF0aW9uIG5vZGUuXG4gICAgICovXG4gICAgZ2V0IGRlc3RpbmF0aW9uKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBzZXQgZGVzdGluYXRpb24oZCkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuX2luaXRpYWxpemVkLCBcIlRoZSBkZXN0aW5hdGlvbiBjYW5ub3QgYmUgc2V0IGFmdGVyIGluaXRpYWxpemF0aW9uLlwiKTtcbiAgICAgICAgdGhpcy5fZGVzdGluYXRpb24gPSBkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYXVkaW8gd29ya2xldCBub2RlIGZyb20gYSBuYW1lIGFuZCBvcHRpb25zLiBUaGUgbW9kdWxlXG4gICAgICogbXVzdCBmaXJzdCBiZSBsb2FkZWQgdXNpbmcgW1thZGRBdWRpb1dvcmtsZXRNb2R1bGVdXS5cbiAgICAgKi9cbiAgICBjcmVhdGVBdWRpb1dvcmtsZXROb2RlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGUodGhpcy5yYXdDb250ZXh0LCBuYW1lLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIEF1ZGlvV29ya2xldFByb2Nlc3NvciBtb2R1bGVcbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwgb2YgdGhlIG1vZHVsZVxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGVcbiAgICAgKi9cbiAgICBhZGRBdWRpb1dvcmtsZXRNb2R1bGUodXJsLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQoaXNEZWZpbmVkKHRoaXMucmF3Q29udGV4dC5hdWRpb1dvcmtsZXQpLCBcIkF1ZGlvV29ya2xldE5vZGUgaXMgb25seSBhdmFpbGFibGUgaW4gYSBzZWN1cmUgY29udGV4dCAoaHR0cHMgb3IgbG9jYWxob3N0KVwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd29ya2xldE1vZHVsZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2xldE1vZHVsZXMuc2V0KG5hbWUsIHRoaXMucmF3Q29udGV4dC5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKHVybCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgdGhpcy5fd29ya2xldE1vZHVsZXMuZ2V0KG5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgb2YgdGhlIHdvcmtsZXRzIGhhdmUgYmVlbiBsb2FkZWQgb24gdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgd29ya2xldHNBcmVSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICB0aGlzLl93b3JrbGV0TW9kdWxlcy5mb3JFYWNoKChwcm9taXNlKSA9PiBwcm9taXNlcy5wdXNoKHByb21pc2UpKTtcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVElDS0VSXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBIb3cgb2Z0ZW4gdGhlIGludGVydmFsIGNhbGxiYWNrIGlzIGludm9rZWQuXG4gICAgICogVGhpcyBudW1iZXIgY29ycmVzcG9uZHMgdG8gaG93IHJlc3BvbnNpdmUgdGhlIHNjaGVkdWxpbmdcbiAgICAgKiBjYW4gYmUuIGNvbnRleHQudXBkYXRlSW50ZXJ2YWwgKyBjb250ZXh0Lmxvb2tBaGVhZCBnaXZlcyB5b3UgdGhlXG4gICAgICogdG90YWwgbGF0ZW5jeSBiZXR3ZWVuIHNjaGVkdWxpbmcgYW4gZXZlbnQgYW5kIGhlYXJpbmcgaXQuXG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyLnVwZGF0ZUludGVydmFsO1xuICAgIH1cbiAgICBzZXQgdXBkYXRlSW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy5fdGlja2VyLnVwZGF0ZUludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoYXQgdGhlIHNvdXJjZSBvZiB0aGUgY2xvY2sgaXMsIGVpdGhlciBcIndvcmtlclwiIChkZWZhdWx0KSxcbiAgICAgKiBcInRpbWVvdXRcIiwgb3IgXCJvZmZsaW5lXCIgKG5vbmUpLlxuICAgICAqL1xuICAgIGdldCBjbG9ja1NvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlci50eXBlO1xuICAgIH1cbiAgICBzZXQgY2xvY2tTb3VyY2UodHlwZSkge1xuICAgICAgICB0aGlzLl90aWNrZXIudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBsYXliYWNrLCB3aGljaCBhZmZlY3RzIHRyYWRlb2ZmcyBiZXR3ZWVuIGF1ZGlvXG4gICAgICogb3V0cHV0IGxhdGVuY3kgYW5kIHJlc3BvbnNpdmVuZXNzLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIHNldHRpbmcgdGhlIHZhbHVlIGluIHNlY29uZHMsIHRoZSBsYXRlbmN5SGludCBhbHNvXG4gICAgICogYWNjZXB0cyB0aGUgc3RyaW5ncyBcImludGVyYWN0aXZlXCIgKHByaW9yaXRpemVzIGxvdyBsYXRlbmN5KSxcbiAgICAgKiBcInBsYXliYWNrXCIgKHByaW9yaXRpemVzIHN1c3RhaW5lZCBwbGF5YmFjayksIFwiYmFsYW5jZWRcIiAoYmFsYW5jZXNcbiAgICAgKiBsYXRlbmN5IGFuZCBwZXJmb3JtYW5jZSkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBwcmlvcml0aXplIHN1c3RhaW5lZCBwbGF5YmFja1xuICAgICAqIGNvbnN0IGNvbnRleHQgPSBuZXcgVG9uZS5Db250ZXh0KHsgbGF0ZW5jeUhpbnQ6IFwicGxheWJhY2tcIiB9KTtcbiAgICAgKiAvLyBzZXQgdGhpcyBjb250ZXh0IGFzIHRoZSBnbG9iYWwgQ29udGV4dFxuICAgICAqIFRvbmUuc2V0Q29udGV4dChjb250ZXh0KTtcbiAgICAgKiAvLyB0aGUgZ2xvYmFsIGNvbnRleHQgaXMgZ2V0dGFibGUgd2l0aCBUb25lLmdldENvbnRleHQoKVxuICAgICAqIGNvbnNvbGUubG9nKFRvbmUuZ2V0Q29udGV4dCgpLmxhdGVuY3lIaW50KTtcbiAgICAgKi9cbiAgICBnZXQgbGF0ZW5jeUhpbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXRlbmN5SGludDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb29rQWhlYWQgYW5kIHVwZGF0ZUludGVydmFsIGJhc2VkIG9uIHRoZSBsYXRlbmN5SGludFxuICAgICAqL1xuICAgIF9zZXRMYXRlbmN5SGludChoaW50KSB7XG4gICAgICAgIGxldCBsb29rQWhlYWRWYWx1ZSA9IDA7XG4gICAgICAgIHRoaXMuX2xhdGVuY3lIaW50ID0gaGludDtcbiAgICAgICAgaWYgKGlzU3RyaW5nKGhpbnQpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGhpbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9va0FoZWFkVmFsdWUgPSAwLjE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwbGF5YmFja1wiOlxuICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWRWYWx1ZSA9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhbGFuY2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvb2tBaGVhZFZhbHVlID0gMC4yNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb29rQWhlYWQgPSBsb29rQWhlYWRWYWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IGxvb2tBaGVhZFZhbHVlIC8gMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVud3JhcHBlZCBBdWRpb0NvbnRleHQgb3IgT2ZmbGluZUF1ZGlvQ29udGV4dFxuICAgICAqL1xuICAgIGdldCByYXdDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYXVkaW8gY29udGV4dCB0aW1lIHBsdXMgYSBzaG9ydCBbW2xvb2tBaGVhZF1dLlxuICAgICAqL1xuICAgIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3VycmVudFRpbWUgKyB0aGlzLmxvb2tBaGVhZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYXVkaW8gY29udGV4dCB0aW1lIHdpdGhvdXQgdGhlIFtbbG9va0FoZWFkXV0uXG4gICAgICogSW4gbW9zdCBjYXNlcyBpdCBpcyBiZXR0ZXIgdG8gdXNlIFtbbm93XV0gaW5zdGVhZCBvZiBbW2ltbWVkaWF0ZV1dIHNpbmNlXG4gICAgICogd2l0aCBbW25vd11dIHRoZSBbW2xvb2tBaGVhZF1dIGlzIGFwcGxpZWQgZXF1YWxseSB0byBfYWxsXyBjb21wb25lbnRzIGluY2x1ZGluZyBpbnRlcm5hbCBjb21wb25lbnRzLFxuICAgICAqIHRvIG1ha2luZyBzdXJlIHRoYXQgZXZlcnl0aGluZyBpcyBzY2hlZHVsZWQgaW4gc3luYy4gTWl4aW5nIFtbbm93XV0gYW5kIFtbaW1tZWRpYXRlXV1cbiAgICAgKiBjYW4gY2F1c2Ugc29tZSB0aW1pbmcgaXNzdWVzLiBJZiBubyBsb29rQWhlYWQgaXMgZGVzaXJlZCwgeW91IGNhbiBzZXQgdGhlIFtbbG9va0FoZWFkXV0gdG8gYDBgLlxuICAgICAqL1xuICAgIGltbWVkaWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3VycmVudFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgYXVkaW8gY29udGV4dCBmcm9tIGEgc3VzcGVuZGVkIHN0YXRlLiBUaGlzIGlzIHJlcXVpcmVkXG4gICAgICogdG8gaW5pdGlhbGx5IHN0YXJ0IHRoZSBBdWRpb0NvbnRleHQuIFNlZSBbW1RvbmUuc3RhcnRdXVxuICAgICAqL1xuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKGlzQXVkaW9Db250ZXh0KHRoaXMuX2NvbnRleHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29udGV4dC4gT25jZSBjbG9zZWQsIHRoZSBjb250ZXh0IGNhbiBubyBsb25nZXIgYmUgdXNlZCBhbmRcbiAgICAgKiBhbnkgQXVkaW9Ob2RlcyBjcmVhdGVkIGZyb20gdGhlIGNvbnRleHQgd2lsbCBiZSBzaWxlbnQuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoaXNBdWRpb0NvbnRleHQodGhpcy5fY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLl9jb250ZXh0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICBjbG9zZUNvbnRleHQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAqKkludGVybmFsKiogR2VuZXJhdGUgYSBsb29wZWQgYnVmZmVyIGF0IHNvbWUgY29uc3RhbnQgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0Q29uc3RhbnQodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25zdGFudHMuaGFzKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25zdGFudHMuZ2V0KHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxMjgsIHRoaXMuX2NvbnRleHQuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFycltpXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnN0YW50ID0gdGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgICAgIGNvbnN0YW50LmNoYW5uZWxDb3VudCA9IDE7XG4gICAgICAgICAgICBjb25zdGFudC5jaGFubmVsQ291bnRNb2RlID0gXCJleHBsaWNpdFwiO1xuICAgICAgICAgICAgY29uc3RhbnQuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICAgICAgY29uc3RhbnQubG9vcCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdGFudC5zdGFydCgwKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0YW50cy5zZXQodmFsLCBjb25zdGFudCk7XG4gICAgICAgICAgICByZXR1cm4gY29uc3RhbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuIEFsc28gY2xvc2VzIHRoZSBhdWRpbyBjb250ZXh0LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fdGlja2VyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fdGltZW91dHMuZGlzcG9zZSgpO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9jb25zdGFudHMpLm1hcCgodmFsKSA9PiB0aGlzLl9jb25zdGFudHNbdmFsXS5kaXNjb25uZWN0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBUSU1FT1VUU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogVGhlIHByaXZhdGUgbG9vcCB3aGljaCBrZWVwcyB0cmFjayBvZiB0aGUgY29udGV4dCBzY2hlZHVsZWQgdGltZW91dHNcbiAgICAgKiBJcyBpbnZva2VkIGZyb20gdGhlIGNsb2NrIHNvdXJjZVxuICAgICAqL1xuICAgIF90aW1lb3V0TG9vcCgpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgbGV0IGZpcnN0RXZlbnQgPSB0aGlzLl90aW1lb3V0cy5wZWVrKCk7XG4gICAgICAgIHdoaWxlICh0aGlzLl90aW1lb3V0cy5sZW5ndGggJiYgZmlyc3RFdmVudCAmJiBmaXJzdEV2ZW50LnRpbWUgPD0gbm93KSB7XG4gICAgICAgICAgICAvLyBpbnZva2UgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICBmaXJzdEV2ZW50LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICAvLyBzaGlmdCB0aGUgZmlyc3QgZXZlbnQgb2ZmXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0cy5zaGlmdCgpO1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBuZXh0IG9uZVxuICAgICAgICAgICAgZmlyc3RFdmVudCA9IHRoaXMuX3RpbWVvdXRzLnBlZWsoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNldFRpbWVvdXQgd2hpY2ggaXMgZ3VhcmFudGVlZCBieSB0aGUgY2xvY2sgc291cmNlLlxuICAgICAqIEFsc28gcnVucyBpbiB0aGUgb2ZmbGluZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSAgZm4gICAgICAgVGhlIGNhbGxiYWNrIHRvIGludm9rZVxuICAgICAqIEBwYXJhbSAgdGltZW91dCAgVGhlIHRpbWVvdXQgaW4gc2Vjb25kc1xuICAgICAqIEByZXR1cm5zIElEIHRvIHVzZSB3aGVuIGludm9raW5nIENvbnRleHQuY2xlYXJUaW1lb3V0XG4gICAgICovXG4gICAgc2V0VGltZW91dChmbiwgdGltZW91dCkge1xuICAgICAgICB0aGlzLl90aW1lb3V0SWRzKys7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRzLmFkZCh7XG4gICAgICAgICAgICBjYWxsYmFjazogZm4sXG4gICAgICAgICAgICBpZDogdGhpcy5fdGltZW91dElkcyxcbiAgICAgICAgICAgIHRpbWU6IG5vdyArIHRpbWVvdXQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZW91dElkcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgcHJldmlvdXNseSBzY2hlZHVsZWQgdGltZW91dCB3aXRoIFRvbmUuY29udGV4dC5zZXRUaW1lb3V0XG4gICAgICogQHBhcmFtICBpZCAgVGhlIElEIHJldHVybmVkIGZyb20gc2V0VGltZW91dFxuICAgICAqL1xuICAgIGNsZWFyVGltZW91dChpZCkge1xuICAgICAgICB0aGlzLl90aW1lb3V0cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRzLnJlbW92ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGZ1bmN0aW9uIHNjaGVkdWxlZCBieSBbW3NldEludGVydmFsXV1cbiAgICAgKi9cbiAgICBjbGVhckludGVydmFsKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsZWFyVGltZW91dChpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByZXBlYXRpbmcgZXZlbnQgdG8gdGhlIGNvbnRleHQncyBjYWxsYmFjayBjbG9ja1xuICAgICAqL1xuICAgIHNldEludGVydmFsKGZuLCBpbnRlcnZhbCkge1xuICAgICAgICBjb25zdCBpZCA9ICsrdGhpcy5fdGltZW91dElkcztcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxGbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0cy5hZGQoe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGludm9rZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tlIHRoZSBldmVudCB0byByZXBlYXQgaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxGbigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGltZTogbm93ICsgaW50ZXJ2YWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8ga2ljayBpdCBvZmZcbiAgICAgICAgaW50ZXJ2YWxGbigpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSBcIi4vVHlwZUNoZWNrXCI7XG4vKipcbiAqIE1ha2UgdGhlIHByb3BlcnR5IG5vdCB3cml0YWJsZSB1c2luZyBgZGVmaW5lUHJvcGVydHlgLiBJbnRlcm5hbCB1c2Ugb25seS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRPbmx5KHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICBpZiAoaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgcHJvcGVydHkuZm9yRWFjaChzdHIgPT4gcmVhZE9ubHkodGFyZ2V0LCBzdHIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIE1ha2UgYW4gYXR0cmlidXRlIHdyaXRlYWJsZS4gSW50ZXJuYWwgdXNlIG9ubHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh0YXJnZXQsIHByb3BlcnR5KSB7XG4gICAgaWYgKGlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgIHByb3BlcnR5LmZvckVhY2goc3RyID0+IHdyaXRhYmxlKHRhcmdldCwgc3RyKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBub09wID0gKCkgPT4ge1xuICAgIC8vIG5vIG9wZXJhdGlvbiBoZXJlIVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyZmFjZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwiLi4vR2xvYmFsXCI7XG5pbXBvcnQgeyBUb25lIH0gZnJvbSBcIi4uL1RvbmVcIjtcbmltcG9ydCB7IGlzQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi4vdXRpbC9BZHZhbmNlZFR5cGVDaGVja1wiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgbm9PcCB9IGZyb20gXCIuLi91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBBdWRpb0J1ZmZlciBsb2FkaW5nIGFuZCBzdG9yYWdlLiBUb25lQXVkaW9CdWZmZXIgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IGFsbFxuICogY2xhc3NlcyB0aGF0IG1ha2UgcmVxdWVzdHMgZm9yIGF1ZGlvIGZpbGVzIHN1Y2ggYXMgVG9uZS5QbGF5ZXIsXG4gKiBUb25lLlNhbXBsZXIgYW5kIFRvbmUuQ29udm9sdmVyLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJ1ZmZlciA9IG5ldyBUb25lLlRvbmVBdWRpb0J1ZmZlcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9jYXNpby9BMS5tcDNcIiwgKCkgPT4ge1xuICogXHRjb25zb2xlLmxvZyhcImxvYWRlZFwiKTtcbiAqIH0pO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIFRvbmVBdWRpb0J1ZmZlciBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRvbmVBdWRpb0J1ZmZlclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiB0aGUgYnVmZmVyIGlzIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25sb2FkID0gbm9PcDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVBdWRpb0J1ZmZlci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybFwiLCBcIm9ubG9hZFwiLCBcIm9uZXJyb3JcIl0pO1xuICAgICAgICB0aGlzLnJldmVyc2UgPSBvcHRpb25zLnJldmVyc2U7XG4gICAgICAgIHRoaXMub25sb2FkID0gb3B0aW9ucy5vbmxvYWQ7XG4gICAgICAgIGlmIChvcHRpb25zLnVybCAmJiBpc0F1ZGlvQnVmZmVyKG9wdGlvbnMudXJsKSB8fCBvcHRpb25zLnVybCBpbnN0YW5jZW9mIFRvbmVBdWRpb0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5zZXQob3B0aW9ucy51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKG9wdGlvbnMudXJsKSkge1xuICAgICAgICAgICAgLy8gaW5pdGlhdGUgdGhlIGRvd25sb2FkXG4gICAgICAgICAgICB0aGlzLmxvYWQob3B0aW9ucy51cmwpLmNhdGNoKG9wdGlvbnMub25lcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb25lcnJvcjogbm9PcCxcbiAgICAgICAgICAgIG9ubG9hZDogbm9PcCxcbiAgICAgICAgICAgIHJldmVyc2U6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtcGxlIHJhdGUgb2YgdGhlIEF1ZGlvQnVmZmVyXG4gICAgICovXG4gICAgZ2V0IHNhbXBsZVJhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc2FtcGxlUmF0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRDb250ZXh0KCkuc2FtcGxlUmF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXNzIGluIGFuIEF1ZGlvQnVmZmVyIG9yIFRvbmVBdWRpb0J1ZmZlciB0byBzZXQgdGhlIHZhbHVlIG9mIHRoaXMgYnVmZmVyLlxuICAgICAqL1xuICAgIHNldChidWZmZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFRvbmVBdWRpb0J1ZmZlcikge1xuICAgICAgICAgICAgLy8gaWYgaXQncyBsb2FkZWQsIHNldCBpdFxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXIuZ2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2hlbiBpdCdzIGxvYWRlZCwgaW52b2tlIGl0J3MgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBidWZmZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ubG9hZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldmVyc2UgaXQgaW5pdGlhbGx5XG4gICAgICAgIGlmICh0aGlzLl9yZXZlcnNlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYXVkaW8gYnVmZmVyIHN0b3JlZCBpbiB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gZmV0Y2ggcmVxdWVzdCBmb3IgdGhlIHNlbGVjdGVkIHVybCB0aGVuIGRlY29kZXMgdGhlIGZpbGUgYXMgYW4gYXVkaW8gYnVmZmVyLlxuICAgICAqIEludm9rZXMgdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGF1ZGlvIGJ1ZmZlciBsb2Fkcy5cbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwgb2YgdGhlIGJ1ZmZlciB0byBsb2FkLiBmaWxldHlwZSBzdXBwb3J0IGRlcGVuZHMgb24gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhpcyBUb25lQXVkaW9CdWZmZXJcbiAgICAgKi9cbiAgICBsb2FkKHVybCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZG9uZUxvYWRpbmcgPSBUb25lQXVkaW9CdWZmZXIubG9hZCh1cmwpLnRoZW4oYXVkaW9CdWZmZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyBpbnZva2UgdGhlIG9ubG9hZCBtZXRob2RcbiAgICAgICAgICAgICAgICB0aGlzLm9ubG9hZCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgVG9uZUF1ZGlvQnVmZmVyLmRvd25sb2Fkcy5wdXNoKGRvbmVMb2FkaW5nKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeWllbGQgZG9uZUxvYWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGRvd25sb2FkZWQgZmlsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gVG9uZUF1ZGlvQnVmZmVyLmRvd25sb2Fkcy5pbmRleE9mKGRvbmVMb2FkaW5nKTtcbiAgICAgICAgICAgICAgICBUb25lQXVkaW9CdWZmZXIuZG93bmxvYWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGF1ZGlvIGJ1ZmZlciBmcm9tIHRoZSBhcnJheS5cbiAgICAgKiBUbyBjcmVhdGUgYSBtdWx0aWNoYW5uZWwgQXVkaW9CdWZmZXIsIHBhc3MgaW4gYSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5LlxuICAgICAqIEBwYXJhbSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbCB0aGUgYXVkaW8gYnVmZmVyXG4gICAgICovXG4gICAgZnJvbUFycmF5KGFycmF5KSB7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlkaW1lbnNpb25hbCA9IGlzQXJyYXkoYXJyYXkpICYmIGFycmF5WzBdLmxlbmd0aCA+IDA7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxzID0gaXNNdWx0aWRpbWVuc2lvbmFsID8gYXJyYXkubGVuZ3RoIDogMTtcbiAgICAgICAgY29uc3QgbGVuID0gaXNNdWx0aWRpbWVuc2lvbmFsID8gYXJyYXlbMF0ubGVuZ3RoIDogYXJyYXkubGVuZ3RoO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcihjaGFubmVscywgbGVuLCBjb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICBjb25zdCBtdWx0aUNoYW5uZWxBcnJheSA9ICFpc011bHRpZGltZW5zaW9uYWwgJiYgY2hhbm5lbHMgPT09IDEgP1xuICAgICAgICAgICAgW2FycmF5XSA6IGFycmF5O1xuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNoYW5uZWxzOyBjKyspIHtcbiAgICAgICAgICAgIGJ1ZmZlci5jb3B5VG9DaGFubmVsKG11bHRpQ2hhbm5lbEFycmF5W2NdLCBjKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdW1zIG11bHRpcGxlIGNoYW5uZWxzIGludG8gMSBjaGFubmVsXG4gICAgICogQHBhcmFtIGNoYW5OdW0gT3B0aW9uYWxseSBvbmx5IGNvcHkgYSBzaW5nbGUgY2hhbm5lbCBmcm9tIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICB0b01vbm8oY2hhbk51bSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoY2hhbk51bSkpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbUFycmF5KHRoaXMudG9BcnJheShjaGFuTnVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgb3V0cHV0QXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IG51bUNoYW5uZWxzID0gdGhpcy5udW1iZXJPZkNoYW5uZWxzO1xuICAgICAgICAgICAgZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBudW1DaGFubmVsczsgY2hhbm5lbCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbEFycmF5ID0gdGhpcy50b0FycmF5KGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dEFycmF5W2ldICs9IGNoYW5uZWxBcnJheVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkaXZpZGUgYnkgdGhlIG51bWJlciBvZiBjaGFubmVsc1xuICAgICAgICAgICAgb3V0cHV0QXJyYXkgPSBvdXRwdXRBcnJheS5tYXAoc2FtcGxlID0+IHNhbXBsZSAvIG51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbUFycmF5KG91dHB1dEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBidWZmZXIgYXMgYW4gYXJyYXkuIFNpbmdsZSBjaGFubmVsIGJ1ZmZlcnMgd2lsbCByZXR1cm4gYSAxLWRpbWVuc2lvbmFsXG4gICAgICogRmxvYXQzMkFycmF5LCBhbmQgbXVsdGljaGFubmVsIGJ1ZmZlcnMgd2lsbCByZXR1cm4gbXVsdGlkaW1lbnNpb25hbCBhcnJheXMuXG4gICAgICogQHBhcmFtIGNoYW5uZWwgT3B0aW9uYWxseSBvbmx5IGNvcHkgYSBzaW5nbGUgY2hhbm5lbCBmcm9tIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICB0b0FycmF5KGNoYW5uZWwpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGNoYW5uZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsRGF0YShjaGFubmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm51bWJlck9mQ2hhbm5lbHMgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5udW1iZXJPZkNoYW5uZWxzOyBjKyspIHtcbiAgICAgICAgICAgICAgICByZXRbY10gPSB0aGlzLmdldENoYW5uZWxEYXRhKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBGbG9hdDMyQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBQQ00gYXVkaW8gZGF0YSBmb3IgdGhlIHNwZWNpZmljIGNoYW5uZWwuXG4gICAgICogQHBhcmFtICBjaGFubmVsICBUaGUgY2hhbm5lbCBudW1iZXIgdG8gcmV0dXJuXG4gICAgICogQHJldHVybiBUaGUgYXVkaW8gYXMgYSBUeXBlZEFycmF5XG4gICAgICovXG4gICAgZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3V0IGEgc3Vic2VjdGlvbiBvZiB0aGUgYXJyYXkgYW5kIHJldHVybiBhIGJ1ZmZlciBvZiB0aGVcbiAgICAgKiBzdWJzZWN0aW9uLiBEb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBzdGFydCBUaGUgdGltZSB0byBzdGFydCB0aGUgc2xpY2VcbiAgICAgKiBAcGFyYW0gZW5kIFRoZSBlbmQgdGltZSB0byBzbGljZS4gSWYgbm9uZSBpcyBnaXZlbiB3aWxsIGRlZmF1bHQgdG8gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgc2xpY2Uoc3RhcnQsIGVuZCA9IHRoaXMuZHVyYXRpb24pIHtcbiAgICAgICAgY29uc3Qgc3RhcnRTYW1wbGVzID0gTWF0aC5mbG9vcihzdGFydCAqIHRoaXMuc2FtcGxlUmF0ZSk7XG4gICAgICAgIGNvbnN0IGVuZFNhbXBsZXMgPSBNYXRoLmZsb29yKGVuZCAqIHRoaXMuc2FtcGxlUmF0ZSk7XG4gICAgICAgIGFzc2VydChzdGFydFNhbXBsZXMgPCBlbmRTYW1wbGVzLCBcIlRoZSBzdGFydCB0aW1lIG11c3QgYmUgbGVzcyB0aGFuIHRoZSBlbmQgdGltZVwiKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZW5kU2FtcGxlcyAtIHN0YXJ0U2FtcGxlcztcbiAgICAgICAgY29uc3QgcmV0QnVmZmVyID0gZ2V0Q29udGV4dCgpLmNyZWF0ZUJ1ZmZlcih0aGlzLm51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgdGhpcy5zYW1wbGVSYXRlKTtcbiAgICAgICAgZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCB0aGlzLm51bWJlck9mQ2hhbm5lbHM7IGNoYW5uZWwrKykge1xuICAgICAgICAgICAgcmV0QnVmZmVyLmNvcHlUb0NoYW5uZWwodGhpcy5nZXRDaGFubmVsRGF0YShjaGFubmVsKS5zdWJhcnJheShzdGFydFNhbXBsZXMsIGVuZFNhbXBsZXMpLCBjaGFubmVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRvbmVBdWRpb0J1ZmZlcihyZXRCdWZmZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgX3JldmVyc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bWJlck9mQ2hhbm5lbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hhbm5lbERhdGEoaSkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgYnVmZmVyIGlzIGxvYWRlZCBvciBub3RcbiAgICAgKi9cbiAgICBnZXQgbG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIGJ1ZmZlciBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsZW5ndGggb2YgdGhlIGJ1ZmZlciBpbiBzYW1wbGVzXG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRpc2NyZXRlIGF1ZGlvIGNoYW5uZWxzLiBSZXR1cm5zIDAgaWYgbm8gYnVmZmVyIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBnZXQgbnVtYmVyT2ZDaGFubmVscygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5udW1iZXJPZkNoYW5uZWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIGdldCByZXZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmV2ZXJzZWQ7XG4gICAgfVxuICAgIHNldCByZXZlcnNlKHJldikge1xuICAgICAgICBpZiAodGhpcy5fcmV2ZXJzZWQgIT09IHJldikge1xuICAgICAgICAgICAgdGhpcy5fcmV2ZXJzZWQgPSByZXY7XG4gICAgICAgICAgICB0aGlzLl9yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgVG9uZUF1ZGlvQnVmZmVyIGZyb20gdGhlIGFycmF5LiBUbyBjcmVhdGUgYSBtdWx0aWNoYW5uZWwgQXVkaW9CdWZmZXIsXG4gICAgICogcGFzcyBpbiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuXG4gICAgICogQHBhcmFtIGFycmF5IFRoZSBhcnJheSB0byBmaWxsIHRoZSBhdWRpbyBidWZmZXJcbiAgICAgKiBAcmV0dXJuIEEgVG9uZUF1ZGlvQnVmZmVyIGNyZWF0ZWQgZnJvbSB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUFycmF5KGFycmF5KSB7XG4gICAgICAgIHJldHVybiAobmV3IFRvbmVBdWRpb0J1ZmZlcigpKS5mcm9tQXJyYXkoYXJyYXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVG9uZUF1ZGlvQnVmZmVyIGZyb20gYSBVUkwsIHJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGEgVG9uZUF1ZGlvQnVmZmVyXG4gICAgICogQHBhcmFtICB1cmwgVGhlIHVybCB0byBsb2FkLlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGEgVG9uZUF1ZGlvQnVmZmVyXG4gICAgICovXG4gICAgc3RhdGljIGZyb21VcmwodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVG9uZUF1ZGlvQnVmZmVyKCk7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgYnVmZmVyLmxvYWQodXJsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgdXJsIHVzaW5nIGZldGNoIGFuZCByZXR1cm5zIHRoZSBBdWRpb0J1ZmZlci5cbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHRlc3QgaWYgdGhlIHVybCBjb250YWlucyBtdWx0aXBsZSBleHRlbnNpb25zXG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdXJsLm1hdGNoKC9cXFsoW15cXF1cXFtdK1xcfC4rKVxcXSQvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IG1hdGNoZXNbMV0uc3BsaXQoXCJ8XCIpO1xuICAgICAgICAgICAgICAgIGxldCBleHRlbnNpb24gPSBleHRlbnNpb25zWzBdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZXh0IG9mIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRvbmVBdWRpb0J1ZmZlci5zdXBwb3J0c1R5cGUoZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UobWF0Y2hlc1swXSwgZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBhIHNsYXNoIGJldHdlZW4gdGhlIGJhc2VVcmwgYW5kIHRoZSB1cmxcbiAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSBUb25lQXVkaW9CdWZmZXIuYmFzZVVybCA9PT0gXCJcIiB8fCBUb25lQXVkaW9CdWZmZXIuYmFzZVVybC5lbmRzV2l0aChcIi9cIikgPyBUb25lQXVkaW9CdWZmZXIuYmFzZVVybCA6IFRvbmVBdWRpb0J1ZmZlci5iYXNlVXJsICsgXCIvXCI7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGJhc2VVcmwgKyB1cmwpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY291bGQgbm90IGxvYWQgdXJsOiAke3VybH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0geWllbGQgZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcik7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9CdWZmZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYSB1cmwncyBleHRlbnNpb24gdG8gc2VlIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY2FuIHBsYXkgdGhhdCBmaWxlIHR5cGUuXG4gICAgICogQHBhcmFtIHVybCBUaGUgdXJsL2V4dGVuc2lvbiB0byB0ZXN0XG4gICAgICogQHJldHVybiBJZiB0aGUgZmlsZSBleHRlbnNpb24gY2FuIGJlIHBsYXllZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFRvbmUuVG9uZUF1ZGlvQnVmZmVyLnN1cHBvcnRzVHlwZShcIndhdlwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogVG9uZS5Ub25lQXVkaW9CdWZmZXIuc3VwcG9ydHNUeXBlKFwicGF0aC90by9maWxlLndhdlwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICovXG4gICAgc3RhdGljIHN1cHBvcnRzVHlwZSh1cmwpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHVybC5zcGxpdChcIi5cIik7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbZXh0ZW5zaW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikuY2FuUGxheVR5cGUoXCJhdWRpby9cIiArIGV4dGVuc2lvbik7XG4gICAgICAgIHJldHVybiByZXNwb25zZSAhPT0gXCJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgb2YgdGhlIGJ1ZmZlcnMgaGF2ZSBsb2FkZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdGhpcyBtYWtlcyBzdXJlIHRoYXQgdGhlIGZ1bmN0aW9uIGlzIGFsd2F5cyBhc3luY1xuICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB3aGlsZSAoVG9uZUF1ZGlvQnVmZmVyLmRvd25sb2Fkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBUb25lQXVkaW9CdWZmZXIuZG93bmxvYWRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNUQVRJQyBNRVRIT0RTXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogQSBwYXRoIHdoaWNoIGlzIHByZWZpeGVkIGJlZm9yZSBldmVyeSB1cmwuXG4gKi9cblRvbmVBdWRpb0J1ZmZlci5iYXNlVXJsID0gXCJcIjtcbi8qKlxuICogQWxsIG9mIHRoZSBkb3dubG9hZHNcbiAqL1xuVG9uZUF1ZGlvQnVmZmVyLmRvd25sb2FkcyA9IFtdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZUF1ZGlvQnVmZmVyLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgY3JlYXRlT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L0F1ZGlvQ29udGV4dFwiO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L0NvbnRleHRcIjtcbmltcG9ydCB7IGlzT2ZmbGluZUF1ZGlvQ29udGV4dCB9IGZyb20gXCIuLi91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi9Ub25lQXVkaW9CdWZmZXJcIjtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgdGhlIE9mZmxpbmVBdWRpb0NvbnRleHRcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKiBAZXhhbXBsZVxuICogLy8gZ2VuZXJhdGUgYSBzaW5nbGUgY2hhbm5lbCwgMC41IHNlY29uZCBidWZmZXJcbiAqIGNvbnN0IGNvbnRleHQgPSBuZXcgVG9uZS5PZmZsaW5lQ29udGV4dCgxLCAwLjUsIDQ0MTAwKTtcbiAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoeyBjb250ZXh0IH0pO1xuICogY29udGV4dC5yZW5kZXIoKS50aGVuKGJ1ZmZlciA9PiB7XG4gKiBcdGNvbnNvbGUubG9nKGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBidWZmZXIuZHVyYXRpb24pO1xuICogfSk7XG4gKi9cbmV4cG9ydCBjbGFzcyBPZmZsaW5lQ29udGV4dCBleHRlbmRzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBjbG9ja1NvdXJjZTogXCJvZmZsaW5lXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBpc09mZmxpbmVBdWRpb0NvbnRleHQoYXJndW1lbnRzWzBdKSA/XG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdIDogY3JlYXRlT2ZmbGluZUF1ZGlvQ29udGV4dChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSAqIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzJdKSxcbiAgICAgICAgICAgIGxvb2tBaGVhZDogMCxcbiAgICAgICAgICAgIHVwZGF0ZUludGVydmFsOiBpc09mZmxpbmVBdWRpb0NvbnRleHQoYXJndW1lbnRzWzBdKSA/XG4gICAgICAgICAgICAgICAgMTI4IC8gYXJndW1lbnRzWzBdLnNhbXBsZVJhdGUgOiAxMjggLyBhcmd1bWVudHNbMl0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk9mZmxpbmVDb250ZXh0XCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnRpZmljaWFsIGNsb2NrIHNvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuICAgICAgICB0aGlzLmlzT2ZmbGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gaXNPZmZsaW5lQXVkaW9Db250ZXh0KGFyZ3VtZW50c1swXSkgP1xuICAgICAgICAgICAgYXJndW1lbnRzWzBdLmxlbmd0aCAvIGFyZ3VtZW50c1swXS5zYW1wbGVSYXRlIDogYXJndW1lbnRzWzFdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgbm93IG1ldGhvZCB0byBwb2ludCB0byB0aGUgaW50ZXJuYWwgY2xvY2sgdGltZVxuICAgICAqL1xuICAgIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHRoaXMubm93KClcbiAgICAgKi9cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGp1c3QgdGhlIGNsb2NrIHBvcnRpb24gb2YgdGhlIGF1ZGlvIGNvbnRleHQuXG4gICAgICovXG4gICAgX3JlbmRlckNsb2NrKGFzeW5jaHJvbm91cykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9kdXJhdGlvbiAtIHRoaXMuX2N1cnJlbnRUaW1lID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpbnZva2UgYWxsIHRoZSBjYWxsYmFja3Mgb24gdGhhdCB0aW1lXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidGlja1wiKTtcbiAgICAgICAgICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGNsb2NrIGluIGJsb2NrLXNpemVkIGNodW5rc1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IDEyOCAvIHRoaXMuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICAvLyB5aWVsZCBvbmNlIGEgc2Vjb25kIG9mIGF1ZGlvXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb25zdCB5aWVsZEV2ZXJ5ID0gTWF0aC5mbG9vcih0aGlzLnNhbXBsZVJhdGUgLyAxMjgpO1xuICAgICAgICAgICAgICAgIGlmIChhc3luY2hyb25vdXMgJiYgaW5kZXggJSB5aWVsZEV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKGRvbmUgPT4gc2V0VGltZW91dChkb25lLCAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvdXRwdXQgb2YgdGhlIE9mZmxpbmVDb250ZXh0XG4gICAgICogQHBhcmFtIGFzeW5jaHJvbm91cyBJZiB0aGUgY2xvY2sgc2hvdWxkIGJlIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5LCB3aGljaCB3aWxsIG5vdCBibG9jayB0aGUgbWFpbiB0aHJlYWQsIGJ1dCBiZSBzbGlnaHRseSBzbG93ZXIuXG4gICAgICovXG4gICAgcmVuZGVyKGFzeW5jaHJvbm91cyA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMud29ya2xldHNBcmVSZWFkeSgpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5fcmVuZGVyQ2xvY2soYXN5bmNocm9ub3VzKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkIHRoaXMuX2NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVG9uZUF1ZGlvQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29udGV4dFxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2ZmbGluZUNvbnRleHQuanMubWFwIiwiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi92ZXJzaW9uXCI7XG5pbXBvcnQgeyBoYXNBdWRpb0NvbnRleHQsIHRoZVdpbmRvdyB9IGZyb20gXCIuL2NvbnRleHQvQXVkaW9Db250ZXh0XCI7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dC9Db250ZXh0XCI7XG5pbXBvcnQgeyBEdW1teUNvbnRleHQgfSBmcm9tIFwiLi9jb250ZXh0L0R1bW15Q29udGV4dFwiO1xuaW1wb3J0IHsgT2ZmbGluZUNvbnRleHQgfSBmcm9tIFwiLi9jb250ZXh0L09mZmxpbmVDb250ZXh0XCI7XG5pbXBvcnQgeyBpc0F1ZGlvQ29udGV4dCwgaXNPZmZsaW5lQXVkaW9Db250ZXh0IH0gZnJvbSBcIi4vdXRpbC9BZHZhbmNlZFR5cGVDaGVja1wiO1xuLyoqXG4gKiBUaGlzIGR1bW15IGNvbnRleHQgaXMgdXNlZCB0byBhdm9pZCB0aHJvd2luZyBpbW1lZGlhdGUgZXJyb3JzIHdoZW4gaW1wb3J0aW5nIGluIE5vZGUuanNcbiAqL1xuY29uc3QgZHVtbXlDb250ZXh0ID0gbmV3IER1bW15Q29udGV4dCgpO1xuLyoqXG4gKiBUaGUgZ2xvYmFsIGF1ZGlvIGNvbnRleHQgd2hpY2ggaXMgZ2V0YWJsZSBhbmQgYXNzaWduYWJsZSB0aHJvdWdoXG4gKiBnZXRDb250ZXh0IGFuZCBzZXRDb250ZXh0XG4gKi9cbmxldCBnbG9iYWxDb250ZXh0ID0gZHVtbXlDb250ZXh0O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHN5c3RlbS13aWRlIFtbQ29udGV4dF1dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICBpZiAoZ2xvYmFsQ29udGV4dCA9PT0gZHVtbXlDb250ZXh0ICYmIGhhc0F1ZGlvQ29udGV4dCkge1xuICAgICAgICBzZXRDb250ZXh0KG5ldyBDb250ZXh0KCkpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsQ29udGV4dDtcbn1cbi8qKlxuICogU2V0IHRoZSBkZWZhdWx0IGF1ZGlvIGNvbnRleHRcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGNvbnRleHQpIHtcbiAgICBpZiAoaXNBdWRpb0NvbnRleHQoY29udGV4dCkpIHtcbiAgICAgICAgZ2xvYmFsQ29udGV4dCA9IG5ldyBDb250ZXh0KGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09mZmxpbmVBdWRpb0NvbnRleHQoY29udGV4dCkpIHtcbiAgICAgICAgZ2xvYmFsQ29udGV4dCA9IG5ldyBPZmZsaW5lQ29udGV4dChjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdsb2JhbENvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbn1cbi8qKlxuICogTW9zdCBicm93c2VycyB3aWxsIG5vdCBwbGF5IF9hbnlfIGF1ZGlvIHVudGlsIGEgdXNlclxuICogY2xpY2tzIHNvbWV0aGluZyAobGlrZSBhIHBsYXkgYnV0dG9uKS4gSW52b2tlIHRoaXMgbWV0aG9kXG4gKiBvbiBhIGNsaWNrIG9yIGtleXByZXNzIGV2ZW50IGhhbmRsZXIgdG8gc3RhcnQgdGhlIGF1ZGlvIGNvbnRleHQuXG4gKiBNb3JlIGFib3V0IHRoZSBBdXRvcGxheSBwb2xpY3lcbiAqIFtoZXJlXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE3LzA5L2F1dG9wbGF5LXBvbGljeS1jaGFuZ2VzI3dlYmF1ZGlvKVxuICogQGV4YW1wbGVcbiAqIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAqIFx0YXdhaXQgVG9uZS5zdGFydCgpO1xuICogXHRjb25zb2xlLmxvZyhcImNvbnRleHQgc3RhcnRlZFwiKTtcbiAqIH0pO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIHJldHVybiBnbG9iYWxDb250ZXh0LnJlc3VtZSgpO1xufVxuLyoqXG4gKiBMb2cgVG9uZS5qcyArIHZlcnNpb24gaW4gdGhlIGNvbnNvbGUuXG4gKi9cbmlmICh0aGVXaW5kb3cgJiYgIXRoZVdpbmRvdy5UT05FX1NJTEVOQ0VfTE9HR0lORykge1xuICAgIGxldCBwcmVmaXggPSBcInZcIjtcbiAgICBpZiAodmVyc2lvbiA9PT0gXCJkZXZcIikge1xuICAgICAgICBwcmVmaXggPSBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBwcmludFN0cmluZyA9IGAgKiBUb25lLmpzICR7cHJlZml4fSR7dmVyc2lvbn0gKiBgO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2coYCVjJHtwcmludFN0cmluZ31gLCBcImJhY2tncm91bmQ6ICMwMDA7IGNvbG9yOiAjZmZmXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xvYmFsLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQmFzZUNvbnRleHQgfSBmcm9tIFwiLi9CYXNlQ29udGV4dFwiO1xuZXhwb3J0IGNsYXNzIER1bW15Q29udGV4dCBleHRlbmRzIEJhc2VDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5sb29rQWhlYWQgPSAwO1xuICAgICAgICB0aGlzLmxhdGVuY3lIaW50ID0gMDtcbiAgICAgICAgdGhpcy5pc09mZmxpbmUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBCQVNFIEFVRElPIENPTlRFWFQgTUVUSE9EU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY3JlYXRlQW5hbHlzZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlT3NjaWxsYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVCdWZmZXJTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlQmlxdWFkRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUJ1ZmZlcihfbnVtYmVyT2ZDaGFubmVscywgX2xlbmd0aCwgX3NhbXBsZVJhdGUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVDaGFubmVsTWVyZ2VyKF9udW1iZXJPZklucHV0cykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZUNoYW5uZWxTcGxpdHRlcihfbnVtYmVyT2ZPdXRwdXRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlQ29uc3RhbnRTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlQ29udm9sdmVyKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZURlbGF5KF9tYXhEZWxheVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlR2FpbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVJSVJGaWx0ZXIoX2ZlZWRGb3J3YXJkLCBfZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjcmVhdGVQYW5uZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlUGVyaW9kaWNXYXZlKF9yZWFsLCBfaW1hZywgX2NvbnN0cmFpbnRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlU3RlcmVvUGFubmVyKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZVdhdmVTaGFwZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoX3N0cmVhbSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShfZWxlbWVudCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZGVjb2RlQXVkaW9EYXRhKF9hdWRpb0RhdGEpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVE9ORSBBVURJTyBDT05URVhUIE1FVEhPRFNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNyZWF0ZUF1ZGlvV29ya2xldE5vZGUoX25hbWUsIF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZ2V0IHJhd0NvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgYWRkQXVkaW9Xb3JrbGV0TW9kdWxlKF91cmwsIF9uYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgc2V0VGltZW91dChfZm4sIF90aW1lb3V0KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoX2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRJbnRlcnZhbChfZm4sIF9pbnRlcnZhbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY2xlYXJJbnRlcnZhbChfaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldENvbnN0YW50KF92YWwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZ2V0IHNhbXBsZVJhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXQgbGlzdGVuZXIoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZ2V0IHRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgZHJhdygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBzZXQgZHJhdyhfZCkgeyB9XG4gICAgZ2V0IGRlc3RpbmF0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHNldCBkZXN0aW5hdGlvbihfZCkgeyB9XG4gICAgbm93KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaW1tZWRpYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EdW1teUNvbnRleHQuanMubWFwIiwiLyoqXG4gKiBFcXVhbCBwb3dlciBnYWluIHNjYWxlLiBHb29kIGZvciBjcm9zcy1mYWRpbmcuXG4gKiBAcGFyYW0gIHBlcmNlbnQgKDAtMSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsUG93ZXJTY2FsZShwZXJjZW50KSB7XG4gICAgY29uc3QgcGlGYWN0b3IgPSAwLjUgKiBNYXRoLlBJO1xuICAgIHJldHVybiBNYXRoLnNpbihwZXJjZW50ICogcGlGYWN0b3IpO1xufVxuLyoqXG4gKiBDb252ZXJ0IGRlY2liZWxzIGludG8gZ2Fpbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRiVG9HYWluKGRiKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KDEwLCBkYiAvIDIwKTtcbn1cbi8qKlxuICogQ29udmVydCBnYWluIHRvIGRlY2liZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2FpblRvRGIoZ2Fpbikge1xuICAgIHJldHVybiAyMCAqIChNYXRoLmxvZyhnYWluKSAvIE1hdGguTE4xMCk7XG59XG4vKipcbiAqIENvbnZlcnQgYW4gaW50ZXJ2YWwgKGluIHNlbWl0b25lcykgdG8gYSBmcmVxdWVuY3kgcmF0aW8uXG4gKiBAcGFyYW0gaW50ZXJ2YWwgdGhlIG51bWJlciBvZiBzZW1pdG9uZXMgYWJvdmUgdGhlIGJhc2Ugbm90ZVxuICogQGV4YW1wbGVcbiAqIFRvbmUuaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKDApOyAvLyAxXG4gKiBUb25lLmludGVydmFsVG9GcmVxdWVuY3lSYXRpbygxMik7IC8vIDJcbiAqIFRvbmUuaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKC0xMik7IC8vIDAuNVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKGludGVydmFsKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KDIsIChpbnRlcnZhbCAvIDEyKSk7XG59XG4vKipcbiAqIFRoZSBHbG9iYWwgW2NvbmNlcnQgdHVuaW5nIHBpdGNoXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db25jZXJ0X3BpdGNoKSB3aGljaCBpcyB1c2VkXG4gKiB0byBnZW5lcmF0ZSBhbGwgdGhlIG90aGVyIHBpdGNoIHZhbHVlcyBmcm9tIG5vdGVzLiBBNCdzIHZhbHVlcyBpbiBIZXJ0ei5cbiAqL1xubGV0IEE0ID0gNDQwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEE0KCkge1xuICAgIHJldHVybiBBNDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRBNChmcmVxKSB7XG4gICAgQTQgPSBmcmVxO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgZnJlcXVlbmN5IHZhbHVlIHRvIGEgTUlESSBub3RlLlxuICogQHBhcmFtIGZyZXF1ZW5jeSBUaGUgdmFsdWUgdG8gZnJlcXVlbmN5IHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAZXhhbXBsZVxuICogVG9uZS5mdG9tKDQ0MCk7IC8vIHJldHVybnMgNjlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ0b20oZnJlcXVlbmN5KSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoZnRvbWYoZnJlcXVlbmN5KSk7XG59XG4vKipcbiAqIENvbnZlcnQgYSBmcmVxdWVuY3kgdG8gYSBmbG9hdGluZyBwb2ludCBtaWRpIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmdG9tZihmcmVxdWVuY3kpIHtcbiAgICByZXR1cm4gNjkgKyAxMiAqIE1hdGgubG9nMihmcmVxdWVuY3kgLyBBNCk7XG59XG4vKipcbiAqIENvbnZlcnQgYSBNSURJIG5vdGUgdG8gZnJlcXVlbmN5IHZhbHVlLlxuICogQHBhcmFtICBtaWRpIFRoZSBtaWRpIG51bWJlciB0byBjb252ZXJ0LlxuICogQHJldHVybiBUaGUgY29ycmVzcG9uZGluZyBmcmVxdWVuY3kgdmFsdWVcbiAqIEBleGFtcGxlXG4gKiBUb25lLm10b2YoNjkpOyAvLyA0NDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG10b2YobWlkaSkge1xuICAgIHJldHVybiBBNCAqIE1hdGgucG93KDIsIChtaWRpIC0gNjkpIC8gMTIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udmVyc2lvbnMuanMubWFwIiwiaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQsIGlzT2JqZWN0LCBpc1N0cmluZywgaXNVbmRlZiB9IGZyb20gXCIuLi91dGlsL1R5cGVDaGVja1wiO1xuLyoqXG4gKiBUaW1lQmFzZSBpcyBhIGZsZXhpYmxlIGVuY29kaW5nIG9mIHRpbWUgd2hpY2ggY2FuIGJlIGV2YWx1YXRlZCB0byBhbmQgZnJvbSBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVCYXNlQ2xhc3MgZXh0ZW5kcyBUb25lIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udGV4dCBUaGUgY29udGV4dCBhc3NvY2lhdGVkIHdpdGggdGhlIHRpbWUgdmFsdWUuIFVzZWQgdG8gY29tcHV0ZVxuICAgICAqIFRyYW5zcG9ydCBhbmQgY29udGV4dC1yZWxhdGl2ZSB0aW1pbmcuXG4gICAgICogQHBhcmFtICB2YWx1ZSAgVGhlIHRpbWUgdmFsdWUgYXMgYSBudW1iZXIsIHN0cmluZyBvciBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHVuaXRzICBVbml0IHZhbHVlc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHZhbHVlLCB1bml0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdW5pdHNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFVuaXRzID0gXCJzXCI7XG4gICAgICAgIHRoaXMuX3ZhbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91bml0cyA9IHVuaXRzO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9leHByZXNzaW9ucyA9IHRoaXMuX2dldEV4cHJlc3Npb25zKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbCBvZiB0aGUgdGltZSBlbmNvZGluZyBleHByZXNzaW9uc1xuICAgICAqL1xuICAgIF9nZXRFeHByZXNzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGh6OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyZXF1ZW5jeVRvVW5pdHMocGFyc2VGbG9hdCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKD86XFwuXFxkKyk/KWh6JC9pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGk6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja3NUb1VuaXRzKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKWkkL2ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWF0c1RvVW5pdHMocGFyc2VJbnQodmFsdWUsIDEwKSAqIHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCspbSQvaSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUsIGRvdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1lcmljVmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsYXIgPSBkb3QgPT09IFwiLlwiID8gMS41IDogMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWVyaWNWYWx1ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlYXRzVG9Vbml0cyh0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkpICogc2NhbGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlYXRzVG9Vbml0cyg0IC8gbnVtZXJpY1ZhbHVlKSAqIHNjYWxhcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKW4oXFwuPykkL2ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cHJlc3Npb25zW3RoaXMuZGVmYXVsdFVuaXRzXS5tZXRob2QuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCsoPzpcXC5cXGQrKT8pJC8sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgczoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWNvbmRzVG9Vbml0cyhwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFxcZCsoPzpcXC5cXGQrKT8pcyQvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhbXBsZXM6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKSAvIHRoaXMuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKXNhbXBsZXMkLyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlYXRzVG9Vbml0cyg4IC8gKE1hdGguZmxvb3IobnVtZXJpY1ZhbHVlKSAqIDMpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oXFxkKyl0JC9pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAobSwgcSwgcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAobSAmJiBtICE9PSBcIjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gdGhpcy5fYmVhdHNUb1VuaXRzKHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSAqIHBhcnNlRmxvYXQobSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChxICYmIHEgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSB0aGlzLl9iZWF0c1RvVW5pdHMocGFyc2VGbG9hdChxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KHMpIC8gNCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKD86XFwuXFxkKyk/KTooXFxkKyg/OlxcLlxcZCspPyk6PyhcXGQrKD86XFwuXFxkKyk/KT8kLyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0VkFMVUUgT0ZcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZSB0aGUgdGltZSB2YWx1ZS4gUmV0dXJucyB0aGUgdGltZSBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIHZhbHVlT2YoKSB7XG4gICAgICAgIGlmICh0aGlzLl92YWwgaW5zdGFuY2VvZiBUaW1lQmFzZUNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmZyb21UeXBlKHRoaXMuX3ZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW5kZWYodGhpcy5fdmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vQXJnKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcodGhpcy5fdmFsKSAmJiBpc1VuZGVmKHRoaXMuX3VuaXRzKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB1bml0cyBpbiB0aGlzLl9leHByZXNzaW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9uc1t1bml0c10ucmVnZXhwLnRlc3QodGhpcy5fdmFsLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdW5pdHMgPSB1bml0cztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX3ZhbCkpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHR5cGVOYW1lIGluIHRoaXMuX3ZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5fdmFsW3R5cGVOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbnRpdHkgPSB0aGlzLl92YWxbdHlwZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSAobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5jb250ZXh0LCB0eXBlTmFtZSkpLnZhbHVlT2YoKSAqIHF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSB0aW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuX3VuaXRzKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwciA9IHRoaXMuX2V4cHJlc3Npb25zW3RoaXMuX3VuaXRzXTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nID0gdGhpcy5fdmFsLnRvU3RyaW5nKCkudHJpbSgpLm1hdGNoKGV4cHIucmVnZXhwKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHByLm1ldGhvZC5hcHBseSh0aGlzLCBtYXRjaGluZy5zbGljZSgxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwci5tZXRob2QuY2FsbCh0aGlzLCB0aGlzLl92YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKHRoaXMuX3ZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMuX3ZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0VU5JVCBDT05WRVJTSU9OU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgZnJlcXVlbmN5IGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX2ZyZXF1ZW5jeVRvVW5pdHMoZnJlcSkge1xuICAgICAgICByZXR1cm4gMSAvIGZyZXE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGJlYXRzIGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX2JlYXRzVG9Vbml0cyhiZWF0cykge1xuICAgICAgICByZXR1cm4gKDYwIC8gdGhpcy5fZ2V0QnBtKCkpICogYmVhdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgc2Vjb25kIGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX3NlY29uZHNUb1VuaXRzKHNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuIHNlY29uZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgdGljayBpbiB0aGUgY3VycmVudCB0aW1lIHVuaXRzXG4gICAgICovXG4gICAgX3RpY2tzVG9Vbml0cyh0aWNrcykge1xuICAgICAgICByZXR1cm4gKHRpY2tzICogKHRoaXMuX2JlYXRzVG9Vbml0cygxKSkgLyB0aGlzLl9nZXRQUFEoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpdGggbm8gYXJndW1lbnRzLCByZXR1cm4gJ25vdydcbiAgICAgKi9cbiAgICBfbm9BcmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3coKTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRURU1QTyBDT05WRVJTSU9OU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYnBtXG4gICAgICovXG4gICAgX2dldEJwbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQuYnBtLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWVTaWduYXR1cmVcbiAgICAgKi9cbiAgICBfZ2V0VGltZVNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQudGltZVNpZ25hdHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBQUFEgb3IgMTkyIGlmIFRyYW5zcG9ydCBpcyBub3QgYXZhaWxhYmxlXG4gICAgICovXG4gICAgX2dldFBQUSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQuUFBRO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdENPTlZFUlNJT04gSU5URVJGQUNFXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogQ29lcmNlIGEgdGltZSB0eXBlIGludG8gdGhpcyB1bml0cyB0eXBlLlxuICAgICAqIEBwYXJhbSB0eXBlIEFueSB0aW1lIHR5cGUgdW5pdHNcbiAgICAgKi9cbiAgICBmcm9tVHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX3VuaXRzID0gdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZGVmYXVsdFVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbCA9IHR5cGUudG9TZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbCA9IHR5cGUudG9UaWNrcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImh6XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsID0gdHlwZS50b0ZyZXF1ZW5jeSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1pZGlcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl92YWwgPSB0eXBlLnRvTWlkaSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIGluIGhlcnR6XG4gICAgICovXG4gICAgdG9GcmVxdWVuY3koKSB7XG4gICAgICAgIHJldHVybiAxIC8gdGhpcy50b1NlY29uZHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIGluIHNhbXBsZXNcbiAgICAgKi9cbiAgICB0b1NhbXBsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU2Vjb25kcygpICogdGhpcy5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgdG9NaWxsaXNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU2Vjb25kcygpICogMTAwMDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lQmFzZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSBcIi4uL0dsb2JhbFwiO1xuaW1wb3J0IHsgZnRvbSB9IGZyb20gXCIuL0NvbnZlcnNpb25zXCI7XG5pbXBvcnQgeyBUaW1lQmFzZUNsYXNzIH0gZnJvbSBcIi4vVGltZUJhc2VcIjtcbi8qKlxuICogVGltZUNsYXNzIGlzIGEgcHJpbWl0aXZlIHR5cGUgZm9yIGVuY29kaW5nIGFuZCBkZWNvZGluZyBUaW1lIHZhbHVlcy5cbiAqIFRpbWVDbGFzcyBjYW4gYmUgcGFzc2VkIGludG8gdGhlIHBhcmFtZXRlciBvZiBhbnkgbWV0aG9kIHdoaWNoIHRha2VzIHRpbWUgYXMgYW4gYXJndW1lbnQuXG4gKiBAcGFyYW0gIHZhbCAgICBUaGUgdGltZSB2YWx1ZS5cbiAqIEBwYXJhbSAgdW5pdHMgIFRoZSB1bml0cyBvZiB0aGUgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGltZSA9IFRvbmUuVGltZShcIjRuXCIpOyAvLyBhIHF1YXJ0ZXIgbm90ZVxuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVDbGFzcyBleHRlbmRzIFRpbWVCYXNlQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRpbWVDbGFzc1wiO1xuICAgIH1cbiAgICBfZ2V0RXhwcmVzc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHN1cGVyLl9nZXRFeHByZXNzaW9ucygpLCB7XG4gICAgICAgICAgICBub3c6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IChjYXB0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub3coKSArIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuY29udGV4dCwgY2FwdHVyZSkudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXlxcKyguKykvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHF1YW50aXplOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAoY2FwdHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFudFRvID0gbmV3IFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIGNhcHR1cmUpLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlY29uZHNUb1VuaXRzKHRoaXMuY29udGV4dC50cmFuc3BvcnQubmV4dFN1YmRpdmlzaW9uKHF1YW50VG8pKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL15AKC4rKS8sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVhbnRpemUgdGhlIHRpbWUgYnkgdGhlIGdpdmVuIHN1YmRpdmlzaW9uLiBPcHRpb25hbGx5IGFkZCBhXG4gICAgICogcGVyY2VudGFnZSB3aGljaCB3aWxsIG1vdmUgdGhlIHRpbWUgdmFsdWUgdG93YXJkcyB0aGUgaWRlYWxcbiAgICAgKiBxdWFudGl6ZWQgdmFsdWUgYnkgdGhhdCBwZXJjZW50YWdlLlxuICAgICAqIEBwYXJhbSAgc3ViZGl2ICAgIFRoZSBzdWJkaXZpc2lvbiB0byBxdWFudGl6ZSB0b1xuICAgICAqIEBwYXJhbSAgcGVyY2VudCAgTW92ZSB0aGUgdGltZSB2YWx1ZSB0b3dhcmRzIHRoZSBxdWFudGl6ZWQgdmFsdWUgYnkgYSBwZXJjZW50YWdlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogVG9uZS5UaW1lKDIxKS5xdWFudGl6ZSgyKTsgLy8gcmV0dXJucyAyMlxuICAgICAqIFRvbmUuVGltZSgwLjYpLnF1YW50aXplKFwiNG5cIiwgMC41KTsgLy8gcmV0dXJucyAwLjU1XG4gICAgICovXG4gICAgcXVhbnRpemUoc3ViZGl2LCBwZXJjZW50ID0gMSkge1xuICAgICAgICBjb25zdCBzdWJkaXZpc2lvbiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuY29udGV4dCwgc3ViZGl2KS52YWx1ZU9mKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZU9mKCk7XG4gICAgICAgIGNvbnN0IG11bHRpcGxlID0gTWF0aC5yb3VuZCh2YWx1ZSAvIHN1YmRpdmlzaW9uKTtcbiAgICAgICAgY29uc3QgaWRlYWwgPSBtdWx0aXBsZSAqIHN1YmRpdmlzaW9uO1xuICAgICAgICBjb25zdCBkaWZmID0gaWRlYWwgLSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlICsgZGlmZiAqIHBlcmNlbnQ7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENPTlZFUlNJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIFRpbWUgdG8gTm90YXRpb24uIFRoZSBub3RhdGlvbiB2YWx1ZXMgYXJlIHdpbGwgYmUgdGhlXG4gICAgICogY2xvc2VzdCByZXByZXNlbnRhdGlvbiBiZXR3ZWVuIDFtIHRvIDEyOHRoIG5vdGUuXG4gICAgICogQHJldHVybiB7Tm90YXRpb259XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBpZiB0aGUgVHJhbnNwb3J0IGlzIGF0IDEyMGJwbTpcbiAgICAgKiBUb25lLlRpbWUoMikudG9Ob3RhdGlvbigpOyAvLyByZXR1cm5zIFwiMW1cIlxuICAgICAqL1xuICAgIHRvTm90YXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSB0aGlzLnRvU2Vjb25kcygpO1xuICAgICAgICBjb25zdCB0ZXN0Tm90YXRpb25zID0gW1wiMW1cIl07XG4gICAgICAgIGZvciAobGV0IHBvd2VyID0gMTsgcG93ZXIgPCA5OyBwb3dlcisrKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJkaXYgPSBNYXRoLnBvdygyLCBwb3dlcik7XG4gICAgICAgICAgICB0ZXN0Tm90YXRpb25zLnB1c2goc3ViZGl2ICsgXCJuLlwiKTtcbiAgICAgICAgICAgIHRlc3ROb3RhdGlvbnMucHVzaChzdWJkaXYgKyBcIm5cIik7XG4gICAgICAgICAgICB0ZXN0Tm90YXRpb25zLnB1c2goc3ViZGl2ICsgXCJ0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHRlc3ROb3RhdGlvbnMucHVzaChcIjBcIik7XG4gICAgICAgIC8vIGZpbmQgdGhlIGNsb3NldHMgbm90YXRpb24gcmVwcmVzZW50YXRpb25cbiAgICAgICAgbGV0IGNsb3Nlc3QgPSB0ZXN0Tm90YXRpb25zWzBdO1xuICAgICAgICBsZXQgY2xvc2VzdFNlY29uZHMgPSBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGVzdE5vdGF0aW9uc1swXSkudG9TZWNvbmRzKCk7XG4gICAgICAgIHRlc3ROb3RhdGlvbnMuZm9yRWFjaChub3RhdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3RhdGlvblNlY29uZHMgPSBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgbm90YXRpb24pLnRvU2Vjb25kcygpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5vdGF0aW9uU2Vjb25kcyAtIHRpbWUpIDwgTWF0aC5hYnMoY2xvc2VzdFNlY29uZHMgLSB0aW1lKSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBub3RhdGlvbjtcbiAgICAgICAgICAgICAgICBjbG9zZXN0U2Vjb25kcyA9IG5vdGF0aW9uU2Vjb25kcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbG9zZXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWUgZW5jb2RlZCBhcyBCYXJzOkJlYXRzOlNpeHRlZW50aHMuXG4gICAgICovXG4gICAgdG9CYXJzQmVhdHNTaXh0ZWVudGhzKCkge1xuICAgICAgICBjb25zdCBxdWFydGVyVGltZSA9IHRoaXMuX2JlYXRzVG9Vbml0cygxKTtcbiAgICAgICAgbGV0IHF1YXJ0ZXJzID0gdGhpcy52YWx1ZU9mKCkgLyBxdWFydGVyVGltZTtcbiAgICAgICAgcXVhcnRlcnMgPSBwYXJzZUZsb2F0KHF1YXJ0ZXJzLnRvRml4ZWQoNCkpO1xuICAgICAgICBjb25zdCBtZWFzdXJlcyA9IE1hdGguZmxvb3IocXVhcnRlcnMgLyB0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkpO1xuICAgICAgICBsZXQgc2l4dGVlbnRocyA9IChxdWFydGVycyAlIDEpICogNDtcbiAgICAgICAgcXVhcnRlcnMgPSBNYXRoLmZsb29yKHF1YXJ0ZXJzKSAlIHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKTtcbiAgICAgICAgY29uc3Qgc2l4dGVlbnRoU3RyaW5nID0gc2l4dGVlbnRocy50b1N0cmluZygpO1xuICAgICAgICBpZiAoc2l4dGVlbnRoU3RyaW5nLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgIC8vIHRoZSBhZGRpdGlvbmFsIHBhcnNlRmxvYXQgcmVtb3ZlcyBpbnNpZ25pZmljYW50IHRyYWlsaW5nIHplcm9lc1xuICAgICAgICAgICAgc2l4dGVlbnRocyA9IHBhcnNlRmxvYXQocGFyc2VGbG9hdChzaXh0ZWVudGhTdHJpbmcpLnRvRml4ZWQoMykpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gW21lYXN1cmVzLCBxdWFydGVycywgc2l4dGVlbnRoc107XG4gICAgICAgIHJldHVybiBwcm9ncmVzcy5qb2luKFwiOlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIGluIHRpY2tzLlxuICAgICAqL1xuICAgIHRvVGlja3MoKSB7XG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJUaW1lID0gdGhpcy5fYmVhdHNUb1VuaXRzKDEpO1xuICAgICAgICBjb25zdCBxdWFydGVycyA9IHRoaXMudmFsdWVPZigpIC8gcXVhcnRlclRpbWU7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHF1YXJ0ZXJzICogdGhpcy5fZ2V0UFBRKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbWUgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICB0b1NlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBhcyBhIG1pZGkgbm90ZS5cbiAgICAgKi9cbiAgICB0b01pZGkoKSB7XG4gICAgICAgIHJldHVybiBmdG9tKHRoaXMudG9GcmVxdWVuY3koKSk7XG4gICAgfVxuICAgIF9ub3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQubm93KCk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBUaW1lQ2xhc3MgZnJvbSBhIHRpbWUgc3RyaW5nIG9yIG51bWJlci4gVGhlIHRpbWUgaXMgY29tcHV0ZWQgYWdhaW5zdCB0aGVcbiAqIGdsb2JhbCBUb25lLkNvbnRleHQuIFRvIHVzZSBhIHNwZWNpZmljIGNvbnRleHQsIHVzZSBbW1RpbWVDbGFzc11dXG4gKiBAcGFyYW0gdmFsdWUgQSB2YWx1ZSB3aGljaCByZXByZXNlbnRzIHRpbWVcbiAqIEBwYXJhbSB1bml0cyBUaGUgdmFsdWUncyB1bml0cyBpZiB0aGV5IGNhbid0IGJlIGluZmVycmVkIGJ5IHRoZSB2YWx1ZS5cbiAqIEBjYXRlZ29yeSBVbml0XG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGltZSA9IFRvbmUuVGltZShcIjRuXCIpLnRvU2Vjb25kcygpO1xuICogY29uc29sZS5sb2codGltZSk7XG4gKiBAZXhhbXBsZVxuICogY29uc3Qgbm90ZSA9IFRvbmUuVGltZSgxKS50b05vdGF0aW9uKCk7XG4gKiBjb25zb2xlLmxvZyhub3RlKTtcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBmcmVxID0gVG9uZS5UaW1lKDAuNSkudG9GcmVxdWVuY3koKTtcbiAqIGNvbnNvbGUubG9nKGZyZXEpO1xuICovXG5leHBvcnQgZnVuY3Rpb24gVGltZSh2YWx1ZSwgdW5pdHMpIHtcbiAgICByZXR1cm4gbmV3IFRpbWVDbGFzcyhnZXRDb250ZXh0KCksIHZhbHVlLCB1bml0cyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lLmpzLm1hcCIsImltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwiLi4vR2xvYmFsXCI7XG5pbXBvcnQgeyBpbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8sIG10b2YgfSBmcm9tIFwiLi9Db252ZXJzaW9uc1wiO1xuaW1wb3J0IHsgZnRvbSwgZ2V0QTQsIHNldEE0IH0gZnJvbSBcIi4vQ29udmVyc2lvbnNcIjtcbmltcG9ydCB7IFRpbWVDbGFzcyB9IGZyb20gXCIuL1RpbWVcIjtcbi8qKlxuICogRnJlcXVlbmN5IGlzIGEgcHJpbWl0aXZlIHR5cGUgZm9yIGVuY29kaW5nIEZyZXF1ZW5jeSB2YWx1ZXMuXG4gKiBFdmVudHVhbGx5IGFsbCB0aW1lIHZhbHVlcyBhcmUgZXZhbHVhdGVkIHRvIGhlcnR6IHVzaW5nIHRoZSBgdmFsdWVPZmAgbWV0aG9kLlxuICogQGV4YW1wbGVcbiAqIFRvbmUuRnJlcXVlbmN5KFwiQzNcIik7IC8vIDI2MVxuICogVG9uZS5GcmVxdWVuY3koMzgsIFwibWlkaVwiKTtcbiAqIFRvbmUuRnJlcXVlbmN5KFwiQzNcIikudHJhbnNwb3NlKDQpO1xuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGNsYXNzIEZyZXF1ZW5jeUNsYXNzIGV4dGVuZHMgVGltZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJGcmVxdWVuY3lcIjtcbiAgICAgICAgdGhpcy5kZWZhdWx0VW5pdHMgPSBcImh6XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBbY29uY2VydCB0dW5pbmcgcGl0Y2hdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbmNlcnRfcGl0Y2gpIHdoaWNoIGlzIHVzZWRcbiAgICAgKiB0byBnZW5lcmF0ZSBhbGwgdGhlIG90aGVyIHBpdGNoIHZhbHVlcyBmcm9tIG5vdGVzLiBBNCdzIHZhbHVlcyBpbiBIZXJ0ei5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEE0KCkge1xuICAgICAgICByZXR1cm4gZ2V0QTQoKTtcbiAgICB9XG4gICAgc3RhdGljIHNldCBBNChmcmVxKSB7XG4gICAgICAgIHNldEE0KGZyZXEpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdEFVR01FTlQgQkFTRSBFWFBSRVNTSU9OU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIF9nZXRFeHByZXNzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN1cGVyLl9nZXRFeHByZXNzaW9ucygpLCB7XG4gICAgICAgICAgICBtaWRpOiB7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXihcXGQrKD86XFwuXFxkKyk/bWlkaSkvLFxuICAgICAgICAgICAgICAgIG1ldGhvZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0VW5pdHMgPT09IFwibWlkaVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRnJlcXVlbmN5Q2xhc3MubXRvZih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdGU6IHtcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFthLWddezF9KD86YnwjfHh8YmIpPykoLT9bMC05XSspL2ksXG4gICAgICAgICAgICAgICAgbWV0aG9kKHBpdGNoLCBvY3RhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBub3RlVG9TY2FsZUluZGV4W3BpdGNoLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RlTnVtYmVyID0gaW5kZXggKyAocGFyc2VJbnQob2N0YXZlLCAxMCkgKyAxKSAqIDEyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0VW5pdHMgPT09IFwibWlkaVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGcmVxdWVuY3lDbGFzcy5tdG9mKG5vdGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oXFxkKyg/OlxcLlxcZCspPyk6KFxcZCsoPzpcXC5cXGQrKT8pOj8oXFxkKyg/OlxcLlxcZCspPyk/LyxcbiAgICAgICAgICAgICAgICBtZXRob2QobSwgcSwgcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobSAmJiBtICE9PSBcIjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgKj0gdGhpcy5fYmVhdHNUb1VuaXRzKHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSAqIHBhcnNlRmxvYXQobSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChxICYmIHEgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCAqPSB0aGlzLl9iZWF0c1RvVW5pdHMocGFyc2VGbG9hdChxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICo9IHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KHMpIC8gNCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRFWFBSRVNTSU9OU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFRyYW5zcG9zZXMgdGhlIGZyZXF1ZW5jeSBieSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIHNlbWl0b25lcy5cbiAgICAgKiBAcmV0dXJuICBBIG5ldyB0cmFuc3Bvc2VkIGZyZXF1ZW5jeVxuICAgICAqIEBleGFtcGxlXG4gICAgICogVG9uZS5GcmVxdWVuY3koXCJBNFwiKS50cmFuc3Bvc2UoMyk7IC8vIFwiQzVcIlxuICAgICAqL1xuICAgIHRyYW5zcG9zZShpbnRlcnZhbCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyZXF1ZW5jeUNsYXNzKHRoaXMuY29udGV4dCwgdGhpcy52YWx1ZU9mKCkgKiBpbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oaW50ZXJ2YWwpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Ygc2VtaXRvbmUgaW50ZXJ2YWxzIGFuZCByZXR1cm5zXG4gICAgICogYW4gYXJyYXkgb2YgZnJlcXVlbmNpZXMgdHJhbnNwb3NlZCBieSB0aG9zZSBpbnRlcnZhbHMuXG4gICAgICogQHJldHVybiAgUmV0dXJucyBhbiBhcnJheSBvZiBGcmVxdWVuY2llc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogVG9uZS5GcmVxdWVuY3koXCJBNFwiKS5oYXJtb25pemUoWzAsIDMsIDddKTsgLy8gW1wiQTRcIiwgXCJDNVwiLCBcIkU1XCJdXG4gICAgICovXG4gICAgaGFybW9uaXplKGludGVydmFscykge1xuICAgICAgICByZXR1cm4gaW50ZXJ2YWxzLm1hcChpbnRlcnZhbCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc3Bvc2UoaW50ZXJ2YWwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRVTklUIENPTlZFUlNJT05TXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZnJlcXVlbmN5IGFzIGEgTUlESSBub3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLkZyZXF1ZW5jeShcIkM0XCIpLnRvTWlkaSgpOyAvLyA2MFxuICAgICAqL1xuICAgIHRvTWlkaSgpIHtcbiAgICAgICAgcmV0dXJuIGZ0b20odGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmcmVxdWVuY3kgaW4gU2NpZW50aWZpYyBQaXRjaCBOb3RhdGlvblxuICAgICAqIEBleGFtcGxlXG4gICAgICogVG9uZS5GcmVxdWVuY3koNjksIFwibWlkaVwiKS50b05vdGUoKTsgLy8gXCJBNFwiXG4gICAgICovXG4gICAgdG9Ob3RlKCkge1xuICAgICAgICBjb25zdCBmcmVxID0gdGhpcy50b0ZyZXF1ZW5jeSgpO1xuICAgICAgICBjb25zdCBsb2cgPSBNYXRoLmxvZzIoZnJlcSAvIEZyZXF1ZW5jeUNsYXNzLkE0KTtcbiAgICAgICAgbGV0IG5vdGVOdW1iZXIgPSBNYXRoLnJvdW5kKDEyICogbG9nKSArIDU3O1xuICAgICAgICBjb25zdCBvY3RhdmUgPSBNYXRoLmZsb29yKG5vdGVOdW1iZXIgLyAxMik7XG4gICAgICAgIGlmIChvY3RhdmUgPCAwKSB7XG4gICAgICAgICAgICBub3RlTnVtYmVyICs9IC0xMiAqIG9jdGF2ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3RlTmFtZSA9IHNjYWxlSW5kZXhUb05vdGVbbm90ZU51bWJlciAlIDEyXTtcbiAgICAgICAgcmV0dXJuIG5vdGVOYW1lICsgb2N0YXZlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZHVyYXRpb24gb2Ygb25lIGN5Y2xlIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgdG9TZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gMSAvIHN1cGVyLnRvU2Vjb25kcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGR1cmF0aW9uIG9mIG9uZSBjeWNsZSBpbiB0aWNrc1xuICAgICAqL1xuICAgIHRvVGlja3MoKSB7XG4gICAgICAgIGNvbnN0IHF1YXJ0ZXJUaW1lID0gdGhpcy5fYmVhdHNUb1VuaXRzKDEpO1xuICAgICAgICBjb25zdCBxdWFydGVycyA9IHRoaXMudmFsdWVPZigpIC8gcXVhcnRlclRpbWU7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHF1YXJ0ZXJzICogdGhpcy5fZ2V0UFBRKCkpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFVOSVQgQ09OVkVSU0lPTlMgSEVMUEVSU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFdpdGggbm8gYXJndW1lbnRzLCByZXR1cm4gMFxuICAgICAqL1xuICAgIF9ub0FyZygpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgZnJlcXVlbmN5IGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX2ZyZXF1ZW5jeVRvVW5pdHMoZnJlcSkge1xuICAgICAgICByZXR1cm4gZnJlcTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSB0aWNrIGluIHRoZSBjdXJyZW50IHRpbWUgdW5pdHNcbiAgICAgKi9cbiAgICBfdGlja3NUb1VuaXRzKHRpY2tzKSB7XG4gICAgICAgIHJldHVybiAxIC8gKCh0aWNrcyAqIDYwKSAvICh0aGlzLl9nZXRCcG0oKSAqIHRoaXMuX2dldFBQUSgpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGJlYXRzIGluIHRoZSBjdXJyZW50IHVuaXRzXG4gICAgICovXG4gICAgX2JlYXRzVG9Vbml0cyhiZWF0cykge1xuICAgICAgICByZXR1cm4gMSAvIHN1cGVyLl9iZWF0c1RvVW5pdHMoYmVhdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIHNlY29uZCBpbiB0aGUgY3VycmVudCB1bml0c1xuICAgICAqL1xuICAgIF9zZWNvbmRzVG9Vbml0cyhzZWNvbmRzKSB7XG4gICAgICAgIHJldHVybiAxIC8gc2Vjb25kcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIE1JREkgbm90ZSB0byBmcmVxdWVuY3kgdmFsdWUuXG4gICAgICogQHBhcmFtICBtaWRpIFRoZSBtaWRpIG51bWJlciB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm4gVGhlIGNvcnJlc3BvbmRpbmcgZnJlcXVlbmN5IHZhbHVlXG4gICAgICovXG4gICAgc3RhdGljIG10b2YobWlkaSkge1xuICAgICAgICByZXR1cm4gbXRvZihtaWRpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIGZyZXF1ZW5jeSB2YWx1ZSB0byBhIE1JREkgbm90ZS5cbiAgICAgKiBAcGFyYW0gZnJlcXVlbmN5IFRoZSB2YWx1ZSB0byBmcmVxdWVuY3kgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnRvbShmcmVxdWVuY3kpIHtcbiAgICAgICAgcmV0dXJuIGZ0b20oZnJlcXVlbmN5KTtcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFx0RlJFUVVFTkNZIENPTlZFUlNJT05TXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogTm90ZSB0byBzY2FsZSBpbmRleC5cbiAqIEBoaWRkZW5cbiAqL1xuY29uc3Qgbm90ZVRvU2NhbGVJbmRleCA9IHtcbiAgICBjYmI6IC0yLCBjYjogLTEsIGM6IDAsIFwiYyNcIjogMSwgY3g6IDIsXG4gICAgZGJiOiAwLCBkYjogMSwgZDogMiwgXCJkI1wiOiAzLCBkeDogNCxcbiAgICBlYmI6IDIsIGViOiAzLCBlOiA0LCBcImUjXCI6IDUsIGV4OiA2LFxuICAgIGZiYjogMywgZmI6IDQsIGY6IDUsIFwiZiNcIjogNiwgZng6IDcsXG4gICAgZ2JiOiA1LCBnYjogNiwgZzogNywgXCJnI1wiOiA4LCBneDogOSxcbiAgICBhYmI6IDcsIGFiOiA4LCBhOiA5LCBcImEjXCI6IDEwLCBheDogMTEsXG4gICAgYmJiOiA5LCBiYjogMTAsIGI6IDExLCBcImIjXCI6IDEyLCBieDogMTMsXG59O1xuLyoqXG4gKiBzY2FsZSBpbmRleCB0byBub3RlIChzaGFycHMpXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IHNjYWxlSW5kZXhUb05vdGUgPSBbXCJDXCIsIFwiQyNcIiwgXCJEXCIsIFwiRCNcIiwgXCJFXCIsIFwiRlwiLCBcIkYjXCIsIFwiR1wiLCBcIkcjXCIsIFwiQVwiLCBcIkEjXCIsIFwiQlwiXTtcbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gYSBGcmVxdWVuY3lDbGFzcyBvYmplY3QuXG4gKiBAY2F0ZWdvcnkgVW5pdFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG1pZGkgPSBUb25lLkZyZXF1ZW5jeShcIkMzXCIpLnRvTWlkaSgpO1xuICogY29uc29sZS5sb2cobWlkaSk7XG4gKiBAZXhhbXBsZVxuICogY29uc3QgaGVydHogPSBUb25lLkZyZXF1ZW5jeSgzOCwgXCJtaWRpXCIpLnRvRnJlcXVlbmN5KCk7XG4gKiBjb25zb2xlLmxvZyhoZXJ0eik7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcmVxdWVuY3kodmFsdWUsIHVuaXRzKSB7XG4gICAgcmV0dXJuIG5ldyBGcmVxdWVuY3lDbGFzcyhnZXRDb250ZXh0KCksIHZhbHVlLCB1bml0cyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GcmVxdWVuY3kuanMubWFwIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gXCIuLi9HbG9iYWxcIjtcbmltcG9ydCB7IFRpbWVDbGFzcyB9IGZyb20gXCIuL1RpbWVcIjtcbi8qKlxuICogVHJhbnNwb3J0VGltZSBpcyBhIHRoZSB0aW1lIGFsb25nIHRoZSBUcmFuc3BvcnQnc1xuICogdGltZWxpbmUuIEl0IGlzIHNpbWlsYXIgdG8gVG9uZS5UaW1lLCBidXQgaW5zdGVhZCBvZiBldmFsdWF0aW5nXG4gKiBhZ2FpbnN0IHRoZSBBdWRpb0NvbnRleHQncyBjbG9jaywgaXQgaXMgZXZhbHVhdGVkIGFnYWluc3RcbiAqIHRoZSBUcmFuc3BvcnQncyBwb3NpdGlvbi4gU2VlIFtUcmFuc3BvcnRUaW1lIHdpa2ldKGh0dHBzOi8vZ2l0aHViLmNvbS9Ub25lanMvVG9uZS5qcy93aWtpL1RyYW5zcG9ydFRpbWUpLlxuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydFRpbWVDbGFzcyBleHRlbmRzIFRpbWVDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhbnNwb3J0VGltZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdGltZSBpbiB3aGljaGV2ZXIgY29udGV4dCBpcyByZWxldmFudFxuICAgICAqL1xuICAgIF9ub3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHM7XG4gICAgfVxufVxuLyoqXG4gKiBUcmFuc3BvcnRUaW1lIGlzIGEgdGhlIHRpbWUgYWxvbmcgdGhlIFRyYW5zcG9ydCdzXG4gKiB0aW1lbGluZS4gSXQgaXMgc2ltaWxhciB0byBbW1RpbWVdXSwgYnV0IGluc3RlYWQgb2YgZXZhbHVhdGluZ1xuICogYWdhaW5zdCB0aGUgQXVkaW9Db250ZXh0J3MgY2xvY2ssIGl0IGlzIGV2YWx1YXRlZCBhZ2FpbnN0XG4gKiB0aGUgVHJhbnNwb3J0J3MgcG9zaXRpb24uIFNlZSBbVHJhbnNwb3J0VGltZSB3aWtpXShodHRwczovL2dpdGh1Yi5jb20vVG9uZWpzL1RvbmUuanMvd2lraS9UcmFuc3BvcnRUaW1lKS5cbiAqIEBjYXRlZ29yeSBVbml0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc3BvcnRUaW1lKHZhbHVlLCB1bml0cykge1xuICAgIHJldHVybiBuZXcgVHJhbnNwb3J0VGltZUNsYXNzKGdldENvbnRleHQoKSwgdmFsdWUsIHVuaXRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zcG9ydFRpbWUuanMubWFwIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gXCIuLi9HbG9iYWxcIjtcbmltcG9ydCB7IFRvbmUgfSBmcm9tIFwiLi4vVG9uZVwiO1xuaW1wb3J0IHsgRnJlcXVlbmN5Q2xhc3MgfSBmcm9tIFwiLi4vdHlwZS9GcmVxdWVuY3lcIjtcbmltcG9ydCB7IFRpbWVDbGFzcyB9IGZyb20gXCIuLi90eXBlL1RpbWVcIjtcbmltcG9ydCB7IFRyYW5zcG9ydFRpbWVDbGFzcyB9IGZyb20gXCIuLi90eXBlL1RyYW5zcG9ydFRpbWVcIjtcbmltcG9ydCB7IGdldERlZmF1bHRzRnJvbUluc3RhbmNlLCBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Jvb2xlYW4sIGlzRGVmaW5lZCwgaXNOdW1iZXIsIGlzU3RyaW5nLCBpc1VuZGVmIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG4vKipcbiAqIFRoZSBCYXNlIGNsYXNzIGZvciBhbGwgbm9kZXMgdGhhdCBoYXZlIGFuIEF1ZGlvQ29udGV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvbmVXaXRoQ29udGV4dCBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVG9uZVdpdGhDb250ZXh0LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiY29udGV4dFwiXSk7XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmRlZmF1bHRDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGdldENvbnRleHQoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIENvbnRleHQgY2xvY2sgcGx1cyB0aGUgbG9va0FoZWFkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqIFx0Y29uc29sZS5sb2coVG9uZS5ub3coKSk7XG4gICAgICogfSwgMTAwKTtcbiAgICAgKi9cbiAgICBub3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyB0aGlzLmNvbnRleHQubG9va0FoZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgQ29udGV4dCBjbG9jayB3aXRob3V0IGFueSBsb29rQWhlYWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogXHRjb25zb2xlLmxvZyhUb25lLmltbWVkaWF0ZSgpKTtcbiAgICAgKiB9LCAxMDApO1xuICAgICAqL1xuICAgIGltbWVkaWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jdXJyZW50VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGR1cmF0aW9uIGluIHNlY29uZHMgb2Ygb25lIHNhbXBsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnNvbGUubG9nKFRvbmUuVHJhbnNwb3J0LnNhbXBsZVRpbWUpO1xuICAgICAqL1xuICAgIGdldCBzYW1wbGVUaW1lKCkge1xuICAgICAgICByZXR1cm4gMSAvIHRoaXMuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHNlY29uZHMgb2YgMSBwcm9jZXNzaW5nIGJsb2NrICgxMjggc2FtcGxlcylcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnNvbGUubG9nKFRvbmUuRGVzdGluYXRpb24uYmxvY2tUaW1lKTtcbiAgICAgKi9cbiAgICBnZXQgYmxvY2tUaW1lKCkge1xuICAgICAgICByZXR1cm4gMTI4IC8gdGhpcy5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIGluY29taW5nIHRpbWUgdG8gc2Vjb25kcy5cbiAgICAgKiBUaGlzIGlzIGNhbGN1bGF0ZWQgYWdhaW5zdCB0aGUgY3VycmVudCBbW1RvbmUuVHJhbnNwb3J0XV0gYnBtXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBnYWluID0gbmV3IFRvbmUuR2FpbigpO1xuICAgICAqIHNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKGdhaW4udG9TZWNvbmRzKFwiNG5cIikpLCAxMDApO1xuICAgICAqIC8vIHJhbXAgdGhlIHRlbXBvIHRvIDYwIGJwbSBvdmVyIDMwIHNlY29uZHNcbiAgICAgKiBUb25lLmdldFRyYW5zcG9ydCgpLmJwbS5yYW1wVG8oNjAsIDMwKTtcbiAgICAgKi9cbiAgICB0b1NlY29uZHModGltZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIHRpbWUpLnRvU2Vjb25kcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBpbnB1dCB0byBhIGZyZXF1ZW5jeSBudW1iZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdhaW4gPSBuZXcgVG9uZS5HYWluKCk7XG4gICAgICogY29uc29sZS5sb2coZ2Fpbi50b0ZyZXF1ZW5jeShcIjRuXCIpKTtcbiAgICAgKi9cbiAgICB0b0ZyZXF1ZW5jeShmcmVxKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJlcXVlbmN5Q2xhc3ModGhpcy5jb250ZXh0LCBmcmVxKS50b0ZyZXF1ZW5jeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBpbnB1dCB0aW1lIGludG8gdGlja3NcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdhaW4gPSBuZXcgVG9uZS5HYWluKCk7XG4gICAgICogY29uc29sZS5sb2coZ2Fpbi50b1RpY2tzKFwiNG5cIikpO1xuICAgICAqL1xuICAgIHRvVGlja3ModGltZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zcG9ydFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIHRpbWUpLnRvVGlja3MoKTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRHRVQvU0VUXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBpbiB0aGUgcGFydGlhbCBwcm9wc1xuICAgICAqL1xuICAgIF9nZXRQYXJ0aWFsUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXQoKTtcbiAgICAgICAgLy8gcmVtb3ZlIGF0dHJpYnV0ZXMgZnJvbSB0aGUgcHJvcCB0aGF0IGFyZSBub3QgaW4gdGhlIHBhcnRpYWxcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGlmIChpc1VuZGVmKHByb3BzW25hbWVdKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb2JqZWN0J3MgYXR0cmlidXRlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhvc2MuZ2V0KCkpO1xuICAgICAqL1xuICAgIGdldCgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBnZXREZWZhdWx0c0Zyb21JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgT2JqZWN0LmtleXMoZGVmYXVsdHMpLmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICAgICAgICAgIGlmIChSZWZsZWN0Lmhhcyh0aGlzLCBhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpc1thdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQobWVtYmVyKSAmJiBpc0RlZmluZWQobWVtYmVyLnZhbHVlKSAmJiBpc0RlZmluZWQobWVtYmVyLnNldFZhbHVlQXRUaW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0c1thdHRyaWJ1dGVdID0gbWVtYmVyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtZW1iZXIgaW5zdGFuY2VvZiBUb25lV2l0aENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHNbYXR0cmlidXRlXSA9IG1lbWJlci5fZ2V0UGFydGlhbFByb3BlcnRpZXMoZGVmYXVsdHNbYXR0cmlidXRlXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBtYWtlIHN1cmUgaXQncyBhIHNlcmlhbGl6YWJsZSB0eXBlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkobWVtYmVyKSB8fCBpc051bWJlcihtZW1iZXIpIHx8IGlzU3RyaW5nKG1lbWJlcikgfHwgaXNCb29sZWFuKG1lbWJlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHNbYXR0cmlidXRlXSA9IG1lbWJlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgdW5kZWZpbmVkIGFuZCB1bnNlcmlhbGl6YWJsZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWZhdWx0c1thdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG11bHRpcGxlIHByb3BlcnRpZXMgYXQgb25jZSB3aXRoIGFuIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZpbHRlciA9IG5ldyBUb25lLkZpbHRlcigpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiAvLyBzZXQgdmFsdWVzIHVzaW5nIGFuIG9iamVjdFxuICAgICAqIGZpbHRlci5zZXQoe1xuICAgICAqIFx0ZnJlcXVlbmN5OiBcIkM2XCIsXG4gICAgICogXHR0eXBlOiBcImhpZ2hwYXNzXCJcbiAgICAgKiB9KTtcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vYmVya2xlZS9BbmFsb2dzeW50aF9vY3RhdmVzX2hpZ2htaWQubXAzXCIpLmNvbm5lY3QoZmlsdGVyKTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBzZXQocHJvcHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICAgICAgICAgIGlmIChSZWZsZWN0Lmhhcyh0aGlzLCBhdHRyaWJ1dGUpICYmIGlzRGVmaW5lZCh0aGlzW2F0dHJpYnV0ZV0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbYXR0cmlidXRlXSAmJiBpc0RlZmluZWQodGhpc1thdHRyaWJ1dGVdLnZhbHVlKSAmJiBpc0RlZmluZWQodGhpc1thdHRyaWJ1dGVdLnNldFZhbHVlQXRUaW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzbWFsbCBvcHRpbWl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbYXR0cmlidXRlXS52YWx1ZSAhPT0gcHJvcHNbYXR0cmlidXRlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1thdHRyaWJ1dGVdLnZhbHVlID0gcHJvcHNbYXR0cmlidXRlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzW2F0dHJpYnV0ZV0gaW5zdGFuY2VvZiBUb25lV2l0aENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1thdHRyaWJ1dGVdLnNldChwcm9wc1thdHRyaWJ1dGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYXR0cmlidXRlXSA9IHByb3BzW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZVdpdGhDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IFRpbWVsaW5lIH0gZnJvbSBcIi4vVGltZWxpbmVcIjtcbmltcG9ydCB7IGFzc2VydFJhbmdlIH0gZnJvbSBcIi4vRGVidWdcIjtcbi8qKlxuICogQSBUaW1lbGluZSBTdGF0ZS4gUHJvdmlkZXMgdGhlIG1ldGhvZHM6IGBzZXRTdGF0ZUF0VGltZShcInN0YXRlXCIsIHRpbWUpYCBhbmQgYGdldFZhbHVlQXRUaW1lKHRpbWUpYFxuICogQHBhcmFtIGluaXRpYWwgVGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIFN0YXRlVGltZWxpbmUuICBEZWZhdWx0cyB0byBgdW5kZWZpbmVkYFxuICovXG5leHBvcnQgY2xhc3MgU3RhdGVUaW1lbGluZSBleHRlbmRzIFRpbWVsaW5lIHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsID0gXCJzdG9wcGVkXCIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTdGF0ZVRpbWVsaW5lXCI7XG4gICAgICAgIHRoaXMuX2luaXRpYWwgPSBpbml0aWFsO1xuICAgICAgICB0aGlzLnNldFN0YXRlQXRUaW1lKHRoaXMuX2luaXRpYWwsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzY2hlZHVsZWQgc3RhdGUgc2NoZWR1bGVkIGJlZm9yZSBvciBhdFxuICAgICAqIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgVGhlIHRpbWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybiAgVGhlIG5hbWUgb2YgdGhlIHN0YXRlIGlucHV0IGluIHNldFN0YXRlQXRUaW1lLlxuICAgICAqL1xuICAgIGdldFZhbHVlQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmdldCh0aW1lKTtcbiAgICAgICAgaWYgKGV2ZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBzdGF0ZSB0byB0aGUgdGltZWxpbmUuXG4gICAgICogQHBhcmFtICBzdGF0ZSBUaGUgbmFtZSBvZiB0aGUgc3RhdGUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSAgdGltZSAgVGhlIHRpbWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQW55IGFkZGl0aW9uYWwgb3B0aW9ucyB0aGF0IGFyZSBuZWVkZWQgaW4gdGhlIHRpbWVsaW5lLlxuICAgICAqL1xuICAgIHNldFN0YXRlQXRUaW1lKHN0YXRlLCB0aW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydFJhbmdlKHRpbWUsIDApO1xuICAgICAgICB0aGlzLmFkZChPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHRpbWUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZXZlbnQgYmVmb3JlIHRoZSB0aW1lIHdpdGggdGhlIGdpdmVuIHN0YXRlXG4gICAgICogQHBhcmFtICBzdGF0ZSBUaGUgc3RhdGUgdG8gbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gY2hlY2sgYmVmb3JlXG4gICAgICogQHJldHVybiAgVGhlIGV2ZW50IHdpdGggdGhlIGdpdmVuIHN0YXRlIGJlZm9yZSB0aGUgdGltZVxuICAgICAqL1xuICAgIGdldExhc3RTdGF0ZShzdGF0ZSwgdGltZSkge1xuICAgICAgICAvLyB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUpO1xuICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX3RpbWVsaW5lW2ldO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGV2ZW50IGFmdGVyIHRoZSB0aW1lIHdpdGggdGhlIGdpdmVuIHN0YXRlXG4gICAgICogQHBhcmFtICBzdGF0ZSBUaGUgc3RhdGUgdG8gbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gY2hlY2sgZnJvbVxuICAgICAqIEByZXR1cm4gIFRoZSBldmVudCB3aXRoIHRoZSBnaXZlbiBzdGF0ZSBhZnRlciB0aGUgdGltZVxuICAgICAqL1xuICAgIGdldE5leHRTdGF0ZShzdGF0ZSwgdGltZSkge1xuICAgICAgICAvLyB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VhcmNoKHRpbWUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCB0aGlzLl90aW1lbGluZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fdGltZWxpbmVbaV07XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGVUaW1lbGluZS5qcy5tYXAiLCJpbXBvcnQgeyBkYlRvR2FpbiwgZ2FpblRvRGIgfSBmcm9tIFwiLi4vdHlwZS9Db252ZXJzaW9uc1wiO1xuaW1wb3J0IHsgaXNBdWRpb1BhcmFtIH0gZnJvbSBcIi4uL3V0aWwvQWR2YW5jZWRUeXBlQ2hlY2tcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFRpbWVsaW5lIH0gZnJvbSBcIi4uL3V0aWwvVGltZWxpbmVcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCB9IGZyb20gXCIuLi91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgVG9uZVdpdGhDb250ZXh0IH0gZnJvbSBcIi4vVG9uZVdpdGhDb250ZXh0XCI7XG5pbXBvcnQgeyBFUSB9IGZyb20gXCIuLi91dGlsL01hdGhcIjtcbmltcG9ydCB7IGFzc2VydCwgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBQYXJhbSB3cmFwcyB0aGUgbmF0aXZlIFdlYiBBdWRpbydzIEF1ZGlvUGFyYW0gdG8gcHJvdmlkZVxuICogYWRkaXRpb25hbCB1bml0IGNvbnZlcnNpb24gZnVuY3Rpb25hbGl0eS4gSXQgYWxzb1xuICogc2VydmVzIGFzIGEgYmFzZS1jbGFzcyBmb3IgY2xhc3NlcyB3aGljaCBoYXZlIGEgc2luZ2xlLFxuICogYXV0b21hdGFibGUgcGFyYW1ldGVyLlxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcmFtIGV4dGVuZHMgVG9uZVdpdGhDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoUGFyYW0uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJwYXJhbVwiLCBcInVuaXRzXCIsIFwiY29udmVydFwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBhcmFtXCI7XG4gICAgICAgIHRoaXMub3ZlcnJpZGRlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pbmltdW0gb3V0cHV0IHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5PdXRwdXQgPSAxZS03O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoUGFyYW0uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJwYXJhbVwiLCBcInVuaXRzXCIsIFwiY29udmVydFwiXSk7XG4gICAgICAgIGFzc2VydChpc0RlZmluZWQob3B0aW9ucy5wYXJhbSkgJiZcbiAgICAgICAgICAgIChpc0F1ZGlvUGFyYW0ob3B0aW9ucy5wYXJhbSkgfHwgb3B0aW9ucy5wYXJhbSBpbnN0YW5jZW9mIFBhcmFtKSwgXCJwYXJhbSBtdXN0IGJlIGFuIEF1ZGlvUGFyYW1cIik7XG4gICAgICAgIHdoaWxlICghaXNBdWRpb1BhcmFtKG9wdGlvbnMucGFyYW0pKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmFtID0gb3B0aW9ucy5wYXJhbS5fcGFyYW07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3dhcHBhYmxlID0gaXNEZWZpbmVkKG9wdGlvbnMuc3dhcHBhYmxlKSA/IG9wdGlvbnMuc3dhcHBhYmxlIDogZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9zd2FwcGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5fcGFyYW0gPSBvcHRpb25zLnBhcmFtO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuX3BhcmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtID0gdGhpcy5pbnB1dCA9IG9wdGlvbnMucGFyYW07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IFRpbWVsaW5lKDEwMDApO1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsdWUgPSB0aGlzLl9wYXJhbS5kZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMudW5pdHMgPSBvcHRpb25zLnVuaXRzO1xuICAgICAgICB0aGlzLmNvbnZlcnQgPSBvcHRpb25zLmNvbnZlcnQ7XG4gICAgICAgIHRoaXMuX21pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTtcbiAgICAgICAgdGhpcy5fbWF4VmFsdWUgPSBvcHRpb25zLm1heFZhbHVlO1xuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCwgc2V0IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy52YWx1ZSkgJiYgb3B0aW9ucy52YWx1ZSAhPT0gdGhpcy5fdG9UeXBlKHRoaXMuX2luaXRpYWxWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVBdFRpbWUob3B0aW9ucy52YWx1ZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lV2l0aENvbnRleHQuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgY29udmVydDogdHJ1ZSxcbiAgICAgICAgICAgIHVuaXRzOiBcIm51bWJlclwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZShub3cpO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy5ub3coKSk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVBdFRpbWUodmFsdWUsIHRoaXMubm93KCkpO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIC8vIGlmIGl0J3Mgbm90IHRoZSBkZWZhdWx0IG1pblZhbHVlLCByZXR1cm4gaXRcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLl9taW5WYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taW5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVuaXRzID09PSBcInRpbWVcIiB8fCB0aGlzLnVuaXRzID09PSBcImZyZXF1ZW5jeVwiIHx8XG4gICAgICAgICAgICB0aGlzLnVuaXRzID09PSBcIm5vcm1hbFJhbmdlXCIgfHwgdGhpcy51bml0cyA9PT0gXCJwb3NpdGl2ZVwiIHx8XG4gICAgICAgICAgICB0aGlzLnVuaXRzID09PSBcInRyYW5zcG9ydFRpbWVcIiB8fCB0aGlzLnVuaXRzID09PSBcInRpY2tzXCIgfHxcbiAgICAgICAgICAgIHRoaXMudW5pdHMgPT09IFwiYnBtXCIgfHwgdGhpcy51bml0cyA9PT0gXCJoZXJ0elwiIHx8IHRoaXMudW5pdHMgPT09IFwic2FtcGxlc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVuaXRzID09PSBcImF1ZGlvUmFuZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudW5pdHMgPT09IFwiZGVjaWJlbHNcIikge1xuICAgICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5taW5WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5fbWF4VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy51bml0cyA9PT0gXCJub3JtYWxSYW5nZVwiIHx8XG4gICAgICAgICAgICB0aGlzLnVuaXRzID09PSBcImF1ZGlvUmFuZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW0ubWF4VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCBiYXNlZCBvbiB0aGUgdW5pdCBuYW1lXG4gICAgICovXG4gICAgX2lzKGFyZywgdHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51bml0cyA9PT0gdHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIHRoZSB2YWx1ZSBpcyBhbHdheXMgaW4gdGhlIGRlZmluZWQgcmFuZ2VcbiAgICAgKi9cbiAgICBfYXNzZXJ0UmFuZ2UodmFsdWUpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLm1heFZhbHVlKSAmJiBpc0RlZmluZWQodGhpcy5taW5WYWx1ZSkpIHtcbiAgICAgICAgICAgIGFzc2VydFJhbmdlKHZhbHVlLCB0aGlzLl9mcm9tVHlwZSh0aGlzLm1pblZhbHVlKSwgdGhpcy5fZnJvbVR5cGUodGhpcy5tYXhWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgZ2l2ZW4gdmFsdWUgZnJvbSB0aGUgdHlwZSBzcGVjaWZpZWQgYnkgUGFyYW0udW5pdHNcbiAgICAgKiBpbnRvIHRoZSBkZXN0aW5hdGlvbiB2YWx1ZSAoc3VjaCBhcyBHYWluIG9yIEZyZXF1ZW5jeSkuXG4gICAgICovXG4gICAgX2Zyb21UeXBlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5jb252ZXJ0ICYmICF0aGlzLm92ZXJyaWRkZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pcyh2YWwsIFwidGltZVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvU2Vjb25kcyh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5faXModmFsLCBcImRlY2liZWxzXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiVG9HYWluKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9pcyh2YWwsIFwiZnJlcXVlbmN5XCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9GcmVxdWVuY3kodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vdmVycmlkZGVuKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCdzIG92ZXJyaWRkZW4sIHNob3VsZCBvbmx5IHNjaGVkdWxlIDBzXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgcGFyYW1ldGVycyB2YWx1ZSBpbnRvIHRoZSB1bml0cyBzcGVjaWZpZWQgYnkgUGFyYW0udW5pdHMuXG4gICAgICovXG4gICAgX3RvVHlwZSh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udmVydCAmJiB0aGlzLnVuaXRzID09PSBcImRlY2liZWxzXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBnYWluVG9EYih2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBQlNUUkFDVCBQQVJBTSBJTlRFUkZBQ0VcbiAgICAvLyBhbGwgZG9jcyBhcmUgZ2VuZXJhdGVkIGZyb20gUGFyYW1JbnRlcmZhY2UudHNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBzZXRWYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgbnVtZXJpY1ZhbHVlID0gdGhpcy5fZnJvbVR5cGUodmFsdWUpO1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUobnVtZXJpY1ZhbHVlKSAmJiBpc0Zpbml0ZShjb21wdXRlZFRpbWUpLCBgSW52YWxpZCBhcmd1bWVudChzKSB0byBzZXRWYWx1ZUF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LCAke0pTT04uc3RyaW5naWZ5KHRpbWUpfWApO1xuICAgICAgICB0aGlzLl9hc3NlcnRSYW5nZShudW1lcmljVmFsdWUpO1xuICAgICAgICB0aGlzLmxvZyh0aGlzLnVuaXRzLCBcInNldFZhbHVlQXRUaW1lXCIsIHZhbHVlLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9ldmVudHMuYWRkKHtcbiAgICAgICAgICAgIHRpbWU6IGNvbXB1dGVkVGltZSxcbiAgICAgICAgICAgIHR5cGU6IFwic2V0VmFsdWVBdFRpbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiBudW1lcmljVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZShudW1lcmljVmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRWYWx1ZUF0VGltZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IE1hdGgubWF4KHRoaXMudG9TZWNvbmRzKHRpbWUpLCAwKTtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSB0aGlzLl9ldmVudHMuZ2V0QWZ0ZXIoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gdGhpcy5fZXZlbnRzLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG4gICAgICAgIC8vIGlmIGl0IHdhcyBzZXQgYnlcbiAgICAgICAgaWYgKGJlZm9yZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmVmb3JlLnR5cGUgPT09IFwic2V0VGFyZ2V0QXRUaW1lXCIgJiYgKGFmdGVyID09PSBudWxsIHx8IGFmdGVyLnR5cGUgPT09IFwic2V0VmFsdWVBdFRpbWVcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fZXZlbnRzLmdldEJlZm9yZShiZWZvcmUudGltZSk7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNWYWw7XG4gICAgICAgICAgICBpZiAocHJldmlvdXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbCA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsID0gcHJldmlvdXMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVmb3JlLnR5cGUgPT09IFwic2V0VGFyZ2V0QXRUaW1lXCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2V4cG9uZW50aWFsQXBwcm9hY2goYmVmb3JlLnRpbWUsIHByZXZpb3VzVmFsLCBiZWZvcmUudmFsdWUsIGJlZm9yZS5jb25zdGFudCwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZnRlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsdWUgPSBiZWZvcmUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWZ0ZXIudHlwZSA9PT0gXCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiIHx8IGFmdGVyLnR5cGUgPT09IFwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZVwiKSB7XG4gICAgICAgICAgICBsZXQgYmVmb3JlVmFsdWUgPSBiZWZvcmUudmFsdWU7XG4gICAgICAgICAgICBpZiAoYmVmb3JlLnR5cGUgPT09IFwic2V0VGFyZ2V0QXRUaW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX2V2ZW50cy5nZXRCZWZvcmUoYmVmb3JlLnRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVWYWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVZhbHVlID0gcHJldmlvdXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFmdGVyLnR5cGUgPT09IFwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fbGluZWFySW50ZXJwb2xhdGUoYmVmb3JlLnRpbWUsIGJlZm9yZVZhbHVlLCBhZnRlci50aW1lLCBhZnRlci52YWx1ZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZXhwb25lbnRpYWxJbnRlcnBvbGF0ZShiZWZvcmUudGltZSwgYmVmb3JlVmFsdWUsIGFmdGVyLnRpbWUsIGFmdGVyLnZhbHVlLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiZWZvcmUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvVHlwZSh2YWx1ZSk7XG4gICAgfVxuICAgIHNldFJhbXBQb2ludCh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWwgPSB0aGlzLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgICAgICB0aGlzLmNhbmNlbEFuZEhvbGRBdFRpbWUodGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9mcm9tVHlwZShjdXJyZW50VmFsKSA9PT0gMCkge1xuICAgICAgICAgICAgY3VycmVudFZhbCA9IHRoaXMuX3RvVHlwZSh0aGlzLl9taW5PdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0VmFsdWVBdFRpbWUoY3VycmVudFZhbCwgdGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgZW5kVGltZSkge1xuICAgICAgICBjb25zdCBudW1lcmljVmFsdWUgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKGVuZFRpbWUpO1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUobnVtZXJpY1ZhbHVlKSAmJiBpc0Zpbml0ZShjb21wdXRlZFRpbWUpLCBgSW52YWxpZCBhcmd1bWVudChzKSB0byBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LCAke0pTT04uc3RyaW5naWZ5KGVuZFRpbWUpfWApO1xuICAgICAgICB0aGlzLl9hc3NlcnRSYW5nZShudW1lcmljVmFsdWUpO1xuICAgICAgICB0aGlzLl9ldmVudHMuYWRkKHtcbiAgICAgICAgICAgIHRpbWU6IGNvbXB1dGVkVGltZSxcbiAgICAgICAgICAgIHR5cGU6IFwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiBudW1lcmljVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvZyh0aGlzLnVuaXRzLCBcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIsIHZhbHVlLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9wYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShudW1lcmljVmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCBlbmRUaW1lKSB7XG4gICAgICAgIGxldCBudW1lcmljVmFsdWUgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIC8vIHRoZSB2YWx1ZSBjYW4ndCBiZSAwXG4gICAgICAgIG51bWVyaWNWYWx1ZSA9IEVRKG51bWVyaWNWYWx1ZSwgMCkgPyB0aGlzLl9taW5PdXRwdXQgOiBudW1lcmljVmFsdWU7XG4gICAgICAgIHRoaXMuX2Fzc2VydFJhbmdlKG51bWVyaWNWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKGVuZFRpbWUpO1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUobnVtZXJpY1ZhbHVlKSAmJiBpc0Zpbml0ZShjb21wdXRlZFRpbWUpLCBgSW52YWxpZCBhcmd1bWVudChzKSB0byBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0sICR7SlNPTi5zdHJpbmdpZnkoZW5kVGltZSl9YCk7XG4gICAgICAgIC8vIHN0b3JlIHRoZSBldmVudFxuICAgICAgICB0aGlzLl9ldmVudHMuYWRkKHtcbiAgICAgICAgICAgIHRpbWU6IGNvbXB1dGVkVGltZSxcbiAgICAgICAgICAgIHR5cGU6IFwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9nKHRoaXMudW5pdHMsIFwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZVwiLCB2YWx1ZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShudW1lcmljVmFsdWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBleHBvbmVudGlhbFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLnNldFJhbXBQb2ludChzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSArIHRoaXMudG9TZWNvbmRzKHJhbXBUaW1lKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsaW5lYXJSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gdGhpcy50b1NlY29uZHMoc3RhcnRUaW1lKTtcbiAgICAgICAgdGhpcy5zZXRSYW1wUG9pbnQoc3RhcnRUaW1lKTtcbiAgICAgICAgdGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lICsgdGhpcy50b1NlY29uZHMocmFtcFRpbWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRhcmdldFJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLnNldFJhbXBQb2ludChzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLmV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lLCByYW1wVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBleHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUsIHJhbXBUaW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgcmFtcFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhyYW1wVGltZSk7XG4gICAgICAgIGNvbnN0IHRpbWVDb25zdGFudCA9IE1hdGgubG9nKHJhbXBUaW1lICsgMSkgLyBNYXRoLmxvZygyMDApO1xuICAgICAgICB0aGlzLnNldFRhcmdldEF0VGltZSh2YWx1ZSwgdGltZSwgdGltZUNvbnN0YW50KTtcbiAgICAgICAgLy8gYXQgOTAlIHN0YXJ0IGEgbGluZWFyIHJhbXAgdG8gdGhlIGZpbmFsIHZhbHVlXG4gICAgICAgIHRoaXMuY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lICsgcmFtcFRpbWUgKiAwLjkpO1xuICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lICsgcmFtcFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLCBzdGFydFRpbWUsIHRpbWVDb25zdGFudCkge1xuICAgICAgICBjb25zdCBudW1lcmljVmFsdWUgPSB0aGlzLl9mcm9tVHlwZSh2YWx1ZSk7XG4gICAgICAgIC8vIFRoZSB2YWx1ZSB3aWxsIG5ldmVyIGJlIGFibGUgdG8gYXBwcm9hY2ggd2l0aG91dCB0aW1lQ29uc3RhbnQgPiAwLlxuICAgICAgICBhc3NlcnQoaXNGaW5pdGUodGltZUNvbnN0YW50KSAmJiB0aW1lQ29uc3RhbnQgPiAwLCBcInRpbWVDb25zdGFudCBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwXCIpO1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyhzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLl9hc3NlcnRSYW5nZShudW1lcmljVmFsdWUpO1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUobnVtZXJpY1ZhbHVlKSAmJiBpc0Zpbml0ZShjb21wdXRlZFRpbWUpLCBgSW52YWxpZCBhcmd1bWVudChzKSB0byBzZXRUYXJnZXRBdFRpbWU6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSwgJHtKU09OLnN0cmluZ2lmeShzdGFydFRpbWUpfWApO1xuICAgICAgICB0aGlzLl9ldmVudHMuYWRkKHtcbiAgICAgICAgICAgIGNvbnN0YW50OiB0aW1lQ29uc3RhbnQsXG4gICAgICAgICAgICB0aW1lOiBjb21wdXRlZFRpbWUsXG4gICAgICAgICAgICB0eXBlOiBcInNldFRhcmdldEF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG51bWVyaWNWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9nKHRoaXMudW5pdHMsIFwic2V0VGFyZ2V0QXRUaW1lXCIsIHZhbHVlLCBjb21wdXRlZFRpbWUsIHRpbWVDb25zdGFudCk7XG4gICAgICAgIHRoaXMuX3BhcmFtLnNldFRhcmdldEF0VGltZShudW1lcmljVmFsdWUsIGNvbXB1dGVkVGltZSwgdGltZUNvbnN0YW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFZhbHVlQ3VydmVBdFRpbWUodmFsdWVzLCBzdGFydFRpbWUsIGR1cmF0aW9uLCBzY2FsaW5nID0gMSkge1xuICAgICAgICBkdXJhdGlvbiA9IHRoaXMudG9TZWNvbmRzKGR1cmF0aW9uKTtcbiAgICAgICAgc3RhcnRUaW1lID0gdGhpcy50b1NlY29uZHMoc3RhcnRUaW1lKTtcbiAgICAgICAgY29uc3Qgc3RhcnRpbmdWYWx1ZSA9IHRoaXMuX2Zyb21UeXBlKHZhbHVlc1swXSkgKiBzY2FsaW5nO1xuICAgICAgICB0aGlzLnNldFZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShzdGFydGluZ1ZhbHVlKSwgc3RhcnRUaW1lKTtcbiAgICAgICAgY29uc3Qgc2VnVGltZSA9IGR1cmF0aW9uIC8gKHZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IHRoaXMuX2Zyb21UeXBlKHZhbHVlc1tpXSkgKiBzY2FsaW5nO1xuICAgICAgICAgICAgdGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1R5cGUobnVtZXJpY1ZhbHVlKSwgc3RhcnRUaW1lICsgaSAqIHNlZ1RpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYW5jZWxTY2hlZHVsZWRWYWx1ZXModGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgYXNzZXJ0KGlzRmluaXRlKGNvbXB1dGVkVGltZSksIGBJbnZhbGlkIGFyZ3VtZW50IHRvIGNhbmNlbFNjaGVkdWxlZFZhbHVlczogJHtKU09OLnN0cmluZ2lmeSh0aW1lKX1gKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmNhbmNlbChjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5sb2codGhpcy51bml0cywgXCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXNcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNhbmNlbEFuZEhvbGRBdFRpbWUodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgdmFsdWVBdFRpbWUgPSB0aGlzLl9mcm9tVHlwZSh0aGlzLmdldFZhbHVlQXRUaW1lKGNvbXB1dGVkVGltZSkpO1xuICAgICAgICAvLyByZW1vdmUgdGhlIHNjaGVkdWxlIGV2ZW50c1xuICAgICAgICBhc3NlcnQoaXNGaW5pdGUoY29tcHV0ZWRUaW1lKSwgYEludmFsaWQgYXJndW1lbnQgdG8gY2FuY2VsQW5kSG9sZEF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh0aW1lKX1gKTtcbiAgICAgICAgdGhpcy5sb2codGhpcy51bml0cywgXCJjYW5jZWxBbmRIb2xkQXRUaW1lXCIsIGNvbXB1dGVkVGltZSwgXCJ2YWx1ZT1cIiArIHZhbHVlQXRUaW1lKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gZXZlbnQgYXQgdGhlIGdpdmVuIGNvbXB1dGVkVGltZVxuICAgICAgICAvLyBhbmQgdGhhdCBldmVuIGlzIG5vdCBhIFwic2V0XCJcbiAgICAgICAgY29uc3QgYmVmb3JlID0gdGhpcy5fZXZlbnRzLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICBjb25zdCBhZnRlciA9IHRoaXMuX2V2ZW50cy5nZXRBZnRlcihjb21wdXRlZFRpbWUpO1xuICAgICAgICBpZiAoYmVmb3JlICYmIEVRKGJlZm9yZS50aW1lLCBjb21wdXRlZFRpbWUpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlclxuICAgICAgICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGFmdGVyLnRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5jYW5jZWwoYWZ0ZXIudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJhbS5jYW5jZWxBbmRIb2xkQXRUaW1lKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzLmNhbmNlbChjb21wdXRlZFRpbWUgKyB0aGlzLnNhbXBsZVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoYWZ0ZXIudGltZSk7XG4gICAgICAgICAgICAvLyBjYW5jZWwgdGhlIG5leHQgZXZlbnQocylcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5jYW5jZWwoYWZ0ZXIudGltZSk7XG4gICAgICAgICAgICBpZiAoYWZ0ZXIudHlwZSA9PT0gXCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1R5cGUodmFsdWVBdFRpbWUpLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWZ0ZXIudHlwZSA9PT0gXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5fdG9UeXBlKHZhbHVlQXRUaW1lKSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgdGltZTogY29tcHV0ZWRUaW1lLFxuICAgICAgICAgICAgdHlwZTogXCJzZXRWYWx1ZUF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlQXRUaW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGFyYW0uc2V0VmFsdWVBdFRpbWUodmFsdWVBdFRpbWUsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByYW1wVG8odmFsdWUsIHJhbXBUaW1lID0gMC4xLCBzdGFydFRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMudW5pdHMgPT09IFwiZnJlcXVlbmN5XCIgfHwgdGhpcy51bml0cyA9PT0gXCJicG1cIiB8fCB0aGlzLnVuaXRzID09PSBcImRlY2liZWxzXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwb25lbnRpYWxSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saW5lYXJSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBhbGwgb2YgdGhlIHByZXZpb3VzbHkgc2NoZWR1bGVkIGV2ZW50cyB0byB0aGUgcGFzc2VkIGluIFBhcmFtIG9yIEF1ZGlvUGFyYW0uXG4gICAgICogVGhlIGFwcGxpZWQgdmFsdWVzIHdpbGwgc3RhcnQgYXQgdGhlIGNvbnRleHQncyBjdXJyZW50IHRpbWUgYW5kIHNjaGVkdWxlXG4gICAgICogYWxsIG9mIHRoZSBldmVudHMgd2hpY2ggYXJlIHNjaGVkdWxlZCBvbiB0aGlzIFBhcmFtIG9udG8gdGhlIHBhc3NlZCBpbiBwYXJhbS5cbiAgICAgKi9cbiAgICBhcHBseShwYXJhbSkge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLmNvbnRleHQuY3VycmVudFRpbWU7XG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW0ncyB2YWx1ZSBhdCB0aGUgY3VycmVudCB0aW1lIGFuZCBzY2hlZHVsZSBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgcGFyYW0uc2V0VmFsdWVBdFRpbWUodGhpcy5nZXRWYWx1ZUF0VGltZShub3cpLCBub3cpO1xuICAgICAgICAvLyBpZiB0aGUgcHJldmlvdXMgZXZlbnQgd2FzIGEgY3VydmUsIHRoZW4gc2V0IHRoZSByZXN0IG9mIGl0XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRXZlbnQgPSB0aGlzLl9ldmVudHMuZ2V0KG5vdyk7XG4gICAgICAgIGlmIChwcmV2aW91c0V2ZW50ICYmIHByZXZpb3VzRXZlbnQudHlwZSA9PT0gXCJzZXRUYXJnZXRBdFRpbWVcIikge1xuICAgICAgICAgICAgLy8gYXBwcm94IGl0IHVudGlsIHRoZSBuZXh0IGV2ZW50IHdpdGggbGluZWFyIHJhbXBzXG4gICAgICAgICAgICBjb25zdCBuZXh0RXZlbnQgPSB0aGlzLl9ldmVudHMuZ2V0QWZ0ZXIocHJldmlvdXNFdmVudC50aW1lKTtcbiAgICAgICAgICAgIC8vIG9yIGZvciAyIHNlY29uZHMgaWYgdGhlcmUgaXMgbm8gZXZlbnRcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXh0RXZlbnQgPyBuZXh0RXZlbnQudGltZSA6IG5vdyArIDI7XG4gICAgICAgICAgICBjb25zdCBzdWJkaXZpc2lvbnMgPSAoZW5kVGltZSAtIG5vdykgLyAxMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBub3c7IGkgPCBlbmRUaW1lOyBpICs9IHN1YmRpdmlzaW9ucykge1xuICAgICAgICAgICAgICAgIHBhcmFtLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuZ2V0VmFsdWVBdFRpbWUoaSksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2V2ZW50cy5mb3JFYWNoQWZ0ZXIodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXNcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhldmVudC50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwic2V0VGFyZ2V0QXRUaW1lXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbS5zZXRUYXJnZXRBdFRpbWUoZXZlbnQudmFsdWUsIGV2ZW50LnRpbWUsIGV2ZW50LmNvbnN0YW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtW2V2ZW50LnR5cGVdKGV2ZW50LnZhbHVlLCBldmVudC50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlIHRoZSBQYXJhbSdzIGludGVybmFsIEF1ZGlvUGFyYW0uIFdpbGwgYXBwbHkgc2NoZWR1bGVkIGN1cnZlc1xuICAgICAqIG9udG8gdGhlIHBhcmFtZXRlciBhbmQgcmVwbGFjZSB0aGUgY29ubmVjdGlvbnMuXG4gICAgICovXG4gICAgc2V0UGFyYW0ocGFyYW0pIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX3N3YXBwYWJsZSwgXCJUaGUgUGFyYW0gbXVzdCBiZSBhc3NpZ25lZCBhcyAnc3dhcHBhYmxlJyBpbiB0aGUgY29uc3RydWN0b3JcIik7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5pbnB1dDtcbiAgICAgICAgaW5wdXQuZGlzY29ubmVjdCh0aGlzLl9wYXJhbSk7XG4gICAgICAgIHRoaXMuYXBwbHkocGFyYW0pO1xuICAgICAgICB0aGlzLl9wYXJhbSA9IHBhcmFtO1xuICAgICAgICBpbnB1dC5jb25uZWN0KHRoaXMuX3BhcmFtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b1R5cGUodGhpcy5fcGFyYW0uZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRBVVRPTUFUSU9OIENVUlZFIENBTENVTEFUSU9OU1xuICAgIC8vIFx0TUlUIExpY2Vuc2UsIGNvcHlyaWdodCAoYykgMjAxNCBKb3JkYW4gU2FudGVsbFxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENhbGN1bGF0ZXMgdGhlIHRoZSB2YWx1ZSBhbG9uZyB0aGUgY3VydmUgcHJvZHVjZWQgYnkgc2V0VGFyZ2V0QXRUaW1lXG4gICAgX2V4cG9uZW50aWFsQXBwcm9hY2godDAsIHYwLCB2MSwgdGltZUNvbnN0YW50LCB0KSB7XG4gICAgICAgIHJldHVybiB2MSArICh2MCAtIHYxKSAqIE1hdGguZXhwKC0odCAtIHQwKSAvIHRpbWVDb25zdGFudCk7XG4gICAgfVxuICAgIC8vIENhbGN1bGF0ZXMgdGhlIHRoZSB2YWx1ZSBhbG9uZyB0aGUgY3VydmUgcHJvZHVjZWQgYnkgbGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcbiAgICBfbGluZWFySW50ZXJwb2xhdGUodDAsIHYwLCB0MSwgdjEsIHQpIHtcbiAgICAgICAgcmV0dXJuIHYwICsgKHYxIC0gdjApICogKCh0IC0gdDApIC8gKHQxIC0gdDApKTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlcyB0aGUgdGhlIHZhbHVlIGFsb25nIHRoZSBjdXJ2ZSBwcm9kdWNlZCBieSBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXG4gICAgX2V4cG9uZW50aWFsSW50ZXJwb2xhdGUodDAsIHYwLCB0MSwgdjEsIHQpIHtcbiAgICAgICAgcmV0dXJuIHYwICogTWF0aC5wb3codjEgLyB2MCwgKHQgLSB0MCkgLyAodDEgLSB0MCkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcmFtLmpzLm1hcCIsImltcG9ydCB7IGlzQXVkaW9Ob2RlLCBpc0F1ZGlvUGFyYW0gfSBmcm9tIFwiLi4vdXRpbC9BZHZhbmNlZFR5cGVDaGVja1wiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuL1BhcmFtXCI7XG5pbXBvcnQgeyBUb25lV2l0aENvbnRleHQgfSBmcm9tIFwiLi9Ub25lV2l0aENvbnRleHRcIjtcbmltcG9ydCB7IGFzc2VydCwgd2FybiB9IGZyb20gXCIuLi91dGlsL0RlYnVnXCI7XG4vKipcbiAqIFRvbmVBdWRpb05vZGUgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGNsYXNzZXMgd2hpY2ggcHJvY2VzcyBhdWRpby5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvbmVBdWRpb05vZGUgZXh0ZW5kcyBUb25lV2l0aENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRvbmVBdWRpb05vZGVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3QgYWxsIG9mIHRoZSBub2RlIHRoYXQgbXVzdCBiZSBzZXQgdG8gbWF0Y2ggdGhlIENoYW5uZWxQcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbnRlcm5hbENoYW5uZWxzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaW5wdXRzIGZlZWRpbmcgaW50byB0aGUgQXVkaW9Ob2RlLlxuICAgICAqIEZvciBzb3VyY2Ugbm9kZXMsIHRoaXMgd2lsbCBiZSAwLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgbm9kZSA9IG5ldyBUb25lLkdhaW4oKTtcbiAgICAgKiBjb25zb2xlLmxvZyhub2RlLm51bWJlck9mSW5wdXRzKTtcbiAgICAgKi9cbiAgICBnZXQgbnVtYmVyT2ZJbnB1dHMoKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5pbnB1dCkpIHtcbiAgICAgICAgICAgIGlmIChpc0F1ZGlvUGFyYW0odGhpcy5pbnB1dCkgfHwgdGhpcy5pbnB1dCBpbnN0YW5jZW9mIFBhcmFtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5udW1iZXJPZklucHV0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygb3V0cHV0cyBvZiB0aGUgQXVkaW9Ob2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgbm9kZSA9IG5ldyBUb25lLkdhaW4oKTtcbiAgICAgKiBjb25zb2xlLmxvZyhub2RlLm51bWJlck9mT3V0cHV0cyk7XG4gICAgICovXG4gICAgZ2V0IG51bWJlck9mT3V0cHV0cygpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLm91dHB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dC5udW1iZXJPZk91dHB1dHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBVURJTyBQUk9QRVJUSUVTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBkZWNpZGUgd2hpY2ggbm9kZXMgdG8gZ2V0L3NldCBwcm9wZXJ0aWVzIG9uXG4gICAgICovXG4gICAgX2lzQXVkaW9Ob2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRGVmaW5lZChub2RlKSAmJiAobm9kZSBpbnN0YW5jZW9mIFRvbmVBdWRpb05vZGUgfHwgaXNBdWRpb05vZGUobm9kZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIG9mIHRoZSBhdWRpbyBub2RlcyAoZWl0aGVyIGludGVybmFsIG9yIGlucHV0L291dHB1dCkgd2hpY2ggdG9nZXRoZXJcbiAgICAgKiBtYWtlIHVwIGhvdyB0aGUgY2xhc3Mgbm9kZSByZXNwb25kcyB0byBjaGFubmVsIGlucHV0L291dHB1dFxuICAgICAqL1xuICAgIF9nZXRJbnRlcm5hbE5vZGVzKCkge1xuICAgICAgICBjb25zdCBub2RlTGlzdCA9IHRoaXMuX2ludGVybmFsQ2hhbm5lbHMuc2xpY2UoMCk7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1ZGlvTm9kZSh0aGlzLmlucHV0KSkge1xuICAgICAgICAgICAgbm9kZUxpc3QucHVzaCh0aGlzLmlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNBdWRpb05vZGUodGhpcy5vdXRwdXQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dCAhPT0gdGhpcy5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKHRoaXMub3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZUxpc3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXVkaW8gb3B0aW9ucyBmb3IgdGhpcyBub2RlIHN1Y2ggYXMgY2hhbm5lbEludGVycHJldGF0aW9uXG4gICAgICogY2hhbm5lbENvdW50LCBldGMuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBfc2V0Q2hhbm5lbFByb3BlcnRpZXMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBub2RlTGlzdCA9IHRoaXMuX2dldEludGVybmFsTm9kZXMoKTtcbiAgICAgICAgbm9kZUxpc3QuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIG5vZGUuY2hhbm5lbENvdW50ID0gb3B0aW9ucy5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICBub2RlLmNoYW5uZWxDb3VudE1vZGUgPSBvcHRpb25zLmNoYW5uZWxDb3VudE1vZGU7XG4gICAgICAgICAgICBub2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbiA9IG9wdGlvbnMuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGF1ZGlvIG9wdGlvbnMgZm9yIHRoaXMgbm9kZSBzdWNoIGFzIGNoYW5uZWxJbnRlcnByZXRhdGlvblxuICAgICAqIGNoYW5uZWxDb3VudCwgZXRjLlxuICAgICAqL1xuICAgIF9nZXRDaGFubmVsUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3Qgbm9kZUxpc3QgPSB0aGlzLl9nZXRJbnRlcm5hbE5vZGVzKCk7XG4gICAgICAgIGFzc2VydChub2RlTGlzdC5sZW5ndGggPiAwLCBcIlRvbmVBdWRpb05vZGUgZG9lcyBub3QgaGF2ZSBhbnkgaW50ZXJuYWwgbm9kZXNcIik7XG4gICAgICAgIC8vIHVzZSB0aGUgZmlyc3Qgbm9kZSB0byBnZXQgcHJvcGVydGllc1xuICAgICAgICAvLyB0aGV5IHNob3VsZCBhbGwgYmUgdGhlIHNhbWVcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVMaXN0WzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBub2RlLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudE1vZGU6IG5vZGUuY2hhbm5lbENvdW50TW9kZSxcbiAgICAgICAgICAgIGNoYW5uZWxJbnRlcnByZXRhdGlvbjogbm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNoYW5uZWxDb3VudCBpcyB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzIHVzZWQgd2hlbiB1cC1taXhpbmcgYW5kIGRvd24tbWl4aW5nXG4gICAgICogY29ubmVjdGlvbnMgdG8gYW55IGlucHV0cyB0byB0aGUgbm9kZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMiBleGNlcHQgZm9yXG4gICAgICogc3BlY2lmaWMgbm9kZXMgd2hlcmUgaXRzIHZhbHVlIGlzIHNwZWNpYWxseSBkZXRlcm1pbmVkLlxuICAgICAqL1xuICAgIGdldCBjaGFubmVsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpLmNoYW5uZWxDb3VudDtcbiAgICB9XG4gICAgc2V0IGNoYW5uZWxDb3VudChjaGFubmVsQ291bnQpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpO1xuICAgICAgICAvLyBtZXJnZSBpdCB3aXRoIHRoZSBvdGhlciBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX3NldENoYW5uZWxQcm9wZXJ0aWVzKE9iamVjdC5hc3NpZ24ocHJvcHMsIHsgY2hhbm5lbENvdW50IH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2hhbm5lbENvdW50TW9kZSBkZXRlcm1pbmVzIGhvdyBjaGFubmVscyB3aWxsIGJlIGNvdW50ZWQgd2hlbiB1cC1taXhpbmcgYW5kXG4gICAgICogZG93bi1taXhpbmcgY29ubmVjdGlvbnMgdG8gYW55IGlucHV0cyB0byB0aGUgbm9kZS5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBcIm1heFwiLiBUaGlzIGF0dHJpYnV0ZSBoYXMgbm8gZWZmZWN0IGZvciBub2RlcyB3aXRoIG5vIGlucHV0cy5cbiAgICAgKiAqIFwibWF4XCIgLSBjb21wdXRlZE51bWJlck9mQ2hhbm5lbHMgaXMgdGhlIG1heGltdW0gb2YgdGhlIG51bWJlciBvZiBjaGFubmVscyBvZiBhbGwgY29ubmVjdGlvbnMgdG8gYW4gaW5wdXQuIEluIHRoaXMgbW9kZSBjaGFubmVsQ291bnQgaXMgaWdub3JlZC5cbiAgICAgKiAqIFwiY2xhbXBlZC1tYXhcIiAtIGNvbXB1dGVkTnVtYmVyT2ZDaGFubmVscyBpcyBkZXRlcm1pbmVkIGFzIGZvciBcIm1heFwiIGFuZCB0aGVuIGNsYW1wZWQgdG8gYSBtYXhpbXVtIHZhbHVlIG9mIHRoZSBnaXZlbiBjaGFubmVsQ291bnQuXG4gICAgICogKiBcImV4cGxpY2l0XCIgLSBjb21wdXRlZE51bWJlck9mQ2hhbm5lbHMgaXMgdGhlIGV4YWN0IHZhbHVlIGFzIHNwZWNpZmllZCBieSB0aGUgY2hhbm5lbENvdW50LlxuICAgICAqL1xuICAgIGdldCBjaGFubmVsQ291bnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKS5jaGFubmVsQ291bnRNb2RlO1xuICAgIH1cbiAgICBzZXQgY2hhbm5lbENvdW50TW9kZShjaGFubmVsQ291bnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gbWVyZ2UgaXQgd2l0aCB0aGUgb3RoZXIgcHJvcGVydGllc1xuICAgICAgICB0aGlzLl9zZXRDaGFubmVsUHJvcGVydGllcyhPYmplY3QuYXNzaWduKHByb3BzLCB7IGNoYW5uZWxDb3VudE1vZGUgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjaGFubmVsSW50ZXJwcmV0YXRpb24gZGV0ZXJtaW5lcyBob3cgaW5kaXZpZHVhbCBjaGFubmVscyB3aWxsIGJlIHRyZWF0ZWRcbiAgICAgKiB3aGVuIHVwLW1peGluZyBhbmQgZG93bi1taXhpbmcgY29ubmVjdGlvbnMgdG8gYW55IGlucHV0cyB0byB0aGUgbm9kZS5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBcInNwZWFrZXJzXCIuXG4gICAgICovXG4gICAgZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCkuY2hhbm5lbEludGVycHJldGF0aW9uO1xuICAgIH1cbiAgICBzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKGNoYW5uZWxJbnRlcnByZXRhdGlvbikge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIG1lcmdlIGl0IHdpdGggdGhlIG90aGVyIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5fc2V0Q2hhbm5lbFByb3BlcnRpZXMoT2JqZWN0LmFzc2lnbihwcm9wcywgeyBjaGFubmVsSW50ZXJwcmV0YXRpb24gfSkpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBDT05ORUNUSU9OU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIGNvbm5lY3QgdGhlIG91dHB1dCBvZiBhIFRvbmVBdWRpb05vZGUgdG8gYW4gQXVkaW9QYXJhbSwgQXVkaW9Ob2RlLCBvciBUb25lQXVkaW9Ob2RlXG4gICAgICogQHBhcmFtIGRlc3RpbmF0aW9uIFRoZSBvdXRwdXQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBvdXRwdXROdW0gVGhlIG91dHB1dCB0byBjb25uZWN0IGZyb21cbiAgICAgKiBAcGFyYW0gaW5wdXROdW0gVGhlIGlucHV0IHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXROdW0gPSAwLCBpbnB1dE51bSA9IDApIHtcbiAgICAgICAgY29ubmVjdCh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtLCBpbnB1dE51bSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRoZSBvdXRwdXQgdG8gdGhlIGNvbnRleHQncyBkZXN0aW5hdGlvbiBub2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcihcIkMyXCIpLnN0YXJ0KCk7XG4gICAgICogb3NjLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKi9cbiAgICB0b0Rlc3RpbmF0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIG91dHB1dCB0byB0aGUgY29udGV4dCdzIGRlc3RpbmF0aW9uIG5vZGUuXG4gICAgICogU2VlIFtbdG9EZXN0aW5hdGlvbl1dXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICB0b01hc3RlcigpIHtcbiAgICAgICAgd2FybihcInRvTWFzdGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0b0Rlc3RpbmF0aW9uKClcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnRvRGVzdGluYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGlzY29ubmVjdCB0aGUgb3V0cHV0XG4gICAgICovXG4gICAgZGlzY29ubmVjdChkZXN0aW5hdGlvbiwgb3V0cHV0TnVtID0gMCwgaW5wdXROdW0gPSAwKSB7XG4gICAgICAgIGRpc2Nvbm5lY3QodGhpcywgZGVzdGluYXRpb24sIG91dHB1dE51bSwgaW5wdXROdW0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0aGUgb3V0cHV0IG9mIHRoaXMgbm9kZSB0byB0aGUgcmVzdCBvZiB0aGUgbm9kZXMgaW4gc2VyaWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGxheWVyID0gbmV3IFRvbmUuUGxheWVyKFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2RydW0tc2FtcGxlcy9oYW5kZHJ1bS1sb29wLm1wM1wiKTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKiBjb25zdCBmaWx0ZXIgPSBuZXcgVG9uZS5BdXRvRmlsdGVyKDQpLnN0YXJ0KCk7XG4gICAgICogY29uc3QgZGlzdG9ydGlvbiA9IG5ldyBUb25lLkRpc3RvcnRpb24oMC41KTtcbiAgICAgKiAvLyBjb25uZWN0IHRoZSBwbGF5ZXIgdG8gdGhlIGZpbHRlciwgZGlzdG9ydGlvbiBhbmQgdGhlbiB0byB0aGUgbWFzdGVyIG91dHB1dFxuICAgICAqIHBsYXllci5jaGFpbihmaWx0ZXIsIGRpc3RvcnRpb24sIFRvbmUuRGVzdGluYXRpb24pO1xuICAgICAqL1xuICAgIGNoYWluKC4uLm5vZGVzKSB7XG4gICAgICAgIGNvbm5lY3RTZXJpZXModGhpcywgLi4ubm9kZXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29ubmVjdCB0aGUgb3V0cHV0IG9mIHRoaXMgbm9kZSB0byB0aGUgcmVzdCBvZiB0aGUgbm9kZXMgaW4gcGFyYWxsZWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vZHJ1bS1zYW1wbGVzL2NvbmdhLXJoeXRobS5tcDNcIik7XG4gICAgICogcGxheWVyLmF1dG9zdGFydCA9IHRydWU7XG4gICAgICogY29uc3QgcGl0Y2hTaGlmdCA9IG5ldyBUb25lLlBpdGNoU2hpZnQoNCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIGNvbnN0IGZpbHRlciA9IG5ldyBUb25lLkZpbHRlcihcIkc1XCIpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiAvLyBjb25uZWN0IGEgbm9kZSB0byB0aGUgcGl0Y2ggc2hpZnQgYW5kIGZpbHRlciBpbiBwYXJhbGxlbFxuICAgICAqIHBsYXllci5mYW4ocGl0Y2hTaGlmdCwgZmlsdGVyKTtcbiAgICAgKi9cbiAgICBmYW4oLi4ubm9kZXMpIHtcbiAgICAgICAgbm9kZXMuZm9yRWFjaChub2RlID0+IHRoaXMuY29ubmVjdChub2RlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIGFuZCBkaXNjb25uZWN0XG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuaW5wdXQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dCBpbnN0YW5jZW9mIFRvbmVBdWRpb05vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXVkaW9Ob2RlKHRoaXMuaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLm91dHB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dCBpbnN0YW5jZW9mIFRvbmVBdWRpb05vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0F1ZGlvTm9kZSh0aGlzLm91dHB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxDaGFubmVscyA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENPTk5FQ1RJT05TXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogY29ubmVjdCB0b2dldGhlciBhbGwgb2YgdGhlIGFyZ3VtZW50cyBpbiBzZXJpZXNcbiAqIEBwYXJhbSBub2Rlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdFNlcmllcyguLi5ub2Rlcykge1xuICAgIGNvbnN0IGZpcnN0ID0gbm9kZXMuc2hpZnQoKTtcbiAgICBub2Rlcy5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+IHtcbiAgICAgICAgaWYgKHByZXYgaW5zdGFuY2VvZiBUb25lQXVkaW9Ob2RlKSB7XG4gICAgICAgICAgICBwcmV2LmNvbm5lY3QoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBdWRpb05vZGUocHJldikpIHtcbiAgICAgICAgICAgIGNvbm5lY3QocHJldiwgY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfSwgZmlyc3QpO1xufVxuLyoqXG4gKiBDb25uZWN0IHR3byBub2RlcyB0b2dldGhlciBzbyB0aGF0IHNpZ25hbCBmbG93cyBmcm9tIHRoZVxuICogZmlyc3Qgbm9kZSB0byB0aGUgc2Vjb25kLiBPcHRpb25hbGx5IHNwZWNpZnkgdGhlIGlucHV0IGFuZCBvdXRwdXQgY2hhbm5lbHMuXG4gKiBAcGFyYW0gc3JjTm9kZSBUaGUgc291cmNlIG5vZGVcbiAqIEBwYXJhbSBkc3ROb2RlIFRoZSBkZXN0aW5hdGlvbiBub2RlXG4gKiBAcGFyYW0gb3V0cHV0TnVtYmVyIFRoZSBvdXRwdXQgY2hhbm5lbCBvZiB0aGUgc3JjTm9kZVxuICogQHBhcmFtIGlucHV0TnVtYmVyIFRoZSBpbnB1dCBjaGFubmVsIG9mIHRoZSBkc3ROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0KHNyY05vZGUsIGRzdE5vZGUsIG91dHB1dE51bWJlciA9IDAsIGlucHV0TnVtYmVyID0gMCkge1xuICAgIGFzc2VydChpc0RlZmluZWQoc3JjTm9kZSksIFwiQ2Fubm90IGNvbm5lY3QgZnJvbSB1bmRlZmluZWQgbm9kZVwiKTtcbiAgICBhc3NlcnQoaXNEZWZpbmVkKGRzdE5vZGUpLCBcIkNhbm5vdCBjb25uZWN0IHRvIHVuZGVmaW5lZCBub2RlXCIpO1xuICAgIGlmIChkc3ROb2RlIGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSB8fCBpc0F1ZGlvTm9kZShkc3ROb2RlKSkge1xuICAgICAgICBhc3NlcnQoZHN0Tm9kZS5udW1iZXJPZklucHV0cyA+IDAsIFwiQ2Fubm90IGNvbm5lY3QgdG8gbm9kZSB3aXRoIG5vIGlucHV0c1wiKTtcbiAgICB9XG4gICAgYXNzZXJ0KHNyY05vZGUubnVtYmVyT2ZPdXRwdXRzID4gMCwgXCJDYW5ub3QgY29ubmVjdCBmcm9tIG5vZGUgd2l0aCBubyBvdXRwdXRzXCIpO1xuICAgIC8vIHJlc29sdmUgdGhlIGlucHV0IG9mIHRoZSBkc3ROb2RlXG4gICAgd2hpbGUgKChkc3ROb2RlIGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSB8fCBkc3ROb2RlIGluc3RhbmNlb2YgUGFyYW0pKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQoZHN0Tm9kZS5pbnB1dCkpIHtcbiAgICAgICAgICAgIGRzdE5vZGUgPSBkc3ROb2RlLmlucHV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChzcmNOb2RlIGluc3RhbmNlb2YgVG9uZUF1ZGlvTm9kZSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHNyY05vZGUub3V0cHV0KSkge1xuICAgICAgICAgICAgc3JjTm9kZSA9IHNyY05vZGUub3V0cHV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG1ha2UgdGhlIGNvbm5lY3Rpb25cbiAgICBpZiAoaXNBdWRpb1BhcmFtKGRzdE5vZGUpKSB7XG4gICAgICAgIHNyY05vZGUuY29ubmVjdChkc3ROb2RlLCBvdXRwdXROdW1iZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3JjTm9kZS5jb25uZWN0KGRzdE5vZGUsIG91dHB1dE51bWJlciwgaW5wdXROdW1iZXIpO1xuICAgIH1cbn1cbi8qKlxuICogRGlzY29ubmVjdCBhIG5vZGUgZnJvbSBhbGwgbm9kZXMgb3Igb3B0aW9uYWxseSBpbmNsdWRlIGEgZGVzdGluYXRpb24gbm9kZSBhbmQgaW5wdXQvb3V0cHV0IGNoYW5uZWxzLlxuICogQHBhcmFtIHNyY05vZGUgVGhlIHNvdXJjZSBub2RlXG4gKiBAcGFyYW0gZHN0Tm9kZSBUaGUgZGVzdGluYXRpb24gbm9kZVxuICogQHBhcmFtIG91dHB1dE51bWJlciBUaGUgb3V0cHV0IGNoYW5uZWwgb2YgdGhlIHNyY05vZGVcbiAqIEBwYXJhbSBpbnB1dE51bWJlciBUaGUgaW5wdXQgY2hhbm5lbCBvZiB0aGUgZHN0Tm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzY29ubmVjdChzcmNOb2RlLCBkc3ROb2RlLCBvdXRwdXROdW1iZXIgPSAwLCBpbnB1dE51bWJlciA9IDApIHtcbiAgICAvLyByZXNvbHZlIHRoZSBkZXN0aW5hdGlvbiBub2RlXG4gICAgaWYgKGlzRGVmaW5lZChkc3ROb2RlKSkge1xuICAgICAgICB3aGlsZSAoZHN0Tm9kZSBpbnN0YW5jZW9mIFRvbmVBdWRpb05vZGUpIHtcbiAgICAgICAgICAgIGRzdE5vZGUgPSBkc3ROb2RlLmlucHV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJlc29sdmUgdGhlIHNyYyBub2RlXG4gICAgd2hpbGUgKCEoaXNBdWRpb05vZGUoc3JjTm9kZSkpKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQoc3JjTm9kZS5vdXRwdXQpKSB7XG4gICAgICAgICAgICBzcmNOb2RlID0gc3JjTm9kZS5vdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQXVkaW9QYXJhbShkc3ROb2RlKSkge1xuICAgICAgICBzcmNOb2RlLmRpc2Nvbm5lY3QoZHN0Tm9kZSwgb3V0cHV0TnVtYmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBdWRpb05vZGUoZHN0Tm9kZSkpIHtcbiAgICAgICAgc3JjTm9kZS5kaXNjb25uZWN0KGRzdE5vZGUsIG91dHB1dE51bWJlciwgaW5wdXROdW1iZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3JjTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZUF1ZGlvTm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi9jb250ZXh0L1BhcmFtXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuL1RvbmVBdWRpb05vZGVcIjtcbi8qKlxuICogQSB0aGluIHdyYXBwZXIgYXJvdW5kIHRoZSBOYXRpdmUgV2ViIEF1ZGlvIEdhaW5Ob2RlLlxuICogVGhlIEdhaW5Ob2RlIGlzIGEgYmFzaWMgYnVpbGRpbmcgYmxvY2sgb2YgdGhlIFdlYiBBdWRpb1xuICogQVBJIGFuZCBpcyB1c2VmdWwgZm9yIHJvdXRpbmcgYXVkaW8gYW5kIGFkanVzdGluZyBnYWlucy5cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiBcdGNvbnN0IGdhaW5Ob2RlID0gbmV3IFRvbmUuR2FpbigwKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBcdGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoMzApLmNvbm5lY3QoZ2Fpbk5vZGUpLnN0YXJ0KCk7XG4gKiBcdGdhaW5Ob2RlLmdhaW4ucmFtcFRvKDEsIDAuMSk7XG4gKiBcdGdhaW5Ob2RlLmdhaW4ucmFtcFRvKDAsIDAuNCwgMC4yKTtcbiAqIH0sIDAuNywgMSk7XG4gKi9cbmV4cG9ydCBjbGFzcyBHYWluIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKEdhaW4uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJnYWluXCIsIFwidW5pdHNcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJHYWluXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd3JhcHBlZCBHYWluTm9kZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dhaW5Ob2RlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgLy8gaW5wdXQgPSBvdXRwdXRcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX2dhaW5Ob2RlO1xuICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMuX2dhaW5Ob2RlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoR2Fpbi5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImdhaW5cIiwgXCJ1bml0c1wiXSk7XG4gICAgICAgIHRoaXMuZ2FpbiA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBjb252ZXJ0OiBvcHRpb25zLmNvbnZlcnQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5fZ2Fpbk5vZGUuZ2FpbixcbiAgICAgICAgICAgIHVuaXRzOiBvcHRpb25zLnVuaXRzLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZ2FpbixcbiAgICAgICAgICAgIG1pblZhbHVlOiBvcHRpb25zLm1pblZhbHVlLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG9wdGlvbnMubWF4VmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBcImdhaW5cIik7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjb252ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgZ2FpbjogMSxcbiAgICAgICAgICAgIHVuaXRzOiBcImdhaW5cIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLmdhaW4uZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HYWluLmpzLm1hcCIsImltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUsIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVidWdcIjtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZmlyZS1hbmQtZm9yZ2V0IG5vZGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBPbmVTaG90U291cmNlIGV4dGVuZHMgVG9uZUF1ZGlvTm9kZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgdGhlXG4gICAgICAgICAqIHNvdXJjZSBpcyBkb25lIHBsYXlpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uZW5kZWQgPSBub09wO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXJ0IHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0b3AgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RvcFRpbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZCBvZiB0aGUgdGltZW91dFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZW91dCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHB1YmxpYyBvdXRwdXQgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdXRwdXQgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBnYWluOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvdXRwdXQgZ2FpbiBub2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2Fpbk5vZGUgPSB0aGlzLm91dHB1dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcGxheWJhY2sgc3RhdGUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2V0U3RhdGVBdFRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhcnRUaW1lICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgIGNvbXB1dGVkVGltZSA+PSB0aGlzLl9zdGFydFRpbWUgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5fc3RvcFRpbWUgPT09IC0xIHx8IGNvbXB1dGVkVGltZSA8PSB0aGlzLl9zdG9wVGltZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGFydGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdG9wcGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ZhZGVJbiA9IG9wdGlvbnMuZmFkZUluO1xuICAgICAgICB0aGlzLl9mYWRlT3V0ID0gb3B0aW9ucy5mYWRlT3V0O1xuICAgICAgICB0aGlzLl9jdXJ2ZSA9IG9wdGlvbnMuY3VydmU7XG4gICAgICAgIHRoaXMub25lbmRlZCA9IG9wdGlvbnMub25lbmRlZDtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGN1cnZlOiBcImxpbmVhclwiLFxuICAgICAgICAgICAgZmFkZUluOiAwLFxuICAgICAgICAgICAgZmFkZU91dDogMCxcbiAgICAgICAgICAgIG9uZW5kZWQ6IG5vT3AsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgc291cmNlIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdG8gc3RhcnQgdGhlIHNvdXJjZVxuICAgICAqL1xuICAgIF9zdGFydEdhaW4odGltZSwgZ2FpbiA9IDEpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX3N0YXJ0VGltZSA9PT0gLTEsIFwiU291cmNlIGNhbm5vdCBiZSBzdGFydGVkIG1vcmUgdGhhbiBvbmNlXCIpO1xuICAgICAgICAvLyBhcHBseSBhIGZhZGUgaW4gZW52ZWxvcGVcbiAgICAgICAgY29uc3QgZmFkZUluVGltZSA9IHRoaXMudG9TZWNvbmRzKHRoaXMuX2ZhZGVJbik7XG4gICAgICAgIC8vIHJlY29yZCB0aGUgc3RhcnQgdGltZVxuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSB0aW1lICsgZmFkZUluVGltZTtcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gTWF0aC5tYXgodGhpcy5fc3RhcnRUaW1lLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICAvLyBzY2hlZHVsZSB0aGUgZW52ZWxvcGVcbiAgICAgICAgaWYgKGZhZGVJblRpbWUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHRpbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnZlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShnYWluLCB0aW1lICsgZmFkZUluVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nYWluTm9kZS5nYWluLmV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZShnYWluLCB0aW1lLCBmYWRlSW5UaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZ2FpbiwgdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHNvdXJjZSBub2RlIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSB0aW1lIFdoZW4gdG8gc3RvcCB0aGUgc291cmNlXG4gICAgICovXG4gICAgc3RvcCh0aW1lKSB7XG4gICAgICAgIHRoaXMubG9nKFwic3RvcFwiLCB0aW1lKTtcbiAgICAgICAgdGhpcy5fc3RvcEdhaW4odGhpcy50b1NlY29uZHModGltZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgc291cmNlIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdG8gc3RvcCB0aGUgc291cmNlXG4gICAgICovXG4gICAgX3N0b3BHYWluKHRpbWUpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX3N0YXJ0VGltZSAhPT0gLTEsIFwiJ3N0YXJ0JyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgJ3N0b3AnXCIpO1xuICAgICAgICAvLyBjYW5jZWwgdGhlIHByZXZpb3VzIHN0b3BcbiAgICAgICAgdGhpcy5jYW5jZWxTdG9wKCk7XG4gICAgICAgIC8vIHRoZSBmYWRlT3V0IHRpbWVcbiAgICAgICAgY29uc3QgZmFkZU91dFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLl9mYWRlT3V0KTtcbiAgICAgICAgLy8gc2NoZWR1bGUgdGhlIHN0b3AgY2FsbGJhY2tcbiAgICAgICAgdGhpcy5fc3RvcFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKSArIGZhZGVPdXRUaW1lO1xuICAgICAgICB0aGlzLl9zdG9wVGltZSA9IE1hdGgubWF4KHRoaXMuX3N0b3BUaW1lLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICBpZiAoZmFkZU91dFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZmFkZSBvdXQgY3VydmUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJ2ZSA9PT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4ubGluZWFyUmFtcFRvKDAsIGZhZGVPdXRUaW1lLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4udGFyZ2V0UmFtcFRvKDAsIGZhZGVPdXRUaW1lLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0b3AgYW55IG9uZ29pbmcgcmFtcHMsIGFuZCBzZXQgdGhlIHZhbHVlIHRvIDBcbiAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwgdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IHRoaXMuY29udGV4dC5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIGFsbG93IGFkZGl0aW9uYWwgdGltZSBmb3IgdGhlIGV4cG9uZW50aWFsIGN1cnZlIHRvIGZ1bGx5IGRlY2F5XG4gICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsVGFpbCA9IHRoaXMuX2N1cnZlID09PSBcImV4cG9uZW50aWFsXCIgPyBmYWRlT3V0VGltZSAqIDIgOiAwO1xuICAgICAgICAgICAgdGhpcy5fc3RvcFNvdXJjZSh0aGlzLm5vdygpICsgYWRkaXRpb25hbFRhaWwpO1xuICAgICAgICAgICAgdGhpcy5fb25lbmRlZCgpO1xuICAgICAgICB9LCB0aGlzLl9zdG9wVGltZSAtIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhlIG9uZW5kZWQgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBfb25lbmRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25lbmRlZCAhPT0gbm9PcCkge1xuICAgICAgICAgICAgdGhpcy5vbmVuZGVkKHRoaXMpO1xuICAgICAgICAgICAgLy8gb3ZlcndyaXRlIG9uZW5kZWQgdG8gbWFrZSBzdXJlIGl0IG9ubHkgaXMgY2FsbGVkIG9uY2VcbiAgICAgICAgICAgIHRoaXMub25lbmRlZCA9IG5vT3A7XG4gICAgICAgICAgICAvLyBkaXNwb3NlIHdoZW4gaXQncyBlbmRlZCB0byBmcmVlIHVwIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24gb25seSBpbiB0aGUgb25saW5lIGNvbnRleHRcbiAgICAgICAgICAgIGlmICghdGhpcy5jb250ZXh0LmlzT2ZmbGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2VDYWxsYmFjayA9ICgpID0+IHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soZGlzcG9zZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZGlzcG9zZUNhbGxiYWNrLCAxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwbGF5YmFjayBzdGF0ZSBhdCB0aGUgY3VycmVudCB0aW1lXG4gICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGEgc2NoZWR1bGVkIHN0b3AgZXZlbnRcbiAgICAgKi9cbiAgICBjYW5jZWxTdG9wKCkge1xuICAgICAgICB0aGlzLmxvZyhcImNhbmNlbFN0b3BcIik7XG4gICAgICAgIGFzc2VydCh0aGlzLl9zdGFydFRpbWUgIT09IC0xLCBcIlNvdXJjZSBpcyBub3Qgc3RhcnRlZFwiKTtcbiAgICAgICAgLy8gY2FuY2VsIHRoZSBzdG9wIGVudmVsb3BlXG4gICAgICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuc2FtcGxlVGltZSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lID0gLTE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2dhaW5Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T25lU2hvdFNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgT25lU2hvdFNvdXJjZSB9IGZyb20gXCIuLi9zb3VyY2UvT25lU2hvdFNvdXJjZVwiO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgbmF0aXZlIGZpcmUtYW5kLWZvcmdldCBDb25zdGFudFNvdXJjZS5cbiAqIEFkZHMgdGhlIGFiaWxpdHkgdG8gcmVzY2hlZHVsZSB0aGUgc3RvcCBtZXRob2QuXG4gKiBAY2F0ZWdvcnkgU2lnbmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBUb25lQ29uc3RhbnRTb3VyY2UgZXh0ZW5kcyBPbmVTaG90U291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoVG9uZUNvbnN0YW50U291cmNlLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wib2Zmc2V0XCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZUNvbnN0YW50U291cmNlXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2lnbmFsIGdlbmVyYXRvclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUNvbnN0YW50U291cmNlKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lQ29uc3RhbnRTb3VyY2UuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJvZmZzZXRcIl0pO1xuICAgICAgICBjb25uZWN0KHRoaXMuX3NvdXJjZSwgdGhpcy5fZ2Fpbk5vZGUpO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBjb252ZXJ0OiBvcHRpb25zLmNvbnZlcnQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5fc291cmNlLm9mZnNldCxcbiAgICAgICAgICAgIHVuaXRzOiBvcHRpb25zLnVuaXRzLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMub2Zmc2V0LFxuICAgICAgICAgICAgbWluVmFsdWU6IG9wdGlvbnMubWluVmFsdWUsXG4gICAgICAgICAgICBtYXhWYWx1ZTogb3B0aW9ucy5tYXhWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT25lU2hvdFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjb252ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwibnVtYmVyXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgc291cmNlIG5vZGUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0byBzdGFydCB0aGUgc291cmNlXG4gICAgICovXG4gICAgc3RhcnQodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5sb2coXCJzdGFydFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9zdGFydEdhaW4oY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fc291cmNlLnN0YXJ0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfc3RvcFNvdXJjZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5zdG9wKHRpbWUpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5vZmZzZXQuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lQ29uc3RhbnRTb3VyY2UuanMubWFwIiwiaW1wb3J0IHsgUGFyYW0gfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1BhcmFtXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBpc0F1ZGlvUGFyYW0gfSBmcm9tIFwiLi4vY29yZS91dGlsL0FkdmFuY2VkVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFRvbmVDb25zdGFudFNvdXJjZSB9IGZyb20gXCIuL1RvbmVDb25zdGFudFNvdXJjZVwiO1xuLyoqXG4gKiBBIHNpZ25hbCBpcyBhbiBhdWRpby1yYXRlIHZhbHVlLiBUb25lLlNpZ25hbCBpcyBhIGNvcmUgY29tcG9uZW50IG9mIHRoZSBsaWJyYXJ5LlxuICogVW5saWtlIGEgbnVtYmVyLCBTaWduYWxzIGNhbiBiZSBzY2hlZHVsZWQgd2l0aCBzYW1wbGUtbGV2ZWwgYWNjdXJhY3kuIFRvbmUuU2lnbmFsXG4gKiBoYXMgYWxsIG9mIHRoZSBtZXRob2RzIGF2YWlsYWJsZSB0byBuYXRpdmUgV2ViIEF1ZGlvXG4gKiBbQXVkaW9QYXJhbV0oaHR0cDovL3dlYmF1ZGlvLmdpdGh1Yi5pby93ZWItYXVkaW8tYXBpLyN0aGUtYXVkaW9wYXJhbS1pbnRlcmZhY2UpXG4gKiBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgY29udmVuaWVuY2VzLiBSZWFkIG1vcmUgYWJvdXQgd29ya2luZyB3aXRoIHNpZ25hbHNcbiAqIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vVG9uZWpzL1RvbmUuanMvd2lraS9TaWduYWxzKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogLy8gYSBzY2hlZHVsZWFibGUgc2lnbmFsIHdoaWNoIGNhbiBiZSBjb25uZWN0ZWQgdG8gY29udHJvbCBhbiBBdWRpb1BhcmFtIG9yIGFub3RoZXIgU2lnbmFsXG4gKiBjb25zdCBzaWduYWwgPSBuZXcgVG9uZS5TaWduYWwoe1xuICogXHR2YWx1ZTogXCJDNFwiLFxuICogXHR1bml0czogXCJmcmVxdWVuY3lcIlxuICogfSkuY29ubmVjdChvc2MuZnJlcXVlbmN5KTtcbiAqIC8vIHRoZSBzY2hlZHVsZWQgcmFtcCBjb250cm9scyB0aGUgY29ubmVjdGVkIHNpZ25hbFxuICogc2lnbmFsLnJhbXBUbyhcIkMyXCIsIDQsIFwiKzAuNVwiKTtcbiAqIEBjYXRlZ29yeSBTaWduYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFNpZ25hbCBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhTaWduYWwuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiLCBcInVuaXRzXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU2lnbmFsXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHZhbHVlIHNob3VsZCBiZSBvdmVycmlkZGVuIG9uIGNvbm5lY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm92ZXJyaWRlID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFNpZ25hbC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZhbHVlXCIsIFwidW5pdHNcIl0pO1xuICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMuX2NvbnN0YW50U291cmNlID0gbmV3IFRvbmVDb25zdGFudFNvdXJjZSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBjb252ZXJ0OiBvcHRpb25zLmNvbnZlcnQsXG4gICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnMudmFsdWUsXG4gICAgICAgICAgICB1bml0czogb3B0aW9ucy51bml0cyxcbiAgICAgICAgICAgIG1pblZhbHVlOiBvcHRpb25zLm1pblZhbHVlLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG9wdGlvbnMubWF4VmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jb25zdGFudFNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX3BhcmFtID0gdGhpcy5fY29uc3RhbnRTb3VyY2Uub2Zmc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgY29udmVydDogdHJ1ZSxcbiAgICAgICAgICAgIHVuaXRzOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25uZWN0KGRlc3RpbmF0aW9uLCBvdXRwdXROdW0gPSAwLCBpbnB1dE51bSA9IDApIHtcbiAgICAgICAgLy8gc3RhcnQgaXQgb25seSB3aGVuIGNvbm5lY3RlZCB0byBzb21ldGhpbmdcbiAgICAgICAgY29ubmVjdFNpZ25hbCh0aGlzLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtLCBpbnB1dE51bSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3BhcmFtLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fY29uc3RhbnRTb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQUJTVFJBQ1QgUEFSQU0gSU5URVJGQUNFXG4gICAgLy8ganVzdCBhIHByb3h5IGZvciB0aGUgQ29uc3RhbnRTb3VyY2VOb2RlJ3Mgb2Zmc2V0IEF1ZGlvUGFyYW1cbiAgICAvLyBhbGwgZG9jcyBhcmUgZ2VuZXJhdGVkIGZyb20gQWJzdHJhY3RQYXJhbS50c1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHNldFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLnNldFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFZhbHVlQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICBzZXRSYW1wUG9pbnQodGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5zZXRSYW1wUG9pbnQodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSkge1xuICAgICAgICB0aGlzLl9wYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXhwb25lbnRpYWxSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbGluZWFyUmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLmxpbmVhclJhbXBUbyh2YWx1ZSwgcmFtcFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0YXJnZXRSYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0udGFyZ2V0UmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSwgcmFtcFRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lLCByYW1wVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRUYXJnZXRBdFRpbWUodmFsdWUsIHN0YXJ0VGltZSwgdGltZUNvbnN0YW50KSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLnNldFRhcmdldEF0VGltZSh2YWx1ZSwgc3RhcnRUaW1lLCB0aW1lQ29uc3RhbnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VmFsdWVDdXJ2ZUF0VGltZSh2YWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHNjYWxpbmcpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uc2V0VmFsdWVDdXJ2ZUF0VGltZSh2YWx1ZXMsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHNjYWxpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLmNhbmNlbEFuZEhvbGRBdFRpbWUodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByYW1wVG8odmFsdWUsIHJhbXBUaW1lLCBzdGFydFRpbWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0ucmFtcFRvKHZhbHVlLCByYW1wVGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtLnZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcGFyYW0udmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGNvbnZlcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5jb252ZXJ0O1xuICAgIH1cbiAgICBzZXQgY29udmVydChjb252ZXJ0KSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLmNvbnZlcnQgPSBjb252ZXJ0O1xuICAgIH1cbiAgICBnZXQgdW5pdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS51bml0cztcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRkZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5vdmVycmlkZGVuO1xuICAgIH1cbiAgICBzZXQgb3ZlcnJpZGRlbihvdmVycmlkZGVuKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLm92ZXJyaWRkZW4gPSBvdmVycmlkZGVuO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5tYXhWYWx1ZTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW0ubWluVmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZSBbW1BhcmFtLmFwcGx5XV0uXG4gICAgICovXG4gICAgYXBwbHkocGFyYW0pIHtcbiAgICAgICAgdGhpcy5fcGFyYW0uYXBwbHkocGFyYW0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIFdoZW4gY29ubmVjdGluZyBmcm9tIGEgc2lnbmFsLCBpdCdzIG5lY2Vzc2FyeSB0byB6ZXJvIG91dCB0aGUgbm9kZSBkZXN0aW5hdGlvblxuICogbm9kZSBpZiB0aGF0IG5vZGUgaXMgYWxzbyBhIHNpZ25hbC4gSWYgdGhlIGRlc3RpbmF0aW9uIGlzIG5vdCAwLCB0aGVuIHRoZSB2YWx1ZXNcbiAqIHdpbGwgYmUgc3VtbWVkLiBUaGlzIG1ldGhvZCBpbnN1cmVzIHRoYXQgdGhlIG91dHB1dCBvZiB0aGUgZGVzdGluYXRpb24gc2lnbmFsIHdpbGxcbiAqIGJlIHRoZSBzYW1lIGFzIHRoZSBzb3VyY2Ugc2lnbmFsLCBtYWtpbmcgdGhlIGRlc3RpbmF0aW9uIHNpZ25hbCBhIHBhc3MgdGhyb3VnaCBub2RlLlxuICogQHBhcmFtIHNpZ25hbCBUaGUgb3V0cHV0IHNpZ25hbCB0byBjb25uZWN0IGZyb21cbiAqIEBwYXJhbSBkZXN0aW5hdGlvbiB0aGUgZGVzdGluYXRpb24gdG8gY29ubmVjdCB0b1xuICogQHBhcmFtIG91dHB1dE51bSB0aGUgb3B0aW9uYWwgb3V0cHV0IG51bWJlclxuICogQHBhcmFtIGlucHV0TnVtIHRoZSBpbnB1dCBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RTaWduYWwoc2lnbmFsLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtLCBpbnB1dE51bSkge1xuICAgIGlmIChkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFBhcmFtIHx8IGlzQXVkaW9QYXJhbShkZXN0aW5hdGlvbikgfHxcbiAgICAgICAgKGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU2lnbmFsICYmIGRlc3RpbmF0aW9uLm92ZXJyaWRlKSkge1xuICAgICAgICAvLyBjYW5jZWwgY2hhbmdlc1xuICAgICAgICBkZXN0aW5hdGlvbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoMCk7XG4gICAgICAgIC8vIHJlc2V0IHRoZSB2YWx1ZVxuICAgICAgICBkZXN0aW5hdGlvbi5zZXRWYWx1ZUF0VGltZSgwLCAwKTtcbiAgICAgICAgLy8gbWFyayB0aGUgdmFsdWUgYXMgb3ZlcnJpZGRlblxuICAgICAgICBpZiAoZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTaWduYWwpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm92ZXJyaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3Qoc2lnbmFsLCBkZXN0aW5hdGlvbiwgb3V0cHV0TnVtLCBpbnB1dE51bSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaWduYWwuanMubWFwIiwiaW1wb3J0IHsgUGFyYW0gfSBmcm9tIFwiLi4vY29udGV4dC9QYXJhbVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9UaW1lbGluZVwiO1xuaW1wb3J0IHsgaXNVbmRlZiB9IGZyb20gXCIuLi91dGlsL1R5cGVDaGVja1wiO1xuLyoqXG4gKiBBIFBhcmFtIGNsYXNzIGp1c3QgZm9yIGNvbXB1dGluZyB0aWNrcy4gU2ltaWxhciB0byB0aGUgW1tQYXJhbV1dIGNsYXNzLFxuICogYnV0IG9mZmVycyBjb252ZXJzaW9uIHRvIEJQTSB2YWx1ZXMgYXMgd2VsbCBhcyBhYmlsaXR5IHRvIGNvbXB1dGUgdGlja1xuICogZHVyYXRpb24gYW5kIGVsYXBzZWQgdGlja3NcbiAqL1xuZXhwb3J0IGNsYXNzIFRpY2tQYXJhbSBleHRlbmRzIFBhcmFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoVGlja1BhcmFtLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaWNrUGFyYW1cIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lbGluZSB3aGljaCB0cmFja3MgYWxsIG9mIHRoZSBhdXRvbWF0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBUaW1lbGluZShJbmZpbml0eSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW50ZXJuYWwgaG9sZGVyIGZvciB0aGUgbXVsdGlwbGllciB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbXVsdGlwbGllciA9IDE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUaWNrUGFyYW0uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIC8vIHNldCB0aGUgbXVsdGlwbGllclxuICAgICAgICB0aGlzLl9tdWx0aXBsaWVyID0gb3B0aW9ucy5tdWx0aXBsaWVyO1xuICAgICAgICAvLyBjbGVhciB0aGUgdGlja3MgZnJvbSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIHRoaXMuX2V2ZW50cy5jYW5jZWwoMCk7XG4gICAgICAgIC8vIHNldCBhbiBpbml0aWFsIGV2ZW50XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hZGQoe1xuICAgICAgICAgICAgdGlja3M6IDAsXG4gICAgICAgICAgICB0aW1lOiAwLFxuICAgICAgICAgICAgdHlwZTogXCJzZXRWYWx1ZUF0VGltZVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2Zyb21UeXBlKG9wdGlvbnMudmFsdWUpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZUF0VGltZShvcHRpb25zLnZhbHVlLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihQYXJhbS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAgdW5pdHM6IFwiaGVydHpcIixcbiAgICAgICAgICAgIHZhbHVlOiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLCB0aW1lLCBjb25zdGFudCkge1xuICAgICAgICAvLyBhcHByb3hpbWF0ZSBpdCB3aXRoIG11bHRpcGxlIGxpbmVhciByYW1wc1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuc2V0UmFtcFBvaW50KHRpbWUpO1xuICAgICAgICBjb25zdCBjb21wdXRlZFZhbHVlID0gdGhpcy5fZnJvbVR5cGUodmFsdWUpO1xuICAgICAgICAvLyBzdGFydCBmcm9tIHByZXZpb3VzbHkgc2NoZWR1bGVkIHZhbHVlXG4gICAgICAgIGNvbnN0IHByZXZFdmVudCA9IHRoaXMuX2V2ZW50cy5nZXQodGltZSk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gTWF0aC5yb3VuZChNYXRoLm1heCgxIC8gY29uc3RhbnQsIDEpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2VnbWVudHM7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnVGltZSA9IGNvbnN0YW50ICogaSArIHRpbWU7XG4gICAgICAgICAgICBjb25zdCByYW1wVmFsID0gdGhpcy5fZXhwb25lbnRpYWxBcHByb2FjaChwcmV2RXZlbnQudGltZSwgcHJldkV2ZW50LnZhbHVlLCBjb21wdXRlZFZhbHVlLCBjb25zdGFudCwgc2VnVGltZSk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShyYW1wVmFsKSwgc2VnVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBzdXBlci5zZXRWYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICBjb25zdCBwcmV2aW91c0V2ZW50ID0gdGhpcy5fZXZlbnRzLnByZXZpb3VzRXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0aWNrc1VudGlsVGltZSA9IHRoaXMuX2dldFRpY2tzVW50aWxFdmVudChwcmV2aW91c0V2ZW50LCBjb21wdXRlZFRpbWUpO1xuICAgICAgICBldmVudC50aWNrcyA9IE1hdGgubWF4KHRpY2tzVW50aWxUaW1lLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBzdXBlci5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2YWx1ZSwgdGltZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICBjb25zdCBwcmV2aW91c0V2ZW50ID0gdGhpcy5fZXZlbnRzLnByZXZpb3VzRXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0aWNrc1VudGlsVGltZSA9IHRoaXMuX2dldFRpY2tzVW50aWxFdmVudChwcmV2aW91c0V2ZW50LCBjb21wdXRlZFRpbWUpO1xuICAgICAgICBldmVudC50aWNrcyA9IE1hdGgubWF4KHRpY2tzVW50aWxUaW1lLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodmFsdWUsIHRpbWUpIHtcbiAgICAgICAgLy8gYXByb3hpbWF0ZSBpdCB3aXRoIG11bHRpcGxlIGxpbmVhciByYW1wc1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVmFsID0gdGhpcy5fZnJvbVR5cGUodmFsdWUpO1xuICAgICAgICAvLyBzdGFydCBmcm9tIHByZXZpb3VzbHkgc2NoZWR1bGVkIHZhbHVlXG4gICAgICAgIGNvbnN0IHByZXZFdmVudCA9IHRoaXMuX2V2ZW50cy5nZXQodGltZSk7XG4gICAgICAgIC8vIGFwcHJveCAxMCBzZWdtZW50cyBwZXIgc2Vjb25kXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gTWF0aC5yb3VuZChNYXRoLm1heCgodGltZSAtIHByZXZFdmVudC50aW1lKSAqIDEwLCAxKSk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnREdXIgPSAoKHRpbWUgLSBwcmV2RXZlbnQudGltZSkgLyBzZWdtZW50cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ1RpbWUgPSBzZWdtZW50RHVyICogaSArIHByZXZFdmVudC50aW1lO1xuICAgICAgICAgICAgY29uc3QgcmFtcFZhbCA9IHRoaXMuX2V4cG9uZW50aWFsSW50ZXJwb2xhdGUocHJldkV2ZW50LnRpbWUsIHByZXZFdmVudC52YWx1ZSwgdGltZSwgY29tcHV0ZWRWYWwsIHNlZ1RpbWUpO1xuICAgICAgICAgICAgdGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1R5cGUocmFtcFZhbCksIHNlZ1RpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aWNrIHZhbHVlIGF0IHRoZSB0aW1lLiBUYWtlcyBpbnRvIGFjY291bnRcbiAgICAgKiBhbnkgYXV0b21hdGlvbiBjdXJ2ZXMgc2NoZWR1bGVkIG9uIHRoZSBzaWduYWwuXG4gICAgICogQHBhcmFtICBldmVudCBUaGUgdGltZSB0byBnZXQgdGhlIHRpY2sgY291bnQgYXRcbiAgICAgKiBAcmV0dXJuIFRoZSBudW1iZXIgb2YgdGlja3Mgd2hpY2ggaGF2ZSBlbGFwc2VkIGF0IHRoZSB0aW1lIGdpdmVuIGFueSBhdXRvbWF0aW9ucy5cbiAgICAgKi9cbiAgICBfZ2V0VGlja3NVbnRpbEV2ZW50KGV2ZW50LCB0aW1lKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgdGlja3M6IDAsXG4gICAgICAgICAgICAgICAgdGltZTogMCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNldFZhbHVlQXRUaW1lXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVW5kZWYoZXZlbnQudGlja3MpKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0V2ZW50ID0gdGhpcy5fZXZlbnRzLnByZXZpb3VzRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnQudGlja3MgPSB0aGlzLl9nZXRUaWNrc1VudGlsRXZlbnQocHJldmlvdXNFdmVudCwgZXZlbnQudGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsMCA9IHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUoZXZlbnQudGltZSkpO1xuICAgICAgICBsZXQgdmFsMSA9IHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUodGltZSkpO1xuICAgICAgICAvLyBpZiBpdCdzIHJpZ2h0IG9uIHRoZSBsaW5lLCB0YWtlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICBjb25zdCBvblRoZUxpbmVFdmVudCA9IHRoaXMuX2V2ZW50cy5nZXQodGltZSk7XG4gICAgICAgIGlmIChvblRoZUxpbmVFdmVudCAmJiBvblRoZUxpbmVFdmVudC50aW1lID09PSB0aW1lICYmIG9uVGhlTGluZUV2ZW50LnR5cGUgPT09IFwic2V0VmFsdWVBdFRpbWVcIikge1xuICAgICAgICAgICAgdmFsMSA9IHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUodGltZSAtIHRoaXMuc2FtcGxlVGltZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwLjUgKiAodGltZSAtIGV2ZW50LnRpbWUpICogKHZhbDAgKyB2YWwxKSArIGV2ZW50LnRpY2tzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aWNrIHZhbHVlIGF0IHRoZSB0aW1lLiBUYWtlcyBpbnRvIGFjY291bnRcbiAgICAgKiBhbnkgYXV0b21hdGlvbiBjdXJ2ZXMgc2NoZWR1bGVkIG9uIHRoZSBzaWduYWwuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGdldCB0aGUgdGljayBjb3VudCBhdFxuICAgICAqIEByZXR1cm4gVGhlIG51bWJlciBvZiB0aWNrcyB3aGljaCBoYXZlIGVsYXBzZWQgYXQgdGhlIHRpbWUgZ2l2ZW4gYW55IGF1dG9tYXRpb25zLlxuICAgICAqL1xuICAgIGdldFRpY2tzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fZXZlbnRzLmdldChjb21wdXRlZFRpbWUpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KGV2ZW50LCBjb21wdXRlZFRpbWUpLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbGFwc2VkIHRpbWUgb2YgdGhlIG51bWJlciBvZiB0aWNrcyBmcm9tIHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtIHRpY2tzIFRoZSBudW1iZXIgb2YgdGlja3MgdG8gY2FsY3VsYXRlXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHRvIGdldCB0aGUgbmV4dCB0aWNrIGZyb21cbiAgICAgKiBAcmV0dXJuIFRoZSBkdXJhdGlvbiBvZiB0aGUgbnVtYmVyIG9mIHRpY2tzIGZyb20gdGhlIGdpdmVuIHRpbWUgaW4gc2Vjb25kc1xuICAgICAqL1xuICAgIGdldER1cmF0aW9uT2ZUaWNrcyh0aWNrcywgdGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRpY2sgPSB0aGlzLmdldFRpY2tzQXRUaW1lKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaW1lT2ZUaWNrKGN1cnJlbnRUaWNrICsgdGlja3MpIC0gY29tcHV0ZWRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHRpY2ssIHJldHVybnMgdGhlIHRpbWUgdGhhdCB0aWNrIG9jY3VycyBhdC5cbiAgICAgKiBAcmV0dXJuIFRoZSB0aW1lIHRoYXQgdGhlIHRpY2sgb2NjdXJzLlxuICAgICAqL1xuICAgIGdldFRpbWVPZlRpY2sodGljaykge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLl9ldmVudHMuZ2V0KHRpY2ssIFwidGlja3NcIik7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gdGhpcy5fZXZlbnRzLmdldEFmdGVyKHRpY2ssIFwidGlja3NcIik7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLnRpY2tzID09PSB0aWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVmb3JlLnRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmVmb3JlICYmIGFmdGVyICYmXG4gICAgICAgICAgICBhZnRlci50eXBlID09PSBcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIgJiZcbiAgICAgICAgICAgIGJlZm9yZS52YWx1ZSAhPT0gYWZ0ZXIudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbDAgPSB0aGlzLl9mcm9tVHlwZSh0aGlzLmdldFZhbHVlQXRUaW1lKGJlZm9yZS50aW1lKSk7XG4gICAgICAgICAgICBjb25zdCB2YWwxID0gdGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZShhZnRlci50aW1lKSk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9ICh2YWwxIC0gdmFsMCkgLyAoYWZ0ZXIudGltZSAtIGJlZm9yZS50aW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSBNYXRoLnNxcnQoTWF0aC5wb3codmFsMCwgMikgLSAyICogZGVsdGEgKiAoYmVmb3JlLnRpY2tzIC0gdGljaykpO1xuICAgICAgICAgICAgY29uc3Qgc29sMSA9ICgtdmFsMCArIGspIC8gZGVsdGE7XG4gICAgICAgICAgICBjb25zdCBzb2wyID0gKC12YWwwIC0gaykgLyBkZWx0YTtcbiAgICAgICAgICAgIHJldHVybiAoc29sMSA+IDAgPyBzb2wxIDogc29sMikgKyBiZWZvcmUudGltZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmUudmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVmb3JlLnRpbWUgKyAodGljayAtIGJlZm9yZS50aWNrcykgLyBiZWZvcmUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGljayAvIHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHNvbWUgbnVtYmVyIG9mIHRpY2tzIHRoZWlyIHRoZSBkdXJhdGlvbiBpbiBzZWNvbmRzIGFjY291bnRpbmdcbiAgICAgKiBmb3IgYW55IGF1dG9tYXRpb24gY3VydmVzIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGlja3MgVGhlIG51bWJlciBvZiB0aWNrcyB0byBjb252ZXJ0IHRvIHNlY29uZHMuXG4gICAgICogQHBhcmFtICB3aGVuICBXaGVuIGFsb25nIHRoZSBhdXRvbWF0aW9uIHRpbWVsaW5lIHRvIGNvbnZlcnQgdGhlIHRpY2tzLlxuICAgICAqIEByZXR1cm4gVGhlIGR1cmF0aW9uIGluIHNlY29uZHMgb2YgdGhlIHRpY2tzLlxuICAgICAqL1xuICAgIHRpY2tzVG9UaW1lKHRpY2tzLCB3aGVuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldER1cmF0aW9uT2ZUaWNrcyh0aWNrcywgd2hlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIFtbdGlja3NUb1RpbWVdXS4gQ29udmVydCBhIGR1cmF0aW9uIGluXG4gICAgICogc2Vjb25kcyB0byB0aGUgY29ycmVzcG9uZGluZyBudW1iZXIgb2YgdGlja3MgYWNjb3VudGluZyBmb3IgYW55XG4gICAgICogYXV0b21hdGlvbiBjdXJ2ZXMgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiBUaGUgdGltZSBpbnRlcnZhbCB0byBjb252ZXJ0IHRvIHRpY2tzLlxuICAgICAqIEBwYXJhbSAgd2hlbiBXaGVuIGFsb25nIHRoZSBhdXRvbWF0aW9uIHRpbWVsaW5lIHRvIGNvbnZlcnQgdGhlIHRpY2tzLlxuICAgICAqIEByZXR1cm4gVGhlIGR1cmF0aW9uIGluIHRpY2tzLlxuICAgICAqL1xuICAgIHRpbWVUb1RpY2tzKGR1cmF0aW9uLCB3aGVuKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHdoZW4pO1xuICAgICAgICBjb25zdCBjb21wdXRlZER1cmF0aW9uID0gdGhpcy50b1NlY29uZHMoZHVyYXRpb24pO1xuICAgICAgICBjb25zdCBzdGFydFRpY2tzID0gdGhpcy5nZXRUaWNrc0F0VGltZShjb21wdXRlZFRpbWUpO1xuICAgICAgICBjb25zdCBlbmRUaWNrcyA9IHRoaXMuZ2V0VGlja3NBdFRpbWUoY29tcHV0ZWRUaW1lICsgY29tcHV0ZWREdXJhdGlvbik7XG4gICAgICAgIHJldHVybiBlbmRUaWNrcyAtIHN0YXJ0VGlja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgZnJvbSB0aGUgdHlwZSB3aGVuIHRoZSB1bml0IHZhbHVlIGlzIEJQTVxuICAgICAqL1xuICAgIF9mcm9tVHlwZSh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMudW5pdHMgPT09IFwiYnBtXCIgJiYgdGhpcy5tdWx0aXBsaWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gMSAvICg2MCAvIHZhbCAvIHRoaXMubXVsdGlwbGllcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuX2Zyb21UeXBlKHZhbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BlY2lhbCBjYXNlIG9mIHR5cGUgY29udmVyc2lvbiB3aGVyZSB0aGUgdW5pdHMgPT09IFwiYnBtXCJcbiAgICAgKi9cbiAgICBfdG9UeXBlKHZhbCkge1xuICAgICAgICBpZiAodGhpcy51bml0cyA9PT0gXCJicG1cIiAmJiB0aGlzLm11bHRpcGxpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsIC8gdGhpcy5tdWx0aXBsaWVyKSAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLl90b1R5cGUodmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG11bHRpcGxpZXIgb24gdGhlIGJwbSB2YWx1ZS4gVXNlZnVsIGZvciBzZXR0aW5nIGEgUFBRIHJlbGF0aXZlIHRvIHRoZSBiYXNlIGZyZXF1ZW5jeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXQgbXVsdGlwbGllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX211bHRpcGxpZXI7XG4gICAgfVxuICAgIHNldCBtdWx0aXBsaWVyKG0pIHtcbiAgICAgICAgLy8gZ2V0IGFuZCByZXNldCB0aGUgY3VycmVudCB2YWx1ZSB3aXRoIHRoZSBuZXcgbXVsdGlwbGllclxuICAgICAgICAvLyBtaWdodCBiZSBuZWNlc3NhcnkgdG8gY2xlYXIgYWxsIHRoZSBwcmV2aW91cyB2YWx1ZXNcbiAgICAgICAgY29uc3QgY3VycmVudFZhbCA9IHRoaXMudmFsdWU7XG4gICAgICAgIHRoaXMuX211bHRpcGxpZXIgPSBtO1xuICAgICAgICB0aGlzLmNhbmNlbFNjaGVkdWxlZFZhbHVlcygwKTtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZUF0VGltZShjdXJyZW50VmFsLCAwKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrUGFyYW0uanMubWFwIiwiaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFRpY2tQYXJhbSB9IGZyb20gXCIuL1RpY2tQYXJhbVwiO1xuLyoqXG4gKiBUaWNrU2lnbmFsIGV4dGVuZHMgVG9uZS5TaWduYWwsIGJ1dCBhZGRzIHRoZSBjYXBhYmlsaXR5XG4gKiB0byBjYWxjdWxhdGUgdGhlIG51bWJlciBvZiBlbGFwc2VkIHRpY2tzLiBleHBvbmVudGlhbCBhbmQgdGFyZ2V0IGN1cnZlc1xuICogYXJlIGFwcHJveGltYXRlZCB3aXRoIG11bHRpcGxlIGxpbmVhciByYW1wcy5cbiAqXG4gKiBUaGFuayB5b3UgQnJ1bm8gRGlhcywgSC4gU29maWEgUGludG8sIGFuZCBEYXZpZCBNLiBNYXRvcyxcbiAqIGZvciB5b3VyIFtXQUMgcGFwZXJdKGh0dHBzOi8vc21hcnRlY2guZ2F0ZWNoLmVkdS9iaXRzdHJlYW0vaGFuZGxlLzE4NTMvNTQ1ODgvV0FDMjAxNi00OS5wZGYpXG4gKiBkZXNjcmliaW5nIGludGVncmF0aW5nIHRpbWluZyBmdW5jdGlvbnMgZm9yIHRlbXBvIGNhbGN1bGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpY2tTaWduYWwgZXh0ZW5kcyBTaWduYWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUaWNrU2lnbmFsLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaWNrU2lnbmFsXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUaWNrU2lnbmFsLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIl0pO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fcGFyYW0gPSBuZXcgVGlja1BhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGNvbnZlcnQ6IG9wdGlvbnMuY29udmVydCxcbiAgICAgICAgICAgIG11bHRpcGxpZXI6IG9wdGlvbnMubXVsdGlwbGllcixcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9jb25zdGFudFNvdXJjZS5vZmZzZXQsXG4gICAgICAgICAgICB1bml0czogb3B0aW9ucy51bml0cyxcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLnZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihTaWduYWwuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbXVsdGlwbGllcjogMSxcbiAgICAgICAgICAgIHVuaXRzOiBcImhlcnR6XCIsXG4gICAgICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRpY2tzVG9UaW1lKHRpY2tzLCB3aGVuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS50aWNrc1RvVGltZSh0aWNrcywgd2hlbik7XG4gICAgfVxuICAgIHRpbWVUb1RpY2tzKGR1cmF0aW9uLCB3aGVuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS50aW1lVG9UaWNrcyhkdXJhdGlvbiwgd2hlbik7XG4gICAgfVxuICAgIGdldFRpbWVPZlRpY2sodGljaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW0uZ2V0VGltZU9mVGljayh0aWNrKTtcbiAgICB9XG4gICAgZ2V0RHVyYXRpb25PZlRpY2tzKHRpY2tzLCB0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5nZXREdXJhdGlvbk9mVGlja3ModGlja3MsIHRpbWUpO1xuICAgIH1cbiAgICBnZXRUaWNrc0F0VGltZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5nZXRUaWNrc0F0VGltZSh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtdWx0aXBsaWVyIG9uIHRoZSBicG0gdmFsdWUuIFVzZWZ1bCBmb3Igc2V0dGluZyBhIFBQUSByZWxhdGl2ZSB0byB0aGUgYmFzZSBmcmVxdWVuY3kgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0IG11bHRpcGxpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbS5tdWx0aXBsaWVyO1xuICAgIH1cbiAgICBzZXQgbXVsdGlwbGllcihtKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtLm11bHRpcGxpZXIgPSBtO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3BhcmFtLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja1NpZ25hbC5qcy5tYXAiLCJpbXBvcnQgeyBUb25lV2l0aENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9Ub25lV2l0aENvbnRleHRcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBTdGF0ZVRpbWVsaW5lIH0gZnJvbSBcIi4uL3V0aWwvU3RhdGVUaW1lbGluZVwiO1xuaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9UaW1lbGluZVwiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBUaWNrU2lnbmFsIH0gZnJvbSBcIi4vVGlja1NpZ25hbFwiO1xuaW1wb3J0IHsgRVEgfSBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XG4vKipcbiAqIFVzZXMgW1RpY2tTaWduYWxdKFRpY2tTaWduYWwpIHRvIHRyYWNrIGVsYXBzZWQgdGlja3Mgd2l0aCBjb21wbGV4IGF1dG9tYXRpb24gY3VydmVzLlxuICovXG5leHBvcnQgY2xhc3MgVGlja1NvdXJjZSBleHRlbmRzIFRvbmVXaXRoQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFRpY2tTb3VyY2UuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaWNrU291cmNlXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgdGltZWxpbmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gbmV3IFN0YXRlVGltZWxpbmUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgdmFsdWVzIG9mIHRoZSB0aWNrc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja09mZnNldCA9IG5ldyBUaW1lbGluZSgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVGlja1NvdXJjZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiXSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gbmV3IFRpY2tTaWduYWwoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdW5pdHM6IG9wdGlvbnMudW5pdHMsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgIH0pO1xuICAgICAgICByZWFkT25seSh0aGlzLCBcImZyZXF1ZW5jeVwiKTtcbiAgICAgICAgLy8gc2V0IHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLCAwKTtcbiAgICAgICAgLy8gYWRkIHRoZSBmaXJzdCBldmVudFxuICAgICAgICB0aGlzLnNldFRpY2tzQXRUaW1lKDAsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogMSxcbiAgICAgICAgICAgIHVuaXRzOiBcImhlcnR6XCIsXG4gICAgICAgIH0sIFRvbmVXaXRoQ29udGV4dC5nZXREZWZhdWx0cygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGxheWJhY2sgc3RhdGUgb2YgdGhlIHNvdXJjZSwgZWl0aGVyIFwic3RhcnRlZFwiLCBcInN0b3BwZWRcIiBvciBcInBhdXNlZFwiLlxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGVBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBjbG9jayBhdCB0aGUgZ2l2ZW4gdGltZS4gT3B0aW9uYWxseSBwYXNzIGluIGFuIG9mZnNldFxuICAgICAqIG9mIHdoZXJlIHRvIHN0YXJ0IHRoZSB0aWNrIGNvdW50ZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgVGhlIHRpbWUgdGhlIGNsb2NrIHNob3VsZCBzdGFydFxuICAgICAqIEBwYXJhbSBvZmZzZXQgVGhlIG51bWJlciBvZiB0aWNrcyB0byBzdGFydCB0aGUgc291cmNlIGF0XG4gICAgICovXG4gICAgc3RhcnQodGltZSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RhcnRlZFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUaWNrc0F0VGltZShvZmZzZXQsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGNsb2NrLiBTdG9wcGluZyB0aGUgY2xvY2sgcmVzZXRzIHRoZSB0aWNrIGNvdW50ZXIgdG8gMC5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB3aGVuIHRoZSBjbG9jayBzaG91bGQgc3RvcC5cbiAgICAgKi9cbiAgICBzdG9wKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIC8vIGNhbmNlbCB0aGUgcHJldmlvdXMgc3RvcFxuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSA9PT0gXCJzdG9wcGVkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrT2Zmc2V0LmNhbmNlbChldmVudC50aW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoZXZlbnQudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGUuY2FuY2VsKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLnNldFRpY2tzQXRUaW1lKDAsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgY2xvY2suIFBhdXNpbmcgZG9lcyBub3QgcmVzZXQgdGhlIHRpY2sgY291bnRlci5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB3aGVuIHRoZSBjbG9jayBzaG91bGQgc3RvcC5cbiAgICAgKi9cbiAgICBwYXVzZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwicGF1c2VkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbCBzdGFydC9zdG9wL3BhdXNlIGFuZCBzZXRUaWNrQXRUaW1lIGV2ZW50cyBzY2hlZHVsZWQgYWZ0ZXIgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtIHRpbWUgV2hlbiB0byBjbGVhciB0aGUgZXZlbnRzIGFmdGVyXG4gICAgICovXG4gICAgY2FuY2VsKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwodGltZSk7XG4gICAgICAgIHRoaXMuX3RpY2tPZmZzZXQuY2FuY2VsKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGFwc2VkIHRpY2tzIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICB0aW1lICBXaGVuIHRvIGdldCB0aGUgdGljayB2YWx1ZVxuICAgICAqIEByZXR1cm4gVGhlIG51bWJlciBvZiB0aWNrc1xuICAgICAqL1xuICAgIGdldFRpY2tzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IHN0b3BFdmVudCA9IHRoaXMuX3N0YXRlLmdldExhc3RTdGF0ZShcInN0b3BwZWRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgLy8gdGhpcyBldmVudCBhbGxvd3MgZm9yRWFjaEJldHdlZW4gdG8gaXRlcmF0ZSB1bnRpbCB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgIGNvbnN0IHRtcEV2ZW50ID0geyBzdGF0ZTogXCJwYXVzZWRcIiwgdGltZTogY29tcHV0ZWRUaW1lIH07XG4gICAgICAgIHRoaXMuX3N0YXRlLmFkZCh0bXBFdmVudCk7XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIHByZXZpb3VzIG9mZnNldCBldmVudFxuICAgICAgICBsZXQgbGFzdFN0YXRlID0gc3RvcEV2ZW50O1xuICAgICAgICBsZXQgZWxhcHNlZFRpY2tzID0gMDtcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgZXZlbnRzIHNpbmNlIHRoZSBsYXN0IHN0b3BcbiAgICAgICAgdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oc3RvcEV2ZW50LnRpbWUsIGNvbXB1dGVkVGltZSArIHRoaXMuc2FtcGxlVGltZSwgZSA9PiB7XG4gICAgICAgICAgICBsZXQgcGVyaW9kU3RhcnRUaW1lID0gbGFzdFN0YXRlLnRpbWU7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBvZmZzZXQgZXZlbnQgaW4gdGhpcyBwZXJpb2QgdXNlIHRoYXRcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldEV2ZW50ID0gdGhpcy5fdGlja09mZnNldC5nZXQoZS50aW1lKTtcbiAgICAgICAgICAgIGlmIChvZmZzZXRFdmVudCAmJiBvZmZzZXRFdmVudC50aW1lID49IGxhc3RTdGF0ZS50aW1lKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZFRpY2tzID0gb2Zmc2V0RXZlbnQudGlja3M7XG4gICAgICAgICAgICAgICAgcGVyaW9kU3RhcnRUaW1lID0gb2Zmc2V0RXZlbnQudGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuc3RhdGUgPT09IFwic3RhcnRlZFwiICYmIGUuc3RhdGUgIT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZFRpY2tzICs9IHRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKGUudGltZSkgLSB0aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShwZXJpb2RTdGFydFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFN0YXRlID0gZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGV2ZW50XG4gICAgICAgIHRoaXMuX3N0YXRlLnJlbW92ZSh0bXBFdmVudCk7XG4gICAgICAgIC8vIHJldHVybiB0aGUgdGlja3NcbiAgICAgICAgcmV0dXJuIGVsYXBzZWRUaWNrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgY2FsbGJhY2sgd2FzIGludm9rZWQuIFN0YXJ0cyBjb3VudGluZyBhdCAwXG4gICAgICogYW5kIGluY3JlbWVudHMgYWZ0ZXIgdGhlIGNhbGxiYWNrIHdhcyBpbnZva2VkLiBSZXR1cm5zIC0xIHdoZW4gc3RvcHBlZC5cbiAgICAgKi9cbiAgICBnZXQgdGlja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tzQXRUaW1lKHRoaXMubm93KCkpO1xuICAgIH1cbiAgICBzZXQgdGlja3ModCkge1xuICAgICAgICB0aGlzLnNldFRpY2tzQXRUaW1lKHQsIHRoaXMubm93KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSBzaW5jZSB0aWNrcz0wIHRoYXQgdGhlIFRpY2tTb3VyY2UgaGFzIGJlZW4gcnVubmluZy4gQWNjb3VudHNcbiAgICAgKiBmb3IgdGVtcG8gY3VydmVzXG4gICAgICovXG4gICAgZ2V0IHNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlY29uZHNBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIHNldCBzZWNvbmRzKHMpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLmZyZXF1ZW5jeS50aW1lVG9UaWNrcyhzLCBub3cpO1xuICAgICAgICB0aGlzLnNldFRpY2tzQXRUaW1lKHRpY2tzLCBub3cpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVsYXBzZWQgc2Vjb25kcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSBlbGFwc2VkIHNlY29uZHNcbiAgICAgKiBAcmV0dXJuICBUaGUgbnVtYmVyIG9mIGVsYXBzZWQgc2Vjb25kc1xuICAgICAqL1xuICAgIGdldFNlY29uZHNBdFRpbWUodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IHN0b3BFdmVudCA9IHRoaXMuX3N0YXRlLmdldExhc3RTdGF0ZShcInN0b3BwZWRcIiwgdGltZSk7XG4gICAgICAgIC8vIHRoaXMgZXZlbnQgYWxsb3dzIGZvckVhY2hCZXR3ZWVuIHRvIGl0ZXJhdGUgdW50aWwgdGhlIGN1cnJlbnQgdGltZVxuICAgICAgICBjb25zdCB0bXBFdmVudCA9IHsgc3RhdGU6IFwicGF1c2VkXCIsIHRpbWUgfTtcbiAgICAgICAgdGhpcy5fc3RhdGUuYWRkKHRtcEV2ZW50KTtcbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgb2Zmc2V0IGV2ZW50XG4gICAgICAgIGxldCBsYXN0U3RhdGUgPSBzdG9wRXZlbnQ7XG4gICAgICAgIGxldCBlbGFwc2VkU2Vjb25kcyA9IDA7XG4gICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIGV2ZW50cyBzaW5jZSB0aGUgbGFzdCBzdG9wXG4gICAgICAgIHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKHN0b3BFdmVudC50aW1lLCB0aW1lICsgdGhpcy5zYW1wbGVUaW1lLCBlID0+IHtcbiAgICAgICAgICAgIGxldCBwZXJpb2RTdGFydFRpbWUgPSBsYXN0U3RhdGUudGltZTtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIG9mZnNldCBldmVudCBpbiB0aGlzIHBlcmlvZCB1c2UgdGhhdFxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0RXZlbnQgPSB0aGlzLl90aWNrT2Zmc2V0LmdldChlLnRpbWUpO1xuICAgICAgICAgICAgaWYgKG9mZnNldEV2ZW50ICYmIG9mZnNldEV2ZW50LnRpbWUgPj0gbGFzdFN0YXRlLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkU2Vjb25kcyA9IG9mZnNldEV2ZW50LnNlY29uZHM7XG4gICAgICAgICAgICAgICAgcGVyaW9kU3RhcnRUaW1lID0gb2Zmc2V0RXZlbnQudGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuc3RhdGUgPT09IFwic3RhcnRlZFwiICYmIGUuc3RhdGUgIT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZFNlY29uZHMgKz0gZS50aW1lIC0gcGVyaW9kU3RhcnRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFN0YXRlID0gZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGV2ZW50XG4gICAgICAgIHRoaXMuX3N0YXRlLnJlbW92ZSh0bXBFdmVudCk7XG4gICAgICAgIC8vIHJldHVybiB0aGUgdGlja3NcbiAgICAgICAgcmV0dXJuIGVsYXBzZWRTZWNvbmRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNsb2NrJ3MgdGlja3MgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aWNrcyBUaGUgdGljayB2YWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gc2V0IHRoZSB0aWNrIHZhbHVlXG4gICAgICovXG4gICAgc2V0VGlja3NBdFRpbWUodGlja3MsIHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl90aWNrT2Zmc2V0LmNhbmNlbCh0aW1lKTtcbiAgICAgICAgdGhpcy5fdGlja09mZnNldC5hZGQoe1xuICAgICAgICAgICAgc2Vjb25kczogdGhpcy5mcmVxdWVuY3kuZ2V0RHVyYXRpb25PZlRpY2tzKHRpY2tzLCB0aW1lKSxcbiAgICAgICAgICAgIHRpY2tzLFxuICAgICAgICAgICAgdGltZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzY2hlZHVsZWQgc3RhdGUgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgdGltZSB0byBxdWVyeS5cbiAgICAgKi9cbiAgICBnZXRTdGF0ZUF0VGltZSh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbWUgb2YgdGhlIGdpdmVuIHRpY2suIFRoZSBzZWNvbmQgYXJndW1lbnRcbiAgICAgKiBpcyB3aGVuIHRvIHRlc3QgYmVmb3JlLiBTaW5jZSB0aWNrcyBjYW4gYmUgc2V0ICh3aXRoIHNldFRpY2tzQXRUaW1lKVxuICAgICAqIHRoZXJlIG1heSBiZSBtdWx0aXBsZSB0aW1lcyBmb3IgYSBnaXZlbiB0aWNrIHZhbHVlLlxuICAgICAqIEBwYXJhbSAgdGljayBUaGUgdGljayBudW1iZXIuXG4gICAgICogQHBhcmFtICBiZWZvcmUgV2hlbiB0byBtZWFzdXJlIHRoZSB0aWNrIHZhbHVlIGZyb20uXG4gICAgICogQHJldHVybiBUaGUgdGltZSBvZiB0aGUgdGlja1xuICAgICAqL1xuICAgIGdldFRpbWVPZlRpY2sodGljaywgYmVmb3JlID0gdGhpcy5ub3coKSkge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl90aWNrT2Zmc2V0LmdldChiZWZvcmUpO1xuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX3N0YXRlLmdldChiZWZvcmUpO1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBNYXRoLm1heChvZmZzZXQudGltZSwgZXZlbnQudGltZSk7XG4gICAgICAgIGNvbnN0IGFic29sdXRlVGlja3MgPSB0aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShzdGFydFRpbWUpICsgdGljayAtIG9mZnNldC50aWNrcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJlcXVlbmN5LmdldFRpbWVPZlRpY2soYWJzb2x1dGVUaWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgY2FsbGJhY2sgZXZlbnQgYXQgYWxsIHNjaGVkdWxlZCB0aWNrcyBiZXR3ZWVuIHRoZVxuICAgICAqIHN0YXJ0IHRpbWUgYW5kIHRoZSBlbmQgdGltZVxuICAgICAqIEBwYXJhbSAgc3RhcnRUaW1lICBUaGUgYmVnaW5uaW5nIG9mIHRoZSBzZWFyY2ggcmFuZ2VcbiAgICAgKiBAcGFyYW0gIGVuZFRpbWUgICAgVGhlIGVuZCBvZiB0aGUgc2VhcmNoIHJhbmdlXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBlYWNoIHRpY2tcbiAgICAgKi9cbiAgICBmb3JFYWNoVGlja0JldHdlZW4oc3RhcnRUaW1lLCBlbmRUaW1lLCBjYWxsYmFjaykge1xuICAgICAgICAvLyBvbmx5IGl0ZXJhdGUgdGhyb3VnaCB0aGUgc2VjdGlvbnMgd2hlcmUgaXQgaXMgXCJzdGFydGVkXCJcbiAgICAgICAgbGV0IGxhc3RTdGF0ZUV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0KHN0YXJ0VGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKHN0YXJ0VGltZSwgZW5kVGltZSwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZUV2ZW50ICYmIGxhc3RTdGF0ZUV2ZW50LnN0YXRlID09PSBcInN0YXJ0ZWRcIiAmJiBldmVudC5zdGF0ZSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvckVhY2hUaWNrQmV0d2VlbihNYXRoLm1heChsYXN0U3RhdGVFdmVudC50aW1lLCBzdGFydFRpbWUpLCBldmVudC50aW1lIC0gdGhpcy5zYW1wbGVUaW1lLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U3RhdGVFdmVudCA9IGV2ZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICAgICAgaWYgKGxhc3RTdGF0ZUV2ZW50ICYmIGxhc3RTdGF0ZUV2ZW50LnN0YXRlID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgY29uc3QgbWF4U3RhcnRUaW1lID0gTWF0aC5tYXgobGFzdFN0YXRlRXZlbnQudGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZnJlcXVlbmN5IHRpY2tzIGFuZCB0aGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGlja3MgPSB0aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShtYXhTdGFydFRpbWUpO1xuICAgICAgICAgICAgY29uc3QgdGlja3NBdFN0YXJ0ID0gdGhpcy5mcmVxdWVuY3kuZ2V0VGlja3NBdFRpbWUobGFzdFN0YXRlRXZlbnQudGltZSk7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gc3RhcnRUaWNrcyAtIHRpY2tzQXRTdGFydDtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSBNYXRoLmNlaWwoZGlmZikgLSBkaWZmO1xuICAgICAgICAgICAgLy8gZ3VhcmQgYWdhaW5zdCBmbG9hdGluZyBwb2ludCBpc3N1ZXNcbiAgICAgICAgICAgIG9mZnNldCA9IEVRKG9mZnNldCwgMSkgPyAwIDogb2Zmc2V0O1xuICAgICAgICAgICAgbGV0IG5leHRUaWNrVGltZSA9IHRoaXMuZnJlcXVlbmN5LmdldFRpbWVPZlRpY2soc3RhcnRUaWNrcyArIG9mZnNldCk7XG4gICAgICAgICAgICB3aGlsZSAobmV4dFRpY2tUaW1lIDwgZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5leHRUaWNrVGltZSwgTWF0aC5yb3VuZCh0aGlzLmdldFRpY2tzQXRUaW1lKG5leHRUaWNrVGltZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dFRpY2tUaW1lICs9IHRoaXMuZnJlcXVlbmN5LmdldER1cmF0aW9uT2ZUaWNrcygxLCBuZXh0VGlja1RpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3RpY2tPZmZzZXQuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tTb3VyY2UuanMubWFwIiwiaW1wb3J0IHsgVG9uZVdpdGhDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvVG9uZVdpdGhDb250ZXh0XCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIi4uL3V0aWwvRW1pdHRlclwiO1xuaW1wb3J0IHsgbm9PcCwgcmVhZE9ubHkgfSBmcm9tIFwiLi4vdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFN0YXRlVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9TdGF0ZVRpbWVsaW5lXCI7XG5pbXBvcnQgeyBUaWNrU291cmNlIH0gZnJvbSBcIi4vVGlja1NvdXJjZVwiO1xuaW1wb3J0IHsgYXNzZXJ0Q29udGV4dFJ1bm5pbmcgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBBIHNhbXBsZSBhY2N1cmF0ZSBjbG9jayB3aGljaCBwcm92aWRlcyBhIGNhbGxiYWNrIGF0IHRoZSBnaXZlbiByYXRlLlxuICogV2hpbGUgdGhlIGNhbGxiYWNrIGlzIG5vdCBzYW1wbGUtYWNjdXJhdGUgKGl0IGlzIHN0aWxsIHN1c2NlcHRpYmxlIHRvXG4gKiBsb29zZSBKUyB0aW1pbmcpLCB0aGUgdGltZSBwYXNzZWQgaW4gYXMgdGhlIGFyZ3VtZW50IHRvIHRoZSBjYWxsYmFja1xuICogaXMgcHJlY2lzZS4gRm9yIG1vc3QgYXBwbGljYXRpb25zLCBpdCBpcyBiZXR0ZXIgdG8gdXNlIFRvbmUuVHJhbnNwb3J0XG4gKiBpbnN0ZWFkIG9mIHRoZSBDbG9jayBieSBpdHNlbGYgc2luY2UgeW91IGNhbiBzeW5jaHJvbml6ZSBtdWx0aXBsZSBjYWxsYmFja3MuXG4gKiBAZXhhbXBsZVxuICogLy8gdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBhcHByb3hpbWF0ZWx5IG9uY2UgYSBzZWNvbmRcbiAqIC8vIGFuZCB3aWxsIHByaW50IHRoZSB0aW1lIGV4YWN0bHkgb25jZSBhIHNlY29uZCBhcGFydC5cbiAqIGNvbnN0IGNsb2NrID0gbmV3IFRvbmUuQ2xvY2sodGltZSA9PiB7XG4gKiBcdGNvbnNvbGUubG9nKHRpbWUpO1xuICogfSwgMSk7XG4gKiBjbG9jay5zdGFydCgpO1xuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNsYXNzIENsb2NrIGV4dGVuZHMgVG9uZVdpdGhDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoQ2xvY2suZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJjYWxsYmFja1wiLCBcImZyZXF1ZW5jeVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNsb2NrXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gaW52b2tlIGF0IHRoZSBzY2hlZHVsZWQgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBub09wO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB0aGUgbG9vcCBjYWxsYmFjayB3YXMgaW52b2tlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdFVwZGF0ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIHRoZSBwbGF5YmFjayBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgU3RhdGVUaW1lbGluZShcInN0b3BwZWRcIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250ZXh0IGJvdW5kIHJlZmVyZW5jZSB0byB0aGUgX2xvb3AgbWV0aG9kXG4gICAgICAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIHJlbW92ZSB0aGUgZXZlbnQgaW4gdGhlIGVuZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kTG9vcCA9IHRoaXMuX2xvb3AuYmluZCh0aGlzKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKENsb2NrLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiY2FsbGJhY2tcIiwgXCJmcmVxdWVuY3lcIl0pO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjaztcbiAgICAgICAgdGhpcy5fdGlja1NvdXJjZSA9IG5ldyBUaWNrU291cmNlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgICAgICB1bml0czogb3B0aW9ucy51bml0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2xhc3RVcGRhdGUgPSAwO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IHRoaXMuX3RpY2tTb3VyY2UuZnJlcXVlbmN5O1xuICAgICAgICByZWFkT25seSh0aGlzLCBcImZyZXF1ZW5jeVwiKTtcbiAgICAgICAgLy8gYWRkIGFuIGluaXRpYWwgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIDApO1xuICAgICAgICAvLyBiaW5kIGEgY2FsbGJhY2sgdG8gdGhlIHdvcmtlciB0aHJlYWRcbiAgICAgICAgdGhpcy5jb250ZXh0Lm9uKFwidGlja1wiLCB0aGlzLl9ib3VuZExvb3ApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVXaXRoQ29udGV4dC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjYWxsYmFjazogbm9PcCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogMSxcbiAgICAgICAgICAgIHVuaXRzOiBcImhlcnR6XCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwbGF5YmFjayBzdGF0ZSBvZiB0aGUgc291cmNlLCBlaXRoZXIgXCJzdGFydGVkXCIsIFwic3RvcHBlZFwiIG9yIFwicGF1c2VkXCIuXG4gICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBjbG9jayBhdCB0aGUgZ2l2ZW4gdGltZS4gT3B0aW9uYWxseSBwYXNzIGluIGFuIG9mZnNldFxuICAgICAqIG9mIHdoZXJlIHRvIHN0YXJ0IHRoZSB0aWNrIGNvdW50ZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgVGhlIHRpbWUgdGhlIGNsb2NrIHNob3VsZCBzdGFydFxuICAgICAqIEBwYXJhbSBvZmZzZXQgIFdoZXJlIHRoZSB0aWNrIGNvdW50ZXIgc3RhcnRzIGNvdW50aW5nIGZyb20uXG4gICAgICovXG4gICAgc3RhcnQodGltZSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgY29udGV4dCBpcyBydW5uaW5nXG4gICAgICAgIGFzc2VydENvbnRleHRSdW5uaW5nKHRoaXMuY29udGV4dCk7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBsb29wXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLmxvZyhcInN0YXJ0XCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpICE9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB0aGlzLl90aWNrU291cmNlLnN0YXJ0KGNvbXB1dGVkVGltZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGlmIChjb21wdXRlZFRpbWUgPCB0aGlzLl9sYXN0VXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RhcnRcIiwgY29tcHV0ZWRUaW1lLCBvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjbG9jay4gU3RvcHBpbmcgdGhlIGNsb2NrIHJlc2V0cyB0aGUgdGljayBjb3VudGVyIHRvIDAuXG4gICAgICogQHBhcmFtIHRpbWUgVGhlIHRpbWUgd2hlbiB0aGUgY2xvY2sgc2hvdWxkIHN0b3AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjbG9jayA9IG5ldyBUb25lLkNsb2NrKHRpbWUgPT4ge1xuICAgICAqIFx0Y29uc29sZS5sb2codGltZSk7XG4gICAgICogfSwgMSk7XG4gICAgICogY2xvY2suc3RhcnQoKTtcbiAgICAgKiAvLyBzdG9wIHRoZSBjbG9jayBhZnRlciAxMCBzZWNvbmRzXG4gICAgICogY2xvY2suc3RvcChcIisxMFwiKTtcbiAgICAgKi9cbiAgICBzdG9wKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMubG9nKFwic3RvcFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3RpY2tTb3VyY2Uuc3RvcChjb21wdXRlZFRpbWUpO1xuICAgICAgICBpZiAoY29tcHV0ZWRUaW1lIDwgdGhpcy5fbGFzdFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RvcFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgY2xvY2suIFBhdXNpbmcgZG9lcyBub3QgcmVzZXQgdGhlIHRpY2sgY291bnRlci5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB3aGVuIHRoZSBjbG9jayBzaG91bGQgc3RvcC5cbiAgICAgKi9cbiAgICBwYXVzZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwicGF1c2VkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB0aGlzLl90aWNrU291cmNlLnBhdXNlKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRUaW1lIDwgdGhpcy5fbGFzdFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInBhdXNlXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGNhbGxiYWNrIHdhcyBpbnZva2VkLiBTdGFydHMgY291bnRpbmcgYXQgMFxuICAgICAqIGFuZCBpbmNyZW1lbnRzIGFmdGVyIHRoZSBjYWxsYmFjayB3YXMgaW52b2tlZC5cbiAgICAgKi9cbiAgICBnZXQgdGlja3MoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5nZXRUaWNrc0F0VGltZSh0aGlzLm5vdygpKSk7XG4gICAgfVxuICAgIHNldCB0aWNrcyh0KSB7XG4gICAgICAgIHRoaXMuX3RpY2tTb3VyY2UudGlja3MgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSBzaW5jZSB0aWNrcz0wIHRoYXQgdGhlIENsb2NrIGhhcyBiZWVuIHJ1bm5pbmcuIEFjY291bnRzIGZvciB0ZW1wbyBjdXJ2ZXNcbiAgICAgKi9cbiAgICBnZXQgc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tTb3VyY2Uuc2Vjb25kcztcbiAgICB9XG4gICAgc2V0IHNlY29uZHMocykge1xuICAgICAgICB0aGlzLl90aWNrU291cmNlLnNlY29uZHMgPSBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVsYXBzZWQgc2Vjb25kcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSBlbGFwc2VkIHNlY29uZHNcbiAgICAgKiBAcmV0dXJuICBUaGUgbnVtYmVyIG9mIGVsYXBzZWQgc2Vjb25kc1xuICAgICAqL1xuICAgIGdldFNlY29uZHNBdFRpbWUodGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5nZXRTZWNvbmRzQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNsb2NrJ3MgdGlja3MgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aWNrcyBUaGUgdGljayB2YWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gc2V0IHRoZSB0aWNrIHZhbHVlXG4gICAgICovXG4gICAgc2V0VGlja3NBdFRpbWUodGlja3MsIHRpbWUpIHtcbiAgICAgICAgdGhpcy5fdGlja1NvdXJjZS5zZXRUaWNrc0F0VGltZSh0aWNrcywgdGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbWUgb2YgdGhlIGdpdmVuIHRpY2suIFRoZSBzZWNvbmQgYXJndW1lbnRcbiAgICAgKiBpcyB3aGVuIHRvIHRlc3QgYmVmb3JlLiBTaW5jZSB0aWNrcyBjYW4gYmUgc2V0ICh3aXRoIHNldFRpY2tzQXRUaW1lKVxuICAgICAqIHRoZXJlIG1heSBiZSBtdWx0aXBsZSB0aW1lcyBmb3IgYSBnaXZlbiB0aWNrIHZhbHVlLlxuICAgICAqIEBwYXJhbSAgdGljayBUaGUgdGljayBudW1iZXIuXG4gICAgICogQHBhcmFtICBiZWZvcmUgV2hlbiB0byBtZWFzdXJlIHRoZSB0aWNrIHZhbHVlIGZyb20uXG4gICAgICogQHJldHVybiBUaGUgdGltZSBvZiB0aGUgdGlja1xuICAgICAqL1xuICAgIGdldFRpbWVPZlRpY2sodGljaywgYmVmb3JlID0gdGhpcy5ub3coKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5nZXRUaW1lT2ZUaWNrKHRpY2ssIGJlZm9yZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xvY2sncyB0aWNrcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSB0aWNrIHZhbHVlXG4gICAgICogQHJldHVybiBUaGUgdGljayB2YWx1ZSBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKi9cbiAgICBnZXRUaWNrc0F0VGltZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWNrU291cmNlLmdldFRpY2tzQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbWUgb2YgdGhlIG5leHQgdGlja1xuICAgICAqIEBwYXJhbSAgb2Zmc2V0IFRoZSB0aWNrIG51bWJlci5cbiAgICAgKi9cbiAgICBuZXh0VGlja1RpbWUob2Zmc2V0LCB3aGVuKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHdoZW4pO1xuICAgICAgICBjb25zdCBjdXJyZW50VGljayA9IHRoaXMuZ2V0VGlja3NBdFRpbWUoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tTb3VyY2UuZ2V0VGltZU9mVGljayhjdXJyZW50VGljayArIG9mZnNldCwgY29tcHV0ZWRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNjaGVkdWxpbmcgbG9vcC5cbiAgICAgKi9cbiAgICBfbG9vcCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdGhpcy5fbGFzdFVwZGF0ZTtcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IHRoaXMubm93KCk7XG4gICAgICAgIHRoaXMuX2xhc3RVcGRhdGUgPSBlbmRUaW1lO1xuICAgICAgICB0aGlzLmxvZyhcImxvb3BcIiwgc3RhcnRUaW1lLCBlbmRUaW1lKTtcbiAgICAgICAgaWYgKHN0YXJ0VGltZSAhPT0gZW5kVGltZSkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YXRlIGNoYW5nZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKHN0YXJ0VGltZSwgZW5kVGltZSwgZSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl90aWNrU291cmNlLmdldFRpY2tzQXRUaW1lKGUudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCBlLnRpbWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRpbWUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdG9wXCIsIGUudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdXNlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicGF1c2VcIiwgZS50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhlIHRpY2sgY2FsbGJhY2tzXG4gICAgICAgICAgICB0aGlzLl90aWNrU291cmNlLmZvckVhY2hUaWNrQmV0d2VlbihzdGFydFRpbWUsIGVuZFRpbWUsICh0aW1lLCB0aWNrcykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGltZSwgdGlja3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2NoZWR1bGVkIHN0YXRlIGF0IHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSAgdGltZSAgVGhlIHRpbWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybiAgVGhlIG5hbWUgb2YgdGhlIHN0YXRlIGlucHV0IGluIHNldFN0YXRlQXRUaW1lLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2xvY2sgPSBuZXcgVG9uZS5DbG9jaygpO1xuICAgICAqIGNsb2NrLnN0YXJ0KFwiKzAuMVwiKTtcbiAgICAgKiBjbG9jay5nZXRTdGF0ZUF0VGltZShcIiswLjFcIik7IC8vIHJldHVybnMgXCJzdGFydGVkXCJcbiAgICAgKi9cbiAgICBnZXRTdGF0ZUF0VGltZSh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5vZmYoXCJ0aWNrXCIsIHRoaXMuX2JvdW5kTG9vcCk7XG4gICAgICAgIHRoaXMuX3RpY2tTb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbkVtaXR0ZXIubWl4aW4oQ2xvY2spO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2xvY2suanMubWFwIiwiaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCIuLi91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvQnVmZmVyIH0gZnJvbSBcIi4vVG9uZUF1ZGlvQnVmZmVyXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIGZvciBob2xkaW5nIG11bHRpcGxlIGJ1ZmZlcnMgaW4gYSBNYXAtbGlrZSBkYXRhc3RydWN0dXJlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBwaWFub1NhbXBsZXMgPSBuZXcgVG9uZS5Ub25lQXVkaW9CdWZmZXJzKHtcbiAqIFx0QTE6IFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2Nhc2lvL0ExLm1wM1wiLFxuICogXHRBMjogXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vY2FzaW8vQTIubXAzXCIsXG4gKiB9LCAoKSA9PiB7XG4gKiBcdGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcigpLnRvRGVzdGluYXRpb24oKTtcbiAqIFx0Ly8gcGxheSBvbmUgb2YgdGhlIHNhbXBsZXMgd2hlbiB0aGV5IGFsbCBsb2FkXG4gKiBcdHBsYXllci5idWZmZXIgPSBwaWFub1NhbXBsZXMuZ2V0KFwiQTJcIik7XG4gKiBcdHBsYXllci5zdGFydCgpO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogLy8gVG8gcGFzcyBpbiBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgaW4gdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAqIGNvbnN0IGJ1ZmZlcnMgPSBuZXcgVG9uZS5Ub25lQXVkaW9CdWZmZXJzKHtcbiAqIFx0IHVybHM6IHtcbiAqIFx0XHQgQTE6IFwiQTEubXAzXCIsXG4gKiBcdFx0IEEyOiBcIkEyLm1wM1wiLFxuICogXHQgfSxcbiAqIFx0IG9ubG9hZDogKCkgPT4gY29uc29sZS5sb2coXCJsb2FkZWRcIiksXG4gKiBcdCBiYXNlVXJsOiBcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9jYXNpby9cIlxuICogfSk7XG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY2xhc3MgVG9uZUF1ZGlvQnVmZmVycyBleHRlbmRzIFRvbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRvbmVBdWRpb0J1ZmZlcnNcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBvZiB0aGUgYnVmZmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBsb2FkZWQgYnVmZmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZGluZ0NvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFRvbmVBdWRpb0J1ZmZlcnMuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxzXCIsIFwib25sb2FkXCIsIFwiYmFzZVVybFwiXSwgXCJ1cmxzXCIpO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgICAgIC8vIGFkZCBlYWNoIG9uZVxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLnVybHMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkaW5nQ291bnQrKztcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG9wdGlvbnMudXJsc1tuYW1lXTtcbiAgICAgICAgICAgIHRoaXMuYWRkKG5hbWUsIHVybCwgdGhpcy5fYnVmZmVyTG9hZGVkLmJpbmQodGhpcywgb3B0aW9ucy5vbmxvYWQpLCBvcHRpb25zLm9uZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFzZVVybDogXCJcIixcbiAgICAgICAgICAgIG9uZXJyb3I6IG5vT3AsXG4gICAgICAgICAgICBvbmxvYWQ6IG5vT3AsXG4gICAgICAgICAgICB1cmxzOiB7fSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgYnVmZmVycyBvYmplY3QgaGFzIGEgYnVmZmVyIGJ5IHRoYXQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIG5hbWUgIFRoZSBrZXkgb3IgaW5kZXggb2YgdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVycy5oYXMobmFtZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgYnVmZmVyIGJ5IG5hbWUuIElmIGFuIGFycmF5IHdhcyBsb2FkZWQsXG4gICAgICogdGhlbiB1c2UgdGhlIGFycmF5IGluZGV4LlxuICAgICAqIEBwYXJhbSAgbmFtZSAgVGhlIGtleSBvciBpbmRleCBvZiB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmhhcyhuYW1lKSwgYFRvbmVBdWRpb0J1ZmZlcnMgaGFzIG5vIGJ1ZmZlciBuYW1lZDogJHtuYW1lfWApO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVycy5nZXQobmFtZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBidWZmZXIgd2FzIGxvYWRlZC4gZGVjcmVtZW50IHRoZSBjb3VudGVyLlxuICAgICAqL1xuICAgIF9idWZmZXJMb2FkZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fbG9hZGluZ0NvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9sb2FkaW5nQ291bnQgPT09IDAgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJ1ZmZlcnMgYXJlIGxvYWRlZCBvciBub3RcbiAgICAgKi9cbiAgICBnZXQgbG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9idWZmZXJzKS5ldmVyeSgoW18sIGJ1ZmZlcl0pID0+IGJ1ZmZlci5sb2FkZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBidWZmZXIgYnkgbmFtZSBhbmQgdXJsIHRvIHRoZSBCdWZmZXJzXG4gICAgICogQHBhcmFtICBuYW1lICAgICAgQSB1bmlxdWUgbmFtZSB0byBnaXZlIHRoZSBidWZmZXJcbiAgICAgKiBAcGFyYW0gIHVybCAgRWl0aGVyIHRoZSB1cmwgb2YgdGhlIGJ1ZmVyLCBvciBhIGJ1ZmZlciB3aGljaCB3aWxsIGJlIGFkZGVkIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIHRoZSB1cmwgaXMgbG9hZGVkLlxuICAgICAqIEBwYXJhbSAgb25lcnJvciAgSW52b2tlZCBpZiB0aGUgYnVmZmVyIGNhbid0IGJlIGxvYWRlZFxuICAgICAqL1xuICAgIGFkZChuYW1lLCB1cmwsIGNhbGxiYWNrID0gbm9PcCwgb25lcnJvciA9IG5vT3ApIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHVybCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc2V0KG5hbWUudG9TdHJpbmcoKSwgbmV3IFRvbmVBdWRpb0J1ZmZlcih0aGlzLmJhc2VVcmwgKyB1cmwsIGNhbGxiYWNrLCBvbmVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLnNldChuYW1lLnRvU3RyaW5nKCksIG5ldyBUb25lQXVkaW9CdWZmZXIodXJsLCBjYWxsYmFjaywgb25lcnJvcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4gYnVmZmVyLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZUF1ZGlvQnVmZmVycy5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSBcIi4uL0dsb2JhbFwiO1xuaW1wb3J0IHsgVHJhbnNwb3J0VGltZUNsYXNzIH0gZnJvbSBcIi4vVHJhbnNwb3J0VGltZVwiO1xuLyoqXG4gKiBUaWNrcyBpcyBhIHByaW1pdGl2ZSB0eXBlIGZvciBlbmNvZGluZyBUaW1lIHZhbHVlcy5cbiAqIFRpY2tzIGNhbiBiZSBjb25zdHJ1Y3RlZCB3aXRoIG9yIHdpdGhvdXQgdGhlIGBuZXdgIGtleXdvcmQuIFRpY2tzIGNhbiBiZSBwYXNzZWRcbiAqIGludG8gdGhlIHBhcmFtZXRlciBvZiBhbnkgbWV0aG9kIHdoaWNoIHRha2VzIHRpbWUgYXMgYW4gYXJndW1lbnQuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdCA9IFRvbmUuVGlja3MoXCI0blwiKTsgLy8gYSBxdWFydGVyIG5vdGUgYXMgdGlja3NcbiAqIEBjYXRlZ29yeSBVbml0XG4gKi9cbmV4cG9ydCBjbGFzcyBUaWNrc0NsYXNzIGV4dGVuZHMgVHJhbnNwb3J0VGltZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaWNrc1wiO1xuICAgICAgICB0aGlzLmRlZmF1bHRVbml0cyA9IFwiaVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdGltZSBpbiB0aGUgZ2l2ZW4gdW5pdHNcbiAgICAgKi9cbiAgICBfbm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC50aWNrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgYmVhdHMgaW4gdGhlIGN1cnJlbnQgdW5pdHNcbiAgICAgKi9cbiAgICBfYmVhdHNUb1VuaXRzKGJlYXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQUFEoKSAqIGJlYXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIHNlY29uZCBpbiB0aGUgY3VycmVudCB1bml0c1xuICAgICAqL1xuICAgIF9zZWNvbmRzVG9Vbml0cyhzZWNvbmRzKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHNlY29uZHMgLyAoNjAgLyB0aGlzLl9nZXRCcG0oKSkgKiB0aGlzLl9nZXRQUFEoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgdGljayBpbiB0aGUgY3VycmVudCB0aW1lIHVuaXRzXG4gICAgICovXG4gICAgX3RpY2tzVG9Vbml0cyh0aWNrcykge1xuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGltZSBpbiB0aWNrc1xuICAgICAqL1xuICAgIHRvVGlja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICB0b1NlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52YWx1ZU9mKCkgLyB0aGlzLl9nZXRQUFEoKSkgKiAoNjAgLyB0aGlzLl9nZXRCcG0oKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDb252ZXJ0IGEgdGltZSByZXByZXNlbnRhdGlvbiB0byB0aWNrc1xuICogQGNhdGVnb3J5IFVuaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRpY2tzKHZhbHVlLCB1bml0cykge1xuICAgIHJldHVybiBuZXcgVGlja3NDbGFzcyhnZXRDb250ZXh0KCksIHZhbHVlLCB1bml0cyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrcy5qcy5tYXAiLCJpbXBvcnQgeyBUb25lV2l0aENvbnRleHQgfSBmcm9tIFwiLi4vY29udGV4dC9Ub25lV2l0aENvbnRleHRcIjtcbmltcG9ydCB7IFRpbWVsaW5lIH0gZnJvbSBcIi4vVGltZWxpbmVcIjtcbmltcG9ydCB7IG9uQ29udGV4dENsb3NlLCBvbkNvbnRleHRJbml0IH0gZnJvbSBcIi4uL2NvbnRleHQvQ29udGV4dEluaXRpYWxpemF0aW9uXCI7XG4vKipcbiAqIERyYXcgaXMgdXNlZnVsIGZvciBzeW5jaHJvbml6aW5nIHZpc3VhbHMgYW5kIGF1ZGlvIGV2ZW50cy5cbiAqIENhbGxiYWNrcyBmcm9tIFRvbmUuVHJhbnNwb3J0IG9yIGFueSBvZiB0aGUgVG9uZS5FdmVudCBjbGFzc2VzXG4gKiBhbHdheXMgaGFwcGVuIF9iZWZvcmVfIHRoZSBzY2hlZHVsZWQgdGltZSBhbmQgYXJlIG5vdCBzeW5jaHJvbml6ZWRcbiAqIHRvIHRoZSBhbmltYXRpb24gZnJhbWUgc28gdGhleSBhcmUgbm90IGdvb2QgZm9yIHRyaWdnZXJpbmcgdGlnaHRseVxuICogc3luY2hyb25pemVkIHZpc3VhbHMgYW5kIHNvdW5kLiBEcmF3IG1ha2VzIGl0IGVhc3kgdG8gc2NoZWR1bGVcbiAqIGNhbGxiYWNrcyB1c2luZyB0aGUgQXVkaW9Db250ZXh0IHRpbWUgYW5kIHVzZXMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxuICogQGV4YW1wbGVcbiAqIFRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlKCh0aW1lKSA9PiB7XG4gKiBcdC8vIHVzZSB0aGUgdGltZSBhcmd1bWVudCB0byBzY2hlZHVsZSBhIGNhbGxiYWNrIHdpdGggRHJhd1xuICogXHRUb25lLkRyYXcuc2NoZWR1bGUoKCkgPT4ge1xuICogXHRcdC8vIGRvIGRyYXdpbmcgb3IgRE9NIG1hbmlwdWxhdGlvbiBoZXJlXG4gKiBcdFx0Y29uc29sZS5sb2codGltZSk7XG4gKiBcdH0sIHRpbWUpO1xuICogfSwgXCIrMC41XCIpO1xuICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBEcmF3IGV4dGVuZHMgVG9uZVdpdGhDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEcmF3XCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZHVyYXRpb24gYWZ0ZXIgd2hpY2ggZXZlbnRzIGFyZSBub3QgaW52b2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXhwaXJhdGlvbiA9IDAuMjU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHRpbWUgYmVmb3JlIHRoZSBzY2hlZHVsZWQgdGltZVxuICAgICAgICAgKiB0aGF0IHRoZSBjYWxsYmFjayBjYW4gYmUgaW52b2tlZC4gRGVmYXVsdCBpc1xuICAgICAgICAgKiBoYWxmIHRoZSB0aW1lIG9mIGFuIGFuaW1hdGlvbiBmcmFtZSAoMC4wMDggc2Vjb25kcykuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFudGljaXBhdGlvbiA9IDAuMDA4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG9mIHRoZSBldmVudHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgVGltZWxpbmUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkcmF3IGxvb3BcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kRHJhd0xvb3AgPSB0aGlzLl9kcmF3TG9vcC5iaW5kKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuaW1hdGlvbiBmcmFtZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGUgYSBmdW5jdGlvbiBhdCB0aGUgZ2l2ZW4gdGltZSB0byBiZSBpbnZva2VkXG4gICAgICogb24gdGhlIG5lYXJlc3QgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgIENhbGxiYWNrIGlzIGludm9rZWQgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICAgICAgVGhlIHRpbWUgcmVsYXRpdmUgdG8gdGhlIEF1ZGlvQ29udGV4dCB0aW1lIHRvIGludm9rZSB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zY2hlZHVsZVJlcGVhdCh0aW1lID0+IHtcbiAgICAgKiBcdFRvbmUuRHJhdy5zY2hlZHVsZSgoKSA9PiBjb25zb2xlLmxvZyh0aW1lKSwgdGltZSk7XG4gICAgICogfSwgMSk7XG4gICAgICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgKi9cbiAgICBzY2hlZHVsZShjYWxsYmFjaywgdGltZSkge1xuICAgICAgICB0aGlzLl9ldmVudHMuYWRkKHtcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgdGltZTogdGhpcy50b1NlY29uZHModGltZSksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzdGFydCB0aGUgZHJhdyBsb29wIG9uIHRoZSBmaXJzdCBldmVudFxuICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYm91bmREcmF3TG9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbCBldmVudHMgc2NoZWR1bGVkIGFmdGVyIHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICBhZnRlciAgVGltZSBhZnRlciB3aGljaCBzY2hlZHVsZWQgZXZlbnRzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY2hlZHVsaW5nIHRpbWVsaW5lLlxuICAgICAqL1xuICAgIGNhbmNlbChhZnRlcikge1xuICAgICAgICB0aGlzLl9ldmVudHMuY2FuY2VsKHRoaXMudG9TZWNvbmRzKGFmdGVyKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZHJhdyBsb29wXG4gICAgICovXG4gICAgX2RyYXdMb29wKCkge1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLmNvbnRleHQuY3VycmVudFRpbWU7XG4gICAgICAgIHdoaWxlICh0aGlzLl9ldmVudHMubGVuZ3RoICYmIHRoaXMuX2V2ZW50cy5wZWVrKCkudGltZSAtIHRoaXMuYW50aWNpcGF0aW9uIDw9IG5vdykge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ldmVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChldmVudCAmJiBub3cgLSBldmVudC50aW1lIDw9IHRoaXMuZXhwaXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGV2ZW50LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ib3VuZERyYXdMb29wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5kaXNwb3NlKCk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBcdElOSVRJQUxJWkFUSU9OXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uQ29udGV4dEluaXQoY29udGV4dCA9PiB7XG4gICAgY29udGV4dC5kcmF3ID0gbmV3IERyYXcoeyBjb250ZXh0IH0pO1xufSk7XG5vbkNvbnRleHRDbG9zZShjb250ZXh0ID0+IHtcbiAgICBjb250ZXh0LmRyYXcuZGlzcG9zZSgpO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmF3LmpzLm1hcCIsImltcG9ydCB7IFRvbmUgfSBmcm9tIFwiLi4vVG9uZVwiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4vVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9EZWJ1Z1wiO1xuLyoqXG4gKiBTaW1pbGFyIHRvIFRvbmUuVGltZWxpbmUsIGJ1dCBhbGwgZXZlbnRzIHJlcHJlc2VudFxuICogaW50ZXJ2YWxzIHdpdGggYm90aCBcInRpbWVcIiBhbmQgXCJkdXJhdGlvblwiIHRpbWVzLiBUaGVcbiAqIGV2ZW50cyBhcmUgcGxhY2VkIGluIGEgdHJlZSBzdHJ1Y3R1cmUgb3B0aW1pemVkXG4gKiBmb3IgcXVlcnlpbmcgYW4gaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIHRpbWVsaW5lXG4gKiBldmVudHMuIEludGVybmFsbHkgdXNlcyBhbiBbSW50ZXJ2YWwgVHJlZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW50ZXJ2YWxfdHJlZSlcbiAqIHRvIHJlcHJlc2VudCB0aGUgZGF0YS5cbiAqL1xuZXhwb3J0IGNsYXNzIEludGVydmFsVGltZWxpbmUgZXh0ZW5kcyBUb25lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnRlcnZhbFRpbWVsaW5lXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBub2RlIG9mIHRoZSBpbnRldmFsIHRyZWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiB0aGUgbGVuZ3RoIG9mIHRoZSB0aW1lbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0byBhZGQgdG8gdGhlIHRpbWVsaW5lLiBBbGwgZXZlbnRzIG11c3RcbiAgICAgKiBoYXZlIGEgdGltZSBhbmQgZHVyYXRpb24gdmFsdWVcbiAgICAgKiBAcGFyYW0gIGV2ZW50ICBUaGUgZXZlbnQgdG8gYWRkIHRvIHRoZSB0aW1lbGluZVxuICAgICAqL1xuICAgIGFkZChldmVudCkge1xuICAgICAgICBhc3NlcnQoaXNEZWZpbmVkKGV2ZW50LnRpbWUpLCBcIkV2ZW50cyBtdXN0IGhhdmUgYSB0aW1lIHByb3BlcnR5XCIpO1xuICAgICAgICBhc3NlcnQoaXNEZWZpbmVkKGV2ZW50LmR1cmF0aW9uKSwgXCJFdmVudHMgbXVzdCBoYXZlIGEgZHVyYXRpb24gcGFyYW1ldGVyXCIpO1xuICAgICAgICBldmVudC50aW1lID0gZXZlbnQudGltZS52YWx1ZU9mKCk7XG4gICAgICAgIGxldCBub2RlID0gbmV3IEludGVydmFsTm9kZShldmVudC50aW1lLCBldmVudC50aW1lICsgZXZlbnQuZHVyYXRpb24sIGV2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5pbnNlcnQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGVuZ3RoKys7XG4gICAgICAgIC8vIFJlc3RydWN0dXJlIHRyZWUgdG8gYmUgYmFsYW5jZWRcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUudXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgICAgICBub2RlLnVwZGF0ZU1heCgpO1xuICAgICAgICAgICAgdGhpcy5fcmViYWxhbmNlKG5vZGUpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgdGltZWxpbmUuXG4gICAgICogQHBhcmFtICBldmVudCAgVGhlIGV2ZW50IHRvIHJlbW92ZSBmcm9tIHRoZSB0aW1lbGluZVxuICAgICAqL1xuICAgIHJlbW92ZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5zZWFyY2goZXZlbnQudGltZSwgcmVzdWx0cyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSB0aW1lbGluZS5cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXZlbnRzIHdob3NlIHRpbWUgdGltZSBpcyBhZnRlciB0aGUgZ2l2ZW4gdGltZVxuICAgICAqIEBwYXJhbSAgYWZ0ZXIgIFRoZSB0aW1lIHRvIHF1ZXJ5LlxuICAgICAqL1xuICAgIGNhbmNlbChhZnRlcikge1xuICAgICAgICB0aGlzLmZvckVhY2hGcm9tKGFmdGVyLCBldmVudCA9PiB0aGlzLnJlbW92ZShldmVudCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByb290IG5vZGUgYXMgdGhlIGdpdmVuIG5vZGVcbiAgICAgKi9cbiAgICBfc2V0Um9vdChub2RlKSB7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBub2RlO1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIG5vZGUgaW4gdGhlIG5vZGUncyBwYXJlbnRcbiAgICAgKiB3aXRoIHRoZSByZXBsYWNlbWVudCBub2RlLlxuICAgICAqL1xuICAgIF9yZXBsYWNlTm9kZUluUGFyZW50KG5vZGUsIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIGlmIChub2RlLnBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG5vZGUuaXNMZWZ0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmxlZnQgPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LnJpZ2h0ID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZWJhbGFuY2Uobm9kZS5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0Um9vdChyZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBub2RlIGZyb20gdGhlIHRyZWUgYW5kIHJlcGxhY2UgaXQgd2l0aFxuICAgICAqIGEgc3VjY2Vzc29yIHdoaWNoIGZvbGxvd3MgdGhlIHNjaGVtYS5cbiAgICAgKi9cbiAgICBfcmVtb3ZlTm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmxlZnQgPT09IG51bGwgJiYgbm9kZS5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVwbGFjZU5vZGVJblBhcmVudChub2RlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KG5vZGUsIG5vZGUubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KG5vZGUsIG5vZGUucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IG5vZGUuZ2V0QmFsYW5jZSgpO1xuICAgICAgICAgICAgbGV0IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgbGV0IHRlbXAgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGJhbGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudCA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudCA9IG5vZGUubGVmdC5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlcGxhY2VtZW50LnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LnBhcmVudC5yaWdodCA9IHJlcGxhY2VtZW50LmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcmVwbGFjZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQubGVmdCA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUucmlnaHQubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5sZWZ0ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIHRlbXAgPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gbm9kZS5yaWdodC5sZWZ0O1xuICAgICAgICAgICAgICAgIHdoaWxlIChyZXBsYWNlbWVudC5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5wYXJlbnQubGVmdCA9IHJlcGxhY2VtZW50LnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcmVwbGFjZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5sZWZ0ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXNMZWZ0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5sZWZ0ID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5yaWdodCA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFJvb3QocmVwbGFjZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRlbXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWJhbGFuY2UodGVtcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgdHJlZSB0byB0aGUgbGVmdFxuICAgICAqL1xuICAgIF9yb3RhdGVMZWZ0KG5vZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IGlzTGVmdENoaWxkID0gbm9kZS5pc0xlZnRDaGlsZCgpO1xuICAgICAgICAvLyBNYWtlIG5vZGUucmlnaHQgdGhlIG5ldyByb290IG9mIHRoaXMgc3ViIHRyZWUgKGluc3RlYWQgb2Ygbm9kZSlcbiAgICAgICAgY29uc3QgcGl2b3ROb2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgaWYgKHBpdm90Tm9kZSkge1xuICAgICAgICAgICAgbm9kZS5yaWdodCA9IHBpdm90Tm9kZS5sZWZ0O1xuICAgICAgICAgICAgcGl2b3ROb2RlLmxlZnQgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0xlZnRDaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gcGl2b3ROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJpZ2h0ID0gcGl2b3ROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0Um9vdChwaXZvdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgdHJlZSB0byB0aGUgcmlnaHRcbiAgICAgKi9cbiAgICBfcm90YXRlUmlnaHQobm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudDtcbiAgICAgICAgY29uc3QgaXNMZWZ0Q2hpbGQgPSBub2RlLmlzTGVmdENoaWxkKCk7XG4gICAgICAgIC8vIE1ha2Ugbm9kZS5sZWZ0IHRoZSBuZXcgcm9vdCBvZiB0aGlzIHN1YiB0cmVlIChpbnN0ZWFkIG9mIG5vZGUpXG4gICAgICAgIGNvbnN0IHBpdm90Tm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgaWYgKHBpdm90Tm9kZSkge1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gcGl2b3ROb2RlLnJpZ2h0O1xuICAgICAgICAgICAgcGl2b3ROb2RlLnJpZ2h0ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaXNMZWZ0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubGVmdCA9IHBpdm90Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IHBpdm90Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFJvb3QocGl2b3ROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYWxhbmNlIHRoZSBCU1RcbiAgICAgKi9cbiAgICBfcmViYWxhbmNlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IG5vZGUuZ2V0QmFsYW5jZSgpO1xuICAgICAgICBpZiAoYmFsYW5jZSA+IDEgJiYgbm9kZS5sZWZ0KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0LmdldEJhbGFuY2UoKSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGVMZWZ0KG5vZGUubGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGVSaWdodChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYWxhbmNlIDwgLTEgJiYgbm9kZS5yaWdodCkge1xuICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQuZ2V0QmFsYW5jZSgpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0ZVJpZ2h0KG5vZGUucmlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRlTGVmdChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gZXZlbnQgd2hvc2UgdGltZSBhbmQgZHVyYXRpb24gc3BhbiB0aGUgZ2l2ZSB0aW1lLiBXaWxsXG4gICAgICogcmV0dXJuIHRoZSBtYXRjaCB3aG9zZSBcInRpbWVcIiB2YWx1ZSBpcyBjbG9zZXN0IHRvIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqIEByZXR1cm4gIFRoZSBldmVudCB3aGljaCBzcGFucyB0aGUgZGVzaXJlZCB0aW1lXG4gICAgICovXG4gICAgZ2V0KHRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3Quc2VhcmNoKHRpbWUsIHJlc3VsdHMpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBtYXggPSByZXN1bHRzWzBdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0c1tpXS5sb3cgPiBtYXgubG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSByZXN1bHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXguZXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSB0aW1lbGluZS5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgYWxsTm9kZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QudHJhdmVyc2Uobm9kZSA9PiBhbGxOb2Rlcy5wdXNoKG5vZGUpKTtcbiAgICAgICAgICAgIGFsbE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobm9kZS5ldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSBhcnJheSBpbiB3aGljaCB0aGUgZ2l2ZW4gdGltZVxuICAgICAqIG92ZXJsYXBzIHdpdGggdGhlIHRpbWUgYW5kIGR1cmF0aW9uIHRpbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSB0byBjaGVjayBpZiBpdGVtcyBhcmUgb3ZlcmxhcHBpbmdcbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBldmVyeSBpdGVtXG4gICAgICovXG4gICAgZm9yRWFjaEF0VGltZSh0aW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5zZWFyY2godGltZSwgcmVzdWx0cyk7XG4gICAgICAgICAgICByZXN1bHRzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobm9kZS5ldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBldmVyeXRoaW5nIGluIHRoZSBhcnJheSBpbiB3aGljaCB0aGUgdGltZSBpcyBncmVhdGVyXG4gICAgICogdGhhbiBvciBlcXVhbCB0byB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgdG8gY2hlY2sgaWYgaXRlbXMgYXJlIGJlZm9yZVxuICAgICAqIEBwYXJhbSAgY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGV2ZXJ5IGl0ZW1cbiAgICAgKi9cbiAgICBmb3JFYWNoRnJvbSh0aW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5zZWFyY2hBZnRlcih0aW1lLCByZXN1bHRzKTtcbiAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhub2RlLmV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yb290LnRyYXZlcnNlKG5vZGUgPT4gbm9kZS5kaXNwb3NlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFx0SU5URVJWQUwgTk9ERSBIRUxQRVJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbm9kZSBpbiB0aGUgYmluYXJ5IHNlYXJjaCB0cmVlLCB3aXRoIHRoZSBhZGRpdGlvblxuICogb2YgYSBcImhpZ2hcIiB2YWx1ZSB3aGljaCBrZWVwcyB0cmFjayBvZiB0aGUgaGlnaGVzdCB2YWx1ZSBvZlxuICogaXRzIGNoaWxkcmVuLlxuICogUmVmZXJlbmNlczpcbiAqIGh0dHBzOi8vYnJvb2tub3Zhay53b3JkcHJlc3MuY29tLzIwMTMvMTIvMDcvYXVnbWVudGVkLWludGVydmFsLXRyZWUtaW4tYy9cbiAqIGh0dHA6Ly93d3cubWlmLnZ1Lmx0L352YWxkYXMvQUxHT1JJVE1BSS9MSVRFUkFUVVJBL0Nvcm1lbi9Db3JtZW4ucGRmXG4gKiBAcGFyYW0gbG93XG4gKiBAcGFyYW0gaGlnaFxuICovXG5jbGFzcyBJbnRlcnZhbE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGxvdywgaGlnaCwgZXZlbnQpIHtcbiAgICAgICAgLy8gdGhlIG5vZGVzIHRvIHRoZSBsZWZ0XG4gICAgICAgIHRoaXMuX2xlZnQgPSBudWxsO1xuICAgICAgICAvLyB0aGUgbm9kZXMgdG8gdGhlIHJpZ2h0XG4gICAgICAgIHRoaXMuX3JpZ2h0ID0gbnVsbDtcbiAgICAgICAgLy8gdGhlIHBhcmVudCBub2RlXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgLy8gdGhlIG51bWJlciBvZiBjaGlsZCBub2Rlc1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgLy8gdGhlIGxvdyB2YWx1ZVxuICAgICAgICB0aGlzLmxvdyA9IGxvdztcbiAgICAgICAgLy8gdGhlIGhpZ2ggdmFsdWVcbiAgICAgICAgdGhpcy5oaWdoID0gaGlnaDtcbiAgICAgICAgLy8gdGhlIGhpZ2ggdmFsdWUgZm9yIHRoaXMgYW5kIGFsbCBjaGlsZCBub2Rlc1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMuaGlnaDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgbm9kZSBpbnRvIHRoZSBjb3JyZWN0IHNwb3QgaW4gdGhlIHRyZWVcbiAgICAgKi9cbiAgICBpbnNlcnQobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sb3cgPD0gdGhpcy5sb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0Lmluc2VydChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQuaW5zZXJ0KG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCB0aGUgdHJlZSBmb3Igbm9kZXMgd2hpY2ggb3ZlcmxhcFxuICAgICAqIHdpdGggdGhlIGdpdmVuIHBvaW50XG4gICAgICogQHBhcmFtICBwb2ludCAgVGhlIHBvaW50IHRvIHF1ZXJ5XG4gICAgICogQHBhcmFtICByZXN1bHRzICBUaGUgYXJyYXkgdG8gcHV0IHRoZSByZXN1bHRzXG4gICAgICovXG4gICAgc2VhcmNoKHBvaW50LCByZXN1bHRzKSB7XG4gICAgICAgIC8vIElmIHAgaXMgdG8gdGhlIHJpZ2h0IG9mIHRoZSByaWdodG1vc3QgcG9pbnQgb2YgYW55IGludGVydmFsXG4gICAgICAgIC8vIGluIHRoaXMgbm9kZSBhbmQgYWxsIGNoaWxkcmVuLCB0aGVyZSB3b24ndCBiZSBhbnkgbWF0Y2hlcy5cbiAgICAgICAgaWYgKHBvaW50ID4gdGhpcy5tYXgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWFyY2ggbGVmdCBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQuc2VhcmNoKHBvaW50LCByZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0aGlzIG5vZGVcbiAgICAgICAgaWYgKHRoaXMubG93IDw9IHBvaW50ICYmIHRoaXMuaGlnaCA+IHBvaW50KSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgcCBpcyB0byB0aGUgbGVmdCBvZiB0aGUgdGltZSBvZiB0aGlzIGludGVydmFsLFxuICAgICAgICAvLyB0aGVuIGl0IGNhbid0IGJlIGluIGFueSBjaGlsZCB0byB0aGUgcmlnaHQuXG4gICAgICAgIGlmICh0aGlzLmxvdyA+IHBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VhcmNoIHJpZ2h0IGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0LnNlYXJjaChwb2ludCwgcmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIHRoZSB0cmVlIGZvciBub2RlcyB3aGljaCBhcmUgbGVzc1xuICAgICAqIHRoYW4gdGhlIGdpdmVuIHBvaW50XG4gICAgICogQHBhcmFtICBwb2ludCAgVGhlIHBvaW50IHRvIHF1ZXJ5XG4gICAgICogQHBhcmFtICByZXN1bHRzICBUaGUgYXJyYXkgdG8gcHV0IHRoZSByZXN1bHRzXG4gICAgICovXG4gICAgc2VhcmNoQWZ0ZXIocG9pbnQsIHJlc3VsdHMpIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhpcyBub2RlXG4gICAgICAgIGlmICh0aGlzLmxvdyA+PSBwb2ludCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdC5zZWFyY2hBZnRlcihwb2ludCwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VhcmNoIHRoZSByaWdodCBzaWRlXG4gICAgICAgIGlmICh0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0LnNlYXJjaEFmdGVyKHBvaW50LCByZXN1bHRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhlIGNhbGxiYWNrIG9uIHRoaXMgZWxlbWVudCBhbmQgYm90aCBpdCdzIGJyYW5jaGVzXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259ICBjYWxsYmFja1xuICAgICAqL1xuICAgIHRyYXZlcnNlKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQudHJhdmVyc2UoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0LnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGhlaWdodCBvZiB0aGUgbm9kZVxuICAgICAqL1xuICAgIHVwZGF0ZUhlaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCAmJiB0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMubGVmdC5oZWlnaHQsIHRoaXMucmlnaHQuaGVpZ2h0KSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJpZ2h0LmhlaWdodCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZWZ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubGVmdC5oZWlnaHQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBub2RlXG4gICAgICovXG4gICAgdXBkYXRlTWF4KCkge1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMuaGlnaDtcbiAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCh0aGlzLm1heCwgdGhpcy5sZWZ0Lm1heCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpcy5tYXgsIHRoaXMucmlnaHQubWF4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYmFsYW5jZSBpcyBob3cgdGhlIGxlYWZzIGFyZSBkaXN0cmlidXRlZCBvbiB0aGUgbm9kZVxuICAgICAqIEByZXR1cm4gIE5lZ2F0aXZlIG51bWJlcnMgYXJlIGJhbGFuY2VkIHRvIHRoZSByaWdodFxuICAgICAqL1xuICAgIGdldEJhbGFuY2UoKSB7XG4gICAgICAgIGxldCBiYWxhbmNlID0gMDtcbiAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCAmJiB0aGlzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBiYWxhbmNlID0gdGhpcy5sZWZ0LmhlaWdodCAtIHRoaXMucmlnaHQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYmFsYW5jZSA9IHRoaXMubGVmdC5oZWlnaHQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGJhbGFuY2UgPSAtKHRoaXMucmlnaHQuaGVpZ2h0ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhbGFuY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBub2RlIGlzIHRoZSBsZWZ0IGNoaWxkIG9mIGl0cyBwYXJlbnRcbiAgICAgKi9cbiAgICBpc0xlZnRDaGlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICE9PSBudWxsICYmIHRoaXMucGFyZW50LmxlZnQgPT09IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgdGhlIGxlZnQgbm9kZVxuICAgICAqL1xuICAgIGdldCBsZWZ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdDtcbiAgICB9XG4gICAgc2V0IGxlZnQobm9kZSkge1xuICAgICAgICB0aGlzLl9sZWZ0ID0gbm9kZTtcbiAgICAgICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucGFyZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUhlaWdodCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1heCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHRoZSByaWdodCBub2RlXG4gICAgICovXG4gICAgZ2V0IHJpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHQ7XG4gICAgfVxuICAgIHNldCByaWdodChub2RlKSB7XG4gICAgICAgIHRoaXMuX3JpZ2h0ID0gbm9kZTtcbiAgICAgICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucGFyZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUhlaWdodCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1heCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBudWxsIG91dCByZWZlcmVuY2VzLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGVmdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JpZ2h0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJ2YWxUaW1lbGluZS5qcy5tYXAiLCJpbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbi8qKlxuICogVm9sdW1lIGlzIGEgc2ltcGxlIHZvbHVtZSBub2RlLCB1c2VmdWwgZm9yIGNyZWF0aW5nIGEgdm9sdW1lIGZhZGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB2b2wgPSBuZXcgVG9uZS5Wb2x1bWUoLTEyKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkuY29ubmVjdCh2b2wpLnN0YXJ0KCk7XG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBWb2x1bWUgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoVm9sdW1lLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widm9sdW1lXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVm9sdW1lXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhWb2x1bWUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ2b2x1bWVcIl0pO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5vdXRwdXQgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBnYWluOiBvcHRpb25zLnZvbHVtZSxcbiAgICAgICAgICAgIHVuaXRzOiBcImRlY2liZWxzXCIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMub3V0cHV0LmdhaW47XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwidm9sdW1lXCIpO1xuICAgICAgICB0aGlzLl91bm11dGVkVm9sdW1lID0gb3B0aW9ucy52b2x1bWU7XG4gICAgICAgIC8vIHNldCB0aGUgbXV0ZSBpbml0aWFsbHlcbiAgICAgICAgdGhpcy5tdXRlID0gb3B0aW9ucy5tdXRlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbXV0ZTogZmFsc2UsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBvdXRwdXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCB2b2wgPSBuZXcgVG9uZS5Wb2x1bWUoLTEyKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLmNvbm5lY3Qodm9sKS5zdGFydCgpO1xuICAgICAqIC8vIG11dGUgdGhlIG91dHB1dFxuICAgICAqIHZvbC5tdXRlID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgbXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lLnZhbHVlID09PSAtSW5maW5pdHk7XG4gICAgfVxuICAgIHNldCBtdXRlKG11dGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm11dGUgJiYgbXV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5tdXRlZFZvbHVtZSA9IHRoaXMudm9sdW1lLnZhbHVlO1xuICAgICAgICAgICAgLy8gbWF5YmUgaXQgc2hvdWxkIHJhbXAgaGVyZT9cbiAgICAgICAgICAgIHRoaXMudm9sdW1lLnZhbHVlID0gLUluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubXV0ZSAmJiAhbXV0ZSkge1xuICAgICAgICAgICAgdGhpcy52b2x1bWUudmFsdWUgPSB0aGlzLl91bm11dGVkVm9sdW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmlucHV0LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52b2x1bWUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Wb2x1bWUuanMubWFwIiwiaW1wb3J0IHsgVm9sdW1lIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9jaGFubmVsL1ZvbHVtZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgb25Db250ZXh0Q2xvc2UsIG9uQ29udGV4dEluaXQgfSBmcm9tIFwiLi9Db250ZXh0SW5pdGlhbGl6YXRpb25cIjtcbmltcG9ydCB7IEdhaW4gfSBmcm9tIFwiLi9HYWluXCI7XG5pbXBvcnQgeyBjb25uZWN0U2VyaWVzLCBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4vVG9uZUF1ZGlvTm9kZVwiO1xuLyoqXG4gKiBBIHNpbmdsZSBtYXN0ZXIgb3V0cHV0IHdoaWNoIGlzIGNvbm5lY3RlZCB0byB0aGVcbiAqIEF1ZGlvRGVzdGluYXRpb25Ob2RlIChha2EgeW91ciBzcGVha2VycykuXG4gKiBJdCBwcm92aWRlcyB1c2VmdWwgY29udmVuaWVuY2VzIHN1Y2ggYXMgdGhlIGFiaWxpdHlcbiAqIHRvIHNldCB0aGUgdm9sdW1lIGFuZCBtdXRlIHRoZSBlbnRpcmUgYXBwbGljYXRpb24uXG4gKiBJdCBhbHNvIGdpdmVzIHlvdSB0aGUgYWJpbGl0eSB0byBhcHBseSBtYXN0ZXIgZWZmZWN0cyB0byB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvc2NpbGxhdG9yID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnN0YXJ0KCk7XG4gKiAvLyB0aGUgYXVkaW8gd2lsbCBnbyBmcm9tIHRoZSBvc2NpbGxhdG9yIHRvIHRoZSBzcGVha2Vyc1xuICogb3NjaWxsYXRvci5jb25uZWN0KFRvbmUuZ2V0RGVzdGluYXRpb24oKSk7XG4gKiAvLyBhIGNvbnZlbmllbmNlIGZvciBjb25uZWN0aW5nIHRvIHRoZSBtYXN0ZXIgb3V0cHV0IGlzIGFsc28gcHJvdmlkZWQ6XG4gKiBvc2NpbGxhdG9yLnRvRGVzdGluYXRpb24oKTtcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXN0aW5hdGlvbiBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhEZXN0aW5hdGlvbi5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEZXN0aW5hdGlvblwiO1xuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IFZvbHVtZSh7IGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXQgPSBuZXcgR2Fpbih7IGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2b2x1bWUgb2YgdGhlIG1hc3RlciBvdXRwdXQgaW4gZGVjaWJlbHMuIC1JbmZpbml0eSBpcyBzaWxlbnQsIGFuZCAwIGlzIG5vIGNoYW5nZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgICAgICogb3NjLnN0YXJ0KCk7XG4gICAgICAgICAqIC8vIHJhbXAgdGhlIHZvbHVtZSBkb3duIHRvIHNpbGVudCBvdmVyIDEwIHNlY29uZHNcbiAgICAgICAgICogVG9uZS5nZXREZXN0aW5hdGlvbigpLnZvbHVtZS5yYW1wVG8oLUluZmluaXR5LCAxMCk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuaW5wdXQudm9sdW1lO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoRGVzdGluYXRpb24uZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKTtcbiAgICAgICAgY29ubmVjdFNlcmllcyh0aGlzLmlucHV0LCB0aGlzLm91dHB1dCwgdGhpcy5jb250ZXh0LnJhd0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLm11dGUgPSBvcHRpb25zLm11dGU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsQ2hhbm5lbHMgPSBbdGhpcy5pbnB1dCwgdGhpcy5jb250ZXh0LnJhd0NvbnRleHQuZGVzdGluYXRpb24sIHRoaXMub3V0cHV0XTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIG11dGU6IGZhbHNlLFxuICAgICAgICAgICAgdm9sdW1lOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZSB0aGUgb3V0cHV0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjaWxsYXRvciA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS5zdGFydCgpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgKiBcdC8vIG11dGUgdGhlIG91dHB1dFxuICAgICAqIFx0VG9uZS5EZXN0aW5hdGlvbi5tdXRlID0gdHJ1ZTtcbiAgICAgKiB9LCAxMDAwKTtcbiAgICAgKi9cbiAgICBnZXQgbXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQubXV0ZTtcbiAgICB9XG4gICAgc2V0IG11dGUobXV0ZSkge1xuICAgICAgICB0aGlzLmlucHV0Lm11dGUgPSBtdXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtYXN0ZXIgZWZmZWN0cyBjaGFpbi4gTk9URTogdGhpcyB3aWxsIGRpc2Nvbm5lY3QgYW55IG5vZGVzIHdoaWNoIHdlcmUgcHJldmlvdXNseVxuICAgICAqIGNoYWluZWQgaW4gdGhlIG1hc3RlciBlZmZlY3RzIGNoYWluLlxuICAgICAqIEBwYXJhbSBhcmdzIEFsbCBhcmd1bWVudHMgd2lsbCBiZSBjb25uZWN0ZWQgaW4gYSByb3cgYW5kIHRoZSBNYXN0ZXIgd2lsbCBiZSByb3V0ZWQgdGhyb3VnaCBpdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJvdXRlIGFsbCBhdWRpbyB0aHJvdWdoIGEgZmlsdGVyIGFuZCBjb21wcmVzc29yXG4gICAgICogY29uc3QgbG93cGFzcyA9IG5ldyBUb25lLkZpbHRlcig4MDAsIFwibG93cGFzc1wiKTtcbiAgICAgKiBjb25zdCBjb21wcmVzc29yID0gbmV3IFRvbmUuQ29tcHJlc3NvcigtMTgpO1xuICAgICAqIFRvbmUuRGVzdGluYXRpb24uY2hhaW4obG93cGFzcywgY29tcHJlc3Nvcik7XG4gICAgICovXG4gICAgY2hhaW4oLi4uYXJncykge1xuICAgICAgICB0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgYXJncy51bnNoaWZ0KHRoaXMuaW5wdXQpO1xuICAgICAgICBhcmdzLnB1c2godGhpcy5vdXRwdXQpO1xuICAgICAgICBjb25uZWN0U2VyaWVzKC4uLmFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNoYW5uZWxzIHRoZSBzeXN0ZW0gY2FuIG91dHB1dFxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc29sZS5sb2coVG9uZS5EZXN0aW5hdGlvbi5tYXhDaGFubmVsQ291bnQpO1xuICAgICAqL1xuICAgIGdldCBtYXhDaGFubmVsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5kZXN0aW5hdGlvbi5tYXhDaGFubmVsQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gXHRJTklUSUFMSVpBVElPTlxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbkNvbnRleHRJbml0KGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQuZGVzdGluYXRpb24gPSBuZXcgRGVzdGluYXRpb24oeyBjb250ZXh0IH0pO1xufSk7XG5vbkNvbnRleHRDbG9zZShjb250ZXh0ID0+IHtcbiAgICBjb250ZXh0LmRlc3RpbmF0aW9uLmRpc3Bvc2UoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVzdGluYXRpb24uanMubWFwIiwiaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi9UaW1lbGluZVwiO1xuaW1wb3J0IHsgVG9uZSB9IGZyb20gXCIuLi9Ub25lXCI7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgdmFsdWUgd2hpY2ggaXMgZ2V0dGFibGUgYW5kIHNldHRhYmxlIGluIGEgdGltZWQgd2F5XG4gKi9cbmV4cG9ydCBjbGFzcyBUaW1lbGluZVZhbHVlIGV4dGVuZHMgVG9uZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluaXRpYWxWYWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIHRoZXJlIGlzIG5vIHNjaGVkdWxlZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaW1lbGluZVZhbHVlXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZWxpbmUgd2hpY2ggc3RvcmVzIHRoZSB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbWVsaW5lID0gbmV3IFRpbWVsaW5lKHsgbWVtb3J5OiAxMCB9KTtcbiAgICAgICAgdGhpcy5faW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICovXG4gICAgc2V0KHZhbHVlLCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3RpbWVsaW5lLmFkZCh7XG4gICAgICAgICAgICB2YWx1ZSwgdGltZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgYXQgdGhlIGdpdmVuIHRpbWVcbiAgICAgKi9cbiAgICBnZXQodGltZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX3RpbWVsaW5lLmdldCh0aW1lKTtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZWxpbmVWYWx1ZS5qcy5tYXAiLCJpbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG4vKipcbiAqIFRyYW5zcG9ydEV2ZW50IGlzIGFuIGludGVybmFsIGNsYXNzIHVzZWQgYnkgW1tUcmFuc3BvcnRdXVxuICogdG8gc2NoZWR1bGUgZXZlbnRzLiBEbyBubyBpbnZva2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgaXQgaXNcbiAqIGhhbmRsZWQgZnJvbSB3aXRoaW4gVG9uZS5UcmFuc3BvcnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnRFdmVudCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCBUaGUgdHJhbnNwb3J0IG9iamVjdCB3aGljaCB0aGUgZXZlbnQgYmVsb25ncyB0b1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRyYW5zcG9ydCwgb3B0cykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZCBvZiB0aGUgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWQgPSBUcmFuc3BvcnRFdmVudC5fZXZlbnRJZCsrO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihUcmFuc3BvcnRFdmVudC5nZXREZWZhdWx0cygpLCBvcHRzKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9vbmNlID0gb3B0aW9ucy5vbmNlO1xuICAgICAgICB0aGlzLnRpbWUgPSBvcHRpb25zLnRpbWU7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBub09wLFxuICAgICAgICAgICAgb25jZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1lOiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhlIGV2ZW50IGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSAgdGltZSAgVGhlIEF1ZGlvQ29udGV4dCB0aW1lIGluIHNlY29uZHMgb2YgdGhlIGV2ZW50XG4gICAgICovXG4gICAgaW52b2tlKHRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBDdXJyZW50IElEIGNvdW50ZXJcbiAqL1xuVHJhbnNwb3J0RXZlbnQuX2V2ZW50SWQgPSAwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNwb3J0RXZlbnQuanMubWFwIiwiaW1wb3J0IHsgVGlja3NDbGFzcyB9IGZyb20gXCIuLi90eXBlL1RpY2tzXCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRFdmVudCB9IGZyb20gXCIuL1RyYW5zcG9ydEV2ZW50XCI7XG4vKipcbiAqIFRyYW5zcG9ydFJlcGVhdEV2ZW50IGlzIGFuIGludGVybmFsIGNsYXNzIHVzZWQgYnkgVG9uZS5UcmFuc3BvcnRcbiAqIHRvIHNjaGVkdWxlIHJlcGVhdCBldmVudHMuIFRoaXMgY2xhc3Mgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnRSZXBlYXRFdmVudCBleHRlbmRzIFRyYW5zcG9ydEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdHJhbnNwb3J0IFRoZSB0cmFuc3BvcnQgb2JqZWN0IHdoaWNoIHRoZSBldmVudCBiZWxvbmdzIHRvXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHJhbnNwb3J0LCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKHRyYW5zcG9ydCwgb3B0cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIGN1cnJlbnQgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSBuZXh0IHRpbWVsaW5lIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0SWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lIG9mIHRoZSBuZXh0IGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0VGljayA9IHRoaXMudGltZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgcmVmZXJlbmNlIHRvIHRoZSBib3VuZCBzdGFydCBtZXRob2RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kUmVzdGFydCA9IHRoaXMuX3Jlc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oVHJhbnNwb3J0UmVwZWF0RXZlbnQuZ2V0RGVmYXVsdHMoKSwgb3B0cyk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBuZXcgVGlja3NDbGFzcyh0cmFuc3BvcnQuY29udGV4dCwgb3B0aW9ucy5kdXJhdGlvbikudmFsdWVPZigpO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG5ldyBUaWNrc0NsYXNzKHRyYW5zcG9ydC5jb250ZXh0LCBvcHRpb25zLmludGVydmFsKS52YWx1ZU9mKCk7XG4gICAgICAgIHRoaXMuX25leHRUaWNrID0gb3B0aW9ucy50aW1lO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbihcInN0YXJ0XCIsIHRoaXMuX2JvdW5kUmVzdGFydCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0Lm9uKFwibG9vcFN0YXJ0XCIsIHRoaXMuX2JvdW5kUmVzdGFydCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMudHJhbnNwb3J0LmNvbnRleHQ7XG4gICAgICAgIHRoaXMuX3Jlc3RhcnQoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgVHJhbnNwb3J0RXZlbnQuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgZHVyYXRpb246IEluZmluaXR5LFxuICAgICAgICAgICAgaW50ZXJ2YWw6IDEsXG4gICAgICAgICAgICBvbmNlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgY2FsbGJhY2suIFJldHVybnMgdGhlIHRpY2sgdGltZSB3aGljaFxuICAgICAqIHRoZSBuZXh0IGV2ZW50IHNob3VsZCBiZSBzY2hlZHVsZWQgYXQuXG4gICAgICogQHBhcmFtICB0aW1lICBUaGUgQXVkaW9Db250ZXh0IHRpbWUgaW4gc2Vjb25kcyBvZiB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBpbnZva2UodGltZSkge1xuICAgICAgICAvLyBjcmVhdGUgbW9yZSBldmVudHMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIHRoaXMuX2NyZWF0ZUV2ZW50cyh0aW1lKTtcbiAgICAgICAgLy8gY2FsbCB0aGUgc3VwZXIgY2xhc3NcbiAgICAgICAgc3VwZXIuaW52b2tlKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoIG1vcmUgZXZlbnRzIG9udG8gdGhlIHRpbWVsaW5lIHRvIGtlZXAgdXAgd2l0aCB0aGUgcG9zaXRpb24gb2YgdGhlIHRpbWVsaW5lXG4gICAgICovXG4gICAgX2NyZWF0ZUV2ZW50cyh0aW1lKSB7XG4gICAgICAgIC8vIHNjaGVkdWxlIHRoZSBuZXh0IGV2ZW50XG4gICAgICAgIGNvbnN0IHRpY2tzID0gdGhpcy50cmFuc3BvcnQuZ2V0VGlja3NBdFRpbWUodGltZSk7XG4gICAgICAgIGlmICh0aWNrcyA+PSB0aGlzLnRpbWUgJiYgdGlja3MgPj0gdGhpcy5fbmV4dFRpY2sgJiYgdGhpcy5fbmV4dFRpY2sgKyB0aGlzLl9pbnRlcnZhbCA8IHRoaXMudGltZSArIHRoaXMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRUaWNrICs9IHRoaXMuX2ludGVydmFsO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudElkID0gdGhpcy5fbmV4dElkO1xuICAgICAgICAgICAgdGhpcy5fbmV4dElkID0gdGhpcy50cmFuc3BvcnQuc2NoZWR1bGVPbmNlKHRoaXMuaW52b2tlLmJpbmQodGhpcyksIG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fbmV4dFRpY2spLnRvU2Vjb25kcygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoIG1vcmUgZXZlbnRzIG9udG8gdGhlIHRpbWVsaW5lIHRvIGtlZXAgdXAgd2l0aCB0aGUgcG9zaXRpb24gb2YgdGhlIHRpbWVsaW5lXG4gICAgICovXG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbGVhcih0aGlzLl9jdXJyZW50SWQpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbGVhcih0aGlzLl9uZXh0SWQpO1xuICAgICAgICB0aGlzLl9uZXh0VGljayA9IHRoaXMudGltZTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLnRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZSh0aW1lKTtcbiAgICAgICAgaWYgKHRpY2tzID4gdGhpcy50aW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0VGljayA9IHRoaXMudGltZSArIE1hdGguY2VpbCgodGlja3MgLSB0aGlzLnRpbWUpIC8gdGhpcy5faW50ZXJ2YWwpICogdGhpcy5faW50ZXJ2YWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudElkID0gdGhpcy50cmFuc3BvcnQuc2NoZWR1bGVPbmNlKHRoaXMuaW52b2tlLmJpbmQodGhpcyksIG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGhpcy5fbmV4dFRpY2spLnRvU2Vjb25kcygpKTtcbiAgICAgICAgdGhpcy5fbmV4dFRpY2sgKz0gdGhpcy5faW50ZXJ2YWw7XG4gICAgICAgIHRoaXMuX25leHRJZCA9IHRoaXMudHJhbnNwb3J0LnNjaGVkdWxlT25jZSh0aGlzLmludm9rZS5iaW5kKHRoaXMpLCBuZXcgVGlja3NDbGFzcyh0aGlzLmNvbnRleHQsIHRoaXMuX25leHRUaWNrKS50b1NlY29uZHMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbGVhcih0aGlzLl9jdXJyZW50SWQpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbGVhcih0aGlzLl9uZXh0SWQpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vZmYoXCJzdGFydFwiLCB0aGlzLl9ib3VuZFJlc3RhcnQpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vZmYoXCJsb29wU3RhcnRcIiwgdGhpcy5fYm91bmRSZXN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNwb3J0UmVwZWF0RXZlbnQuanMubWFwIiwiaW1wb3J0IHsgVGltZUNsYXNzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdHlwZS9UaW1lXCI7XG5pbXBvcnQgeyBUaW1lbGluZVZhbHVlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UaW1lbGluZVZhbHVlXCI7XG5pbXBvcnQgeyBvbkNvbnRleHRDbG9zZSwgb25Db250ZXh0SW5pdCB9IGZyb20gXCIuLi9jb250ZXh0L0NvbnRleHRJbml0aWFsaXphdGlvblwiO1xuaW1wb3J0IHsgR2FpbiB9IGZyb20gXCIuLi9jb250ZXh0L0dhaW5cIjtcbmltcG9ydCB7IFRvbmVXaXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L1RvbmVXaXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgVGlja3NDbGFzcyB9IGZyb20gXCIuLi90eXBlL1RpY2tzXCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRUaW1lQ2xhc3MgfSBmcm9tIFwiLi4vdHlwZS9UcmFuc3BvcnRUaW1lXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIi4uL3V0aWwvRW1pdHRlclwiO1xuaW1wb3J0IHsgcmVhZE9ubHksIHdyaXRhYmxlIH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJbnRlcnZhbFRpbWVsaW5lIH0gZnJvbSBcIi4uL3V0aWwvSW50ZXJ2YWxUaW1lbGluZVwiO1xuaW1wb3J0IHsgVGltZWxpbmUgfSBmcm9tIFwiLi4vdXRpbC9UaW1lbGluZVwiO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNEZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBDbG9jayB9IGZyb20gXCIuL0Nsb2NrXCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRFdmVudCB9IGZyb20gXCIuL1RyYW5zcG9ydEV2ZW50XCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRSZXBlYXRFdmVudCB9IGZyb20gXCIuL1RyYW5zcG9ydFJlcGVhdEV2ZW50XCI7XG4vKipcbiAqIFRyYW5zcG9ydCBmb3IgdGltaW5nIG11c2ljYWwgZXZlbnRzLlxuICogU3VwcG9ydHMgdGVtcG8gY3VydmVzIGFuZCB0aW1lIGNoYW5nZXMuIFVubGlrZSBicm93c2VyLWJhc2VkIHRpbWluZyAoc2V0SW50ZXJ2YWwsIHJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAqIFRyYW5zcG9ydCB0aW1pbmcgZXZlbnRzIHBhc3MgaW4gdGhlIGV4YWN0IHRpbWUgb2YgdGhlIHNjaGVkdWxlZCBldmVudFxuICogaW4gdGhlIGFyZ3VtZW50IG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbi4gUGFzcyB0aGF0IHRpbWUgdmFsdWUgdG8gdGhlIG9iamVjdFxuICogeW91J3JlIHNjaGVkdWxpbmcuIDxicj48YnI+XG4gKiBBIHNpbmdsZSB0cmFuc3BvcnQgaXMgY3JlYXRlZCBmb3IgeW91IHdoZW4gdGhlIGxpYnJhcnkgaXMgaW5pdGlhbGl6ZWQuXG4gKiA8YnI+PGJyPlxuICogVGhlIHRyYW5zcG9ydCBlbWl0cyB0aGUgZXZlbnRzOiBcInN0YXJ0XCIsIFwic3RvcFwiLCBcInBhdXNlXCIsIGFuZCBcImxvb3BcIiB3aGljaCBhcmVcbiAqIGNhbGxlZCB3aXRoIHRoZSB0aW1lIG9mIHRoYXQgZXZlbnQgYXMgdGhlIGFyZ3VtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpO1xuICogLy8gcmVwZWF0ZWQgZXZlbnQgZXZlcnkgOHRoIG5vdGVcbiAqIFRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlUmVwZWF0KCh0aW1lKSA9PiB7XG4gKiBcdC8vIHVzZSB0aGUgY2FsbGJhY2sgdGltZSB0byBzY2hlZHVsZSBldmVudHNcbiAqIFx0b3NjLnN0YXJ0KHRpbWUpLnN0b3AodGltZSArIDAuMSk7XG4gKiB9LCBcIjhuXCIpO1xuICogLy8gdHJhbnNwb3J0IG11c3QgYmUgc3RhcnRlZCBiZWZvcmUgaXQgc3RhcnRzIGludm9raW5nIGV2ZW50c1xuICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBUb25lV2l0aENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUcmFuc3BvcnQuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhbnNwb3J0XCI7XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBcdExPT1BJTkdcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdHJhbnNwb3J0IGxvb3BzIG9yIG5vdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvb3AgPSBuZXcgVGltZWxpbmVWYWx1ZShmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9vcCBzdGFydCBwb3NpdGlvbiBpbiB0aWNrc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9vcFN0YXJ0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb29wIGVuZCBwb3NpdGlvbiBpbiB0aWNrc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9vcEVuZCA9IDA7XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBcdFRJTUVMSU5FIEVWRU5UU1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCB0aGUgZXZlbnRzIGluIGFuIG9iamVjdCB0byBrZWVwIHRyYWNrIGJ5IElEXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWRFdmVudHMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2hlZHVsZWQgZXZlbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGltZWxpbmUgPSBuZXcgVGltZWxpbmUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcGVhdGVkIGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVwZWF0ZWRFdmVudHMgPSBuZXcgSW50ZXJ2YWxUaW1lbGluZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG9mIHRoZSBzeW5jZWQgU2lnbmFsc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3luY2VkU2lnbmFscyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN3aW5nIGFtb3VudFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3dpbmdBbW91bnQgPSAwO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVHJhbnNwb3J0LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIC8vIENMT0NLL1RFTVBPXG4gICAgICAgIHRoaXMuX3BwcSA9IG9wdGlvbnMucHBxO1xuICAgICAgICB0aGlzLl9jbG9jayA9IG5ldyBDbG9jayh7XG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5fcHJvY2Vzc1RpY2suYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogMCxcbiAgICAgICAgICAgIHVuaXRzOiBcImJwbVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmluZENsb2NrRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuYnBtID0gdGhpcy5fY2xvY2suZnJlcXVlbmN5O1xuICAgICAgICB0aGlzLl9jbG9jay5mcmVxdWVuY3kubXVsdGlwbGllciA9IG9wdGlvbnMucHBxO1xuICAgICAgICB0aGlzLmJwbS5zZXRWYWx1ZUF0VGltZShvcHRpb25zLmJwbSwgMCk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwiYnBtXCIpO1xuICAgICAgICB0aGlzLl90aW1lU2lnbmF0dXJlID0gb3B0aW9ucy50aW1lU2lnbmF0dXJlO1xuICAgICAgICAvLyBTV0lOR1xuICAgICAgICB0aGlzLl9zd2luZ1RpY2tzID0gb3B0aW9ucy5wcHEgLyAyOyAvLyA4blxuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVXaXRoQ29udGV4dC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBicG06IDEyMCxcbiAgICAgICAgICAgIGxvb3BFbmQ6IFwiNG1cIixcbiAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgIHBwcTogMTkyLFxuICAgICAgICAgICAgc3dpbmc6IDAsXG4gICAgICAgICAgICBzd2luZ1N1YmRpdmlzaW9uOiBcIjhuXCIsXG4gICAgICAgICAgICB0aW1lU2lnbmF0dXJlOiA0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRUSUNLU1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIGNhbGxlZCBvbiBldmVyeSB0aWNrXG4gICAgICogQHBhcmFtICB0aWNrVGltZSBjbG9jayByZWxhdGl2ZSB0aWNrIHRpbWVcbiAgICAgKi9cbiAgICBfcHJvY2Vzc1RpY2sodGlja1RpbWUsIHRpY2tzKSB7XG4gICAgICAgIC8vIGRvIHRoZSBsb29wIHRlc3RcbiAgICAgICAgaWYgKHRoaXMuX2xvb3AuZ2V0KHRpY2tUaW1lKSkge1xuICAgICAgICAgICAgaWYgKHRpY2tzID49IHRoaXMuX2xvb3BFbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJsb29wRW5kXCIsIHRpY2tUaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZSh0aGlzLl9sb29wU3RhcnQsIHRpY2tUaW1lKTtcbiAgICAgICAgICAgICAgICB0aWNrcyA9IHRoaXMuX2xvb3BTdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJsb29wU3RhcnRcIiwgdGlja1RpbWUsIHRoaXMuX2Nsb2NrLmdldFNlY29uZHNBdFRpbWUodGlja1RpbWUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJsb29wXCIsIHRpY2tUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgc3dpbmdcbiAgICAgICAgaWYgKHRoaXMuX3N3aW5nQW1vdW50ID4gMCAmJlxuICAgICAgICAgICAgdGlja3MgJSB0aGlzLl9wcHEgIT09IDAgJiYgLy8gbm90IG9uIGEgZG93bmJlYXRcbiAgICAgICAgICAgIHRpY2tzICUgKHRoaXMuX3N3aW5nVGlja3MgKiAyKSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gYWRkIHNvbWUgc3dpbmdcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKHRpY2tzICUgKHRoaXMuX3N3aW5nVGlja3MgKiAyKSkgLyAodGhpcy5fc3dpbmdUaWNrcyAqIDIpO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gTWF0aC5zaW4oKHByb2dyZXNzKSAqIE1hdGguUEkpICogdGhpcy5fc3dpbmdBbW91bnQ7XG4gICAgICAgICAgICB0aWNrVGltZSArPSBuZXcgVGlja3NDbGFzcyh0aGlzLmNvbnRleHQsIHRoaXMuX3N3aW5nVGlja3MgKiAyIC8gMykudG9TZWNvbmRzKCkgKiBhbW91bnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW52b2tlIHRoZSB0aW1lbGluZSBldmVudHMgc2NoZWR1bGVkIG9uIHRoaXMgdGlja1xuICAgICAgICB0aGlzLl90aW1lbGluZS5mb3JFYWNoQXRUaW1lKHRpY2tzLCBldmVudCA9PiBldmVudC5pbnZva2UodGlja1RpbWUpKTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gXHRTQ0hFRFVMQUJMRSBFVkVOVFNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhbiBldmVudCBhbG9uZyB0aGUgdGltZWxpbmUuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBiZSBpbnZva2VkIGF0IHRoZSB0aW1lLlxuICAgICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIHRvIGludm9rZSB0aGUgY2FsbGJhY2sgYXQuXG4gICAgICogQHJldHVybiBUaGUgaWQgb2YgdGhlIGV2ZW50IHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjYW5jZWxpbmcgdGhlIGV2ZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc2NoZWR1bGUgYW4gZXZlbnQgb24gdGhlIDE2dGggbWVhc3VyZVxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlKCh0aW1lKSA9PiB7XG4gICAgICogXHQvLyBpbnZva2VkIG9uIG1lYXN1cmUgMTZcbiAgICAgKiBcdGNvbnNvbGUubG9nKFwibWVhc3VyZSAxNiFcIik7XG4gICAgICogfSwgXCIxNjowOjBcIik7XG4gICAgICovXG4gICAgc2NoZWR1bGUoY2FsbGJhY2ssIHRpbWUpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgVHJhbnNwb3J0RXZlbnQodGhpcywge1xuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICB0aW1lOiBuZXcgVHJhbnNwb3J0VGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGltZSkudG9UaWNrcygpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEV2ZW50KGV2ZW50LCB0aGlzLl90aW1lbGluZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGEgcmVwZWF0ZWQgZXZlbnQgYWxvbmcgdGhlIHRpbWVsaW5lLiBUaGUgZXZlbnQgd2lsbCBmaXJlXG4gICAgICogYXQgdGhlIGBpbnRlcnZhbGAgc3RhcnRpbmcgYXQgdGhlIGBzdGFydFRpbWVgIGFuZCBmb3IgdGhlIHNwZWNpZmllZFxuICAgICAqIGBkdXJhdGlvbmAuXG4gICAgICogQHBhcmFtICBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayB0byBpbnZva2UuXG4gICAgICogQHBhcmFtICBpbnRlcnZhbCAgIFRoZSBkdXJhdGlvbiBiZXR3ZWVuIHN1Y2Nlc3NpdmUgY2FsbGJhY2tzLiBNdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLlxuICAgICAqIEBwYXJhbSAgc3RhcnRUaW1lICBXaGVuIGFsb25nIHRoZSB0aW1lbGluZSB0aGUgZXZlbnRzIHNob3VsZCBzdGFydCBiZWluZyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gSG93IGxvbmcgdGhlIGV2ZW50IHNob3VsZCByZXBlYXQuXG4gICAgICogQHJldHVybiAgVGhlIElEIG9mIHRoZSBzY2hlZHVsZWQgZXZlbnQuIFVzZSB0aGlzIHRvIGNhbmNlbCB0aGUgZXZlbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gICAgICogLy8gYSBjYWxsYmFjayBpbnZva2VkIGV2ZXJ5IGVpZ2h0aCBub3RlIGFmdGVyIHRoZSBmaXJzdCBtZWFzdXJlXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc2NoZWR1bGVSZXBlYXQoKHRpbWUpID0+IHtcbiAgICAgKiBcdG9zYy5zdGFydCh0aW1lKS5zdG9wKHRpbWUgKyAwLjEpO1xuICAgICAqIH0sIFwiOG5cIiwgXCIxbVwiKTtcbiAgICAgKi9cbiAgICBzY2hlZHVsZVJlcGVhdChjYWxsYmFjaywgaW50ZXJ2YWwsIHN0YXJ0VGltZSwgZHVyYXRpb24gPSBJbmZpbml0eSkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBUcmFuc3BvcnRSZXBlYXRFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgZHVyYXRpb24pLnRvVGlja3MoKSxcbiAgICAgICAgICAgIGludGVydmFsOiBuZXcgVGltZUNsYXNzKHRoaXMuY29udGV4dCwgaW50ZXJ2YWwpLnRvVGlja3MoKSxcbiAgICAgICAgICAgIHRpbWU6IG5ldyBUcmFuc3BvcnRUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCBzdGFydFRpbWUpLnRvVGlja3MoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGtpY2sgaXQgb2ZmIGlmIHRoZSBUcmFuc3BvcnQgaXMgc3RhcnRlZFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRFdmVudChldmVudCwgdGhpcy5fcmVwZWF0ZWRFdmVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhbiBldmVudCB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uY2UuXG4gICAgICogQHBhcmFtIHRpbWUgVGhlIHRpbWUgdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkLlxuICAgICAqIEByZXR1cm5zIFRoZSBJRCBvZiB0aGUgc2NoZWR1bGVkIGV2ZW50LlxuICAgICAqL1xuICAgIHNjaGVkdWxlT25jZShjYWxsYmFjaywgdGltZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBUcmFuc3BvcnRFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgICAgICB0aW1lOiBuZXcgVHJhbnNwb3J0VGltZUNsYXNzKHRoaXMuY29udGV4dCwgdGltZSkudG9UaWNrcygpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEV2ZW50KGV2ZW50LCB0aGlzLl90aW1lbGluZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBwYXNzZWQgaW4gZXZlbnQgaWQgZnJvbSB0aGUgdGltZWxpbmVcbiAgICAgKiBAcGFyYW0gZXZlbnRJZCBUaGUgaWQgb2YgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIGNsZWFyKGV2ZW50SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NjaGVkdWxlZEV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudElkKSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX3NjaGVkdWxlZEV2ZW50c1tldmVudElkLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgaXRlbS50aW1lbGluZS5yZW1vdmUoaXRlbS5ldmVudCk7XG4gICAgICAgICAgICBpdGVtLmV2ZW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zY2hlZHVsZWRFdmVudHNbZXZlbnRJZC50b1N0cmluZygpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV2ZW50IHRvIHRoZSBjb3JyZWN0IHRpbWVsaW5lLiBLZWVwIHRyYWNrIG9mIHRoZVxuICAgICAqIHRpbWVsaW5lIGl0IHdhcyBhZGRlZCB0by5cbiAgICAgKiBAcmV0dXJucyB0aGUgZXZlbnQgaWQgd2hpY2ggd2FzIGp1c3QgYWRkZWRcbiAgICAgKi9cbiAgICBfYWRkRXZlbnQoZXZlbnQsIHRpbWVsaW5lKSB7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50c1tldmVudC5pZC50b1N0cmluZygpXSA9IHtcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgdGltZWxpbmUsXG4gICAgICAgIH07XG4gICAgICAgIHRpbWVsaW5lLmFkZChldmVudCk7XG4gICAgICAgIHJldHVybiBldmVudC5pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHNjaGVkdWxlZCBldmVudHMgZnJvbSB0aGUgdGltZWxpbmUgYWZ0ZXJcbiAgICAgKiB0aGUgZ2l2ZW4gdGltZS4gUmVwZWF0ZWQgZXZlbnRzIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGlmIHRoZWlyIHN0YXJ0VGltZSBpcyBhZnRlciB0aGUgZ2l2ZW4gdGltZVxuICAgICAqIEBwYXJhbSBhZnRlciBDbGVhciBhbGwgZXZlbnRzIGFmdGVyIHRoaXMgdGltZS5cbiAgICAgKi9cbiAgICBjYW5jZWwoYWZ0ZXIgPSAwKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkQWZ0ZXIgPSB0aGlzLnRvVGlja3MoYWZ0ZXIpO1xuICAgICAgICB0aGlzLl90aW1lbGluZS5mb3JFYWNoRnJvbShjb21wdXRlZEFmdGVyLCBldmVudCA9PiB0aGlzLmNsZWFyKGV2ZW50LmlkKSk7XG4gICAgICAgIHRoaXMuX3JlcGVhdGVkRXZlbnRzLmZvckVhY2hGcm9tKGNvbXB1dGVkQWZ0ZXIsIGV2ZW50ID0+IHRoaXMuY2xlYXIoZXZlbnQuaWQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0U1RBUlQvU1RPUC9QQVVTRVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEJpbmQgc3RhcnQvc3RvcC9wYXVzZSBldmVudHMgZnJvbSB0aGUgY2xvY2sgYW5kIGVtaXQgdGhlbS5cbiAgICAgKi9cbiAgICBfYmluZENsb2NrRXZlbnRzKCkge1xuICAgICAgICB0aGlzLl9jbG9jay5vbihcInN0YXJ0XCIsICh0aW1lLCBvZmZzZXQpID0+IHtcbiAgICAgICAgICAgIG9mZnNldCA9IG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgb2Zmc2V0KS50b1NlY29uZHMoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInN0YXJ0XCIsIHRpbWUsIG9mZnNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jbG9jay5vbihcInN0b3BcIiwgKHRpbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInN0b3BcIiwgdGltZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jbG9jay5vbihcInBhdXNlXCIsICh0aW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwYXVzZVwiLCB0aW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBsYXliYWNrIHN0YXRlIG9mIHRoZSBzb3VyY2UsIGVpdGhlciBcInN0YXJ0ZWRcIiwgXCJzdG9wcGVkXCIsIG9yIFwicGF1c2VkXCJcbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9jay5nZXRTdGF0ZUF0VGltZSh0aGlzLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIHRyYW5zcG9ydCBhbmQgYWxsIHNvdXJjZXMgc3luY2VkIHRvIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtICB0aW1lIFRoZSB0aW1lIHdoZW4gdGhlIHRyYW5zcG9ydCBzaG91bGQgc3RhcnQuXG4gICAgICogQHBhcmFtICBvZmZzZXQgVGhlIHRpbWVsaW5lIG9mZnNldCB0byBzdGFydCB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc3RhcnQgdGhlIHRyYW5zcG9ydCBpbiBvbmUgc2Vjb25kIHN0YXJ0aW5nIGF0IGJlZ2lubmluZyBvZiB0aGUgNXRoIG1lYXN1cmUuXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoXCIrMVwiLCBcIjQ6MDowXCIpO1xuICAgICAqL1xuICAgIHN0YXJ0KHRpbWUsIG9mZnNldCkge1xuICAgICAgICBsZXQgb2Zmc2V0VGlja3M7XG4gICAgICAgIGlmIChpc0RlZmluZWQob2Zmc2V0KSkge1xuICAgICAgICAgICAgb2Zmc2V0VGlja3MgPSB0aGlzLnRvVGlja3Mob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdGFydCB0aGUgY2xvY2tcbiAgICAgICAgdGhpcy5fY2xvY2suc3RhcnQodGltZSwgb2Zmc2V0VGlja3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgdHJhbnNwb3J0IGFuZCBhbGwgc291cmNlcyBzeW5jZWQgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSB3aGVuIHRoZSB0cmFuc3BvcnQgc2hvdWxkIHN0b3AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5zdG9wKCk7XG4gICAgICovXG4gICAgc3RvcCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX2Nsb2NrLnN0b3AodGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgdHJhbnNwb3J0IGFuZCBhbGwgc291cmNlcyBzeW5jZWQgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBwYXVzZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuX2Nsb2NrLnBhdXNlKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB0cmFuc3BvcnQuIElmIGl0IGlzXG4gICAgICogc3RhcnRlZCwgaXQgd2lsbCBzdG9wIGl0LCBvdGhlcndpc2UgaXQgd2lsbCBzdGFydCB0aGUgVHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSAgdGltZSBUaGUgdGltZSBvZiB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICB0b2dnbGUodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGlmICh0aGlzLl9jbG9jay5nZXRTdGF0ZUF0VGltZSh0aW1lKSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFx0U0VUVEVSUy9HRVRURVJTXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogVGhlIHRpbWUgc2lnbmF0dXJlIGFzIGp1c3QgdGhlIG51bWVyYXRvciBvdmVyIDQuXG4gICAgICogRm9yIGV4YW1wbGUgNC80IHdvdWxkIGJlIGp1c3QgNCBhbmQgNi84IHdvdWxkIGJlIDMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBjb21tb24gdGltZVxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnRpbWVTaWduYXR1cmUgPSA0O1xuICAgICAqIC8vIDcvOFxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnRpbWVTaWduYXR1cmUgPSBbNywgOF07XG4gICAgICogLy8gdGhpcyB3aWxsIGJlIHJlZHVjZWQgdG8gYSBzaW5nbGUgbnVtYmVyXG4gICAgICogVG9uZS5UcmFuc3BvcnQudGltZVNpZ25hdHVyZTsgLy8gcmV0dXJucyAzLjVcbiAgICAgKi9cbiAgICBnZXQgdGltZVNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVTaWduYXR1cmU7XG4gICAgfVxuICAgIHNldCB0aW1lU2lnbmF0dXJlKHRpbWVTaWcpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodGltZVNpZykpIHtcbiAgICAgICAgICAgIHRpbWVTaWcgPSAodGltZVNpZ1swXSAvIHRpbWVTaWdbMV0pICogNDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aW1lU2lnbmF0dXJlID0gdGltZVNpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgVHJhbnNwb3J0Lmxvb3AgPSB0cnVlLCB0aGlzIGlzIHRoZSBzdGFydGluZyBwb3NpdGlvbiBvZiB0aGUgbG9vcC5cbiAgICAgKi9cbiAgICBnZXQgbG9vcFN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVDbGFzcyh0aGlzLmNvbnRleHQsIHRoaXMuX2xvb3BTdGFydCwgXCJpXCIpLnRvU2Vjb25kcygpO1xuICAgIH1cbiAgICBzZXQgbG9vcFN0YXJ0KHN0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5fbG9vcFN0YXJ0ID0gdGhpcy50b1RpY2tzKHN0YXJ0UG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBUcmFuc3BvcnQubG9vcCA9IHRydWUsIHRoaXMgaXMgdGhlIGVuZGluZyBwb3NpdGlvbiBvZiB0aGUgbG9vcC5cbiAgICAgKi9cbiAgICBnZXQgbG9vcEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lQ2xhc3ModGhpcy5jb250ZXh0LCB0aGlzLl9sb29wRW5kLCBcImlcIikudG9TZWNvbmRzKCk7XG4gICAgfVxuICAgIHNldCBsb29wRW5kKGVuZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX2xvb3BFbmQgPSB0aGlzLnRvVGlja3MoZW5kUG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdHJhbnNwb3J0IGxvb3BzIG9yIG5vdC5cbiAgICAgKi9cbiAgICBnZXQgbG9vcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3AuZ2V0KHRoaXMubm93KCkpO1xuICAgIH1cbiAgICBzZXQgbG9vcChsb29wKSB7XG4gICAgICAgIHRoaXMuX2xvb3Auc2V0KGxvb3AsIHRoaXMubm93KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxvb3Agc3RhcnQgYW5kIHN0b3AgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGxvb3Agb3ZlciB0aGUgZmlyc3QgbWVhc3VyZVxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnNldExvb3BQb2ludHMoMCwgXCIxbVwiKTtcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5sb29wID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBzZXRMb29wUG9pbnRzKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMubG9vcFN0YXJ0ID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgdGhpcy5sb29wRW5kID0gZW5kUG9zaXRpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc3dpbmcgdmFsdWUuIEJldHdlZW4gMC0xIHdoZXJlIDEgZXF1YWwgdG8gdGhlIG5vdGUgKyBoYWxmIHRoZSBzdWJkaXZpc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgc3dpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zd2luZ0Ftb3VudDtcbiAgICB9XG4gICAgc2V0IHN3aW5nKGFtb3VudCkge1xuICAgICAgICAvLyBzY2FsZSB0aGUgdmFsdWVzIHRvIGEgbm9ybWFsIHJhbmdlXG4gICAgICAgIHRoaXMuX3N3aW5nQW1vdW50ID0gYW1vdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN1YmRpdmlzaW9uIHdoaWNoIHRoZSBzd2luZyB3aWxsIGJlIGFwcGxpZWQgdG8uXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYW4gOHRoIG5vdGUuIFZhbHVlIG11c3QgYmUgbGVzc1xuICAgICAqIHRoYW4gYSBxdWFydGVyIG5vdGUuXG4gICAgICovXG4gICAgZ2V0IHN3aW5nU3ViZGl2aXNpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlja3NDbGFzcyh0aGlzLmNvbnRleHQsIHRoaXMuX3N3aW5nVGlja3MpLnRvTm90YXRpb24oKTtcbiAgICB9XG4gICAgc2V0IHN3aW5nU3ViZGl2aXNpb24oc3ViZGl2aXNpb24pIHtcbiAgICAgICAgdGhpcy5fc3dpbmdUaWNrcyA9IHRoaXMudG9UaWNrcyhzdWJkaXZpc2lvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBUcmFuc3BvcnQncyBwb3NpdGlvbiBpbiBCYXJzOkJlYXRzOlNpeHRlZW50aHMuXG4gICAgICogU2V0dGluZyB0aGUgdmFsdWUgd2lsbCBqdW1wIHRvIHRoYXQgcG9zaXRpb24gcmlnaHQgYXdheS5cbiAgICAgKi9cbiAgICBnZXQgcG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gdGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUobm93KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWNrc0NsYXNzKHRoaXMuY29udGV4dCwgdGlja3MpLnRvQmFyc0JlYXRzU2l4dGVlbnRocygpO1xuICAgIH1cbiAgICBzZXQgcG9zaXRpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLnRvVGlja3MocHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnRpY2tzID0gdGlja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBUcmFuc3BvcnQncyBwb3NpdGlvbiBpbiBzZWNvbmRzXG4gICAgICogU2V0dGluZyB0aGUgdmFsdWUgd2lsbCBqdW1wIHRvIHRoYXQgcG9zaXRpb24gcmlnaHQgYXdheS5cbiAgICAgKi9cbiAgICBnZXQgc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrLnNlY29uZHM7XG4gICAgfVxuICAgIHNldCBzZWNvbmRzKHMpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLl9jbG9jay5mcmVxdWVuY3kudGltZVRvVGlja3Mocywgbm93KTtcbiAgICAgICAgdGhpcy50aWNrcyA9IHRpY2tzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgVHJhbnNwb3J0J3MgbG9vcCBwb3NpdGlvbiBhcyBhIG5vcm1hbGl6ZWQgdmFsdWUuIEFsd2F5c1xuICAgICAqIHJldHVybnMgMCBpZiB0aGUgdHJhbnNwb3J0IGlmIGxvb3AgaXMgbm90IHRydWUuXG4gICAgICovXG4gICAgZ2V0IHByb2dyZXNzKCkge1xuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLl9jbG9jay5nZXRUaWNrc0F0VGltZShub3cpO1xuICAgICAgICAgICAgcmV0dXJuICh0aWNrcyAtIHRoaXMuX2xvb3BTdGFydCkgLyAodGhpcy5fbG9vcEVuZCAtIHRoaXMuX2xvb3BTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNwb3J0cyBjdXJyZW50IHRpY2sgcG9zaXRpb24uXG4gICAgICovXG4gICAgZ2V0IHRpY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvY2sudGlja3M7XG4gICAgfVxuICAgIHNldCB0aWNrcyh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9jbG9jay50aWNrcyAhPT0gdCkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlcnl0aGluZyBzeW5jZWQgdG8gdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLl9jbG9jay5nZXRUaWNrc0F0VGltZShub3cpO1xuICAgICAgICAgICAgICAgIC8vIHNjaGVkdWxlIHRvIHN0YXJ0IG9uIHRoZSBuZXh0IHRpY2ssICM1NzNcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdUaWNrID0gdGhpcy5fY2xvY2suZnJlcXVlbmN5LmdldER1cmF0aW9uT2ZUaWNrcyhNYXRoLmNlaWwodGlja3MpIC0gdGlja3MsIG5vdyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5vdyArIHJlbWFpbmluZ1RpY2s7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RvcFwiLCB0aW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZSh0LCB0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyByZXN0YXJ0IGl0IHdpdGggdGhlIG5ldyB0aW1lXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RhcnRcIiwgdGltZSwgdGhpcy5fY2xvY2suZ2V0U2Vjb25kc0F0VGltZSh0aW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZSh0LCBub3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xvY2sncyB0aWNrcyBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gIHRpbWUgIFdoZW4gdG8gZ2V0IHRoZSB0aWNrIHZhbHVlXG4gICAgICogQHJldHVybiBUaGUgdGljayB2YWx1ZSBhdCB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKi9cbiAgICBnZXRUaWNrc0F0VGltZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuX2Nsb2NrLmdldFRpY2tzQXRUaW1lKHRpbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbGFwc2VkIHNlY29uZHMgYXQgdGhlIGdpdmVuIHRpbWUuXG4gICAgICogQHBhcmFtICB0aW1lICBXaGVuIHRvIGdldCB0aGUgZWxhcHNlZCBzZWNvbmRzXG4gICAgICogQHJldHVybiAgVGhlIG51bWJlciBvZiBlbGFwc2VkIHNlY29uZHNcbiAgICAgKi9cbiAgICBnZXRTZWNvbmRzQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrLmdldFNlY29uZHNBdFRpbWUodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1bHNlcyBQZXIgUXVhcnRlciBub3RlLiBUaGlzIGlzIHRoZSBzbWFsbGVzdCByZXNvbHV0aW9uXG4gICAgICogdGhlIFRyYW5zcG9ydCB0aW1pbmcgc3VwcG9ydHMuIFRoaXMgc2hvdWxkIGJlIHNldCBvbmNlXG4gICAgICogb24gaW5pdGlhbGl6YXRpb24gYW5kIG5vdCBzZXQgYWdhaW4uIENoYW5naW5nIHRoaXMgdmFsdWVcbiAgICAgKiBhZnRlciBvdGhlciBvYmplY3RzIGhhdmUgYmVlbiBjcmVhdGVkIGNhbiBjYXVzZSBwcm9ibGVtcy5cbiAgICAgKi9cbiAgICBnZXQgUFBRKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvY2suZnJlcXVlbmN5Lm11bHRpcGxpZXI7XG4gICAgfVxuICAgIHNldCBQUFEocHBxKSB7XG4gICAgICAgIHRoaXMuX2Nsb2NrLmZyZXF1ZW5jeS5tdWx0aXBsaWVyID0gcHBxO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBcdFNZTkNJTkdcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aW1lIGFsaWduZWQgdG8gdGhlIG5leHQgc3ViZGl2aXNpb25cbiAgICAgKiBvZiB0aGUgVHJhbnNwb3J0LiBJZiB0aGUgVHJhbnNwb3J0IGlzIG5vdCBzdGFydGVkLFxuICAgICAqIGl0IHdpbGwgcmV0dXJuIDAuXG4gICAgICogTm90ZTogdGhpcyB3aWxsIG5vdCB3b3JrIHByZWNpc2VseSBkdXJpbmcgdGVtcG8gcmFtcHMuXG4gICAgICogQHBhcmFtICBzdWJkaXZpc2lvbiAgVGhlIHN1YmRpdmlzaW9uIHRvIHF1YW50aXplIHRvXG4gICAgICogQHJldHVybiAgVGhlIGNvbnRleHQgdGltZSBvZiB0aGUgbmV4dCBzdWJkaXZpc2lvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHRoZSB0cmFuc3BvcnQgbXVzdCBiZSBzdGFydGVkLCBvdGhlcndpc2UgcmV0dXJucyAwXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgKiBUb25lLlRyYW5zcG9ydC5uZXh0U3ViZGl2aXNpb24oXCI0blwiKTtcbiAgICAgKi9cbiAgICBuZXh0U3ViZGl2aXNpb24oc3ViZGl2aXNpb24pIHtcbiAgICAgICAgc3ViZGl2aXNpb24gPSB0aGlzLnRvVGlja3Moc3ViZGl2aXNpb24pO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSB0cmFuc3BvcnQncyBub3Qgc3RhcnRlZCwgcmV0dXJuIDBcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5ub3coKTtcbiAgICAgICAgICAgIC8vIHRoZSByZW1haW5kZXIgb2YgdGhlIGN1cnJlbnQgdGlja3MgYW5kIHRoZSBzdWJkaXZpc2lvblxuICAgICAgICAgICAgY29uc3QgdHJhbnNwb3J0UG9zID0gdGhpcy5nZXRUaWNrc0F0VGltZShub3cpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVGlja3MgPSBzdWJkaXZpc2lvbiAtIHRyYW5zcG9ydFBvcyAlIHN1YmRpdmlzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrLm5leHRUaWNrVGltZShyZW1haW5pbmdUaWNrcywgbm93KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgc2lnbmFsIHRvIHRoZSB0ZW1wbyBjb250cm9sIHNpZ25hbCBzbyB0aGF0XG4gICAgICogYW55IGNoYW5nZXMgaW4gdGhlIHRlbXBvIHdpbGwgY2hhbmdlIHRoZSBzaWduYWwgaW4gdGhlIHNhbWVcbiAgICAgKiByYXRpby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaWduYWxcbiAgICAgKiBAcGFyYW0gcmF0aW8gT3B0aW9uYWxseSBwYXNzIGluIHRoZSByYXRpbyBiZXR3ZWVuIHRoZSB0d28gc2lnbmFscy5cbiAgICAgKiBcdFx0XHRPdGhlcndpc2UgaXQgd2lsbCBiZSBjb21wdXRlZCBiYXNlZCBvbiB0aGVpciBjdXJyZW50IHZhbHVlcy5cbiAgICAgKi9cbiAgICBzeW5jU2lnbmFsKHNpZ25hbCwgcmF0aW8pIHtcbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBzeW5jIHJhdGlvXG4gICAgICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5nZXRWYWx1ZUF0VGltZShub3cpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnBtID0gdGhpcy5icG0uZ2V0VmFsdWVBdFRpbWUobm93KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wdXRlZEZyZXEgPSAxIC8gKDYwIC8gYnBtIC8gdGhpcy5QUFEpO1xuICAgICAgICAgICAgICAgIHJhdGlvID0gc2lnbmFsLmdldFZhbHVlQXRUaW1lKG5vdykgLyBjb21wdXRlZEZyZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF0aW9TaWduYWwgPSBuZXcgR2FpbihyYXRpbyk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5icG0uY29ubmVjdChyYXRpb1NpZ25hbCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmF0aW9TaWduYWwuY29ubmVjdChzaWduYWwuX3BhcmFtKTtcbiAgICAgICAgdGhpcy5fc3luY2VkU2lnbmFscy5wdXNoKHtcbiAgICAgICAgICAgIGluaXRpYWw6IHNpZ25hbC52YWx1ZSxcbiAgICAgICAgICAgIHJhdGlvOiByYXRpb1NpZ25hbCxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbC52YWx1ZSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN5bmNzIGEgcHJldmlvdXNseSBzeW5jZWQgc2lnbmFsIGZyb20gdGhlIHRyYW5zcG9ydCdzIGNvbnRyb2wuXG4gICAgICogU2VlIFRyYW5zcG9ydC5zeW5jU2lnbmFsLlxuICAgICAqL1xuICAgIHVuc3luY1NpZ25hbChzaWduYWwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuX3N5bmNlZFNpZ25hbHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNlZFNpZ25hbCA9IHRoaXMuX3N5bmNlZFNpZ25hbHNbaV07XG4gICAgICAgICAgICBpZiAoc3luY2VkU2lnbmFsLnNpZ25hbCA9PT0gc2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgc3luY2VkU2lnbmFsLnJhdGlvLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBzeW5jZWRTaWduYWwuc2lnbmFsLnZhbHVlID0gc3luY2VkU2lnbmFsLmluaXRpYWw7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3luY2VkU2lnbmFscy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fY2xvY2suZGlzcG9zZSgpO1xuICAgICAgICB3cml0YWJsZSh0aGlzLCBcImJwbVwiKTtcbiAgICAgICAgdGhpcy5fdGltZWxpbmUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9yZXBlYXRlZEV2ZW50cy5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbkVtaXR0ZXIubWl4aW4oVHJhbnNwb3J0KTtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gXHRJTklUSUFMSVpBVElPTlxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbkNvbnRleHRJbml0KGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQudHJhbnNwb3J0ID0gbmV3IFRyYW5zcG9ydCh7IGNvbnRleHQgfSk7XG59KTtcbm9uQ29udGV4dENsb3NlKGNvbnRleHQgPT4ge1xuICAgIGNvbnRleHQudHJhbnNwb3J0LmRpc3Bvc2UoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNwb3J0LmpzLm1hcCIsImltcG9ydCB7IFZvbHVtZSB9IGZyb20gXCIuLi9jb21wb25lbnQvY2hhbm5lbC9Wb2x1bWVcIjtcbmltcG9ydCBcIi4uL2NvcmUvY29udGV4dC9EZXN0aW5hdGlvblwiO1xuaW1wb3J0IFwiLi4vY29yZS9jbG9jay9UcmFuc3BvcnRcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IGRlZmF1bHRBcmcgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBub09wLCByZWFkT25seSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBTdGF0ZVRpbWVsaW5lIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9TdGF0ZVRpbWVsaW5lXCI7XG5pbXBvcnQgeyBpc0RlZmluZWQsIGlzVW5kZWYgfSBmcm9tIFwiLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgYXNzZXJ0LCBhc3NlcnRDb250ZXh0UnVubmluZyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVidWdcIjtcbmltcG9ydCB7IEdUIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9NYXRoXCI7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHNvdXJjZXMuXG4gKiBzdGFydC9zdG9wIG9mIHRoaXMuY29udGV4dC50cmFuc3BvcnQuXG4gKlxuICogYGBgXG4gKiAvLyBNdWx0aXBsZSBzdGF0ZSBjaGFuZ2UgZXZlbnRzIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLFxuICogLy8gYnV0IG11c3QgYmUgc2V0IGluIHRoZSBjb3JyZWN0IG9yZGVyIGFuZCB3aXRoIGFzY2VuZGluZyB0aW1lc1xuICogLy8gT0tcbiAqIHN0YXRlLnN0YXJ0KCkuc3RvcChcIiswLjJcIik7XG4gKiAvLyBPS1xuICogc3RhdGUuc3RhcnQoKS5zdG9wKFwiKzAuMlwiKS5zdGFydChcIiswLjRcIikuc3RvcChcIiswLjdcIilcbiAqIC8vIEJBRFxuICogc3RhdGUuc3RvcChcIiswLjJcIikuc3RhcnQoKTtcbiAqIC8vIEJBRFxuICogc3RhdGUuc3RhcnQoXCIrMC4zXCIpLnN0b3AoXCIrMC4yXCIpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBTb3VyY2UgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlcyBoYXZlIG5vIGlucHV0c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIHNjaGVkdWxlZCBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gbmV3IFN0YXRlVGltZWxpbmUoXCJzdG9wcGVkXCIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5bmNlZCBgc3RhcnRgIGNhbGxiYWNrIGZ1bmN0aW9uIGZyb20gdGhlIHRyYW5zcG9ydFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3luY2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIGFsbCBvZiB0aGUgc2NoZWR1bGVkIGV2ZW50IGlkc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2NoZWR1bGVkID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbGFjZWhvbGRlciBmdW5jdGlvbnMgZm9yIHN5bmNpbmcvdW5zeW5jaW5nIHRvIHRyYW5zcG9ydFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3luY2VkU3RhcnQgPSBub09wO1xuICAgICAgICB0aGlzLl9zeW5jZWRTdG9wID0gbm9PcDtcbiAgICAgICAgdGhpcy5fc3RhdGUubWVtb3J5ID0gMTAwO1xuICAgICAgICB0aGlzLl9zdGF0ZS5pbmNyZWFzaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdm9sdW1lID0gdGhpcy5vdXRwdXQgPSBuZXcgVm9sdW1lKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIG11dGU6IG9wdGlvbnMubXV0ZSxcbiAgICAgICAgICAgIHZvbHVtZTogb3B0aW9ucy52b2x1bWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuX3ZvbHVtZS52b2x1bWU7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwidm9sdW1lXCIpO1xuICAgICAgICB0aGlzLm9uc3RvcCA9IG9wdGlvbnMub25zdG9wO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbXV0ZTogZmFsc2UsXG4gICAgICAgICAgICBvbnN0b3A6IG5vT3AsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwbGF5YmFjayBzdGF0ZSBvZiB0aGUgc291cmNlLCBlaXRoZXIgXCJzdGFydGVkXCIgb3IgXCJzdG9wcGVkXCIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vYmVya2xlZS9haG50b25lX2MzLm1wM1wiLCAoKSA9PiB7XG4gICAgICogXHRwbGF5ZXIuc3RhcnQoKTtcbiAgICAgKiBcdGNvbnNvbGUubG9nKHBsYXllci5zdGF0ZSk7XG4gICAgICogfSkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC50cmFuc3BvcnQuc3RhdGUgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdG9wcGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZSB0aGUgb3V0cHV0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICAgICAqIC8vIG11dGUgdGhlIG91dHB1dFxuICAgICAqIG9zYy5tdXRlID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgbXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZvbHVtZS5tdXRlO1xuICAgIH1cbiAgICBzZXQgbXV0ZShtdXRlKSB7XG4gICAgICAgIHRoaXMuX3ZvbHVtZS5tdXRlID0gbXV0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoYXQgdGhlIHNjaGVkdWxlZCB0aW1lIGlzIG5vdCBiZWZvcmUgdGhlIGN1cnJlbnQgdGltZS5cbiAgICAgKiBTaG91bGQgb25seSBiZSB1c2VkIHdoZW4gc2NoZWR1bGVkIHVuc3luY2VkLlxuICAgICAqL1xuICAgIF9jbGFtcFRvQ3VycmVudFRpbWUodGltZSkge1xuICAgICAgICBpZiAodGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGltZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh0aW1lLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzb3VyY2UgYXQgdGhlIHNwZWNpZmllZCB0aW1lLiBJZiBubyB0aW1lIGlzIGdpdmVuLFxuICAgICAqIHN0YXJ0IHRoZSBzb3VyY2Ugbm93LlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBzb3VyY2Ugc2hvdWxkIGJlIHN0YXJ0ZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2UgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHNvdXJjZS5zdGFydChcIiswLjVcIik7IC8vIHN0YXJ0cyB0aGUgc291cmNlIDAuNSBzZWNvbmRzIGZyb20gbm93XG4gICAgICovXG4gICAgc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbikge1xuICAgICAgICBsZXQgY29tcHV0ZWRUaW1lID0gaXNVbmRlZih0aW1lKSAmJiB0aGlzLl9zeW5jZWQgPyB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHMgOiB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgY29tcHV0ZWRUaW1lID0gdGhpcy5fY2xhbXBUb0N1cnJlbnRUaW1lKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIC8vIGlmIGl0J3Mgc3RhcnRlZCwgc3RvcCBpdCBhbmQgcmVzdGFydCBpdFxuICAgICAgICBpZiAoIXRoaXMuX3N5bmNlZCAmJiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgLy8gdGltZSBzaG91bGQgYmUgc3RyaWN0bHkgZ3JlYXRlciB0aGFuIHRoZSBwcmV2aW91cyBzdGFydCB0aW1lXG4gICAgICAgICAgICBhc3NlcnQoR1QoY29tcHV0ZWRUaW1lLCB0aGlzLl9zdGF0ZS5nZXQoY29tcHV0ZWRUaW1lKS50aW1lKSwgXCJTdGFydCB0aW1lIG11c3QgYmUgc3RyaWN0bHkgZ3JlYXRlciB0aGFuIHByZXZpb3VzIHN0YXJ0IHRpbWVcIik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RhcnRlZFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJyZXN0YXJ0XCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnQoY29tcHV0ZWRUaW1lLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nKFwic3RhcnRcIiwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RhcnRlZFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgb2Zmc2V0IHRpbWUgdG8gdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9zdGF0ZS5nZXQoY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQub2Zmc2V0ID0gdGhpcy50b1NlY29uZHMoZGVmYXVsdEFyZyhvZmZzZXQsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZHVyYXRpb24gPSBkdXJhdGlvbiA/IHRoaXMudG9TZWNvbmRzKGR1cmF0aW9uKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NoZWQgPSB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNjaGVkdWxlKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydCh0LCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9LCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlZC5wdXNoKHNjaGVkKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdHJhbnNwb3J0IGlzIGFscmVhZHkgc3RhcnRlZFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgdGltZSBpcyBncmVhdGVyIHRoYW4gd2hlcmUgdGhlIHRyYW5zcG9ydCBpc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQudHJhbnNwb3J0LnN0YXRlID09PSBcInN0YXJ0ZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0LmdldFNlY29uZHNBdFRpbWUodGhpcy5pbW1lZGlhdGUoKSkgPiBjb21wdXRlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3luY2VkU3RhcnQodGhpcy5ub3coKSwgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRDb250ZXh0UnVubmluZyh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGNvbXB1dGVkVGltZSwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHNvdXJjZSBhdCB0aGUgc3BlY2lmaWVkIHRpbWUuIElmIG5vIHRpbWUgaXMgZ2l2ZW4sXG4gICAgICogc3RvcCB0aGUgc291cmNlIG5vdy5cbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0aGUgc291cmNlIHNob3VsZCBiZSBzdG9wcGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc291cmNlID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBzb3VyY2Uuc3RhcnQoKTtcbiAgICAgKiBzb3VyY2Uuc3RvcChcIiswLjVcIik7IC8vIHN0b3BzIHRoZSBzb3VyY2UgMC41IHNlY29uZHMgZnJvbSBub3dcbiAgICAgKi9cbiAgICBzdG9wKHRpbWUpIHtcbiAgICAgICAgbGV0IGNvbXB1dGVkVGltZSA9IGlzVW5kZWYodGltZSkgJiYgdGhpcy5fc3luY2VkID8gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zZWNvbmRzIDogdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbXB1dGVkVGltZSA9IHRoaXMuX2NsYW1wVG9DdXJyZW50VGltZShjb21wdXRlZFRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoY29tcHV0ZWRUaW1lKSA9PT0gXCJzdGFydGVkXCIgfHwgaXNEZWZpbmVkKHRoaXMuX3N0YXRlLmdldE5leHRTdGF0ZShcInN0YXJ0ZWRcIiwgY29tcHV0ZWRUaW1lKSkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKFwic3RvcFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zeW5jZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wKGNvbXB1dGVkVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2hlZCA9IHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2NoZWR1bGUodGhpcy5fc3RvcC5iaW5kKHRoaXMpLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlZC5wdXNoKHNjaGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbChjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3RhcnQgdGhlIHNvdXJjZS5cbiAgICAgKi9cbiAgICByZXN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGltZSkgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwodGltZSk7XG4gICAgICAgICAgICB0aGlzLl9yZXN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jIHRoZSBzb3VyY2UgdG8gdGhlIFRyYW5zcG9ydCBzbyB0aGF0IGFsbCBzdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gYHN0YXJ0YCBhbmQgYHN0b3BgIGFyZSBzeW5jZWQgdG8gdGhlIFRyYW5zcG9ydFRpbWVcbiAgICAgKiBpbnN0ZWFkIG9mIHRoZSBBdWRpb0NvbnRleHQgdGltZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiAvLyBzeW5jIHRoZSBzb3VyY2Ugc28gdGhhdCBpdCBwbGF5cyBiZXR3ZWVuIDAgYW5kIDAuMyBvbiB0aGUgVHJhbnNwb3J0J3MgdGltZWxpbmVcbiAgICAgKiBvc2Muc3luYygpLnN0YXJ0KDApLnN0b3AoMC4zKTtcbiAgICAgKiAvLyBzdGFydCB0aGUgdHJhbnNwb3J0LlxuICAgICAqIFRvbmUuVHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgICogLy8gc2V0IGl0IHRvIGxvb3Agb25jZSBhIHNlY29uZFxuICAgICAqIFRvbmUuVHJhbnNwb3J0Lmxvb3AgPSB0cnVlO1xuICAgICAqIFRvbmUuVHJhbnNwb3J0Lmxvb3BFbmQgPSAxO1xuICAgICAqL1xuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc3luY2VkU3RhcnQgPSAodGltZSwgb2Zmc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBwbGF5YmFjayBzdGF0ZSBhdCB0aGF0IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGVFdmVudCA9IHRoaXMuX3N0YXRlLmdldChvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIHN0YXJ0IGV2ZW50cyB3aGljaCBtYXkgb2NjdXIgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc3luYydlZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZUV2ZW50ICYmIHN0YXRlRXZlbnQuc3RhdGUgPT09IFwic3RhcnRlZFwiICYmIHN0YXRlRXZlbnQudGltZSAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLnRvU2Vjb25kcyhzdGF0ZUV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlRXZlbnQuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMudG9TZWNvbmRzKHN0YXRlRXZlbnQuZHVyYXRpb24pIC0gc3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydCh0aW1lLCB0aGlzLnRvU2Vjb25kcyhzdGF0ZUV2ZW50Lm9mZnNldCkgKyBzdGFydE9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3N5bmNlZFN0b3AgPSB0aW1lID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5nZXRTZWNvbmRzQXRUaW1lKE1hdGgubWF4KHRpbWUgLSB0aGlzLnNhbXBsZVRpbWUsIDApKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoc2Vjb25kcykgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3AodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJzdGFydFwiLCB0aGlzLl9zeW5jZWRTdGFydCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9uKFwibG9vcFN0YXJ0XCIsIHRoaXMuX3N5bmNlZFN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJzdG9wXCIsIHRoaXMuX3N5bmNlZFN0b3ApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcInBhdXNlXCIsIHRoaXMuX3N5bmNlZFN0b3ApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcImxvb3BFbmRcIiwgdGhpcy5fc3luY2VkU3RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3luYyB0aGUgc291cmNlIHRvIHRoZSBUcmFuc3BvcnQuIFNlZSBTb3VyY2Uuc3luY1xuICAgICAqL1xuICAgIHVuc3luYygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJzdG9wXCIsIHRoaXMuX3N5bmNlZFN0b3ApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJwYXVzZVwiLCB0aGlzLl9zeW5jZWRTdG9wKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQub2ZmKFwibG9vcEVuZFwiLCB0aGlzLl9zeW5jZWRTdG9wKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQub2ZmKFwic3RhcnRcIiwgdGhpcy5fc3luY2VkU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJsb29wU3RhcnRcIiwgdGhpcy5fc3luY2VkU3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N5bmNlZCA9IGZhbHNlO1xuICAgICAgICAvLyBjbGVhciBhbGwgb2YgdGhlIHNjaGVkdWxlZCBpZHNcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVkLmZvckVhY2goaWQgPT4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5jbGVhcihpZCkpO1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWQgPSBbXTtcbiAgICAgICAgdGhpcy5fc3RhdGUuY2FuY2VsKDApO1xuICAgICAgICAvLyBzdG9wIGl0IGFsc29cbiAgICAgICAgdGhpcy5fc3RvcCgwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5vbnN0b3AgPSBub09wO1xuICAgICAgICB0aGlzLnVuc3luYygpO1xuICAgICAgICB0aGlzLl92b2x1bWUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IFRvbmVBdWRpb0J1ZmZlciB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyXCI7XG5pbXBvcnQgeyBkZWZhdWx0QXJnLCBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVidWdcIjtcbmltcG9ydCB7IE9uZVNob3RTb3VyY2UgfSBmcm9tIFwiLi4vT25lU2hvdFNvdXJjZVwiO1xuaW1wb3J0IHsgRVEsIEdURSwgTFQgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL01hdGhcIjtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBCdWZmZXJTb3VyY2VOb2RlLlxuICogQGNhdGVnb3J5IFNvdXJjZVxuICovXG5leHBvcnQgY2xhc3MgVG9uZUJ1ZmZlclNvdXJjZSBleHRlbmRzIE9uZVNob3RTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lQnVmZmVyU291cmNlLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widXJsXCIsIFwib25sb2FkXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZUJ1ZmZlclNvdXJjZVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9zY2lsbGF0b3JcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IHRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxDaGFubmVscyA9IFt0aGlzLl9zb3VyY2VdO1xuICAgICAgICAvKipcbiAgICAgICAgICogaW5kaWNhdG9ycyBpZiB0aGUgc291cmNlIGhhcyBzdGFydGVkL3N0b3BwZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NvdXJjZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc291cmNlU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoVG9uZUJ1ZmZlclNvdXJjZS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInVybFwiLCBcIm9ubG9hZFwiXSk7XG4gICAgICAgIGNvbm5lY3QodGhpcy5fc291cmNlLCB0aGlzLl9nYWluTm9kZSk7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5vbmVuZGVkID0gKCkgPT4gdGhpcy5fc3RvcFNvdXJjZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBsYXliYWNrUmF0ZSBvZiB0aGUgYnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXliYWNrUmF0ZSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5fc291cmNlLnBsYXliYWNrUmF0ZSxcbiAgICAgICAgICAgIHVuaXRzOiBcInBvc2l0aXZlXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5wbGF5YmFja1JhdGUsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXQgc29tZSB2YWx1ZXMgaW5pdGlhbGx5XG4gICAgICAgIHRoaXMubG9vcCA9IG9wdGlvbnMubG9vcDtcbiAgICAgICAgdGhpcy5sb29wU3RhcnQgPSBvcHRpb25zLmxvb3BTdGFydDtcbiAgICAgICAgdGhpcy5sb29wRW5kID0gb3B0aW9ucy5sb29wRW5kO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgVG9uZUF1ZGlvQnVmZmVyKG9wdGlvbnMudXJsLCBvcHRpb25zLm9ubG9hZCwgb3B0aW9ucy5vbmVycm9yKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxDaGFubmVscy5wdXNoKHRoaXMuX3NvdXJjZSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT25lU2hvdFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICB1cmw6IG5ldyBUb25lQXVkaW9CdWZmZXIoKSxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgbG9vcEVuZDogMCxcbiAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgIG9ubG9hZDogbm9PcCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG5vT3AsXG4gICAgICAgICAgICBwbGF5YmFja1JhdGU6IDEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmFkZUluIHRpbWUgb2YgdGhlIGFtcGxpdHVkZSBlbnZlbG9wZS5cbiAgICAgKi9cbiAgICBnZXQgZmFkZUluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFkZUluO1xuICAgIH1cbiAgICBzZXQgZmFkZUluKHQpIHtcbiAgICAgICAgdGhpcy5fZmFkZUluID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZhZGVPdXQgdGltZSBvZiB0aGUgYW1wbGl0dWRlIGVudmVsb3BlLlxuICAgICAqL1xuICAgIGdldCBmYWRlT3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFkZU91dDtcbiAgICB9XG4gICAgc2V0IGZhZGVPdXQodCkge1xuICAgICAgICB0aGlzLl9mYWRlT3V0ID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnZlIGFwcGxpZWQgdG8gdGhlIGZhZGVzLCBlaXRoZXIgXCJsaW5lYXJcIiBvciBcImV4cG9uZW50aWFsXCJcbiAgICAgKi9cbiAgICBnZXQgY3VydmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJ2ZTtcbiAgICB9XG4gICAgc2V0IGN1cnZlKHQpIHtcbiAgICAgICAgdGhpcy5fY3VydmUgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgYnVmZmVyXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdGhlIHBsYXllciBzaG91bGQgc3RhcnQuXG4gICAgICogQHBhcmFtICBvZmZzZXQgVGhlIG9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNhbXBsZSB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0gIGR1cmF0aW9uIEhvdyBsb25nIHRoZSBzYW1wbGUgc2hvdWxkIHBsYXkuIElmIG5vIGR1cmF0aW9uIGlzIGdpdmVuLCBpdCB3aWxsIGRlZmF1bHQgdG8gdGhlIGZ1bGwgbGVuZ3RoIG9mIHRoZSBzYW1wbGUgKG1pbnVzIGFueSBvZmZzZXQpXG4gICAgICogQHBhcmFtICBnYWluICBUaGUgZ2FpbiB0byBwbGF5IHRoZSBidWZmZXIgYmFjayBhdC5cbiAgICAgKi9cbiAgICBzdGFydCh0aW1lLCBvZmZzZXQsIGR1cmF0aW9uLCBnYWluID0gMSkge1xuICAgICAgICBhc3NlcnQodGhpcy5idWZmZXIubG9hZGVkLCBcImJ1ZmZlciBpcyBlaXRoZXIgbm90IHNldCBvciBub3QgbG9hZGVkXCIpO1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgLy8gYXBwbHkgdGhlIGdhaW4gZW52ZWxvcGVcbiAgICAgICAgdGhpcy5fc3RhcnRHYWluKGNvbXB1dGVkVGltZSwgZ2Fpbik7XG4gICAgICAgIC8vIGlmIGl0J3MgYSBsb29wIHRoZSBkZWZhdWx0IG9mZnNldCBpcyB0aGUgbG9vcHN0YXJ0IHBvaW50XG4gICAgICAgIGlmICh0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGRlZmF1bHRBcmcob2Zmc2V0LCB0aGlzLmxvb3BTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGRlZmF1bHQgb2Zmc2V0IGlzIDBcbiAgICAgICAgICAgIG9mZnNldCA9IGRlZmF1bHRBcmcob2Zmc2V0LCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIG9mZnNldCBpcyBub3QgbGVzcyB0aGFuIDBcbiAgICAgICAgbGV0IGNvbXB1dGVkT2Zmc2V0ID0gTWF0aC5tYXgodGhpcy50b1NlY29uZHMob2Zmc2V0KSwgMCk7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBidWZmZXIgc291cmNlXG4gICAgICAgIGlmICh0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIC8vIG1vZGlmeSB0aGUgb2Zmc2V0IGlmIGl0J3MgZ3JlYXRlciB0aGFuIHRoZSBsb29wIHRpbWVcbiAgICAgICAgICAgIGNvbnN0IGxvb3BFbmQgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLmxvb3BFbmQpIHx8IHRoaXMuYnVmZmVyLmR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgbG9vcFN0YXJ0ID0gdGhpcy50b1NlY29uZHModGhpcy5sb29wU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgbG9vcER1cmF0aW9uID0gbG9vcEVuZCAtIGxvb3BTdGFydDtcbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIG9mZnNldCBiYWNrXG4gICAgICAgICAgICBpZiAoR1RFKGNvbXB1dGVkT2Zmc2V0LCBsb29wRW5kKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkT2Zmc2V0ID0gKChjb21wdXRlZE9mZnNldCAtIGxvb3BTdGFydCkgJSBsb29wRHVyYXRpb24pICsgbG9vcFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgb2Zmc2V0IGlzIHZlcnkgY2xvc2UgdG8gdGhlIGR1cmF0aW9uLCBzZXQgaXQgdG8gMFxuICAgICAgICAgICAgaWYgKEVRKGNvbXB1dGVkT2Zmc2V0LCB0aGlzLmJ1ZmZlci5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZE9mZnNldCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5idWZmZXIubG9hZGVkIHdvdWxkIGhhdmUgcmV0dXJuIGZhbHNlIGlmIHRoZSBBdWRpb0J1ZmZlciB3YXMgdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuX3NvdXJjZS5idWZmZXIgPSB0aGlzLmJ1ZmZlci5nZXQoKTtcbiAgICAgICAgdGhpcy5fc291cmNlLmxvb3BFbmQgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLmxvb3BFbmQpIHx8IHRoaXMuYnVmZmVyLmR1cmF0aW9uO1xuICAgICAgICBpZiAoTFQoY29tcHV0ZWRPZmZzZXQsIHRoaXMuYnVmZmVyLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2Uuc3RhcnQoY29tcHV0ZWRUaW1lLCBjb21wdXRlZE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYSBkdXJhdGlvbiBpcyBnaXZlbiwgc2NoZWR1bGUgYSBzdG9wXG4gICAgICAgIGlmIChpc0RlZmluZWQoZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBsZXQgY29tcHV0ZWREdXIgPSB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXQncyBuZXZlciBuZWdhdGl2ZVxuICAgICAgICAgICAgY29tcHV0ZWREdXIgPSBNYXRoLm1heChjb21wdXRlZER1ciwgMCk7XG4gICAgICAgICAgICB0aGlzLnN0b3AoY29tcHV0ZWRUaW1lICsgY29tcHV0ZWREdXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfc3RvcFNvdXJjZSh0aW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5fc291cmNlU3RvcHBlZCAmJiB0aGlzLl9zb3VyY2VTdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5zdG9wKHRoaXMudG9TZWNvbmRzKHRpbWUpKTtcbiAgICAgICAgICAgIHRoaXMuX29uZW5kZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBsb29wIGlzIHRydWUsIHRoZSBsb29wIHdpbGwgc3RhcnQgYXQgdGhpcyBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgbG9vcFN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmxvb3BTdGFydDtcbiAgICB9XG4gICAgc2V0IGxvb3BTdGFydChsb29wU3RhcnQpIHtcbiAgICAgICAgdGhpcy5fc291cmNlLmxvb3BTdGFydCA9IHRoaXMudG9TZWNvbmRzKGxvb3BTdGFydCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGxvb3AgaXMgdHJ1ZSwgdGhlIGxvb3Agd2lsbCBlbmQgYXQgdGhpcyBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgbG9vcEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5sb29wRW5kO1xuICAgIH1cbiAgICBzZXQgbG9vcEVuZChsb29wRW5kKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5sb29wRW5kID0gdGhpcy50b1NlY29uZHMobG9vcEVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhdWRpbyBidWZmZXIgYmVsb25naW5nIHRvIHRoZSBwbGF5ZXIuXG4gICAgICovXG4gICAgZ2V0IGJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG4gICAgc2V0IGJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyLnNldChidWZmZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgYnVmZmVyIHNob3VsZCBsb29wIG9uY2UgaXQncyBvdmVyLlxuICAgICAqL1xuICAgIGdldCBsb29wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmxvb3A7XG4gICAgfVxuICAgIHNldCBsb29wKGxvb3ApIHtcbiAgICAgICAgdGhpcy5fc291cmNlLmxvb3AgPSBsb29wO1xuICAgICAgICBpZiAodGhpcy5fc291cmNlU3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxTdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9zb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGxheWJhY2tSYXRlLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZUJ1ZmZlclNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE9mZmxpbmVDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9PZmZsaW5lQ29udGV4dFwiO1xuLyoqXG4gKiBSZW5kZXIgYSBzZWdtZW50IG9mIHRoZSBvc2NpbGxhdG9yIHRvIGFuIG9mZmxpbmUgY29udGV4dCBhbmQgcmV0dXJuIHRoZSByZXN1bHRzIGFzIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtKGluc3RhbmNlLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGxlbmd0aCAvIGluc3RhbmNlLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBPZmZsaW5lQ29udGV4dCgxLCBkdXJhdGlvbiwgaW5zdGFuY2UuY29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgaW5zdGFuY2UuY29uc3RydWN0b3IoT2JqZWN0LmFzc2lnbihpbnN0YW5jZS5nZXQoKSwge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGRvIDIgaXRlcmF0aW9uc1xuICAgICAgICAgICAgZnJlcXVlbmN5OiAyIC8gZHVyYXRpb24sXG4gICAgICAgICAgICAvLyB6ZXJvIG91dCB0aGUgZGV0dW5lXG4gICAgICAgICAgICBkZXR1bmU6IDAsXG4gICAgICAgICAgICBjb250ZXh0XG4gICAgICAgIH0pKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICAgIGNsb25lLnN0YXJ0KDApO1xuICAgICAgICBjb25zdCBidWZmZXIgPSB5aWVsZCBjb250ZXh0LnJlbmRlcigpO1xuICAgICAgICByZXR1cm4gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3NjaWxsYXRvckludGVyZmFjZS5qcy5tYXAiLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBQYXJhbSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvUGFyYW1cIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgT25lU2hvdFNvdXJjZSB9IGZyb20gXCIuLi9PbmVTaG90U291cmNlXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBuYXRpdmUgZmlyZS1hbmQtZm9yZ2V0IE9zY2lsbGF0b3JOb2RlLlxuICogQWRkcyB0aGUgYWJpbGl0eSB0byByZXNjaGVkdWxlIHRoZSBzdG9wIG1ldGhvZC5cbiAqICoqKltbT3NjaWxsYXRvcl1dIGlzIGJldHRlciBmb3IgbW9zdCB1c2UtY2FzZXMqKipcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFRvbmVPc2NpbGxhdG9yTm9kZSBleHRlbmRzIE9uZVNob3RTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lT3NjaWxsYXRvck5vZGUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9uZU9zY2lsbGF0b3JOb2RlXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3NjaWxsYXRvclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvciA9IHRoaXMuY29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsQ2hhbm5lbHMgPSBbdGhpcy5fb3NjaWxsYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhUb25lT3NjaWxsYXRvck5vZGUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCJdKTtcbiAgICAgICAgY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLCB0aGlzLl9nYWluTm9kZSk7XG4gICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuX29zY2lsbGF0b3IuZnJlcXVlbmN5LFxuICAgICAgICAgICAgdW5pdHM6IFwiZnJlcXVlbmN5XCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldHVuZSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5fb3NjaWxsYXRvci5kZXR1bmUsXG4gICAgICAgICAgICB1bml0czogXCJjZW50c1wiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPbmVTaG90U291cmNlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogNDQwLFxuICAgICAgICAgICAgdHlwZTogXCJzaW5lXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgb3NjaWxsYXRvciBub2RlIGF0IHRoZSBnaXZlbiB0aW1lXG4gICAgICogQHBhcmFtICB0aW1lIFdoZW4gdG8gc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBzdGFydCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLmxvZyhcInN0YXJ0XCIsIGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0R2Fpbihjb21wdXRlZFRpbWUpO1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfc3RvcFNvdXJjZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RvcCh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbiBhcmJpdHJhcnkgY3VzdG9tIHBlcmlvZGljIHdhdmVmb3JtIGdpdmVuIGEgUGVyaW9kaWNXYXZlLlxuICAgICAqIEBwYXJhbSAgcGVyaW9kaWNXYXZlIFBlcmlvZGljV2F2ZSBzaG91bGQgYmUgY3JlYXRlZCB3aXRoIGNvbnRleHQuY3JlYXRlUGVyaW9kaWNXYXZlXG4gICAgICovXG4gICAgc2V0UGVyaW9kaWNXYXZlKHBlcmlvZGljV2F2ZSkge1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZShwZXJpb2RpY1dhdmUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG9zY2lsbGF0b3IgdHlwZS4gRWl0aGVyICdzaW5lJywgJ3Nhd3Rvb3RoJywgJ3NxdWFyZScsIG9yICd0cmlhbmdsZSdcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IudHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kZXR1bmUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lT3NjaWxsYXRvck5vZGUuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBkZWVwRXF1YWxzLCBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGlzRGVmaW5lZCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZUNoZWNrXCI7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tIFwiLi4vLi4vc2lnbmFsL1NpZ25hbFwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVXYXZlZm9ybSB9IGZyb20gXCIuL09zY2lsbGF0b3JJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFRvbmVPc2NpbGxhdG9yTm9kZSB9IGZyb20gXCIuL1RvbmVPc2NpbGxhdG9yTm9kZVwiO1xuaW1wb3J0IHsgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlYnVnXCI7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvTWF0aFwiO1xuLyoqXG4gKiBPc2NpbGxhdG9yIHN1cHBvcnRzIGEgbnVtYmVyIG9mIGZlYXR1cmVzIGluY2x1ZGluZ1xuICogcGhhc2Ugcm90YXRpb24sIG11bHRpcGxlIG9zY2lsbGF0b3IgdHlwZXMgKHNlZSBPc2NpbGxhdG9yLnR5cGUpLFxuICogYW5kIFRyYW5zcG9ydCBzeW5jaW5nIChzZWUgT3NjaWxsYXRvci5zeW5jRnJlcXVlbmN5KS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gbWFrZSBhbmQgc3RhcnQgYSA0NDBoeiBzaW5lIHRvbmVcbiAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoNDQwLCBcInNpbmVcIikudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiBAY2F0ZWdvcnkgU291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBPc2NpbGxhdG9yIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPc2NpbGxhdG9yXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgbWFpbiBvc2NpbGxhdG9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gbnVsbDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCJdKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImZyZXF1ZW5jeVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICB9KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJmcmVxdWVuY3lcIik7XG4gICAgICAgIHRoaXMuZGV0dW5lID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJjZW50c1wiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgXCJkZXR1bmVcIik7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxzID0gb3B0aW9ucy5wYXJ0aWFscztcbiAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gb3B0aW9ucy5wYXJ0aWFsQ291bnQ7XG4gICAgICAgIHRoaXMuX3R5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGlmIChvcHRpb25zLnBhcnRpYWxDb3VudCAmJiBvcHRpb25zLnR5cGUgIT09IFwiY3VzdG9tXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0aGlzLmJhc2VUeXBlICsgb3B0aW9ucy5wYXJ0aWFsQ291bnQudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBoYXNlID0gb3B0aW9ucy5waGFzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihTb3VyY2UuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgZGV0dW5lOiAwLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiA0NDAsXG4gICAgICAgICAgICBwYXJ0aWFsQ291bnQ6IDAsXG4gICAgICAgICAgICBwYXJ0aWFsczogW10sXG4gICAgICAgICAgICBwaGFzZTogMCxcbiAgICAgICAgICAgIHR5cGU6IFwic2luZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RhcnQodGltZSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgLy8gbmV3IG9zY2lsbGF0b3Igd2l0aCBwcmV2aW91cyB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3NjaWxsYXRvciA9IG5ldyBUb25lT3NjaWxsYXRvck5vZGUoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgb25lbmRlZDogKCkgPT4gdGhpcy5vbnN0b3AodGhpcyksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gb3NjaWxsYXRvcjtcbiAgICAgICAgaWYgKHRoaXMuX3dhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHRoaXMuX3dhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci50eXBlID0gdGhpcy5fdHlwZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25uZWN0IHRoZSBjb250cm9sIHNpZ25hbCB0byB0aGUgb3NjaWxsYXRvciBmcmVxdWVuY3kgJiBkZXR1bmVcbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLmZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5kZXR1bmUpO1xuICAgICAgICAvLyBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KGNvbXB1dGVkVGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0b3AgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RvcCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvcikge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5zdG9wKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzdGFydCB0aGUgb3NjaWxsYXRvci4gRG9lcyBub3Qgc3RvcCB0aGUgb3NjaWxsYXRvciwgYnV0IGluc3RlYWRcbiAgICAgKiBqdXN0IGNhbmNlbHMgYW55IHNjaGVkdWxlZCAnc3RvcCcgZnJvbSBiZWluZyBpbnZva2VkLlxuICAgICAqL1xuICAgIF9yZXN0YXJ0KHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMubG9nKFwicmVzdGFydFwiLCBjb21wdXRlZFRpbWUpO1xuICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvcikge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5jYW5jZWxTdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGUuY2FuY2VsKGNvbXB1dGVkVGltZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jIHRoZSBzaWduYWwgdG8gdGhlIFRyYW5zcG9ydCdzIGJwbS4gQW55IGNoYW5nZXMgdG8gdGhlIHRyYW5zcG9ydHMgYnBtLFxuICAgICAqIHdpbGwgYWxzbyBhZmZlY3QgdGhlIG9zY2lsbGF0b3JzIGZyZXF1ZW5jeS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAgICAgKiBvc2MuZnJlcXVlbmN5LnZhbHVlID0gNDQwO1xuICAgICAqIC8vIHRoZSByYXRpbyBiZXR3ZWVuIHRoZSBicG0gYW5kIHRoZSBmcmVxdWVuY3kgd2lsbCBiZSBtYWludGFpbmVkXG4gICAgICogb3NjLnN5bmNGcmVxdWVuY3koKTtcbiAgICAgKiAvLyBkb3VibGUgdGhlIHRlbXBvXG4gICAgICogVG9uZS5UcmFuc3BvcnQuYnBtLnZhbHVlICo9IDI7XG4gICAgICogLy8gdGhlIGZyZXF1ZW5jeSBvZiB0aGUgb3NjaWxsYXRvciBpcyBkb3VibGVkIHRvIDg4MFxuICAgICAqL1xuICAgIHN5bmNGcmVxdWVuY3koKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQuc3luY1NpZ25hbCh0aGlzLmZyZXF1ZW5jeSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN5bmMgdGhlIG9zY2lsbGF0b3IncyBmcmVxdWVuY3kgZnJvbSB0aGUgVHJhbnNwb3J0LlxuICAgICAqIFNlZSBPc2NpbGxhdG9yLnN5bmNGcmVxdWVuY3lcbiAgICAgKi9cbiAgICB1bnN5bmNGcmVxdWVuY3koKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC50cmFuc3BvcnQudW5zeW5jU2lnbmFsKHRoaXMuZnJlcXVlbmN5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGNhY2hlZCBwZXJpb2RpYyB3YXZlLiBBdm9pZHMgaGF2aW5nIHRvIHJlY29tcHV0ZVxuICAgICAqIHRoZSBvc2NpbGxhdG9yIHZhbHVlcyB3aGVuIHRoZXkgaGF2ZSBhbHJlYWR5IGJlZW4gY29tcHV0ZWRcbiAgICAgKiB3aXRoIHRoZSBzYW1lIHZhbHVlcy5cbiAgICAgKi9cbiAgICBfZ2V0Q2FjaGVkUGVyaW9kaWNXYXZlKCkge1xuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgY29uc3Qgb3NjUHJvcHMgPSBPc2NpbGxhdG9yLl9wZXJpb2RpY1dhdmVDYWNoZS5maW5kKGRlc2NyaXB0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24ucGhhc2UgPT09IHRoaXMuX3BoYXNlICYmXG4gICAgICAgICAgICAgICAgICAgIGRlZXBFcXVhbHMoZGVzY3JpcHRpb24ucGFydGlhbHMsIHRoaXMuX3BhcnRpYWxzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9zY1Byb3BzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb3NjUHJvcHMgPSBPc2NpbGxhdG9yLl9wZXJpb2RpY1dhdmVDYWNoZS5maW5kKGRlc2NyaXB0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24udHlwZSA9PT0gdGhpcy5fdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi5waGFzZSA9PT0gdGhpcy5fcGhhc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IG9zY1Byb3BzID8gb3NjUHJvcHMucGFydGlhbENvdW50IDogdGhpcy5fcGFydGlhbENvdW50O1xuICAgICAgICAgICAgcmV0dXJuIG9zY1Byb3BzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgY29uc3QgaXNCYXNpY1R5cGUgPSBbXCJzaW5lXCIsIFwic3F1YXJlXCIsIFwic2F3dG9vdGhcIiwgXCJ0cmlhbmdsZVwiXS5pbmRleE9mKHR5cGUpICE9PSAtMTtcbiAgICAgICAgaWYgKHRoaXMuX3BoYXNlID09PSAwICYmIGlzQmFzaWNUeXBlKSB7XG4gICAgICAgICAgICB0aGlzLl93YXZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gMDtcbiAgICAgICAgICAgIC8vIGp1c3QgZ28gd2l0aCB0aGUgYmFzaWMgYXBwcm9hY2hcbiAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgdGhhdCBpdCdzIGEgYmFzaWMgdHlwZVxuICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGUgdmFsdWUgaXMgY2FjaGVkXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuX2dldENhY2hlZFBlcmlvZGljV2F2ZSgpO1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChjYWNoZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcnRpYWxzLCB3YXZlIH0gPSBjYWNoZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93YXZlID0gd2F2ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFscyA9IHBhcnRpYWxzO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHRoaXMuX3dhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtyZWFsLCBpbWFnXSA9IHRoaXMuX2dldFJlYWxJbWFnaW5hcnkodHlwZSwgdGhpcy5fcGhhc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmlvZGljV2F2ZSA9IHRoaXMuY29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmUocmVhbCwgaW1hZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F2ZSA9IHBlcmlvZGljV2F2ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZSh0aGlzLl93YXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgIE9zY2lsbGF0b3IuX3BlcmlvZGljV2F2ZUNhY2hlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpbWFnLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ291bnQ6IHRoaXMuX3BhcnRpYWxDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbHM6IHRoaXMuX3BhcnRpYWxzLFxuICAgICAgICAgICAgICAgICAgICBwaGFzZTogdGhpcy5fcGhhc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlYWwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHdhdmU6IHRoaXMuX3dhdmUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKE9zY2lsbGF0b3IuX3BlcmlvZGljV2F2ZUNhY2hlLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBPc2NpbGxhdG9yLl9wZXJpb2RpY1dhdmVDYWNoZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYmFzZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlLnJlcGxhY2UodGhpcy5wYXJ0aWFsQ291bnQudG9TdHJpbmcoKSwgXCJcIik7XG4gICAgfVxuICAgIHNldCBiYXNlVHlwZShiYXNlVHlwZSkge1xuICAgICAgICBpZiAodGhpcy5wYXJ0aWFsQ291bnQgJiYgdGhpcy5fdHlwZSAhPT0gXCJjdXN0b21cIiAmJiBiYXNlVHlwZSAhPT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gYmFzZVR5cGUgKyB0aGlzLnBhcnRpYWxDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGJhc2VUeXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBwYXJ0aWFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJ0aWFsQ291bnQ7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFsQ291bnQocCkge1xuICAgICAgICBhc3NlcnRSYW5nZShwLCAwKTtcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLl90eXBlO1xuICAgICAgICBjb25zdCBwYXJ0aWFsID0gL14oc2luZXx0cmlhbmdsZXxzcXVhcmV8c2F3dG9vdGgpKFxcZCspJC8uZXhlYyh0aGlzLl90eXBlKTtcbiAgICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgICAgIHR5cGUgPSBwYXJ0aWFsWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90eXBlICE9PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICBpZiAocCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlICsgcC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXh0ZW5kIG9yIHNob3J0ZW4gdGhlIHBhcnRpYWxzIGFycmF5XG4gICAgICAgICAgICBjb25zdCBmdWxsUGFydGlhbHMgPSBuZXcgRmxvYXQzMkFycmF5KHApO1xuICAgICAgICAgICAgLy8gY29weSBvdmVyIHRoZSBwYXJ0aWFscyBhcnJheVxuICAgICAgICAgICAgdGhpcy5fcGFydGlhbHMuZm9yRWFjaCgodiwgaSkgPT4gZnVsbFBhcnRpYWxzW2ldID0gdik7XG4gICAgICAgICAgICB0aGlzLl9wYXJ0aWFscyA9IEFycmF5LmZyb20oZnVsbFBhcnRpYWxzKTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvbXBvbmVudHMgYmFzZWRcbiAgICAgKiBvbiB0aGUgb3NjaWxsYXRvciB0eXBlLlxuICAgICAqIEByZXR1cm5zIFtyZWFsOiBGbG9hdDMyQXJyYXksIGltYWdpbmFyeTogRmxvYXQzMkFycmF5XVxuICAgICAqL1xuICAgIF9nZXRSZWFsSW1hZ2luYXJ5KHR5cGUsIHBoYXNlKSB7XG4gICAgICAgIGNvbnN0IGZmdFNpemUgPSA0MDk2O1xuICAgICAgICBsZXQgcGVyaW9kaWNXYXZlU2l6ZSA9IGZmdFNpemUgLyAyO1xuICAgICAgICBjb25zdCByZWFsID0gbmV3IEZsb2F0MzJBcnJheShwZXJpb2RpY1dhdmVTaXplKTtcbiAgICAgICAgY29uc3QgaW1hZyA9IG5ldyBGbG9hdDMyQXJyYXkocGVyaW9kaWNXYXZlU2l6ZSk7XG4gICAgICAgIGxldCBwYXJ0aWFsQ291bnQgPSAxO1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgcGFydGlhbENvdW50ID0gdGhpcy5fcGFydGlhbHMubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IHRoaXMuX3BhcnRpYWxzLmxlbmd0aDtcbiAgICAgICAgICAgIHBlcmlvZGljV2F2ZVNpemUgPSBwYXJ0aWFsQ291bnQ7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcGFydGlhbCBjb3VudCBpcyAwLCBkb24ndCBib3RoZXIgZG9pbmcgYW55IGNvbXB1dGF0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFydGlhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZWFsLCBpbWFnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpYWwgPSAvXihzaW5lfHRyaWFuZ2xlfHNxdWFyZXxzYXd0b290aCkoXFxkKykkLy5leGVjKHR5cGUpO1xuICAgICAgICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsQ291bnQgPSBwYXJzZUludChwYXJ0aWFsWzJdLCAxMCkgKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IHBhcnNlSW50KHBhcnRpYWxbMl0sIDEwKTtcbiAgICAgICAgICAgICAgICB0eXBlID0gcGFydGlhbFsxXTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsQ291bnQgPSBNYXRoLm1heChwYXJ0aWFsQ291bnQsIDIpO1xuICAgICAgICAgICAgICAgIHBlcmlvZGljV2F2ZVNpemUgPSBwYXJ0aWFsQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcGFydGlhbHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBuID0gMTsgbiA8IHBlcmlvZGljV2F2ZVNpemU7ICsrbikge1xuICAgICAgICAgICAgY29uc3QgcGlGYWN0b3IgPSAyIC8gKG4gKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGxldCBiO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNpbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgYiA9IChuIDw9IHBhcnRpYWxDb3VudCkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFydGlhbHNbbiAtIDFdID0gYjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNxdWFyZVwiOlxuICAgICAgICAgICAgICAgICAgICBiID0gKG4gJiAxKSA/IDIgKiBwaUZhY3RvciA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxzW24gLSAxXSA9IGI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzYXd0b290aFwiOlxuICAgICAgICAgICAgICAgICAgICBiID0gcGlGYWN0b3IgKiAoKG4gJiAxKSA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxzW24gLSAxXSA9IGI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmlhbmdsZVwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSAyICogKHBpRmFjdG9yICogcGlGYWN0b3IpICogKCgoKG4gLSAxKSA+PiAxKSAmIDEpID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxzW24gLSAxXSA9IGI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjdXN0b21cIjpcbiAgICAgICAgICAgICAgICAgICAgYiA9IHRoaXMuX3BhcnRpYWxzW24gLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9zY2lsbGF0b3I6IGludmFsaWQgdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVhbFtuXSA9IC1iICogTWF0aC5zaW4ocGhhc2UgKiBuKTtcbiAgICAgICAgICAgICAgICBpbWFnW25dID0gYiAqIE1hdGguY29zKHBoYXNlICogbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWFsW25dID0gMDtcbiAgICAgICAgICAgICAgICBpbWFnW25dID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3JlYWwsIGltYWddO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBpbnZlcnNlIEZGVCBmb3IgYSBnaXZlbiBwaGFzZS5cbiAgICAgKi9cbiAgICBfaW52ZXJzZUZGVChyZWFsLCBpbWFnLCBwaGFzZSkge1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgY29uc3QgbGVuID0gcmVhbC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHN1bSArPSByZWFsW2ldICogTWF0aC5jb3MoaSAqIHBoYXNlKSArIGltYWdbaV0gKiBNYXRoLnNpbihpICogcGhhc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluaXRpYWwgdmFsdWUgb2YgdGhlIG9zY2lsbGF0b3Igd2hlbiBzdG9wcGVkLlxuICAgICAqIEUuZy4gYSBcInNpbmVcIiBvc2NpbGxhdG9yIHdpdGggcGhhc2UgPSA5MCB3b3VsZCByZXR1cm4gYW4gaW5pdGlhbCB2YWx1ZSBvZiAtMS5cbiAgICAgKi9cbiAgICBnZXRJbml0aWFsVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IFtyZWFsLCBpbWFnXSA9IHRoaXMuX2dldFJlYWxJbWFnaW5hcnkodGhpcy5fdHlwZSwgMCk7XG4gICAgICAgIGxldCBtYXhWYWx1ZSA9IDA7XG4gICAgICAgIGNvbnN0IHR3b1BpID0gTWF0aC5QSSAqIDI7XG4gICAgICAgIGNvbnN0IHRlc3RQb3NpdGlvbnMgPSAzMjtcbiAgICAgICAgLy8gY2hlY2sgZm9yIHBlYWtzIGluIDE2IHBsYWNlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlc3RQb3NpdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heCh0aGlzLl9pbnZlcnNlRkZUKHJlYWwsIGltYWcsIChpIC8gdGVzdFBvc2l0aW9ucykgKiB0d29QaSksIG1heFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhbXAoLXRoaXMuX2ludmVyc2VGRlQocmVhbCwgaW1hZywgdGhpcy5fcGhhc2UpIC8gbWF4VmFsdWUsIC0xLCAxKTtcbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFydGlhbHMuc2xpY2UoMCwgdGhpcy5wYXJ0aWFsQ291bnQpO1xuICAgIH1cbiAgICBzZXQgcGFydGlhbHMocGFydGlhbHMpIHtcbiAgICAgICAgdGhpcy5fcGFydGlhbHMgPSBwYXJ0aWFscztcbiAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gdGhpcy5fcGFydGlhbHMubGVuZ3RoO1xuICAgICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcImN1c3RvbVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBwaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BoYXNlICogKDE4MCAvIE1hdGguUEkpO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fcGhhc2UgPSBwaGFzZSAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIC8vIHJlc2V0IHRoZSB0eXBlXG4gICAgICAgIHRoaXMudHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kZXR1bmUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIENhY2hlIHRoZSBwZXJpb2RpYyB3YXZlcyB0byBhdm9pZCBoYXZpbmcgdG8gcmVkbyBjb21wdXRhdGlvbnNcbiAqL1xuT3NjaWxsYXRvci5fcGVyaW9kaWNXYXZlQ2FjaGUgPSBbXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBjb25uZWN0U2lnbmFsIH0gZnJvbSBcIi4vU2lnbmFsXCI7XG4vKipcbiAqIEEgc2lnbmFsIG9wZXJhdG9yIGhhcyBhbiBpbnB1dCBhbmQgb3V0cHV0IGFuZCBtb2RpZmllcyB0aGUgc2lnbmFsLlxuICovXG5leHBvcnQgY2xhc3MgU2lnbmFsT3BlcmF0b3IgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbihvcHRpb25zRnJvbUFyZ3VtZW50cyhTaWduYWxPcGVyYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImNvbnRleHRcIl0pKSk7XG4gICAgfVxuICAgIGNvbm5lY3QoZGVzdGluYXRpb24sIG91dHB1dE51bSA9IDAsIGlucHV0TnVtID0gMCkge1xuICAgICAgICBjb25uZWN0U2lnbmFsKHRoaXMsIGRlc3RpbmF0aW9uLCBvdXRwdXROdW0sIGlucHV0TnVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lnbmFsT3BlcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVidWdcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuL1NpZ25hbFwiO1xuaW1wb3J0IHsgU2lnbmFsT3BlcmF0b3IgfSBmcm9tIFwiLi9TaWduYWxPcGVyYXRvclwiO1xuLyoqXG4gKiBXcmFwcyB0aGUgbmF0aXZlIFdlYiBBdWRpbyBBUElcbiAqIFtXYXZlU2hhcGVyTm9kZV0oaHR0cDovL3dlYmF1ZGlvLmdpdGh1Yi5pby93ZWItYXVkaW8tYXBpLyN0aGUtd2F2ZXNoYXBlcm5vZGUtaW50ZXJmYWNlKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogLy8gbXVsdGlwbHkgdGhlIG91dHB1dCBvZiB0aGUgc2lnbmFsIGJ5IDIgdXNpbmcgdGhlIHdhdmVzaGFwZXIncyBmdW5jdGlvblxuICogY29uc3QgdGltZXNUd28gPSBuZXcgVG9uZS5XYXZlU2hhcGVyKCh2YWwpID0+IHZhbCAqIDIsIDIwNDgpLmNvbm5lY3Qob3NjLmZyZXF1ZW5jeSk7XG4gKiBjb25zdCBzaWduYWwgPSBuZXcgVG9uZS5TaWduYWwoNDQwKS5jb25uZWN0KHRpbWVzVHdvKTtcbiAqIEBjYXRlZ29yeSBTaWduYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFdhdmVTaGFwZXIgZXh0ZW5kcyBTaWduYWxPcGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24ob3B0aW9uc0Zyb21Bcmd1bWVudHMoV2F2ZVNoYXBlci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcIm1hcHBpbmdcIiwgXCJsZW5ndGhcIl0pKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiV2F2ZVNoYXBlclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHdhdmVzaGFwZXIgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2hhcGVyID0gdGhpcy5jb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbnB1dCB0byB0aGUgd2F2ZXNoYXBlciBub2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX3NoYXBlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvdXRwdXQgZnJvbSB0aGUgd2F2ZXNoYXBlciBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMuX3NoYXBlcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFdhdmVTaGFwZXIuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJtYXBwaW5nXCIsIFwibGVuZ3RoXCJdKTtcbiAgICAgICAgaWYgKGlzQXJyYXkob3B0aW9ucy5tYXBwaW5nKSB8fCBvcHRpb25zLm1hcHBpbmcgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VydmUgPSBGbG9hdDMyQXJyYXkuZnJvbShvcHRpb25zLm1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5tYXBwaW5nKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXAob3B0aW9ucy5tYXBwaW5nLCBvcHRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihTaWduYWwuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgbGVuZ3RoOiAxMDI0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlcyBhIG1hcHBpbmcgZnVuY3Rpb24gdG8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgY3VydmUuXG4gICAgICogQHBhcmFtIG1hcHBpbmcgVGhlIGZ1bmN0aW9uIHVzZWQgdG8gZGVmaW5lIHRoZSB2YWx1ZXMuXG4gICAgICogICAgICAgICAgICAgICAgVGhlIG1hcHBpbmcgZnVuY3Rpb24gdGFrZSB0d28gYXJndW1lbnRzOlxuICAgICAqICAgICAgICAgICAgICAgIHRoZSBmaXJzdCBpcyB0aGUgdmFsdWUgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKiAgICAgICAgICAgICAgICB3aGljaCBnb2VzIGZyb20gLTEgdG8gMSBvdmVyIHRoZSBudW1iZXIgb2YgZWxlbWVudHNcbiAgICAgKiAgICAgICAgICAgICAgICBpbiB0aGUgY3VydmUgYXJyYXkuIFRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdGhlIGFycmF5IHBvc2l0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc2hhcGVyID0gbmV3IFRvbmUuV2F2ZVNoYXBlcigpO1xuICAgICAqIC8vIG1hcCB0aGUgaW5wdXQgc2lnbmFsIGZyb20gWy0xLCAxXSB0byBbMCwgMTBdXG4gICAgICogc2hhcGVyLnNldE1hcCgodmFsLCBpbmRleCkgPT4gKHZhbCArIDEpICogNSk7XG4gICAgICovXG4gICAgc2V0TWFwKG1hcHBpbmcsIGxlbmd0aCA9IDEwMjQpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IChpIC8gKGxlbiAtIDEpKSAqIDIgLSAxO1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBtYXBwaW5nKG5vcm1hbGl6ZWQsIGkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VydmUgPSBhcnJheTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSB0byBzZXQgYXMgdGhlIHdhdmVzaGFwZXIgY3VydmUuIEZvciBsaW5lYXIgY3VydmVzXG4gICAgICogYXJyYXkgbGVuZ3RoIGRvZXMgbm90IG1ha2UgbXVjaCBkaWZmZXJlbmNlLCBidXQgZm9yIGNvbXBsZXggY3VydmVzXG4gICAgICogbG9uZ2VyIGFycmF5cyB3aWxsIHByb3ZpZGUgc21vb3RoZXIgaW50ZXJwb2xhdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgY3VydmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFwZXIuY3VydmU7XG4gICAgfVxuICAgIHNldCBjdXJ2ZShtYXBwaW5nKSB7XG4gICAgICAgIHRoaXMuX3NoYXBlci5jdXJ2ZSA9IG1hcHBpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB3aGF0IHR5cGUgb2Ygb3ZlcnNhbXBsaW5nIChpZiBhbnkpIHNob3VsZCBiZSB1c2VkIHdoZW5cbiAgICAgKiBhcHBseWluZyB0aGUgc2hhcGluZyBjdXJ2ZS4gQ2FuIGVpdGhlciBiZSBcIm5vbmVcIiwgXCIyeFwiIG9yIFwiNHhcIi5cbiAgICAgKi9cbiAgICBnZXQgb3ZlcnNhbXBsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlci5vdmVyc2FtcGxlO1xuICAgIH1cbiAgICBzZXQgb3ZlcnNhbXBsZShvdmVyc2FtcGxpbmcpIHtcbiAgICAgICAgY29uc3QgaXNPdmVyU2FtcGxlVHlwZSA9IFtcIm5vbmVcIiwgXCIyeFwiLCBcIjR4XCJdLnNvbWUoc3RyID0+IHN0ci5pbmNsdWRlcyhvdmVyc2FtcGxpbmcpKTtcbiAgICAgICAgYXNzZXJ0KGlzT3ZlclNhbXBsZVR5cGUsIFwib3ZlcnNhbXBsaW5nIG11c3QgYmUgZWl0aGVyICdub25lJywgJzJ4Jywgb3IgJzR4J1wiKTtcbiAgICAgICAgdGhpcy5fc2hhcGVyLm92ZXJzYW1wbGUgPSBvdmVyc2FtcGxpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fc2hhcGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2F2ZVNoYXBlci5qcy5tYXAiLCJpbXBvcnQgeyBTaWduYWxPcGVyYXRvciB9IGZyb20gXCIuL1NpZ25hbE9wZXJhdG9yXCI7XG5pbXBvcnQgeyBXYXZlU2hhcGVyIH0gZnJvbSBcIi4vV2F2ZVNoYXBlclwiO1xuLyoqXG4gKiBBdWRpb1RvR2FpbiBjb252ZXJ0cyBhbiBpbnB1dCBpbiBBdWRpb1JhbmdlIFstMSwxXSB0byBOb3JtYWxSYW5nZSBbMCwxXS5cbiAqIFNlZSBbW0dhaW5Ub0F1ZGlvXV0uXG4gKiBAY2F0ZWdvcnkgU2lnbmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBBdWRpb1RvR2FpbiBleHRlbmRzIFNpZ25hbE9wZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBdWRpb1RvR2FpblwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5vZGUgd2hpY2ggY29udmVydHMgdGhlIGF1ZGlvIHJhbmdlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbm9ybSA9IG5ldyBXYXZlU2hhcGVyKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIG1hcHBpbmc6IHggPT4gKHggKyAxKSAvIDIsXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEF1ZGlvUmFuZ2UgaW5wdXQgWy0xLCAxXVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuX25vcm07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgR2FpblJhbmdlIG91dHB1dCBbMCwgMV1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fbm9ybTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX25vcm0uZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdWRpb1RvR2Fpbi5qcy5tYXAiLCJpbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuL1NpZ25hbFwiO1xuLyoqXG4gKiBNdWx0aXBseSB0d28gaW5jb21pbmcgc2lnbmFscy4gT3IsIGlmIGEgbnVtYmVyIGlzIGdpdmVuIGluIHRoZSBjb25zdHJ1Y3RvcixcbiAqIG11bHRpcGxpZXMgdGhlIGluY29taW5nIHNpZ25hbCBieSB0aGF0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBtdWx0aXBseSB0d28gc2lnbmFsc1xuICogY29uc3QgbXVsdCA9IG5ldyBUb25lLk11bHRpcGx5KCk7XG4gKiBjb25zdCBzaWdBID0gbmV3IFRvbmUuU2lnbmFsKDMpO1xuICogY29uc3Qgc2lnQiA9IG5ldyBUb25lLlNpZ25hbCg0KTtcbiAqIHNpZ0EuY29ubmVjdChtdWx0KTtcbiAqIHNpZ0IuY29ubmVjdChtdWx0LmZhY3Rvcik7XG4gKiAvLyBvdXRwdXQgb2YgbXVsdCBpcyAxMi5cbiAqIEBleGFtcGxlXG4gKiAvLyBtdWx0aXBseSBhIHNpZ25hbCBhbmQgYSBudW1iZXJcbiAqIGNvbnN0IG11bHQgPSBuZXcgVG9uZS5NdWx0aXBseSgxMCk7XG4gKiBjb25zdCBzaWcgPSBuZXcgVG9uZS5TaWduYWwoMikuY29ubmVjdChtdWx0KTtcbiAqIC8vIHRoZSBvdXRwdXQgb2YgbXVsdCBpcyAyMC5cbiAqIEBjYXRlZ29yeSBTaWduYWxcbiAqL1xuZXhwb3J0IGNsYXNzIE11bHRpcGx5IGV4dGVuZHMgU2lnbmFsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbihvcHRpb25zRnJvbUFyZ3VtZW50cyhNdWx0aXBseS5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZhbHVlXCJdKSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk11bHRpcGx5XCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHZhbHVlIHNob3VsZCBiZSBvdmVycmlkZGVuIG9uIGNvbm5lY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKE11bHRpcGx5LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widmFsdWVcIl0pO1xuICAgICAgICB0aGlzLl9tdWx0ID0gdGhpcy5pbnB1dCA9IHRoaXMub3V0cHV0ID0gbmV3IEdhaW4oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgbWluVmFsdWU6IG9wdGlvbnMubWluVmFsdWUsXG4gICAgICAgICAgICBtYXhWYWx1ZTogb3B0aW9ucy5tYXhWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmFjdG9yID0gdGhpcy5fcGFyYW0gPSB0aGlzLl9tdWx0LmdhaW47XG4gICAgICAgIHRoaXMuZmFjdG9yLnNldFZhbHVlQXRUaW1lKG9wdGlvbnMudmFsdWUsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNpZ25hbC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbXVsdC5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU11bHRpcGx5LmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgR2FpbiB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvR2FpblwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBdWRpb1RvR2FpbiB9IGZyb20gXCIuLi8uLi9zaWduYWwvQXVkaW9Ub0dhaW5cIjtcbmltcG9ydCB7IE11bHRpcGx5IH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9NdWx0aXBseVwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgT3NjaWxsYXRvciB9IGZyb20gXCIuL09zY2lsbGF0b3JcIjtcbmltcG9ydCB7IGdlbmVyYXRlV2F2ZWZvcm0gfSBmcm9tIFwiLi9Pc2NpbGxhdG9ySW50ZXJmYWNlXCI7XG4vKipcbiAqIEFuIGFtcGxpdHVkZSBtb2R1bGF0ZWQgb3NjaWxsYXRvciBub2RlLiBJdCBpcyBpbXBsZW1lbnRlZCB3aXRoXG4gKiB0d28gb3NjaWxsYXRvcnMsIG9uZSB3aGljaCBtb2R1bGF0b3JzIHRoZSBvdGhlcidzIGFtcGxpdHVkZVxuICogdGhyb3VnaCBhIGdhaW4gbm9kZS5cbiAqIGBgYFxuICogICAgKy0tLS0tLS0tLS0tLS0rICAgICAgICstLS0tLS0tLS0tK1xuICogICAgfCBDYXJyaWVyIE9zYyArPi0tLS0tLT4gR2Fpbk5vZGUgfFxuICogICAgKy0tLS0tLS0tLS0tLS0rICAgICAgIHwgICAgICAgICAgKy0tLT5PdXRwdXRcbiAqICAgICAgICAgICAgICAgICAgICAgICstLS0+IGdhaW4gICAgIHxcbiAqICstLS0tLS0tLS0tLS0tLS0rICAgIHwgICArLS0tLS0tLS0tLStcbiAqIHwgTW9kdWxhdG9yIE9zYyArPi0tLStcbiAqICstLS0tLS0tLS0tLS0tLS0rXG4gKiBgYGBcbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3QgYW1Pc2MgPSBuZXcgVG9uZS5BTU9zY2lsbGF0b3IoMzAsIFwic2luZVwiLCBcInNxdWFyZVwiKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAqIH0sIDAuMiwgMSk7XG4gKiBAY2F0ZWdvcnkgU291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBBTU9zY2lsbGF0b3IgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhBTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCIsIFwibW9kdWxhdGlvblR5cGVcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBTU9zY2lsbGF0b3JcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnZlcnQgdGhlIC0xLDEgb3V0cHV0IHRvIDAsMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvblNjYWxlID0gbmV3IEF1ZGlvVG9HYWluKHsgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIG5vZGUgd2hlcmUgdGhlIG1vZHVsYXRpb24gaGFwcGVuc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvbk5vZGUgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoQU1Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiLCBcIm1vZHVsYXRpb25UeXBlXCJdKTtcbiAgICAgICAgdGhpcy5fY2FycmllciA9IG5ldyBPc2NpbGxhdG9yKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGRldHVuZTogb3B0aW9ucy5kZXR1bmUsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICAgICAgb25zdG9wOiAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKSxcbiAgICAgICAgICAgIHBoYXNlOiBvcHRpb25zLnBoYXNlLFxuICAgICAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSB0aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSxcbiAgICAgICAgICAgIHRoaXMuZGV0dW5lID0gdGhpcy5fY2Fycmllci5kZXR1bmU7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvciA9IG5ldyBPc2NpbGxhdG9yKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBoYXNlOiBvcHRpb25zLnBoYXNlLFxuICAgICAgICAgICAgdHlwZTogb3B0aW9ucy5tb2R1bGF0aW9uVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFybW9uaWNpdHkgPSBuZXcgTXVsdGlwbHkoe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdW5pdHM6IFwicG9zaXRpdmVcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLmhhcm1vbmljaXR5LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuY2hhaW4odGhpcy5oYXJtb25pY2l0eSwgdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5jaGFpbih0aGlzLl9tb2R1bGF0aW9uU2NhbGUsIHRoaXMuX21vZHVsYXRpb25Ob2RlLmdhaW4pO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLmNoYWluKHRoaXMuX21vZHVsYXRpb25Ob2RlLCB0aGlzLm91dHB1dCk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiLCBcImhhcm1vbmljaXR5XCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGhhcm1vbmljaXR5OiAxLFxuICAgICAgICAgICAgbW9kdWxhdGlvblR5cGU6IFwic3F1YXJlXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5zdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5zdGFydCh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnN0b3AodGltZSk7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuc3RvcCh0aW1lKTtcbiAgICB9XG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IucmVzdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5yZXN0YXJ0KHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgY2FycmllciBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLnR5cGU7XG4gICAgfVxuICAgIHNldCB0eXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5iYXNlVHlwZTtcbiAgICB9XG4gICAgc2V0IGJhc2VUeXBlKGJhc2VUeXBlKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuYmFzZVR5cGUgPSBiYXNlVHlwZTtcbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50O1xuICAgIH1cbiAgICBzZXQgcGFydGlhbENvdW50KHBhcnRpYWxDb3VudCkge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnBhcnRpYWxDb3VudCA9IHBhcnRpYWxDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG1vZHVsYXRvciBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgZ2V0IG1vZHVsYXRpb25UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kdWxhdG9yLnR5cGU7XG4gICAgfVxuICAgIHNldCBtb2R1bGF0aW9uVHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5waGFzZTtcbiAgICB9XG4gICAgc2V0IHBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnBoYXNlID0gcGhhc2U7XG4gICAgfVxuICAgIGdldCBwYXJ0aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbHM7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFscyhwYXJ0aWFscykge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnBhcnRpYWxzID0gcGFydGlhbHM7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmRldHVuZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaGFybW9uaWNpdHkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jYXJyaWVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvbk5vZGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0aW9uU2NhbGUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BTU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE11bHRpcGx5IH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9NdWx0aXBseVwiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9Tb3VyY2VcIjtcbmltcG9ydCB7IE9zY2lsbGF0b3IgfSBmcm9tIFwiLi9Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVdhdmVmb3JtIH0gZnJvbSBcIi4vT3NjaWxsYXRvckludGVyZmFjZVwiO1xuLyoqXG4gKiBGTU9zY2lsbGF0b3IgaW1wbGVtZW50cyBhIGZyZXF1ZW5jeSBtb2R1bGF0aW9uIHN5bnRoZXNpc1xuICogYGBgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLStcbiAqICstLS0tLS0tLS0tLS0tLS0rICAgICAgICArLS0tLS0tLS0tLS0tLSsgICAgIHwgQ2FycmllciBPc2MgfFxuICogfCBNb2R1bGF0b3IgT3NjICs+LS0tLS0tLT4gR2Fpbk5vZGUgICAgfCAgICAgfCAgICAgICAgICAgICArLS0tPk91dHB1dFxuICogKy0tLS0tLS0tLS0tLS0tLSsgICAgICAgIHwgICAgICAgICAgICAgKz4tLS0tPiBmcmVxdWVuY3kgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgKy0tPiBnYWluICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICAgICB8ICArLS0tLS0tLS0tLS0tLStcbiAqICstLS0tLS0tLS0tLS0tLS0tLSsgICB8XG4gKiB8IG1vZHVsYXRpb25JbmRleCArPi0tK1xuICogKy0tLS0tLS0tLS0tLS0tLS0tK1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogXHRjb25zdCBmbU9zYyA9IG5ldyBUb25lLkZNT3NjaWxsYXRvcih7XG4gKiBcdFx0ZnJlcXVlbmN5OiAyMDAsXG4gKiBcdFx0dHlwZTogXCJzcXVhcmVcIixcbiAqIFx0XHRtb2R1bGF0aW9uVHlwZTogXCJ0cmlhbmdsZVwiLFxuICogXHRcdGhhcm1vbmljaXR5OiAwLjIsXG4gKiBcdFx0bW9kdWxhdGlvbkluZGV4OiAzXG4gKiBcdH0pLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogfSwgMC4xLCAxKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEZNT3NjaWxsYXRvciBleHRlbmRzIFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKEZNT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIiwgXCJtb2R1bGF0aW9uVHlwZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZNT3NjaWxsYXRvclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIG5vZGUgd2hlcmUgdGhlIG1vZHVsYXRpb24gaGFwcGVuc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvbk5vZGUgPSBuZXcgR2Fpbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBnYWluOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKEZNT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIiwgXCJtb2R1bGF0aW9uVHlwZVwiXSk7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIgPSBuZXcgT3NjaWxsYXRvcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBkZXR1bmU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAwLFxuICAgICAgICAgICAgb25zdG9wOiAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKSxcbiAgICAgICAgICAgIHBoYXNlOiBvcHRpb25zLnBoYXNlLFxuICAgICAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSB0aGlzLl9jYXJyaWVyLmRldHVuZTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBuZXcgU2lnbmFsKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVuaXRzOiBcImZyZXF1ZW5jeVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZnJlcXVlbmN5LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yID0gbmV3IE9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGhhc2U6IG9wdGlvbnMucGhhc2UsXG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLm1vZHVsYXRpb25UeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYXJtb25pY2l0eSA9IG5ldyBNdWx0aXBseSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJwb3NpdGl2ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuaGFybW9uaWNpdHksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZHVsYXRpb25JbmRleCA9IG5ldyBNdWx0aXBseSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJwb3NpdGl2ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMubW9kdWxhdGlvbkluZGV4LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMuaGFybW9uaWNpdHksIHRoaXMuX21vZHVsYXRvci5mcmVxdWVuY3kpO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLm1vZHVsYXRpb25JbmRleCwgdGhpcy5fbW9kdWxhdGlvbk5vZGUpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IuY29ubmVjdCh0aGlzLl9tb2R1bGF0aW9uTm9kZS5nYWluKTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdGlvbk5vZGUuY29ubmVjdCh0aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuY29ubmVjdCh0aGlzLm91dHB1dCk7XG4gICAgICAgIHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fbW9kdWxhdG9yLmRldHVuZSk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcIm1vZHVsYXRpb25JbmRleFwiLCBcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiLCBcImhhcm1vbmljaXR5XCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGhhcm1vbmljaXR5OiAxLFxuICAgICAgICAgICAgbW9kdWxhdGlvbkluZGV4OiAyLFxuICAgICAgICAgICAgbW9kdWxhdGlvblR5cGU6IFwic3F1YXJlXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5zdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5zdGFydCh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnN0b3AodGltZSk7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuc3RvcCh0aW1lKTtcbiAgICB9XG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IucmVzdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5yZXN0YXJ0KHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJyaWVyLnR5cGU7XG4gICAgfVxuICAgIHNldCB0eXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fY2Fycmllci50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5iYXNlVHlwZTtcbiAgICB9XG4gICAgc2V0IGJhc2VUeXBlKGJhc2VUeXBlKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIuYmFzZVR5cGUgPSBiYXNlVHlwZTtcbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50O1xuICAgIH1cbiAgICBzZXQgcGFydGlhbENvdW50KHBhcnRpYWxDb3VudCkge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnBhcnRpYWxDb3VudCA9IHBhcnRpYWxDb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG1vZHVsYXRvciBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgZ2V0IG1vZHVsYXRpb25UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kdWxhdG9yLnR5cGU7XG4gICAgfVxuICAgIHNldCBtb2R1bGF0aW9uVHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2Fycmllci5waGFzZTtcbiAgICB9XG4gICAgc2V0IHBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHRoaXMuX2NhcnJpZXIucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgdGhpcy5fbW9kdWxhdG9yLnBoYXNlID0gcGhhc2U7XG4gICAgfVxuICAgIGdldCBwYXJ0aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbHM7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFscyhwYXJ0aWFscykge1xuICAgICAgICB0aGlzLl9jYXJyaWVyLnBhcnRpYWxzID0gcGFydGlhbHM7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmhhcm1vbmljaXR5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fY2Fycmllci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRpb25Ob2RlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tb2R1bGF0aW9uSW5kZXguZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GTU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuLi8uLi9zaWduYWwvU2lnbmFsXCI7XG5pbXBvcnQgeyBXYXZlU2hhcGVyIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9XYXZlU2hhcGVyXCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vU291cmNlXCI7XG5pbXBvcnQgeyBPc2NpbGxhdG9yIH0gZnJvbSBcIi4vT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVXYXZlZm9ybSB9IGZyb20gXCIuL09zY2lsbGF0b3JJbnRlcmZhY2VcIjtcbi8qKlxuICogUHVsc2VPc2NpbGxhdG9yIGlzIGFuIG9zY2lsbGF0b3Igd2l0aCBjb250cm9sIG92ZXIgcHVsc2Ugd2lkdGgsXG4gKiBhbHNvIGtub3duIGFzIHRoZSBkdXR5IGN5Y2xlLiBBdCA1MCUgZHV0eSBjeWNsZSAod2lkdGggPSAwKSB0aGUgd2F2ZSBpc1xuICogYSBzcXVhcmUgd2F2ZS5cbiAqIFtSZWFkIG1vcmVdKGh0dHBzOi8vd2lnZ2xld2F2ZS53b3JkcHJlc3MuY29tLzIwMTQvMDgvMTYvcHVsc2Utd2F2ZWZvcm1zLWFuZC1oYXJtb25pY3MvKS5cbiAqIGBgYFxuICogICAgd2lkdGggPSAtMC4yNSAgICAgICAgd2lkdGggPSAwLjAgICAgICAgICAgd2lkdGggPSAwLjI1XG4gKlxuICogICArLS0tLS0rICAgICAgICAgICAgKy0tLS0tLS0rICAgICAgICsgICAgKy0tLS0tLS0rICAgICArLStcbiAqICAgfCAgICAgfCAgICAgICAgICAgIHwgICAgICAgfCAgICAgICB8ICAgICAgICAgICAgfCAgICAgfFxuICogICB8ICAgICB8ICAgICAgICAgICAgfCAgICAgICB8ICAgICAgIHwgICAgICAgICAgICB8ICAgICB8XG4gKiArLSsgICAgICstLS0tLS0tKyAgICArICAgICAgICstLS0tLS0tKyAgICAgICAgICAgICstLS0tLStcbiAqXG4gKlxuICogICAgd2lkdGggPSAtMC41ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwLjVcbiAqXG4gKiAgICAgKy0tLSsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSsgICArLS0tK1xuICogICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogKy0tLSsgICArLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tK1xuICpcbiAqXG4gKiAgICB3aWR0aCA9IC0wLjc1ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDAuNzVcbiAqXG4gKiAgICAgICArLSsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSsgKy0tLS0tK1xuICogICAgICAgfCB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHxcbiAqICAgICAgIHwgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB8XG4gKiArLS0tLS0rICstLS0tLS0tKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICstK1xuICogYGBgXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiBcdGNvbnN0IHB1bHNlID0gbmV3IFRvbmUuUHVsc2VPc2NpbGxhdG9yKDUwLCAwLjQpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogfSwgMC4xLCAxKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFB1bHNlT3NjaWxsYXRvciBleHRlbmRzIFNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFB1bHNlT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcIndpZHRoXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUHVsc2VPc2NpbGxhdG9yXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnYXRlIHRoZSB3aWR0aCBhbW91bnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoR2F0ZSA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGdhaW46IDAsXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhyZXNob2xkIHRoZSBzaWduYWwgdG8gdHVybiBpdCBpbnRvIGEgc3F1YXJlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aHJlc2ggPSBuZXcgV2F2ZVNoYXBlcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBtYXBwaW5nOiB2YWwgPT4gdmFsIDw9IDAgPyAtMSA6IDEsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoUHVsc2VPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwid2lkdGhcIl0pO1xuICAgICAgICB0aGlzLndpZHRoID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJhdWRpb1JhbmdlXCIsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlID0gbmV3IE9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZGV0dW5lOiBvcHRpb25zLmRldHVuZSxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogb3B0aW9ucy5mcmVxdWVuY3ksXG4gICAgICAgICAgICBvbnN0b3A6ICgpID0+IHRoaXMub25zdG9wKHRoaXMpLFxuICAgICAgICAgICAgcGhhc2U6IG9wdGlvbnMucGhhc2UsXG4gICAgICAgICAgICB0eXBlOiBcInRyaWFuZ2xlXCIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IHRoaXMuX3RyaWFuZ2xlLmZyZXF1ZW5jeTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSB0aGlzLl90cmlhbmdsZS5kZXR1bmU7XG4gICAgICAgIC8vIGNvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlLmNoYWluKHRoaXMuX3RocmVzaCwgdGhpcy5vdXRwdXQpO1xuICAgICAgICB0aGlzLndpZHRoLmNoYWluKHRoaXMuX3dpZHRoR2F0ZSwgdGhpcy5fdGhyZXNoKTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wid2lkdGhcIiwgXCJmcmVxdWVuY3lcIiwgXCJkZXR1bmVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBkZXR1bmU6IDAsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDQ0MCxcbiAgICAgICAgICAgIHBoYXNlOiAwLFxuICAgICAgICAgICAgdHlwZTogXCJwdWxzZVwiLFxuICAgICAgICAgICAgd2lkdGg6IDAuMixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl90cmlhbmdsZS5zdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fd2lkdGhHYXRlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgdGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0b3AgdGhlIG9zY2lsbGF0b3JcbiAgICAgKi9cbiAgICBfc3RvcCh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUuc3RvcCh0aW1lKTtcbiAgICAgICAgLy8gdGhlIHdpZHRoIGlzIHN0aWxsIGNvbm5lY3RlZCB0byB0aGUgb3V0cHV0LlxuICAgICAgICAvLyB0aGF0IG5lZWRzIHRvIGJlIHN0b3BwZWQgYWxzb1xuICAgICAgICB0aGlzLl93aWR0aEdhdGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGltZSk7XG4gICAgICAgIHRoaXMuX3dpZHRoR2F0ZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHRpbWUpO1xuICAgIH1cbiAgICBfcmVzdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlLnJlc3RhcnQodGltZSk7XG4gICAgICAgIHRoaXMuX3dpZHRoR2F0ZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fd2lkdGhHYXRlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMSwgdGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwaGFzZSBvZiB0aGUgb3NjaWxsYXRvciBpbiBkZWdyZWVzLlxuICAgICAqL1xuICAgIGdldCBwaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyaWFuZ2xlLnBoYXNlO1xuICAgIH1cbiAgICBzZXQgcGhhc2UocGhhc2UpIHtcbiAgICAgICAgdGhpcy5fdHJpYW5nbGUucGhhc2UgPSBwaGFzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIEFsd2F5cyByZXR1cm5zIFwicHVsc2VcIi5cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicHVsc2VcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGJhc2VUeXBlIG9mIHRoZSBvc2NpbGxhdG9yLiBBbHdheXMgcmV0dXJucyBcInB1bHNlXCIuXG4gICAgICovXG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJwdWxzZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydGlhbHMgb2YgdGhlIHdhdmVmb3JtLiBDYW5ub3Qgc2V0IHBhcnRpYWxzIGZvciB0aGlzIHdhdmVmb3JtIHR5cGVcbiAgICAgKi9cbiAgICBnZXQgcGFydGlhbHMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm8gcGFydGlhbHMgZm9yIHRoaXMgd2F2ZWZvcm0gdHlwZS5cbiAgICAgKi9cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogKkludGVybmFsIHVzZSogVGhlIGNhcnJpZXIgb3NjaWxsYXRvciB0eXBlIGlzIGZlZCB0aHJvdWdoIHRoZVxuICAgICAqIHdhdmVzaGFwZXIgbm9kZSB0byBjcmVhdGUgdGhlIHB1bHNlLiBVc2luZyBkaWZmZXJlbnQgY2FycmllciBvc2NpbGxhdG9yc1xuICAgICAqIGNoYW5nZXMgb3NjaWxsYXRvcidzIGJlaGF2aW9yLlxuICAgICAqL1xuICAgIHNldCBjYXJyaWVyVHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX3RyaWFuZ2xlLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBhc0FycmF5KGxlbmd0aCA9IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVdhdmVmb3JtKHRoaXMsIGxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBtZXRob2QuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90cmlhbmdsZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMud2lkdGguZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl93aWR0aEdhdGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90aHJlc2guZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdWxzZU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AsIHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuLi8uLi9zaWduYWwvU2lnbmFsXCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vU291cmNlXCI7XG5pbXBvcnQgeyBPc2NpbGxhdG9yIH0gZnJvbSBcIi4vT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVXYXZlZm9ybSB9IGZyb20gXCIuL09zY2lsbGF0b3JJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGFzc2VydFJhbmdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuLyoqXG4gKiBGYXRPc2NpbGxhdG9yIGlzIGFuIGFycmF5IG9mIG9zY2lsbGF0b3JzIHdpdGggZGV0dW5lIHNwcmVhZCBiZXR3ZWVuIHRoZSBvc2NpbGxhdG9yc1xuICogQGV4YW1wbGVcbiAqIGNvbnN0IGZhdE9zYyA9IG5ldyBUb25lLkZhdE9zY2lsbGF0b3IoXCJBYjNcIiwgXCJzYXd0b290aFwiLCA0MCkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KCk7XG4gKiBAY2F0ZWdvcnkgU291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBGYXRPc2NpbGxhdG9yIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoRmF0T3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcImZyZXF1ZW5jeVwiLCBcInR5cGVcIiwgXCJzcHJlYWRcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJGYXRPc2NpbGxhdG9yXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2Ygb3NjaWxsYXRvcnNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3JzID0gW107XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhGYXRPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiLCBcInNwcmVhZFwiXSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJmcmVxdWVuY3lcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0dW5lID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJjZW50c1wiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3ByZWFkID0gb3B0aW9ucy5zcHJlYWQ7XG4gICAgICAgIHRoaXMuX3R5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIHRoaXMuX3BoYXNlID0gb3B0aW9ucy5waGFzZTtcbiAgICAgICAgdGhpcy5fcGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgICB0aGlzLl9wYXJ0aWFsQ291bnQgPSBvcHRpb25zLnBhcnRpYWxDb3VudDtcbiAgICAgICAgLy8gc2V0IHRoZSBjb3VudCBpbml0aWFsbHlcbiAgICAgICAgdGhpcy5jb3VudCA9IG9wdGlvbnMuY291bnQ7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiXSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBjb3VudDogMyxcbiAgICAgICAgICAgIHNwcmVhZDogMjAsXG4gICAgICAgICAgICB0eXBlOiBcInNhd3Rvb3RoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdGFydCh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLnN0YXJ0KHRpbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdG9wKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2Muc3RvcCh0aW1lKSk7XG4gICAgfVxuICAgIF9yZXN0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLnJlc3RhcnQodGltZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgYWxsIG9mIHRoZSBvc2NpbGxhdG9yc1xuICAgICAqL1xuICAgIF9mb3JFYWNoKGl0ZXJhdG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fb3NjaWxsYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHRoaXMuX29zY2lsbGF0b3JzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG4gICAgc2V0IHR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLnR5cGUgPSB0eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRldHVuZSBzcHJlYWQgYmV0d2VlbiB0aGUgb3NjaWxsYXRvcnMuIElmIFwiY291bnRcIiBpc1xuICAgICAqIHNldCB0byAzIG9zY2lsbGF0b3JzIGFuZCB0aGUgXCJzcHJlYWRcIiBpcyBzZXQgdG8gNDAsXG4gICAgICogdGhlIHRocmVlIG9zY2lsbGF0b3JzIHdvdWxkIGJlIGRldHVuZWQgbGlrZSB0aGlzOiBbLTIwLCAwLCAyMF1cbiAgICAgKiBmb3IgYSB0b3RhbCBkZXR1bmUgc3ByZWFkIG9mIDQwIGNlbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZmF0T3NjID0gbmV3IFRvbmUuRmF0T3NjaWxsYXRvcigpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICAgICAqIGZhdE9zYy5zcHJlYWQgPSA3MDtcbiAgICAgKi9cbiAgICBnZXQgc3ByZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3ByZWFkO1xuICAgIH1cbiAgICBzZXQgc3ByZWFkKHNwcmVhZCkge1xuICAgICAgICB0aGlzLl9zcHJlYWQgPSBzcHJlYWQ7XG4gICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IC1zcHJlYWQgLyAyO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHNwcmVhZCAvICh0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2goKG9zYywgaSkgPT4gb3NjLmRldHVuZS52YWx1ZSA9IHN0YXJ0ICsgc3RlcCAqIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGV0dW5lZCBvc2NpbGxhdG9ycy4gTXVzdCBiZSBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiAxLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZmF0T3NjID0gbmV3IFRvbmUuRmF0T3NjaWxsYXRvcihcIkMjM1wiLCBcInNhd3Rvb3RoXCIpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICAgICAqIC8vIHVzZSA0IHNhd3Rvb3RoIG9zY2lsbGF0b3JzXG4gICAgICogZmF0T3NjLmNvdW50ID0gNDtcbiAgICAgKi9cbiAgICBnZXQgY291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg7XG4gICAgfVxuICAgIHNldCBjb3VudChjb3VudCkge1xuICAgICAgICBhc3NlcnRSYW5nZShjb3VudCwgMSk7XG4gICAgICAgIGlmICh0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGggIT09IGNvdW50KSB7XG4gICAgICAgICAgICAvLyBkaXNwb3NlIHRoZSBwcmV2aW91cyBvc2NpbGxhdG9yc1xuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaChvc2MgPT4gb3NjLmRpc3Bvc2UoKSk7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9ycyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3NjID0gbmV3IE9zY2lsbGF0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHZvbHVtZTogLTYgLSBjb3VudCAqIDEuMSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGhhc2U6IHRoaXMuX3BoYXNlICsgKGkgLyBjb3VudCkgKiAzNjAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxDb3VudDogdGhpcy5fcGFydGlhbENvdW50LFxuICAgICAgICAgICAgICAgICAgICBvbnN0b3A6IGkgPT09IDAgPyAoKSA9PiB0aGlzLm9uc3RvcCh0aGlzKSA6IG5vT3AsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgICAgICAgICBvc2MucGFydGlhbHMgPSB0aGlzLl9wYXJ0aWFscztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3kuY29ubmVjdChvc2MuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRldHVuZS5jb25uZWN0KG9zYy5kZXR1bmUpO1xuICAgICAgICAgICAgICAgIG9zYy5kZXR1bmUub3ZlcnJpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9zYy5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yc1tpXSA9IG9zYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCB0aGUgc3ByZWFkXG4gICAgICAgICAgICB0aGlzLnNwcmVhZCA9IHRoaXMuX3NwcmVhZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5zdGFydCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGhhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waGFzZTtcbiAgICB9XG4gICAgc2V0IHBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHRoaXMuX3BoYXNlID0gcGhhc2U7XG4gICAgICAgIHRoaXMuX2ZvckVhY2goKG9zYywgaSkgPT4gb3NjLnBoYXNlID0gdGhpcy5fcGhhc2UgKyAoaSAvIHRoaXMuY291bnQpICogMzYwKTtcbiAgICB9XG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnNbMF0uYmFzZVR5cGU7XG4gICAgfVxuICAgIHNldCBiYXNlVHlwZShiYXNlVHlwZSkge1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MuYmFzZVR5cGUgPSBiYXNlVHlwZSk7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0aGlzLl9vc2NpbGxhdG9yc1swXS50eXBlO1xuICAgIH1cbiAgICBnZXQgcGFydGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5wYXJ0aWFscztcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxzKHBhcnRpYWxzKSB7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxzID0gcGFydGlhbHM7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxDb3VudCA9IHRoaXMuX3BhcnRpYWxzLmxlbmd0aDtcbiAgICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IFwiY3VzdG9tXCI7XG4gICAgICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MucGFydGlhbHMgPSBwYXJ0aWFscyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBhcnRpYWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3JzWzBdLnBhcnRpYWxDb3VudDtcbiAgICB9XG4gICAgc2V0IHBhcnRpYWxDb3VudChwYXJ0aWFsQ291bnQpIHtcbiAgICAgICAgdGhpcy5fcGFydGlhbENvdW50ID0gcGFydGlhbENvdW50O1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG9zYyA9PiBvc2MucGFydGlhbENvdW50ID0gcGFydGlhbENvdW50KTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHRoaXMuX29zY2lsbGF0b3JzWzBdLnR5cGU7XG4gICAgfVxuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlV2F2ZWZvcm0odGhpcywgbGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmRldHVuZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gob3NjID0+IG9zYy5kaXNwb3NlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYXRPc2NpbGxhdG9yLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBNdWx0aXBseSB9IGZyb20gXCIuLi8uLi9zaWduYWwvTXVsdGlwbHlcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9Tb3VyY2VcIjtcbmltcG9ydCB7IE9zY2lsbGF0b3IgfSBmcm9tIFwiLi9Pc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVdhdmVmb3JtIH0gZnJvbSBcIi4vT3NjaWxsYXRvckludGVyZmFjZVwiO1xuaW1wb3J0IHsgUHVsc2VPc2NpbGxhdG9yIH0gZnJvbSBcIi4vUHVsc2VPc2NpbGxhdG9yXCI7XG4vKipcbiAqIFBXTU9zY2lsbGF0b3IgbW9kdWxhdGVzIHRoZSB3aWR0aCBvZiBhIFRvbmUuUHVsc2VPc2NpbGxhdG9yXG4gKiBhdCB0aGUgbW9kdWxhdGlvbkZyZXF1ZW5jeS4gVGhpcyBoYXMgdGhlIGVmZmVjdCBvZiBjb250aW51b3VzbHlcbiAqIGNoYW5naW5nIHRoZSB0aW1icmUgb2YgdGhlIG9zY2lsbGF0b3IgYnkgYWx0ZXJpbmcgdGhlIGhhcm1vbmljc1xuICogZ2VuZXJhdGVkLlxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogXHRjb25zdCBwd20gPSBuZXcgVG9uZS5QV01Pc2NpbGxhdG9yKDYwLCAwLjMpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogfSwgMC4xLCAxKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFBXTU9zY2lsbGF0b3IgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhQV01Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwibW9kdWxhdGlvbkZyZXF1ZW5jeVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBXTU9zY2lsbGF0b3JcIjtcbiAgICAgICAgdGhpcy5zb3VyY2VUeXBlID0gXCJwd21cIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIHRoZSBvc2NpbGxhdG9yIHNvIGl0IGRvZXNuJ3QgZ28gc2lsZW50XG4gICAgICAgICAqIGF0IHRoZSBleHRyZW1lIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjYWxlID0gbmV3IE11bHRpcGx5KHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHZhbHVlOiAyLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFBXTU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJtb2R1bGF0aW9uRnJlcXVlbmN5XCJdKTtcbiAgICAgICAgdGhpcy5fcHVsc2UgPSBuZXcgUHVsc2VPc2NpbGxhdG9yKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogb3B0aW9ucy5tb2R1bGF0aW9uRnJlcXVlbmN5LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBwdWxzZSBvc2NpbGxhdG9yIHR5cGVcbiAgICAgICAgdGhpcy5fcHVsc2UuY2FycmllclR5cGUgPSBcInNpbmVcIjtcbiAgICAgICAgdGhpcy5tb2R1bGF0aW9uRnJlcXVlbmN5ID0gdGhpcy5fcHVsc2UuZnJlcXVlbmN5O1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IgPSBuZXcgT3NjaWxsYXRvcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBkZXR1bmU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgICAgIG9uc3RvcDogKCkgPT4gdGhpcy5vbnN0b3AodGhpcyksXG4gICAgICAgICAgICBwaGFzZTogb3B0aW9ucy5waGFzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSB0aGlzLl9tb2R1bGF0b3IuZGV0dW5lO1xuICAgICAgICAvLyBjb25uZWN0aW9uc1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IuY2hhaW4odGhpcy5fc2NhbGUsIHRoaXMuX3B1bHNlLndpZHRoKTtcbiAgICAgICAgdGhpcy5fcHVsc2UuY29ubmVjdCh0aGlzLm91dHB1dCk7XG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFtcIm1vZHVsYXRpb25GcmVxdWVuY3lcIiwgXCJmcmVxdWVuY3lcIiwgXCJkZXR1bmVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBkZXR1bmU6IDAsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDQ0MCxcbiAgICAgICAgICAgIG1vZHVsYXRpb25GcmVxdWVuY3k6IDAuNCxcbiAgICAgICAgICAgIHBoYXNlOiAwLFxuICAgICAgICAgICAgdHlwZTogXCJwd21cIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3Iuc3RhcnQodGltZSk7XG4gICAgICAgIHRoaXMuX3B1bHNlLnN0YXJ0KHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdG9wIHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0b3AodGltZSkge1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5zdG9wKHRpbWUpO1xuICAgICAgICB0aGlzLl9wdWxzZS5zdG9wKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3Jlc3RhcnQodGltZSkge1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IucmVzdGFydCh0aW1lKTtcbiAgICAgICAgdGhpcy5fcHVsc2UucmVzdGFydCh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIEFsd2F5cyByZXR1cm5zIFwicHdtXCIuXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInB3bVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZVR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIEFsd2F5cyByZXR1cm5zIFwicHdtXCIuXG4gICAgICovXG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJwd21cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnRpYWxzIG9mIHRoZSB3YXZlZm9ybS4gQ2Fubm90IHNldCBwYXJ0aWFscyBmb3IgdGhpcyB3YXZlZm9ybSB0eXBlXG4gICAgICovXG4gICAgZ2V0IHBhcnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vIHBhcnRpYWxzIGZvciB0aGlzIHdhdmVmb3JtIHR5cGUuXG4gICAgICovXG4gICAgZ2V0IHBhcnRpYWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwaGFzZSBvZiB0aGUgb3NjaWxsYXRvciBpbiBkZWdyZWVzLlxuICAgICAqL1xuICAgIGdldCBwaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZHVsYXRvci5waGFzZTtcbiAgICB9XG4gICAgc2V0IHBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHRoaXMuX21vZHVsYXRvci5waGFzZSA9IHBoYXNlO1xuICAgIH1cbiAgICBhc0FycmF5KGxlbmd0aCA9IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVdhdmVmb3JtKHRoaXMsIGxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3B1bHNlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fc2NhbGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QV01Pc2NpbGxhdG9yLmpzLm1hcCIsImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbC9TaWduYWxcIjtcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gXCIuLi9Tb3VyY2VcIjtcbmltcG9ydCB7IEFNT3NjaWxsYXRvciB9IGZyb20gXCIuL0FNT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgRmF0T3NjaWxsYXRvciB9IGZyb20gXCIuL0ZhdE9zY2lsbGF0b3JcIjtcbmltcG9ydCB7IEZNT3NjaWxsYXRvciB9IGZyb20gXCIuL0ZNT3NjaWxsYXRvclwiO1xuaW1wb3J0IHsgT3NjaWxsYXRvciB9IGZyb20gXCIuL09zY2lsbGF0b3JcIjtcbmltcG9ydCB7IGdlbmVyYXRlV2F2ZWZvcm0gfSBmcm9tIFwiLi9Pc2NpbGxhdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBQdWxzZU9zY2lsbGF0b3IgfSBmcm9tIFwiLi9QdWxzZU9zY2lsbGF0b3JcIjtcbmltcG9ydCB7IFBXTU9zY2lsbGF0b3IgfSBmcm9tIFwiLi9QV01Pc2NpbGxhdG9yXCI7XG5jb25zdCBPbW5pT3NjaWxsYXRvclNvdXJjZU1hcCA9IHtcbiAgICBhbTogQU1Pc2NpbGxhdG9yLFxuICAgIGZhdDogRmF0T3NjaWxsYXRvcixcbiAgICBmbTogRk1Pc2NpbGxhdG9yLFxuICAgIG9zY2lsbGF0b3I6IE9zY2lsbGF0b3IsXG4gICAgcHVsc2U6IFB1bHNlT3NjaWxsYXRvcixcbiAgICBwd206IFBXTU9zY2lsbGF0b3IsXG59O1xuLyoqXG4gKiBPbW5pT3NjaWxsYXRvciBhZ2dyZWdhdGVzIGFsbCBvZiB0aGUgb3NjaWxsYXRvciB0eXBlcyBpbnRvIG9uZS5cbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3Qgb21uaU9zYyA9IG5ldyBUb25lLk9tbmlPc2NpbGxhdG9yKFwiQyM0XCIsIFwicHdtXCIpLnRvRGVzdGluYXRpb24oKS5zdGFydCgpO1xuICogfSwgMC4xLCAxKTtcbiAqIEBjYXRlZ29yeSBTb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIE9tbmlPc2NpbGxhdG9yIGV4dGVuZHMgU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoT21uaU9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJmcmVxdWVuY3lcIiwgXCJ0eXBlXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiT21uaU9zY2lsbGF0b3JcIjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKE9tbmlPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiZnJlcXVlbmN5XCIsIFwidHlwZVwiXSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJmcmVxdWVuY3lcIixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLmZyZXF1ZW5jeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0dW5lID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1bml0czogXCJjZW50c1wiLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCJdKTtcbiAgICAgICAgLy8gc2V0IHRoZSBvcHRpb25zXG4gICAgICAgIHRoaXMuc2V0KG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9zY2lsbGF0b3IuZ2V0RGVmYXVsdHMoKSwgRk1Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIEFNT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBGYXRPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIFB1bHNlT3NjaWxsYXRvci5nZXREZWZhdWx0cygpLCBQV01Pc2NpbGxhdG9yLmdldERlZmF1bHRzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCB0aGUgb3NjaWxsYXRvclxuICAgICAqL1xuICAgIF9zdGFydCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3RhcnQodGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSBvc2NpbGxhdG9yXG4gICAgICovXG4gICAgX3N0b3AodGltZSkge1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnN0b3AodGltZSk7XG4gICAgfVxuICAgIF9yZXN0YXJ0KHRpbWUpIHtcbiAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5yZXN0YXJ0KHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIENhbiBiZSBhbnkgb2YgdGhlIGJhc2ljIHR5cGVzOiBzaW5lLCBzcXVhcmUsIHRyaWFuZ2xlLCBzYXd0b290aC4gT3JcbiAgICAgKiBwcmVmaXggdGhlIGJhc2ljIHR5cGVzIHdpdGggXCJmbVwiLCBcImFtXCIsIG9yIFwiZmF0XCIgdG8gdXNlIHRoZSBGTU9zY2lsbGF0b3IsIEFNT3NjaWxsYXRvciBvciBGYXRPc2NpbGxhdG9yXG4gICAgICogdHlwZXMuIFRoZSBvc2NpbGxhdG9yIGNvdWxkIGFsc28gYmUgc2V0IHRvIFwicHdtXCIgb3IgXCJwdWxzZVwiLiBBbGwgb2YgdGhlIHBhcmFtZXRlcnMgb2YgdGhlXG4gICAgICogb3NjaWxsYXRvcidzIGNsYXNzIGFyZSBhY2Nlc3NpYmxlIHdoZW4gdGhlIG9zY2lsbGF0b3IgaXMgc2V0IHRvIHRoYXQgdHlwZSwgYnV0IHRocm93cyBhbiBlcnJvclxuICAgICAqIHdoZW4gaXQncyBub3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBvbW5pT3NjID0gbmV3IFRvbmUuT21uaU9zY2lsbGF0b3IoKS50b0Rlc3RpbmF0aW9uKCkuc3RhcnQoKTtcbiAgICAgKiBvbW5pT3NjLnR5cGUgPSBcInB3bVwiO1xuICAgICAqIC8vIG1vZHVsYXRpb25GcmVxdWVuY3kgaXMgcGFyYW1ldGVyIHdoaWNoIGlzIGF2YWlsYWJsZVxuICAgICAqIC8vIG9ubHkgd2hlbiB0aGUgdHlwZSBpcyBcInB3bVwiLlxuICAgICAqIG9tbmlPc2MubW9kdWxhdGlvbkZyZXF1ZW5jeS52YWx1ZSA9IDAuNTtcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IFwiXCI7XG4gICAgICAgIGlmIChbXCJhbVwiLCBcImZtXCIsIFwiZmF0XCJdLnNvbWUocCA9PiB0aGlzLl9zb3VyY2VUeXBlID09PSBwKSkge1xuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5fc291cmNlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJlZml4ICsgdGhpcy5fb3NjaWxsYXRvci50eXBlO1xuICAgIH1cbiAgICBzZXQgdHlwZSh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlLnN1YnN0cigwLCAyKSA9PT0gXCJmbVwiKSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVOZXdPc2NpbGxhdG9yKFwiZm1cIik7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5fb3NjaWxsYXRvcjtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IudHlwZSA9IHR5cGUuc3Vic3RyKDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUuc3Vic3RyKDAsIDIpID09PSBcImFtXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJhbVwiKTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IgPSB0aGlzLl9vc2NpbGxhdG9yO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci50eXBlID0gdHlwZS5zdWJzdHIoMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZS5zdWJzdHIoMCwgMykgPT09IFwiZmF0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJmYXRcIik7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5fb3NjaWxsYXRvcjtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IudHlwZSA9IHR5cGUuc3Vic3RyKDMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwicHdtXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJwd21cIik7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5fb3NjaWxsYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcInB1bHNlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJwdWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJvc2NpbGxhdG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvciA9IHRoaXMuX29zY2lsbGF0b3I7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSB3aGVuIHRoZSB0eXBlIGlzIG5vdCBcImN1c3RvbVwiLlxuICAgICAqIFRoaXMgaXMgbm90IGF2YWlsYWJsZSBvbiBcInB3bVwiIGFuZCBcInB1bHNlXCIgb3NjaWxsYXRvciB0eXBlcy5cbiAgICAgKiBTZWUgW1tPc2NpbGxhdG9yLnBhcnRpYWxzXV1cbiAgICAgKi9cbiAgICBnZXQgcGFydGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxzO1xuICAgIH1cbiAgICBzZXQgcGFydGlhbHMocGFydGlhbHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHVsc2VcIikgJiYgIXRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJwd21cIikpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3IucGFydGlhbHMgPSBwYXJ0aWFscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGFydGlhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFsQ291bnQ7XG4gICAgfVxuICAgIHNldCBwYXJ0aWFsQ291bnQocGFydGlhbENvdW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcInB1bHNlXCIpICYmICF0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHdtXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxDb3VudCA9IHBhcnRpYWxDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQocHJvcHMpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB0eXBlIGlzIHNldCBmaXJzdFxuICAgICAgICBpZiAoUmVmbGVjdC5oYXMocHJvcHMsIFwidHlwZVwiKSAmJiBwcm9wcy50eXBlKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBwcm9wcy50eXBlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gc2V0IHRoZSByZXN0XG4gICAgICAgIHN1cGVyLnNldChwcm9wcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IHRoZSBvc2NpbGxhdG9yIHRvIHRoZSBmcmVxdWVuY3kgYW5kIGRldHVuZSBzaWduYWxzXG4gICAgICovXG4gICAgX2NyZWF0ZU5ld09zY2lsbGF0b3Iob3NjVHlwZSkge1xuICAgICAgICBpZiAob3NjVHlwZSAhPT0gdGhpcy5fc291cmNlVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlVHlwZSA9IG9zY1R5cGU7XG4gICAgICAgICAgICBjb25zdCBPc2NDb25zdHJ1Y3RvciA9IE9tbmlPc2NpbGxhdG9yU291cmNlTWFwW29zY1R5cGVdO1xuICAgICAgICAgICAgLy8gc2hvcnQgZGVsYXkgdG8gYXZvaWQgY2xpY2tzIG9uIHRoZSBjaGFuZ2VcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHRoaXMubm93KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3NjaWxsYXRvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZE9zYyA9IHRoaXMuX29zY2lsbGF0b3I7XG4gICAgICAgICAgICAgICAgb2xkT3NjLnN0b3Aobm93KTtcbiAgICAgICAgICAgICAgICAvLyBkaXNwb3NlIHRoZSBvbGQgb25lXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldFRpbWVvdXQoKCkgPT4gb2xkT3NjLmRpc3Bvc2UoKSwgdGhpcy5ibG9ja1RpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvciA9IG5ldyBPc2NDb25zdHJ1Y3Rvcih7XG4gICAgICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX29zY2lsbGF0b3IuZnJlcXVlbmN5KTtcbiAgICAgICAgICAgIHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5kZXR1bmUpO1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iub25zdG9wID0gKCkgPT4gdGhpcy5vbnN0b3AodGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJzdGFydGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KG5vdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBoYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5waGFzZTtcbiAgICB9XG4gICAgc2V0IHBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHRoaXMuX29zY2lsbGF0b3IucGhhc2UgPSBwaGFzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNvdXJjZSB0eXBlIG9mIHRoZSBvc2NpbGxhdG9yLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb21uaU9zYyA9IG5ldyBUb25lLk9tbmlPc2NpbGxhdG9yKDQ0MCwgXCJmbXNxdWFyZVwiKTtcbiAgICAgKiBjb25zb2xlLmxvZyhvbW5pT3NjLnNvdXJjZVR5cGUpOyAvLyAnZm0nXG4gICAgICovXG4gICAgZ2V0IHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2VUeXBlO1xuICAgIH1cbiAgICBzZXQgc291cmNlVHlwZShzVHlwZSkge1xuICAgICAgICAvLyB0aGUgYmFzZXR5cGUgZGVmYXVsdHMgdG8gc2luZVxuICAgICAgICBsZXQgYmFzZVR5cGUgPSBcInNpbmVcIjtcbiAgICAgICAgaWYgKHRoaXMuX29zY2lsbGF0b3IudHlwZSAhPT0gXCJwd21cIiAmJiB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgIT09IFwicHVsc2VcIikge1xuICAgICAgICAgICAgYmFzZVR5cGUgPSB0aGlzLl9vc2NpbGxhdG9yLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlXG4gICAgICAgIGlmIChzVHlwZSA9PT0gXCJmbVwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcImZtXCIgKyBiYXNlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzVHlwZSA9PT0gXCJhbVwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcImFtXCIgKyBiYXNlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzVHlwZSA9PT0gXCJmYXRcIikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gXCJmYXRcIiArIGJhc2VUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNUeXBlID09PSBcIm9zY2lsbGF0b3JcIikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gYmFzZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc1R5cGUgPT09IFwicHVsc2VcIikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gXCJwdWxzZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNUeXBlID09PSBcInB3bVwiKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBcInB3bVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRPc2NUeXBlKG9zYywgc291cmNlVHlwZSkge1xuICAgICAgICByZXR1cm4gb3NjIGluc3RhbmNlb2YgT21uaU9zY2lsbGF0b3JTb3VyY2VNYXBbc291cmNlVHlwZV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIHR5cGUgb2YgdGhlIG9zY2lsbGF0b3IuIFNlZSBbW09zY2lsbGF0b3IuYmFzZVR5cGVdXVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb21uaU9zYyA9IG5ldyBUb25lLk9tbmlPc2NpbGxhdG9yKDQ0MCwgXCJmbXNxdWFyZTRcIik7XG4gICAgICogY29uc29sZS5sb2cob21uaU9zYy5zb3VyY2VUeXBlLCBvbW5pT3NjLmJhc2VUeXBlLCBvbW5pT3NjLnBhcnRpYWxDb3VudCk7XG4gICAgICovXG4gICAgZ2V0IGJhc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5iYXNlVHlwZTtcbiAgICB9XG4gICAgc2V0IGJhc2VUeXBlKGJhc2VUeXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcInB1bHNlXCIpICYmXG4gICAgICAgICAgICAhdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcInB3bVwiKSAmJlxuICAgICAgICAgICAgYmFzZVR5cGUgIT09IFwicHVsc2VcIiAmJiBiYXNlVHlwZSAhPT0gXCJwd21cIikge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5iYXNlVHlwZSA9IGJhc2VUeXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3NjaWxsYXRvciB3aGVuIHNvdXJjZVR5cGUgPT09IFwicHVsc2VcIi5cbiAgICAgKiBTZWUgW1tQV01Pc2NpbGxhdG9yLndpZHRoXV1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHVsc2VcIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRldHVuZWQgb3NjaWxsYXRvcnMgd2hlbiBzb3VyY2VUeXBlID09PSBcImZhdFwiLlxuICAgICAqIFNlZSBbW0ZhdE9zY2lsbGF0b3IuY291bnRdXVxuICAgICAqL1xuICAgIGdldCBjb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmYXRcIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgY291bnQoY291bnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmYXRcIikgJiYgaXNOdW1iZXIoY291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmNvdW50ID0gY291bnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRldHVuZSBzcHJlYWQgYmV0d2VlbiB0aGUgb3NjaWxsYXRvcnMgd2hlbiBzb3VyY2VUeXBlID09PSBcImZhdFwiLlxuICAgICAqIFNlZSBbW0ZhdE9zY2lsbGF0b3IuY291bnRdXVxuICAgICAqL1xuICAgIGdldCBzcHJlYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiZmF0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5zcHJlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBzcHJlYWQoc3ByZWFkKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiZmF0XCIpICYmIGlzTnVtYmVyKHNwcmVhZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29zY2lsbGF0b3Iuc3ByZWFkID0gc3ByZWFkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBtb2R1bGF0b3Igb3NjaWxsYXRvci4gT25seSBpZiB0aGUgb3NjaWxsYXRvciBpcyBzZXQgdG8gXCJhbVwiIG9yIFwiZm1cIiB0eXBlcy5cbiAgICAgKiBTZWUgW1tBTU9zY2lsbGF0b3JdXSBvciBbW0ZNT3NjaWxsYXRvcl1dXG4gICAgICovXG4gICAgZ2V0IG1vZHVsYXRpb25UeXBlKCkge1xuICAgICAgICBpZiAodGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImZtXCIpIHx8IHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJhbVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IubW9kdWxhdGlvblR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBtb2R1bGF0aW9uVHlwZShtVHlwZSkge1xuICAgICAgICBpZiAoKHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvciwgXCJmbVwiKSB8fCB0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiYW1cIikpICYmIGlzU3RyaW5nKG1UeXBlKSkge1xuICAgICAgICAgICAgdGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uVHlwZSA9IG1UeXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtb2R1bGF0aW9uIGluZGV4IHdoZW4gdGhlIHNvdXJjZVR5cGUgPT09IFwiZm1cIlxuICAgICAqIFNlZSBbW0ZNT3NjaWxsYXRvcl1dLlxuICAgICAqL1xuICAgIGdldCBtb2R1bGF0aW9uSW5kZXgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiZm1cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vc2NpbGxhdG9yLm1vZHVsYXRpb25JbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFybW9uaWNpdHkgaXMgdGhlIGZyZXF1ZW5jeSByYXRpbyBiZXR3ZWVuIHRoZSBjYXJyaWVyIGFuZCB0aGUgbW9kdWxhdG9yIG9zY2lsbGF0b3JzLlxuICAgICAqIFNlZSBbW0FNT3NjaWxsYXRvcl1dIG9yIFtbRk1Pc2NpbGxhdG9yXV1cbiAgICAgKi9cbiAgICBnZXQgaGFybW9uaWNpdHkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwiZm1cIikgfHwgdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLCBcImFtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5oYXJtb25pY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1vZHVsYXRpb25GcmVxdWVuY3kgU2lnbmFsIG9mIHRoZSBvc2NpbGxhdG9yIHdoZW4gc291cmNlVHlwZSA9PT0gXCJwd21cIlxuICAgICAqIHNlZSBbW1BXTU9zY2lsbGF0b3JdXVxuICAgICAqIEBtaW4gMC4xXG4gICAgICogQG1heCA1XG4gICAgICovXG4gICAgZ2V0IG1vZHVsYXRpb25GcmVxdWVuY3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsIFwicHdtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uRnJlcXVlbmN5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc0FycmF5KGxlbmd0aCA9IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVdhdmVmb3JtKHRoaXMsIGxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGV0dW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9vc2NpbGxhdG9yLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T21uaU9zY2lsbGF0b3IuanMubWFwIiwiaW1wb3J0IHsgYXNzZXJ0UmFuZ2UgfSBmcm9tIFwiLi9EZWJ1Z1wiO1xuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgbnVtYmVyIGlzIGluIHRoZSBnaXZlbiByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKG1pbiwgbWF4ID0gSW5maW5pdHkpIHtcbiAgICBjb25zdCB2YWx1ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZU1hcC5nZXQodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZShuZXdWYWx1ZSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgICAgIHZhbHVlTWFwLnNldCh0aGlzLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnQgdGhlIHRpbWUgdG8gc2Vjb25kcyBhbmQgYXNzZXJ0IHRoYXQgdGhlIHRpbWUgaXMgaW4gYmV0d2VlbiB0aGUgdHdvXG4gKiB2YWx1ZXMgd2hlbiBiZWluZyBzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lUmFuZ2UobWluLCBtYXggPSBJbmZpbml0eSkge1xuICAgIGNvbnN0IHZhbHVlTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTWFwLmdldCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydFJhbmdlKHRoaXMudG9TZWNvbmRzKG5ld1ZhbHVlKSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgICAgIHZhbHVlTWFwLnNldCh0aGlzLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWNvcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb0J1ZmZlclwiO1xuaW1wb3J0IHsgZGVmYXVsdEFyZywgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBub09wIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IGlzVW5kZWYgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1R5cGVDaGVja1wiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4uL1NvdXJjZVwiO1xuaW1wb3J0IHsgVG9uZUJ1ZmZlclNvdXJjZSB9IGZyb20gXCIuL1RvbmVCdWZmZXJTb3VyY2VcIjtcbmltcG9ydCB7IGFzc2VydFJhbmdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWJ1Z1wiO1xuaW1wb3J0IHsgdGltZVJhbmdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWNvcmF0b3JcIjtcbi8qKlxuICogUGxheWVyIGlzIGFuIGF1ZGlvIGZpbGUgcGxheWVyIHdpdGggc3RhcnQsIGxvb3AsIGFuZCBzdG9wIGZ1bmN0aW9ucy5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vYmVya2xlZS9nb25nXzEubXAzXCIpLnRvRGVzdGluYXRpb24oKTtcbiAqIC8vIHBsYXkgYXMgc29vbiBhcyB0aGUgYnVmZmVyIGlzIGxvYWRlZFxuICogcGxheWVyLmF1dG9zdGFydCA9IHRydWU7XG4gKiBAY2F0ZWdvcnkgU291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhQbGF5ZXIuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxcIiwgXCJvbmxvYWRcIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQbGF5ZXJcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBvZiB0aGUgYWN0aXZlIGJ1ZmZlciBzb3VyY2Ugbm9kZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhQbGF5ZXIuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxcIiwgXCJvbmxvYWRcIl0pO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgVG9uZUF1ZGlvQnVmZmVyKHtcbiAgICAgICAgICAgIG9ubG9hZDogdGhpcy5fb25sb2FkLmJpbmQodGhpcywgb3B0aW9ucy5vbmxvYWQpLFxuICAgICAgICAgICAgb25lcnJvcjogb3B0aW9ucy5vbmVycm9yLFxuICAgICAgICAgICAgcmV2ZXJzZTogb3B0aW9ucy5yZXZlcnNlLFxuICAgICAgICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXV0b3N0YXJ0ID0gb3B0aW9ucy5hdXRvc3RhcnQ7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBvcHRpb25zLmxvb3A7XG4gICAgICAgIHRoaXMuX2xvb3BTdGFydCA9IG9wdGlvbnMubG9vcFN0YXJ0O1xuICAgICAgICB0aGlzLl9sb29wRW5kID0gb3B0aW9ucy5sb29wRW5kO1xuICAgICAgICB0aGlzLl9wbGF5YmFja1JhdGUgPSBvcHRpb25zLnBsYXliYWNrUmF0ZTtcbiAgICAgICAgdGhpcy5mYWRlSW4gPSBvcHRpb25zLmZhZGVJbjtcbiAgICAgICAgdGhpcy5mYWRlT3V0ID0gb3B0aW9ucy5mYWRlT3V0O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFNvdXJjZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBhdXRvc3RhcnQ6IGZhbHNlLFxuICAgICAgICAgICAgZmFkZUluOiAwLFxuICAgICAgICAgICAgZmFkZU91dDogMCxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgbG9vcEVuZDogMCxcbiAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgIG9ubG9hZDogbm9PcCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG5vT3AsXG4gICAgICAgICAgICBwbGF5YmFja1JhdGU6IDEsXG4gICAgICAgICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUgYXMgYW4gYXVkaW8gYnVmZmVyLlxuICAgICAqIERlY29kZXMgdGhlIGF1ZGlvIGFzeW5jaHJvbm91c2x5IGFuZCBpbnZva2VzXG4gICAgICogdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGF1ZGlvIGJ1ZmZlciBsb2Fkcy5cbiAgICAgKiBOb3RlOiB0aGlzIGRvZXMgbm90IG5lZWQgdG8gYmUgY2FsbGVkIGlmIGEgdXJsXG4gICAgICogd2FzIHBhc3NlZCBpbiB0byB0aGUgY29uc3RydWN0b3IuIE9ubHkgdXNlIHRoaXNcbiAgICAgKiBpZiB5b3Ugd2FudCB0byBtYW51YWxseSBsb2FkIGEgbmV3IHVybC5cbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwgb2YgdGhlIGJ1ZmZlciB0byBsb2FkLiBGaWxldHlwZSBzdXBwb3J0IGRlcGVuZHMgb24gdGhlIGJyb3dzZXIuXG4gICAgICovXG4gICAgbG9hZCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuX2J1ZmZlci5sb2FkKHVybCk7XG4gICAgICAgICAgICB0aGlzLl9vbmxvYWQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgY2FsbGJhY2sgd2hlbiB0aGUgYnVmZmVyIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBfb25sb2FkKGNhbGxiYWNrID0gbm9PcCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICBpZiAodGhpcy5hdXRvc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBjYWxsYmFjayB3aGVuIHRoZSBidWZmZXIgaXMgZG9uZSBwbGF5aW5nLlxuICAgICAqL1xuICAgIF9vblNvdXJjZUVuZChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW52b2tlIHRoZSBvbnN0b3AgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5vbnN0b3AodGhpcyk7XG4gICAgICAgIC8vIGRlbGV0ZSB0aGUgc291cmNlIGZyb20gdGhlIGFjdGl2ZSBzb3VyY2VzXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZGVsZXRlKHNvdXJjZSk7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTb3VyY2VzLnNpemUgPT09IDAgJiYgIXRoaXMuX3N5bmNlZCAmJlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSkgPT09IFwic3RhcnRlZFwiKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlICdpbXBsaWNpdEVuZCcgZXZlbnQgYW5kIHJlcGxhY2Ugd2l0aCBhbiBleHBsaWNpdCBlbmRcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNhbmNlbCh0aGlzLm5vdygpKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLCB0aGlzLm5vdygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQbGF5IHRoZSBidWZmZXIgYXQgdGhlIGdpdmVuIHN0YXJ0VGltZS4gT3B0aW9uYWxseSBhZGQgYW4gb2Zmc2V0XG4gICAgICogYW5kL29yIGR1cmF0aW9uIHdoaWNoIHdpbGwgcGxheSB0aGUgYnVmZmVyIGZyb20gYSBwb3NpdGlvblxuICAgICAqIHdpdGhpbiB0aGUgYnVmZmVyIGZvciB0aGUgZ2l2ZW4gZHVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0aGUgcGxheWVyIHNob3VsZCBzdGFydC5cbiAgICAgKiBAcGFyYW0gIG9mZnNldCBUaGUgb2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc2FtcGxlIHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gSG93IGxvbmcgdGhlIHNhbXBsZSBzaG91bGQgcGxheS4gSWYgbm8gZHVyYXRpb24gaXMgZ2l2ZW4sIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgZnVsbCBsZW5ndGggb2YgdGhlIHNhbXBsZSAobWludXMgYW55IG9mZnNldClcbiAgICAgKi9cbiAgICBzdGFydCh0aW1lLCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyLnN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc3RhcnQgbWV0aG9kXG4gICAgICovXG4gICAgX3N0YXJ0KHN0YXJ0VGltZSwgb2Zmc2V0LCBkdXJhdGlvbikge1xuICAgICAgICAvLyBpZiBpdCdzIGEgbG9vcCB0aGUgZGVmYXVsdCBvZmZzZXQgaXMgdGhlIGxvb3BTdGFydCBwb2ludFxuICAgICAgICBpZiAodGhpcy5fbG9vcCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZGVmYXVsdEFyZyhvZmZzZXQsIHRoaXMuX2xvb3BTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGRlZmF1bHQgb2Zmc2V0IGlzIDBcbiAgICAgICAgICAgIG9mZnNldCA9IGRlZmF1bHRBcmcob2Zmc2V0LCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21wdXRlIHRoZSB2YWx1ZXMgaW4gc2Vjb25kc1xuICAgICAgICBjb25zdCBjb21wdXRlZE9mZnNldCA9IHRoaXMudG9TZWNvbmRzKG9mZnNldCk7XG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIGR1cmF0aW9uIHdoaWNoIGlzIGVpdGhlciB0aGUgcGFzc2VkIGluIGR1cmF0aW9uIG9mIHRoZSBidWZmZXIuZHVyYXRpb24gLSBvZmZzZXRcbiAgICAgICAgY29uc3Qgb3JpZ0R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIGR1cmF0aW9uID0gZGVmYXVsdEFyZyhkdXJhdGlvbiwgTWF0aC5tYXgodGhpcy5fYnVmZmVyLmR1cmF0aW9uIC0gY29tcHV0ZWRPZmZzZXQsIDApKTtcbiAgICAgICAgbGV0IGNvbXB1dGVkRHVyYXRpb24gPSB0aGlzLnRvU2Vjb25kcyhkdXJhdGlvbik7XG4gICAgICAgIC8vIHNjYWxlIGl0IGJ5IHRoZSBwbGF5YmFjayByYXRlXG4gICAgICAgIGNvbXB1dGVkRHVyYXRpb24gPSBjb21wdXRlZER1cmF0aW9uIC8gdGhpcy5fcGxheWJhY2tSYXRlO1xuICAgICAgICAvLyBnZXQgdGhlIHN0YXJ0IHRpbWVcbiAgICAgICAgc3RhcnRUaW1lID0gdGhpcy50b1NlY29uZHMoc3RhcnRUaW1lKTtcbiAgICAgICAgLy8gbWFrZSB0aGUgc291cmNlXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IG5ldyBUb25lQnVmZmVyU291cmNlKHtcbiAgICAgICAgICAgIHVybDogdGhpcy5fYnVmZmVyLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZmFkZUluOiB0aGlzLmZhZGVJbixcbiAgICAgICAgICAgIGZhZGVPdXQ6IHRoaXMuZmFkZU91dCxcbiAgICAgICAgICAgIGxvb3A6IHRoaXMuX2xvb3AsXG4gICAgICAgICAgICBsb29wRW5kOiB0aGlzLl9sb29wRW5kLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiB0aGlzLl9sb29wU3RhcnQsXG4gICAgICAgICAgICBvbmVuZGVkOiB0aGlzLl9vblNvdXJjZUVuZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgcGxheWJhY2tSYXRlOiB0aGlzLl9wbGF5YmFja1JhdGUsXG4gICAgICAgIH0pLmNvbm5lY3QodGhpcy5vdXRwdXQpO1xuICAgICAgICAvLyBzZXQgdGhlIGxvb3BpbmcgcHJvcGVydGllc1xuICAgICAgICBpZiAoIXRoaXMuX2xvb3AgJiYgIXRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgLy8gY2FuY2VsIHRoZSBwcmV2aW91cyBzdG9wXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoc3RhcnRUaW1lICsgY29tcHV0ZWREdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCBsb29waW5nLCBzZXQgdGhlIHN0YXRlIGNoYW5nZSBhdCB0aGUgZW5kIG9mIHRoZSBzYW1wbGVcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLCBzdGFydFRpbWUgKyBjb21wdXRlZER1cmF0aW9uLCB7XG4gICAgICAgICAgICAgICAgaW1wbGljaXRFbmQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGFycmF5IG9mIGFjdGl2ZSBzb3VyY2VzXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICAgIC8vIHN0YXJ0IGl0XG4gICAgICAgIGlmICh0aGlzLl9sb29wICYmIGlzVW5kZWYob3JpZ0R1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291cmNlLnN0YXJ0KHN0YXJ0VGltZSwgY29tcHV0ZWRPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3VidHJhY3QgdGhlIGZhZGUgb3V0IHRpbWVcbiAgICAgICAgICAgIHNvdXJjZS5zdGFydChzdGFydFRpbWUsIGNvbXB1dGVkT2Zmc2V0LCBjb21wdXRlZER1cmF0aW9uIC0gdGhpcy50b1NlY29uZHModGhpcy5mYWRlT3V0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCBwbGF5YmFjay5cbiAgICAgKi9cbiAgICBfc3RvcCh0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goc291cmNlID0+IHNvdXJjZS5zdG9wKGNvbXB1dGVkVGltZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIGFuZCB0aGVuIHJlc3RhcnQgdGhlIHBsYXllciBmcm9tIHRoZSBiZWdpbm5pbmcgKG9yIG9mZnNldClcbiAgICAgKiBAcGFyYW0gIHRpbWUgV2hlbiB0aGUgcGxheWVyIHNob3VsZCBzdGFydC5cbiAgICAgKiBAcGFyYW0gIG9mZnNldCBUaGUgb2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc2FtcGxlIHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gSG93IGxvbmcgdGhlIHNhbXBsZSBzaG91bGQgcGxheS4gSWYgbm8gZHVyYXRpb24gaXMgZ2l2ZW4sXG4gICAgICogXHRcdFx0XHRcdGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgZnVsbCBsZW5ndGggb2YgdGhlIHNhbXBsZSAobWludXMgYW55IG9mZnNldClcbiAgICAgKi9cbiAgICByZXN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pIHtcbiAgICAgICAgc3VwZXIucmVzdGFydCh0aW1lLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9yZXN0YXJ0KHRpbWUsIG9mZnNldCwgZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5fc3RvcCh0aW1lKTtcbiAgICAgICAgdGhpcy5fc3RhcnQodGltZSwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZWsgdG8gYSBzcGVjaWZpYyB0aW1lIGluIHRoZSBwbGF5ZXIncyBidWZmZXIuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBubyBsb25nZXIgcGxheWluZyBhdCB0aGF0IHRpbWUsIGl0IHdpbGwgc3RvcC5cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSB0aW1lIHRvIHNlZWsgdG8uXG4gICAgICogQHBhcmFtIHdoZW4gVGhlIHRpbWUgZm9yIHRoZSBzZWVrIGV2ZW50IHRvIG9jY3VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGxheWVyID0gbmV3IFRvbmUuUGxheWVyKFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2JlcmtsZWUvZ3VyZ2xpbmdfdGhlcmVtaW5fMS5tcDNcIiwgKCkgPT4ge1xuICAgICAqIFx0cGxheWVyLnN0YXJ0KCk7XG4gICAgICogXHQvLyBzZWVrIHRvIHRoZSBvZmZzZXQgaW4gMSBzZWNvbmQgZnJvbSBub3dcbiAgICAgKiBcdHBsYXllci5zZWVrKDAuNCwgXCIrMVwiKTtcbiAgICAgKiB9KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICovXG4gICAgc2VlayhvZmZzZXQsIHdoZW4pIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHMod2hlbik7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShjb21wdXRlZFRpbWUpID09PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRPZmZzZXQgPSB0aGlzLnRvU2Vjb25kcyhvZmZzZXQpO1xuICAgICAgICAgICAgLy8gaWYgaXQncyBjdXJyZW50bHkgcGxheWluZywgc3RvcCBpdFxuICAgICAgICAgICAgdGhpcy5fc3RvcChjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgLy8gcmVzdGFydCBpdCBhdCB0aGUgZ2l2ZW4gdGltZVxuICAgICAgICAgICAgdGhpcy5fc3RhcnQoY29tcHV0ZWRUaW1lLCBjb21wdXRlZE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbG9vcCBzdGFydCBhbmQgZW5kLiBXaWxsIG9ubHkgbG9vcCBpZiBsb29wIGlzIHNldCB0byB0cnVlLlxuICAgICAqIEBwYXJhbSBsb29wU3RhcnQgVGhlIGxvb3Agc3RhcnQgdGltZVxuICAgICAqIEBwYXJhbSBsb29wRW5kIFRoZSBsb29wIGVuZCB0aW1lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vYmVya2xlZS9tYWxldm9pY2VzX2FhMl9GMy5tcDNcIikudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIGxvb3AgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9pbnRzXG4gICAgICogcGxheWVyLnNldExvb3BQb2ludHMoMC4yLCAwLjMpO1xuICAgICAqIHBsYXllci5sb29wID0gdHJ1ZTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBzZXRMb29wUG9pbnRzKGxvb3BTdGFydCwgbG9vcEVuZCkge1xuICAgICAgICB0aGlzLmxvb3BTdGFydCA9IGxvb3BTdGFydDtcbiAgICAgICAgdGhpcy5sb29wRW5kID0gbG9vcEVuZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGxvb3AgaXMgdHJ1ZSwgdGhlIGxvb3Agd2lsbCBzdGFydCBhdCB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGdldCBsb29wU3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb29wU3RhcnQ7XG4gICAgfVxuICAgIHNldCBsb29wU3RhcnQobG9vcFN0YXJ0KSB7XG4gICAgICAgIHRoaXMuX2xvb3BTdGFydCA9IGxvb3BTdGFydDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxvYWRlZCkge1xuICAgICAgICAgICAgYXNzZXJ0UmFuZ2UodGhpcy50b1NlY29uZHMobG9vcFN0YXJ0KSwgMCwgdGhpcy5idWZmZXIuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBzb3VyY2VcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UubG9vcFN0YXJ0ID0gbG9vcFN0YXJ0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgbG9vcCBpcyB0cnVlLCB0aGUgbG9vcCB3aWxsIGVuZCBhdCB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGdldCBsb29wRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9vcEVuZDtcbiAgICB9XG4gICAgc2V0IGxvb3BFbmQobG9vcEVuZCkge1xuICAgICAgICB0aGlzLl9sb29wRW5kID0gbG9vcEVuZDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxvYWRlZCkge1xuICAgICAgICAgICAgYXNzZXJ0UmFuZ2UodGhpcy50b1NlY29uZHMobG9vcEVuZCksIDAsIHRoaXMuYnVmZmVyLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgc291cmNlXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgc291cmNlLmxvb3BFbmQgPSBsb29wRW5kO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGF1ZGlvIGJ1ZmZlciBiZWxvbmdpbmcgdG8gdGhlIHBsYXllci5cbiAgICAgKi9cbiAgICBnZXQgYnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgIH1cbiAgICBzZXQgYnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLl9idWZmZXIuc2V0KGJ1ZmZlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBidWZmZXIgc2hvdWxkIGxvb3Agb25jZSBpdCdzIG92ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwbGF5ZXIgPSBuZXcgVG9uZS5QbGF5ZXIoXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vZHJ1bS1zYW1wbGVzL2JyZWFrYmVhdC5tcDNcIikudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIHBsYXllci5sb29wID0gdHJ1ZTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgbG9vcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3A7XG4gICAgfVxuICAgIHNldCBsb29wKGxvb3ApIHtcbiAgICAgICAgLy8gaWYgbm8gY2hhbmdlLCBkbyBub3RoaW5nXG4gICAgICAgIGlmICh0aGlzLl9sb29wID09PSBsb29wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9vcCA9IGxvb3A7XG4gICAgICAgIC8vIHNldCB0aGUgbG9vcCBvZiBhbGwgb2YgdGhlIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBuZXh0IHN0b3BFdmVudFxuICAgICAgICAgICAgY29uc3Qgc3RvcEV2ZW50ID0gdGhpcy5fc3RhdGUuZ2V0TmV4dFN0YXRlKFwic3RvcHBlZFwiLCB0aGlzLm5vdygpKTtcbiAgICAgICAgICAgIGlmIChzdG9wRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoc3RvcEV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vcm1hbCBzcGVlZCBpcyAxLiBUaGUgcGl0Y2ggd2lsbCBjaGFuZ2Ugd2l0aCB0aGUgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL2ZlbWFsZXZvaWNlc19hYTJfQTUubXAzXCIpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiAvLyBwbGF5IGF0IDEvNCBzcGVlZFxuICAgICAqIHBsYXllci5wbGF5YmFja1JhdGUgPSAwLjI1O1xuICAgICAqIC8vIHBsYXkgYXMgc29vbiBhcyB0aGUgYnVmZmVyIGlzIGxvYWRlZFxuICAgICAqIHBsYXllci5hdXRvc3RhcnQgPSB0cnVlO1xuICAgICAqL1xuICAgIGdldCBwbGF5YmFja1JhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbGF5YmFja1JhdGU7XG4gICAgfVxuICAgIHNldCBwbGF5YmFja1JhdGUocmF0ZSkge1xuICAgICAgICB0aGlzLl9wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLm5vdygpO1xuICAgICAgICAvLyBjYW5jZWwgdGhlIHN0b3AgZXZlbnQgc2luY2UgaXQncyBhdCBhIGRpZmZlcmVudCB0aW1lIG5vd1xuICAgICAgICBjb25zdCBzdG9wRXZlbnQgPSB0aGlzLl9zdGF0ZS5nZXROZXh0U3RhdGUoXCJzdG9wcGVkXCIsIG5vdyk7XG4gICAgICAgIGlmIChzdG9wRXZlbnQgJiYgc3RvcEV2ZW50LmltcGxpY2l0RW5kKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwoc3RvcEV2ZW50LnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiBzb3VyY2UuY2FuY2VsU3RvcCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgYWxsIHRoZSBzb3VyY2VzXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgc291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShyYXRlLCBub3cpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJ1ZmZlciBzaG91bGQgYmUgcmV2ZXJzZWRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBsYXllciA9IG5ldyBUb25lLlBsYXllcihcImh0dHBzOi8vdG9uZWpzLmdpdGh1Yi5pby9hdWRpby9iZXJrbGVlL2NoaW1lXzEubXAzXCIpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBwbGF5ZXIuYXV0b3N0YXJ0ID0gdHJ1ZTtcbiAgICAgKiBwbGF5ZXIucmV2ZXJzZSA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHJldmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIucmV2ZXJzZTtcbiAgICB9XG4gICAgc2V0IHJldmVyc2UocmV2KSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlci5yZXZlcnNlID0gcmV2O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgYnVmZmVyIGlzIGxvYWRlZFxuICAgICAqL1xuICAgIGdldCBsb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIubG9hZGVkO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIC8vIGRpc2Nvbm5lY3QgYWxsIG9mIHRoZSBwbGF5ZXJzXG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4gc291cmNlLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgdGltZVJhbmdlKDApXG5dLCBQbGF5ZXIucHJvdG90eXBlLCBcImZhZGVJblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdGltZVJhbmdlKDApXG5dLCBQbGF5ZXIucHJvdG90eXBlLCBcImZhZGVPdXRcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYXllci5qcy5tYXAiLCJpbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNPYmplY3QsIGlzU3RyaW5nIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IGNvbm5lY3RTaWduYWwsIFNpZ25hbCB9IGZyb20gXCIuLi8uLi9zaWduYWwvU2lnbmFsXCI7XG5pbXBvcnQgeyBPZmZsaW5lQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvT2ZmbGluZUNvbnRleHRcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVidWdcIjtcbmltcG9ydCB7IHJhbmdlLCB0aW1lUmFuZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlY29yYXRvclwiO1xuLyoqXG4gKiBFbnZlbG9wZSBpcyBhbiBbQURTUl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ludGhlc2l6ZXIjQURTUl9lbnZlbG9wZSlcbiAqIGVudmVsb3BlIGdlbmVyYXRvci4gRW52ZWxvcGUgb3V0cHV0cyBhIHNpZ25hbCB3aGljaFxuICogY2FuIGJlIGNvbm5lY3RlZCB0byBhbiBBdWRpb1BhcmFtIG9yIFRvbmUuU2lnbmFsLlxuICogYGBgXG4gKiAgICAgICAgICAgL1xcXG4gKiAgICAgICAgICAvICBcXFxuICogICAgICAgICAvICAgIFxcXG4gKiAgICAgICAgLyAgICAgIFxcXG4gKiAgICAgICAvICAgICAgICBcXF9fX19fX19fX19fXG4gKiAgICAgIC8gICAgICAgICAgICAgICAgICAgICBcXFxuICogICAgIC8gICAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiAgICAvICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICogYGBgXG4gKiBAZXhhbXBsZVxuICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gKiBcdGNvbnN0IGVudiA9IG5ldyBUb25lLkVudmVsb3BlKHtcbiAqIFx0XHRhdHRhY2s6IDAuMSxcbiAqIFx0XHRkZWNheTogMC4yLFxuICogXHRcdHN1c3RhaW46IDAuNSxcbiAqIFx0XHRyZWxlYXNlOiAwLjgsXG4gKiBcdH0pLnRvRGVzdGluYXRpb24oKTtcbiAqIFx0ZW52LnRyaWdnZXJBdHRhY2tSZWxlYXNlKDAuNSk7XG4gKiB9LCAxLjUsIDEpO1xuICogQGNhdGVnb3J5IENvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgRW52ZWxvcGUgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoRW52ZWxvcGUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJhdHRhY2tcIiwgXCJkZWNheVwiLCBcInN1c3RhaW5cIiwgXCJyZWxlYXNlXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRW52ZWxvcGVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBzaWduYWwgd2hpY2ggaXMgb3V0cHV0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2lnID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3V0cHV0IHNpZ25hbCBvZiB0aGUgZW52ZWxvcGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fc2lnO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW52ZWxvcGUgaGFzIG5vIGlucHV0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlucHV0ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoRW52ZWxvcGUuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJhdHRhY2tcIiwgXCJkZWNheVwiLCBcInN1c3RhaW5cIiwgXCJyZWxlYXNlXCJdKTtcbiAgICAgICAgdGhpcy5hdHRhY2sgPSBvcHRpb25zLmF0dGFjaztcbiAgICAgICAgdGhpcy5kZWNheSA9IG9wdGlvbnMuZGVjYXk7XG4gICAgICAgIHRoaXMuc3VzdGFpbiA9IG9wdGlvbnMuc3VzdGFpbjtcbiAgICAgICAgdGhpcy5yZWxlYXNlID0gb3B0aW9ucy5yZWxlYXNlO1xuICAgICAgICB0aGlzLmF0dGFja0N1cnZlID0gb3B0aW9ucy5hdHRhY2tDdXJ2ZTtcbiAgICAgICAgdGhpcy5yZWxlYXNlQ3VydmUgPSBvcHRpb25zLnJlbGVhc2VDdXJ2ZTtcbiAgICAgICAgdGhpcy5kZWNheUN1cnZlID0gb3B0aW9ucy5kZWNheUN1cnZlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgYXR0YWNrOiAwLjAxLFxuICAgICAgICAgICAgYXR0YWNrQ3VydmU6IFwibGluZWFyXCIsXG4gICAgICAgICAgICBkZWNheTogMC4xLFxuICAgICAgICAgICAgZGVjYXlDdXJ2ZTogXCJleHBvbmVudGlhbFwiLFxuICAgICAgICAgICAgcmVsZWFzZTogMSxcbiAgICAgICAgICAgIHJlbGVhc2VDdXJ2ZTogXCJleHBvbmVudGlhbFwiLFxuICAgICAgICAgICAgc3VzdGFpbjogMC41LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgZW52ZWxvcGUuIFVzZWZ1bCBmb3JcbiAgICAgKiBzeW5jaHJvbml6aW5nIHZpc3VhbCBvdXRwdXQgdG8gdGhlIGVudmVsb3BlLlxuICAgICAqL1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VydmVcbiAgICAgKiBAcGFyYW0gIGN1cnZlXG4gICAgICogQHBhcmFtICBkaXJlY3Rpb24gIEluL091dFxuICAgICAqIEByZXR1cm4gVGhlIGN1cnZlIG5hbWVcbiAgICAgKi9cbiAgICBfZ2V0Q3VydmUoY3VydmUsIGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoaXNTdHJpbmcoY3VydmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VydmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsb29rIHVwIHRoZSBuYW1lIGluIHRoZSBjdXJ2ZXMgYXJyYXlcbiAgICAgICAgICAgIGxldCBjdXJ2ZU5hbWU7XG4gICAgICAgICAgICBmb3IgKGN1cnZlTmFtZSBpbiBFbnZlbG9wZUN1cnZlcykge1xuICAgICAgICAgICAgICAgIGlmIChFbnZlbG9wZUN1cnZlc1tjdXJ2ZU5hbWVdW2RpcmVjdGlvbl0gPT09IGN1cnZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJ2ZU5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBjdXN0b20gY3VydmVcbiAgICAgICAgICAgIHJldHVybiBjdXJ2ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSB0aGUgY3VydmUgdG8gdGhlIGdpdmVuIG5hbWUgdXNpbmcgdGhlIGRpcmVjdGlvblxuICAgICAqIEBwYXJhbSAgbmFtZVxuICAgICAqIEBwYXJhbSAgZGlyZWN0aW9uIEluL091dFxuICAgICAqIEBwYXJhbSAgY3VydmVcbiAgICAgKi9cbiAgICBfc2V0Q3VydmUobmFtZSwgZGlyZWN0aW9uLCBjdXJ2ZSkge1xuICAgICAgICAvLyBjaGVjayBpZiBpdCdzIGEgdmFsaWQgdHlwZVxuICAgICAgICBpZiAoaXNTdHJpbmcoY3VydmUpICYmIFJlZmxlY3QuaGFzKEVudmVsb3BlQ3VydmVzLCBjdXJ2ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnZlRGVmID0gRW52ZWxvcGVDdXJ2ZXNbY3VydmVdO1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGN1cnZlRGVmKSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lICE9PSBcIl9kZWNheUN1cnZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGN1cnZlRGVmW2RpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGN1cnZlRGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoY3VydmUpICYmIG5hbWUgIT09IFwiX2RlY2F5Q3VydmVcIikge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGN1cnZlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW52ZWxvcGU6IGludmFsaWQgY3VydmU6IFwiICsgY3VydmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvZiB0aGUgYXR0YWNrLlxuICAgICAqIENhbiBiZSBhbnkgb2YgdGhlc2Ugc3RyaW5nczpcbiAgICAgKiAqIFwibGluZWFyXCJcbiAgICAgKiAqIFwiZXhwb25lbnRpYWxcIlxuICAgICAqICogXCJzaW5lXCJcbiAgICAgKiAqIFwiY29zaW5lXCJcbiAgICAgKiAqIFwiYm91bmNlXCJcbiAgICAgKiAqIFwicmlwcGxlXCJcbiAgICAgKiAqIFwic3RlcFwiXG4gICAgICpcbiAgICAgKiBDYW4gYWxzbyBiZSBhbiBhcnJheSB3aGljaCBkZXNjcmliZXMgdGhlIGN1cnZlLiBWYWx1ZXNcbiAgICAgKiBpbiB0aGUgYXJyYXkgYXJlIGV2ZW5seSBzdWJkaXZpZGVkIGFuZCBsaW5lYXJseVxuICAgICAqIGludGVycG9sYXRlZCBvdmVyIHRoZSBkdXJhdGlvbiBvZiB0aGUgYXR0YWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmV0dXJuIFRvbmUuT2ZmbGluZSgoKSA9PiB7XG4gICAgICogXHRjb25zdCBlbnYgPSBuZXcgVG9uZS5FbnZlbG9wZSgwLjQpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBcdGVudi5hdHRhY2tDdXJ2ZSA9IFwibGluZWFyXCI7XG4gICAgICogXHRlbnYudHJpZ2dlckF0dGFjaygpO1xuICAgICAqIH0sIDEsIDEpO1xuICAgICAqL1xuICAgIGdldCBhdHRhY2tDdXJ2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnZlKHRoaXMuX2F0dGFja0N1cnZlLCBcIkluXCIpO1xuICAgIH1cbiAgICBzZXQgYXR0YWNrQ3VydmUoY3VydmUpIHtcbiAgICAgICAgdGhpcy5fc2V0Q3VydmUoXCJfYXR0YWNrQ3VydmVcIiwgXCJJblwiLCBjdXJ2ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvZiB0aGUgcmVsZWFzZS4gU2VlIHRoZSBhdHRhY2sgY3VydmUgdHlwZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAgICAgKiBcdGNvbnN0IGVudiA9IG5ldyBUb25lLkVudmVsb3BlKHtcbiAgICAgKiBcdFx0cmVsZWFzZTogMC44XG4gICAgICogXHR9KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogXHRlbnYudHJpZ2dlckF0dGFjaygpO1xuICAgICAqIFx0Ly8gcmVsZWFzZSBjdXJ2ZSBjb3VsZCBhbHNvIGJlIGRlZmluZWQgYnkgYW4gYXJyYXlcbiAgICAgKiBcdGVudi5yZWxlYXNlQ3VydmUgPSBbMSwgMC4zLCAwLjQsIDAuMiwgMC43LCAwXTtcbiAgICAgKiBcdGVudi50cmlnZ2VyUmVsZWFzZSgwLjIpO1xuICAgICAqIH0sIDEsIDEpO1xuICAgICAqL1xuICAgIGdldCByZWxlYXNlQ3VydmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDdXJ2ZSh0aGlzLl9yZWxlYXNlQ3VydmUsIFwiT3V0XCIpO1xuICAgIH1cbiAgICBzZXQgcmVsZWFzZUN1cnZlKGN1cnZlKSB7XG4gICAgICAgIHRoaXMuX3NldEN1cnZlKFwiX3JlbGVhc2VDdXJ2ZVwiLCBcIk91dFwiLCBjdXJ2ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvZiB0aGUgZGVjYXkgZWl0aGVyIFwibGluZWFyXCIgb3IgXCJleHBvbmVudGlhbFwiXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAgICAgKiBcdGNvbnN0IGVudiA9IG5ldyBUb25lLkVudmVsb3BlKHtcbiAgICAgKiBcdFx0c3VzdGFpbjogMC4xLFxuICAgICAqIFx0XHRkZWNheTogMC41XG4gICAgICogXHR9KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogXHRlbnYuZGVjYXlDdXJ2ZSA9IFwibGluZWFyXCI7XG4gICAgICogXHRlbnYudHJpZ2dlckF0dGFjaygpO1xuICAgICAqIH0sIDEsIDEpO1xuICAgICAqL1xuICAgIGdldCBkZWNheUN1cnZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjYXlDdXJ2ZTtcbiAgICB9XG4gICAgc2V0IGRlY2F5Q3VydmUoY3VydmUpIHtcbiAgICAgICAgYXNzZXJ0KFtcImxpbmVhclwiLCBcImV4cG9uZW50aWFsXCJdLnNvbWUoYyA9PiBjID09PSBjdXJ2ZSksIGBJbnZhbGlkIGVudmVsb3BlIGN1cnZlOiAke2N1cnZlfWApO1xuICAgICAgICB0aGlzLl9kZWNheUN1cnZlID0gY3VydmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGF0dGFjay9kZWNheSBwb3J0aW9uIG9mIHRoZSBBRFNSIGVudmVsb3BlLlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBhdHRhY2sgc2hvdWxkIHN0YXJ0LlxuICAgICAqIEBwYXJhbSB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgb2YgdGhlIGVudmVsb3BlIHNjYWxlcyB0aGUgdmFsZXMuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciBiZXR3ZWVuIDAtMVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZW52ID0gbmV3IFRvbmUuQW1wbGl0dWRlRW52ZWxvcGUoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogY29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigpLmNvbm5lY3QoZW52KS5zdGFydCgpO1xuICAgICAqIC8vIHRyaWdnZXIgdGhlIGF0dGFjayAwLjUgc2Vjb25kcyBmcm9tIG5vdyB3aXRoIGEgdmVsb2NpdHkgb2YgMC4yXG4gICAgICogZW52LnRyaWdnZXJBdHRhY2soXCIrMC41XCIsIDAuMik7XG4gICAgICovXG4gICAgdHJpZ2dlckF0dGFjayh0aW1lLCB2ZWxvY2l0eSA9IDEpIHtcbiAgICAgICAgdGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsIHRpbWUsIHZlbG9jaXR5KTtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEF0dGFjayA9IHRoaXMudG9TZWNvbmRzKHRoaXMuYXR0YWNrKTtcbiAgICAgICAgbGV0IGF0dGFjayA9IG9yaWdpbmFsQXR0YWNrO1xuICAgICAgICBjb25zdCBkZWNheSA9IHRoaXMudG9TZWNvbmRzKHRoaXMuZGVjYXkpO1xuICAgICAgICAvLyBjaGVjayBpZiBpdCdzIG5vdCBhIGNvbXBsZXRlIGF0dGFja1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgICAgICBpZiAoY3VycmVudFZhbHVlID4gMCkge1xuICAgICAgICAgICAgLy8gc3VidHJhY3QgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSB0aGUgYXR0YWNrIHRpbWVcbiAgICAgICAgICAgIGNvbnN0IGF0dGFja1JhdGUgPSAxIC8gYXR0YWNrO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nRGlzdGFuY2UgPSAxIC0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgLy8gdGhlIGF0dGFjayBpcyBub3cgdGhlIHJlbWFpbmluZyB0aW1lXG4gICAgICAgICAgICBhdHRhY2sgPSByZW1haW5pbmdEaXN0YW5jZSAvIGF0dGFja1JhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXR0YWNrXG4gICAgICAgIGlmIChhdHRhY2sgPCB0aGlzLnNhbXBsZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGltZSk7XG4gICAgICAgICAgICAvLyBjYXNlIHdoZXJlIHRoZSBhdHRhY2sgdGltZSBpcyAwIHNob3VsZCBzZXQgaW5zdGFudGx5XG4gICAgICAgICAgICB0aGlzLl9zaWcuc2V0VmFsdWVBdFRpbWUodmVsb2NpdHksIHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2F0dGFja0N1cnZlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWcubGluZWFyUmFtcFRvKHZlbG9jaXR5LCBhdHRhY2ssIHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2F0dGFja0N1cnZlID09PSBcImV4cG9uZW50aWFsXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZy50YXJnZXRSYW1wVG8odmVsb2NpdHksIGF0dGFjaywgdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zaWcuY2FuY2VsQW5kSG9sZEF0VGltZSh0aW1lKTtcbiAgICAgICAgICAgIGxldCBjdXJ2ZSA9IHRoaXMuX2F0dGFja0N1cnZlO1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgc3RhcnRpbmcgcG9zaXRpb24gaW4gdGhlIGN1cnZlXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHN0YXJ0aW5nIGluZGV4IGlzIGJldHdlZW4gdGhlIHR3byB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoY3VydmVbaSAtIDFdIDw9IGN1cnJlbnRWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPD0gY3VydmVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VydmUgPSB0aGlzLl9hdHRhY2tDdXJ2ZS5zbGljZShpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGluZGV4IGlzIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGN1cnZlWzBdID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zaWcuc2V0VmFsdWVDdXJ2ZUF0VGltZShjdXJ2ZSwgdGltZSwgYXR0YWNrLCB2ZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVjYXlcbiAgICAgICAgaWYgKGRlY2F5ICYmIHRoaXMuc3VzdGFpbiA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY2F5VmFsdWUgPSB2ZWxvY2l0eSAqIHRoaXMuc3VzdGFpbjtcbiAgICAgICAgICAgIGNvbnN0IGRlY2F5U3RhcnQgPSB0aW1lICsgYXR0YWNrO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJkZWNheVwiLCBkZWNheVN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWNheUN1cnZlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGRlY2F5VmFsdWUsIGRlY2F5ICsgZGVjYXlTdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWcuZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKGRlY2F5VmFsdWUsIGRlY2F5U3RhcnQsIGRlY2F5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIHJlbGVhc2Ugb2YgdGhlIGVudmVsb3BlLlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSByZWxlYXNlIHBvcnRpb24gb2YgdGhlIGVudmVsb3BlIHNob3VsZCBzdGFydC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGVudiA9IG5ldyBUb25lLkFtcGxpdHVkZUVudmVsb3BlKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3Ioe1xuICAgICAqIFx0dHlwZTogXCJzYXd0b290aFwiXG4gICAgICogfSkuY29ubmVjdChlbnYpLnN0YXJ0KCk7XG4gICAgICogZW52LnRyaWdnZXJBdHRhY2soKTtcbiAgICAgKiAvLyB0cmlnZ2VyIHRoZSByZWxlYXNlIGhhbGYgYSBzZWNvbmQgYWZ0ZXIgdGhlIGF0dGFja1xuICAgICAqIGVudi50cmlnZ2VyUmVsZWFzZShcIiswLjVcIik7XG4gICAgICovXG4gICAgdHJpZ2dlclJlbGVhc2UodGltZSkge1xuICAgICAgICB0aGlzLmxvZyhcInRyaWdnZXJSZWxlYXNlXCIsIHRpbWUpO1xuICAgICAgICB0aW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWVBdFRpbWUodGltZSk7XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZWxlYXNlID0gdGhpcy50b1NlY29uZHModGhpcy5yZWxlYXNlKTtcbiAgICAgICAgICAgIGlmIChyZWxlYXNlIDwgdGhpcy5zYW1wbGVUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLnNldFZhbHVlQXRUaW1lKDAsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVsZWFzZUN1cnZlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLmxpbmVhclJhbXBUbygwLCByZWxlYXNlLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX3JlbGVhc2VDdXJ2ZSA9PT0gXCJleHBvbmVudGlhbFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnLnRhcmdldFJhbXBUbygwLCByZWxlYXNlLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2VydChpc0FycmF5KHRoaXMuX3JlbGVhc2VDdXJ2ZSksIFwicmVsZWFzZUN1cnZlIG11c3QgYmUgZWl0aGVyICdsaW5lYXInLCAnZXhwb25lbnRpYWwnIG9yIGFuIGFycmF5XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZy5jYW5jZWxBbmRIb2xkQXRUaW1lKHRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZy5zZXRWYWx1ZUN1cnZlQXRUaW1lKHRoaXMuX3JlbGVhc2VDdXJ2ZSwgdGltZSwgcmVsZWFzZSwgY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY2hlZHVsZWQgdmFsdWUgYXQgdGhlIGdpdmVuIHRpbWUuIFRoaXMgd2lsbFxuICAgICAqIHJldHVybiB0aGUgdW5jb252ZXJ0ZWQgKHJhdykgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBlbnYgPSBuZXcgVG9uZS5FbnZlbG9wZSgwLjUsIDEsIDAuNCwgMik7XG4gICAgICogZW52LnRyaWdnZXJBdHRhY2tSZWxlYXNlKDIpO1xuICAgICAqIHNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKGVudi5nZXRWYWx1ZUF0VGltZShUb25lLm5vdygpKSksIDEwMCk7XG4gICAgICovXG4gICAgZ2V0VmFsdWVBdFRpbWUodGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnLmdldFZhbHVlQXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0cmlnZ2VyQXR0YWNrUmVsZWFzZSBpcyBzaG9ydGhhbmQgZm9yIHRyaWdnZXJBdHRhY2ssIHRoZW4gd2FpdGluZ1xuICAgICAqIHNvbWUgZHVyYXRpb24sIHRoZW4gdHJpZ2dlclJlbGVhc2UuXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBvZiB0aGUgc3VzdGFpbi5cbiAgICAgKiBAcGFyYW0gdGltZSBXaGVuIHRoZSBhdHRhY2sgc2hvdWxkIGJlIHRyaWdnZXJlZC5cbiAgICAgKiBAcGFyYW0gdmVsb2NpdHkgVGhlIHZlbG9jaXR5IG9mIHRoZSBlbnZlbG9wZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGVudiA9IG5ldyBUb25lLkFtcGxpdHVkZUVudmVsb3BlKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS5jb25uZWN0KGVudikuc3RhcnQoKTtcbiAgICAgKiAvLyB0cmlnZ2VyIHRoZSByZWxlYXNlIDAuNSBzZWNvbmRzIGFmdGVyIHRoZSBhdHRhY2tcbiAgICAgKiBlbnYudHJpZ2dlckF0dGFja1JlbGVhc2UoMC41KTtcbiAgICAgKi9cbiAgICB0cmlnZ2VyQXR0YWNrUmVsZWFzZShkdXJhdGlvbiwgdGltZSwgdmVsb2NpdHkgPSAxKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQXR0YWNrKHRpbWUsIHZlbG9jaXR5KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyUmVsZWFzZSh0aW1lICsgdGhpcy50b1NlY29uZHMoZHVyYXRpb24pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYWxsIHNjaGVkdWxlZCBlbnZlbG9wZSBjaGFuZ2VzIGFmdGVyIHRoZSBnaXZlbiB0aW1lLlxuICAgICAqL1xuICAgIGNhbmNlbChhZnRlcikge1xuICAgICAgICB0aGlzLl9zaWcuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRoaXMudG9TZWNvbmRzKGFmdGVyKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRoZSBlbnZlbG9wZSB0byBhIGRlc3RpbmF0aW9uIG5vZGUuXG4gICAgICovXG4gICAgY29ubmVjdChkZXN0aW5hdGlvbiwgb3V0cHV0TnVtYmVyID0gMCwgaW5wdXROdW1iZXIgPSAwKSB7XG4gICAgICAgIGNvbm5lY3RTaWduYWwodGhpcywgZGVzdGluYXRpb24sIG91dHB1dE51bWJlciwgaW5wdXROdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBlbnZlbG9wZSBjdXJ2ZSB0byBhbiBhcnJheSBvZiB0aGUgZ2l2ZW4gbGVuZ3RoLlxuICAgICAqIEdvb2QgZm9yIHZpc3VhbGl6aW5nIHRoZSBlbnZlbG9wZSBjdXJ2ZS4gUmVzY2FsZXMgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICAgICAqIGVudmVsb3BlIHRvIGZpdCB0aGUgbGVuZ3RoLlxuICAgICAqL1xuICAgIGFzQXJyYXkobGVuZ3RoID0gMTAyNCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBsZW5ndGggLyB0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgT2ZmbGluZUNvbnRleHQoMSwgZHVyYXRpb24sIHRoaXMuY29udGV4dC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgQURTUiBmb3IgdGhlIGdpdmVuIGR1cmF0aW9uIHdpdGggMjAlIHN1c3RhaW4gdGltZVxuICAgICAgICAgICAgY29uc3QgYXR0YWNrUG9ydGlvbiA9IHRoaXMudG9TZWNvbmRzKHRoaXMuYXR0YWNrKSArIHRoaXMudG9TZWNvbmRzKHRoaXMuZGVjYXkpO1xuICAgICAgICAgICAgY29uc3QgZW52ZWxvcGVEdXJhdGlvbiA9IGF0dGFja1BvcnRpb24gKyB0aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpO1xuICAgICAgICAgICAgY29uc3Qgc3VzdGFpblRpbWUgPSBlbnZlbG9wZUR1cmF0aW9uICogMC4xO1xuICAgICAgICAgICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IGVudmVsb3BlRHVyYXRpb24gKyBzdXN0YWluVGltZTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IoT2JqZWN0LmFzc2lnbih0aGlzLmdldCgpLCB7XG4gICAgICAgICAgICAgICAgYXR0YWNrOiBkdXJhdGlvbiAqIHRoaXMudG9TZWNvbmRzKHRoaXMuYXR0YWNrKSAvIHRvdGFsRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZGVjYXk6IGR1cmF0aW9uICogdGhpcy50b1NlY29uZHModGhpcy5kZWNheSkgLyB0b3RhbER1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHJlbGVhc2U6IGR1cmF0aW9uICogdGhpcy50b1NlY29uZHModGhpcy5yZWxlYXNlKSAvIHRvdGFsRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2xvbmUuX3NpZy50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICAgICAgICBjbG9uZS50cmlnZ2VyQXR0YWNrUmVsZWFzZShkdXJhdGlvbiAqIChhdHRhY2tQb3J0aW9uICsgc3VzdGFpblRpbWUpIC8gdG90YWxEdXJhdGlvbiwgMCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB5aWVsZCBjb250ZXh0LnJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fc2lnLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgdGltZVJhbmdlKDApXG5dLCBFbnZlbG9wZS5wcm90b3R5cGUsIFwiYXR0YWNrXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIEVudmVsb3BlLnByb3RvdHlwZSwgXCJkZWNheVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcmFuZ2UoMCwgMSlcbl0sIEVudmVsb3BlLnByb3RvdHlwZSwgXCJzdXN0YWluXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIEVudmVsb3BlLnByb3RvdHlwZSwgXCJyZWxlYXNlXCIsIHZvaWQgMCk7XG4vKipcbiAqIEdlbmVyYXRlIHNvbWUgY29tcGxleCBlbnZlbG9wZSBjdXJ2ZXMuXG4gKi9cbmNvbnN0IEVudmVsb3BlQ3VydmVzID0gKCgpID0+IHtcbiAgICBjb25zdCBjdXJ2ZUxlbiA9IDEyODtcbiAgICBsZXQgaTtcbiAgICBsZXQgaztcbiAgICAvLyBjb3NpbmUgY3VydmVcbiAgICBjb25zdCBjb3NpbmVDdXJ2ZSA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjdXJ2ZUxlbjsgaSsrKSB7XG4gICAgICAgIGNvc2luZUN1cnZlW2ldID0gTWF0aC5zaW4oKGkgLyAoY3VydmVMZW4gLSAxKSkgKiAoTWF0aC5QSSAvIDIpKTtcbiAgICB9XG4gICAgLy8gcmlwcGxlIGN1cnZlXG4gICAgY29uc3QgcmlwcGxlQ3VydmUgPSBbXTtcbiAgICBjb25zdCByaXBwbGVDdXJ2ZUZyZXEgPSA2LjQ7XG4gICAgZm9yIChpID0gMDsgaSA8IGN1cnZlTGVuIC0gMTsgaSsrKSB7XG4gICAgICAgIGsgPSAoaSAvIChjdXJ2ZUxlbiAtIDEpKTtcbiAgICAgICAgY29uc3Qgc2luZVdhdmUgPSBNYXRoLnNpbihrICogKE1hdGguUEkgKiAyKSAqIHJpcHBsZUN1cnZlRnJlcSAtIE1hdGguUEkgLyAyKSArIDE7XG4gICAgICAgIHJpcHBsZUN1cnZlW2ldID0gc2luZVdhdmUgLyAxMCArIGsgKiAwLjgzO1xuICAgIH1cbiAgICByaXBwbGVDdXJ2ZVtjdXJ2ZUxlbiAtIDFdID0gMTtcbiAgICAvLyBzdGFpcnMgY3VydmVcbiAgICBjb25zdCBzdGFpcnNDdXJ2ZSA9IFtdO1xuICAgIGNvbnN0IHN0ZXBzID0gNTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY3VydmVMZW47IGkrKykge1xuICAgICAgICBzdGFpcnNDdXJ2ZVtpXSA9IE1hdGguY2VpbCgoaSAvIChjdXJ2ZUxlbiAtIDEpKSAqIHN0ZXBzKSAvIHN0ZXBzO1xuICAgIH1cbiAgICAvLyBpbi1vdXQgZWFzaW5nIGN1cnZlXG4gICAgY29uc3Qgc2luZUN1cnZlID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGN1cnZlTGVuOyBpKyspIHtcbiAgICAgICAgayA9IGkgLyAoY3VydmVMZW4gLSAxKTtcbiAgICAgICAgc2luZUN1cnZlW2ldID0gMC41ICogKDEgLSBNYXRoLmNvcyhNYXRoLlBJICogaykpO1xuICAgIH1cbiAgICAvLyBhIGJvdW5jZSBjdXJ2ZVxuICAgIGNvbnN0IGJvdW5jZUN1cnZlID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGN1cnZlTGVuOyBpKyspIHtcbiAgICAgICAgayA9IGkgLyAoY3VydmVMZW4gLSAxKTtcbiAgICAgICAgY29uc3QgZnJlcSA9IE1hdGgucG93KGssIDMpICogNCArIDAuMjtcbiAgICAgICAgY29uc3QgdmFsID0gTWF0aC5jb3MoZnJlcSAqIE1hdGguUEkgKiAyICogayk7XG4gICAgICAgIGJvdW5jZUN1cnZlW2ldID0gTWF0aC5hYnModmFsICogKDEgLSBrKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludmVydCBhIHZhbHVlIGN1cnZlIHRvIG1ha2UgaXQgd29yayBmb3IgdGhlIHJlbGVhc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnRDdXJ2ZShjdXJ2ZSkge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgQXJyYXkoY3VydmUubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJ2ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgb3V0W2pdID0gMSAtIGN1cnZlW2pdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJldmVyc2UgdGhlIGN1cnZlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZUN1cnZlKGN1cnZlKSB7XG4gICAgICAgIHJldHVybiBjdXJ2ZS5zbGljZSgwKS5yZXZlcnNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGF0dGFjayBhbmQgcmVsZWFzZSBjdXJ2ZSBhcnJheXNcbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICBib3VuY2U6IHtcbiAgICAgICAgICAgIEluOiBpbnZlcnRDdXJ2ZShib3VuY2VDdXJ2ZSksXG4gICAgICAgICAgICBPdXQ6IGJvdW5jZUN1cnZlLFxuICAgICAgICB9LFxuICAgICAgICBjb3NpbmU6IHtcbiAgICAgICAgICAgIEluOiBjb3NpbmVDdXJ2ZSxcbiAgICAgICAgICAgIE91dDogcmV2ZXJzZUN1cnZlKGNvc2luZUN1cnZlKSxcbiAgICAgICAgfSxcbiAgICAgICAgZXhwb25lbnRpYWw6IFwiZXhwb25lbnRpYWxcIixcbiAgICAgICAgbGluZWFyOiBcImxpbmVhclwiLFxuICAgICAgICByaXBwbGU6IHtcbiAgICAgICAgICAgIEluOiByaXBwbGVDdXJ2ZSxcbiAgICAgICAgICAgIE91dDogaW52ZXJ0Q3VydmUocmlwcGxlQ3VydmUpLFxuICAgICAgICB9LFxuICAgICAgICBzaW5lOiB7XG4gICAgICAgICAgICBJbjogc2luZUN1cnZlLFxuICAgICAgICAgICAgT3V0OiBpbnZlcnRDdXJ2ZShzaW5lQ3VydmUpLFxuICAgICAgICB9LFxuICAgICAgICBzdGVwOiB7XG4gICAgICAgICAgICBJbjogc3RhaXJzQ3VydmUsXG4gICAgICAgICAgICBPdXQ6IGludmVydEN1cnZlKHN0YWlyc0N1cnZlKSxcbiAgICAgICAgfSxcbiAgICB9O1xufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVudmVsb3BlLmpzLm1hcCIsImltcG9ydCB7IFZvbHVtZSB9IGZyb20gXCIuLi9jb21wb25lbnQvY2hhbm5lbC9Wb2x1bWVcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuLyoqXG4gKiBCYXNlLWNsYXNzIGZvciBhbGwgaW5zdHJ1bWVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIEluc3RydW1lbnQgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoSW5zdHJ1bWVudC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgYWxsIGV2ZW50cyBzY2hlZHVsZWQgdG8gdGhlIHRyYW5zcG9ydFxuICAgICAgICAgKiB3aGVuIHRoZSBpbnN0cnVtZW50IGlzICdzeW5jZWQnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWRFdmVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbnN0cnVtZW50IGlzIGN1cnJlbnRseSBzeW5jZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N5bmNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbF90cmlnZ2VyQXR0YWNrID0gdGhpcy50cmlnZ2VyQXR0YWNrO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbF90cmlnZ2VyUmVsZWFzZSA9IHRoaXMudHJpZ2dlclJlbGVhc2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhJbnN0cnVtZW50LmdldERlZmF1bHRzKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3ZvbHVtZSA9IHRoaXMub3V0cHV0ID0gbmV3IFZvbHVtZSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB2b2x1bWU6IG9wdGlvbnMudm9sdW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLl92b2x1bWUudm9sdW1lO1xuICAgICAgICByZWFkT25seSh0aGlzLCBcInZvbHVtZVwiKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIHZvbHVtZTogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmMgdGhlIGluc3RydW1lbnQgdG8gdGhlIFRyYW5zcG9ydC4gQWxsIHN1YnNlcXVlbnQgY2FsbHMgb2ZcbiAgICAgKiBbW3RyaWdnZXJBdHRhY2tdXSBhbmQgW1t0cmlnZ2VyUmVsZWFzZV1dIHdpbGwgYmUgc2NoZWR1bGVkIGFsb25nIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBmbVN5bnRoID0gbmV3IFRvbmUuRk1TeW50aCgpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBmbVN5bnRoLnZvbHVtZS52YWx1ZSA9IC02O1xuICAgICAqIGZtU3ludGguc3luYygpO1xuICAgICAqIC8vIHNjaGVkdWxlIDMgbm90ZXMgd2hlbiB0aGUgdHJhbnNwb3J0IGZpcnN0IHN0YXJ0c1xuICAgICAqIGZtU3ludGgudHJpZ2dlckF0dGFja1JlbGVhc2UoXCJDNFwiLCBcIjhuXCIsIDApO1xuICAgICAqIGZtU3ludGgudHJpZ2dlckF0dGFja1JlbGVhc2UoXCJFNFwiLCBcIjhuXCIsIFwiOG5cIik7XG4gICAgICogZm1TeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcIkc0XCIsIFwiOG5cIiwgXCI0blwiKTtcbiAgICAgKiAvLyBzdGFydCB0aGUgdHJhbnNwb3J0IHRvIGhlYXIgdGhlIG5vdGVzXG4gICAgICogVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgKi9cbiAgICBzeW5jKCkge1xuICAgICAgICBpZiAodGhpcy5fc3luY1N0YXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsIDEpO1xuICAgICAgICAgICAgdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXQgX3N5bmNcbiAgICAgKi9cbiAgICBfc3luY1N0YXRlKCkge1xuICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuX3N5bmNlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3luY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcmFwIHRoZSBnaXZlbiBtZXRob2Qgc28gdGhhdCBpdCBjYW4gYmUgc3luY2hyb25pemVkXG4gICAgICogQHBhcmFtIG1ldGhvZCBXaGljaCBtZXRob2QgdG8gd3JhcCBhbmQgc3luY1xuICAgICAqIEBwYXJhbSAgdGltZVBvc2l0aW9uIFdoYXQgcG9zaXRpb24gdGhlIHRpbWUgYXJndW1lbnQgYXBwZWFycyBpblxuICAgICAqL1xuICAgIF9zeW5jTWV0aG9kKG1ldGhvZCwgdGltZVBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gdGhpc1tcIl9vcmlnaW5hbF9cIiArIG1ldGhvZF0gPSB0aGlzW21ldGhvZF07XG4gICAgICAgIHRoaXNbbWV0aG9kXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gYXJnc1t0aW1lUG9zaXRpb25dO1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNjaGVkdWxlKCh0KSA9PiB7XG4gICAgICAgICAgICAgICAgYXJnc1t0aW1lUG9zaXRpb25dID0gdDtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0sIHRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVkRXZlbnRzLnB1c2goaWQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN5bmMgdGhlIGluc3RydW1lbnQgZnJvbSB0aGUgVHJhbnNwb3J0XG4gICAgICovXG4gICAgdW5zeW5jKCkge1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWRFdmVudHMuZm9yRWFjaChpZCA9PiB0aGlzLmNvbnRleHQudHJhbnNwb3J0LmNsZWFyKGlkKSk7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlZEV2ZW50cyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5fc3luY2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckF0dGFjayA9IHRoaXMuX29yaWdpbmFsX3RyaWdnZXJBdHRhY2s7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJSZWxlYXNlID0gdGhpcy5fb3JpZ2luYWxfdHJpZ2dlclJlbGVhc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGF0dGFjayBhbmQgdGhlbiB0aGUgcmVsZWFzZSBhZnRlciB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICBub3RlICAgICBUaGUgbm90ZSB0byB0cmlnZ2VyLlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gSG93IGxvbmcgdGhlIG5vdGUgc2hvdWxkIGJlIGhlbGQgZm9yIGJlZm9yZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJpbmcgdGhlIHJlbGVhc2UuIFRoaXMgdmFsdWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC5cbiAgICAgKiBAcGFyYW0gdGltZSAgV2hlbiB0aGUgbm90ZSBzaG91bGQgYmUgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSAgdmVsb2NpdHkgVGhlIHZlbG9jaXR5IHRoZSBub3RlIHNob3VsZCBiZSB0cmlnZ2VyZWQgYXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzeW50aCA9IG5ldyBUb25lLlN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIHRyaWdnZXIgXCJDNFwiIGZvciB0aGUgZHVyYXRpb24gb2YgYW4gOHRoIG5vdGVcbiAgICAgKiBzeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcIkM0XCIsIFwiOG5cIik7XG4gICAgICovXG4gICAgdHJpZ2dlckF0dGFja1JlbGVhc2Uobm90ZSwgZHVyYXRpb24sIHRpbWUsIHZlbG9jaXR5KSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBjb21wdXRlZER1cmF0aW9uID0gdGhpcy50b1NlY29uZHMoZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnRyaWdnZXJBdHRhY2sobm90ZSwgY29tcHV0ZWRUaW1lLCB2ZWxvY2l0eSk7XG4gICAgICAgIHRoaXMudHJpZ2dlclJlbGVhc2UoY29tcHV0ZWRUaW1lICsgY29tcHV0ZWREdXJhdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhbiB1cFxuICAgICAqIEByZXR1cm5zIHtJbnN0cnVtZW50fSB0aGlzXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl92b2x1bWUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnVuc3luYygpO1xuICAgICAgICB0aGlzLl9zY2hlZHVsZWRFdmVudHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5zdHJ1bWVudC5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBGcmVxdWVuY3lDbGFzcyB9IGZyb20gXCIuLi9jb3JlL3R5cGUvRnJlcXVlbmN5XCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IG5vT3AgfSBmcm9tIFwiLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgSW5zdHJ1bWVudCB9IGZyb20gXCIuLi9pbnN0cnVtZW50L0luc3RydW1lbnRcIjtcbmltcG9ydCB7IHRpbWVSYW5nZSB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVjb3JhdG9yXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIG90aGVyIG1vbm9waG9uaWMgaW5zdHJ1bWVudHMgdG8gZXh0ZW5kLlxuICovXG5leHBvcnQgY2xhc3MgTW9ub3Bob25pYyBleHRlbmRzIEluc3RydW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhNb25vcGhvbmljLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cykpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoTW9ub3Bob25pYy5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnBvcnRhbWVudG8gPSBvcHRpb25zLnBvcnRhbWVudG87XG4gICAgICAgIHRoaXMub25zaWxlbmNlID0gb3B0aW9ucy5vbnNpbGVuY2U7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oSW5zdHJ1bWVudC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBkZXR1bmU6IDAsXG4gICAgICAgICAgICBvbnNpbGVuY2U6IG5vT3AsXG4gICAgICAgICAgICBwb3J0YW1lbnRvOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgYXR0YWNrIG9mIHRoZSBub3RlIG9wdGlvbmFsbHkgd2l0aCBhIGdpdmVuIHZlbG9jaXR5LlxuICAgICAqIEBwYXJhbSAgbm90ZSBUaGUgbm90ZSB0byB0cmlnZ2VyLlxuICAgICAqIEBwYXJhbSAgdGltZSBXaGVuIHRoZSBub3RlIHNob3VsZCBzdGFydC5cbiAgICAgKiBAcGFyYW0gIHZlbG9jaXR5IFRoZSB2ZWxvY2l0eSBzY2FsZXIgZGV0ZXJtaW5lcyBob3cgXCJsb3VkXCIgdGhlIG5vdGUgd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzeW50aCA9IG5ldyBUb25lLlN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICAgICAqIC8vIHRyaWdnZXIgdGhlIG5vdGUgYSBoYWxmIHNlY29uZCBmcm9tIG5vdyBhdCBoYWxmIHZlbG9jaXR5XG4gICAgICogc3ludGgudHJpZ2dlckF0dGFjayhcIkM0XCIsIFwiKzAuNVwiLCAwLjUpO1xuICAgICAqL1xuICAgIHRyaWdnZXJBdHRhY2sobm90ZSwgdGltZSwgdmVsb2NpdHkgPSAxKSB7XG4gICAgICAgIHRoaXMubG9nKFwidHJpZ2dlckF0dGFja1wiLCBub3RlLCB0aW1lLCB2ZWxvY2l0eSk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHNlY29uZHMsIHZlbG9jaXR5KTtcbiAgICAgICAgdGhpcy5zZXROb3RlKG5vdGUsIHNlY29uZHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgcmVsZWFzZSBwb3J0aW9uIG9mIHRoZSBlbnZlbG9wZVxuICAgICAqIEBwYXJhbSAgdGltZSBJZiBubyB0aW1lIGlzIGdpdmVuLCB0aGUgcmVsZWFzZSBoYXBwZW5zIGltbWVkaWF0bHlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN5bnRoID0gbmV3IFRvbmUuU3ludGgoKS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgICogc3ludGgudHJpZ2dlckF0dGFjayhcIkM0XCIpO1xuICAgICAqIC8vIHRyaWdnZXIgdGhlIHJlbGVhc2UgYSBzZWNvbmQgZnJvbSBub3dcbiAgICAgKiBzeW50aC50cmlnZ2VyUmVsZWFzZShcIisxXCIpO1xuICAgICAqL1xuICAgIHRyaWdnZXJSZWxlYXNlKHRpbWUpIHtcbiAgICAgICAgdGhpcy5sb2coXCJ0cmlnZ2VyUmVsZWFzZVwiLCB0aW1lKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlKHNlY29uZHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBub3RlIGF0IHRoZSBnaXZlbiB0aW1lLiBJZiBubyB0aW1lIGlzIGdpdmVuLCB0aGUgbm90ZVxuICAgICAqIHdpbGwgc2V0IGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSBub3RlIFRoZSBub3RlIHRvIGNoYW5nZSB0by5cbiAgICAgKiBAcGFyYW0gIHRpbWUgVGhlIHRpbWUgd2hlbiB0aGUgbm90ZSBzaG91bGQgYmUgc2V0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ludGggPSBuZXcgVG9uZS5TeW50aCgpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgKiBzeW50aC50cmlnZ2VyQXR0YWNrKFwiQzRcIik7XG4gICAgICogLy8gY2hhbmdlIHRvIEYjNiBpbiBvbmUgcXVhcnRlciBub3RlIGZyb20gbm93LlxuICAgICAqIHN5bnRoLnNldE5vdGUoXCJGIzZcIiwgXCIrNG5cIik7XG4gICAgICovXG4gICAgc2V0Tm90ZShub3RlLCB0aW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkVGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBjb21wdXRlZEZyZXF1ZW5jeSA9IG5vdGUgaW5zdGFuY2VvZiBGcmVxdWVuY3lDbGFzcyA/IG5vdGUudG9GcmVxdWVuY3koKSA6IG5vdGU7XG4gICAgICAgIGlmICh0aGlzLnBvcnRhbWVudG8gPiAwICYmIHRoaXMuZ2V0TGV2ZWxBdFRpbWUoY29tcHV0ZWRUaW1lKSA+IDAuMDUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcnRUaW1lID0gdGhpcy50b1NlY29uZHModGhpcy5wb3J0YW1lbnRvKTtcbiAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvKGNvbXB1dGVkRnJlcXVlbmN5LCBwb3J0VGltZSwgY29tcHV0ZWRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKGNvbXB1dGVkRnJlcXVlbmN5LCBjb21wdXRlZFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgTW9ub3Bob25pYy5wcm90b3R5cGUsIFwicG9ydGFtZW50b1wiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9ub3Bob25pYy5qcy5tYXAiLCJpbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IEVudmVsb3BlIH0gZnJvbSBcIi4vRW52ZWxvcGVcIjtcbi8qKlxuICogQW1wbGl0dWRlRW52ZWxvcGUgaXMgYSBUb25lLkVudmVsb3BlIGNvbm5lY3RlZCB0byBhIGdhaW4gbm9kZS5cbiAqIFVubGlrZSBUb25lLkVudmVsb3BlLCB3aGljaCBvdXRwdXRzIHRoZSBlbnZlbG9wZSdzIHZhbHVlLCBBbXBsaXR1ZGVFbnZlbG9wZSBhY2NlcHRzXG4gKiBhbiBhdWRpbyBzaWduYWwgYXMgdGhlIGlucHV0IGFuZCB3aWxsIGFwcGx5IHRoZSBlbnZlbG9wZSB0byB0aGUgYW1wbGl0dWRlXG4gKiBvZiB0aGUgc2lnbmFsLlxuICogUmVhZCBtb3JlIGFib3V0IEFEU1IgRW52ZWxvcGVzIG9uIFtXaWtpcGVkaWFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bnRoZXNpemVyI0FEU1JfZW52ZWxvcGUpLlxuICpcbiAqIEBleGFtcGxlXG4gKiByZXR1cm4gVG9uZS5PZmZsaW5lKCgpID0+IHtcbiAqIFx0Y29uc3QgYW1wRW52ID0gbmV3IFRvbmUuQW1wbGl0dWRlRW52ZWxvcGUoe1xuICogXHRcdGF0dGFjazogMC4xLFxuICogXHRcdGRlY2F5OiAwLjIsXG4gKiBcdFx0c3VzdGFpbjogMS4wLFxuICogXHRcdHJlbGVhc2U6IDAuOFxuICogXHR9KS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBcdC8vIGNyZWF0ZSBhbiBvc2NpbGxhdG9yIGFuZCBjb25uZWN0IGl0XG4gKiBcdGNvbnN0IG9zYyA9IG5ldyBUb25lLk9zY2lsbGF0b3IoKS5jb25uZWN0KGFtcEVudikuc3RhcnQoKTtcbiAqIFx0Ly8gdHJpZ2dlciB0aGUgZW52ZWxvcGVzIGF0dGFjayBhbmQgcmVsZWFzZSBcIjh0XCIgYXBhcnRcbiAqIFx0YW1wRW52LnRyaWdnZXJBdHRhY2tSZWxlYXNlKFwiOHRcIik7XG4gKiB9LCAxLjUsIDEpO1xuICogQGNhdGVnb3J5IENvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgQW1wbGl0dWRlRW52ZWxvcGUgZXh0ZW5kcyBFbnZlbG9wZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKEFtcGxpdHVkZUVudmVsb3BlLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wiYXR0YWNrXCIsIFwiZGVjYXlcIiwgXCJzdXN0YWluXCIsIFwicmVsZWFzZVwiXSkpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFtcGxpdHVkZUVudmVsb3BlXCI7XG4gICAgICAgIHRoaXMuX2dhaW5Ob2RlID0gbmV3IEdhaW4oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgZ2FpbjogMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fZ2Fpbk5vZGU7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLl9nYWluTm9kZTtcbiAgICAgICAgdGhpcy5fc2lnLmNvbm5lY3QodGhpcy5fZ2Fpbk5vZGUuZ2Fpbik7XG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5fZ2Fpbk5vZGU7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLl9nYWluTm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2dhaW5Ob2RlLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW1wbGl0dWRlRW52ZWxvcGUuanMubWFwIiwiaW1wb3J0IHsgQW1wbGl0dWRlRW52ZWxvcGUgfSBmcm9tIFwiLi4vY29tcG9uZW50L2VudmVsb3BlL0FtcGxpdHVkZUVudmVsb3BlXCI7XG5pbXBvcnQgeyBFbnZlbG9wZSB9IGZyb20gXCIuLi9jb21wb25lbnQvZW52ZWxvcGUvRW52ZWxvcGVcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9taXRGcm9tT2JqZWN0LCBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE9tbmlPc2NpbGxhdG9yIH0gZnJvbSBcIi4uL3NvdXJjZS9vc2NpbGxhdG9yL09tbmlPc2NpbGxhdG9yXCI7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tIFwiLi4vc291cmNlL1NvdXJjZVwiO1xuaW1wb3J0IHsgTW9ub3Bob25pYyB9IGZyb20gXCIuL01vbm9waG9uaWNcIjtcbi8qKlxuICogU3ludGggaXMgY29tcG9zZWQgc2ltcGx5IG9mIGEgW1tPbW5pT3NjaWxsYXRvcl1dIHJvdXRlZCB0aHJvdWdoIGFuIFtbQW1wbGl0dWRlRW52ZWxvcGVdXS5cbiAqIGBgYFxuICogKy0tLS0tLS0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiB8IE9tbmlPc2NpbGxhdG9yICs+LS0+IEFtcGxpdHVkZUVudmVsb3BlICs+LS0+IE91dHB1dFxuICogKy0tLS0tLS0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiBgYGBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzeW50aCA9IG5ldyBUb25lLlN5bnRoKCkudG9EZXN0aW5hdGlvbigpO1xuICogc3ludGgudHJpZ2dlckF0dGFja1JlbGVhc2UoXCJDNFwiLCBcIjhuXCIpO1xuICogQGNhdGVnb3J5IEluc3RydW1lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFN5bnRoIGV4dGVuZHMgTW9ub3Bob25pYyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnNGcm9tQXJndW1lbnRzKFN5bnRoLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cykpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlN5bnRoXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhTeW50aC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm9zY2lsbGF0b3IgPSBuZXcgT21uaU9zY2lsbGF0b3IoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBkZXR1bmU6IG9wdGlvbnMuZGV0dW5lLFxuICAgICAgICAgICAgb25zdG9wOiAoKSA9PiB0aGlzLm9uc2lsZW5jZSh0aGlzKSxcbiAgICAgICAgfSwgb3B0aW9ucy5vc2NpbGxhdG9yKSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gdGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeTtcbiAgICAgICAgdGhpcy5kZXR1bmUgPSB0aGlzLm9zY2lsbGF0b3IuZGV0dW5lO1xuICAgICAgICB0aGlzLmVudmVsb3BlID0gbmV3IEFtcGxpdHVkZUVudmVsb3BlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICB9LCBvcHRpb25zLmVudmVsb3BlKSk7XG4gICAgICAgIC8vIGNvbm5lY3QgdGhlIG9zY2lsbGF0b3JzIHRvIHRoZSBvdXRwdXRcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9yLmNoYWluKHRoaXMuZW52ZWxvcGUsIHRoaXMub3V0cHV0KTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wib3NjaWxsYXRvclwiLCBcImZyZXF1ZW5jeVwiLCBcImRldHVuZVwiLCBcImVudmVsb3BlXCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihNb25vcGhvbmljLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIGVudmVsb3BlOiBPYmplY3QuYXNzaWduKG9taXRGcm9tT2JqZWN0KEVudmVsb3BlLmdldERlZmF1bHRzKCksIE9iamVjdC5rZXlzKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSkpLCB7XG4gICAgICAgICAgICAgICAgYXR0YWNrOiAwLjAwNSxcbiAgICAgICAgICAgICAgICBkZWNheTogMC4xLFxuICAgICAgICAgICAgICAgIHJlbGVhc2U6IDEsXG4gICAgICAgICAgICAgICAgc3VzdGFpbjogMC4zLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvc2NpbGxhdG9yOiBPYmplY3QuYXNzaWduKG9taXRGcm9tT2JqZWN0KE9tbmlPc2NpbGxhdG9yLmdldERlZmF1bHRzKCksIFsuLi5PYmplY3Qua2V5cyhTb3VyY2UuZ2V0RGVmYXVsdHMoKSksIFwiZnJlcXVlbmN5XCIsIFwiZGV0dW5lXCJdKSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidHJpYW5nbGVcIixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdGhlIGF0dGFjayBwb3J0aW9uIG9mIHRoZSBlbnZlbG9wZVxuICAgICAqIEBwYXJhbSB0aW1lIHRoZSB0aW1lIHRoZSBhdHRhY2sgc2hvdWxkIHN0YXJ0XG4gICAgICogQHBhcmFtIHZlbG9jaXR5IHRoZSB2ZWxvY2l0eSBvZiB0aGUgbm90ZSAoMC0xKVxuICAgICAqL1xuICAgIF90cmlnZ2VyRW52ZWxvcGVBdHRhY2sodGltZSwgdmVsb2NpdHkpIHtcbiAgICAgICAgLy8gdGhlIGVudmVsb3Blc1xuICAgICAgICB0aGlzLmVudmVsb3BlLnRyaWdnZXJBdHRhY2sodGltZSwgdmVsb2NpdHkpO1xuICAgICAgICB0aGlzLm9zY2lsbGF0b3Iuc3RhcnQodGltZSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHJlbGVhc2UgcG9ydGlvbiwgc3RvcCB0aGUgb3NjaWxsYXRvclxuICAgICAgICBpZiAodGhpcy5lbnZlbG9wZS5zdXN0YWluID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZEF0dGFjayA9IHRoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUuYXR0YWNrKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkRGVjYXkgPSB0aGlzLnRvU2Vjb25kcyh0aGlzLmVudmVsb3BlLmRlY2F5KTtcbiAgICAgICAgICAgIHRoaXMub3NjaWxsYXRvci5zdG9wKHRpbWUgKyBjb21wdXRlZEF0dGFjayArIGNvbXB1dGVkRGVjYXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0IHRoZSByZWxlYXNlIHBvcnRpb24gb2YgdGhlIGVudmVsb3BlXG4gICAgICogQHBhcmFtIHRpbWUgdGhlIHRpbWUgdGhlIHJlbGVhc2Ugc2hvdWxkIHN0YXJ0XG4gICAgICovXG4gICAgX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodGltZSkge1xuICAgICAgICB0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHRpbWUpO1xuICAgICAgICB0aGlzLm9zY2lsbGF0b3Iuc3RvcCh0aW1lICsgdGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5yZWxlYXNlKSk7XG4gICAgfVxuICAgIGdldExldmVsQXRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbnZlbG9wZS5nZXRWYWx1ZUF0VGltZSh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYW4gdXBcbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMub3NjaWxsYXRvci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZW52ZWxvcGUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TeW50aC5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBGcmVxdWVuY3lDbGFzcyB9IGZyb20gXCIuLi9jb3JlL3R5cGUvRnJlcXVlbmN5XCI7XG5pbXBvcnQgeyBkZWVwTWVyZ2UsIG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgcmVhZE9ubHkgfSBmcm9tIFwiLi4vY29yZS91dGlsL0ludGVyZmFjZVwiO1xuaW1wb3J0IHsgTW9ub3Bob25pYyB9IGZyb20gXCIuL01vbm9waG9uaWNcIjtcbmltcG9ydCB7IFN5bnRoIH0gZnJvbSBcIi4vU3ludGhcIjtcbmltcG9ydCB7IHJhbmdlLCB0aW1lUmFuZ2UgfSBmcm9tIFwiLi4vY29yZS91dGlsL0RlY29yYXRvclwiO1xuLyoqXG4gKiBNZW1icmFuZVN5bnRoIG1ha2VzIGtpY2sgYW5kIHRvbSBzb3VuZHMgdXNpbmcgYSBzaW5nbGUgb3NjaWxsYXRvclxuICogd2l0aCBhbiBhbXBsaXR1ZGUgZW52ZWxvcGUgYW5kIGZyZXF1ZW5jeSByYW1wLiBBIFRvbmUuT21uaU9zY2lsbGF0b3JcbiAqIGlzIHJvdXRlZCB0aHJvdWdoIGEgVG9uZS5BbXBsaXR1ZGVFbnZlbG9wZSB0byB0aGUgb3V0cHV0LiBUaGUgZHJ1bVxuICogcXVhbGl0eSBvZiB0aGUgc291bmQgY29tZXMgZnJvbSB0aGUgZnJlcXVlbmN5IGVudmVsb3BlIGFwcGxpZWRcbiAqIGR1cmluZyBNZW1icmFuZVN5bnRoLnRyaWdnZXJBdHRhY2sobm90ZSkuIFRoZSBmcmVxdWVuY3kgZW52ZWxvcGVcbiAqIHN0YXJ0cyBhdCA8Y29kZT5ub3RlICogLm9jdGF2ZXM8L2NvZGU+IGFuZCByYW1wcyB0byA8Y29kZT5ub3RlPC9jb2RlPlxuICogb3ZlciB0aGUgZHVyYXRpb24gb2YgPGNvZGU+LnBpdGNoRGVjYXk8L2NvZGU+LlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHN5bnRoID0gbmV3IFRvbmUuTWVtYnJhbmVTeW50aCgpLnRvRGVzdGluYXRpb24oKTtcbiAqIHN5bnRoLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFwiQzJcIiwgXCI4blwiKTtcbiAqIEBjYXRlZ29yeSBJbnN0cnVtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBNZW1icmFuZVN5bnRoIGV4dGVuZHMgU3ludGgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhNZW1icmFuZVN5bnRoLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cykpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1lbWJyYW5lU3ludGhcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvcnRhbWVudG8gaXMgaWdub3JlZCBpbiB0aGlzIHN5bnRoLiB1c2UgcGl0Y2ggZGVjYXkgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9ydGFtZW50byA9IDA7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhNZW1icmFuZVN5bnRoLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucGl0Y2hEZWNheSA9IG9wdGlvbnMucGl0Y2hEZWNheTtcbiAgICAgICAgdGhpcy5vY3RhdmVzID0gb3B0aW9ucy5vY3RhdmVzO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJvc2NpbGxhdG9yXCIsIFwiZW52ZWxvcGVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBkZWVwTWVyZ2UoTW9ub3Bob25pYy5nZXREZWZhdWx0cygpLCBTeW50aC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBlbnZlbG9wZToge1xuICAgICAgICAgICAgICAgIGF0dGFjazogMC4wMDEsXG4gICAgICAgICAgICAgICAgYXR0YWNrQ3VydmU6IFwiZXhwb25lbnRpYWxcIixcbiAgICAgICAgICAgICAgICBkZWNheTogMC40LFxuICAgICAgICAgICAgICAgIHJlbGVhc2U6IDEuNCxcbiAgICAgICAgICAgICAgICBzdXN0YWluOiAwLjAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9jdGF2ZXM6IDEwLFxuICAgICAgICAgICAgb3NjaWxsYXRvcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic2luZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBpdGNoRGVjYXk6IDAuMDUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXROb3RlKG5vdGUsIHRpbWUpIHtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICBjb25zdCBoZXJ0eiA9IHRoaXMudG9GcmVxdWVuY3kobm90ZSBpbnN0YW5jZW9mIEZyZXF1ZW5jeUNsYXNzID8gbm90ZS50b0ZyZXF1ZW5jeSgpIDogbm90ZSk7XG4gICAgICAgIGNvbnN0IG1heE5vdGUgPSBoZXJ0eiAqIHRoaXMub2N0YXZlcztcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShtYXhOb3RlLCBzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKGhlcnR6LCBzZWNvbmRzICsgdGhpcy50b1NlY29uZHModGhpcy5waXRjaERlY2F5KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHJhbmdlKDApXG5dLCBNZW1icmFuZVN5bnRoLnByb3RvdHlwZSwgXCJvY3RhdmVzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIE1lbWJyYW5lU3ludGgucHJvdG90eXBlLCBcInBpdGNoRGVjYXlcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lbWJyYW5lU3ludGguanMubWFwIiwiLyoqXG4gKiBBbGwgb2YgdGhlIGNsYXNzZXMgb3IgZnVuY3Rpb25zIHdoaWNoIGFyZSBsb2FkZWQgaW50byB0aGUgQXVkaW9Xb3JrbGV0R2xvYmFsU2NvcGVcbiAqL1xuY29uc3Qgd29ya2xldENvbnRleHQgPSBuZXcgU2V0KCk7XG4vKipcbiAqIEFkZCBhIGNsYXNzIHRvIHRoZSBBdWRpb1dvcmtsZXRHbG9iYWxTY29wZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9Xb3JrbGV0KGNsYXNzT3JGdW5jdGlvbikge1xuICAgIHdvcmtsZXRDb250ZXh0LmFkZChjbGFzc09yRnVuY3Rpb24pO1xufVxuLyoqXG4gKiBSZWdpc3RlciBhIHByb2Nlc3NvciBpbiB0aGUgQXVkaW9Xb3JrbGV0R2xvYmFsU2NvcGUgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQcm9jZXNzb3IobmFtZSwgY2xhc3NEZXNjKSB7XG4gICAgY29uc3QgcHJvY2Vzc29yID0gLyogamF2YXNjcmlwdCAqLyBgcmVnaXN0ZXJQcm9jZXNzb3IoXCIke25hbWV9XCIsICR7Y2xhc3NEZXNjfSlgO1xuICAgIHdvcmtsZXRDb250ZXh0LmFkZChwcm9jZXNzb3IpO1xufVxuLyoqXG4gKiBHZXQgYWxsIG9mIHRoZSBtb2R1bGVzIHdoaWNoIGhhdmUgYmVlbiByZWdpc3RlcmVkIHRvIHRoZSBBdWRpb1dvcmtsZXRHbG9iYWxTY29wZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ya2xldEdsb2JhbFNjb3BlKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHdvcmtsZXRDb250ZXh0KS5qb2luKFwiXFxuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V29ya2xldEdsb2JhbFNjb3BlLmpzLm1hcCIsImltcG9ydCB7IGFkZFRvV29ya2xldCB9IGZyb20gXCIuL1dvcmtsZXRHbG9iYWxTY29wZVwiO1xuY29uc3QgdG9uZUF1ZGlvV29ya2xldFByb2Nlc3NvciA9IC8qIGphdmFzY3JpcHQgKi8gYFxuXHQvKipcblx0ICogVGhlIGJhc2UgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIGZvciB1c2UgaW4gVG9uZS5qcy4gV29ya3Mgd2l0aCB0aGUgW1tUb25lQXVkaW9Xb3JrbGV0XV0uIFxuXHQgKi9cblx0Y2xhc3MgVG9uZUF1ZGlvV29ya2xldFByb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XG5cblx0XHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0XHRcblx0XHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdFx0LyoqXG5cdFx0XHQgKiBJZiB0aGUgcHJvY2Vzc29yIHdhcyBkaXNwb3NlZCBvciBub3QuIEtlZXAgYWxpdmUgdW50aWwgaXQncyBkaXNwb3NlZC5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuXHRcdCAgIFx0LyoqIFxuXHRcdFx0ICogVGhlIG51bWJlciBvZiBzYW1wbGVzIGluIHRoZSBwcm9jZXNzaW5nIGJsb2NrXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMuYmxvY2tTaXplID0gMTI4O1xuXHRcdFx0LyoqXG5cdFx0XHQgKiB0aGUgc2FtcGxlIHJhdGVcblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcblxuXHRcdFx0dGhpcy5wb3J0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuXHRcdFx0XHQvLyB3aGVuIGl0IHJlY2VpdmVzIGEgZGlzcG9zZSBcblx0XHRcdFx0aWYgKGV2ZW50LmRhdGEgPT09IFwiZGlzcG9zZVwiKSB7XG5cdFx0XHRcdFx0dGhpcy5kaXNwb3NlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHR9XG5gO1xuYWRkVG9Xb3JrbGV0KHRvbmVBdWRpb1dvcmtsZXRQcm9jZXNzb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9uZUF1ZGlvV29ya2xldFByb2Nlc3Nvci53b3JrbGV0LmpzLm1hcCIsImltcG9ydCBcIi4vVG9uZUF1ZGlvV29ya2xldFByb2Nlc3Nvci53b3JrbGV0XCI7XG5pbXBvcnQgeyBhZGRUb1dvcmtsZXQgfSBmcm9tIFwiLi9Xb3JrbGV0R2xvYmFsU2NvcGVcIjtcbmV4cG9ydCBjb25zdCBzaW5nbGVJT1Byb2Nlc3MgPSAvKiBqYXZhc2NyaXB0ICovIGBcblx0LyoqXG5cdCAqIEFic3RyYWN0IGNsYXNzIGZvciBhIHNpbmdsZSBpbnB1dC9vdXRwdXQgcHJvY2Vzc29yLiBcblx0ICogaGFzIGEgJ2dlbmVyYXRlJyBmdW5jdGlvbiB3aGljaCBwcm9jZXNzZXMgb25lIHNhbXBsZSBhdCBhIHRpbWVcblx0ICovXG5cdGNsYXNzIFNpbmdsZUlPUHJvY2Vzc29yIGV4dGVuZHMgVG9uZUF1ZGlvV29ya2xldFByb2Nlc3NvciB7XG5cblx0XHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0XHRzdXBlcihPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtcblx0XHRcdFx0bnVtYmVyT2ZJbnB1dHM6IDEsXG5cdFx0XHRcdG51bWJlck9mT3V0cHV0czogMVxuXHRcdFx0fSkpO1xuXHRcdFx0LyoqXG5cdFx0XHQgKiBIb2xkcyB0aGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIGFuZCBhIHNpbmdsZSB2YWx1ZSBvZiB0aGF0XG5cdFx0XHQgKiBwYXJhbWV0ZXIgYXQgdGhlIGN1cnJlbnQgc2FtcGxlXG5cdFx0XHQgKiBAdHlwZSB7IFtuYW1lOiBzdHJpbmddOiBudW1iZXIgfVxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLnBhcmFtcyA9IHt9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogR2VuZXJhdGUgYW4gb3V0cHV0IHNhbXBsZSBmcm9tIHRoZSBpbnB1dCBzYW1wbGUgYW5kIHBhcmFtZXRlcnNcblx0XHQgKiBAYWJzdHJhY3Rcblx0XHQgKiBAcGFyYW0gaW5wdXQgbnVtYmVyXG5cdFx0ICogQHBhcmFtIGNoYW5uZWwgbnVtYmVyXG5cdFx0ICogQHBhcmFtIHBhcmFtZXRlcnMgeyBbbmFtZTogc3RyaW5nXTogbnVtYmVyIH1cblx0XHQgKiBAcmV0dXJucyBudW1iZXJcblx0XHQgKi9cblx0XHRnZW5lcmF0ZSgpe31cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZSB0aGUgcHJpdmF0ZSBwYXJhbXMgb2JqZWN0IHdpdGggdGhlIFxuXHRcdCAqIHZhbHVlcyBvZiB0aGUgcGFyYW1ldGVycyBhdCB0aGUgZ2l2ZW4gaW5kZXhcblx0XHQgKiBAcGFyYW0gcGFyYW1ldGVycyB7IFtuYW1lOiBzdHJpbmddOiBGbG9hdDMyQXJyYXkgfSxcblx0XHQgKiBAcGFyYW0gaW5kZXggbnVtYmVyXG5cdFx0ICovXG5cdFx0dXBkYXRlUGFyYW1zKHBhcmFtZXRlcnMsIGluZGV4KSB7XG5cdFx0XHRmb3IgKGNvbnN0IHBhcmFtTmFtZSBpbiBwYXJhbWV0ZXJzKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmFtID0gcGFyYW1ldGVyc1twYXJhbU5hbWVdO1xuXHRcdFx0XHRpZiAocGFyYW0ubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdHRoaXMucGFyYW1zW3BhcmFtTmFtZV0gPSBwYXJhbWV0ZXJzW3BhcmFtTmFtZV1baW5kZXhdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMucGFyYW1zW3BhcmFtTmFtZV0gPSBwYXJhbWV0ZXJzW3BhcmFtTmFtZV1bMF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQcm9jZXNzIGEgc2luZ2xlIGZyYW1lIG9mIHRoZSBhdWRpb1xuXHRcdCAqIEBwYXJhbSBpbnB1dHMgRmxvYXQzMkFycmF5W11bXVxuXHRcdCAqIEBwYXJhbSBvdXRwdXRzIEZsb2F0MzJBcnJheVtdW11cblx0XHQgKi9cblx0XHRwcm9jZXNzKGlucHV0cywgb3V0cHV0cywgcGFyYW1ldGVycykge1xuXHRcdFx0Y29uc3QgaW5wdXQgPSBpbnB1dHNbMF07XG5cdFx0XHRjb25zdCBvdXRwdXQgPSBvdXRwdXRzWzBdO1xuXHRcdFx0Ly8gZ2V0IHRoZSBwYXJhbWV0ZXIgdmFsdWVzXG5cdFx0XHRjb25zdCBjaGFubmVsQ291bnQgPSBNYXRoLm1heChpbnB1dCAmJiBpbnB1dC5sZW5ndGggfHwgMCwgb3V0cHV0Lmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBzYW1wbGUgPSAwOyBzYW1wbGUgPCB0aGlzLmJsb2NrU2l6ZTsgc2FtcGxlKyspIHtcblx0XHRcdFx0dGhpcy51cGRhdGVQYXJhbXMocGFyYW1ldGVycywgc2FtcGxlKTtcblx0XHRcdFx0Zm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBjaGFubmVsQ291bnQ7IGNoYW5uZWwrKykge1xuXHRcdFx0XHRcdGNvbnN0IGlucHV0U2FtcGxlID0gaW5wdXQgJiYgaW5wdXQubGVuZ3RoID8gaW5wdXRbY2hhbm5lbF1bc2FtcGxlXSA6IDA7XG5cdFx0XHRcdFx0b3V0cHV0W2NoYW5uZWxdW3NhbXBsZV0gPSB0aGlzLmdlbmVyYXRlKGlucHV0U2FtcGxlLCBjaGFubmVsLCB0aGlzLnBhcmFtcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiAhdGhpcy5kaXNwb3NlZDtcblx0XHR9XG5cdH07XG5gO1xuYWRkVG9Xb3JrbGV0KHNpbmdsZUlPUHJvY2Vzcyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW5nbGVJT1Byb2Nlc3Nvci53b3JrbGV0LmpzLm1hcCIsImltcG9ydCB7IGFkZFRvV29ya2xldCB9IGZyb20gXCIuL1dvcmtsZXRHbG9iYWxTY29wZVwiO1xuY29uc3QgZGVsYXlMaW5lID0gLyogamF2YXNjcmlwdCAqLyBgXG5cdC8qKlxuXHQgKiBBIG11bHRpY2hhbm5lbCBidWZmZXIgZm9yIHVzZSB3aXRoaW4gYW4gQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIGFzIGEgZGVsYXkgbGluZVxuXHQgKi9cblx0Y2xhc3MgRGVsYXlMaW5lIHtcblx0XHRcblx0XHRjb25zdHJ1Y3RvcihzaXplLCBjaGFubmVscykge1xuXHRcdFx0dGhpcy5idWZmZXIgPSBbXTtcblx0XHRcdHRoaXMud3JpdGVIZWFkID0gW11cblx0XHRcdHRoaXMuc2l6ZSA9IHNpemU7XG5cblx0XHRcdC8vIGNyZWF0ZSB0aGUgZW1wdHkgY2hhbm5lbHNcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbHM7IGkrKykge1xuXHRcdFx0XHR0aGlzLmJ1ZmZlcltpXSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5zaXplKTtcblx0XHRcdFx0dGhpcy53cml0ZUhlYWRbaV0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFB1c2ggYSB2YWx1ZSBvbnRvIHRoZSBlbmRcblx0XHQgKiBAcGFyYW0gY2hhbm5lbCBudW1iZXJcblx0XHQgKiBAcGFyYW0gdmFsdWUgbnVtYmVyXG5cdFx0ICovXG5cdFx0cHVzaChjaGFubmVsLCB2YWx1ZSkge1xuXHRcdFx0dGhpcy53cml0ZUhlYWRbY2hhbm5lbF0gKz0gMTtcblx0XHRcdGlmICh0aGlzLndyaXRlSGVhZFtjaGFubmVsXSA+IHRoaXMuc2l6ZSkge1xuXHRcdFx0XHR0aGlzLndyaXRlSGVhZFtjaGFubmVsXSA9IDA7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmJ1ZmZlcltjaGFubmVsXVt0aGlzLndyaXRlSGVhZFtjaGFubmVsXV0gPSB2YWx1ZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIHJlY29yZGVkIHZhbHVlIG9mIHRoZSBjaGFubmVsIGdpdmVuIHRoZSBkZWxheVxuXHRcdCAqIEBwYXJhbSBjaGFubmVsIG51bWJlclxuXHRcdCAqIEBwYXJhbSBkZWxheSBudW1iZXIgZGVsYXkgc2FtcGxlc1xuXHRcdCAqL1xuXHRcdGdldChjaGFubmVsLCBkZWxheSkge1xuXHRcdFx0bGV0IHJlYWRIZWFkID0gdGhpcy53cml0ZUhlYWRbY2hhbm5lbF0gLSBNYXRoLmZsb29yKGRlbGF5KTtcblx0XHRcdGlmIChyZWFkSGVhZCA8IDApIHtcblx0XHRcdFx0cmVhZEhlYWQgKz0gdGhpcy5zaXplO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuYnVmZmVyW2NoYW5uZWxdW3JlYWRIZWFkXTtcblx0XHR9XG5cdH1cbmA7XG5hZGRUb1dvcmtsZXQoZGVsYXlMaW5lKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlbGF5TGluZS53b3JrbGV0LmpzLm1hcCIsImltcG9ydCBcIi4uLy4uL2NvcmUvd29ya2xldC9TaW5nbGVJT1Byb2Nlc3Nvci53b3JrbGV0XCI7XG5pbXBvcnQgXCIuLi8uLi9jb3JlL3dvcmtsZXQvRGVsYXlMaW5lLndvcmtsZXRcIjtcbmltcG9ydCB7IHJlZ2lzdGVyUHJvY2Vzc29yIH0gZnJvbSBcIi4uLy4uL2NvcmUvd29ya2xldC9Xb3JrbGV0R2xvYmFsU2NvcGVcIjtcbmV4cG9ydCBjb25zdCB3b3JrbGV0TmFtZSA9IFwiZmVlZGJhY2stY29tYi1maWx0ZXJcIjtcbmNvbnN0IGZlZWRiYWNrQ29tYkZpbHRlciA9IC8qIGphdmFzY3JpcHQgKi8gYFxuXHRjbGFzcyBGZWVkYmFja0NvbWJGaWx0ZXJXb3JrbGV0IGV4dGVuZHMgU2luZ2xlSU9Qcm9jZXNzb3Ige1xuXG5cdFx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0XHR0aGlzLmRlbGF5TGluZSA9IG5ldyBEZWxheUxpbmUodGhpcy5zYW1wbGVSYXRlLCBvcHRpb25zLmNoYW5uZWxDb3VudCB8fCAyKTtcblx0XHR9XG5cblx0XHRzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkge1xuXHRcdFx0cmV0dXJuIFt7XG5cdFx0XHRcdG5hbWU6IFwiZGVsYXlUaW1lXCIsXG5cdFx0XHRcdGRlZmF1bHRWYWx1ZTogMC4xLFxuXHRcdFx0XHRtaW5WYWx1ZTogMCxcblx0XHRcdFx0bWF4VmFsdWU6IDEsXG5cdFx0XHRcdGF1dG9tYXRpb25SYXRlOiBcImstcmF0ZVwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdG5hbWU6IFwiZmVlZGJhY2tcIixcblx0XHRcdFx0ZGVmYXVsdFZhbHVlOiAwLjUsXG5cdFx0XHRcdG1pblZhbHVlOiAwLFxuXHRcdFx0XHRtYXhWYWx1ZTogMC45OTk5LFxuXHRcdFx0XHRhdXRvbWF0aW9uUmF0ZTogXCJrLXJhdGVcIlxuXHRcdFx0fV07XG5cdFx0fVxuXG5cdFx0Z2VuZXJhdGUoaW5wdXQsIGNoYW5uZWwsIHBhcmFtZXRlcnMpIHtcblx0XHRcdGNvbnN0IGRlbGF5ZWRTYW1wbGUgPSB0aGlzLmRlbGF5TGluZS5nZXQoY2hhbm5lbCwgcGFyYW1ldGVycy5kZWxheVRpbWUgKiB0aGlzLnNhbXBsZVJhdGUpO1xuXHRcdFx0dGhpcy5kZWxheUxpbmUucHVzaChjaGFubmVsLCBpbnB1dCArIGRlbGF5ZWRTYW1wbGUgKiBwYXJhbWV0ZXJzLmZlZWRiYWNrKTtcblx0XHRcdHJldHVybiBkZWxheWVkU2FtcGxlO1xuXHRcdH1cblx0fVxuYDtcbnJlZ2lzdGVyUHJvY2Vzc29yKHdvcmtsZXROYW1lLCBmZWVkYmFja0NvbWJGaWx0ZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVlZGJhY2tDb21iRmlsdGVyLndvcmtsZXQuanMubWFwIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgVG9uZUF1ZGlvQnVmZmVycyB9IGZyb20gXCIuLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyc1wiO1xuaW1wb3J0IHsgZnRvbWYsIGludGVydmFsVG9GcmVxdWVuY3lSYXRpbyB9IGZyb20gXCIuLi9jb3JlL3R5cGUvQ29udmVyc2lvbnNcIjtcbmltcG9ydCB7IEZyZXF1ZW5jeUNsYXNzIH0gZnJvbSBcIi4uL2NvcmUvdHlwZS9GcmVxdWVuY3lcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgbm9PcCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpc0FycmF5LCBpc05vdGUsIGlzTnVtYmVyIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9UeXBlQ2hlY2tcIjtcbmltcG9ydCB7IEluc3RydW1lbnQgfSBmcm9tIFwiLi4vaW5zdHJ1bWVudC9JbnN0cnVtZW50XCI7XG5pbXBvcnQgeyBUb25lQnVmZmVyU291cmNlIH0gZnJvbSBcIi4uL3NvdXJjZS9idWZmZXIvVG9uZUJ1ZmZlclNvdXJjZVwiO1xuaW1wb3J0IHsgdGltZVJhbmdlIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9EZWNvcmF0b3JcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvRGVidWdcIjtcbi8qKlxuICogUGFzcyBpbiBhbiBvYmplY3Qgd2hpY2ggbWFwcyB0aGUgbm90ZSdzIHBpdGNoIG9yIG1pZGkgdmFsdWUgdG8gdGhlIHVybCxcbiAqIHRoZW4geW91IGNhbiB0cmlnZ2VyIHRoZSBhdHRhY2sgYW5kIHJlbGVhc2Ugb2YgdGhhdCBub3RlIGxpa2Ugb3RoZXIgaW5zdHJ1bWVudHMuXG4gKiBCeSBhdXRvbWF0aWNhbGx5IHJlcGl0Y2hpbmcgdGhlIHNhbXBsZXMsIGl0IGlzIHBvc3NpYmxlIHRvIHBsYXkgcGl0Y2hlcyB3aGljaFxuICogd2VyZSBub3QgZXhwbGljaXRseSBpbmNsdWRlZCB3aGljaCBjYW4gc2F2ZSBsb2FkaW5nIHRpbWUuXG4gKlxuICogRm9yIHNhbXBsZSBvciBidWZmZXIgcGxheWJhY2sgd2hlcmUgcmVwaXRjaGluZyBpcyBub3QgbmVjZXNzYXJ5LFxuICogdXNlIFtbUGxheWVyXV0uXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc2FtcGxlciA9IG5ldyBUb25lLlNhbXBsZXIoe1xuICogXHR1cmxzOiB7XG4gKiBcdFx0QTE6IFwiQTEubXAzXCIsXG4gKiBcdFx0QTI6IFwiQTIubXAzXCIsXG4gKiBcdH0sXG4gKiBcdGJhc2VVcmw6IFwiaHR0cHM6Ly90b25lanMuZ2l0aHViLmlvL2F1ZGlvL2Nhc2lvL1wiLFxuICogXHRvbmxvYWQ6ICgpID0+IHtcbiAqIFx0XHRzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFtcIkMxXCIsIFwiRTFcIiwgXCJHMVwiLCBcIkIxXCJdLCAwLjUpO1xuICogXHR9XG4gKiB9KS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBAY2F0ZWdvcnkgSW5zdHJ1bWVudFxuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlciBleHRlbmRzIEluc3RydW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhTYW1wbGVyLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widXJsc1wiLCBcIm9ubG9hZFwiLCBcImJhc2VVcmxcIl0sIFwidXJsc1wiKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU2FtcGxlclwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCBvZiBhbGwgY3VycmVudGx5IHBsYXlpbmcgQnVmZmVyU291cmNlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWN0aXZlU291cmNlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFNhbXBsZXIuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJ1cmxzXCIsIFwib25sb2FkXCIsIFwiYmFzZVVybFwiXSwgXCJ1cmxzXCIpO1xuICAgICAgICBjb25zdCB1cmxNYXAgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy51cmxzKS5mb3JFYWNoKChub3RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3RlTnVtYmVyID0gcGFyc2VJbnQobm90ZSwgMTApO1xuICAgICAgICAgICAgYXNzZXJ0KGlzTm90ZShub3RlKVxuICAgICAgICAgICAgICAgIHx8IChpc051bWJlcihub3RlTnVtYmVyKSAmJiBpc0Zpbml0ZShub3RlTnVtYmVyKSksIGB1cmwga2V5IGlzIG5laXRoZXIgYSBub3RlIG9yIG1pZGkgcGl0Y2g6ICR7bm90ZX1gKTtcbiAgICAgICAgICAgIGlmIChpc05vdGUobm90ZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBub3RlIG5hbWUgdG8gTUlESVxuICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IG5ldyBGcmVxdWVuY3lDbGFzcyh0aGlzLmNvbnRleHQsIG5vdGUpLnRvTWlkaSgpO1xuICAgICAgICAgICAgICAgIHVybE1hcFttaWRdID0gb3B0aW9ucy51cmxzW25vdGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdW1iZXIobm90ZU51bWJlcikgJiYgaXNGaW5pdGUobm90ZU51bWJlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaWYgaXQncyBudW1iZXJzIGFzc3VtZSBpdCdzIG1pZGlcbiAgICAgICAgICAgICAgICB1cmxNYXBbbm90ZU51bWJlcl0gPSBvcHRpb25zLnVybHNbbm90ZU51bWJlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFRvbmVBdWRpb0J1ZmZlcnMoe1xuICAgICAgICAgICAgdXJsczogdXJsTWFwLFxuICAgICAgICAgICAgb25sb2FkOiBvcHRpb25zLm9ubG9hZCxcbiAgICAgICAgICAgIGJhc2VVcmw6IG9wdGlvbnMuYmFzZVVybCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG9wdGlvbnMub25lcnJvcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXR0YWNrID0gb3B0aW9ucy5hdHRhY2s7XG4gICAgICAgIHRoaXMucmVsZWFzZSA9IG9wdGlvbnMucmVsZWFzZTtcbiAgICAgICAgdGhpcy5jdXJ2ZSA9IG9wdGlvbnMuY3VydmU7XG4gICAgICAgIC8vIGludm9rZSB0aGUgY2FsbGJhY2sgaWYgaXQncyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodGhpcy5fYnVmZmVycy5sb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIGludm9rZSBvbmxvYWQgZGVmZXJyZWRcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4ob3B0aW9ucy5vbmxvYWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oSW5zdHJ1bWVudC5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBhdHRhY2s6IDAsXG4gICAgICAgICAgICBiYXNlVXJsOiBcIlwiLFxuICAgICAgICAgICAgY3VydmU6IFwiZXhwb25lbnRpYWxcIixcbiAgICAgICAgICAgIG9ubG9hZDogbm9PcCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG5vT3AsXG4gICAgICAgICAgICByZWxlYXNlOiAwLjEsXG4gICAgICAgICAgICB1cmxzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpZmZlcmVuY2UgaW4gc3RlcHMgYmV0d2VlbiB0aGUgZ2l2ZW4gbWlkaSBub3RlIGF0IHRoZSBjbG9zZXRzIHNhbXBsZS5cbiAgICAgKi9cbiAgICBfZmluZENsb3Nlc3QobWlkaSkge1xuICAgICAgICAvLyBzZWFyY2hlcyB3aXRoaW4gOCBvY3RhdmVzIG9mIHRoZSBnaXZlbiBtaWRpIG5vdGVcbiAgICAgICAgY29uc3QgTUFYX0lOVEVSVkFMID0gOTY7XG4gICAgICAgIGxldCBpbnRlcnZhbCA9IDA7XG4gICAgICAgIHdoaWxlIChpbnRlcnZhbCA8IE1BWF9JTlRFUlZBTCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgYWJvdmUgYW5kIGJlbG93XG4gICAgICAgICAgICBpZiAodGhpcy5fYnVmZmVycy5oYXMobWlkaSArIGludGVydmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtaW50ZXJ2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9idWZmZXJzLmhhcyhtaWRpIC0gaW50ZXJ2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVydmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJ2YWwrKztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGF2YWlsYWJsZSBidWZmZXJzIGZvciBub3RlOiAke21pZGl9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAgbm90ZXNcdFRoZSBub3RlIHRvIHBsYXksIG9yIGFuIGFycmF5IG9mIG5vdGVzLlxuICAgICAqIEBwYXJhbSAgdGltZSAgICAgV2hlbiB0byBwbGF5IHRoZSBub3RlXG4gICAgICogQHBhcmFtICB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgdG8gcGxheSB0aGUgc2FtcGxlIGJhY2suXG4gICAgICovXG4gICAgdHJpZ2dlckF0dGFjayhub3RlcywgdGltZSwgdmVsb2NpdHkgPSAxKSB7XG4gICAgICAgIHRoaXMubG9nKFwidHJpZ2dlckF0dGFja1wiLCBub3RlcywgdGltZSwgdmVsb2NpdHkpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm90ZXMpKSB7XG4gICAgICAgICAgICBub3RlcyA9IFtub3Rlc107XG4gICAgICAgIH1cbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pZGlGbG9hdCA9IGZ0b21mKG5ldyBGcmVxdWVuY3lDbGFzcyh0aGlzLmNvbnRleHQsIG5vdGUpLnRvRnJlcXVlbmN5KCkpO1xuICAgICAgICAgICAgY29uc3QgbWlkaSA9IE1hdGgucm91bmQobWlkaUZsb2F0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IG1pZGlGbG9hdCAtIG1pZGk7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBjbG9zZXN0IG5vdGUgcGl0Y2hcbiAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSB0aGlzLl9maW5kQ2xvc2VzdChtaWRpKTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3ROb3RlID0gbWlkaSAtIGRpZmZlcmVuY2U7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzLmdldChjbG9zZXN0Tm90ZSk7XG4gICAgICAgICAgICBjb25zdCBwbGF5YmFja1JhdGUgPSBpbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oZGlmZmVyZW5jZSArIHJlbWFpbmRlcik7XG4gICAgICAgICAgICAvLyBwbGF5IHRoYXQgbm90ZVxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IFRvbmVCdWZmZXJTb3VyY2Uoe1xuICAgICAgICAgICAgICAgIHVybDogYnVmZmVyLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgICBjdXJ2ZTogdGhpcy5jdXJ2ZSxcbiAgICAgICAgICAgICAgICBmYWRlSW46IHRoaXMuYXR0YWNrLFxuICAgICAgICAgICAgICAgIGZhZGVPdXQ6IHRoaXMucmVsZWFzZSxcbiAgICAgICAgICAgICAgICBwbGF5YmFja1JhdGUsXG4gICAgICAgICAgICB9KS5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgICAgICAgIHNvdXJjZS5zdGFydCh0aW1lLCAwLCBidWZmZXIuZHVyYXRpb24gLyBwbGF5YmFja1JhdGUsIHZlbG9jaXR5KTtcbiAgICAgICAgICAgIC8vIGFkZCBpdCB0byB0aGUgYWN0aXZlIHNvdXJjZXNcbiAgICAgICAgICAgIGlmICghaXNBcnJheSh0aGlzLl9hY3RpdmVTb3VyY2VzLmdldChtaWRpKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLnNldChtaWRpLCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmdldChtaWRpKS5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgaXQgd2hlbiBpdCdzIGRvbmVcbiAgICAgICAgICAgIHNvdXJjZS5vbmVuZGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVTb3VyY2VzICYmIHRoaXMuX2FjdGl2ZVNvdXJjZXMuaGFzKG1pZGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9hY3RpdmVTb3VyY2VzLmdldChtaWRpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzb3VyY2VzLmluZGV4T2Yoc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIG5vdGVzXHRUaGUgbm90ZSB0byByZWxlYXNlLCBvciBhbiBhcnJheSBvZiBub3Rlcy5cbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgIFx0V2hlbiB0byByZWxlYXNlIHRoZSBub3RlLlxuICAgICAqL1xuICAgIHRyaWdnZXJSZWxlYXNlKG5vdGVzLCB0aW1lKSB7XG4gICAgICAgIHRoaXMubG9nKFwidHJpZ2dlclJlbGVhc2VcIiwgbm90ZXMsIHRpbWUpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm90ZXMpKSB7XG4gICAgICAgICAgICBub3RlcyA9IFtub3Rlc107XG4gICAgICAgIH1cbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pZGkgPSBuZXcgRnJlcXVlbmN5Q2xhc3ModGhpcy5jb250ZXh0LCBub3RlKS50b01pZGkoKTtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIG5vdGVcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVTb3VyY2VzLmhhcyhtaWRpKSAmJiB0aGlzLl9hY3RpdmVTb3VyY2VzLmdldChtaWRpKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5fYWN0aXZlU291cmNlcy5nZXQobWlkaSk7XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMudG9TZWNvbmRzKHRpbWUpO1xuICAgICAgICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCh0aW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLnNldChtaWRpLCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSBhbGwgY3VycmVudGx5IGFjdGl2ZSBub3Rlcy5cbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgIFx0V2hlbiB0byByZWxlYXNlIHRoZSBub3Rlcy5cbiAgICAgKi9cbiAgICByZWxlYXNlQWxsKHRpbWUpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRUaW1lID0gdGhpcy50b1NlY29uZHModGltZSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2VzID0+IHtcbiAgICAgICAgICAgIHdoaWxlIChzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcChjb21wdXRlZFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeW5jU3RhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJBdHRhY2tcIiwgMSk7XG4gICAgICAgICAgICB0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlclJlbGVhc2VcIiwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgYXR0YWNrIHBoYXNlLCB0aGVuIGFmdGVyIHRoZSBkdXJhdGlvbiwgaW52b2tlIHRoZSByZWxlYXNlLlxuICAgICAqIEBwYXJhbSAgbm90ZXNcdFRoZSBub3RlIHRvIHBsYXkgYW5kIHJlbGVhc2UsIG9yIGFuIGFycmF5IG9mIG5vdGVzLlxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gVGhlIHRpbWUgdGhlIG5vdGUgc2hvdWxkIGJlIGhlbGRcbiAgICAgKiBAcGFyYW0gIHRpbWUgICAgIFdoZW4gdG8gc3RhcnQgdGhlIGF0dGFja1xuICAgICAqIEBwYXJhbSAgdmVsb2NpdHkgVGhlIHZlbG9jaXR5IG9mIHRoZSBhdHRhY2tcbiAgICAgKi9cbiAgICB0cmlnZ2VyQXR0YWNrUmVsZWFzZShub3RlcywgZHVyYXRpb24sIHRpbWUsIHZlbG9jaXR5ID0gMSkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFRpbWUgPSB0aGlzLnRvU2Vjb25kcyh0aW1lKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQXR0YWNrKG5vdGVzLCBjb21wdXRlZFRpbWUsIHZlbG9jaXR5KTtcbiAgICAgICAgaWYgKGlzQXJyYXkoZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBhc3NlcnQoaXNBcnJheShub3RlcyksIFwibm90ZXMgbXVzdCBiZSBhbiBhcnJheSB3aGVuIGR1cmF0aW9uIGlzIGFycmF5XCIpO1xuICAgICAgICAgICAgbm90ZXMuZm9yRWFjaCgobm90ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gZHVyYXRpb25bTWF0aC5taW4oaW5kZXgsIGR1cmF0aW9uLmxlbmd0aCAtIDEpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJSZWxlYXNlKG5vdGUsIGNvbXB1dGVkVGltZSArIHRoaXMudG9TZWNvbmRzKGQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUmVsZWFzZShub3RlcywgY29tcHV0ZWRUaW1lICsgdGhpcy50b1NlY29uZHMoZHVyYXRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbm90ZSB0byB0aGUgc2FtcGxlci5cbiAgICAgKiBAcGFyYW0gIG5vdGUgICAgICBUaGUgYnVmZmVyJ3MgcGl0Y2guXG4gICAgICogQHBhcmFtICB1cmwgIEVpdGhlciB0aGUgdXJsIG9mIHRoZSBidWZmZXIsIG9yIGEgYnVmZmVyIHdoaWNoIHdpbGwgYmUgYWRkZWQgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gIGNhbGxiYWNrICBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gdGhlIHVybCBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgYWRkKG5vdGUsIHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgYXNzZXJ0KGlzTm90ZShub3RlKSB8fCBpc0Zpbml0ZShub3RlKSwgYG5vdGUgbXVzdCBiZSBhIHBpdGNoIG9yIG1pZGk6ICR7bm90ZX1gKTtcbiAgICAgICAgaWYgKGlzTm90ZShub3RlKSkge1xuICAgICAgICAgICAgLy8gY29udmVydCB0aGUgbm90ZSBuYW1lIHRvIE1JRElcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IG5ldyBGcmVxdWVuY3lDbGFzcyh0aGlzLmNvbnRleHQsIG5vdGUpLnRvTWlkaSgpO1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5hZGQobWlkLCB1cmwsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpZiBpdCdzIG51bWJlcnMgYXNzdW1lIGl0J3MgbWlkaVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5hZGQobm90ZSwgdXJsLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBidWZmZXJzIGFyZSBsb2FkZWQgb3Igbm90XG4gICAgICovXG4gICAgZ2V0IGxvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcnMubG9hZGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVycy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChzb3VyY2VzID0+IHtcbiAgICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4gc291cmNlLmRpc3Bvc2UoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVTb3VyY2VzLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHRpbWVSYW5nZSgwKVxuXSwgU2FtcGxlci5wcm90b3R5cGUsIFwiYXR0YWNrXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB0aW1lUmFuZ2UoMClcbl0sIFNhbXBsZXIucHJvdG90eXBlLCBcInJlbGVhc2VcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNhbXBsZXIuanMubWFwIiwiaW1wb3J0IHsgUGFyYW0gfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1BhcmFtXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbmltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbi8qKlxuICogUGFubmVyIGlzIGFuIGVxdWFsIHBvd2VyIExlZnQvUmlnaHQgUGFubmVyLiBJdCBpcyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBTdGVyZW9QYW5uZXJOb2RlLlxuICogQGV4YW1wbGVcbiAqIHJldHVybiBUb25lLk9mZmxpbmUoKCkgPT4ge1xuICogLy8gbW92ZSB0aGUgaW5wdXQgc2lnbmFsIGZyb20gcmlnaHQgdG8gbGVmdFxuICogXHRjb25zdCBwYW5uZXIgPSBuZXcgVG9uZS5QYW5uZXIoMSkudG9EZXN0aW5hdGlvbigpO1xuICogXHRwYW5uZXIucGFuLnJhbXBUbygtMSwgMC41KTtcbiAqIFx0Y29uc3Qgb3NjID0gbmV3IFRvbmUuT3NjaWxsYXRvcigxMDApLmNvbm5lY3QocGFubmVyKS5zdGFydCgpO1xuICogfSwgMC41LCAyKTtcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFBhbm5lciBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKG9wdGlvbnNGcm9tQXJndW1lbnRzKFBhbm5lci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInBhblwiXSkpKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQYW5uZXJcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBwYW5uZXIgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFubmVyID0gdGhpcy5jb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5fcGFubmVyO1xuICAgICAgICB0aGlzLm91dHB1dCA9IHRoaXMuX3Bhbm5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tQXJndW1lbnRzKFBhbm5lci5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInBhblwiXSk7XG4gICAgICAgIHRoaXMucGFuID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLl9wYW5uZXIucGFuLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMucGFuLFxuICAgICAgICAgICAgbWluVmFsdWU6IC0xLFxuICAgICAgICAgICAgbWF4VmFsdWU6IDEsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBmb3Igc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHRcbiAgICAgICAgLy8gZG9lc24ndCBtYWtlIGFueSBkaWZmZXJlbmNlIGZvciB0aGUgbmF0aXZlIEF1ZGlvQ29udGV4dFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2hyaXNndXR0YW5kaW4vc3RhbmRhcmRpemVkLWF1ZGlvLWNvbnRleHQvaXNzdWVzLzY0N1xuICAgICAgICB0aGlzLl9wYW5uZXIuY2hhbm5lbENvdW50ID0gb3B0aW9ucy5jaGFubmVsQ291bnQ7XG4gICAgICAgIHRoaXMuX3Bhbm5lci5jaGFubmVsQ291bnRNb2RlID0gXCJleHBsaWNpdFwiO1xuICAgICAgICAvLyBpbml0aWFsIHZhbHVlXG4gICAgICAgIHJlYWRPbmx5KHRoaXMsIFwicGFuXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgcGFuOiAwLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wYW5uZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnBhbi5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhbm5lci5qcy5tYXAiLCJpbXBvcnQgXCIuLi9jb3JlL3dvcmtsZXQvU2luZ2xlSU9Qcm9jZXNzb3Iud29ya2xldFwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29yZS93b3JrbGV0L1dvcmtsZXRHbG9iYWxTY29wZVwiO1xuZXhwb3J0IGNvbnN0IHdvcmtsZXROYW1lID0gXCJiaXQtY3J1c2hlclwiO1xuZXhwb3J0IGNvbnN0IGJpdENydXNoZXJXb3JrbGV0ID0gLyogamF2YXNjcmlwdCAqLyBgXG5cdGNsYXNzIEJpdENydXNoZXJXb3JrbGV0IGV4dGVuZHMgU2luZ2xlSU9Qcm9jZXNzb3Ige1xuXG5cdFx0c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHtcblx0XHRcdHJldHVybiBbe1xuXHRcdFx0XHRuYW1lOiBcImJpdHNcIixcblx0XHRcdFx0ZGVmYXVsdFZhbHVlOiAxMixcblx0XHRcdFx0bWluVmFsdWU6IDEsXG5cdFx0XHRcdG1heFZhbHVlOiAxNixcblx0XHRcdFx0YXV0b21hdGlvblJhdGU6ICdrLXJhdGUnXG5cdFx0XHR9XTtcblx0XHR9XG5cblx0XHRnZW5lcmF0ZShpbnB1dCwgX2NoYW5uZWwsIHBhcmFtZXRlcnMpIHtcblx0XHRcdGNvbnN0IHN0ZXAgPSBNYXRoLnBvdygwLjUsIHBhcmFtZXRlcnMuYml0cyAtIDEpO1xuXHRcdFx0Y29uc3QgdmFsID0gc3RlcCAqIE1hdGguZmxvb3IoaW5wdXQgLyBzdGVwICsgMC41KTtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHR9XG5gO1xucmVnaXN0ZXJQcm9jZXNzb3Iod29ya2xldE5hbWUsIGJpdENydXNoZXJXb3JrbGV0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdENydXNoZXIud29ya2xldC5qcy5tYXAiLCJpbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9Ob2RlIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9Ub25lQXVkaW9Ob2RlXCI7XG5pbXBvcnQgeyBvcHRpb25zRnJvbUFyZ3VtZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRGVmYXVsdHNcIjtcbi8qKlxuICogU29sbyBsZXRzIHlvdSBpc29sYXRlIGEgc3BlY2lmaWMgYXVkaW8gc3RyZWFtLiBXaGVuIGFuIGluc3RhbmNlIGlzIHNldCB0byBgc29sbz10cnVlYCxcbiAqIGl0IHdpbGwgbXV0ZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIFNvbG8uXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc29sb0EgPSBuZXcgVG9uZS5Tb2xvKCkudG9EZXN0aW5hdGlvbigpO1xuICogY29uc3Qgb3NjQSA9IG5ldyBUb25lLk9zY2lsbGF0b3IoXCJDNFwiLCBcInNhd3Rvb3RoXCIpLmNvbm5lY3Qoc29sb0EpO1xuICogY29uc3Qgc29sb0IgPSBuZXcgVG9uZS5Tb2xvKCkudG9EZXN0aW5hdGlvbigpO1xuICogY29uc3Qgb3NjQiA9IG5ldyBUb25lLk9zY2lsbGF0b3IoXCJFNFwiLCBcInNxdWFyZVwiKS5jb25uZWN0KHNvbG9CKTtcbiAqIHNvbG9BLnNvbG8gPSB0cnVlO1xuICogLy8gbm8gYXVkaW8gd2lsbCBwYXNzIHRocm91Z2ggc29sb0JcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFNvbG8gZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoU29sby5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInNvbG9cIl0pKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTb2xvXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhTb2xvLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wic29sb1wiXSk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm91dHB1dCA9IG5ldyBHYWluKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghU29sby5fYWxsU29sb3MuaGFzKHRoaXMuY29udGV4dCkpIHtcbiAgICAgICAgICAgIFNvbG8uX2FsbFNvbG9zLnNldCh0aGlzLmNvbnRleHQsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgU29sby5fYWxsU29sb3MuZ2V0KHRoaXMuY29udGV4dCkuYWRkKHRoaXMpO1xuICAgICAgICAvLyBzZXQgaW5pdGlhbGx5XG4gICAgICAgIHRoaXMuc29sbyA9IG9wdGlvbnMuc29sbztcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIHNvbG86IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXNvbGF0ZXMgdGhpcyBpbnN0YW5jZSBhbmQgbXV0ZXMgYWxsIG90aGVyIGluc3RhbmNlcyBvZiBTb2xvLlxuICAgICAqIE9ubHkgb25lIGluc3RhbmNlIGNhbiBiZSBzb2xvZWQgYXQgYSB0aW1lLiBBIHNvbG9lZFxuICAgICAqIGluc3RhbmNlIHdpbGwgcmVwb3J0IGBzb2xvPWZhbHNlYCB3aGVuIGFub3RoZXIgaW5zdGFuY2UgaXMgc29sb2VkLlxuICAgICAqL1xuICAgIGdldCBzb2xvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTb2xvZWQoKTtcbiAgICB9XG4gICAgc2V0IHNvbG8oc29sbykge1xuICAgICAgICBpZiAoc29sbykge1xuICAgICAgICAgICAgdGhpcy5fYWRkU29sbygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU29sbygpO1xuICAgICAgICB9XG4gICAgICAgIFNvbG8uX2FsbFNvbG9zLmdldCh0aGlzLmNvbnRleHQpLmZvckVhY2goaW5zdGFuY2UgPT4gaW5zdGFuY2UuX3VwZGF0ZVNvbG8oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIG11dGVkLCBpLmUuIGFub3RoZXIgaW5zdGFuY2UgaXMgc29sb2VkXG4gICAgICovXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5nYWluLnZhbHVlID09PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhpcyB0byB0aGUgc29sb2VkIGFycmF5XG4gICAgICovXG4gICAgX2FkZFNvbG8oKSB7XG4gICAgICAgIGlmICghU29sby5fc29sb2VkLmhhcyh0aGlzLmNvbnRleHQpKSB7XG4gICAgICAgICAgICBTb2xvLl9zb2xvZWQuc2V0KHRoaXMuY29udGV4dCwgbmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBTb2xvLl9zb2xvZWQuZ2V0KHRoaXMuY29udGV4dCkuYWRkKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhpcyBmcm9tIHRoZSBzb2xvZWQgYXJyYXlcbiAgICAgKi9cbiAgICBfcmVtb3ZlU29sbygpIHtcbiAgICAgICAgaWYgKFNvbG8uX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSkge1xuICAgICAgICAgICAgU29sby5fc29sb2VkLmdldCh0aGlzLmNvbnRleHQpLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIG9uIHRoZSBzb2xvZWQgYXJyYXlcbiAgICAgKi9cbiAgICBfaXNTb2xvZWQoKSB7XG4gICAgICAgIHJldHVybiBTb2xvLl9zb2xvZWQuaGFzKHRoaXMuY29udGV4dCkgJiYgU29sby5fc29sb2VkLmdldCh0aGlzLmNvbnRleHQpLmhhcyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG5vIG9uZSBpcyBzb2xvZWRcbiAgICAgKi9cbiAgICBfbm9Tb2xvcygpIHtcbiAgICAgICAgLy8gZWl0aGVyIGRvZXMgbm90IGhhdmUgYW55IHNvbG9lZCBhZGRlZFxuICAgICAgICByZXR1cm4gIVNvbG8uX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSB8fFxuICAgICAgICAgICAgLy8gb3IgaGFzIGEgc29sbyBzZXQgYnV0IGRvZXNuJ3QgaW5jbHVkZSBhbnkgaXRlbXNcbiAgICAgICAgICAgIChTb2xvLl9zb2xvZWQuaGFzKHRoaXMuY29udGV4dCkgJiYgU29sby5fc29sb2VkLmdldCh0aGlzLmNvbnRleHQpLnNpemUgPT09IDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTb2xvIHRoZSBjdXJyZW50IGluc3RhbmNlIGFuZCB1bnNvbG8gYWxsIG90aGVyIGluc3RhbmNlcy5cbiAgICAgKi9cbiAgICBfdXBkYXRlU29sbygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzU29sb2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZ2Fpbi52YWx1ZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fbm9Tb2xvcygpKSB7XG4gICAgICAgICAgICAvLyBubyBvbmUgaXMgc29sb2VkXG4gICAgICAgICAgICB0aGlzLmlucHV0LmdhaW4udmFsdWUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5nYWluLnZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIFNvbG8uX2FsbFNvbG9zLmdldCh0aGlzLmNvbnRleHQpLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU29sbygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIEhvbGQgYWxsIG9mIHRoZSBzb2xvJ2VkIHRyYWNrcyBiZWxvbmdpbmcgdG8gYSBzcGVjaWZpYyBjb250ZXh0XG4gKi9cblNvbG8uX2FsbFNvbG9zID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBIb2xkIHRoZSBjdXJyZW50bHkgc29sbydlZCBpbnN0YW5jZShzKVxuICovXG5Tb2xvLl9zb2xvZWQgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb2xvLmpzLm1hcCIsImltcG9ydCB7IHJlYWRPbmx5IH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9JbnRlcmZhY2VcIjtcbmltcG9ydCB7IFRvbmVBdWRpb05vZGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb250ZXh0L1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IG9wdGlvbnNGcm9tQXJndW1lbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9EZWZhdWx0c1wiO1xuaW1wb3J0IHsgUGFubmVyIH0gZnJvbSBcIi4vUGFubmVyXCI7XG5pbXBvcnQgeyBWb2x1bWUgfSBmcm9tIFwiLi9Wb2x1bWVcIjtcbi8qKlxuICogUGFuVm9sIGlzIGEgVG9uZS5QYW5uZXIgYW5kIFRvbmUuVm9sdW1lIGluIG9uZS5cbiAqIEBleGFtcGxlXG4gKiAvLyBwYW4gdGhlIGluY29taW5nIHNpZ25hbCBsZWZ0IGFuZCBkcm9wIHRoZSB2b2x1bWVcbiAqIGNvbnN0IHBhblZvbCA9IG5ldyBUb25lLlBhblZvbCgtMC4yNSwgLTEyKS50b0Rlc3RpbmF0aW9uKCk7XG4gKiBjb25zdCBvc2MgPSBuZXcgVG9uZS5Pc2NpbGxhdG9yKCkuY29ubmVjdChwYW5Wb2wpLnN0YXJ0KCk7XG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBQYW5Wb2wgZXh0ZW5kcyBUb25lQXVkaW9Ob2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIob3B0aW9uc0Zyb21Bcmd1bWVudHMoUGFuVm9sLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1wicGFuXCIsIFwidm9sdW1lXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUGFuVm9sXCI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUFyZ3VtZW50cyhQYW5Wb2wuZ2V0RGVmYXVsdHMoKSwgYXJndW1lbnRzLCBbXCJwYW5cIiwgXCJ2b2x1bWVcIl0pO1xuICAgICAgICB0aGlzLl9wYW5uZXIgPSB0aGlzLmlucHV0ID0gbmV3IFBhbm5lcih7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYW46IG9wdGlvbnMucGFuLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFuID0gdGhpcy5fcGFubmVyLnBhbjtcbiAgICAgICAgdGhpcy5fdm9sdW1lID0gdGhpcy5vdXRwdXQgPSBuZXcgVm9sdW1lKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHZvbHVtZTogb3B0aW9ucy52b2x1bWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuX3ZvbHVtZS52b2x1bWU7XG4gICAgICAgIC8vIGNvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuX3Bhbm5lci5jb25uZWN0KHRoaXMuX3ZvbHVtZSk7XG4gICAgICAgIHRoaXMubXV0ZSA9IG9wdGlvbnMubXV0ZTtcbiAgICAgICAgcmVhZE9ubHkodGhpcywgW1wicGFuXCIsIFwidm9sdW1lXCJdKTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihUb25lQXVkaW9Ob2RlLmdldERlZmF1bHRzKCksIHtcbiAgICAgICAgICAgIG11dGU6IGZhbHNlLFxuICAgICAgICAgICAgcGFuOiAwLFxuICAgICAgICAgICAgdm9sdW1lOiAwLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiAxLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZS91bm11dGUgdGhlIHZvbHVtZVxuICAgICAqL1xuICAgIGdldCBtdXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdm9sdW1lLm11dGU7XG4gICAgfVxuICAgIHNldCBtdXRlKG11dGUpIHtcbiAgICAgICAgdGhpcy5fdm9sdW1lLm11dGUgPSBtdXRlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3Bhbm5lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGFuLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fdm9sdW1lLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52b2x1bWUuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYW5Wb2wuanMubWFwIiwiaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvTm9kZVwiO1xuaW1wb3J0IHsgb3B0aW9uc0Zyb21Bcmd1bWVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0RlZmF1bHRzXCI7XG5pbXBvcnQgeyBTb2xvIH0gZnJvbSBcIi4vU29sb1wiO1xuaW1wb3J0IHsgUGFuVm9sIH0gZnJvbSBcIi4vUGFuVm9sXCI7XG5pbXBvcnQgeyByZWFkT25seSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBHYWluIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29udGV4dC9HYWluXCI7XG4vKipcbiAqIENoYW5uZWwgcHJvdmlkZXMgYSBjaGFubmVsIHN0cmlwIGludGVyZmFjZSB3aXRoIHZvbHVtZSwgcGFuLCBzb2xvIGFuZCBtdXRlIGNvbnRyb2xzLlxuICogU2VlIFtbUGFuVm9sXV0gYW5kIFtbU29sb11dXG4gKiBAZXhhbXBsZVxuICogLy8gcGFuIHRoZSBpbmNvbWluZyBzaWduYWwgbGVmdCBhbmQgZHJvcCB0aGUgdm9sdW1lIDEyZGJcbiAqIGNvbnN0IGNoYW5uZWwgPSBuZXcgVG9uZS5DaGFubmVsKC0wLjI1LCAtMTIpO1xuICogQGNhdGVnb3J5IENvbXBvbmVudFxuICovXG5leHBvcnQgY2xhc3MgQ2hhbm5lbCBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihvcHRpb25zRnJvbUFyZ3VtZW50cyhDaGFubmVsLmdldERlZmF1bHRzKCksIGFyZ3VtZW50cywgW1widm9sdW1lXCIsIFwicGFuXCJdKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbFwiO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21Bcmd1bWVudHMoQ2hhbm5lbC5nZXREZWZhdWx0cygpLCBhcmd1bWVudHMsIFtcInZvbHVtZVwiLCBcInBhblwiXSk7XG4gICAgICAgIHRoaXMuX3NvbG8gPSB0aGlzLmlucHV0ID0gbmV3IFNvbG8oe1xuICAgICAgICAgICAgc29sbzogb3B0aW9ucy5zb2xvLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGFuVm9sID0gdGhpcy5vdXRwdXQgPSBuZXcgUGFuVm9sKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhbjogb3B0aW9ucy5wYW4sXG4gICAgICAgICAgICB2b2x1bWU6IG9wdGlvbnMudm9sdW1lLFxuICAgICAgICAgICAgbXV0ZTogb3B0aW9ucy5tdXRlLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBvcHRpb25zLmNoYW5uZWxDb3VudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wYW4gPSB0aGlzLl9wYW5Wb2wucGFuO1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuX3BhblZvbC52b2x1bWU7XG4gICAgICAgIHRoaXMuX3NvbG8uY29ubmVjdCh0aGlzLl9wYW5Wb2wpO1xuICAgICAgICByZWFkT25seSh0aGlzLCBbXCJwYW5cIiwgXCJ2b2x1bWVcIl0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFRvbmVBdWRpb05vZGUuZ2V0RGVmYXVsdHMoKSwge1xuICAgICAgICAgICAgcGFuOiAwLFxuICAgICAgICAgICAgdm9sdW1lOiAwLFxuICAgICAgICAgICAgbXV0ZTogZmFsc2UsXG4gICAgICAgICAgICBzb2xvOiBmYWxzZSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNvbG8vdW5zb2xvIHRoZSBjaGFubmVsLiBTb2xvaW5nIGlzIG9ubHkgcmVsYXRpdmUgdG8gb3RoZXIgW1tDaGFubmVsc11dIGFuZCBbW1NvbG9dXSBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBnZXQgc29sbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvbG8uc29sbztcbiAgICB9XG4gICAgc2V0IHNvbG8oc29sbykge1xuICAgICAgICB0aGlzLl9zb2xvLnNvbG8gPSBzb2xvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBtdXRlZCwgaS5lLiBhbm90aGVyIGluc3RhbmNlIGlzIHNvbG9lZCxcbiAgICAgKiBvciB0aGUgY2hhbm5lbCBpcyBtdXRlZFxuICAgICAqL1xuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvbG8ubXV0ZWQgfHwgdGhpcy5tdXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlL3VubXV0ZSB0aGUgdm9sdW1lXG4gICAgICovXG4gICAgZ2V0IG11dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYW5Wb2wubXV0ZTtcbiAgICB9XG4gICAgc2V0IG11dGUobXV0ZSkge1xuICAgICAgICB0aGlzLl9wYW5Wb2wubXV0ZSA9IG11dGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZ2FpbiBub2RlIGJlbG9uZ2luZyB0byB0aGUgYnVzIG5hbWUuIENyZWF0ZSBpdCBpZlxuICAgICAqIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgYnVzIG5hbWVcbiAgICAgKi9cbiAgICBfZ2V0QnVzKG5hbWUpIHtcbiAgICAgICAgaWYgKCFDaGFubmVsLmJ1c2VzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgQ2hhbm5lbC5idXNlcy5zZXQobmFtZSwgbmV3IEdhaW4oeyBjb250ZXh0OiB0aGlzLmNvbnRleHQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGFubmVsLmJ1c2VzLmdldChuYW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhdWRpbyB0byBhbm90aGVyIGNoYW5uZWwgdXNpbmcgYSBzdHJpbmcuIGBzZW5kYCBpcyBhIGxvdCBsaWtlXG4gICAgICogW1tjb25uZWN0XV0sIGV4Y2VwdCBpdCB1c2VzIGEgc3RyaW5nIGluc3RlYWQgb2YgYW4gb2JqZWN0LiBUaGlzIGNhblxuICAgICAqIGJlIHVzZWZ1bCBpbiBsYXJnZSBhcHBsaWNhdGlvbnMgdG8gZGVjb3VwbGUgc2VjdGlvbnMgc2luY2UgW1tzZW5kXV1cbiAgICAgKiBhbmQgW1tyZWNlaXZlXV0gY2FuIGJlIGludm9rZWQgc2VwYXJhdGVseSBpbiBvcmRlciB0byBjb25uZWN0IGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBjaGFubmVsIG5hbWUgdG8gc2VuZCB0aGUgYXVkaW9cbiAgICAgKiBAcGFyYW0gdm9sdW1lIFRoZSBhbW91bnQgb2YgdGhlIHNpZ25hbCB0byBzZW5kLlxuICAgICAqIFx0RGVmYXVsdHMgdG8gMGRiLCBpLmUuIHNlbmQgdGhlIGVudGlyZSBzaWduYWxcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBnYWluIG5vZGUgb2YgdGhpcyBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIHNlbmQobmFtZSwgdm9sdW1lID0gMCkge1xuICAgICAgICBjb25zdCBidXMgPSB0aGlzLl9nZXRCdXMobmFtZSk7XG4gICAgICAgIGNvbnN0IHNlbmRLbm9iID0gbmV3IEdhaW4oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgdW5pdHM6IFwiZGVjaWJlbHNcIixcbiAgICAgICAgICAgIGdhaW46IHZvbHVtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29ubmVjdChzZW5kS25vYik7XG4gICAgICAgIHNlbmRLbm9iLmNvbm5lY3QoYnVzKTtcbiAgICAgICAgcmV0dXJuIHNlbmRLbm9iO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIGF1ZGlvIGZyb20gYSBjaGFubmVsIHdoaWNoIHdhcyBjb25uZWN0ZWQgd2l0aCBbW3NlbmRdXS5cbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgY2hhbm5lbCBuYW1lIHRvIHJlY2VpdmUgYXVkaW8gZnJvbS5cbiAgICAgKi9cbiAgICByZWNlaXZlKG5hbWUpIHtcbiAgICAgICAgY29uc3QgYnVzID0gdGhpcy5fZ2V0QnVzKG5hbWUpO1xuICAgICAgICBidXMuY29ubmVjdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcGFuVm9sLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wYW4uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZvbHVtZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3NvbG8uZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIFN0b3JlIHRoZSBzZW5kL3JlY2VpdmUgY2hhbm5lbHMgYnkgbmFtZS5cbiAqL1xuQ2hhbm5lbC5idXNlcyA9IG5ldyBNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYW5uZWwuanMubWFwIiwiaW1wb3J0IHsgVG9uZUF1ZGlvTm9kZSB9IGZyb20gXCIuL1RvbmVBdWRpb05vZGVcIjtcbmltcG9ydCB7IFBhcmFtIH0gZnJvbSBcIi4vUGFyYW1cIjtcbmltcG9ydCB7IG9uQ29udGV4dENsb3NlLCBvbkNvbnRleHRJbml0IH0gZnJvbSBcIi4vQ29udGV4dEluaXRpYWxpemF0aW9uXCI7XG4vKipcbiAqIFRvbmUuTGlzdGVuZXIgaXMgYSB0aGluIHdyYXBwZXIgYXJvdW5kIHRoZSBBdWRpb0xpc3RlbmVyLiBMaXN0ZW5lciBjb21iaW5lZFxuICogd2l0aCBbW1Bhbm5lcjNEXV0gbWFrZXMgdXAgdGhlIFdlYiBBdWRpbyBBUEkncyAzRCBwYW5uaW5nIHN5c3RlbS4gUGFubmVyM0QgYWxsb3dzIHlvdVxuICogdG8gcGxhY2Ugc291bmRzIGluIDNEIGFuZCBMaXN0ZW5lciBhbGxvd3MgeW91IHRvIG5hdmlnYXRlIHRoZSAzRCBzb3VuZCBlbnZpcm9ubWVudCBmcm9tXG4gKiBhIGZpcnN0LXBlcnNvbiBwZXJzcGVjdGl2ZS4gVGhlcmUgaXMgb25seSBvbmUgbGlzdGVuZXIgcGVyIGF1ZGlvIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0ZW5lciBleHRlbmRzIFRvbmVBdWRpb05vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpc3RlbmVyXCI7XG4gICAgICAgIHRoaXMucG9zaXRpb25YID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5wb3NpdGlvblgsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvc2l0aW9uWSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25ZLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblogPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnBvc2l0aW9uWixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9yd2FyZFggPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3J3YXJkWSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIuZm9yd2FyZFksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcndhcmRaID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBYID0gbmV3IFBhcmFtKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci51cFgsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwWSA9IG5ldyBQYXJhbSh7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwYXJhbTogdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIudXBZLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cFogPSBuZXcgUGFyYW0oe1xuICAgICAgICAgICAgY29udGV4dDogdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgcGFyYW06IHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oVG9uZUF1ZGlvTm9kZS5nZXREZWZhdWx0cygpLCB7XG4gICAgICAgICAgICBwb3NpdGlvblg6IDAsXG4gICAgICAgICAgICBwb3NpdGlvblk6IDAsXG4gICAgICAgICAgICBwb3NpdGlvblo6IDAsXG4gICAgICAgICAgICBmb3J3YXJkWDogMCxcbiAgICAgICAgICAgIGZvcndhcmRZOiAwLFxuICAgICAgICAgICAgZm9yd2FyZFo6IC0xLFxuICAgICAgICAgICAgdXBYOiAwLFxuICAgICAgICAgICAgdXBZOiAxLFxuICAgICAgICAgICAgdXBaOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uWC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb25ZLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblouZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZvcndhcmRYLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5mb3J3YXJkWS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZm9yd2FyZFouZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnVwWC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudXBZLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy51cFouZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFx0SU5JVElBTElaQVRJT05cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxub25Db250ZXh0SW5pdChjb250ZXh0ID0+IHtcbiAgICBjb250ZXh0Lmxpc3RlbmVyID0gbmV3IExpc3RlbmVyKHsgY29udGV4dCB9KTtcbn0pO1xub25Db250ZXh0Q2xvc2UoY29udGV4dCA9PiB7XG4gICAgY29udGV4dC5saXN0ZW5lci5kaXNwb3NlKCk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpc3RlbmVyLmpzLm1hcCIsImV4cG9ydCB7IGdldENvbnRleHQsIHNldENvbnRleHQgfSBmcm9tIFwiLi9jb3JlL0dsb2JhbFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2xhc3Nlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdmVyc2lvblwiO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gXCIuL2NvcmUvR2xvYmFsXCI7XG5pbXBvcnQgeyBUb25lQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyXCI7XG5leHBvcnQgeyBzdGFydCB9IGZyb20gXCIuL2NvcmUvR2xvYmFsXCI7XG5leHBvcnQgeyBzdXBwb3J0ZWQgfSBmcm9tIFwiLi9jb3JlL2NvbnRleHQvQXVkaW9Db250ZXh0XCI7XG4vKipcbiAqIFRoZSBjdXJyZW50IGF1ZGlvIGNvbnRleHQgdGltZSBvZiB0aGUgZ2xvYmFsIFtbQ29udGV4dF1dLlxuICogU2VlIFtbQ29udGV4dC5ub3ddXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLm5vdygpO1xufVxuLyoqXG4gKiBUaGUgY3VycmVudCBhdWRpbyBjb250ZXh0IHRpbWUgb2YgdGhlIGdsb2JhbCBbW0NvbnRleHRdXSB3aXRob3V0IHRoZSBbW0NvbnRleHQubG9va0FoZWFkXV1cbiAqIFNlZSBbW0NvbnRleHQuaW1tZWRpYXRlXV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbW1lZGlhdGUoKSB7XG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5pbW1lZGlhdGUoKTtcbn1cbi8qKlxuICogVGhlIFRyYW5zcG9ydCBvYmplY3QgYmVsb25naW5nIHRvIHRoZSBnbG9iYWwgVG9uZS5qcyBDb250ZXh0LlxuICogU2VlIFtbVHJhbnNwb3J0XV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc3BvcnQgPSBnZXRDb250ZXh0KCkudHJhbnNwb3J0O1xuLyoqXG4gKiBUaGUgVHJhbnNwb3J0IG9iamVjdCBiZWxvbmdpbmcgdG8gdGhlIGdsb2JhbCBUb25lLmpzIENvbnRleHQuXG4gKiBTZWUgW1tUcmFuc3BvcnRdXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zcG9ydCgpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLnRyYW5zcG9ydDtcbn1cbi8qKlxuICogVGhlIERlc3RpbmF0aW9uIChvdXRwdXQpIGJlbG9uZ2luZyB0byB0aGUgZ2xvYmFsIFRvbmUuanMgQ29udGV4dC5cbiAqIFNlZSBbW0Rlc3RpbmF0aW9uXV1cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBjb25zdCBEZXN0aW5hdGlvbiA9IGdldENvbnRleHQoKS5kZXN0aW5hdGlvbjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIFtbRGVzdGluYXRpb25dXVxuICovXG5leHBvcnQgY29uc3QgTWFzdGVyID0gZ2V0Q29udGV4dCgpLmRlc3RpbmF0aW9uO1xuLyoqXG4gKiBUaGUgRGVzdGluYXRpb24gKG91dHB1dCkgYmVsb25naW5nIHRvIHRoZSBnbG9iYWwgVG9uZS5qcyBDb250ZXh0LlxuICogU2VlIFtbRGVzdGluYXRpb25dXVxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlc3RpbmF0aW9uKCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkuZGVzdGluYXRpb247XG59XG4vKipcbiAqIFRoZSBbW0xpc3RlbmVyXV0gYmVsb25naW5nIHRvIHRoZSBnbG9iYWwgVG9uZS5qcyBDb250ZXh0LlxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RlbmVyID0gZ2V0Q29udGV4dCgpLmxpc3RlbmVyO1xuLyoqXG4gKiBUaGUgW1tMaXN0ZW5lcl1dIGJlbG9uZ2luZyB0byB0aGUgZ2xvYmFsIFRvbmUuanMgQ29udGV4dC5cbiAqIEBjYXRlZ29yeSBDb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXN0ZW5lcigpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLmxpc3RlbmVyO1xufVxuLyoqXG4gKiBEcmF3IGlzIHVzZWQgdG8gc3luY2hyb25pemUgdGhlIGRyYXcgZnJhbWUgd2l0aCB0aGUgVHJhbnNwb3J0J3MgY2FsbGJhY2tzLlxuICogU2VlIFtbRHJhd11dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgY29uc3QgRHJhdyA9IGdldENvbnRleHQoKS5kcmF3O1xuLyoqXG4gKiBHZXQgdGhlIHNpbmdsZXRvbiBhdHRhY2hlZCB0byB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gKiBEcmF3IGlzIHVzZWQgdG8gc3luY2hyb25pemUgdGhlIGRyYXcgZnJhbWUgd2l0aCB0aGUgVHJhbnNwb3J0J3MgY2FsbGJhY2tzLlxuICogU2VlIFtbRHJhd11dXG4gKiBAY2F0ZWdvcnkgQ29yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHJhdygpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLmRyYXc7XG59XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgY29udGV4dFxuICogU2VlIFtbQ29udGV4dF1dXG4gKi9cbmV4cG9ydCBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuLyoqXG4gKiBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gYWxsIG9mIHRoZSBsb2FkaW5nIHByb21pc2VzIGFyZSByZXNvbHZlZC5cbiAqIEFsaWFzIGZvciBzdGF0aWMgW1tUb25lQXVkaW9CdWZmZXIubG9hZGVkXV0gbWV0aG9kLlxuICogQGNhdGVnb3J5IENvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRlZCgpIHtcbiAgICByZXR1cm4gVG9uZUF1ZGlvQnVmZmVyLmxvYWRlZCgpO1xufVxuLy8gdGhpcyBmaWxscyBpbiBuYW1lIGNoYW5nZXMgZnJvbSAxMy54IHRvIDE0LnhcbmltcG9ydCB7IFRvbmVBdWRpb0J1ZmZlcnMgfSBmcm9tIFwiLi9jb3JlL2NvbnRleHQvVG9uZUF1ZGlvQnVmZmVyc1wiO1xuaW1wb3J0IHsgVG9uZUJ1ZmZlclNvdXJjZSB9IGZyb20gXCIuL3NvdXJjZS9idWZmZXIvVG9uZUJ1ZmZlclNvdXJjZVwiO1xuZXhwb3J0IGNvbnN0IEJ1ZmZlciA9IFRvbmVBdWRpb0J1ZmZlcjtcbmV4cG9ydCBjb25zdCBCdWZmZXJzID0gVG9uZUF1ZGlvQnVmZmVycztcbmV4cG9ydCBjb25zdCBCdWZmZXJTb3VyY2UgPSBUb25lQnVmZmVyU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgU2FtcGxlciwgbG9hZGVkIH0gZnJvbSAndG9uZSc7XG5cbmxldCBpbml0aWF0ZWQgPSBmYWxzZVxubGV0IHNhbXBsZXI6IFNhbXBsZXI7XG4vLyBGdW5jdGlvbiB0byBpbml0aWFsaXplIGFuZCBsb2FkIHRoZSBzYW1wbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkU291bmQoKSB7XG4gICAgc2FtcGxlciA9IG5ldyBTYW1wbGVyKHtcbiAgICAgICAgdXJsczoge1xuICAgICAgICAgICAgXCJDNFwiOiBcIkM0Lm1wM1wiLFxuICAgICAgICAgICAgXCJEIzRcIjogXCJEczQubXAzXCIsXG4gICAgICAgICAgICBcIkYjNFwiOiBcIkZzNC5tcDNcIixcbiAgICAgICAgICAgIFwiQTRcIjogXCJBNC5tcDNcIixcbiAgICAgICAgfSxcbiAgICAgICAgcmVsZWFzZTogMSxcbiAgICAgICAgYmFzZVVybDogXCJodHRwczovL3RvbmVqcy5naXRodWIuaW8vYXVkaW8vc2FsYW1hbmRlci9cIixcbiAgICB9KS50b0Rlc3RpbmF0aW9uKCk7XG4gICAgYXdhaXQgbG9hZGVkKCk7XG4gICAgaW5pdGlhdGVkID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlTYW1wbGUobGFiZWw6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghaW5pdGlhdGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBub3QgaW5pdGlhdGVkYClcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHBhcnRzID0gbGFiZWwuc3BsaXQoJy0nKTtcbiAgICBjb25zdCB3YWxsID0gcGFydHNbMF07XG4gICAgY29uc3QgYmluID0gcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzWzFdIDogJyc7XG5cbiAgICBzd2l0Y2ggKHdhbGwpIHtcbiAgICAgICAgY2FzZSAnTGVmdCc6XG4gICAgICAgICAgICBzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFtcIkViNFwiXSwgNCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmlnaHQnOlxuICAgICAgICAgICAgc2FtcGxlci50cmlnZ2VyQXR0YWNrUmVsZWFzZShbXCJHM1wiXSwgNCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVG9wJzpcbiAgICAgICAgICAgIHNhbXBsZXIudHJpZ2dlckF0dGFja1JlbGVhc2UoW1wiRzRcIl0sIDQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0JvdHRvbSc6XG4gICAgICAgICAgICBzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKFtcIkJiNFwiXSwgNCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGB1bmV4cGVjdGVkIHdhbGwgJHt3YWxsfWApXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBNYXR0ZXIgZnJvbSAnbWF0dGVyLWpzJztcbmltcG9ydCB7IHBsYXlTYW1wbGUgfSBmcm9tICcuL3NvdW5kJztcblxuLy8gbW9kdWxlIGFsaWFzZXNcbmNvbnN0IEVuZ2luZSA9IE1hdHRlci5FbmdpbmUsXG4gICAgUmVuZGVyID0gTWF0dGVyLlJlbmRlcixcbiAgICBSdW5uZXIgPSBNYXR0ZXIuUnVubmVyLFxuICAgIEJvZGllcyA9IE1hdHRlci5Cb2RpZXMsXG4gICAgQ29tcG9zaXRlID0gTWF0dGVyLkNvbXBvc2l0ZSxcbiAgICBFdmVudHMgPSBNYXR0ZXIuRXZlbnRzO1xuXG5sZXQgZW5naW5lOiBNYXR0ZXIuRW5naW5lO1xubGV0IHJlbmRlcjogTWF0dGVyLlJlbmRlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQaHlzaWNzKCkge1xuXG4gICAgLy8gY3JlYXRlIGFuIGVuZ2luZVxuICAgIGVuZ2luZSA9IEVuZ2luZS5jcmVhdGUoKTtcbiAgICBlbmdpbmUuZ3Jhdml0eS5zY2FsZSA9IDAuMDAwNTtcblxuICAgIC8vIENyZWF0ZSBhIHJlbmRlcmVyXG4gICAgcmVuZGVyID0gUmVuZGVyLmNyZWF0ZSh7XG4gICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGVuZ2luZTogZW5naW5lLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgIHdpcmVmcmFtZXM6IGZhbHNlIC8vIFRoaXMgYWxsb3dzIGZvciBjb2xvclxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBjcmVhdGUgdHdvIGJveGVzIGFuZCBhIGdyb3VuZFxuICAgIGNvbnN0IGJhbGwgPSBCb2RpZXMuY2lyY2xlKDQwMCwgMjAwLCA4MCwge1xuICAgICAgICByZXN0aXR1dGlvbjogMC42LCAvLyBCb3VuY2luZXNzXG4gICAgICAgIGxhYmVsOiAnQmFsbCcsXG4gICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgZmlsbFN0eWxlOiAncmVkJ1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgQ29tcG9zaXRlLmFkZChlbmdpbmUud29ybGQsIFtiYWxsXSk7XG5cbiAgICAvLyBBZGQgd2FsbHNcbiAgICBjb25zdCB3YWxsVGhpY2tuZXNzID0gMTA7XG4gICAgY3JlYXRlV2FsbCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdhbGxUaGlja25lc3MgLyAyLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2FsbFRoaWNrbmVzcywgJ3JlZCcsICdUb3AnKTsgLy8gVG9wXG4gICAgY3JlYXRlV2FsbCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAtIHdhbGxUaGlja25lc3MgLyAyLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2FsbFRoaWNrbmVzcywgJ2JsdWUnLCAnQm90dG9tJyk7IC8vIEJvdHRvbVxuICAgIGNyZWF0ZVdhbGwod2FsbFRoaWNrbmVzcyAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAvIDIsIHdhbGxUaGlja25lc3MsIHdpbmRvdy5pbm5lckhlaWdodCwgJ2dyZWVuJywgJ0xlZnQnKTsgLy8gTGVmdFxuICAgIGNyZWF0ZVdhbGwod2luZG93LmlubmVyV2lkdGggLSB3YWxsVGhpY2tuZXNzIC8gMiwgd2luZG93LmlubmVySGVpZ2h0IC8gMiwgd2FsbFRoaWNrbmVzcywgd2luZG93LmlubmVySGVpZ2h0LCAneWVsbG93JywgJ1JpZ2h0Jyk7IC8vIFJpZ2h0XG5cbiAgICAvLyBDb2xsaXNpb24gaGFuZGxpbmdcbiAgICBFdmVudHMub24oZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCBoYW5kbGVDb2xsaXNpb24pO1xuXG4gICAgLy8gcnVuIHRoZSByZW5kZXJlclxuICAgIFJlbmRlci5ydW4ocmVuZGVyKTtcblxuICAgIC8vIGNyZWF0ZSBydW5uZXJcbiAgICBjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7XG5cbiAgICAvLyBydW4gdGhlIGVuZ2luZVxuICAgIFJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpO1xuICAgIGNvbnNvbGUubG9nKCdQaHlzaWNzIGxvYWRlZCcpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdhbGwoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSB7XG4gICAgY29uc3Qgd2FsbCA9IEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwge1xuICAgICAgICBpc1N0YXRpYzogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICByZW5kZXI6IHsgZmlsbFN0eWxlOiBjb2xvciB9XG4gICAgfSk7XG4gICAgQ29tcG9zaXRlLmFkZChlbmdpbmUud29ybGQsIFt3YWxsXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgaWYgKGVuZ2luZSkge1xuICAgICAgICBlbmdpbmUuZ3Jhdml0eS54ID0geDtcbiAgICAgICAgZW5naW5lLmdyYXZpdHkueSA9IHk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsYWJlbEZyb21Db2xsaXNpb25FdmVudChldmVudDogTWF0dGVyLklFdmVudENvbGxpc2lvbjxNYXR0ZXIuRW5naW5lPik6IHN0cmluZyB7XG4gICAgY29uc3Qgc291cmNlID0gZXZlbnQuc291cmNlXG4gICAgbGV0IGJvZHlMYWJlbDogc3RyaW5nID0gJydcbiAgICBpZiAoc291cmNlID09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBjb2xsaXNpb25zOiBhbnkgPSBzb3VyY2UucGFpcnMubGlzdFxuICAgIGlmIChjb2xsaXNpb25zID09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sbGlzaW9ucykpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NvbGxpc2lvbnM6IE5vdCBhbiBhcnJheScpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgaWYgKCFjb2xsaXNpb25zLmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY29sbGlzaW9uczogRW1wdHkgYXJyYXknKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICghY29sbGlzaW9uc1swXS5ib2R5Qikge1xuICAgICAgICBjb25zb2xlLmxvZygnY29sbGlzaW9uczogQm9keUIgaXMgbnVsbCcsIGNvbGxpc2lvbnNbMF0pXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgYm9keUxhYmVsID0gY29sbGlzaW9uc1swXS5ib2R5Qi5sYWJlbFxuICAgIHJldHVybiBib2R5TGFiZWw7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbihldmVudDogTWF0dGVyLklFdmVudENvbGxpc2lvbjxNYXR0ZXIuRW5naW5lPikge1xuICAgIGNvbnN0IHdhbGxMYWJlbCA9IGxhYmVsRnJvbUNvbGxpc2lvbkV2ZW50KGV2ZW50KTtcbiAgICAvLyBjb25zb2xlLmxvZygnQ29sbGlzaW9uIHdpdGggd2FsbCcsIHdhbGxMYWJlbCk7XG4gICAgcGxheVNhbXBsZSh3YWxsTGFiZWwpO1xufVxuXG4vLyBSZXNpemUgaGFuZGxpbmdcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVuZGVyLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHJlbmRlci5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xufSk7XG4iLCJpbXBvcnQgeyBnZXQyZEdyYXZpdHksIHJlcXVlc3RQZXJtaXNzaW9uIH0gZnJvbSAnLi9zZW5zb3JzLmpzJztcbmltcG9ydCB7IGxvYWRQaHlzaWNzLCBzZXRHcmF2aXR5IH0gZnJvbSAnLi9waHlzaWNzJ1xuaW1wb3J0IHsgbG9hZFNvdW5kIH0gZnJvbSAnLi9zb3VuZCdcblxuZnVuY3Rpb24gdXBkYXRlQmFsbFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGcgPSBnZXQyZEdyYXZpdHkoKTtcbiAgICBzZXRFbGVtZW50SW5uZXJIdG1sKCd4MScsIGB4OiAke2cueH1gKVxuICAgIHNldEVsZW1lbnRJbm5lckh0bWwoJ3kxJywgYHk6ICR7Zy55fWApXG4gICAgc2V0R3Jhdml0eShnLngsIGcueSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZUJhbGxQb3NpdGlvbik7XG59XG5cbi8vIFN0YXJ0IHRoZSBsb29wXG51cGRhdGVCYWxsUG9zaXRpb24oKTtcblxuZnVuY3Rpb24gc2V0RWxlbWVudElubmVySHRtbChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBjb25zdCB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSk7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgeC5pbm5lckhUTUwgPSBgJHt2YWx1ZX1gO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSk7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgeC5yZW1vdmUoKTtcbiAgICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0LWJ0blwiKTtcbiAgICBpZiAoc3RhcnRCdXR0b24pIHtcbiAgICAgICAgc2V0RWxlbWVudElubmVySHRtbCgnbXNnJywgJ1JlZ2lzdGVyZWQgY2xpY2sgaGFuZGxlcicpO1xuICAgICAgICBzdGFydEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNldEVsZW1lbnRJbm5lckh0bWwoJ21zZycsICdSZXF1ZXN0aW5nIHBlcm1pc3Npb24nKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJwID0gcmVxdWVzdFBlcm1pc3Npb24oKVxuICAgICAgICAgICAgc2V0RWxlbWVudElubmVySHRtbCgnbXNnJywgYHJwOiAke3JwfWApO1xuICAgICAgICAgICAgcmVtb3ZlRWxlbWVudCgnc3RhcnQtYnRuJyk7XG4gICAgICAgICAgICByZW1vdmVFbGVtZW50KCdtc2cnKTtcbiAgICAgICAgICAgIGxvYWRTb3VuZCgpO1xuICAgICAgICAgICAgbG9hZFBoeXNpY3MoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZXhwb3J0cyIsIl9zbGljZWRUb0FycmF5IiwiX2NsYXNzQ2FsbENoZWNrIiwiX2NyZWF0ZUNsYXNzIiwiY3JlYXRlRXh0ZW5kZWRFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50IiwidmFsdWUiLCJlbmRUaW1lIiwiaW5zZXJ0VGltZSIsInR5cGUiLCJjcmVhdGVFeHRlbmRlZExpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50IiwiY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJzdGFydFRpbWUiLCJjcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50IiwidmFsdWVzIiwiZHVyYXRpb24iLCJnZXRUYXJnZXRWYWx1ZUF0VGltZSIsInRpbWUiLCJ2YWx1ZUF0U3RhcnRUaW1lIiwiX3JlZiIsInRhcmdldCIsInRpbWVDb25zdGFudCIsIk1hdGgiLCJleHAiLCJpc0V4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJhdXRvbWF0aW9uRXZlbnQiLCJpc0xpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50IiwiaXNBbnlSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCIsImlzU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJpc1NldFZhbHVlQ3VydmVBdXRvbWF0aW9uRXZlbnQiLCJnZXRWYWx1ZU9mQXV0b21hdGlvbkV2ZW50QXRJbmRleEF0VGltZSIsImF1dG9tYXRpb25FdmVudHMiLCJpbmRleCIsImRlZmF1bHRWYWx1ZSIsInVuZGVmaW5lZCIsImxlbmd0aCIsImdldEVuZFRpbWVBbmRWYWx1ZU9mUHJldmlvdXNBdXRvbWF0aW9uRXZlbnQiLCJjdXJyZW50QXV0b21hdGlvbkV2ZW50IiwibmV4dEF1dG9tYXRpb25FdmVudCIsImlzQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCIsImlzQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50IiwiZ2V0RXZlbnRUaW1lIiwiY2FuY2VsVGltZSIsImdldEV4cG9uZW50aWFsUmFtcFZhbHVlQXRUaW1lIiwicG93IiwiZ2V0TGluZWFyUmFtcFZhbHVlQXRUaW1lIiwiZ2V0VmFsdWVDdXJ2ZVZhbHVlQXRUaW1lIiwidGhlb3JldGljSW5kZXgiLCJsb3dlckluZGV4IiwiZmxvb3IiLCJ1cHBlckluZGV4IiwiY2VpbCIsImludGVycG9sYXRlVmFsdWUiLCJpc1NldFRhcmdldEF1dG9tYXRpb25FdmVudCIsIkF1dG9tYXRpb25FdmVudExpc3QiLCJfU3ltYm9sJGl0ZXJhdG9yIiwidGhpcyIsIl9hdXRvbWF0aW9uRXZlbnRzIiwiX2N1cnJlblRpbWUiLCJfZGVmYXVsdFZhbHVlIiwia2V5IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJldmVudFRpbWUiLCJmaW5kSW5kZXgiLCJyZW1vdmVkQXV0b21hdGlvbkV2ZW50Iiwic2xpY2UiLCJsYXN0QXV0b21hdGlvbkV2ZW50IiwiRXJyb3IiLCJzdGFydFZhbHVlIiwidHJ1bmNhdGVkQXV0b21hdGlvbkV2ZW50IiwicHVzaCIsImdldFZhbHVlIiwicmF0aW8iLCJtYXgiLCJmcmFjdGlvbiIsImkiLCJmYWN0b3IiLCJfaW5kZXgiLCJwcmV2aW91c0F1dG9tYXRpb25FdmVudCIsInBlcnNpc3RlbnRBdXRvbWF0aW9uRXZlbnQiLCJzcGxpY2UiLCJyZW1haW5pbmdBdXRvbWF0aW9uRXZlbnRzIiwiZmlyc3RSZW1haW5pbmdBdXRvbWF0aW9uRXZlbnQiLCJ1bnNoaWZ0IiwiaW5kZXhPZk5leHRFdmVudCIsImluZGV4T2ZDdXJyZW50RXZlbnQiLCJfZ2V0RW5kVGltZUFuZFZhbHVlT2YiLCJfZ2V0RW5kVGltZUFuZFZhbHVlT2YyIiwiX2dldEVuZFRpbWVBbmRWYWx1ZU9mMyIsIl9nZXRFbmRUaW1lQW5kVmFsdWVPZjQiLCJfc3RhcnRUaW1lIiwiX3ZhbHVlIiwiY3JlYXRlQ2FuY2VsQW5kSG9sZEF1dG9tYXRpb25FdmVudCIsImNyZWF0ZUNhbmNlbFNjaGVkdWxlZFZhbHVlc0F1dG9tYXRpb25FdmVudCIsImNyZWF0ZUV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdXRvbWF0aW9uRXZlbnQiLCJjcmVhdGVMaW5lYXJSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCIsImNyZWF0ZVNldFRhcmdldEF1dG9tYXRpb25FdmVudCIsImZhY3RvcnkiLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIm1vZHVsZUlkIiwibW9kdWxlIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ0b1N0cmluZ1RhZyIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb21tb24iLCJfYmFzZURlbHRhIiwiX25leHRJZCIsIl9zZWVkIiwiX25vd1N0YXJ0VGltZSIsIkRhdGUiLCJfd2FybmVkT25jZSIsIl9kZWNvbXAiLCJleHRlbmQiLCJvYmoiLCJkZWVwIiwiYXJnc1N0YXJ0IiwiZGVlcENsb25lIiwiYXJndW1lbnRzIiwic291cmNlIiwicHJvcCIsImNvbnN0cnVjdG9yIiwiY2xvbmUiLCJrZXlzIiwicGF0aCIsImJlZ2luIiwiZW5kIiwic3BsaXQiLCJzZXQiLCJ2YWwiLCJwYXJ0cyIsInNodWZmbGUiLCJhcnJheSIsImoiLCJyYW5kb20iLCJ0ZW1wIiwiY2hvb3NlIiwiY2hvaWNlcyIsImlzRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzQXJyYXkiLCJ0b1N0cmluZyIsImlzRnVuY3Rpb24iLCJpc1BsYWluT2JqZWN0IiwiaXNTdHJpbmciLCJjbGFtcCIsIm1pbiIsInNpZ24iLCJub3ciLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIndlYmtpdE5vdyIsIl9zZWVkZWRSYW5kb20iLCJjb2xvclRvTnVtYmVyIiwiY29sb3JTdHJpbmciLCJyZXBsYWNlIiwiY2hhckF0IiwicGFyc2VJbnQiLCJsb2dMZXZlbCIsImxvZyIsImNvbnNvbGUiLCJhcHBseSIsImNvbmNhdCIsIkFycmF5IiwiaW5mbyIsIndhcm4iLCJ3YXJuT25jZSIsIm1lc3NhZ2UiLCJqb2luIiwiZGVwcmVjYXRlZCIsIndhcm5pbmciLCJjaGFpbiIsIm5leHRJZCIsImluZGV4T2YiLCJoYXlzdGFjayIsIm5lZWRsZSIsIm1hcCIsImxpc3QiLCJmdW5jIiwibWFwcGVkIiwidG9wb2xvZ2ljYWxTb3J0IiwiZ3JhcGgiLCJyZXN1bHQiLCJ2aXNpdGVkIiwibm9kZSIsIl90b3BvbG9naWNhbFNvcnQiLCJuZWlnaGJvcnMiLCJuZWlnaGJvciIsImZ1bmNzIiwiX2NoYWluZWQiLCJsYXN0UmVzdWx0IiwiYXJncyIsImNoYWluUGF0aEJlZm9yZSIsImJhc2UiLCJjaGFpblBhdGhBZnRlciIsInNldERlY29tcCIsImRlY29tcCIsImdldERlY29tcCIsImciLCJlIiwiQm91bmRzIiwidmVydGljZXMiLCJib3VuZHMiLCJ4IiwieSIsInVwZGF0ZSIsInZlbG9jaXR5IiwiSW5maW5pdHkiLCJ2ZXJ0ZXgiLCJjb250YWlucyIsInBvaW50Iiwib3ZlcmxhcHMiLCJib3VuZHNBIiwiYm91bmRzQiIsInRyYW5zbGF0ZSIsInZlY3RvciIsInNoaWZ0IiwicG9zaXRpb24iLCJkZWx0YVgiLCJkZWx0YVkiLCJWZWN0b3IiLCJtYWduaXR1ZGUiLCJzcXJ0IiwibWFnbml0dWRlU3F1YXJlZCIsInJvdGF0ZSIsImFuZ2xlIiwib3V0cHV0IiwiY29zIiwic2luIiwicm90YXRlQWJvdXQiLCJub3JtYWxpc2UiLCJkb3QiLCJ2ZWN0b3JBIiwidmVjdG9yQiIsImNyb3NzIiwiY3Jvc3MzIiwidmVjdG9yQyIsImFkZCIsInN1YiIsIm11bHQiLCJzY2FsYXIiLCJkaXYiLCJwZXJwIiwibmVnYXRlIiwibmVnIiwiYXRhbjIiLCJfdGVtcCIsIlZlcnRpY2VzIiwicG9pbnRzIiwiYm9keSIsImlzSW50ZXJuYWwiLCJmcm9tUGF0aCIsIm1hdGNoIiwicGFyc2VGbG9hdCIsImNlbnRyZSIsImFyZWEiLCJtZWFuIiwiYXZlcmFnZSIsInNpZ25lZCIsImFicyIsImluZXJ0aWEiLCJtYXNzIiwibnVtZXJhdG9yIiwiZGVub21pbmF0b3IiLCJ2IiwidmVydGljZXNMZW5ndGgiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsImR4IiwiZHkiLCJwb2ludFgiLCJwb2ludFkiLCJuZXh0VmVydGV4Iiwic2NhbGUiLCJzY2FsZVgiLCJzY2FsZVkiLCJkZWx0YSIsImNoYW1mZXIiLCJyYWRpdXMiLCJxdWFsaXR5IiwicXVhbGl0eU1pbiIsInF1YWxpdHlNYXgiLCJuZXdWZXJ0aWNlcyIsInByZXZWZXJ0ZXgiLCJjdXJyZW50UmFkaXVzIiwicHJldk5vcm1hbCIsIm5leHROb3JtYWwiLCJkaWFnb25hbFJhZGl1cyIsInJhZGl1c1ZlY3RvciIsIm1pZE5vcm1hbCIsInNjYWxlZFZlcnRleCIsInByZWNpc2lvbiIsInRoZXRhIiwiYWNvcyIsImNsb2Nrd2lzZVNvcnQiLCJzb3J0IiwidmVydGV4QSIsInZlcnRleEIiLCJpc0NvbnZleCIsImsiLCJ6IiwiZmxhZyIsImh1bGwiLCJ1cHBlciIsImxvd2VyIiwicG9wIiwiQm9keSIsIlNsZWVwaW5nIiwiQXhlcyIsIl90aW1lQ29ycmVjdGlvbiIsIl9pbmVydGlhU2NhbGUiLCJfbmV4dENvbGxpZGluZ0dyb3VwSWQiLCJfbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQiLCJfbmV4dENhdGVnb3J5Iiwib3B0aW9ucyIsImRlZmF1bHRzIiwiaWQiLCJsYWJlbCIsInBsdWdpbiIsImZvcmNlIiwidG9ycXVlIiwicG9zaXRpb25JbXB1bHNlIiwiY29uc3RyYWludEltcHVsc2UiLCJ0b3RhbENvbnRhY3RzIiwic3BlZWQiLCJhbmd1bGFyU3BlZWQiLCJhbmd1bGFyVmVsb2NpdHkiLCJpc1NlbnNvciIsImlzU3RhdGljIiwiaXNTbGVlcGluZyIsIm1vdGlvbiIsInNsZWVwVGhyZXNob2xkIiwiZGVuc2l0eSIsInJlc3RpdHV0aW9uIiwiZnJpY3Rpb24iLCJmcmljdGlvblN0YXRpYyIsImZyaWN0aW9uQWlyIiwiY29sbGlzaW9uRmlsdGVyIiwiY2F0ZWdvcnkiLCJtYXNrIiwiZ3JvdXAiLCJzbG9wIiwidGltZVNjYWxlIiwicmVuZGVyIiwidmlzaWJsZSIsIm9wYWNpdHkiLCJzdHJva2VTdHlsZSIsImZpbGxTdHlsZSIsImxpbmVXaWR0aCIsInNwcml0ZSIsInhTY2FsZSIsInlTY2FsZSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiZXZlbnRzIiwiY2lyY2xlUmFkaXVzIiwicG9zaXRpb25QcmV2IiwiYW5nbGVQcmV2IiwicGFyZW50IiwiYXhlcyIsImRlbHRhVGltZSIsIl9vcmlnaW5hbCIsIl9pbml0UHJvcGVydGllcyIsIm5leHRHcm91cCIsImlzTm9uQ29sbGlkaW5nIiwibmV4dENhdGVnb3J5IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRTdHJva2VTdHlsZSIsImRlZmF1bHRMaW5lV2lkdGgiLCJzZXR0aW5ncyIsInNldFN0YXRpYyIsInNldE1hc3MiLCJzZXREZW5zaXR5Iiwic2V0SW5lcnRpYSIsInNldFZlcnRpY2VzIiwic2V0UG9zaXRpb24iLCJzZXRBbmdsZSIsInNldFZlbG9jaXR5Iiwic2V0QW5ndWxhclZlbG9jaXR5Iiwic2V0U3BlZWQiLCJzZXRBbmd1bGFyU3BlZWQiLCJzZXRQYXJ0cyIsInNldENlbnRyZSIsInBhcnQiLCJpbnZlcnNlTWFzcyIsImludmVyc2VJbmVydGlhIiwibW9tZW50IiwiZnJvbVZlcnRpY2VzIiwiYXV0b0h1bGwiLCJodWxsQ2VudHJlIiwidG90YWwiLCJfdG90YWxQcm9wZXJ0aWVzIiwicmVsYXRpdmUiLCJ1cGRhdGVWZWxvY2l0eSIsImdldFZlbG9jaXR5IiwiZ2V0U3BlZWQiLCJnZXRBbmd1bGFyVmVsb2NpdHkiLCJnZXRBbmd1bGFyU3BlZWQiLCJ0cmFuc2xhdGlvbiIsInJvdGF0aW9uIiwidG90YWxBcmVhIiwidG90YWxJbmVydGlhIiwiZGVsdGFUaW1lU3F1YXJlZCIsImNvcnJlY3Rpb24iLCJ2ZWxvY2l0eVByZXZYIiwidmVsb2NpdHlQcmV2WSIsInVwZGF0ZVZlbG9jaXRpZXMiLCJib2R5VmVsb2NpdHkiLCJhcHBseUZvcmNlIiwib2Zmc2V0IiwicHJvcGVydGllcyIsIkV2ZW50cyIsIm9uIiwiZXZlbnROYW1lcyIsImNhbGxiYWNrIiwibmFtZXMiLCJvZmYiLCJjYWxsYmFja3MiLCJuZXdDYWxsYmFja3MiLCJ0cmlnZ2VyIiwiZXZlbnQiLCJldmVudENsb25lIiwiQ29tcG9zaXRlIiwiaXNNb2RpZmllZCIsImJvZGllcyIsImNvbnN0cmFpbnRzIiwiY29tcG9zaXRlcyIsImNhY2hlIiwiYWxsQm9kaWVzIiwiYWxsQ29uc3RyYWludHMiLCJhbGxDb21wb3NpdGVzIiwic2V0TW9kaWZpZWQiLCJjb21wb3NpdGUiLCJ1cGRhdGVQYXJlbnRzIiwidXBkYXRlQ2hpbGRyZW4iLCJjaGlsZENvbXBvc2l0ZSIsIm9iamVjdHMiLCJhZGRCb2R5IiwiYWRkQ29uc3RyYWludCIsImFkZENvbXBvc2l0ZSIsImNvbnN0cmFpbnQiLCJyZW1vdmUiLCJyZW1vdmVCb2R5IiwicmVtb3ZlQ29uc3RyYWludCIsInJlbW92ZUNvbXBvc2l0ZSIsImNvbXBvc2l0ZUEiLCJjb21wb3NpdGVCIiwicmVtb3ZlQ29tcG9zaXRlQXQiLCJyZW1vdmVCb2R5QXQiLCJyZW1vdmVDb25zdHJhaW50QXQiLCJjbGVhciIsImtlZXBTdGF0aWMiLCJmaWx0ZXIiLCJtb3ZlIiwicmViYXNlIiwicmVjdXJzaXZlIiwiX21vdGlvbldha2VUaHJlc2hvbGQiLCJfbW90aW9uU2xlZXBUaHJlc2hvbGQiLCJfbWluQmlhcyIsIm1vdGlvblNsZWVwVGhyZXNob2xkIiwibWluTW90aW9uIiwibWF4TW90aW9uIiwic2xlZXBDb3VudGVyIiwiYWZ0ZXJDb2xsaXNpb25zIiwicGFpcnMiLCJwYWlyIiwiaXNBY3RpdmUiLCJjb2xsaXNpb24iLCJib2R5QSIsImJvZHlCIiwic2xlZXBpbmdCb2R5IiwibW92aW5nQm9keSIsIndhc1NsZWVwaW5nIiwiQ29sbGlzaW9uIiwiX3N1cHBvcnRzIiwiX292ZXJsYXBBQiIsIl9vdmVybGFwQkEiLCJQYWlyIiwib3ZlcmxhcCIsImF4aXMiLCJjb2xsaWRlZCIsInBhcmVudEEiLCJwYXJlbnRCIiwiZGVwdGgiLCJub3JtYWwiLCJ0YW5nZW50IiwicGVuZXRyYXRpb24iLCJzdXBwb3J0cyIsImNvbGxpZGVzIiwiX292ZXJsYXBBeGVzIiwibWluT3ZlcmxhcCIsInRhYmxlIiwibWluQXhpcyIsIm1pbkF4aXNYIiwibWluQXhpc1kiLCJzdXBwb3J0c0IiLCJfZmluZFN1cHBvcnRzIiwic3VwcG9ydENvdW50Iiwic3VwcG9ydHNBIiwidmVydGljZXNBIiwidmVydGljZXNCIiwib3ZlcmxhcEFCIiwib3ZlcmxhcEJBIiwidmVydGljZXNBTGVuZ3RoIiwidmVydGljZXNCTGVuZ3RoIiwidmVydGljZXNBWCIsInZlcnRpY2VzQVkiLCJ2ZXJ0aWNlc0JYIiwidmVydGljZXNCWSIsImF4ZXNMZW5ndGgiLCJvdmVybGFwTWluIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwib3ZlcmxhcEF4aXNOdW1iZXIiLCJheGlzWCIsImF4aXNZIiwibWluQSIsIm1pbkIiLCJtYXhBIiwibWF4QiIsIl9wcm9qZWN0VG9BeGlzIiwicHJvamVjdGlvbiIsImRpcmVjdGlvbiIsInZlcnRleEMiLCJkaXN0YW5jZSIsImJvZHlBUG9zaXRpb25YIiwiYm9keUFQb3NpdGlvblkiLCJub3JtYWxYIiwibm9ybWFsWSIsIm5lYXJlc3REaXN0YW5jZSIsIkNvbnRhY3QiLCJ0aW1lc3RhbXAiLCJjb250YWN0cyIsImFjdGl2ZUNvbnRhY3RzIiwic2VwYXJhdGlvbiIsImNvbmZpcm1lZEFjdGl2ZSIsInRpbWVDcmVhdGVkIiwidGltZVVwZGF0ZWQiLCJwYXJlbnRBVmVydGljZXNMZW5ndGgiLCJzdXBwb3J0IiwiY29udGFjdElkIiwiY29udGFjdCIsInNldEFjdGl2ZSIsIkNvbnN0cmFpbnQiLCJfd2FybWluZyIsIl90b3JxdWVEYW1wZW4iLCJfbWluTGVuZ3RoIiwicG9pbnRBIiwicG9pbnRCIiwiaW5pdGlhbFBvaW50QSIsImluaXRpYWxQb2ludEIiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwiYW5ndWxhclN0aWZmbmVzcyIsImFuZ2xlQSIsImFuZ2xlQiIsImFuY2hvcnMiLCJwcmVTb2x2ZUFsbCIsImltcHVsc2UiLCJzb2x2ZUFsbCIsImZpeGVkQSIsImZpeGVkQiIsInNvbHZlIiwicG9pbnRBV29ybGQiLCJwb2ludEJXb3JsZCIsImN1cnJlbnRMZW5ndGgiLCJzaGFyZSIsIm5vcm1hbFZlbG9jaXR5IiwicmVsYXRpdmVWZWxvY2l0eSIsImRpZmZlcmVuY2UiLCJtYXNzVG90YWwiLCJyZXNpc3RhbmNlVG90YWwiLCJ6ZXJvIiwicG9zdFNvbHZlQWxsIiwiZ3JhZGllbnQiLCJ0b0ZpeGVkIiwieHgiLCJCb2RpZXMiLCJyZWN0YW5nbGUiLCJ3aWR0aCIsImhlaWdodCIsInRyYXBlem9pZCIsInNsb3BlIiwidmVydGljZXNQYXRoIiwieDEiLCJ4MiIsIngzIiwiY2lyY2xlIiwibWF4U2lkZXMiLCJzaWRlcyIsInBvbHlnb24iLCJQSSIsInl5IiwidmVydGV4U2V0cyIsImZsYWdJbnRlcm5hbCIsInJlbW92ZUNvbGxpbmVhciIsIm1pbmltdW1BcmVhIiwicmVtb3ZlRHVwbGljYXRlUG9pbnRzIiwiY2FuRGVjb21wIiwiQm9vbGVhbiIsInF1aWNrRGVjb21wIiwiY29uY2F2ZSIsIm1ha2VDQ1ciLCJyZW1vdmVDb2xsaW5lYXJQb2ludHMiLCJkZWNvbXBvc2VkIiwiY2h1bmtWZXJ0aWNlcyIsInBhcnRBIiwicGFydEIiLCJwYXYiLCJwYnYiLCJkYSIsImRiIiwiRGV0ZWN0b3IiLCJzZXRCb2RpZXMiLCJkZXRlY3RvciIsImNvbGxpc2lvbnMiLCJib2RpZXNMZW5ndGgiLCJjYW5Db2xsaWRlIiwiX2NvbXBhcmVCb3VuZHNYIiwiYm91bmRYTWF4IiwiYm91bmRZTWF4IiwiYm91bmRZTWluIiwiYm9keUFTdGF0aWMiLCJwYXJ0c0FMZW5ndGgiLCJwYXJ0c0FTaW5nbGUiLCJwYXJ0c0JMZW5ndGgiLCJwYXJ0c0JTdGFydCIsImZpbHRlckEiLCJmaWx0ZXJCIiwiTW91c2UiLCJlbGVtZW50IiwibW91c2UiLCJkb2N1bWVudCIsImFic29sdXRlIiwibW91c2Vkb3duUG9zaXRpb24iLCJtb3VzZXVwUG9zaXRpb24iLCJ3aGVlbERlbHRhIiwiYnV0dG9uIiwicGl4ZWxSYXRpbyIsImdldEF0dHJpYnV0ZSIsInNvdXJjZUV2ZW50cyIsIm1vdXNlbW92ZSIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZXdoZWVsIiwiX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwicHJldmVudERlZmF1bHQiLCJkZXRhaWwiLCJzZXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFyU291cmNlRXZlbnRzIiwic2V0T2Zmc2V0Iiwic2V0U2NhbGUiLCJlbGVtZW50Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwicm9vdE5vZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInRvdWNoZXMiLCJwYWdlWCIsImxlZnQiLCJwYWdlWSIsInRvcCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiUGx1Z2luIiwiX3JlZ2lzdHJ5IiwicmVnaXN0ZXIiLCJpc1BsdWdpbiIsInJlZ2lzdGVyZWQiLCJwbHVnaW5WZXJzaW9uIiwidmVyc2lvblBhcnNlIiwidmVyc2lvbiIsIm51bWJlciIsInJlZ2lzdGVyZWRWZXJzaW9uIiwicmVzb2x2ZSIsImRlcGVuZGVuY3kiLCJkZXBlbmRlbmN5UGFyc2UiLCJyYW5nZSIsImluc3RhbGwiLCJpc1VzZWQiLCJ1c2VkIiwiaXNGb3IiLCJwYXJzZWQiLCJmb3IiLCJ2ZXJzaW9uU2F0aXNmaWVzIiwidXNlIiwicGx1Z2lucyIsInVzZXMiLCJkZXBlbmRlbmNpZXMiLCJzb3J0ZWREZXBlbmRlbmNpZXMiLCJzdGF0dXMiLCJfd2FybmVkIiwidHJhY2tlZCIsInBhcnNlZEJhc2UiLCJyZXNvbHZlZCIsInRlc3QiLCJwYXR0ZXJuIiwiZXhlYyIsIm1ham9yIiwibWlub3IiLCJwYXRjaCIsImlzUmFuZ2UiLCJvcGVyYXRvciIsInByZXJlbGVhc2UiLCJub3JtYWxJbXB1bHNlIiwidGFuZ2VudEltcHVsc2UiLCJFbmdpbmUiLCJSZXNvbHZlciIsIlBhaXJzIiwiZW5naW5lIiwicG9zaXRpb25JdGVyYXRpb25zIiwidmVsb2NpdHlJdGVyYXRpb25zIiwiY29uc3RyYWludEl0ZXJhdGlvbnMiLCJlbmFibGVTbGVlcGluZyIsImdyYXZpdHkiLCJ0aW1pbmciLCJsYXN0RGVsdGEiLCJsYXN0RWxhcHNlZCIsIndvcmxkIiwiZ3JpZCIsImJ1Y2tldHMiLCJicm9hZHBoYXNlIiwibWV0cmljcyIsIl9ib2RpZXNBcHBseUdyYXZpdHkiLCJfYm9kaWVzVXBkYXRlIiwiY29sbGlzaW9uU3RhcnQiLCJwb3NpdGlvbkRhbXBpbmciLCJwcmVTb2x2ZVBvc2l0aW9uIiwic29sdmVQb3NpdGlvbiIsInBvc3RTb2x2ZVBvc2l0aW9uIiwicHJlU29sdmVWZWxvY2l0eSIsInNvbHZlVmVsb2NpdHkiLCJfYm9kaWVzVXBkYXRlVmVsb2NpdGllcyIsImNvbGxpc2lvbkFjdGl2ZSIsImNvbGxpc2lvbkVuZCIsIl9ib2RpZXNDbGVhckZvcmNlcyIsIm1lcmdlIiwiZW5naW5lQSIsImVuZ2luZUIiLCJncmF2aXR5U2NhbGUiLCJfcmVzdGluZ1RocmVzaCIsIl9yZXN0aW5nVGhyZXNoVGFuZ2VudCIsIl9wb3NpdGlvbkRhbXBlbiIsIl9wb3NpdGlvbldhcm1pbmciLCJfZnJpY3Rpb25Ob3JtYWxNdWx0aXBsaWVyIiwiX2ZyaWN0aW9uTWF4U3RhdGljIiwiYWN0aXZlQ291bnQiLCJwYWlyc0xlbmd0aCIsImNvbnRhY3RTaGFyZSIsInBvc2l0aW9uRGFtcGVuIiwic2xvcERhbXBlbiIsInBvc2l0aW9uV2FybWluZyIsInZlcnRpY2VzVHJhbnNsYXRlIiwiYm91bmRzVXBkYXRlIiwicG9zaXRpb25JbXB1bHNlWCIsInBvc2l0aW9uSW1wdWxzZVkiLCJjb250YWN0c0xlbmd0aCIsImNvbnRhY3RWZXJ0ZXgiLCJpbXB1bHNlWCIsImltcHVsc2VZIiwibWF4RnJpY3Rpb24iLCJ0aW1lU2NhbGVDdWJlZCIsInJlc3RpbmdUaHJlc2giLCJyZXN0aW5nVGhyZXNoVGFuZ2VudCIsImZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciIsImZyaWN0aW9uTWF4U3RhdGljIiwiYm9keUFWZWxvY2l0eSIsImJvZHlCVmVsb2NpdHkiLCJ0YW5nZW50WCIsInRhbmdlbnRZIiwiaW52ZXJzZU1hc3NUb3RhbCIsIm9mZnNldEFYIiwib2Zmc2V0QVkiLCJvZmZzZXRCWCIsIm9mZnNldEJZIiwidmVsb2NpdHlQb2ludEFYIiwidmVsb2NpdHlQb2ludEFZIiwicmVsYXRpdmVWZWxvY2l0eVgiLCJyZWxhdGl2ZVZlbG9jaXR5WSIsInRhbmdlbnRWZWxvY2l0eSIsIm5vcm1hbE92ZXJsYXAiLCJub3JtYWxGb3JjZSIsImZyaWN0aW9uTGltaXQiLCJvQWNOIiwib0JjTiIsImNvbnRhY3ROb3JtYWxJbXB1bHNlIiwiY29udGFjdFRhbmdlbnRJbXB1bHNlIiwicGFpckluZGV4IiwicGFpcnNMaXN0IiwicGFpcnNMaXN0TGVuZ3RoIiwicGFpcnNUYWJsZSIsImNvbGxpc2lvbnNMZW5ndGgiLCJyZW1vdmVQYWlySW5kZXgiLCJNYXR0ZXIiLCJDb21wb3NpdGVzIiwiR3JpZCIsIk1vdXNlQ29uc3RyYWludCIsIlF1ZXJ5IiwiUmVuZGVyIiwiUnVubmVyIiwiU0FUIiwiU3ZnIiwiV29ybGQiLCJydW4iLCJiZWZvcmUiLCJhZnRlciIsInN0YWNrIiwiY29sdW1ucyIsInJvd3MiLCJjb2x1bW5HYXAiLCJyb3dHYXAiLCJsYXN0Qm9keSIsInJvdyIsIm1heEhlaWdodCIsImNvbHVtbiIsImJvZHlIZWlnaHQiLCJib2R5V2lkdGgiLCJ4T2Zmc2V0QSIsInlPZmZzZXRBIiwieE9mZnNldEIiLCJ5T2Zmc2V0QiIsImJvZHlBSGVpZ2h0IiwiYm9keUFXaWR0aCIsImJvZHlCSGVpZ2h0IiwibWVzaCIsImNyb3NzQnJhY2UiLCJjb2wiLCJib2R5QyIsInB5cmFtaWQiLCJhY3R1YWxSb3dzIiwibGFzdEJvZHlXaWR0aCIsIm5ld3RvbnNDcmFkbGUiLCJzaXplIiwiY2FyIiwid2hlZWxTaXplIiwid2hlZWxBT2Zmc2V0Iiwid2hlZWxCT2Zmc2V0Iiwid2hlZWxBIiwid2hlZWxCIiwiYXhlbEEiLCJheGVsQiIsInNvZnRCb2R5IiwicGFydGljbGVSYWRpdXMiLCJwYXJ0aWNsZU9wdGlvbnMiLCJjb25zdHJhaW50T3B0aW9ucyIsImJ1Y2tldFdpZHRoIiwiYnVja2V0SGVpZ2h0IiwiZm9yY2VVcGRhdGUiLCJidWNrZXQiLCJidWNrZXRJZCIsImdyaWRDaGFuZ2VkIiwibmV3UmVnaW9uIiwiX2dldFJlZ2lvbiIsInJlZ2lvbiIsInVuaW9uIiwiX3JlZ2lvblVuaW9uIiwic3RhcnRDb2wiLCJlbmRDb2wiLCJzdGFydFJvdyIsImVuZFJvdyIsIl9nZXRCdWNrZXRJZCIsImlzSW5zaWRlTmV3UmVnaW9uIiwiaXNJbnNpZGVPbGRSZWdpb24iLCJfYnVja2V0UmVtb3ZlQm9keSIsIl9jcmVhdGVCdWNrZXQiLCJfYnVja2V0QWRkQm9keSIsIl9jcmVhdGVBY3RpdmVQYWlyc0xpc3QiLCJyZWdpb25BIiwicmVnaW9uQiIsIl9jcmVhdGVSZWdpb24iLCJncmlkUGFpcnMiLCJwYWlySWQiLCJidWNrZXRMZW5ndGgiLCJwYWlyS2V5cyIsInBhaXJLZXlzTGVuZ3RoIiwiY2FudmFzIiwibW91c2VDb25zdHJhaW50IiwiX3RyaWdnZXJFdmVudHMiLCJtb3VzZUV2ZW50cyIsInBhcnRzQVN0YXJ0IiwicmF5Iiwic3RhcnRQb2ludCIsImVuZFBvaW50IiwicmF5V2lkdGgiLCJyYXlBbmdsZSIsInJheUxlbmd0aCIsInJheVgiLCJyYXlZIiwib3V0c2lkZSIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiX2dvb2RGcHMiLCJfZ29vZERlbHRhIiwiZnJhbWVSZXF1ZXN0SWQiLCJoaXN0b3J5U2l6ZSIsImRlbHRhSGlzdG9yeSIsImxhc3RUaW1lIiwibGFzdFRpbWVzdGFtcCIsInRpbWVzdGFtcEVsYXBzZWQiLCJ0aW1lc3RhbXBFbGFwc2VkSGlzdG9yeSIsImVuZ2luZURlbHRhSGlzdG9yeSIsImVuZ2luZUVsYXBzZWRIaXN0b3J5IiwiZWxhcHNlZEhpc3RvcnkiLCJiYWNrZ3JvdW5kIiwid2lyZWZyYW1lQmFja2dyb3VuZCIsImhhc0JvdW5kcyIsImVuYWJsZWQiLCJ3aXJlZnJhbWVzIiwic2hvd1NsZWVwaW5nIiwic2hvd0RlYnVnIiwic2hvd1N0YXRzIiwic2hvd1BlcmZvcm1hbmNlIiwic2hvd0JvdW5kcyIsInNob3dWZWxvY2l0eSIsInNob3dDb2xsaXNpb25zIiwic2hvd1NlcGFyYXRpb25zIiwic2hvd0F4ZXMiLCJzaG93UG9zaXRpb25zIiwic2hvd0FuZ2xlSW5kaWNhdG9yIiwic2hvd0lkcyIsInNob3dWZXJ0ZXhOdW1iZXJzIiwic2hvd0NvbnZleEh1bGxzIiwic2hvd0ludGVybmFsRWRnZXMiLCJzaG93TW91c2VQb3NpdGlvbiIsIl9jcmVhdGVDYW52YXMiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInRleHR1cmVzIiwiY29udHJvbGxlciIsInNob3dCcm9hZHBoYXNlIiwic2V0UGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwibG9vcCIsIl91cGRhdGVUaW1pbmciLCJzdGF0cyIsInN0b3AiLCJfZ2V0UGl4ZWxSYXRpbyIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwibG9va0F0IiwicGFkZGluZyIsImNlbnRlciIsInZpZXdIZWlnaHQiLCJvdXRlclJhdGlvIiwiaW5uZXJSYXRpbyIsInN0YXJ0Vmlld1RyYW5zZm9ybSIsImJvdW5kc1dpZHRoIiwiYm91bmRzSGVpZ2h0IiwiYm91bmRzU2NhbGVYIiwiYm91bmRzU2NhbGVZIiwic2V0VHJhbnNmb3JtIiwiZW5kVmlld1RyYW5zZm9ybSIsImN1cnJlbnRCYWNrZ3JvdW5kIiwiX2FwcGx5QmFja2dyb3VuZCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxSZWN0IiwiYm9keUNvbnZleEh1bGxzIiwiYm9keVdpcmVmcmFtZXMiLCJib2R5Qm91bmRzIiwiYm9keUF4ZXMiLCJib2R5UG9zaXRpb25zIiwiYm9keUlkcyIsInNlcGFyYXRpb25zIiwidmVydGV4TnVtYmVycyIsIm1vdXNlUG9zaXRpb24iLCJzZWN0aW9ucyIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJ0ZXh0QWxpZ24iLCJzZWN0aW9uIiwiZmlsbFRleHQiLCJsYXN0RW5naW5lRGVsdGEiLCJkZWx0YU1lYW4iLCJfbWVhbiIsImVsYXBzZWRNZWFuIiwiZW5naW5lRGVsdGFNZWFuIiwiZW5naW5lRWxhcHNlZE1lYW4iLCJyYXRlTWVhbiIsImZwcyIsImdhcCIsInJvdW5kIiwiY291bnQiLCJpbmRpY2F0b3IiLCJwbG90WSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInN0YXJ0IiwiYXJjIiwiY2xvc2VQYXRoIiwiY29pbHMiLCJmaWxsIiwiZ2xvYmFsQWxwaGEiLCJ0ZXh0dXJlIiwiX2dldFRleHR1cmUiLCJkcmF3SW1hZ2UiLCJyZWN0Iiwibm9ybWFsUG9zWCIsIm5vcm1hbFBvc1kiLCJpbnNwZWN0b3IiLCJzZWxlY3RlZCIsIml0ZW0iLCJkYXRhIiwic2V0TGluZURhc2giLCJzZWxlY3RTdGFydCIsInNlbGVjdEJvdW5kcyIsImNyZWF0ZUVsZW1lbnQiLCJvbmNvbnRleHRtZW51Iiwib25zZWxlY3RzdGFydCIsImRldmljZVBpeGVsUmF0aW8iLCJ3ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImltYWdlUGF0aCIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJjc3NCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZFNpemUiLCJfZnJhbWVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicnVubmVyIiwiZGVsdGFTYW1wbGVTaXplIiwiY291bnRlclRpbWVzdGFtcCIsImZyYW1lQ291bnRlciIsInRpbWVQcmV2IiwiaXNGaXhlZCIsImRlbHRhTWluIiwiZGVsdGFNYXgiLCJ0aWNrIiwicGF0aFRvVmVydGljZXMiLCJzYW1wbGVMZW5ndGgiLCJpbCIsInNlZ21lbnQiLCJzZWdtZW50cyIsInNlZ21lbnRzUXVldWUiLCJsYXN0U2VnbWVudCIsImxhc3RQb2ludCIsImx4IiwibHkiLCJhZGRQb2ludCIsInB4IiwicHkiLCJwYXRoU2VnVHlwZSIsImlzUmVsYXRpdmUiLCJhZGRTZWdtZW50UG9pbnQiLCJzZWdUeXBlIiwicGF0aFNlZ1R5cGVBc0xldHRlciIsInRvVXBwZXJDYXNlIiwiX3N2Z1BhdGhUb0Fic29sdXRlIiwiZ2V0VG90YWxMZW5ndGgiLCJwYXRoU2VnTGlzdCIsIm51bWJlck9mSXRlbXMiLCJnZXRJdGVtIiwiZ2V0UGF0aFNlZ0F0TGVuZ3RoIiwiZ2V0UG9pbnRBdExlbmd0aCIsIngwIiwieTAiLCJ5MSIsInkyIiwic2VncyIsImxlbiIsInNlZyIsInJlcGxhY2VJdGVtIiwiY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b0FicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMiLCJjcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyIsImNyZWF0ZVNWR1BhdGhTZWdBcmNBYnMiLCJyMSIsInIyIiwibGFyZ2VBcmNGbGFnIiwic3dlZXBGbGFnIiwiYXJyIiwiYXJyMiIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJ0b1Byb3BlcnR5S2V5IiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwiYXJyYXlXaXRoSG9sZXMiLCJpdGVyYWJsZVRvQXJyYXlMaW1pdCIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVSZXN0IiwiX3R5cGVvZiIsInRvUHJpbWl0aXZlIiwiU3RyaW5nIiwiYXJyYXlMaWtlVG9BcnJheSIsIm1pbkxlbiIsImZyb20iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsImhhbmRsZU1vdGlvbiIsImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsIkFDVElWRV9BVURJT19OT0RFX1NUT1JFIiwiV2Vha1NldCIsIkFVRElPX05PREVfQ09OTkVDVElPTlNfU1RPUkUiLCJXZWFrTWFwIiwiQVVESU9fTk9ERV9TVE9SRSIsIkFVRElPX1BBUkFNX0NPTk5FQ1RJT05TX1NUT1JFIiwiQVVESU9fUEFSQU1fU1RPUkUiLCJDT05URVhUX1NUT1JFIiwiRVZFTlRfTElTVEVORVJTIiwiQ1lDTEVfQ09VTlRFUlMiLCJOT0RFX05BTUVfVE9fUFJPQ0VTU09SX0NPTlNUUlVDVE9SX01BUFMiLCJOT0RFX1RPX1BST0NFU1NPUl9NQVBTIiwiaGFuZGxlciIsImNvbnN0cnVjdCIsIklNUE9SVF9TVEFURU1FTlRfUkVHRVgiLCJzcGxpdEltcG9ydFN0YXRlbWVudHMiLCJ1cmwiLCJpbXBvcnRTdGF0ZW1lbnRzIiwic291cmNlV2l0aG91dEltcG9ydFN0YXRlbWVudHMiLCJ1bnJlc29sdmVkVXJsIiwiaW1wb3J0U3RhdGVtZW50V2l0aFJlc29sdmVkVXJsIiwiVVJMIiwidmVyaWZ5UGFyYW1ldGVyRGVzY3JpcHRvcnMiLCJwYXJhbWV0ZXJEZXNjcmlwdG9ycyIsInZlcmlmeVByb2Nlc3NvckN0b3IiLCJwcm9jZXNzb3JDdG9yIiwiY29uc3RydWN0aWJsZSIsIlByb3h5IiwiaXNDb25zdHJ1Y3RpYmxlIiwiZ2V0VmFsdWVGb3JLZXkiLCJwaWNrRWxlbWVudEZyb21TZXQiLCJwcmVkaWNhdGUiLCJtYXRjaGluZ0VsZW1lbnRzIiwibWF0Y2hpbmdFbGVtZW50IiwiZGVsZXRlIiwiZGVsZXRlUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwicGFzc2l2ZUlucHV0cyIsImlucHV0IiwicGFzc2l2ZUlucHV0Q29ubmVjdGlvbnMiLCJtYXRjaGluZ0Nvbm5lY3Rpb24iLCJwYXNzaXZlSW5wdXRDb25uZWN0aW9uIiwiZ2V0RXZlbnRMaXN0ZW5lcnNPZkF1ZGlvTm9kZSIsImF1ZGlvTm9kZSIsInNldEludGVybmFsU3RhdGVUb0FjdGl2ZSIsImhhcyIsImZvckVhY2giLCJldmVudExpc3RlbmVyIiwiaXNBdWRpb1dvcmtsZXROb2RlIiwic2V0SW50ZXJuYWxTdGF0ZVRvUGFzc2l2ZSIsInNldEludGVybmFsU3RhdGVUb1Bhc3NpdmVXaGVuTmVjZXNzYXJ5IiwiYWN0aXZlSW5wdXRzIiwiZXZlcnkiLCJjb25uZWN0aW9ucyIsIkRFRkFVTFRfT1BUSU9OUyIsImNoYW5uZWxDb3VudCIsImNoYW5uZWxDb3VudE1vZGUiLCJjaGFubmVsSW50ZXJwcmV0YXRpb24iLCJmZnRTaXplIiwibWF4RGVjaWJlbHMiLCJtaW5EZWNpYmVscyIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImlzT3duZWRCeUNvbnRleHQiLCJuYXRpdmVBdWRpb05vZGUiLCJuYXRpdmVDb250ZXh0IiwidGVzdEF1ZGlvQnVmZmVyQ29weUNoYW5uZWxNZXRob2RzT3V0T2ZCb3VuZHNTdXBwb3J0IiwibmF0aXZlQXVkaW9CdWZmZXIiLCJjb3B5VG9DaGFubmVsIiwiRmxvYXQzMkFycmF5IiwiY3JlYXRlSW5kZXhTaXplRXJyb3IiLCJET01FeGNlcHRpb24iLCJ3cmFwQXVkaW9CdWZmZXJHZXRDaGFubmVsRGF0YU1ldGhvZCIsImF1ZGlvQnVmZmVyIiwiZ2V0Q2hhbm5lbERhdGEiLCJjaGFubmVsIiwiZXJyIiwiY29kZSIsIm51bWJlck9mQ2hhbm5lbHMiLCJNT1NUX05FR0FUSVZFX1NJTkdMRV9GTE9BVCIsIk1PU1RfUE9TSVRJVkVfU0lOR0xFX0ZMT0FUIiwiaXNBY3RpdmVBdWRpb05vZGUiLCJidWZmZXIiLCJsb29wRW5kIiwibG9vcFN0YXJ0IiwicGxheWJhY2tSYXRlIiwiZ2V0QXVkaW9Ob2RlQ29ubmVjdGlvbnMiLCJnZXRBdWRpb1BhcmFtQ29ubmVjdGlvbnMiLCJhdWRpb1BhcmFtIiwiZGVhY3RpdmF0ZUFjdGl2ZUF1ZGlvTm9kZUlucHV0Q29ubmVjdGlvbnMiLCJ0cmFjZSIsImF1ZGlvUGFyYW1zIiwiaXNBdWRpb0J1ZmZlclNvdXJjZU5vZGUiLCJwYXJhbWV0ZXJzIiwiaXNCaXF1YWRGaWx0ZXJOb2RlIiwiUSIsImRldHVuZSIsImZyZXF1ZW5jeSIsImdhaW4iLCJpc0NvbnN0YW50U291cmNlTm9kZSIsImlzR2Fpbk5vZGUiLCJpc09zY2lsbGF0b3JOb2RlIiwiaXNTdGVyZW9QYW5uZXJOb2RlIiwicGFuIiwiYXVkaW9QYXJhbUNvbm5lY3Rpb25zIiwiZGVhY3RpdmF0ZUF1ZGlvR3JhcGgiLCJkZXN0aW5hdGlvbiIsImlzQXVkaW9Ob2RlIiwiYXVkaW9Ob2RlT3JBdWRpb1BhcmFtIiwiaXNBdWRpb05vZGVPdXRwdXRDb25uZWN0aW9uIiwib3V0cHV0Q29ubmVjdGlvbiIsImluc2VydEVsZW1lbnRJblNldCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJsbW50IiwiYWRkQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb1BhcmFtIiwiYWN0aXZlSW5wdXRDb25uZWN0aW9uIiwiYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSIsIlNldCIsImlzTmF0aXZlQXVkaW9Ob2RlRmFrZXIiLCJuYXRpdmVBdWRpb05vZGVPck5hdGl2ZUF1ZGlvTm9kZUZha2VyIiwiY29ubmVjdE5hdGl2ZUF1ZGlvTm9kZVRvTmF0aXZlQXVkaW9Ob2RlIiwibmF0aXZlU291cmNlQXVkaW9Ob2RlIiwibmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUiLCJmYWtlTmF0aXZlRGVzdGluYXRpb25BdWRpb05vZGUiLCJpbnB1dHMiLCJjb25uZWN0IiwiZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uIiwiYWN0aXZlSW5wdXRDb25uZWN0aW9ucyIsImRlbGV0ZUV2ZW50TGlzdGVuZXJPZkF1ZGlvTm9kZSIsImRlbGV0ZVBhc3NpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW0iLCJkaXNjb25uZWN0TmF0aXZlQXVkaW9Ob2RlRnJvbU5hdGl2ZUF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJnZXROYXRpdmVBdWRpb05vZGUiLCJnZXROYXRpdmVBdWRpb1BhcmFtIiwiaXNQYXJ0T2ZBQ3ljbGUiLCJpc1Bhc3NpdmVBdWRpb05vZGUiLCJ0ZXN0QXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZFN1cHBvcnQiLCJuYXRpdmVBdWRpb0NvbnRleHQiLCJuYXRpdmVBdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IiLCJQcm9taXNlIiwiYW5hbHl6ZXIiLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJkdW1teSIsImNyZWF0ZUdhaW4iLCJvbmVzIiwiY3JlYXRlQnVmZmVyIiwiY2hhbm5lbERhdGEiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJvbmF1ZGlvcHJvY2VzcyIsImNobm5sRHQiLCJpbnB1dEJ1ZmZlciIsInNvbWUiLCJzYW1wbGUiLCJ2aXNpdEVhY2hBdWRpb05vZGVPbmNlIiwiY3ljbGVzIiwidmlzaXRvciIsImNvdW50cyIsIk1hcCIsImN5Y2xlIiwiaXNOYXRpdmVBdWRpb05vZGUiLCJuYXRpdmVBdWRpb05vZGVPckF1ZGlvUGFyYW0iLCJ3cmFwQXVkaW9Ob2RlRGlzY29ubmVjdE1ldGhvZCIsInJldHVyblZhbHVlIiwiY29ubmVjdGlvbnNUb0Rlc3RpbmF0aW9uIiwiY29ubmVjdGlvbiIsImRlc3RpbmF0aW9uT3JPdXRwdXQiLCJmaWx0ZXJlZENvbm5lY3Rpb25zIiwiZGVsZXRlSW5wdXRzT2ZBdWRpb05vZGUiLCJpc09mZmxpbmUiLCJsaXN0ZW5lciIsImRlbGV0ZUlucHV0Q29ubmVjdGlvbk9mQXVkaW9Ob2RlIiwiZGVsZXRlSW5wdXRzT2ZBdWRpb1BhcmFtIiwiZGVsZXRlSW5wdXRDb25uZWN0aW9uT2ZBdWRpb1BhcmFtIiwiUmVhZE9ubHlNYXAiLCJfbWFwIiwiZW50cmllcyIsInRoaXNBcmciLCJudW1iZXJPZklucHV0cyIsIm51bWJlck9mT3V0cHV0cyIsInBhcmFtZXRlckRhdGEiLCJwcm9jZXNzb3JPcHRpb25zIiwiY29weUZyb21DaGFubmVsIiwiY2hhbm5lbE51bWJlciIsImJ1ZmZlck9mZnNldCIsImJ5dGVMZW5ndGgiLCJzbGljZWRJbnB1dCIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiY3JlYXRlTmVzdGVkQXJyYXlzIiwiYXJyYXlzIiwicHJvY2Vzc0J1ZmZlciIsImFzeW5jIiwicHJveHkiLCJyZW5kZXJlZEJ1ZmZlciIsIm5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJvdXRwdXRDaGFubmVsQ291bnQiLCJwcm9jZXNzb3JDb25zdHJ1Y3RvciIsImV4cG9zZUN1cnJlbnRGcmFtZUFuZEN1cnJlbnRUaW1lIiwibnVtYmVyT2ZJbnB1dENoYW5uZWxzIiwibnVtYmVyT2ZPdXRwdXRDaGFubmVscyIsInJlZHVjZSIsInN1bSIsInByb2Nlc3NlZEJ1ZmZlciIsInNhbXBsZVJhdGUiLCJhdWRpb05vZGVDb25uZWN0aW9ucyIsImF1ZGlvV29ya2xldFByb2Nlc3NvciIsIm5vZGVUb1Byb2Nlc3Nvck1hcCIsIm5hdGl2ZUF1ZGlvV29ya2xldE5vZGUiLCJnZXRBdWRpb1dvcmtsZXRQcm9jZXNzb3IiLCJvdXRwdXRzIiwicHJtdHJzIiwicG90ZW50aWFsbHlFbXB0eUlucHV0cyIsImFjdGl2ZVNvdXJjZUZsYWciLCJwcm9jZXNzIiwib3V0cHV0Q2hhbm5lbFNwbGl0dGVyTm9kZU91dHB1dCIsImVycm9yIiwiZGlzcGF0Y2hFdmVudCIsIkVycm9yRXZlbnQiLCJjb2xubyIsImZpbGVuYW1lIiwibGluZW5vIiwiZGlzYWJsZU5vcm1hbGl6YXRpb24iLCJkZXRhY2hBcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwicG9ydDEiLCJwb3J0MiIsIk1lc3NhZ2VDaGFubmVsIiwiY2xvc2VBbmRSZXNvbHZlIiwib25tZXNzYWdlIiwiY2xvc2UiLCJwb3N0TWVzc2FnZSIsImRlbGF5VGltZSIsIm1heERlbGF5VGltZSIsImdldE91dHB1dEF1ZGlvTm9kZUF0SW5kZXgiLCJvdXRwdXRBdWRpb05vZGVzIiwib3V0cHV0QXVkaW9Ob2RlIiwiYXR0YWNrIiwia25lZSIsInJlbGVhc2UiLCJ0aHJlc2hvbGQiLCJjcmVhdGVJbnZhbGlkU3RhdGVFcnJvciIsImNyZWF0ZUludmFsaWRBY2Nlc3NFcnJvciIsImZpbHRlckJ1ZmZlciIsImZlZWRiYWNrIiwiZmVlZGJhY2tMZW5ndGgiLCJmZWVkZm9yd2FyZCIsImZlZWRmb3J3YXJkTGVuZ3RoIiwibWluTGVuZ3RoIiwieEJ1ZmZlciIsInlCdWZmZXIiLCJidWZmZXJJbmRleCIsImJ1ZmZlckxlbmd0aCIsImlucHV0TGVuZ3RoIiwidGVzdFByb21pc2VTdXBwb3J0IiwidWludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsInByb21pc2UiLCJkZWNvZGVBdWRpb0RhdGEiLCJjYXRjaCIsImFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbiIsIm9wdGlvbiIsImFzc2lnbk5hdGl2ZUF1ZGlvTm9kZU9wdGlvbnMiLCJ0ZXN0QW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZFN1cHBvcnQiLCJuYXRpdmVBbmFseXNlck5vZGUiLCJnZXRGbG9hdFRpbWVEb21haW5EYXRhIiwiYXNzaWduTmF0aXZlQXVkaW9Ob2RlQXVkaW9QYXJhbVZhbHVlIiwid3JhcEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0YXJ0TWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzIiwibmF0aXZlQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlIiwid2hlbiIsIlJhbmdlRXJyb3IiLCJ3cmFwQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlU3RvcE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVycyIsImNvbXB1dGVCdWZmZXJTaXplIiwiYmFzZUxhdGVuY3kiLCJsb2cyIiwiY3JlYXRlTmF0aXZlQmlxdWFkRmlsdGVyTm9kZSIsIm5hdGl2ZUJpcXVhZEZpbHRlck5vZGUiLCJjcmVhdGVCaXF1YWRGaWx0ZXIiLCJjcmVhdGVOYXRpdmVDaGFubmVsU3BsaXR0ZXJOb2RlIiwibmF0aXZlQ2hhbm5lbFNwbGl0dGVyTm9kZSIsImNyZWF0ZUNoYW5uZWxTcGxpdHRlciIsImNoYW5uZWxTcGxpdHRlck5vZGUiLCJ3cmFwQ2hhbm5lbFNwbGl0dGVyTm9kZSIsImludGVyY2VwdENvbm5lY3Rpb25zIiwib3JpZ2luYWwiLCJpbnRlcmNlcHRvciIsImNyZWF0ZU5hdGl2ZURlbGF5Tm9kZSIsIm5hdGl2ZURlbGF5Tm9kZSIsImNyZWF0ZURlbGF5IiwiY3JlYXRlTmF0aXZlR2Fpbk5vZGUiLCJuYXRpdmVHYWluTm9kZSIsImRpdmlkZSIsImIiLCJldmFsdWF0ZVBvbHlub21pYWwiLCJjb2VmZmljaWVudCIsImNyZWF0ZU5hdGl2ZVNjcmlwdFByb2Nlc3Nvck5vZGUiLCJidWZmZXJTaXplIiwiY3JlYXRlTm90U3VwcG9ydGVkRXJyb3IiLCJwZXJpb2RpY1dhdmUiLCJjb25lSW5uZXJBbmdsZSIsImNvbmVPdXRlckFuZ2xlIiwiY29uZU91dGVyR2FpbiIsImRpc3RhbmNlTW9kZWwiLCJtYXhEaXN0YW5jZSIsIm9yaWVudGF0aW9uWCIsIm9yaWVudGF0aW9uWSIsIm9yaWVudGF0aW9uWiIsInBhbm5pbmdNb2RlbCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsInBvc2l0aW9uWiIsInJlZkRpc3RhbmNlIiwicm9sbG9mZkZhY3RvciIsImNyZWF0ZVVua25vd25FcnJvciIsImN1cnZlIiwib3ZlcnNhbXBsZSIsImdldEZpcnN0U2FtcGxlIiwiaXNEQ0N1cnZlIiwib3ZlcndyaXRlQWNjZXNzb3JzIiwiY3JlYXRlR2V0dGVyIiwiY3JlYXRlU2V0dGVyIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXRWYWx1ZUF0VGltZVVudGlsUG9zc2libGUiLCJzZXRWYWx1ZUF0VGltZSIsInRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdGFydE1ldGhvZE5lZ2F0aXZlUGFyYW1ldGVyc1N1cHBvcnQiLCJuYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUiLCJjcmVhdGVPc2NpbGxhdG9yIiwidGVzdEF1ZGlvU2NoZWR1bGVkU291cmNlTm9kZVN0b3BNZXRob2RDb25zZWN1dGl2ZUNhbGxzU3VwcG9ydCIsInRlc3RBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kTmVnYXRpdmVQYXJhbWV0ZXJzU3VwcG9ydCIsIndyYXBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGVTdG9wTWV0aG9kQ29uc2VjdXRpdmVDYWxscyIsImRpc2Nvbm5lY3RHYWluTm9kZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc1N0b3BwZWQiLCJ3cmFwRXZlbnRMaXN0ZW5lciIsImRlZmluZVByb3BlcnRpZXMiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlRXZlbnQiLCJhZGRBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSIsImNyZWF0ZUFkZEFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiYWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiY3JlYXRlQWRkUGFzc2l2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiZGVsZXRlQWN0aXZlSW5wdXRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJjcmVhdGVEZWxldGVBY3RpdmVJbnB1dENvbm5lY3Rpb25Ub0F1ZGlvTm9kZSIsImF1ZGlvTm9kZVRhaWxUaW1lU3RvcmUiLCJnZXRBdWRpb05vZGVUYWlsVGltZSIsIl9hIiwiY3JlYXRlR2V0QXVkaW9Ob2RlVGFpbFRpbWUiLCJjYWNoZVRlc3RSZXN1bHQiLCJvbmdvaW5nVGVzdHMiLCJ0ZXN0UmVzdWx0cyIsInRlc3RlciIsImNhY2hlZFRlc3RSZXN1bHQiLCJvbmdvaW5nVGVzdCIsInN5bmNocm9ub3VzVGVzdFJlc3VsdCIsInRoZW4iLCJmaW5hbFRlc3RSZXN1bHQiLCJjcmVhdGVOYXRpdmVBbmFseXNlck5vZGUiLCJjcmVhdGVBbmFseXNlciIsImJ5dGVUaW1lRG9tYWluRGF0YSIsIlVpbnQ4QXJyYXkiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJ3cmFwQW5hbHlzZXJOb2RlR2V0RmxvYXRUaW1lRG9tYWluRGF0YU1ldGhvZCIsImNyZWF0ZU5hdGl2ZUFuYWx5c2VyTm9kZUZhY3RvcnkiLCJnZXRBdWRpb05vZGVSZW5kZXJlciIsInJlbmRlcmVyIiwiY3JlYXRlR2V0QXVkaW9Ob2RlUmVuZGVyZXIiLCJyZW5kZXJJbnB1dHNPZkF1ZGlvTm9kZSIsImFsbCIsImF1ZGlvTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVBdWRpb05vZGUiLCJhbGxSZW5kZXJpbmdQcm9taXNlcyIsInJlbmRlcmluZ1Byb21pc2VzIiwiY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb05vZGUiLCJjcmVhdGVBbmFseXNlck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2RlcyIsInJlbmRlcmVkTmF0aXZlQW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXJOb2RlUmVuZGVyZXJGYWN0b3J5IiwiZ2V0TmF0aXZlQ29udGV4dCIsImNvbnRleHRTdG9yZSIsIm5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsIk9mZmxpbmVBdWRpb0NvbnRleHQiLCJ3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiaXNOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IiwiYW55dGhpbmciLCJjcmVhdGVJc05hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJhdWRpb1BhcmFtQXVkaW9Ob2RlU3RvcmUiLCJldmVudFRhcmdldENvbnN0cnVjdG9yIiwiX25hdGl2ZUV2ZW50VGFyZ2V0IiwiX2xpc3RlbmVycyIsIndyYXBwZWRFdmVudExpc3RlbmVyIiwiY3JlYXRlRXZlbnRUYXJnZXRDb25zdHJ1Y3RvciIsIm5hdGl2ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiY3JlYXRlTmF0aXZlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJpc05hdGl2ZUF1ZGlvQ29udGV4dCIsImNyZWF0ZUlzTmF0aXZlQXVkaW9Db250ZXh0IiwiQXVkaW9Ob2RlIiwiY3JlYXRlSXNOYXRpdmVBdWRpb05vZGUiLCJpc05hdGl2ZUF1ZGlvUGFyYW0iLCJBdWRpb1BhcmFtIiwiY3JlYXRlSXNOYXRpdmVBdWRpb1BhcmFtIiwiQXVkaW9Xb3JrbGV0Tm9kZSIsImNyZWF0ZU5hdGl2ZUF1ZGlvV29ya2xldE5vZGVDb25zdHJ1Y3RvciIsImF1ZGlvTm9kZUNvbnN0cnVjdG9yIiwiYWRkQXVkaW9Ob2RlQ29ubmVjdGlvbnMiLCJhZGRDb25uZWN0aW9uVG9BdWRpb05vZGUiLCJjcmVhdGVJbmNyZW1lbnRDeWNsZUNvdW50ZXIiLCJkZWNyZW1lbnRDeWNsZUNvdW50ZXIiLCJkZXRlY3RDeWNsZXMiLCJzdXBlciIsIl9jb250ZXh0IiwiX25hdGl2ZUF1ZGlvTm9kZSIsInN0YXRlIiwiaXNQYXNzaXZlIiwibmF0aXZlQXVkaW9QYXJhbSIsIm1heFZhbHVlIiwiZXZlbnRMaXN0ZW5lcnMiLCJwYXJ0aWFsQ29ubmVjdGlvbiIsImRlbGV0ZUFjdGl2ZUlucHV0Q29ubmVjdGlvblRvQXVkaW9QYXJhbSIsImFkZENvbm5lY3Rpb25Ub0F1ZGlvUGFyYW1PZkF1ZGlvQ29udGV4dCIsImRlc3RpbmF0aW9ucyIsImF1ZGlvTm9kZUNvbm5lY3Rpb25zT2ZTb3VyY2UiLCJkZWxldGVBbnlDb25uZWN0aW9uIiwiZGVsZXRlQ29ubmVjdGlvbkF0T3V0cHV0IiwiZGVsZXRlQ29ubmVjdGlvblRvRGVzdGluYXRpb24iLCJjcmVhdGVBdWRpb05vZGVDb25zdHJ1Y3RvciIsImF1ZGlvTm9kZUNvbm5lY3Rpb25zU3RvcmUiLCJ0YWlsVGltZVRpbWVvdXRJZHMiLCJ0YWlsVGltZSIsInRhaWxUaW1lVGltZW91dElkIiwiY3JlYXRlQWRkQ29ubmVjdGlvblRvQXVkaW9Ob2RlIiwiY3ljbGVDb3VudGVycyIsImN5Y2xlQ291bnRlciIsIm5hdGl2ZURlc3RpbmF0aW9uQXVkaW9QYXJhbSIsImNyZWF0ZUluY3JlbWVudEN5Y2xlQ291bnRlckZhY3RvcnkiLCJjcmVhdGVEZWNyZW1lbnRDeWNsZUNvdW50ZXIiLCJuZXh0TGluayIsImlzRGVsYXlOb2RlIiwibWVyZ2VkQ3ljbGVzIiwibmVzdGVkQ3ljbGVzIiwiY3JlYXRlRGV0ZWN0Q3ljbGVzIiwiYW5hbHlzZXJOb2RlQ29uc3RydWN0b3IiLCJhdWRpb25Ob2RlQ29uc3RydWN0b3IiLCJtZXJnZWRPcHRpb25zIiwiX25hdGl2ZUFuYWx5c2VyTm9kZSIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJnZXRGbG9hdEZyZXF1ZW5jeURhdGEiLCJjcmVhdGVBbmFseXNlck5vZGVDb25zdHJ1Y3RvciIsImF1ZGlvQnVmZmVyU3RvcmUiLCJuYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yIiwiQXVkaW9CdWZmZXIiLCJjcmVhdGVOYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yIiwiY29udmVydE51bWJlclRvVW5zaWduZWRMb25nIiwidW5pdDMyQXJyYXkiLCJ3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMiLCJjaGFubmVsTnVtYmVyQXNOdW1iZXIiLCJidWZmZXJPZmZzZXRBc051bWJlciIsImF1ZGlvQnVmZmVyTGVuZ3RoIiwiZGVzdGluYXRpb25MZW5ndGgiLCJzb3VyY2VMZW5ndGgiLCJjcmVhdGVXcmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHMiLCJ3cmFwQXVkaW9CdWZmZXJDb3B5Q2hhbm5lbE1ldGhvZHNPdXRPZkJvdW5kcyIsImNyZWF0ZVdyYXBBdWRpb0J1ZmZlckNvcHlDaGFubmVsTWV0aG9kc091dE9mQm91bmRzIiwiYXVkaW9CdWZmZXJDb25zdHJ1Y3RvciIsInRlc3ROYXRpdmVBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCIsImhhc0luc3RhbmNlIiwiY3JlYXRlQXVkaW9CdWZmZXJDb25zdHJ1Y3RvciIsImNyZWF0ZVRlc3RBdWRpb0J1ZmZlckNvbnN0cnVjdG9yU3VwcG9ydCIsImFkZFNpbGVudENvbm5lY3Rpb24iLCJjcmVhdGVBZGRTaWxlbnRDb25uZWN0aW9uIiwicmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtIiwiY3JlYXRlUmVuZGVySW5wdXRzT2ZBdWRpb1BhcmFtIiwiY29ubmVjdEF1ZGlvUGFyYW0iLCJjcmVhdGVDb25uZWN0QXVkaW9QYXJhbSIsImNyZWF0ZU5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsInRlc3RBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHNTdXBwb3J0IiwidGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBpbmdTdXBwb3J0IiwidGVzdEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXJTdXBwb3J0Iiwid3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0YXJ0TWV0aG9kT2Zmc2V0Q2xhbXBsaW5nIiwid3JhcEF1ZGlvQnVmZmVyU291cmNlTm9kZVN0b3BNZXRob2ROdWxsaWZpZWRCdWZmZXIiLCJpc1NjaGVkdWxlZCIsIndyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdGFydE1ldGhvZENvbnNlY3V0aXZlQ2FsbHMiLCJjbGFtcGVkT2Zmc2V0IiwiY3JlYXRlTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlRmFjdG9yeSIsIm51bGxpZmllZEJ1ZmZlciIsImNyZWF0ZVdyYXBBdWRpb0J1ZmZlclNvdXJjZU5vZGVTdG9wTWV0aG9kTnVsbGlmaWVkQnVmZmVyIiwicmVuZGVyQXV0b21hdGlvbiIsImdldEF1ZGlvUGFyYW1SZW5kZXJlciIsInJlcGxheSIsImNyZWF0ZVJlbmRlckF1dG9tYXRpb24iLCJjcmVhdGVHZXRBdWRpb1BhcmFtUmVuZGVyZXIiLCJjcmVhdGVBdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlcyIsInJlbmRlcmVkTmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlIiwibmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSIsImNyZWF0ZUF1ZGlvUGFyYW0iLCJhZGRBdWRpb1BhcmFtQ29ubmVjdGlvbnMiLCJhdWRpb1BhcmFtU3RvcmUiLCJjcmVhdGVBdWRpb1BhcmFtUmVuZGVyZXIiLCJpc0F1ZGlvUGFyYW1PZk9mZmxpbmVBdWRpb0NvbnRleHQiLCJtaW5WYWx1ZSIsImF1dG9tYXRpb25FdmVudExpc3QiLCJhdWRpb1BhcmFtUmVuZGVyZXIiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJzZXRUYXJnZXRBdFRpbWUiLCJzZXRWYWx1ZUN1cnZlQXRUaW1lIiwiY3VycmVudFRpbWUiLCJjYW5jZWxBbmRIb2xkQXRUaW1lIiwiZmx1c2giLCJwcmV2aW91c0xhc3RFdmVudCIsImN1cnJlbnRMYXN0RXZlbnQiLCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXMiLCJpc0Zpbml0ZSIsImNvbnZlcnRlZFZhbHVlcyIsImZpcnN0U2FtcGxlIiwibGFzdFNhbXBsZSIsIm51bWJlck9mSW50ZXJwb2xhdGVkVmFsdWVzIiwiaW50ZXJwb2xhdGVkVmFsdWVzIiwidGltZU9mTGFzdFNhbXBsZSIsImNyZWF0ZUF1ZGlvUGFyYW1GYWN0b3J5IiwiYXVkaW9QYXJhbUNvbm5lY3Rpb25zU3RvcmUiLCJhdWRpb0J1ZmZlclNvdXJjZU5vZGVDb25zdHJ1Y3RvciIsImF1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyIiwiX2F1ZGlvQnVmZmVyU291cmNlTm9kZVJlbmRlcmVyIiwiX2lzQnVmZmVyTnVsbGlmaWVkIiwiX2lzQnVmZmVyU2V0IiwiX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsIl9vbmVuZGVkIiwiX3BsYXliYWNrUmF0ZSIsIm9uZW5kZWQiLCJ3cmFwcGVkTGlzdGVuZXIiLCJuYXRpdmVPbkVuZGVkIiwicmVzZXRJbnRlcm5hbFN0YXRlVG9QYXNzaXZlIiwiY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJhdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlQXVkaW9EZXN0aW5hdGlvbk5vZGVSZW5kZXJlciIsImNyZWF0ZU5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlIiwibmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUiLCJyZW5kZXJlZE5hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlcyIsInJlbmRlcmVkTmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUiLCJjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZSIsIl9pc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJfbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUiLCJtYXhDaGFubmVsQ291bnQiLCJjcmVhdGVBdWRpb0Rlc3RpbmF0aW9uTm9kZUNvbnN0cnVjdG9yIiwiaXNOb2RlT2ZOYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IiwiZ2Fpbk5vZGUiLCJjcmVhdGVOYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZUZhY3RvcnkiLCJjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZUJpcXVhZEZpbHRlck5vZGVzIiwicmVuZGVyZWROYXRpdmVCaXF1YWRGaWx0ZXJOb2RlIiwibmF0aXZlQmlxdWFkRmlsdGVyTm9kZUlzT3duZWRCeUNvbnRleHQiLCJjcmVhdGVCaXF1YWRGaWx0ZXJOb2RlIiwiY3JlYXRlQmlxdWFkRmlsdGVyTm9kZVJlbmRlcmVyRmFjdG9yeSIsInNldEF1ZGlvTm9kZVRhaWxUaW1lIiwiY3JlYXRlU2V0QXVkaW9Ob2RlVGFpbFRpbWUiLCJiaXF1YWRGaWx0ZXJOb2RlQ29uc3RydWN0b3IiLCJfUSIsIl9kZXR1bmUiLCJfZnJlcXVlbmN5IiwiX2dhaW4iLCJsb2cxMCIsIl9uYXRpdmVCaXF1YWRGaWx0ZXJOb2RlIiwiZ2V0RnJlcXVlbmN5UmVzcG9uc2UiLCJmcmVxdWVuY3lIeiIsIm1hZ1Jlc3BvbnNlIiwicGhhc2VSZXNwb25zZSIsImNyZWF0ZUJpcXVhZEZpbHRlck5vZGVDb25zdHJ1Y3RvciIsIm1vbml0b3JDb25uZWN0aW9ucyIsIndoZW5Db25uZWN0ZWQiLCJ3aGVuRGlzY29ubmVjdGVkIiwid2FzRGlzY29ubmVjdGVkIiwid2FzQ29ubmVjdGVkIiwiaXNEaXNjb25uZWN0ZWQiLCJjcmVhdGVNb25pdG9yQ29ubmVjdGlvbnMiLCJ3cmFwQ2hhbm5lbE1lcmdlck5vZGUiLCJjaGFubmVsTWVyZ2VyTm9kZSIsImF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImNyZWF0ZVdyYXBDaGFubmVsTWVyZ2VyTm9kZSIsImNyZWF0ZU5hdGl2ZUNoYW5uZWxNZXJnZXJOb2RlIiwibmF0aXZlQ2hhbm5lbE1lcmdlck5vZGUiLCJjcmVhdGVDaGFubmVsTWVyZ2VyIiwiY3JlYXRlTmF0aXZlQ2hhbm5lbE1lcmdlck5vZGVGYWN0b3J5IiwiY3JlYXRlQ2hhbm5lbE1lcmdlck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQXVkaW9Ob2RlcyIsImNyZWF0ZUF1ZGlvTm9kZSIsImNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY2hhbm5lbE1lcmdlck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZUNoYW5uZWxNZXJnZXJOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlUmVuZGVyZXIiLCJjcmVhdGVDaGFubmVsU3BsaXR0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yIiwic2FuaXRpemVDaGFubmVsU3BsaXR0ZXJPcHRpb25zIiwiY3JlYXRlQ2hhbm5lbFNwbGl0dGVyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXIiLCJhdWRpb05vZGVPcHRpb25zIiwibmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlRmFrZXIiLCJjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGVGYWtlckZhY3RvcnkiLCJjcmVhdGVOYXRpdmVDb25zdGFudFNvdXJjZU5vZGUiLCJjcmVhdGVDb25zdGFudFNvdXJjZSIsIm5hdGl2ZUNvbnN0YW50U291cmNlTm9kZSIsImNyZWF0ZU5hdGl2ZUNvbnN0YW50U291cmNlTm9kZUZhY3RvcnkiLCJjcmVhdGVDb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlcyIsInJlbmRlcmVkTmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlIiwibmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZUNvbnN0YW50U291cmNlTm9kZSIsImNyZWF0ZUNvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyRmFjdG9yeSIsImNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yIiwiY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIiLCJfY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIiLCJfbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlIiwiX29mZnNldCIsImNyZWF0ZUNvbnN0YW50U291cmNlTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlQ29udm9sdmVyTm9kZSIsIm5hdGl2ZUNvbnZvbHZlck5vZGUiLCJjcmVhdGVDb252b2x2ZXIiLCJub3JtYWxpemUiLCJjcmVhdGVOYXRpdmVDb252b2x2ZXJOb2RlRmFjdG9yeSIsImNyZWF0ZUNvbnZvbHZlck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlQ29udm9sdmVyTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZUNvbnZvbHZlck5vZGUiLCJjcmVhdGVDb252b2x2ZXJOb2RlIiwiY3JlYXRlQ29udm9sdmVyTm9kZVJlbmRlcmVyRmFjdG9yeSIsImNvbnZvbHZlck5vZGVDb25zdHJ1Y3RvciIsIl9uYXRpdmVDb252b2x2ZXJOb2RlIiwiY3JlYXRlQ29udm9sdmVyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlRGVsYXlOb2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZXMiLCJyZW5kZXJlZE5hdGl2ZURlbGF5Tm9kZSIsIm5hdGl2ZURlbGF5Tm9kZUlzT3duZWRCeUNvbnRleHQiLCJjcmVhdGVEZWxheU5vZGUiLCJjcmVhdGVEZWxheU5vZGVSZW5kZXJlckZhY3RvcnkiLCJkZWxheU5vZGVDb25zdHJ1Y3RvciIsIl9kZWxheVRpbWUiLCJjcmVhdGVEZWxheU5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUiLCJuYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwiY3JlYXRlTmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZUZhY3RvcnkiLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGVzIiwicmVuZGVyZWROYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlIiwibmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZUlzT3duZWRCeUNvbnRleHQiLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yTm9kZVJlbmRlcmVyRmFjdG9yeSIsImR5bmFtaWNzQ29tcHJlc3Nvck5vZGVDb25zdHJ1Y3RvciIsIl9hdHRhY2siLCJfa25lZSIsIl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlIiwiX3JhdGlvIiwiX3JlbGVhc2UiLCJfdGhyZXNob2xkIiwicHJldmlvdXNDaGFubmVsQ291bnQiLCJyZWR1Y3Rpb24iLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3JOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVHYWluTm9kZVJlbmRlcmVyIiwicmVuZGVyZWROYXRpdmVHYWluTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZUdhaW5Ob2RlIiwibmF0aXZlR2Fpbk5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlR2Fpbk5vZGUiLCJjcmVhdGVHYWluTm9kZVJlbmRlcmVyRmFjdG9yeSIsImdhaW5Ob2RlQ29uc3RydWN0b3IiLCJjcmVhdGVHYWluTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyIiwiY29udmVydGVkRmVlZGJhY2siLCJGbG9hdDY0QXJyYXkiLCJjb252ZXJ0ZWRGZWVkZm9yd2FyZCIsInNjcmlwdFByb2Nlc3Nvck5vZGUiLCJidWZmZXJJbmRleGVzIiwieEJ1ZmZlcnMiLCJ5QnVmZmVycyIsIm91dHB1dEJ1ZmZlciIsIm55cXVpc3QiLCJuYXRpdmVJSVJGaWx0ZXJOb2RlRmFrZXIiLCJvbWVnYSIsInJlc3BvbnNlIiwiY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZUZha2VyRmFjdG9yeSIsInJlbmRlck5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJ0ZXN0T2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydCIsImlzT2ZmbGluZUF1ZGlvQ29udGV4dEN1cnJlbnRUaW1lU3VwcG9ydGVkIiwib25jb21wbGV0ZSIsInN0YXJ0UmVuZGVyaW5nIiwiY3JlYXRlUmVuZGVyTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsImNyZWF0ZVRlc3RPZmZsaW5lQXVkaW9Db250ZXh0Q3VycmVudFRpbWVTdXBwb3J0IiwiY3JlYXRlSUlSRmlsdGVyTm9kZVJlbmRlcmVyIiwiZmlsdGVyZWRCdWZmZXJQcm9taXNlIiwibmF0aXZlSUlSRmlsdGVyTm9kZSIsIm5hdGl2ZUlJUkZpbHRlck5vZGVJc093bmVkQnlDb250ZXh0IiwiY3JlYXRlSUlSRmlsdGVyIiwicGFydGlhbE9mZmxpbmVBdWRpb0NvbnRleHQiLCJmaWx0ZXJlZEJ1ZmZlciIsImZpbHRlckZ1bGxCdWZmZXIiLCJjcmVhdGVJSVJGaWx0ZXJOb2RlUmVuZGVyZXJGYWN0b3J5IiwiY3JlYXRlTmF0aXZlSUlSRmlsdGVyTm9kZSIsImNyZWF0ZU5hdGl2ZUlJUkZpbHRlck5vZGVGYWN0b3J5IiwiaUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yIiwid3JhcElJUkZpbHRlck5vZGVHZXRGcmVxdWVuY3lSZXNwb25zZU1ldGhvZCIsIl9uYXRpdmVJSVJGaWx0ZXJOb2RlIiwiY3JlYXRlSUlSRmlsdGVyTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlQXVkaW9MaXN0ZW5lciIsIm5hdGl2ZUxpc3RlbmVyIiwiZm9yd2FyZFgiLCJmb3J3YXJkWSIsImZvcndhcmRaIiwidXBYIiwidXBZIiwidXBaIiwiaXNTY3JpcHRQcm9jZXNzb3JOb2RlQ3JlYXRlZCIsImxhc3RPcmllbnRhdGlvbiIsImxhc3RQb3NpdGlvbiIsImNyZWF0ZVNjcmlwdFByb2Nlc3Nvck5vZGUiLCJvcmllbnRhdGlvbiIsInNldE9yaWVudGF0aW9uIiwicG9zaXRvbiIsImNyZWF0ZVNldE9yaWVudGF0aW9uIiwiY3JlYXRlU2V0UG9zaXRpb24iLCJjcmVhdGVGYWtlQXVkaW9QYXJhbSIsImluaXRpYWxWYWx1ZSIsInNldFZhbHVlIiwiY29uc3RhbnRTb3VyY2VOb2RlIiwiY3JlYXRlRmFrZUF1ZGlvUGFyYW1zIiwiY3JlYXRlQXVkaW9MaXN0ZW5lckZhY3RvcnkiLCJ1bnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZVN0b3JlIiwibWluaW1hbEJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsIl9uYXRpdmVDb250ZXh0IiwiX2Rlc3RpbmF0aW9uIiwiX2xpc3RlbmVyIiwiX29uc3RhdGVjaGFuZ2UiLCJvbnN0YXRlY2hhbmdlIiwibmF0aXZlT25TdGF0ZUNoYW5nZSIsImNyZWF0ZU1pbmltYWxCYXNlQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVPc2NpbGxhdG9yTm9kZSIsIm5hdGl2ZU9zY2lsbGF0b3JOb2RlIiwic2V0UGVyaW9kaWNXYXZlIiwiY3JlYXRlTmF0aXZlT3NjaWxsYXRvck5vZGVGYWN0b3J5IiwiY3JlYXRlT3NjaWxsYXRvck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlT3NjaWxsYXRvck5vZGVzIiwicmVuZGVyZWROYXRpdmVPc2NpbGxhdG9yTm9kZSIsIm5hdGl2ZU9zY2lsbGF0b3JOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZU9zY2lsbGF0b3JOb2RlIiwiY3JlYXRlT3NjaWxsYXRvck5vZGVSZW5kZXJlckZhY3RvcnkiLCJvc2NpbGxhdG9yTm9kZUNvbnN0cnVjdG9yIiwib3NjaWxsYXRvck5vZGVSZW5kZXJlciIsIl9uYXRpdmVPc2NpbGxhdG9yTm9kZSIsIl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyIiwiY3JlYXRlT3NjaWxsYXRvck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImNyZWF0ZUNvbm5lY3RlZE5hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZUZhY3RvcnkiLCJjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyIiwibmVnYXRpdmVXYXZlU2hhcGVyTm9kZSIsImNyZWF0ZVdhdmVTaGFwZXIiLCJwb3NpdGl2ZVdhdmVTaGFwZXJOb2RlIiwiaW5wdXRHYWluTm9kZSIsImludmVydEdhaW5Ob2RlIiwib3V0cHV0R2Fpbk5vZGUiLCJyZXZlcnRHYWluTm9kZSIsImRpc2Nvbm5lY3ROYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUiLCJpc0Nvbm5lY3RlZCIsInVubW9kaWZpZWRDdXJ2ZSIsIm5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFrZXIiLCJjdXJ2ZUxlbmd0aCIsIm5lZ2F0aXZlQ3VydmUiLCJwb3NpdGl2ZUN1cnZlIiwiY2VudGVySW5kZXgiLCJjcmVhdGVOYXRpdmVXYXZlU2hhcGVyTm9kZUZha2VyRmFjdG9yeSIsImNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlIiwibmF0aXZlV2F2ZVNoYXBlck5vZGUiLCJhdXRvbWF0aW9uUmF0ZSIsImNyZWF0ZU5hdGl2ZVdhdmVTaGFwZXJOb2RlRmFjdG9yeSIsImNyZWF0ZU5hdGl2ZVBhbm5lck5vZGVGYWtlciIsInBhbm5lck5vZGUiLCJjcmVhdGVQYW5uZXIiLCJTSU5HTEVfQ0hBTk5FTF9PUFRJT05TIiwib3JpZW50YXRpb25YR2Fpbk5vZGUiLCJvcmllbnRhdGlvbllHYWluTm9kZSIsIm9yaWVudGF0aW9uWkdhaW5Ob2RlIiwicG9zaXRpb25YR2Fpbk5vZGUiLCJwb3NpdGlvbllHYWluTm9kZSIsInBvc2l0aW9uWkdhaW5Ob2RlIiwid2F2ZVNoYXBlck5vZGUiLCJuYXRpdmVQYW5uZXJOb2RlRmFrZXIiLCJjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFrZXJGYWN0b3J5IiwiY3JlYXRlTmF0aXZlUGFubmVyTm9kZSIsIm5hdGl2ZVBhbm5lck5vZGUiLCJjcmVhdGVOYXRpdmVQYW5uZXJOb2RlRmFjdG9yeSIsImNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlciIsInJlbmRlcmVkQnVmZmVyUHJvbWlzZSIsInJlbmRlcmVkTmF0aXZlR2Fpbk5vZGVPck5hdGl2ZVBhbm5lck5vZGUiLCJjb21tb25BdWRpb05vZGVPcHRpb25zIiwiY29tbW9uTmF0aXZlUGFubmVyTm9kZU9wdGlvbnMiLCJuYXRpdmVQYW5uZXJOb2RlSXNPd25lZEJ5Q29udGV4dCIsIm5hdGl2ZUNvbnN0YW50U291cmNlTm9kZXMiLCJjaGFubmVsRGF0YXMiLCJnYXRlR2Fpbk5vZGUiLCJwYXJ0aWFsUGFubmVyTm9kZSIsImNyZWF0ZVBhbm5lck5vZGVSZW5kZXJlckZhY3RvcnkiLCJwYW5uZXJOb2RlQ29uc3RydWN0b3IiLCJfbmF0aXZlUGFubmVyTm9kZSIsIl9vcmllbnRhdGlvblgiLCJfb3JpZW50YXRpb25ZIiwiX29yaWVudGF0aW9uWiIsIl9wb3NpdGlvblgiLCJfcG9zaXRpb25ZIiwiX3Bvc2l0aW9uWiIsImNyZWF0ZVBhbm5lck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZU5hdGl2ZVBlcmlvZGljV2F2ZSIsImltYWciLCJyZWFsIiwiY29udmVydGVkSW1hZyIsImNvbnZlcnRlZFJlYWwiLCJuYXRpdmVQZXJpb2RpY1dhdmUiLCJjcmVhdGVQZXJpb2RpY1dhdmUiLCJjcmVhdGVOYXRpdmVQZXJpb2RpY1dhdmVGYWN0b3J5IiwicGVyaW9kaWNXYXZlQ29uc3RydWN0b3IiLCJwZXJpb2RpY1dhdmVTdG9yZSIsInNhbml0aXplUGVyaW9kaWNXYXZlT3B0aW9ucyIsIlBlcmlvZGljV2F2ZSIsImNyZWF0ZVBlcmlvZGljV2F2ZUNvbnN0cnVjdG9yIiwibmF0aXZlU3RlcmVvUGFubmVyTm9kZUZha2VyRmFjdG9yeSIsIkNVUlZFX1NJWkUiLCJEQ19DVVJWRSIsIkhBTEZfUEkiLCJTSU5HTEVfQ0hBTk5FTF9XQVZFX1NIQVBFUl9PUFRJT05TIiwiYnVpbGRJbnRlcm5hbEdyYXBoIiwicGFuR2Fpbk5vZGUiLCJsZWZ0V2F2ZVNoYXBlckN1cnZlIiwicmlnaHRXYXZlU2hhcGVyQ3VydmUiLCJsZWZ0R2Fpbk5vZGUiLCJsZWZ0V2F2ZVNoYXBlck5vZGUiLCJwYW5XYXZlU2hhcGVyTm9kZSIsInJpZ2h0R2Fpbk5vZGUiLCJyaWdodFdhdmVTaGFwZXJOb2RlIiwiY29ubmVjdEdyYXBoIiwiZGlzY29ubmVjdEdyYXBoIiwiYnVpbGRJbnRlcm5hbEdyYXBoRm9yTW9ubyIsImxlZnRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyQ3VydmUiLCJsZWZ0SW5wdXRGb3JSaWdodE91dHB1dFdhdmVTaGFwZXJDdXJ2ZSIsInJpZ2h0SW5wdXRGb3JMZWZ0T3V0cHV0V2F2ZVNoYXBlckN1cnZlIiwicmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlckN1cnZlIiwibGVmdElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlIiwibGVmdElucHV0Rm9yTGVmdE91dHB1dFdhdmVTaGFwZXJOb2RlIiwibGVmdElucHV0Rm9yUmlnaHRPdXRwdXRHYWluTm9kZSIsImxlZnRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUiLCJyaWdodElucHV0Rm9yTGVmdE91dHB1dEdhaW5Ob2RlIiwicmlnaHRJbnB1dEZvckxlZnRPdXRwdXRXYXZlU2hhcGVyTm9kZSIsInJpZ2h0SW5wdXRGb3JSaWdodE91dHB1dEdhaW5Ob2RlIiwicmlnaHRJbnB1dEZvclJpZ2h0T3V0cHV0V2F2ZVNoYXBlck5vZGUiLCJidWlsZEludGVybmFsR3JhcGhGb3JTdGVyZW8iLCJjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFrZXJGYWN0b3J5IiwiY3JlYXRlTmF0aXZlU3RlcmVvUGFubmVyTm9kZSIsImNyZWF0ZU5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGVGYWtlciIsImNyZWF0ZVN0ZXJlb1Bhbm5lciIsIm5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUiLCJjcmVhdGVOYXRpdmVTdGVyZW9QYW5uZXJOb2RlRmFjdG9yeSIsImNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVSZW5kZXJlciIsInJlbmRlcmVkTmF0aXZlU3RlcmVvUGFubmVyTm9kZXMiLCJyZW5kZXJlZE5hdGl2ZVN0ZXJlb1Bhbm5lck5vZGUiLCJuYXRpdmVTdGVyZW9QYW5uZXJOb2RlSXNPd25lZEJ5Q29udGV4dCIsImNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGUiLCJjcmVhdGVTdGVyZW9QYW5uZXJOb2RlUmVuZGVyZXJGYWN0b3J5Iiwic3RlcmVvUGFubmVyTm9kZUNvbnN0cnVjdG9yIiwiX3BhbiIsImNyZWF0ZVN0ZXJlb1Bhbm5lck5vZGVDb25zdHJ1Y3RvciIsImNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXIiLCJyZW5kZXJlZE5hdGl2ZVdhdmVTaGFwZXJOb2RlcyIsInJlbmRlcmVkTmF0aXZlV2F2ZVNoYXBlck5vZGUiLCJjcmVhdGVXYXZlU2hhcGVyTm9kZSIsImNyZWF0ZVdhdmVTaGFwZXJOb2RlUmVuZGVyZXJGYWN0b3J5Iiwid2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3RvciIsIl9pc0N1cnZlTnVsbGlmaWVkIiwiX25hdGl2ZVdhdmVTaGFwZXJOb2RlIiwiY3JlYXRlV2F2ZVNoYXBlck5vZGVDb25zdHJ1Y3RvciIsImlzU2VjdXJlQ29udGV4dCIsImNyZWF0ZUlzU2VjdXJlQ29udGV4dCIsImZuIiwiY3VycmVudEZyYW1lIiwiY3JlYXRlRXhwb3NlQ3VycmVudEZyYW1lQW5kQ3VycmVudFRpbWUiLCJiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0U3RvcmUiLCJnZXRPckNyZWF0ZUJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJiYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlR2V0T3JDcmVhdGVCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0IiwiYWRkQXVkaW9Xb3JrbGV0TW9kdWxlIiwiZXZhbHVhdGVTb3VyY2UiLCJmZXRjaFNvdXJjZSIsIm9uZ29pbmdSZXF1ZXN0cyIsInJlc29sdmVkUmVxdWVzdHMiLCJ0ZXN0QXVkaW9Xb3JrbGV0UHJvY2Vzc29yUG9zdE1lc3NhZ2VTdXBwb3J0IiwibW9kdWxlVVJMIiwiY3JlZGVudGlhbHMiLCJyZXNvbHZlZFJlcXVlc3RzT2ZDb250ZXh0Iiwib25nb2luZ1JlcXVlc3RzT2ZDb250ZXh0IiwicHJvbWlzZU9mT25nb2luZ1JlcXVlc3QiLCJhdWRpb1dvcmtsZXQiLCJhYnNvbHV0ZVVybCIsImV2YWx1YXRlQXVkaW9Xb3JrbGV0R2xvYmFsU2NvcGUiLCJfQVdHUyIsIlN5bnRheEVycm9yIiwidHJpbSIsIm5vZGVOYW1lVG9Qcm9jZXNzb3JDb25zdHJ1Y3Rvck1hcCIsImlzU3VwcG9ydGluZ1Bvc3RNZXNzYWdlIiwiY3VycmVudEluZGV4IiwiYmxvYiIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJhZGRNb2R1bGUiLCJuYXRpdmVDb250ZXh0T3JCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0IiwiZmluYWxseSIsInJldm9rZU9iamVjdFVSTCIsInVwZGF0ZWRSZXNvbHZlZFJlcXVlc3RzT2ZDb250ZXh0IiwidXBkYXRlZE9uZ29pbmdSZXF1ZXN0c09mQ29udGV4dCIsImNyZWF0ZUFkZEF1ZGlvV29ya2xldE1vZHVsZSIsInJlamVjdCIsImhlYWQiLCJzY3JpcHQiLCJvcmlnaW5hbE9uRXJyb3JIYW5kbGVyIiwib25lcnJvciIsInJlbW92ZUVycm9yRXZlbnRMaXN0ZW5lckFuZFJldm9rZVVybCIsIm9ubG9hZCIsImNyZWF0ZUV2YWx1YXRlU291cmNlIiwiZmV0Y2giLCJvayIsInRleHQiLCJvZmZsaW5lQXVkaW9Db250ZXh0IiwiaXNFbWl0dGluZ01lc3NhZ2VFdmVudHMiLCJpc0VtaXR0aW5nUHJvY2Vzc29yRXJyb3JFdmVudHMiLCJhdWRpb1dvcmtsZXROb2RlIiwib3NjaWxsYXRvciIsInBvcnQiLCJvbnByb2Nlc3NvcmVycm9yIiwiY3JlYXRlVGVzdEF1ZGlvV29ya2xldFByb2Nlc3NvclBvc3RNZXNzYWdlU3VwcG9ydCIsImlzTmF0aXZlQ29udGV4dCIsImNyZWF0ZUlzTmF0aXZlQ29udGV4dCIsImNyZWF0ZURhdGFDbG9uZUVycm9yIiwiY3JlYXRlRW5jb2RpbmdFcnJvciIsImRldGFjaGVkQXJyYXlCdWZmZXJzIiwiYW55Q29udGV4dCIsImF1ZGlvRGF0YSIsImNvbXBsZXRlIiwiZmFpbCIsImNyZWF0ZURlY29kZUF1ZGlvRGF0YSIsImJhc2VBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsIl9hdWRpb1dvcmtsZXQiLCJzdWNjZXNzQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwiY3JlYXRlQmFzZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwibWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUiLCJuYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJtZWRpYUVsZW1lbnQiLCJfbmF0aXZlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIiwiY3JlYXRlTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJtZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlIiwibmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSIsImNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24iLCJfbmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSIsInN0cmVhbSIsImNyZWF0ZU1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGVDb25zdHJ1Y3RvciIsIm1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlQ29uc3RydWN0b3IiLCJjcmVhdGVOYXRpdmVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSIsIm5hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlIiwibWVkaWFTdHJlYW0iLCJhdWRpb1N0cmVhbVRyYWNrcyIsImdldEF1ZGlvVHJhY2tzIiwiZmlsdGVyZWRBdWRpb1N0cmVhbVRyYWNrcyIsImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlIiwiTWVkaWFTdHJlYW0iLCJfbmF0aXZlTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUiLCJjcmVhdGVNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSIsIm1lZGlhU3RyZWFtVHJhY2siLCJjcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlIiwia2luZCIsImNyZWF0ZU5hdGl2ZU1lZGlhU3RyZWFtVHJhY2tBdWRpb1NvdXJjZU5vZGVGYWN0b3J5IiwibWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZUNvbnN0cnVjdG9yIiwiYXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJsYXRlbmN5SGludCIsImlzVmFsaWRMYXRlbmN5SGludCIsIl9iYXNlTGF0ZW5jeSIsIl9uYXRpdmVBdWRpb0NvbnRleHQiLCJfbmF0aXZlR2Fpbk5vZGUiLCJfc3RhdGUiLCJyZXZva2VTdGF0ZSIsInJlc3VtZSIsInJlc29sdmVQcm9taXNlIiwic3VzcGVuZCIsImNyZWF0ZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiZ2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzIiwidW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzIiwiY3JlYXRlR2V0VW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGVzIiwiYWRkVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUiLCJjcmVhdGVBZGRVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSIsImNvbm5lY3RNdWx0aXBsZU91dHB1dHMiLCJjcmVhdGVDb25uZWN0TXVsdGlwbGVPdXRwdXRzIiwiZGVsZXRlVW5yZW5kZXJlZEF1ZGlvV29ya2xldE5vZGUiLCJjcmVhdGVEZWxldGVVbnJlbmRlcmVkQXVkaW9Xb3JrbGV0Tm9kZSIsImRpc2Nvbm5lY3RNdWx0aXBsZU91dHB1dHMiLCJjcmVhdGVEaXNjb25uZWN0TXVsdGlwbGVPdXRwdXRzIiwiYWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0c1N0b3JlIiwiZ2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyIsImNyZWF0ZUdldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMiLCJjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIiLCJudW1iZXJPZlBhcmFtZXRlcnMiLCJtZXNzYWdlQ2hhbm5lbCIsImdhaW5Ob2RlcyIsImlucHV0Q2hhbm5lbFNwbGl0dGVyTm9kZXMiLCJjb25zdGFudFNvdXJjZU5vZGVzIiwiaW5wdXRDaGFubmVsTWVyZ2VyTm9kZSIsIm91dHB1dENoYW5uZWxTcGxpdHRlck5vZGUiLCJvdXRwdXRDaGFubmVsTWVyZ2VyTm9kZXMiLCJwYXJhbWV0ZXJNYXAiLCJuYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXIiLCJfIiwicGF0Y2hlZEV2ZW50TGlzdGVuZXJzIiwidW5wYXRjaGVkRXZlbnRMaXN0ZW5lciIsInBhdGNoZWRFdmVudExpc3RlbmVyIiwiYXVkaW9Xb3JrbGV0UHJvY2Vzc29yUHJvbWlzZSIsImF1ZGlvV29ya2xldE5vZGVPcHRpb25zIiwiY2xvbmVkQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMiLCJvbm1lc3NhZ2VlcnJvciIsImNsb25lQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMiLCJjcmVhdGVBdWRpb1dvcmtsZXRQcm9jZXNzb3JQcm9taXNlIiwiY3JlYXRlQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIiwiZFdya2x0UHJjc3NyIiwiZGlzY29ubmVjdE91dHB1dHNHcmFwaCIsIm91dHB1dENoYW5uZWxNZXJnZXJOb2RlIiwiYWN0aXZlSW5wdXRJbmRleGVzIiwiZGlzY29ubmVjdEZha2VHcmFwaCIsImNvbm5lY3RGYWtlR3JhcGgiLCJjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFrZXJGYWN0b3J5IiwiY3JlYXRlTmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSIsInRlc3RDbG9uYWJpbGl0eU9mQXVkaW9Xb3JrbGV0Tm9kZU9wdGlvbnMiLCJjcmVhdGVOYXRpdmVBdWRpb1dvcmtsZXROb2RlRmFjdG9yeSIsImNyZWF0ZUF1ZGlvV29ya2xldE5vZGVSZW5kZXJlciIsInByb2Nlc3NlZEJ1ZmZlclByb21pc2UiLCJyZW5kZXJlZE5hdGl2ZUF1ZGlvV29ya2xldE5vZGVPckdhaW5Ob2RlIiwibmF0aXZlT3V0cHV0Tm9kZXMiLCJuYXRpdmVBdWRpb1dvcmtsZXROb2RlSXNPd25lZEJ5Q29udGV4dCIsInJlbmRlckJ1ZmZlciIsIm5tIiwiY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZVJlbmRlcmVyRmFjdG9yeSIsImdldEJhY2t1cE9mZmxpbmVBdWRpb0NvbnRleHQiLCJjcmVhdGVHZXRCYWNrdXBPZmZsaW5lQXVkaW9Db250ZXh0Iiwic2V0QWN0aXZlQXVkaW9Xb3JrbGV0Tm9kZUlucHV0cyIsImNyZWF0ZVNldEFjdGl2ZUF1ZGlvV29ya2xldE5vZGVJbnB1dHMiLCJhdWRpb1dvcmtsZXROb2RlQ29uc3RydWN0b3IiLCJzYW5pdGl6ZUF1ZGlvV29ya2xldE5vZGVPcHRpb25zIiwidGVzdEF1ZGlvV29ya2xldE5vZGVPcHRpb25zQ2xvbmFiaWxpdHkiLCJfbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZSIsIl9vbnByb2Nlc3NvcmVycm9yIiwiX3BhcmFtZXRlcnMiLCJuYXRpdmVPblByb2Nlc3NvckVycm9yIiwiY3JlYXRlQXVkaW9Xb3JrbGV0Tm9kZUNvbnN0cnVjdG9yIiwiY3JlYXRlTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCIsImNyZWF0ZUNyZWF0ZU5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQiLCJjcmVhdGVTdGFydFJlbmRlcmluZyIsIm9mZmxpbmVBdWRpb0NvbnRleHRDb25zdHJ1Y3RvciIsImRlbGF5U3RhdGVDaGFuZ2VFdmVudCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl93YWl0Rm9yVGhlUHJvbWlzZVRvU2V0dGxlIiwiX2xlbmd0aCIsIl9uYXRpdmVPZmZsaW5lQXVkaW9Db250ZXh0IiwiY3JlYXRlT2ZmbGluZUF1ZGlvQ29udGV4dENvbnN0cnVjdG9yIiwiaXNBbnlBdWRpb0NvbnRleHQiLCJjcmVhdGVJc0FueUF1ZGlvQ29udGV4dCIsImlzQW55QXVkaW9Ob2RlIiwiYXVkaW9Ob2RlU3RvcmUiLCJjcmVhdGVJc0FueUF1ZGlvTm9kZSIsImlzQW55QXVkaW9QYXJhbSIsImNyZWF0ZUlzQW55QXVkaW9QYXJhbSIsImlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCIsImNyZWF0ZUlzQW55T2ZmbGluZUF1ZGlvQ29udGV4dCIsInN0YXRlbWVudCIsImd0ZSIsImx0ZSIsImFzc2VydENvbnRleHRSdW5uaW5nIiwiZGVmYXVsdExvZ2dlciIsImFyZyIsImlzTm90ZSIsInNlbGYiLCJoYXNBdWRpb0NvbnRleHQiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsIlN1cHByZXNzZWRFcnJvciIsIlRpY2tlciIsInVwZGF0ZUludGVydmFsIiwiX2NhbGxiYWNrIiwiX3R5cGUiLCJfdXBkYXRlSW50ZXJ2YWwiLCJfY3JlYXRlQ2xvY2siLCJfY3JlYXRlV29ya2VyIiwiYmxvYlVybCIsIndvcmtlciIsIldvcmtlciIsIl93b3JrZXIiLCJfY3JlYXRlVGltZW91dCIsIl90aW1lb3V0IiwiX2Rpc3Bvc2VDbG9jayIsInRlcm1pbmF0ZSIsImludGVydmFsIiwiZGlzcG9zZSIsImlzQXVkaW9QYXJhbSIsImlzT2ZmbGluZUF1ZGlvQ29udGV4dCIsImlzQXVkaW9Db250ZXh0IiwiaXNBdWRpb0J1ZmZlciIsIm5vQ29weSIsInNvdXJjZXMiLCJhc3NpZ24iLCJhcmdzQXJyYXkiLCJvYmpLZXkiLCJvcHRzIiwiZ2l2ZW4iLCJmYWxsYmFjayIsIm9taXQiLCJUb25lIiwiZGVidWciLCJfd2FzRGlzcG9zZWQiLCJnZXREZWZhdWx0cyIsIlRPTkVfREVCVUdfQ0xBU1MiLCJkaXNwb3NlZCIsIkVQU0lMT04iLCJHVCIsIkdURSIsIkVRIiwiTFQiLCJUaW1lbGluZSIsIl90aW1lbGluZSIsIm1lbW9yeSIsImluY3JlYXNpbmciLCJ2YWx1ZU9mIiwibGFzdFZhbHVlIiwiX3NlYXJjaCIsImRpZmYiLCJwYXJhbSIsInBlZWsiLCJnZXRBZnRlciIsImdldEJlZm9yZSIsImNhbmNlbCIsImNhbmNlbEJlZm9yZSIsInByZXZpb3VzRXZlbnQiLCJiZWdpbm5pbmciLCJtaWRQb2ludCIsIm5leHRFdmVudCIsIl9pdGVyYXRlIiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJmb3JFYWNoQmVmb3JlIiwiZm9yRWFjaEFmdGVyIiwiZm9yRWFjaEJldHdlZW4iLCJmb3JFYWNoRnJvbSIsImZvckVhY2hBdFRpbWUiLCJub3RpZnlOZXdDb250ZXh0Iiwib25Db250ZXh0SW5pdCIsImNiIiwibm90aWZ5Q2xvc2VDb250ZXh0Iiwib25Db250ZXh0Q2xvc2UiLCJFbWl0dGVyIiwiZXZlbnROYW1lIiwiX2V2ZW50cyIsIm9uY2UiLCJib3VuZENhbGxiYWNrIiwiZXZlbnRMaXN0IiwiZW1pdCIsIm1peGluIiwiY29uc3RyIiwiQmFzZUNvbnRleHQiLCJ0b0pTT04iLCJDb250ZXh0IiwiX2NvbnN0YW50cyIsIl90aW1lb3V0cyIsIl90aW1lb3V0SWRzIiwiX2luaXRpYWxpemVkIiwiX3dvcmtsZXRNb2R1bGVzIiwiY3JlYXRlQXVkaW9Db250ZXh0IiwiX3RpY2tlciIsImNsb2NrU291cmNlIiwiX3RpbWVvdXRMb29wIiwiX3NldExhdGVuY3lIaW50IiwibG9va0FoZWFkIiwiaW5pdGlhbGl6ZSIsImN0eCIsImZlZWRGb3J3YXJkIiwidHJhbnNwb3J0IiwiX3RyYW5zcG9ydCIsImRyYXciLCJfZHJhdyIsImNyZWF0ZUF1ZGlvV29ya2xldE5vZGUiLCJyYXdDb250ZXh0Iiwid29ya2xldHNBcmVSZWFkeSIsInByb21pc2VzIiwiX2xhdGVuY3lIaW50IiwiaGludCIsImxvb2tBaGVhZFZhbHVlIiwiaW1tZWRpYXRlIiwiZ2V0Q29uc3RhbnQiLCJjb25zdGFudCIsImZpcnN0RXZlbnQiLCJ0aW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaW50ZXJ2YWxGbiIsInN0ciIsInJldmVyc2UiLCJsb2FkIiwiX2J1ZmZlciIsImxvYWRlZCIsIl9yZXZlcnNlZCIsIl9yZXZlcnNlIiwiZG9uZUxvYWRpbmciLCJkb3dubG9hZHMiLCJmcm9tQXJyYXkiLCJpc011bHRpZGltZW5zaW9uYWwiLCJjaGFubmVscyIsIm11bHRpQ2hhbm5lbEFycmF5IiwidG9Nb25vIiwiY2hhbk51bSIsInRvQXJyYXkiLCJvdXRwdXRBcnJheSIsIm51bUNoYW5uZWxzIiwiY2hhbm5lbEFycmF5IiwicmV0Iiwic3RhcnRTYW1wbGVzIiwiZW5kU2FtcGxlcyIsInJldEJ1ZmZlciIsInN1YmFycmF5IiwicmV2IiwiZnJvbVVybCIsIm1hdGNoZXMiLCJleHRlbnNpb25zIiwiZXh0ZW5zaW9uIiwiZXh0Iiwic3VwcG9ydHNUeXBlIiwiYmFzZVVybCIsImVuZHNXaXRoIiwiY2FuUGxheVR5cGUiLCJfY3VycmVudFRpbWUiLCJfZHVyYXRpb24iLCJfcmVuZGVyQ2xvY2siLCJhc3luY2hyb25vdXMiLCJ5aWVsZEV2ZXJ5IiwiZHVtbXlDb250ZXh0IiwiX251bWJlck9mQ2hhbm5lbHMiLCJfc2FtcGxlUmF0ZSIsIl9udW1iZXJPZklucHV0cyIsIl9udW1iZXJPZk91dHB1dHMiLCJfbWF4RGVsYXlUaW1lIiwiX2ZlZWRGb3J3YXJkIiwiX2ZlZWRiYWNrIiwiX3JlYWwiLCJfaW1hZyIsIl9jb25zdHJhaW50cyIsIl9zdHJlYW0iLCJfZWxlbWVudCIsIl9hdWRpb0RhdGEiLCJfbmFtZSIsIl9vcHRpb25zIiwiX3VybCIsIl9mbiIsIl9pZCIsIl9pbnRlcnZhbCIsIl92YWwiLCJfZCIsImdsb2JhbENvbnRleHQiLCJUT05FX1NJTEVOQ0VfTE9HR0lORyIsInByaW50U3RyaW5nIiwiQTQiLCJmdG9tZiIsIlRpbWVCYXNlQ2xhc3MiLCJ1bml0cyIsImRlZmF1bHRVbml0cyIsIl91bml0cyIsIl9leHByZXNzaW9ucyIsIl9nZXRFeHByZXNzaW9ucyIsImh6IiwibWV0aG9kIiwiX2ZyZXF1ZW5jeVRvVW5pdHMiLCJyZWdleHAiLCJfdGlja3NUb1VuaXRzIiwiX2JlYXRzVG9Vbml0cyIsIl9nZXRUaW1lU2lnbmF0dXJlIiwibnVtZXJpY1ZhbHVlIiwiX3NlY29uZHNUb1VuaXRzIiwic2FtcGxlcyIsInRyIiwicSIsImZyb21UeXBlIiwiX25vQXJnIiwidHlwZU5hbWUiLCJxdWFudGl0eSIsImV4cHIiLCJtYXRjaGluZyIsImZyZXEiLCJiZWF0cyIsIl9nZXRCcG0iLCJzZWNvbmRzIiwidGlja3MiLCJfZ2V0UFBRIiwiX25vdyIsImJwbSIsInRpbWVTaWduYXR1cmUiLCJQUFEiLCJ0b1NlY29uZHMiLCJ0b1RpY2tzIiwidG9GcmVxdWVuY3kiLCJ0b01pZGkiLCJ0b1NhbXBsZXMiLCJ0b01pbGxpc2Vjb25kcyIsIlRpbWVDbGFzcyIsImNhcHR1cmUiLCJxdWFudGl6ZSIsInF1YW50VG8iLCJuZXh0U3ViZGl2aXNpb24iLCJzdWJkaXYiLCJwZXJjZW50Iiwic3ViZGl2aXNpb24iLCJ0b05vdGF0aW9uIiwidGVzdE5vdGF0aW9ucyIsInBvd2VyIiwiY2xvc2VzdCIsImNsb3Nlc3RTZWNvbmRzIiwibm90YXRpb24iLCJub3RhdGlvblNlY29uZHMiLCJ0b0JhcnNCZWF0c1NpeHRlZW50aHMiLCJxdWFydGVyVGltZSIsInF1YXJ0ZXJzIiwibWVhc3VyZXMiLCJzaXh0ZWVudGhzIiwic2l4dGVlbnRoU3RyaW5nIiwic2V0QTQiLCJtaWRpIiwibXRvZiIsIm5vdGUiLCJwaXRjaCIsIm9jdGF2ZSIsIm5vdGVOdW1iZXIiLCJub3RlVG9TY2FsZUluZGV4IiwidG9Mb3dlckNhc2UiLCJ0cmFuc3Bvc2UiLCJoYXJtb25pemUiLCJpbnRlcnZhbHMiLCJ0b05vdGUiLCJzY2FsZUluZGV4VG9Ob3RlIiwiZnRvbSIsImNiYiIsImN4IiwiZGJiIiwiZWJiIiwiZWIiLCJleCIsImZiYiIsImZiIiwiZngiLCJnYmIiLCJnYiIsImd4IiwiYWJiIiwiYWIiLCJheCIsImJiYiIsImJiIiwiYngiLCJkZWZhdWx0Q29udGV4dCIsInNhbXBsZVRpbWUiLCJibG9ja1RpbWUiLCJfZ2V0UGFydGlhbFByb3BlcnRpZXMiLCJhdHRyaWJ1dGUiLCJtZW1iZXIiLCJpbml0aWFsIiwiX2luaXRpYWwiLCJzZXRTdGF0ZUF0VGltZSIsImdldFZhbHVlQXRUaW1lIiwiZ2V0TGFzdFN0YXRlIiwiZ2V0TmV4dFN0YXRlIiwib3ZlcnJpZGRlbiIsIl9taW5PdXRwdXQiLCJfcGFyYW0iLCJfc3dhcHBhYmxlIiwic3dhcHBhYmxlIiwiX2luaXRpYWxWYWx1ZSIsImNvbnZlcnQiLCJfbWluVmFsdWUiLCJfbWF4VmFsdWUiLCJfdG9UeXBlIiwiX2lzIiwiX2Fzc2VydFJhbmdlIiwiX2Zyb21UeXBlIiwiTE4xMCIsImNvbXB1dGVkVGltZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJiZWZvcmVWYWx1ZSIsInByZXZpb3VzIiwiX2xpbmVhckludGVycG9sYXRlIiwiX2V4cG9uZW50aWFsSW50ZXJwb2xhdGUiLCJwcmV2aW91c1ZhbCIsIl9leHBvbmVudGlhbEFwcHJvYWNoIiwic2V0UmFtcFBvaW50IiwiY3VycmVudFZhbCIsImV4cG9uZW50aWFsUmFtcFRvIiwicmFtcFRpbWUiLCJsaW5lYXJSYW1wVG8iLCJ0YXJnZXRSYW1wVG8iLCJleHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUiLCJzY2FsaW5nIiwic3RhcnRpbmdWYWx1ZSIsInNlZ1RpbWUiLCJ2YWx1ZUF0VGltZSIsInJhbXBUbyIsInN1YmRpdmlzaW9ucyIsInNldFBhcmFtIiwidDAiLCJ2MCIsInYxIiwidDEiLCJfaW50ZXJuYWxDaGFubmVscyIsIl9pc0F1ZGlvTm9kZSIsIl9nZXRJbnRlcm5hbE5vZGVzIiwibm9kZUxpc3QiLCJfc2V0Q2hhbm5lbFByb3BlcnRpZXMiLCJfZ2V0Q2hhbm5lbFByb3BlcnRpZXMiLCJvdXRwdXROdW0iLCJpbnB1dE51bSIsInRvRGVzdGluYXRpb24iLCJ0b01hc3RlciIsInNyY05vZGUiLCJkc3ROb2RlIiwib3V0cHV0TnVtYmVyIiwiaW5wdXROdW1iZXIiLCJub2RlcyIsImZhbiIsImZpcnN0IiwicHJldiIsImN1cnJlbnQiLCJfZ2Fpbk5vZGUiLCJPbmVTaG90U291cmNlIiwiX3N0b3BUaW1lIiwiZ2V0U3RhdGVBdFRpbWUiLCJfZmFkZUluIiwiZmFkZUluIiwiX2ZhZGVPdXQiLCJmYWRlT3V0IiwiX2N1cnZlIiwiX3N0YXJ0R2FpbiIsImZhZGVJblRpbWUiLCJfc3RvcEdhaW4iLCJjYW5jZWxTdG9wIiwiZmFkZU91dFRpbWUiLCJhZGRpdGlvbmFsVGFpbCIsIl9zdG9wU291cmNlIiwiZGlzcG9zZUNhbGxiYWNrIiwicmVxdWVzdElkbGVDYWxsYmFjayIsIl9zb3VyY2UiLCJvdmVycmlkZSIsIl9jb25zdGFudFNvdXJjZSIsInNpZ25hbCIsIlRpY2tQYXJhbSIsIl9tdWx0aXBsaWVyIiwibXVsdGlwbGllciIsImNvbXB1dGVkVmFsdWUiLCJwcmV2RXZlbnQiLCJyYW1wVmFsIiwidGlja3NVbnRpbFRpbWUiLCJfZ2V0VGlja3NVbnRpbEV2ZW50IiwiY29tcHV0ZWRWYWwiLCJzZWdtZW50RHVyIiwidmFsMCIsInZhbDEiLCJvblRoZUxpbmVFdmVudCIsImdldFRpY2tzQXRUaW1lIiwiZ2V0RHVyYXRpb25PZlRpY2tzIiwiY3VycmVudFRpY2siLCJnZXRUaW1lT2ZUaWNrIiwic29sMSIsInRpY2tzVG9UaW1lIiwidGltZVRvVGlja3MiLCJjb21wdXRlZER1cmF0aW9uIiwic3RhcnRUaWNrcyIsIlRpY2tTaWduYWwiLCJUaWNrU291cmNlIiwiX3RpY2tPZmZzZXQiLCJzZXRUaWNrc0F0VGltZSIsInBhdXNlIiwic3RvcEV2ZW50IiwidG1wRXZlbnQiLCJsYXN0U3RhdGUiLCJlbGFwc2VkVGlja3MiLCJwZXJpb2RTdGFydFRpbWUiLCJvZmZzZXRFdmVudCIsImdldFNlY29uZHNBdFRpbWUiLCJlbGFwc2VkU2Vjb25kcyIsImFic29sdXRlVGlja3MiLCJmb3JFYWNoVGlja0JldHdlZW4iLCJsYXN0U3RhdGVFdmVudCIsIm1heFN0YXJ0VGltZSIsIm5leHRUaWNrVGltZSIsIl9sYXN0VXBkYXRlIiwiX2JvdW5kTG9vcCIsIl9sb29wIiwiX3RpY2tTb3VyY2UiLCJfYnVmZmVycyIsIl9sb2FkaW5nQ291bnQiLCJ1cmxzIiwiX2J1ZmZlckxvYWRlZCIsIkRyYXciLCJleHBpcmF0aW9uIiwiYW50aWNpcGF0aW9uIiwiX2JvdW5kRHJhd0xvb3AiLCJfZHJhd0xvb3AiLCJfYW5pbWF0aW9uRnJhbWUiLCJzY2hlZHVsZSIsIkludGVydmFsVGltZWxpbmUiLCJfcm9vdCIsIkludGVydmFsTm9kZSIsImluc2VydCIsInVwZGF0ZUhlaWdodCIsInVwZGF0ZU1heCIsIl9yZWJhbGFuY2UiLCJyZXN1bHRzIiwic2VhcmNoIiwiX3JlbW92ZU5vZGUiLCJfc2V0Um9vdCIsIl9yZXBsYWNlTm9kZUluUGFyZW50IiwicmVwbGFjZW1lbnQiLCJpc0xlZnRDaGlsZCIsInJpZ2h0IiwiZ2V0QmFsYW5jZSIsIl9yb3RhdGVMZWZ0IiwicGl2b3ROb2RlIiwiX3JvdGF0ZVJpZ2h0IiwiYmFsYW5jZSIsImxvdyIsImFsbE5vZGVzIiwidHJhdmVyc2UiLCJzZWFyY2hBZnRlciIsImhpZ2giLCJfbGVmdCIsIl9yaWdodCIsInZvbHVtZSIsIl91bm11dGVkVm9sdW1lIiwibXV0ZSIsIkRlc3RpbmF0aW9uIiwiVGltZWxpbmVWYWx1ZSIsIlRyYW5zcG9ydEV2ZW50IiwiX2V2ZW50SWQiLCJfb25jZSIsImludm9rZSIsIlRyYW5zcG9ydFJlcGVhdEV2ZW50IiwiX2N1cnJlbnRJZCIsIl9uZXh0VGljayIsIl9ib3VuZFJlc3RhcnQiLCJfcmVzdGFydCIsIl9jcmVhdGVFdmVudHMiLCJzY2hlZHVsZU9uY2UiLCJUcmFuc3BvcnQiLCJfbG9vcFN0YXJ0IiwiX2xvb3BFbmQiLCJfc2NoZWR1bGVkRXZlbnRzIiwiX3JlcGVhdGVkRXZlbnRzIiwiX3N5bmNlZFNpZ25hbHMiLCJfc3dpbmdBbW91bnQiLCJfcHBxIiwicHBxIiwiX2Nsb2NrIiwiX3Byb2Nlc3NUaWNrIiwiX2JpbmRDbG9ja0V2ZW50cyIsIl90aW1lU2lnbmF0dXJlIiwiX3N3aW5nVGlja3MiLCJzd2luZyIsInN3aW5nU3ViZGl2aXNpb24iLCJ0aWNrVGltZSIsInByb2dyZXNzIiwiYW1vdW50IiwiX2FkZEV2ZW50Iiwic2NoZWR1bGVSZXBlYXQiLCJldmVudElkIiwidGltZWxpbmUiLCJjb21wdXRlZEFmdGVyIiwib2Zmc2V0VGlja3MiLCJ0b2dnbGUiLCJ0aW1lU2lnIiwic3RhcnRQb3NpdGlvbiIsImVuZFBvc2l0aW9uIiwic2V0TG9vcFBvaW50cyIsInJlbWFpbmluZ1RpY2tzIiwic3luY1NpZ25hbCIsImNvbXB1dGVkRnJlcSIsInJhdGlvU2lnbmFsIiwidW5zeW5jU2lnbmFsIiwic3luY2VkU2lnbmFsIiwiX3N5bmNlZCIsIl9zY2hlZHVsZWQiLCJfc3luY2VkU3RhcnQiLCJfc3luY2VkU3RvcCIsIl92b2x1bWUiLCJvbnN0b3AiLCJfY2xhbXBUb0N1cnJlbnRUaW1lIiwic2NoZWQiLCJfc3RhcnQiLCJyZXN0YXJ0IiwiX3N0b3AiLCJzeW5jIiwic3RhdGVFdmVudCIsInN0YXJ0T2Zmc2V0IiwidW5zeW5jIiwiX3NvdXJjZVN0YXJ0ZWQiLCJfc291cmNlU3RvcHBlZCIsImNvbXB1dGVkT2Zmc2V0IiwibG9vcER1cmF0aW9uIiwiY29tcHV0ZWREdXIiLCJnZW5lcmF0ZVdhdmVmb3JtIiwiX29zY2lsbGF0b3IiLCJfcGFydGlhbHMiLCJwYXJ0aWFscyIsIl9wYXJ0aWFsQ291bnQiLCJwYXJ0aWFsQ291bnQiLCJiYXNlVHlwZSIsInBoYXNlIiwiX3dhdmUiLCJzeW5jRnJlcXVlbmN5IiwidW5zeW5jRnJlcXVlbmN5IiwiX2dldENhY2hlZFBlcmlvZGljV2F2ZSIsIl9wZXJpb2RpY1dhdmVDYWNoZSIsImZpbmQiLCJkZXNjcmlwdGlvbiIsIl9waGFzZSIsImFycmF5QSIsImFycmF5QiIsIm9zY1Byb3BzIiwiaXNCYXNpY1R5cGUiLCJ3YXZlIiwiX2dldFJlYWxJbWFnaW5hcnkiLCJwYXJ0aWFsIiwiZnVsbFBhcnRpYWxzIiwicGVyaW9kaWNXYXZlU2l6ZSIsInBpRmFjdG9yIiwiX2ludmVyc2VGRlQiLCJnZXRJbml0aWFsVmFsdWUiLCJ0d29QaSIsImFzQXJyYXkiLCJfc2hhcGVyIiwibWFwcGluZyIsInNldE1hcCIsIm5vcm1hbGl6ZWQiLCJvdmVyc2FtcGxpbmciLCJfbm9ybSIsIl9tdWx0IiwiQU1Pc2NpbGxhdG9yIiwiX21vZHVsYXRpb25TY2FsZSIsIl9tb2R1bGF0aW9uTm9kZSIsIl9jYXJyaWVyIiwiX21vZHVsYXRvciIsIm1vZHVsYXRpb25UeXBlIiwiaGFybW9uaWNpdHkiLCJtb2R1bGF0aW9uSW5kZXgiLCJQdWxzZU9zY2lsbGF0b3IiLCJfd2lkdGhHYXRlIiwiX3RocmVzaCIsIl90cmlhbmdsZSIsImNhcnJpZXJUeXBlIiwiRmF0T3NjaWxsYXRvciIsIl9vc2NpbGxhdG9ycyIsIl9zcHJlYWQiLCJzcHJlYWQiLCJfZm9yRWFjaCIsIm9zYyIsIlBXTU9zY2lsbGF0b3IiLCJzb3VyY2VUeXBlIiwiX3NjYWxlIiwiX3B1bHNlIiwibW9kdWxhdGlvbkZyZXF1ZW5jeSIsIk9tbmlPc2NpbGxhdG9yU291cmNlTWFwIiwiYW0iLCJmYXQiLCJmbSIsInB1bHNlIiwicHdtIiwicHJlZml4IiwiX3NvdXJjZVR5cGUiLCJzdWJzdHIiLCJfY3JlYXRlTmV3T3NjaWxsYXRvciIsIl9nZXRPc2NUeXBlIiwib3NjVHlwZSIsIk9zY0NvbnN0cnVjdG9yIiwib2xkT3NjIiwic1R5cGUiLCJtVHlwZSIsInZhbHVlTWFwIiwicHJvcGVydHlLZXkiLCJuZXdWYWx1ZSIsInRpbWVSYW5nZSIsIl9hY3RpdmVTb3VyY2VzIiwiX29ubG9hZCIsImF1dG9zdGFydCIsIl9vblNvdXJjZUVuZCIsIm9yaWdEdXJhdGlvbiIsImltcGxpY2l0RW5kIiwic2VlayIsInJhdGUiLCJfc2lnIiwiZGVjYXkiLCJzdXN0YWluIiwiYXR0YWNrQ3VydmUiLCJyZWxlYXNlQ3VydmUiLCJkZWNheUN1cnZlIiwiX2dldEN1cnZlIiwiY3VydmVOYW1lIiwiRW52ZWxvcGVDdXJ2ZXMiLCJfc2V0Q3VydmUiLCJjdXJ2ZURlZiIsIl9hdHRhY2tDdXJ2ZSIsIl9yZWxlYXNlQ3VydmUiLCJfZGVjYXlDdXJ2ZSIsInRyaWdnZXJBdHRhY2siLCJjdXJyZW50VmFsdWUiLCJkZWNheVZhbHVlIiwiZGVjYXlTdGFydCIsInRyaWdnZXJSZWxlYXNlIiwidHJpZ2dlckF0dGFja1JlbGVhc2UiLCJhdHRhY2tQb3J0aW9uIiwiZW52ZWxvcGVEdXJhdGlvbiIsInN1c3RhaW5UaW1lIiwidG90YWxEdXJhdGlvbiIsImN1cnZlTGVuIiwiY29zaW5lQ3VydmUiLCJyaXBwbGVDdXJ2ZSIsInNpbmVXYXZlIiwic3RhaXJzQ3VydmUiLCJzaW5lQ3VydmUiLCJib3VuY2VDdXJ2ZSIsImludmVydEN1cnZlIiwib3V0IiwiYm91bmNlIiwiSW4iLCJPdXQiLCJjb3NpbmUiLCJleHBvbmVudGlhbCIsImxpbmVhciIsInJpcHBsZSIsInNpbmUiLCJfb3JpZ2luYWxfdHJpZ2dlckF0dGFjayIsIl9vcmlnaW5hbF90cmlnZ2VyUmVsZWFzZSIsIl9zeW5jU3RhdGUiLCJfc3luY01ldGhvZCIsImNoYW5nZWQiLCJ0aW1lUG9zaXRpb24iLCJvcmlnaW5hbE1ldGhvZCIsInBvcnRhbWVudG8iLCJvbnNpbGVuY2UiLCJfdHJpZ2dlckVudmVsb3BlQXR0YWNrIiwic2V0Tm90ZSIsIl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlIiwiY29tcHV0ZWRGcmVxdWVuY3kiLCJnZXRMZXZlbEF0VGltZSIsInBvcnRUaW1lIiwiZW52ZWxvcGUiLCJjb21wdXRlZEF0dGFjayIsImNvbXB1dGVkRGVjYXkiLCJNZW1icmFuZVN5bnRoIiwicGl0Y2hEZWNheSIsIm9jdGF2ZXMiLCJoZXJ0eiIsIm1heE5vdGUiLCJ3b3JrbGV0Q29udGV4dCIsImFkZFRvV29ya2xldCIsImNsYXNzT3JGdW5jdGlvbiIsInJlZ2lzdGVyUHJvY2Vzc29yIiwiY2xhc3NEZXNjIiwicHJvY2Vzc29yIiwiU2FtcGxlciIsInVybE1hcCIsIm1pZCIsIl9maW5kQ2xvc2VzdCIsIm5vdGVzIiwibWlkaUZsb2F0IiwicmVtYWluZGVyIiwiY2xvc2VzdE5vdGUiLCJyZWxlYXNlQWxsIiwiX3Bhbm5lciIsIlNvbG8iLCJfYWxsU29sb3MiLCJzb2xvIiwiX2lzU29sb2VkIiwiX2FkZFNvbG8iLCJfcmVtb3ZlU29sbyIsIl91cGRhdGVTb2xvIiwibXV0ZWQiLCJfc29sb2VkIiwiX25vU29sb3MiLCJQYW5Wb2wiLCJDaGFubmVsIiwiX3NvbG8iLCJfcGFuVm9sIiwiX2dldEJ1cyIsImJ1c2VzIiwic2VuZCIsImJ1cyIsInNlbmRLbm9iIiwicmVjZWl2ZSIsIkxpc3RlbmVyIiwic2FtcGxlciIsImluaXRpYXRlZCIsImNyZWF0ZVdhbGwiLCJjb2xvciIsIndhbGwiLCJoYW5kbGVDb2xsaXNpb24iLCJ3YWxsTGFiZWwiLCJib2R5TGFiZWwiLCJsYWJlbEZyb21Db2xsaXNpb25FdmVudCIsInBsYXlTYW1wbGUiLCJzZXRFbGVtZW50SW5uZXJIdG1sIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJyZW1vdmVFbGVtZW50IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwidXBkYXRlQmFsbFBvc2l0aW9uIiwic2V0R3Jhdml0eSIsInN0YXJ0QnV0dG9uIiwib25jbGljayIsIkRldmljZU1vdGlvbkV2ZW50IiwicmVxdWVzdFBlcm1pc3Npb24iLCJsb2FkU291bmQiLCJiYWxsIiwid2FsbFRoaWNrbmVzcyIsImxvYWRQaHlzaWNzIl0sInNvdXJjZVJvb3QiOiIifQ==